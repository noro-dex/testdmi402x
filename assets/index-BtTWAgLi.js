var nne=Object.defineProperty;var KD=n=>{throw TypeError(n)};var rne=(n,e,t)=>e in n?nne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>rne(n,typeof e!="symbol"?e+"":e,t),Zx=(n,e,t)=>e.has(n)||KD("Cannot "+t);var Z=(n,e,t)=>(Zx(n,e,"read from private field"),t?t.call(n):e.get(n)),Ae=(n,e,t)=>e.has(n)?KD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ye=(n,e,t,r)=>(Zx(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Rt=(n,e,t)=>(Zx(n,e,"access private method"),t);var $g=(n,e,t,r)=>({set _(i){ye(n,e,i,t)},get _(){return Z(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function ZP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ine(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var qU={exports:{}},rb={},UU={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.element"),sne=Symbol.for("react.portal"),one=Symbol.for("react.fragment"),ane=Symbol.for("react.strict_mode"),lne=Symbol.for("react.profiler"),cne=Symbol.for("react.provider"),une=Symbol.for("react.context"),hne=Symbol.for("react.forward_ref"),dne=Symbol.for("react.suspense"),fne=Symbol.for("react.memo"),pne=Symbol.for("react.lazy"),XD=Symbol.iterator;function mne(n){return n===null||typeof n!="object"?null:(n=XD&&n[XD]||n["@@iterator"],typeof n=="function"?n:null)}var HU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WU=Object.assign,YU={};function ad(n,e,t){this.props=n,this.context=e,this.refs=YU,this.updater=t||HU}ad.prototype.isReactComponent={};ad.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ad.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GU(){}GU.prototype=ad.prototype;function eI(n,e,t){this.props=n,this.context=e,this.refs=YU,this.updater=t||HU}var tI=eI.prototype=new GU;tI.constructor=eI;WU(tI,ad.prototype);tI.isPureReactComponent=!0;var QD=Array.isArray,VU=Object.prototype.hasOwnProperty,nI={current:null},KU={key:!0,ref:!0,__self:!0,__source:!0};function XU(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VU.call(e,r)&&!KU.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Am,type:n,key:s,ref:o,props:i,_owner:nI.current}}function gne(n,e){return{$$typeof:Am,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function rI(n){return typeof n=="object"&&n!==null&&n.$$typeof===Am}function vne(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var JD=/\/+/g;function ew(n,e){return typeof n=="object"&&n!==null&&n.key!=null?vne(""+n.key):e.toString(36)}function sv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Am:case sne:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+ew(o,0):r,QD(i)?(t="",n!=null&&(t=n.replace(JD,"$&/")+"/"),sv(i,e,t,"",function(c){return c})):i!=null&&(rI(i)&&(i=gne(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(JD,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",QD(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+ew(s,a);o+=sv(s,e,t,l,i)}else if(l=mne(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+ew(s,a++),o+=sv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(n,e,t){if(n==null)return n;var r=[],i=0;return sv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function yne(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Lr={current:null},ov={transition:null},bne={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:ov,ReactCurrentOwner:nI};function QU(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:jg,forEach:function(n,e,t){jg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return jg(n,function(){e++}),e},toArray:function(n){return jg(n,function(e){return e})||[]},only:function(n){if(!rI(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vt.Component=ad;vt.Fragment=one;vt.Profiler=lne;vt.PureComponent=eI;vt.StrictMode=ane;vt.Suspense=dne;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bne;vt.act=QU;vt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=WU({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nI.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)VU.call(e,l)&&!KU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Am,type:n.type,key:i,ref:s,props:r,_owner:o}};vt.createContext=function(n){return n={$$typeof:une,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:cne,_context:n},n.Consumer=n};vt.createElement=XU;vt.createFactory=function(n){var e=XU.bind(null,n);return e.type=n,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(n){return{$$typeof:hne,render:n}};vt.isValidElement=rI;vt.lazy=function(n){return{$$typeof:pne,_payload:{_status:-1,_result:n},_init:yne}};vt.memo=function(n,e){return{$$typeof:fne,type:n,compare:e===void 0?null:e}};vt.startTransition=function(n){var e=ov.transition;ov.transition={};try{n()}finally{ov.transition=e}};vt.unstable_act=QU;vt.useCallback=function(n,e){return Lr.current.useCallback(n,e)};vt.useContext=function(n){return Lr.current.useContext(n)};vt.useDebugValue=function(){};vt.useDeferredValue=function(n){return Lr.current.useDeferredValue(n)};vt.useEffect=function(n,e){return Lr.current.useEffect(n,e)};vt.useId=function(){return Lr.current.useId()};vt.useImperativeHandle=function(n,e,t){return Lr.current.useImperativeHandle(n,e,t)};vt.useInsertionEffect=function(n,e){return Lr.current.useInsertionEffect(n,e)};vt.useLayoutEffect=function(n,e){return Lr.current.useLayoutEffect(n,e)};vt.useMemo=function(n,e){return Lr.current.useMemo(n,e)};vt.useReducer=function(n,e,t){return Lr.current.useReducer(n,e,t)};vt.useRef=function(n){return Lr.current.useRef(n)};vt.useState=function(n){return Lr.current.useState(n)};vt.useSyncExternalStore=function(n,e,t){return Lr.current.useSyncExternalStore(n,e,t)};vt.useTransition=function(){return Lr.current.useTransition()};vt.version="18.3.1";UU.exports=vt;var P=UU.exports;const ge=ZP(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xne=P,wne=Symbol.for("react.element"),_ne=Symbol.for("react.fragment"),Sne=Object.prototype.hasOwnProperty,kne=xne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cne={key:!0,ref:!0,__self:!0,__source:!0};function JU(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sne.call(e,r)&&!Cne.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wne,type:n,key:s,ref:o,props:i,_owner:kne.current}}rb.Fragment=_ne;rb.jsx=JU;rb.jsxs=JU;qU.exports=rb;var M=qU.exports,kT={},ZU={exports:{}},Si={},eH={exports:{}},tH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,H){var V=j.length;j.push(H);e:for(;0<V;){var K=V-1>>>1,X=j[K];if(0<i(X,H))j[K]=H,j[V]=X,V=K;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],V=j.pop();if(V!==H){j[0]=V;e:for(var K=0,X=j.length,ee=X>>>1;K<ee;){var q=2*(K+1)-1,Y=j[q],U=q+1,ie=j[U];if(0>i(Y,V))U<X&&0>i(ie,Y)?(j[K]=ie,j[U]=V,K=U):(j[K]=Y,j[q]=V,K=q);else if(U<X&&0>i(ie,V))j[K]=ie,j[U]=V,K=U;else break e}}return H}function i(j,H){var V=j.sortIndex-H.sortIndex;return V!==0?V:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var H=t(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(c)}}function S(j){if(g=!1,w(j),!m)if(t(l)!==null)m=!0,F(_);else{var H=t(c);H!==null&&B(S,H.startTime-j)}}function _(j,H){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var V=d;try{for(w(H),h=t(l);h!==null&&(!(h.expirationTime>H)||j&&!D());){var K=h.callback;if(typeof K=="function"){h.callback=null,d=h.priorityLevel;var X=K(h.expirationTime<=H);H=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&r(l),w(H)}else r(l);h=t(l)}if(h!==null)var ee=!0;else{var q=t(c);q!==null&&B(S,q.startTime-H),ee=!1}return ee}finally{h=null,d=V,f=!1}}var k=!1,C=null,E=-1,O=5,R=-1;function D(){return!(n.unstable_now()-R<O)}function N(){if(C!==null){var j=n.unstable_now();R=j;var H=!0;try{H=C(!0,j)}finally{H?L():(k=!1,C=null)}}else k=!1}var L;if(typeof b=="function")L=function(){b(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=N,L=function(){$.postMessage(null)}}else L=function(){v(N,0)};function F(j){C=j,k||(k=!0,L())}function B(j,H){E=v(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,F(_))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var V=d;d=H;try{return j()}finally{d=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=d;d=j;try{return H()}finally{d=V}},n.unstable_scheduleCallback=function(j,H,V){var K=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,j={id:u++,callback:H,priorityLevel:j,startTime:V,expirationTime:X,sortIndex:-1},V>K?(j.sortIndex=V,e(c,j),t(l)===null&&j===t(c)&&(g?(y(E),E=-1):g=!0,B(S,V-K))):(j.sortIndex=X,e(l,j),m||f||(m=!0,F(_))),j},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(j){var H=d;return function(){var V=d;d=H;try{return j.apply(this,arguments)}finally{d=V}}}})(tH);eH.exports=tH;var Ene=eH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tne=P,xi=Ene;function we(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nH=new Set,gp={};function Rc(n,e){Ch(n,e),Ch(n+"Capture",e)}function Ch(n,e){for(gp[n]=e,n=0;n<e.length;n++)nH.add(e[n])}var qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CT=Object.prototype.hasOwnProperty,Mne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZD={},eA={};function Pne(n){return CT.call(eA,n)?!0:CT.call(ZD,n)?!1:Mne.test(n)?eA[n]=!0:(ZD[n]=!0,!1)}function Ine(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function One(n,e,t,r){if(e===null||typeof e>"u"||Ine(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){dr[n]=new Fr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];dr[e]=new Fr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){dr[n]=new Fr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){dr[n]=new Fr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){dr[n]=new Fr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){dr[n]=new Fr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){dr[n]=new Fr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){dr[n]=new Fr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){dr[n]=new Fr(n,5,!1,n.toLowerCase(),null,!1,!1)});var iI=/[\-:]([a-z])/g;function sI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(iI,sI);dr[e]=new Fr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(iI,sI);dr[e]=new Fr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(iI,sI);dr[e]=new Fr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){dr[n]=new Fr(n,1,!1,n.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){dr[n]=new Fr(n,1,!1,n.toLowerCase(),null,!0,!0)});function oI(n,e,t,r){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(One(e,t,i,r)&&(t=null),r||i===null?Pne(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Vo=Tne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bg=Symbol.for("react.element"),vu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),aI=Symbol.for("react.strict_mode"),ET=Symbol.for("react.profiler"),rH=Symbol.for("react.provider"),iH=Symbol.for("react.context"),lI=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),MT=Symbol.for("react.suspense_list"),cI=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),sH=Symbol.for("react.offscreen"),tA=Symbol.iterator;function qd(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var gn=Object.assign,tw;function kf(n){if(tw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);tw=e&&e[1]||""}return`
`+tw+n}var nw=!1;function rw(n,e){if(!n||nw)return"";nw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{nw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?kf(n):""}function Rne(n){switch(n.tag){case 5:return kf(n.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return n=rw(n.type,!1),n;case 11:return n=rw(n.type.render,!1),n;case 1:return n=rw(n.type,!0),n;default:return""}}function PT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yu:return"Fragment";case vu:return"Portal";case ET:return"Profiler";case aI:return"StrictMode";case TT:return"Suspense";case MT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case iH:return(n.displayName||"Context")+".Consumer";case rH:return(n._context.displayName||"Context")+".Provider";case lI:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case cI:return e=n.displayName||null,e!==null?e:PT(n.type)||"Memo";case va:e=n._payload,n=n._init;try{return PT(n(e))}catch{}}return null}function Dne(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PT(e);case 8:return e===aI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ane(n){var e=oH(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zg(n){n._valueTracker||(n._valueTracker=Ane(n))}function aH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=oH(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Lv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function IT(n,e){var t=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function nA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Qa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lH(n,e){e=e.checked,e!=null&&oI(n,"checked",e,!1)}function OT(n,e){lH(n,e);var t=Qa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?RT(n,e.type,t):e.hasOwnProperty("defaultValue")&&RT(n,e.type,Qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function rA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function RT(n,e,t){(e!=="number"||Lv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Cf=Array.isArray;function ju(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Qa(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function DT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(we(92));if(Cf(t)){if(1<t.length)throw Error(we(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Qa(t)}}function cH(n,e){var t=Qa(e.value),r=Qa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function sA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function uH(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AT(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?uH(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qg,hH=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function vp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nne=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(n){Nne.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Uf[e]=Uf[n]})});function dH(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Uf.hasOwnProperty(n)&&Uf[n]?(""+e).trim():e+"px"}function fH(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=dH(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Lne=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NT(n,e){if(e){if(Lne[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function LT(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=null;function uI(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $T=null,Bu=null,zu=null;function oA(n){if(n=Fm(n)){if(typeof $T!="function")throw Error(we(280));var e=n.stateNode;e&&(e=lb(e),$T(n.stateNode,n.type,e))}}function pH(n){Bu?zu?zu.push(n):zu=[n]:Bu=n}function mH(){if(Bu){var n=Bu,e=zu;if(zu=Bu=null,oA(n),e)for(n=0;n<e.length;n++)oA(e[n])}}function gH(n,e){return n(e)}function vH(){}var iw=!1;function yH(n,e,t){if(iw)return n(e,t);iw=!0;try{return gH(n,e,t)}finally{iw=!1,(Bu!==null||zu!==null)&&(vH(),mH())}}function yp(n,e){var t=n.stateNode;if(t===null)return null;var r=lb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(we(231,e,typeof t));return t}var jT=!1;if(qo)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){jT=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{jT=!1}function Fne(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Hf=!1,Fv=null,$v=!1,BT=null,$ne={onError:function(n){Hf=!0,Fv=n}};function jne(n,e,t,r,i,s,o,a,l){Hf=!1,Fv=null,Fne.apply($ne,arguments)}function Bne(n,e,t,r,i,s,o,a,l){if(jne.apply(this,arguments),Hf){if(Hf){var c=Fv;Hf=!1,Fv=null}else throw Error(we(198));$v||($v=!0,BT=c)}}function Dc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bH(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function aA(n){if(Dc(n)!==n)throw Error(we(188))}function zne(n){var e=n.alternate;if(!e){if(e=Dc(n),e===null)throw Error(we(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return aA(i),n;if(s===r)return aA(i),e;s=s.sibling}throw Error(we(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(we(189))}}if(t.alternate!==r)throw Error(we(190))}if(t.tag!==3)throw Error(we(188));return t.stateNode.current===t?n:e}function xH(n){return n=zne(n),n!==null?wH(n):null}function wH(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=wH(n);if(e!==null)return e;n=n.sibling}return null}var _H=xi.unstable_scheduleCallback,lA=xi.unstable_cancelCallback,qne=xi.unstable_shouldYield,Une=xi.unstable_requestPaint,Pn=xi.unstable_now,Hne=xi.unstable_getCurrentPriorityLevel,hI=xi.unstable_ImmediatePriority,SH=xi.unstable_UserBlockingPriority,jv=xi.unstable_NormalPriority,Wne=xi.unstable_LowPriority,kH=xi.unstable_IdlePriority,ib=null,Vs=null;function Yne(n){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(ib,n,void 0,(n.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:Kne,Gne=Math.log,Vne=Math.LN2;function Kne(n){return n>>>=0,n===0?32:31-(Gne(n)/Vne|0)|0}var Ug=64,Hg=4194304;function Ef(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ef(a):(s&=o,s!==0&&(r=Ef(s)))}else o=t&~i,o!==0?r=Ef(o):s!==0&&(r=Ef(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ms(e),i=1<<t,r|=n[t],e&=~i;return r}function Xne(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qne(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ms(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Xne(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function zT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function CH(){var n=Ug;return Ug<<=1,!(Ug&4194240)&&(Ug=64),n}function sw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Nm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ms(e),n[e]=t}function Jne(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ms(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function dI(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ms(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ft=0;function EH(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var TH,fI,MH,PH,IH,qT=!1,Wg=[],$a=null,ja=null,Ba=null,bp=new Map,xp=new Map,xa=[],Zne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(n,e){switch(n){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(e.pointerId)}}function Hd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fm(e),e!==null&&fI(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ere(n,e,t,r,i){switch(e){case"focusin":return $a=Hd($a,n,e,t,r,i),!0;case"dragenter":return ja=Hd(ja,n,e,t,r,i),!0;case"mouseover":return Ba=Hd(Ba,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return bp.set(s,Hd(bp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xp.set(s,Hd(xp.get(s)||null,n,e,t,r,i)),!0}return!1}function OH(n){var e=Rl(n.target);if(e!==null){var t=Dc(e);if(t!==null){if(e=t.tag,e===13){if(e=bH(t),e!==null){n.blockedOn=e,IH(n.priority,function(){MH(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function av(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=UT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);FT=r,t.target.dispatchEvent(r),FT=null}else return e=Fm(t),e!==null&&fI(e),n.blockedOn=t,!1;e.shift()}return!0}function uA(n,e,t){av(n)&&t.delete(e)}function tre(){qT=!1,$a!==null&&av($a)&&($a=null),ja!==null&&av(ja)&&(ja=null),Ba!==null&&av(Ba)&&(Ba=null),bp.forEach(uA),xp.forEach(uA)}function Wd(n,e){n.blockedOn===e&&(n.blockedOn=null,qT||(qT=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,tre)))}function wp(n){function e(i){return Wd(i,n)}if(0<Wg.length){Wd(Wg[0],n);for(var t=1;t<Wg.length;t++){var r=Wg[t];r.blockedOn===n&&(r.blockedOn=null)}}for($a!==null&&Wd($a,n),ja!==null&&Wd(ja,n),Ba!==null&&Wd(Ba,n),bp.forEach(e),xp.forEach(e),t=0;t<xa.length;t++)r=xa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xa.length&&(t=xa[0],t.blockedOn===null);)OH(t),t.blockedOn===null&&xa.shift()}var qu=Vo.ReactCurrentBatchConfig,zv=!0;function nre(n,e,t,r){var i=Ft,s=qu.transition;qu.transition=null;try{Ft=1,pI(n,e,t,r)}finally{Ft=i,qu.transition=s}}function rre(n,e,t,r){var i=Ft,s=qu.transition;qu.transition=null;try{Ft=4,pI(n,e,t,r)}finally{Ft=i,qu.transition=s}}function pI(n,e,t,r){if(zv){var i=UT(n,e,t,r);if(i===null)mw(n,e,r,qv,t),cA(n,r);else if(ere(i,n,e,t,r))r.stopPropagation();else if(cA(n,r),e&4&&-1<Zne.indexOf(n)){for(;i!==null;){var s=Fm(i);if(s!==null&&TH(s),s=UT(n,e,t,r),s===null&&mw(n,e,r,qv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else mw(n,e,r,null,t)}}var qv=null;function UT(n,e,t,r){if(qv=null,n=uI(r),n=Rl(n),n!==null)if(e=Dc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bH(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return qv=n,null}function RH(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hne()){case hI:return 1;case SH:return 4;case jv:case Wne:return 16;case kH:return 536870912;default:return 16}default:return 16}}var Ra=null,mI=null,lv=null;function DH(){if(lv)return lv;var n,e=mI,t=e.length,r,i="value"in Ra?Ra.value:Ra.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return lv=i.slice(n,1<r?1-r:void 0)}function cv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Yg(){return!0}function hA(){return!1}function ki(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yg:hA,this.isPropagationStopped=hA,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),e}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gI=ki(ld),Lm=gn({},ld,{view:0,detail:0}),ire=ki(Lm),ow,aw,Yd,sb=gn({},Lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vI,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yd&&(Yd&&n.type==="mousemove"?(ow=n.screenX-Yd.screenX,aw=n.screenY-Yd.screenY):aw=ow=0,Yd=n),ow)},movementY:function(n){return"movementY"in n?n.movementY:aw}}),dA=ki(sb),sre=gn({},sb,{dataTransfer:0}),ore=ki(sre),are=gn({},Lm,{relatedTarget:0}),lw=ki(are),lre=gn({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),cre=ki(lre),ure=gn({},ld,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hre=ki(ure),dre=gn({},ld,{data:0}),fA=ki(dre),fre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gre(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mre[n])?!!e[n]:!1}function vI(){return gre}var vre=gn({},Lm,{key:function(n){if(n.key){var e=fre[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=cv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pre[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vI,charCode:function(n){return n.type==="keypress"?cv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yre=ki(vre),bre=gn({},sb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=ki(bre),xre=gn({},Lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vI}),wre=ki(xre),_re=gn({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sre=ki(_re),kre=gn({},sb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cre=ki(kre),Ere=[9,13,27,32],yI=qo&&"CompositionEvent"in window,Wf=null;qo&&"documentMode"in document&&(Wf=document.documentMode);var Tre=qo&&"TextEvent"in window&&!Wf,AH=qo&&(!yI||Wf&&8<Wf&&11>=Wf),mA=" ",gA=!1;function NH(n,e){switch(n){case"keyup":return Ere.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LH(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bu=!1;function Mre(n,e){switch(n){case"compositionend":return LH(e);case"keypress":return e.which!==32?null:(gA=!0,mA);case"textInput":return n=e.data,n===mA&&gA?null:n;default:return null}}function Pre(n,e){if(bu)return n==="compositionend"||!yI&&NH(n,e)?(n=DH(),lv=mI=Ra=null,bu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AH&&e.locale!=="ko"?null:e.data;default:return null}}var Ire={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Ire[n.type]:e==="textarea"}function FH(n,e,t,r){pH(r),e=Uv(e,"onChange"),0<e.length&&(t=new gI("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Yf=null,_p=null;function Ore(n){VH(n,0)}function ob(n){var e=_u(n);if(aH(e))return n}function Rre(n,e){if(n==="change")return e}var $H=!1;if(qo){var cw;if(qo){var uw="oninput"in document;if(!uw){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),uw=typeof yA.oninput=="function"}cw=uw}else cw=!1;$H=cw&&(!document.documentMode||9<document.documentMode)}function bA(){Yf&&(Yf.detachEvent("onpropertychange",jH),_p=Yf=null)}function jH(n){if(n.propertyName==="value"&&ob(_p)){var e=[];FH(e,_p,n,uI(n)),yH(Ore,e)}}function Dre(n,e,t){n==="focusin"?(bA(),Yf=e,_p=t,Yf.attachEvent("onpropertychange",jH)):n==="focusout"&&bA()}function Are(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ob(_p)}function Nre(n,e){if(n==="click")return ob(e)}function Lre(n,e){if(n==="input"||n==="change")return ob(e)}function Fre(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ys=typeof Object.is=="function"?Object.is:Fre;function Sp(n,e){if(ys(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!CT.call(e,i)||!ys(n[i],e[i]))return!1}return!0}function xA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wA(n,e){var t=xA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=xA(t)}}function BH(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?BH(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function zH(){for(var n=window,e=Lv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Lv(n.document)}return e}function bI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function $re(n){var e=zH(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&BH(t.ownerDocument.documentElement,t)){if(r!==null&&bI(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=wA(t,s);var o=wA(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jre=qo&&"documentMode"in document&&11>=document.documentMode,xu=null,HT=null,Gf=null,WT=!1;function _A(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;WT||xu==null||xu!==Lv(r)||(r=xu,"selectionStart"in r&&bI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gf&&Sp(Gf,r)||(Gf=r,r=Uv(HT,"onSelect"),0<r.length&&(e=new gI("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=xu)))}function Gg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var wu={animationend:Gg("Animation","AnimationEnd"),animationiteration:Gg("Animation","AnimationIteration"),animationstart:Gg("Animation","AnimationStart"),transitionend:Gg("Transition","TransitionEnd")},hw={},qH={};qo&&(qH=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function ab(n){if(hw[n])return hw[n];if(!wu[n])return n;var e=wu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in qH)return hw[n]=e[t];return n}var UH=ab("animationend"),HH=ab("animationiteration"),WH=ab("animationstart"),YH=ab("transitionend"),GH=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(n,e){GH.set(n,e),Rc(e,[n])}for(var dw=0;dw<SA.length;dw++){var fw=SA[dw],Bre=fw.toLowerCase(),zre=fw[0].toUpperCase()+fw.slice(1);rl(Bre,"on"+zre)}rl(UH,"onAnimationEnd");rl(HH,"onAnimationIteration");rl(WH,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(YH,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qre=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function kA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Bne(r,e,void 0,n),n.currentTarget=null}function VH(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kA(i,a,c),s=l}}}if($v)throw n=BT,$v=!1,BT=null,n}function Zt(n,e){var t=e[XT];t===void 0&&(t=e[XT]=new Set);var r=n+"__bubble";t.has(r)||(KH(e,n,2,!1),t.add(r))}function pw(n,e,t){var r=0;e&&(r|=4),KH(t,n,r,e)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function kp(n){if(!n[Vg]){n[Vg]=!0,nH.forEach(function(t){t!=="selectionchange"&&(qre.has(t)||pw(t,!1,n),pw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Vg]||(e[Vg]=!0,pw("selectionchange",!1,e))}}function KH(n,e,t,r){switch(RH(e)){case 1:var i=nre;break;case 4:i=rre;break;default:i=pI}t=i.bind(null,e,t,n),i=void 0,!jT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function mw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yH(function(){var c=s,u=uI(t),h=[];e:{var d=GH.get(n);if(d!==void 0){var f=gI,m=n;switch(n){case"keypress":if(cv(t)===0)break e;case"keydown":case"keyup":f=yre;break;case"focusin":m="focus",f=lw;break;case"focusout":m="blur",f=lw;break;case"beforeblur":case"afterblur":f=lw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=dA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ore;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wre;break;case UH:case HH:case WH:f=cre;break;case YH:f=Sre;break;case"scroll":f=ire;break;case"wheel":f=Cre;break;case"copy":case"cut":case"paste":f=hre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=pA}var g=(e&4)!==0,v=!g&&n==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=yp(b,y),S!=null&&g.push(Cp(b,S,w)))),v)break;b=b.return}0<g.length&&(d=new f(d,m,null,t,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==FT&&(m=t.relatedTarget||t.fromElement)&&(Rl(m)||m[Uo]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=t.relatedTarget||t.toElement,f=c,m=m?Rl(m):null,m!==null&&(v=Dc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=dA,S="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=pA,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?d:_u(f),w=m==null?d:_u(m),d=new g(S,b+"leave",f,t,u),d.target=v,d.relatedTarget=w,S=null,Rl(u)===c&&(g=new g(y,b+"enter",m,t,u),g.target=w,g.relatedTarget=v,S=g),v=S,f&&m)t:{for(g=f,y=m,b=0,w=g;w;w=ru(w))b++;for(w=0,S=y;S;S=ru(S))w++;for(;0<b-w;)g=ru(g),b--;for(;0<w-b;)y=ru(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=ru(g),y=ru(y)}g=null}else g=null;f!==null&&CA(h,d,f,g,!1),m!==null&&v!==null&&CA(h,v,m,g,!0)}}e:{if(d=c?_u(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var _=Rre;else if(vA(d))if($H)_=Lre;else{_=Are;var k=Dre}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=Nre);if(_&&(_=_(n,c))){FH(h,_,t,u);break e}k&&k(n,d,c),n==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&RT(d,"number",d.value)}switch(k=c?_u(c):window,n){case"focusin":(vA(k)||k.contentEditable==="true")&&(xu=k,HT=c,Gf=null);break;case"focusout":Gf=HT=xu=null;break;case"mousedown":WT=!0;break;case"contextmenu":case"mouseup":case"dragend":WT=!1,_A(h,t,u);break;case"selectionchange":if(jre)break;case"keydown":case"keyup":_A(h,t,u)}var C;if(yI)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else bu?NH(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(AH&&t.locale!=="ko"&&(bu||E!=="onCompositionStart"?E==="onCompositionEnd"&&bu&&(C=DH()):(Ra=u,mI="value"in Ra?Ra.value:Ra.textContent,bu=!0)),k=Uv(c,E),0<k.length&&(E=new fA(E,n,null,t,u),h.push({event:E,listeners:k}),C?E.data=C:(C=LH(t),C!==null&&(E.data=C)))),(C=Tre?Mre(n,t):Pre(n,t))&&(c=Uv(c,"onBeforeInput"),0<c.length&&(u=new fA("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=C))}VH(h,e)})}function Cp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Uv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yp(n,t),s!=null&&r.unshift(Cp(n,s,i)),s=yp(n,e),s!=null&&r.push(Cp(n,s,i))),n=n.return}return r}function ru(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function CA(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=yp(t,s),l!=null&&o.unshift(Cp(t,l,a))):i||(l=yp(t,s),l!=null&&o.push(Cp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Ure=/\r\n?/g,Hre=/\u0000|\uFFFD/g;function EA(n){return(typeof n=="string"?n:""+n).replace(Ure,`
`).replace(Hre,"")}function Kg(n,e,t){if(e=EA(e),EA(n)!==e&&t)throw Error(we(425))}function Hv(){}var YT=null,GT=null;function VT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KT=typeof setTimeout=="function"?setTimeout:void 0,Wre=typeof clearTimeout=="function"?clearTimeout:void 0,TA=typeof Promise=="function"?Promise:void 0,Yre=typeof queueMicrotask=="function"?queueMicrotask:typeof TA<"u"?function(n){return TA.resolve(null).then(n).catch(Gre)}:KT;function Gre(n){setTimeout(function(){throw n})}function gw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),wp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);wp(e)}function za(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function MA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var cd=Math.random().toString(36).slice(2),Hs="__reactFiber$"+cd,Ep="__reactProps$"+cd,Uo="__reactContainer$"+cd,XT="__reactEvents$"+cd,Vre="__reactListeners$"+cd,Kre="__reactHandles$"+cd;function Rl(n){var e=n[Hs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Uo]||t[Hs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=MA(n);n!==null;){if(t=n[Hs])return t;n=MA(n)}return e}n=t,t=n.parentNode}return null}function Fm(n){return n=n[Hs]||n[Uo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _u(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(we(33))}function lb(n){return n[Ep]||null}var QT=[],Su=-1;function il(n){return{current:n}}function tn(n){0>Su||(n.current=QT[Su],QT[Su]=null,Su--)}function Xt(n,e){Su++,QT[Su]=n.current,n.current=e}var Ja={},yr=il(Ja),Vr=il(!1),hc=Ja;function Eh(n,e){var t=n.type.contextTypes;if(!t)return Ja;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(n){return n=n.childContextTypes,n!=null}function Wv(){tn(Vr),tn(yr)}function PA(n,e,t){if(yr.current!==Ja)throw Error(we(168));Xt(yr,e),Xt(Vr,t)}function XH(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(we(108,Dne(n)||"Unknown",i));return gn({},t,r)}function Yv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ja,hc=yr.current,Xt(yr,n),Xt(Vr,Vr.current),!0}function IA(n,e,t){var r=n.stateNode;if(!r)throw Error(we(169));t?(n=XH(n,e,hc),r.__reactInternalMemoizedMergedChildContext=n,tn(Vr),tn(yr),Xt(yr,n)):tn(Vr),Xt(Vr,t)}var So=null,cb=!1,vw=!1;function QH(n){So===null?So=[n]:So.push(n)}function Xre(n){cb=!0,QH(n)}function sl(){if(!vw&&So!==null){vw=!0;var n=0,e=Ft;try{var t=So;for(Ft=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}So=null,cb=!1}catch(i){throw So!==null&&(So=So.slice(n+1)),_H(hI,sl),i}finally{Ft=e,vw=!1}}return null}var ku=[],Cu=0,Gv=null,Vv=0,zi=[],qi=0,dc=null,Oo=1,Ro="";function _l(n,e){ku[Cu++]=Vv,ku[Cu++]=Gv,Gv=n,Vv=e}function JH(n,e,t){zi[qi++]=Oo,zi[qi++]=Ro,zi[qi++]=dc,dc=n;var r=Oo;n=Ro;var i=32-ms(r)-1;r&=~(1<<i),t+=1;var s=32-ms(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oo=1<<32-ms(e)+i|t<<i|r,Ro=s+n}else Oo=1<<s|t<<i|r,Ro=n}function xI(n){n.return!==null&&(_l(n,1),JH(n,1,0))}function wI(n){for(;n===Gv;)Gv=ku[--Cu],ku[Cu]=null,Vv=ku[--Cu],ku[Cu]=null;for(;n===dc;)dc=zi[--qi],zi[qi]=null,Ro=zi[--qi],zi[qi]=null,Oo=zi[--qi],zi[qi]=null}var mi=null,pi=null,cn=!1,ds=null;function ZH(n,e){var t=Ui(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function OA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,mi=n,pi=za(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,mi=n,pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=dc!==null?{id:Oo,overflow:Ro}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ui(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,mi=n,pi=null,!0):!1;default:return!1}}function JT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZT(n){if(cn){var e=pi;if(e){var t=e;if(!OA(n,e)){if(JT(n))throw Error(we(418));e=za(t.nextSibling);var r=mi;e&&OA(n,e)?ZH(r,t):(n.flags=n.flags&-4097|2,cn=!1,mi=n)}}else{if(JT(n))throw Error(we(418));n.flags=n.flags&-4097|2,cn=!1,mi=n}}}function RA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;mi=n}function Xg(n){if(n!==mi)return!1;if(!cn)return RA(n),cn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!VT(n.type,n.memoizedProps)),e&&(e=pi)){if(JT(n))throw eW(),Error(we(418));for(;e;)ZH(n,e),e=za(e.nextSibling)}if(RA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(we(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){pi=za(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}pi=null}}else pi=mi?za(n.stateNode.nextSibling):null;return!0}function eW(){for(var n=pi;n;)n=za(n.nextSibling)}function Th(){pi=mi=null,cn=!1}function _I(n){ds===null?ds=[n]:ds.push(n)}var Qre=Vo.ReactCurrentBatchConfig;function Gd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(we(309));var r=t.stateNode}if(!r)throw Error(we(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(we(284));if(!t._owner)throw Error(we(290,n))}return n}function Qg(n,e){throw n=Object.prototype.toString.call(e),Error(we(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function DA(n){var e=n._init;return e(n._payload)}function tW(n){function e(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Wa(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,w,S){return b===null||b.tag!==6?(b=kw(w,y.mode,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,S){var _=w.type;return _===yu?u(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===va&&DA(_)===b.type)?(S=i(b,w.props),S.ref=Gd(y,b,w),S.return=y,S):(S=gv(w.type,w.key,w.props,null,y.mode,S),S.ref=Gd(y,b,w),S.return=y,S)}function c(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Cw(w,y.mode,S),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,S,_){return b===null||b.tag!==7?(b=Zl(w,y.mode,S,_),b.return=y,b):(b=i(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kw(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bg:return w=gv(b.type,b.key,b.props,null,y.mode,w),w.ref=Gd(y,null,b),w.return=y,w;case vu:return b=Cw(b,y.mode,w),b.return=y,b;case va:var S=b._init;return h(y,S(b._payload),w)}if(Cf(b)||qd(b))return b=Zl(b,y.mode,w,null),b.return=y,b;Qg(y,b)}return null}function d(y,b,w,S){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bg:return w.key===_?l(y,b,w,S):null;case vu:return w.key===_?c(y,b,w,S):null;case va:return _=w._init,d(y,b,_(w._payload),S)}if(Cf(w)||qd(w))return _!==null?null:u(y,b,w,S,null);Qg(y,w)}return null}function f(y,b,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(b,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bg:return y=y.get(S.key===null?w:S.key)||null,l(b,y,S,_);case vu:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,_);case va:var k=S._init;return f(y,b,w,k(S._payload),_)}if(Cf(S)||qd(S))return y=y.get(w)||null,u(b,y,S,_,null);Qg(b,S)}return null}function m(y,b,w,S){for(var _=null,k=null,C=b,E=b=0,O=null;C!==null&&E<w.length;E++){C.index>E?(O=C,C=null):O=C.sibling;var R=d(y,C,w[E],S);if(R===null){C===null&&(C=O);break}n&&C&&R.alternate===null&&e(y,C),b=s(R,b,E),k===null?_=R:k.sibling=R,k=R,C=O}if(E===w.length)return t(y,C),cn&&_l(y,E),_;if(C===null){for(;E<w.length;E++)C=h(y,w[E],S),C!==null&&(b=s(C,b,E),k===null?_=C:k.sibling=C,k=C);return cn&&_l(y,E),_}for(C=r(y,C);E<w.length;E++)O=f(C,y,E,w[E],S),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?E:O.key),b=s(O,b,E),k===null?_=O:k.sibling=O,k=O);return n&&C.forEach(function(D){return e(y,D)}),cn&&_l(y,E),_}function g(y,b,w,S){var _=qd(w);if(typeof _!="function")throw Error(we(150));if(w=_.call(w),w==null)throw Error(we(151));for(var k=_=null,C=b,E=b=0,O=null,R=w.next();C!==null&&!R.done;E++,R=w.next()){C.index>E?(O=C,C=null):O=C.sibling;var D=d(y,C,R.value,S);if(D===null){C===null&&(C=O);break}n&&C&&D.alternate===null&&e(y,C),b=s(D,b,E),k===null?_=D:k.sibling=D,k=D,C=O}if(R.done)return t(y,C),cn&&_l(y,E),_;if(C===null){for(;!R.done;E++,R=w.next())R=h(y,R.value,S),R!==null&&(b=s(R,b,E),k===null?_=R:k.sibling=R,k=R);return cn&&_l(y,E),_}for(C=r(y,C);!R.done;E++,R=w.next())R=f(C,y,E,R.value,S),R!==null&&(n&&R.alternate!==null&&C.delete(R.key===null?E:R.key),b=s(R,b,E),k===null?_=R:k.sibling=R,k=R);return n&&C.forEach(function(N){return e(y,N)}),cn&&_l(y,E),_}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===yu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bg:e:{for(var _=w.key,k=b;k!==null;){if(k.key===_){if(_=w.type,_===yu){if(k.tag===7){t(y,k.sibling),b=i(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===va&&DA(_)===k.type){t(y,k.sibling),b=i(k,w.props),b.ref=Gd(y,k,w),b.return=y,y=b;break e}t(y,k);break}else e(y,k);k=k.sibling}w.type===yu?(b=Zl(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=gv(w.type,w.key,w.props,null,y.mode,S),S.ref=Gd(y,b,w),S.return=y,y=S)}return o(y);case vu:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Cw(w,y.mode,S),b.return=y,y=b}return o(y);case va:return k=w._init,v(y,b,k(w._payload),S)}if(Cf(w))return m(y,b,w,S);if(qd(w))return g(y,b,w,S);Qg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(y,b.sibling),b=i(b,w),b.return=y,y=b):(t(y,b),b=kw(w,y.mode,S),b.return=y,y=b),o(y)):t(y,b)}return v}var Mh=tW(!0),nW=tW(!1),Kv=il(null),Xv=null,Eu=null,SI=null;function kI(){SI=Eu=Xv=null}function CI(n){var e=Kv.current;tn(Kv),n._currentValue=e}function eM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Uu(n,e){Xv=n,SI=Eu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Wr=!0),n.firstContext=null)}function Vi(n){var e=n._currentValue;if(SI!==n)if(n={context:n,memoizedValue:e,next:null},Eu===null){if(Xv===null)throw Error(we(308));Eu=n,Xv.dependencies={lanes:0,firstContext:n}}else Eu=Eu.next=n;return e}var Dl=null;function EI(n){Dl===null?Dl=[n]:Dl.push(n)}function rW(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,EI(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ho(n,r)}function Ho(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ya=!1;function TI(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iW(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function No(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ho(n,t)}return i=r.interleaved,i===null?(e.next=e,EI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ho(n,t)}function uv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dI(n,t)}}function AA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Qv(n,e,t,r){var i=n.updateQueue;ya=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(d=e,f=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=gn({},h,d);break e;case 2:ya=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pc|=o,n.lanes=o,n.memoizedState=h}}function NA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var $m={},Ks=il($m),Tp=il($m),Mp=il($m);function Al(n){if(n===$m)throw Error(we(174));return n}function MI(n,e){switch(Xt(Mp,e),Xt(Tp,n),Xt(Ks,$m),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AT(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=AT(e,n)}tn(Ks),Xt(Ks,e)}function Ph(){tn(Ks),tn(Tp),tn(Mp)}function sW(n){Al(Mp.current);var e=Al(Ks.current),t=AT(e,n.type);e!==t&&(Xt(Tp,n),Xt(Ks,t))}function PI(n){Tp.current===n&&(tn(Ks),tn(Tp))}var dn=il(0);function Jv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yw=[];function II(){for(var n=0;n<yw.length;n++)yw[n]._workInProgressVersionPrimary=null;yw.length=0}var hv=Vo.ReactCurrentDispatcher,bw=Vo.ReactCurrentBatchConfig,fc=0,mn=null,Bn=null,Yn=null,Zv=!1,Vf=!1,Pp=0,Jre=0;function fr(){throw Error(we(321))}function OI(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ys(n[t],e[t]))return!1;return!0}function RI(n,e,t,r,i,s){if(fc=s,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hv.current=n===null||n.memoizedState===null?nie:rie,n=t(r,i),Vf){s=0;do{if(Vf=!1,Pp=0,25<=s)throw Error(we(301));s+=1,Yn=Bn=null,e.updateQueue=null,hv.current=iie,n=t(r,i)}while(Vf)}if(hv.current=ey,e=Bn!==null&&Bn.next!==null,fc=0,Yn=Bn=mn=null,Zv=!1,e)throw Error(we(300));return n}function DI(){var n=Pp!==0;return Pp=0,n}function Ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?mn.memoizedState=Yn=n:Yn=Yn.next=n,Yn}function Ki(){if(Bn===null){var n=mn.alternate;n=n!==null?n.memoizedState:null}else n=Bn.next;var e=Yn===null?mn.memoizedState:Yn.next;if(e!==null)Yn=e,Bn=n;else{if(n===null)throw Error(we(310));Bn=n,n={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Yn===null?mn.memoizedState=Yn=n:Yn=Yn.next=n}return Yn}function Ip(n,e){return typeof e=="function"?e(n):e}function xw(n){var e=Ki(),t=e.queue;if(t===null)throw Error(we(311));t.lastRenderedReducer=n;var r=Bn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((fc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,mn.lanes|=u,pc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ys(r,e.memoizedState)||(Wr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,mn.lanes|=s,pc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ww(n){var e=Ki(),t=e.queue;if(t===null)throw Error(we(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ys(s,e.memoizedState)||(Wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function oW(){}function aW(n,e){var t=mn,r=Ki(),i=e(),s=!ys(r.memoizedState,i);if(s&&(r.memoizedState=i,Wr=!0),r=r.queue,AI(uW.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(t.flags|=2048,Op(9,cW.bind(null,t,r,i,e),void 0,null),Zn===null)throw Error(we(349));fc&30||lW(t,e,i)}return i}function lW(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function cW(n,e,t,r){e.value=t,e.getSnapshot=r,hW(e)&&dW(n)}function uW(n,e,t){return t(function(){hW(e)&&dW(n)})}function hW(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ys(n,t)}catch{return!0}}function dW(n){var e=Ho(n,1);e!==null&&gs(e,n,1,-1)}function LA(n){var e=Ns();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},e.queue=n,n=n.dispatch=tie.bind(null,mn,n),[e.memoizedState,n]}function Op(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function fW(){return Ki().memoizedState}function dv(n,e,t,r){var i=Ns();mn.flags|=n,i.memoizedState=Op(1|e,t,void 0,r===void 0?null:r)}function ub(n,e,t,r){var i=Ki();r=r===void 0?null:r;var s=void 0;if(Bn!==null){var o=Bn.memoizedState;if(s=o.destroy,r!==null&&OI(r,o.deps)){i.memoizedState=Op(e,t,s,r);return}}mn.flags|=n,i.memoizedState=Op(1|e,t,s,r)}function FA(n,e){return dv(8390656,8,n,e)}function AI(n,e){return ub(2048,8,n,e)}function pW(n,e){return ub(4,2,n,e)}function mW(n,e){return ub(4,4,n,e)}function gW(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function vW(n,e,t){return t=t!=null?t.concat([n]):null,ub(4,4,gW.bind(null,e,n),t)}function NI(){}function yW(n,e){var t=Ki();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OI(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function bW(n,e){var t=Ki();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OI(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function xW(n,e,t){return fc&21?(ys(t,e)||(t=CH(),mn.lanes|=t,pc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Wr=!0),n.memoizedState=t)}function Zre(n,e){var t=Ft;Ft=t!==0&&4>t?t:4,n(!0);var r=bw.transition;bw.transition={};try{n(!1),e()}finally{Ft=t,bw.transition=r}}function wW(){return Ki().memoizedState}function eie(n,e,t){var r=Ha(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},_W(n))SW(e,t);else if(t=rW(n,e,t,r),t!==null){var i=Dr();gs(t,n,r,i),kW(t,e,r)}}function tie(n,e,t){var r=Ha(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(_W(n))SW(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ys(a,o)){var l=e.interleaved;l===null?(i.next=i,EI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=rW(n,e,i,r),t!==null&&(i=Dr(),gs(t,n,r,i),kW(t,e,r))}}function _W(n){var e=n.alternate;return n===mn||e!==null&&e===mn}function SW(n,e){Vf=Zv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kW(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dI(n,t)}}var ey={readContext:Vi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},nie={readContext:Vi,useCallback:function(n,e){return Ns().memoizedState=[n,e===void 0?null:e],n},useContext:Vi,useEffect:FA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,dv(4194308,4,gW.bind(null,e,n),t)},useLayoutEffect:function(n,e){return dv(4194308,4,n,e)},useInsertionEffect:function(n,e){return dv(4,2,n,e)},useMemo:function(n,e){var t=Ns();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ns();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=eie.bind(null,mn,n),[r.memoizedState,n]},useRef:function(n){var e=Ns();return n={current:n},e.memoizedState=n},useState:LA,useDebugValue:NI,useDeferredValue:function(n){return Ns().memoizedState=n},useTransition:function(){var n=LA(!1),e=n[0];return n=Zre.bind(null,n[1]),Ns().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=mn,i=Ns();if(cn){if(t===void 0)throw Error(we(407));t=t()}else{if(t=e(),Zn===null)throw Error(we(349));fc&30||lW(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,FA(uW.bind(null,r,s,n),[n]),r.flags|=2048,Op(9,cW.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ns(),e=Zn.identifierPrefix;if(cn){var t=Ro,r=Oo;t=(r&~(1<<32-ms(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Pp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Jre++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},rie={readContext:Vi,useCallback:yW,useContext:Vi,useEffect:AI,useImperativeHandle:vW,useInsertionEffect:pW,useLayoutEffect:mW,useMemo:bW,useReducer:xw,useRef:fW,useState:function(){return xw(Ip)},useDebugValue:NI,useDeferredValue:function(n){var e=Ki();return xW(e,Bn.memoizedState,n)},useTransition:function(){var n=xw(Ip)[0],e=Ki().memoizedState;return[n,e]},useMutableSource:oW,useSyncExternalStore:aW,useId:wW,unstable_isNewReconciler:!1},iie={readContext:Vi,useCallback:yW,useContext:Vi,useEffect:AI,useImperativeHandle:vW,useInsertionEffect:pW,useLayoutEffect:mW,useMemo:bW,useReducer:ww,useRef:fW,useState:function(){return ww(Ip)},useDebugValue:NI,useDeferredValue:function(n){var e=Ki();return Bn===null?e.memoizedState=n:xW(e,Bn.memoizedState,n)},useTransition:function(){var n=ww(Ip)[0],e=Ki().memoizedState;return[n,e]},useMutableSource:oW,useSyncExternalStore:aW,useId:wW,unstable_isNewReconciler:!1};function ss(n,e){if(n&&n.defaultProps){e=gn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function tM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:gn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hb={isMounted:function(n){return(n=n._reactInternals)?Dc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Dr(),i=Ha(n),s=No(r,i);s.payload=e,t!=null&&(s.callback=t),e=qa(n,s,i),e!==null&&(gs(e,n,i,r),uv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Dr(),i=Ha(n),s=No(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=qa(n,s,i),e!==null&&(gs(e,n,i,r),uv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Dr(),r=Ha(n),i=No(t,r);i.tag=2,e!=null&&(i.callback=e),e=qa(n,i,r),e!==null&&(gs(e,n,r,t),uv(e,n,r))}};function $A(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sp(t,r)||!Sp(i,s):!0}function CW(n,e,t){var r=!1,i=Ja,s=e.contextType;return typeof s=="object"&&s!==null?s=Vi(s):(i=Kr(e)?hc:yr.current,r=e.contextTypes,s=(r=r!=null)?Eh(n,i):Ja),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function jA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&hb.enqueueReplaceState(e,e.state,null)}function nM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},TI(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vi(s):(s=Kr(e)?hc:yr.current,i.context=Eh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hb.enqueueReplaceState(i,i.state,null),Qv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ih(n,e){try{var t="",r=e;do t+=Rne(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function _w(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var sie=typeof WeakMap=="function"?WeakMap:Map;function EW(n,e,t){t=No(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ny||(ny=!0,fM=r),rM(n,e)},t}function TW(n,e,t){t=No(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){rM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){rM(n,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function BA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new sie;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=bie.bind(null,n,e,t),e.then(n,n))}function zA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=No(-1,1),e.tag=2,qa(t,e,1))),t.lanes|=1),n)}var oie=Vo.ReactCurrentOwner,Wr=!1;function Tr(n,e,t,r){e.child=n===null?nW(e,null,t,r):Mh(e,n.child,t,r)}function UA(n,e,t,r,i){t=t.render;var s=e.ref;return Uu(e,i),r=RI(n,e,t,r,s,i),t=DI(),n!==null&&!Wr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wo(n,e,i)):(cn&&t&&xI(e),e.flags|=1,Tr(n,e,r,i),e.child)}function HA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!UI(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,MW(n,e,s,r,i)):(n=gv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Sp,t(o,r)&&n.ref===e.ref)return Wo(n,e,i)}return e.flags|=1,n=Wa(s,r),n.ref=e.ref,n.return=e,e.child=n}function MW(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Sp(s,r)&&n.ref===e.ref)if(Wr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Wr=!0);else return e.lanes=n.lanes,Wo(n,e,i)}return iM(n,e,t,r,i)}function PW(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Mu,ci),ci|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xt(Mu,ci),ci|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Xt(Mu,ci),ci|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Xt(Mu,ci),ci|=r;return Tr(n,e,i,t),e.child}function IW(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function iM(n,e,t,r,i){var s=Kr(t)?hc:yr.current;return s=Eh(e,s),Uu(e,i),t=RI(n,e,t,r,s,i),r=DI(),n!==null&&!Wr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wo(n,e,i)):(cn&&r&&xI(e),e.flags|=1,Tr(n,e,t,i),e.child)}function WA(n,e,t,r,i){if(Kr(t)){var s=!0;Yv(e)}else s=!1;if(Uu(e,i),e.stateNode===null)fv(n,e),CW(e,t,r),nM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Vi(c):(c=Kr(t)?hc:yr.current,c=Eh(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jA(e,o,r,c),ya=!1;var d=e.memoizedState;o.state=d,Qv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Vr.current||ya?(typeof u=="function"&&(tM(e,t,u,r),l=e.memoizedState),(a=ya||$A(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iW(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ss(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Vi(l):(l=Kr(t)?hc:yr.current,l=Eh(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&jA(e,o,r,l),ya=!1,d=e.memoizedState,o.state=d,Qv(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||Vr.current||ya?(typeof f=="function"&&(tM(e,t,f,r),m=e.memoizedState),(c=ya||$A(e,t,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return sM(n,e,t,r,s,i)}function sM(n,e,t,r,i,s){IW(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&IA(e,t,!1),Wo(n,e,s);r=e.stateNode,oie.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Mh(e,n.child,null,s),e.child=Mh(e,null,a,s)):Tr(n,e,a,s),e.memoizedState=r.state,i&&IA(e,t,!0),e.child}function OW(n){var e=n.stateNode;e.pendingContext?PA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&PA(n,e.context,!1),MI(n,e.containerInfo)}function YA(n,e,t,r,i){return Th(),_I(i),e.flags|=256,Tr(n,e,t,r),e.child}var oM={dehydrated:null,treeContext:null,retryLane:0};function aM(n){return{baseLanes:n,cachePool:null,transitions:null}}function RW(n,e,t){var r=e.pendingProps,i=dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Xt(dn,i&1),n===null)return ZT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pb(o,r,0,null),n=Zl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=aM(t),e.memoizedState=oM,n):LI(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aie(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wa(a,s):(s=Zl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?aM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=oM,r}return s=n.child,n=s.sibling,r=Wa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function LI(n,e){return e=pb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jg(n,e,t,r){return r!==null&&_I(r),Mh(e,n.child,null,t),n=LI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function aie(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=_w(Error(we(422))),Jg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pb({mode:"visible",children:r.children},i,0,null),s=Zl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mh(e,n.child,null,o),e.child.memoizedState=aM(o),e.memoizedState=oM,s);if(!(e.mode&1))return Jg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(we(419)),r=_w(s,r,void 0),Jg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Wr||a){if(r=Zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ho(n,i),gs(r,n,i,-1))}return qI(),r=_w(Error(we(421))),Jg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=xie.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,pi=za(i.nextSibling),mi=e,cn=!0,ds=null,n!==null&&(zi[qi++]=Oo,zi[qi++]=Ro,zi[qi++]=dc,Oo=n.id,Ro=n.overflow,dc=e),e=LI(e,r.children),e.flags|=4096,e)}function GA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),eM(n.return,e,t)}function Sw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function DW(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Tr(n,e,r.children,t),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GA(n,t,e);else if(n.tag===19)GA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Xt(dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Jv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Sw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Jv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Sw(e,!0,t,null,s);break;case"together":Sw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Wo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(we(153));if(e.child!==null){for(n=e.child,t=Wa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function lie(n,e,t){switch(e.tag){case 3:OW(e),Th();break;case 5:sW(e);break;case 1:Kr(e.type)&&Yv(e);break;case 4:MI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xt(Kv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xt(dn,dn.current&1),e.flags|=128,null):t&e.child.childLanes?RW(n,e,t):(Xt(dn,dn.current&1),n=Wo(n,e,t),n!==null?n.sibling:null);Xt(dn,dn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return DW(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,PW(n,e,t)}return Wo(n,e,t)}var AW,lM,NW,LW;AW=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};lM=function(){};NW=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Al(Ks.current);var s=null;switch(t){case"input":i=IT(n,i),r=IT(n,r),s=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),s=[];break;case"textarea":i=DT(n,i),r=DT(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hv)}NT(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LW=function(n,e,t,r){t!==r&&(e.flags|=4)};function Vd(n,e){if(!cn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function cie(n,e,t){var r=e.pendingProps;switch(wI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return Kr(e.type)&&Wv(),pr(e),null;case 3:return r=e.stateNode,Ph(),tn(Vr),tn(yr),II(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Xg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ds!==null&&(gM(ds),ds=null))),lM(n,e),pr(e),null;case 5:PI(e);var i=Al(Mp.current);if(t=e.type,n!==null&&e.stateNode!=null)NW(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(we(166));return pr(e),null}if(n=Al(Ks.current),Xg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Hs]=e,r[Ep]=s,n=(e.mode&1)!==0,t){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<Tf.length;i++)Zt(Tf[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":nA(r,s),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r);break;case"textarea":iA(r,s),Zt("invalid",r)}NT(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,n),i=["children",""+a]):gp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zt("scroll",r)}switch(t){case"input":zg(r),rA(r,s,!0);break;case"textarea":zg(r),sA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=uH(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Hs]=e,n[Ep]=r,AW(n,e,!1,!1),e.stateNode=n;e:{switch(o=LT(t,r),t){case"dialog":Zt("cancel",n),Zt("close",n),i=r;break;case"iframe":case"object":case"embed":Zt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Tf.length;i++)Zt(Tf[i],n);i=r;break;case"source":Zt("error",n),i=r;break;case"img":case"image":case"link":Zt("error",n),Zt("load",n),i=r;break;case"details":Zt("toggle",n),i=r;break;case"input":nA(n,r),i=IT(n,r),Zt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),Zt("invalid",n);break;case"textarea":iA(n,r),i=DT(n,r),Zt("invalid",n);break;default:i=r}NT(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fH(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hH(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&vp(n,l):typeof l=="number"&&vp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",n):l!=null&&oI(n,s,l,o))}switch(t){case"input":zg(n),rA(n,r,!1);break;case"textarea":zg(n),sA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Qa(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?ju(n,!!r.multiple,s,!1):r.defaultValue!=null&&ju(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Hv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(n&&e.stateNode!=null)LW(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(we(166));if(t=Al(Mp.current),Al(Ks.current),Xg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Hs]=e,(s=r.nodeValue!==t)&&(n=mi,n!==null))switch(n.tag){case 3:Kg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Hs]=e,e.stateNode=r}return pr(e),null;case 13:if(tn(dn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(cn&&pi!==null&&e.mode&1&&!(e.flags&128))eW(),Th(),e.flags|=98560,s=!1;else if(s=Xg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[Hs]=e}else Th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else ds!==null&&(gM(ds),ds=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||dn.current&1?zn===0&&(zn=3):qI())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return Ph(),lM(n,e),n===null&&kp(e.stateNode.containerInfo),pr(e),null;case 10:return CI(e.type._context),pr(e),null;case 17:return Kr(e.type)&&Wv(),pr(e),null;case 19:if(tn(dn),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vd(s,!1);else{if(zn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Jv(n),o!==null){for(e.flags|=128,Vd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xt(dn,dn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pn()>Oh&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Jv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Vd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cn)return pr(e),null}else 2*Pn()-s.renderingStartTime>Oh&&t!==1073741824&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,t=dn.current,Xt(dn,r?t&1|2:t&1),e):(pr(e),null);case 22:case 23:return zI(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ci&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function uie(n,e){switch(wI(e),e.tag){case 1:return Kr(e.type)&&Wv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ph(),tn(Vr),tn(yr),II(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return PI(e),null;case 13:if(tn(dn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Th()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return tn(dn),null;case 4:return Ph(),null;case 10:return CI(e.type._context),null;case 22:case 23:return zI(),null;case 24:return null;default:return null}}var Zg=!1,vr=!1,hie=typeof WeakSet=="function"?WeakSet:Set,We=null;function Tu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){xn(n,e,r)}else t.current=null}function cM(n,e,t){try{t()}catch(r){xn(n,e,r)}}var VA=!1;function die(n,e){if(YT=zv,n=zH(),bI(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(GT={focusedElem:n,selectionRange:t},zv=!1,We=e;We!==null;)if(e=We,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,We=n;else for(;We!==null;){e=We;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ss(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){xn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}return m=VA,VA=!1,m}function Kf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&cM(e,t,s)}i=i.next}while(i!==r)}}function db(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function uM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function FW(n){var e=n.alternate;e!==null&&(n.alternate=null,FW(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Hs],delete e[Ep],delete e[XT],delete e[Vre],delete e[Kre])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $W(n){return n.tag===5||n.tag===3||n.tag===4}function KA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$W(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Hv));else if(r!==4&&(n=n.child,n!==null))for(hM(n,e,t),n=n.sibling;n!==null;)hM(n,e,t),n=n.sibling}function dM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(dM(n,e,t),n=n.sibling;n!==null;)dM(n,e,t),n=n.sibling}var sr=null,hs=!1;function na(n,e,t){for(t=t.child;t!==null;)jW(n,e,t),t=t.sibling}function jW(n,e,t){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(ib,t)}catch{}switch(t.tag){case 5:vr||Tu(t,e);case 6:var r=sr,i=hs;sr=null,na(n,e,t),sr=r,hs=i,sr!==null&&(hs?(n=sr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):sr.removeChild(t.stateNode));break;case 18:sr!==null&&(hs?(n=sr,t=t.stateNode,n.nodeType===8?gw(n.parentNode,t):n.nodeType===1&&gw(n,t),wp(n)):gw(sr,t.stateNode));break;case 4:r=sr,i=hs,sr=t.stateNode.containerInfo,hs=!0,na(n,e,t),sr=r,hs=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cM(t,e,o),i=i.next}while(i!==r)}na(n,e,t);break;case 1:if(!vr&&(Tu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){xn(t,e,a)}na(n,e,t);break;case 21:na(n,e,t);break;case 22:t.mode&1?(vr=(r=vr)||t.memoizedState!==null,na(n,e,t),vr=r):na(n,e,t);break;default:na(n,e,t)}}function XA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new hie),e.forEach(function(r){var i=wie.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ns(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,hs=!1;break e;case 3:sr=a.stateNode.containerInfo,hs=!0;break e;case 4:sr=a.stateNode.containerInfo,hs=!0;break e}a=a.return}if(sr===null)throw Error(we(160));jW(s,o,i),sr=null,hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BW(e,n),e=e.sibling}function BW(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ns(e,n),Ms(n),r&4){try{Kf(3,n,n.return),db(3,n)}catch(g){xn(n,n.return,g)}try{Kf(5,n,n.return)}catch(g){xn(n,n.return,g)}}break;case 1:ns(e,n),Ms(n),r&512&&t!==null&&Tu(t,t.return);break;case 5:if(ns(e,n),Ms(n),r&512&&t!==null&&Tu(t,t.return),n.flags&32){var i=n.stateNode;try{vp(i,"")}catch(g){xn(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lH(i,s),LT(a,o);var c=LT(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?fH(i,h):u==="dangerouslySetInnerHTML"?hH(i,h):u==="children"?vp(i,h):oI(i,u,h,c)}switch(a){case"input":OT(i,s);break;case"textarea":cH(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ju(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ju(i,!!s.multiple,s.defaultValue,!0):ju(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ep]=s}catch(g){xn(n,n.return,g)}}break;case 6:if(ns(e,n),Ms(n),r&4){if(n.stateNode===null)throw Error(we(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){xn(n,n.return,g)}}break;case 3:if(ns(e,n),Ms(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{wp(e.containerInfo)}catch(g){xn(n,n.return,g)}break;case 4:ns(e,n),Ms(n);break;case 13:ns(e,n),Ms(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jI=Pn())),r&4&&XA(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(vr=(c=vr)||u,ns(e,n),vr=c):ns(e,n),Ms(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(We=n,u=n.child;u!==null;){for(h=We=u;We!==null;){switch(d=We,f=d.child,d.tag){case 0:case 11:case 14:case 15:Kf(4,d,d.return);break;case 1:Tu(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){xn(r,t,g)}}break;case 5:Tu(d,d.return);break;case 22:if(d.memoizedState!==null){JA(h);continue}}f!==null?(f.return=d,We=f):JA(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dH("display",o))}catch(g){xn(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){xn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ns(e,n),Ms(n),r&4&&XA(n);break;case 21:break;default:ns(e,n),Ms(n)}}function Ms(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if($W(t)){var r=t;break e}t=t.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vp(i,""),r.flags&=-33);var s=KA(n);dM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=KA(n);hM(n,a,o);break;default:throw Error(we(161))}}catch(l){xn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function fie(n,e,t){We=n,zW(n)}function zW(n,e,t){for(var r=(n.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=Zg;var c=vr;if(Zg=o,(vr=l)&&!c)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?ZA(i):l!==null?(l.return=o,We=l):ZA(i);for(;s!==null;)We=s,zW(s),s=s.sibling;We=i,Zg=a,vr=c}QA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):QA(n)}}function QA(n){for(;We!==null;){var e=We;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||db(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ss(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&NA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}NA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}vr||e.flags&512&&uM(e)}catch(d){xn(e,e.return,d)}}if(e===n){We=null;break}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}}function JA(n){for(;We!==null;){var e=We;if(e===n){We=null;break}var t=e.sibling;if(t!==null){t.return=e.return,We=t;break}We=e.return}}function ZA(n){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{db(4,e)}catch(l){xn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xn(e,i,l)}}var s=e.return;try{uM(e)}catch(l){xn(e,s,l)}break;case 5:var o=e.return;try{uM(e)}catch(l){xn(e,o,l)}}}catch(l){xn(e,e.return,l)}if(e===n){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var pie=Math.ceil,ty=Vo.ReactCurrentDispatcher,FI=Vo.ReactCurrentOwner,Yi=Vo.ReactCurrentBatchConfig,Tt=0,Zn=null,Fn=null,hr=0,ci=0,Mu=il(0),zn=0,Rp=null,pc=0,fb=0,$I=0,Xf=null,qr=null,jI=0,Oh=1/0,_o=null,ny=!1,fM=null,Ua=null,e0=!1,Da=null,ry=0,Qf=0,pM=null,pv=-1,mv=0;function Dr(){return Tt&6?Pn():pv!==-1?pv:pv=Pn()}function Ha(n){return n.mode&1?Tt&2&&hr!==0?hr&-hr:Qre.transition!==null?(mv===0&&(mv=CH()),mv):(n=Ft,n!==0||(n=window.event,n=n===void 0?16:RH(n.type)),n):1}function gs(n,e,t,r){if(50<Qf)throw Qf=0,pM=null,Error(we(185));Nm(n,t,r),(!(Tt&2)||n!==Zn)&&(n===Zn&&(!(Tt&2)&&(fb|=t),zn===4&&wa(n,hr)),Xr(n,r),t===1&&Tt===0&&!(e.mode&1)&&(Oh=Pn()+500,cb&&sl()))}function Xr(n,e){var t=n.callbackNode;Qne(n,e);var r=Bv(n,n===Zn?hr:0);if(r===0)t!==null&&lA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&lA(t),e===1)n.tag===0?Xre(e3.bind(null,n)):QH(e3.bind(null,n)),Yre(function(){!(Tt&6)&&sl()}),t=null;else{switch(EH(r)){case 1:t=hI;break;case 4:t=SH;break;case 16:t=jv;break;case 536870912:t=kH;break;default:t=jv}t=KW(t,qW.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function qW(n,e){if(pv=-1,mv=0,Tt&6)throw Error(we(327));var t=n.callbackNode;if(Hu()&&n.callbackNode!==t)return null;var r=Bv(n,n===Zn?hr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=iy(n,r);else{e=r;var i=Tt;Tt|=2;var s=HW();(Zn!==n||hr!==e)&&(_o=null,Oh=Pn()+500,Jl(n,e));do try{vie();break}catch(a){UW(n,a)}while(!0);kI(),ty.current=s,Tt=i,Fn!==null?e=0:(Zn=null,hr=0,e=zn)}if(e!==0){if(e===2&&(i=zT(n),i!==0&&(r=i,e=mM(n,i))),e===1)throw t=Rp,Jl(n,0),wa(n,r),Xr(n,Pn()),t;if(e===6)wa(n,r);else{if(i=n.current.alternate,!(r&30)&&!mie(i)&&(e=iy(n,r),e===2&&(s=zT(n),s!==0&&(r=s,e=mM(n,s))),e===1))throw t=Rp,Jl(n,0),wa(n,r),Xr(n,Pn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(we(345));case 2:Sl(n,qr,_o);break;case 3:if(wa(n,r),(r&130023424)===r&&(e=jI+500-Pn(),10<e)){if(Bv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Dr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=KT(Sl.bind(null,n,qr,_o),e);break}Sl(n,qr,_o);break;case 4:if(wa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ms(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pie(r/1960))-r,10<r){n.timeoutHandle=KT(Sl.bind(null,n,qr,_o),r);break}Sl(n,qr,_o);break;case 5:Sl(n,qr,_o);break;default:throw Error(we(329))}}}return Xr(n,Pn()),n.callbackNode===t?qW.bind(null,n):null}function mM(n,e){var t=Xf;return n.current.memoizedState.isDehydrated&&(Jl(n,e).flags|=256),n=iy(n,e),n!==2&&(e=qr,qr=t,e!==null&&gM(e)),n}function gM(n){qr===null?qr=n:qr.push.apply(qr,n)}function mie(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ys(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(n,e){for(e&=~$I,e&=~fb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ms(e),r=1<<t;n[t]=-1,e&=~r}}function e3(n){if(Tt&6)throw Error(we(327));Hu();var e=Bv(n,0);if(!(e&1))return Xr(n,Pn()),null;var t=iy(n,e);if(n.tag!==0&&t===2){var r=zT(n);r!==0&&(e=r,t=mM(n,r))}if(t===1)throw t=Rp,Jl(n,0),wa(n,e),Xr(n,Pn()),t;if(t===6)throw Error(we(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Sl(n,qr,_o),Xr(n,Pn()),null}function BI(n,e){var t=Tt;Tt|=1;try{return n(e)}finally{Tt=t,Tt===0&&(Oh=Pn()+500,cb&&sl())}}function mc(n){Da!==null&&Da.tag===0&&!(Tt&6)&&Hu();var e=Tt;Tt|=1;var t=Yi.transition,r=Ft;try{if(Yi.transition=null,Ft=1,n)return n()}finally{Ft=r,Yi.transition=t,Tt=e,!(Tt&6)&&sl()}}function zI(){ci=Mu.current,tn(Mu)}function Jl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Wre(t)),Fn!==null)for(t=Fn.return;t!==null;){var r=t;switch(wI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wv();break;case 3:Ph(),tn(Vr),tn(yr),II();break;case 5:PI(r);break;case 4:Ph();break;case 13:tn(dn);break;case 19:tn(dn);break;case 10:CI(r.type._context);break;case 22:case 23:zI()}t=t.return}if(Zn=n,Fn=n=Wa(n.current,null),hr=ci=e,zn=0,Rp=null,$I=fb=pc=0,qr=Xf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(t=Dl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Dl=null}return n}function UW(n,e){do{var t=Fn;try{if(kI(),hv.current=ey,Zv){for(var r=mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zv=!1}if(fc=0,Yn=Bn=mn=null,Vf=!1,Pp=0,FI.current=null,t===null||t.return===null){zn=1,Rp=e,Fn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=hr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=zA(o);if(f!==null){f.flags&=-257,qA(f,o,a,s,e),f.mode&1&&BA(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){BA(s,c,e),qI();break e}l=Error(we(426))}}else if(cn&&a.mode&1){var v=zA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qA(v,o,a,s,e),_I(Ih(l,a));break e}}s=l=Ih(l,a),zn!==4&&(zn=2),Xf===null?Xf=[s]:Xf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=EW(s,l,e);AA(s,y);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=TW(s,a,e);AA(s,S);break e}}s=s.return}while(s!==null)}YW(t)}catch(_){e=_,Fn===t&&t!==null&&(Fn=t=t.return);continue}break}while(!0)}function HW(){var n=ty.current;return ty.current=ey,n===null?ey:n}function qI(){(zn===0||zn===3||zn===2)&&(zn=4),Zn===null||!(pc&268435455)&&!(fb&268435455)||wa(Zn,hr)}function iy(n,e){var t=Tt;Tt|=2;var r=HW();(Zn!==n||hr!==e)&&(_o=null,Jl(n,e));do try{gie();break}catch(i){UW(n,i)}while(!0);if(kI(),Tt=t,ty.current=r,Fn!==null)throw Error(we(261));return Zn=null,hr=0,zn}function gie(){for(;Fn!==null;)WW(Fn)}function vie(){for(;Fn!==null&&!qne();)WW(Fn)}function WW(n){var e=VW(n.alternate,n,ci);n.memoizedProps=n.pendingProps,e===null?YW(n):Fn=e,FI.current=null}function YW(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uie(t,e),t!==null){t.flags&=32767,Fn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zn=6,Fn=null;return}}else if(t=cie(t,e,ci),t!==null){Fn=t;return}if(e=e.sibling,e!==null){Fn=e;return}Fn=e=n}while(e!==null);zn===0&&(zn=5)}function Sl(n,e,t){var r=Ft,i=Yi.transition;try{Yi.transition=null,Ft=1,yie(n,e,t,r)}finally{Yi.transition=i,Ft=r}return null}function yie(n,e,t,r){do Hu();while(Da!==null);if(Tt&6)throw Error(we(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(we(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Jne(n,s),n===Zn&&(Fn=Zn=null,hr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||e0||(e0=!0,KW(jv,function(){return Hu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Yi.transition,Yi.transition=null;var o=Ft;Ft=1;var a=Tt;Tt|=4,FI.current=null,die(n,t),BW(t,n),$re(GT),zv=!!YT,GT=YT=null,n.current=t,fie(t),Une(),Tt=a,Ft=o,Yi.transition=s}else n.current=t;if(e0&&(e0=!1,Da=n,ry=i),s=n.pendingLanes,s===0&&(Ua=null),Yne(t.stateNode),Xr(n,Pn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ny)throw ny=!1,n=fM,fM=null,n;return ry&1&&n.tag!==0&&Hu(),s=n.pendingLanes,s&1?n===pM?Qf++:(Qf=0,pM=n):Qf=0,sl(),null}function Hu(){if(Da!==null){var n=EH(ry),e=Yi.transition,t=Ft;try{if(Yi.transition=null,Ft=16>n?16:n,Da===null)var r=!1;else{if(n=Da,Da=null,ry=0,Tt&6)throw Error(we(331));var i=Tt;for(Tt|=4,We=n.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Kf(8,u,s)}var h=u.child;if(h!==null)h.return=u,We=h;else for(;We!==null;){u=We;var d=u.sibling,f=u.return;if(FW(u),u===c){We=null;break}if(d!==null){d.return=f,We=d;break}We=f}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,We=y;break e}We=s.return}}var b=n.current;for(We=b;We!==null;){o=We;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,We=w;else e:for(o=b;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:db(9,a)}}catch(_){xn(a,a.return,_)}if(a===o){We=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,We=S;break e}We=a.return}}if(Tt=i,sl(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(ib,n)}catch{}r=!0}return r}finally{Ft=t,Yi.transition=e}}return!1}function t3(n,e,t){e=Ih(t,e),e=EW(n,e,1),n=qa(n,e,1),e=Dr(),n!==null&&(Nm(n,1,e),Xr(n,e))}function xn(n,e,t){if(n.tag===3)t3(n,n,t);else for(;e!==null;){if(e.tag===3){t3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){n=Ih(t,n),n=TW(e,n,1),e=qa(e,n,1),n=Dr(),e!==null&&(Nm(e,1,n),Xr(e,n));break}}e=e.return}}function bie(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Dr(),n.pingedLanes|=n.suspendedLanes&t,Zn===n&&(hr&t)===t&&(zn===4||zn===3&&(hr&130023424)===hr&&500>Pn()-jI?Jl(n,0):$I|=t),Xr(n,e)}function GW(n,e){e===0&&(n.mode&1?(e=Hg,Hg<<=1,!(Hg&130023424)&&(Hg=4194304)):e=1);var t=Dr();n=Ho(n,e),n!==null&&(Nm(n,e,t),Xr(n,t))}function xie(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),GW(n,t)}function wie(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(e),GW(n,t)}var VW;VW=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Vr.current)Wr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Wr=!1,lie(n,e,t);Wr=!!(n.flags&131072)}else Wr=!1,cn&&e.flags&1048576&&JH(e,Vv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fv(n,e),n=e.pendingProps;var i=Eh(e,yr.current);Uu(e,t),i=RI(null,e,r,n,i,t);var s=DI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(s=!0,Yv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TI(e),i.updater=hb,e.stateNode=i,i._reactInternals=e,nM(e,r,n,t),e=sM(null,e,r,!0,s,t)):(e.tag=0,cn&&s&&xI(e),Tr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(fv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sie(r),n=ss(r,n),i){case 0:e=iM(null,e,r,n,t);break e;case 1:e=WA(null,e,r,n,t);break e;case 11:e=UA(null,e,r,n,t);break e;case 14:e=HA(null,e,r,ss(r.type,n),t);break e}throw Error(we(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),iM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),WA(n,e,r,i,t);case 3:e:{if(OW(e),n===null)throw Error(we(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iW(n,e),Qv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ih(Error(we(423)),e),e=YA(n,e,r,t,i);break e}else if(r!==i){i=Ih(Error(we(424)),e),e=YA(n,e,r,t,i);break e}else for(pi=za(e.stateNode.containerInfo.firstChild),mi=e,cn=!0,ds=null,t=nW(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Th(),r===i){e=Wo(n,e,t);break e}Tr(n,e,r,t)}e=e.child}return e;case 5:return sW(e),n===null&&ZT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,VT(r,i)?o=null:s!==null&&VT(r,s)&&(e.flags|=32),IW(n,e),Tr(n,e,o,t),e.child;case 6:return n===null&&ZT(e),null;case 13:return RW(n,e,t);case 4:return MI(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Mh(e,null,r,t):Tr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),UA(n,e,r,i,t);case 7:return Tr(n,e,e.pendingProps,t),e.child;case 8:return Tr(n,e,e.pendingProps.children,t),e.child;case 12:return Tr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Xt(Kv,r._currentValue),r._currentValue=o,s!==null)if(ys(s.value,o)){if(s.children===i.children&&!Vr.current){e=Wo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=No(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),eM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(we(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),eM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Uu(e,t),i=Vi(i),r=r(i),e.flags|=1,Tr(n,e,r,t),e.child;case 14:return r=e.type,i=ss(r,e.pendingProps),i=ss(r.type,i),HA(n,e,r,i,t);case 15:return MW(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),fv(n,e),e.tag=1,Kr(r)?(n=!0,Yv(e)):n=!1,Uu(e,t),CW(e,r,i),nM(e,r,i,t),sM(null,e,r,!0,n,t);case 19:return DW(n,e,t);case 22:return PW(n,e,t)}throw Error(we(156,e.tag))};function KW(n,e){return _H(n,e)}function _ie(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(n,e,t,r){return new _ie(n,e,t,r)}function UI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sie(n){if(typeof n=="function")return UI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lI)return 11;if(n===cI)return 14}return 2}function Wa(n,e){var t=n.alternate;return t===null?(t=Ui(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")UI(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case yu:return Zl(t.children,i,s,e);case aI:o=8,i|=8;break;case ET:return n=Ui(12,t,e,i|2),n.elementType=ET,n.lanes=s,n;case TT:return n=Ui(13,t,e,i),n.elementType=TT,n.lanes=s,n;case MT:return n=Ui(19,t,e,i),n.elementType=MT,n.lanes=s,n;case sH:return pb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rH:o=10;break e;case iH:o=9;break e;case lI:o=11;break e;case cI:o=14;break e;case va:o=16,r=null;break e}throw Error(we(130,n==null?n:typeof n,""))}return e=Ui(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Zl(n,e,t,r){return n=Ui(7,n,r,e),n.lanes=t,n}function pb(n,e,t,r){return n=Ui(22,n,r,e),n.elementType=sH,n.lanes=t,n.stateNode={isHidden:!1},n}function kw(n,e,t){return n=Ui(6,n,null,e),n.lanes=t,n}function Cw(n,e,t){return e=Ui(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function kie(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sw(0),this.expirationTimes=sw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HI(n,e,t,r,i,s,o,a,l){return n=new kie(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ui(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},TI(s),n}function Cie(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function XW(n){if(!n)return Ja;n=n._reactInternals;e:{if(Dc(n)!==n||n.tag!==1)throw Error(we(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(n.tag===1){var t=n.type;if(Kr(t))return XH(n,t,e)}return e}function QW(n,e,t,r,i,s,o,a,l){return n=HI(t,r,!0,n,i,s,o,a,l),n.context=XW(null),t=n.current,r=Dr(),i=Ha(t),s=No(r,i),s.callback=e??null,qa(t,s,i),n.current.lanes=i,Nm(n,i,r),Xr(n,r),n}function mb(n,e,t,r){var i=e.current,s=Dr(),o=Ha(i);return t=XW(t),e.context===null?e.context=t:e.pendingContext=t,e=No(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=qa(i,e,o),n!==null&&(gs(n,i,o,s),uv(n,i,o)),o}function sy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function n3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function WI(n,e){n3(n,e),(n=n.alternate)&&n3(n,e)}function Eie(){return null}var JW=typeof reportError=="function"?reportError:function(n){console.error(n)};function YI(n){this._internalRoot=n}gb.prototype.render=YI.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(we(409));mb(n,e,null,null)};gb.prototype.unmount=YI.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;mc(function(){mb(null,n,null,null)}),e[Uo]=null}};function gb(n){this._internalRoot=n}gb.prototype.unstable_scheduleHydration=function(n){if(n){var e=PH();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xa.length&&e!==0&&e<xa[t].priority;t++);xa.splice(t,0,n),t===0&&OH(n)}};function GI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function r3(){}function Tie(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=sy(o);s.call(c)}}var o=QW(e,r,n,0,null,!1,!1,"",r3);return n._reactRootContainer=o,n[Uo]=o.current,kp(n.nodeType===8?n.parentNode:n),mc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sy(l);a.call(c)}}var l=HI(n,0,!1,null,null,!1,!1,"",r3);return n._reactRootContainer=l,n[Uo]=l.current,kp(n.nodeType===8?n.parentNode:n),mc(function(){mb(e,l,t,r)}),l}function yb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sy(o);a.call(l)}}mb(e,o,n,i)}else o=Tie(t,e,n,i,r);return sy(o)}TH=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ef(e.pendingLanes);t!==0&&(dI(e,t|1),Xr(e,Pn()),!(Tt&6)&&(Oh=Pn()+500,sl()))}break;case 13:mc(function(){var r=Ho(n,1);if(r!==null){var i=Dr();gs(r,n,1,i)}}),WI(n,1)}};fI=function(n){if(n.tag===13){var e=Ho(n,134217728);if(e!==null){var t=Dr();gs(e,n,134217728,t)}WI(n,134217728)}};MH=function(n){if(n.tag===13){var e=Ha(n),t=Ho(n,e);if(t!==null){var r=Dr();gs(t,n,e,r)}WI(n,e)}};PH=function(){return Ft};IH=function(n,e){var t=Ft;try{return Ft=n,e()}finally{Ft=t}};$T=function(n,e,t){switch(e){case"input":if(OT(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=lb(r);if(!i)throw Error(we(90));aH(r),OT(r,i)}}}break;case"textarea":cH(n,t);break;case"select":e=t.value,e!=null&&ju(n,!!t.multiple,e,!1)}};gH=BI;vH=mc;var Mie={usingClientEntryPoint:!1,Events:[Fm,_u,lb,pH,mH,BI]},Kd={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pie={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xH(n),n===null?null:n.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||Eie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{ib=t0.inject(Pie),Vs=t0}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mie;Si.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GI(e))throw Error(we(200));return Cie(n,e,null,t)};Si.createRoot=function(n,e){if(!GI(n))throw Error(we(299));var t=!1,r="",i=JW;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HI(n,1,!1,null,null,t,!1,r,i),n[Uo]=e.current,kp(n.nodeType===8?n.parentNode:n),new YI(e)};Si.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(we(188)):(n=Object.keys(n).join(","),Error(we(268,n)));return n=xH(e),n=n===null?null:n.stateNode,n};Si.flushSync=function(n){return mc(n)};Si.hydrate=function(n,e,t){if(!vb(e))throw Error(we(200));return yb(null,n,e,!0,t)};Si.hydrateRoot=function(n,e,t){if(!GI(n))throw Error(we(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=JW;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=QW(e,null,n,1,t??null,i,!1,s,o),n[Uo]=e.current,kp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gb(e)};Si.render=function(n,e,t){if(!vb(e))throw Error(we(200));return yb(null,n,e,!1,t)};Si.unmountComponentAtNode=function(n){if(!vb(n))throw Error(we(40));return n._reactRootContainer?(mc(function(){yb(null,null,n,!1,function(){n._reactRootContainer=null,n[Uo]=null})}),!0):!1};Si.unstable_batchedUpdates=BI;Si.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!vb(t))throw Error(we(200));if(n==null||n._reactInternals===void 0)throw Error(we(38));return yb(n,e,t,!1,r)};Si.version="18.3.1-next-f1338f8080-20240426";function ZW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZW)}catch(n){console.error(n)}}ZW(),ZU.exports=Si;var Ac=ZU.exports;const Iie=ZP(Ac);var i3=Ac;kT.createRoot=i3.createRoot,kT.hydrateRoot=i3.hydrateRoot;var bb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oie={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Sa,JP,RU,Rie=(RU=class{constructor(){Ae(this,Sa,Oie);Ae(this,JP,!1)}setTimeoutProvider(n){ye(this,Sa,n)}setTimeout(n,e){return Z(this,Sa).setTimeout(n,e)}clearTimeout(n){Z(this,Sa).clearTimeout(n)}setInterval(n,e){return Z(this,Sa).setInterval(n,e)}clearInterval(n){Z(this,Sa).clearInterval(n)}},Sa=new WeakMap,JP=new WeakMap,RU),vM=new Rie;function Die(n){setTimeout(n,0)}var xb=typeof window>"u"||"Deno"in globalThis;function os(){}function Aie(n,e){return typeof n=="function"?n(e):n}function Nie(n){return typeof n=="number"&&n>=0&&n!==1/0}function Lie(n,e){return Math.max(n+(e||0)-Date.now(),0)}function yM(n,e){return typeof n=="function"?n(e):n}function Fie(n,e){return typeof n=="function"?n(e):n}function s3(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==VI(o,e.options))return!1}else if(!Ap(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function o3(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Dp(e.options.mutationKey)!==Dp(s))return!1}else if(!Ap(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function VI(n,e){return((e==null?void 0:e.queryKeyHashFn)||Dp)(n)}function Dp(n){return JSON.stringify(n,(e,t)=>bM(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Ap(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ap(n[t],e[t])):!1}var $ie=Object.prototype.hasOwnProperty;function eY(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=a3(n)&&a3(e);if(!r&&!(bM(n)&&bM(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=r?u:o[u],d=n[h],f=e[h];if(d===f){l[h]=d,(r?u<s:$ie.call(n,h))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){l[h]=f;continue}const m=eY(d,f,t+1);l[h]=m,m===d&&c++}return s===a&&c===s?n:l}function a3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function bM(n){if(!l3(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!l3(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function l3(n){return Object.prototype.toString.call(n)==="[object Object]"}function jie(n){return new Promise(e=>{vM.setTimeout(e,n)})}function Bie(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?eY(n,e):e}function zie(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function qie(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var KI=Symbol();function tY(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===KI?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Uie(n,e,t){let r=!1,i;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?t():i.addEventListener("abort",t,{once:!0})),i)}),n}var Ul,ka,Qu,DU,Hie=(DU=class extends bb{constructor(){super();Ae(this,Ul);Ae(this,ka);Ae(this,Qu);ye(this,Qu,e=>{if(!xb&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Z(this,ka)||this.setEventListener(Z(this,Qu))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,ka))==null||e.call(this),ye(this,ka,void 0))}setEventListener(e){var t;ye(this,Qu,e),(t=Z(this,ka))==null||t.call(this),ye(this,ka,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Ul)!==e&&(ye(this,Ul,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Z(this,Ul)=="boolean"?Z(this,Ul):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ul=new WeakMap,ka=new WeakMap,Qu=new WeakMap,DU),nY=new Hie;function Wie(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var Yie=Die;function Gie(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Yie;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Pr=Gie(),Ju,Ca,Zu,AU,Vie=(AU=class extends bb{constructor(){super();Ae(this,Ju,!0);Ae(this,Ca);Ae(this,Zu);ye(this,Zu,e=>{if(!xb&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,Ca)||this.setEventListener(Z(this,Zu))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Ca))==null||e.call(this),ye(this,Ca,void 0))}setEventListener(e){var t;ye(this,Zu,e),(t=Z(this,Ca))==null||t.call(this),ye(this,Ca,e(this.setOnline.bind(this)))}setOnline(e){Z(this,Ju)!==e&&(ye(this,Ju,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,Ju)}},Ju=new WeakMap,Ca=new WeakMap,Zu=new WeakMap,AU),oy=new Vie;function Kie(n){return Math.min(1e3*2**n,3e4)}function rY(n){return(n??"online")==="online"?oy.isOnline():!0}var xM=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function iY(n){let e=!1,t=0,r;const i=Wie(),s=()=>i.status!=="pending",o=g=>{var v;if(!s()){const y=new xM(g);d(y),(v=n.onCancel)==null||v.call(n,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>nY.isFocused()&&(n.networkMode==="always"||oy.isOnline())&&n.canRun(),u=()=>rY(n.networkMode)&&n.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},d=g=>{s()||(r==null||r(),i.reject(g))},f=()=>new Promise(g=>{var v;r=y=>{(s()||c())&&g(y)},(v=n.onPause)==null||v.call(n)}).then(()=>{var g;r=void 0,s()||(g=n.onContinue)==null||g.call(n)}),m=()=>{if(s())return;let g;const v=t===0?n.initialPromise:void 0;try{g=v??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var k;if(s())return;const b=n.retry??(xb?0:3),w=n.retryDelay??Kie,S=typeof w=="function"?w(t,y):w,_=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,y);if(e||!_){d(y);return}t++,(k=n.onFail)==null||k.call(n,t,y),jie(S).then(()=>c()?void 0:f()).then(()=>{e?d(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():f().then(m),i)}}var Hl,NU,sY=(NU=class{constructor(){Ae(this,Hl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nie(this.gcTime)&&ye(this,Hl,vM.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(xb?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Hl)&&(vM.clearTimeout(Z(this,Hl)),ye(this,Hl,void 0))}},Hl=new WeakMap,NU),Wl,eh,$i,Yl,Wn,Tm,Gl,ls,bo,LU,Xie=(LU=class extends sY{constructor(e){super();Ae(this,ls);Ae(this,Wl);Ae(this,eh);Ae(this,$i);Ae(this,Yl);Ae(this,Wn);Ae(this,Tm);Ae(this,Gl);ye(this,Gl,!1),ye(this,Tm,e.defaultOptions),this.setOptions(e.options),this.observers=[],ye(this,Yl,e.client),ye(this,$i,Z(this,Yl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ye(this,Wl,u3(this.options)),this.state=e.state??Z(this,Wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Z(this,Wn))==null?void 0:e.promise}setOptions(e){if(this.options={...Z(this,Tm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=u3(this.options);t.data!==void 0&&(this.setState(c3(t.data,t.dataUpdatedAt)),ye(this,Wl,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,$i).remove(this)}setData(e,t){const r=Bie(this.state.data,e,this.options);return Rt(this,ls,bo).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Rt(this,ls,bo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Z(this,Wn))==null?void 0:r.promise;return(i=Z(this,Wn))==null||i.cancel(e),t?t.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Wl))}isActive(){return this.observers.some(e=>Fie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yM(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Lie(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Z(this,Wn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Z(this,Wn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Z(this,$i).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Z(this,Wn)&&(Z(this,Gl)?Z(this,Wn).cancel({revert:!0}):Z(this,Wn).cancelRetry()),this.scheduleGc()),Z(this,$i).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,ls,bo).call(this,{type:"invalidate"})}async fetch(e,t){var l,c,u,h,d,f,m,g,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((l=Z(this,Wn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Wn))return Z(this,Wn).continueRetry(),Z(this,Wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ye(this,Gl,!0),r.signal)})},s=()=>{const S=tY(this.options,t),k=(()=>{const C={client:Z(this,Yl),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return ye(this,Gl,!1),this.options.persister?this.options.persister(S,k,this):S(k)},a=(()=>{const S={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Z(this,Yl),state:this.state,fetchFn:s};return i(S),S})();(c=this.options.behavior)==null||c.onFetch(a,this),ye(this,eh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Rt(this,ls,bo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),ye(this,Wn,iY({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof xM&&S.revert&&this.setState({...Z(this,eh),fetchStatus:"idle"}),r.abort()},onFail:(S,_)=>{Rt(this,ls,bo).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{Rt(this,ls,bo).call(this,{type:"pause"})},onContinue:()=>{Rt(this,ls,bo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await Z(this,Wn).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(f=(d=Z(this,$i).config).onSuccess)==null||f.call(d,S,this),(g=(m=Z(this,$i).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof xM){if(S.silent)return Z(this,Wn).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Rt(this,ls,bo).call(this,{type:"error",error:S}),(y=(v=Z(this,$i).config).onError)==null||y.call(v,S,this),(w=(b=Z(this,$i).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Wl=new WeakMap,eh=new WeakMap,$i=new WeakMap,Yl=new WeakMap,Wn=new WeakMap,Tm=new WeakMap,Gl=new WeakMap,ls=new WeakSet,bo=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Qie(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...c3(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,eh,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,$i).notify({query:this,type:"updated",action:e})})},LU);function Qie(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rY(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function c3(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function u3(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function h3(n){return{onFetch:(e,t)=>{var u,h,d,f,m;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Uie(w,()=>e.signal,()=>g=!0)},y=tY(e.options,e.fetchOptions),b=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return v(D),D})(),E=await y(C),{maxPages:O}=e.options,R=_?qie:zie;return{pages:R(w.pages,E,O),pageParams:R(w.pageParams,S,O)}};if(i&&s.length){const w=i==="backward",S=w?Jie:d3,_={pages:s,pageParams:o},k=S(r,_);a=await b(_,k,w)}else{const w=n??s.length;do{const S=l===0?o[0]??r.initialPageParam:d3(r,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function d3(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Jie(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Mm,js,Er,Vl,Bs,fa,FU,Zie=(FU=class extends sY{constructor(e){super();Ae(this,Bs);Ae(this,Mm);Ae(this,js);Ae(this,Er);Ae(this,Vl);ye(this,Mm,e.client),this.mutationId=e.mutationId,ye(this,Er,e.mutationCache),ye(this,js,[]),this.state=e.state||ese(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Z(this,js).includes(e)||(Z(this,js).push(e),this.clearGcTimeout(),Z(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ye(this,js,Z(this,js).filter(t=>t!==e)),this.scheduleGc(),Z(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Z(this,js).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Er).remove(this))}continue(){var e;return((e=Z(this,Vl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k,C,E,O;const t=()=>{Rt(this,Bs,fa).call(this,{type:"continue"})},r={client:Z(this,Mm),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Vl,iY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{Rt(this,Bs,fa).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{Rt(this,Bs,fa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Er).canRun(this)}));const i=this.state.status==="pending",s=!Z(this,Vl).canStart();try{if(i)t();else{Rt(this,Bs,fa).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=Z(this,Er).config).onMutate)==null?void 0:a.call(o,e,this,r));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));D!==this.state.context&&Rt(this,Bs,fa).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const R=await Z(this,Vl).start();return await((h=(u=Z(this,Er).config).onSuccess)==null?void 0:h.call(u,R,e,this.state.context,this,r)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context,r)),await((g=(m=Z(this,Er).config).onSettled)==null?void 0:g.call(m,R,null,this.state.variables,this.state.context,this,r)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,e,this.state.context,r)),Rt(this,Bs,fa).call(this,{type:"success",data:R}),R}catch(R){try{await((w=(b=Z(this,Er).config).onError)==null?void 0:w.call(b,R,e,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((_=(S=this.options).onError)==null?void 0:_.call(S,R,e,this.state.context,r))}catch(D){Promise.reject(D)}try{await((C=(k=Z(this,Er).config).onSettled)==null?void 0:C.call(k,void 0,R,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((O=(E=this.options).onSettled)==null?void 0:O.call(E,void 0,R,e,this.state.context,r))}catch(D){Promise.reject(D)}throw Rt(this,Bs,fa).call(this,{type:"error",error:R}),R}finally{Z(this,Er).runNext(this)}}},Mm=new WeakMap,js=new WeakMap,Er=new WeakMap,Vl=new WeakMap,Bs=new WeakSet,fa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Pr.batch(()=>{Z(this,js).forEach(r=>{r.onMutationUpdate(e)}),Z(this,Er).notify({mutation:this,type:"updated",action:e})})},FU);function ese(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,cs,Pm,$U,tse=($U=class extends bb{constructor(e={}){super();Ae(this,To);Ae(this,cs);Ae(this,Pm);this.config=e,ye(this,To,new Set),ye(this,cs,new Map),ye(this,Pm,0)}build(e,t,r){const i=new Zie({client:e,mutationCache:this,mutationId:++$g(this,Pm)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){Z(this,To).add(e);const t=n0(e);if(typeof t=="string"){const r=Z(this,cs).get(t);r?r.push(e):Z(this,cs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,To).delete(e)){const t=n0(e);if(typeof t=="string"){const r=Z(this,cs).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Z(this,cs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=n0(e);if(typeof t=="string"){const r=Z(this,cs).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=n0(e);if(typeof t=="string"){const i=(r=Z(this,cs).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pr.batch(()=>{Z(this,To).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,To).clear(),Z(this,cs).clear()})}getAll(){return Array.from(Z(this,To))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>o3(t,r))}findAll(e={}){return this.getAll().filter(t=>o3(e,t))}notify(e){Pr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Pr.batch(()=>Promise.all(e.map(t=>t.continue().catch(os))))}},To=new WeakMap,cs=new WeakMap,Pm=new WeakMap,$U);function n0(n){var e;return(e=n.options.scope)==null?void 0:e.id}var zs,jU,nse=(jU=class extends bb{constructor(e={}){super();Ae(this,zs);this.config=e,ye(this,zs,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??VI(i,t);let o=this.get(s);return o||(o=new Xie({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Z(this,zs).has(e.queryHash)||(Z(this,zs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Z(this,zs).get(e.queryHash);t&&(e.destroy(),t===e&&Z(this,zs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,zs).get(e)}getAll(){return[...Z(this,zs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>s3(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>s3(e,r)):t}notify(e){Pr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zs=new WeakMap,jU),bn,Ea,Ta,th,nh,Ma,rh,ih,BU,rse=(BU=class{constructor(n={}){Ae(this,bn);Ae(this,Ea);Ae(this,Ta);Ae(this,th);Ae(this,nh);Ae(this,Ma);Ae(this,rh);Ae(this,ih);ye(this,bn,n.queryCache||new nse),ye(this,Ea,n.mutationCache||new tse),ye(this,Ta,n.defaultOptions||{}),ye(this,th,new Map),ye(this,nh,new Map),ye(this,Ma,0)}mount(){$g(this,Ma)._++,Z(this,Ma)===1&&(ye(this,rh,nY.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,bn).onFocus())})),ye(this,ih,oy.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,bn).onOnline())})))}unmount(){var n,e;$g(this,Ma)._--,Z(this,Ma)===0&&((n=Z(this,rh))==null||n.call(this),ye(this,rh,void 0),(e=Z(this,ih))==null||e.call(this),ye(this,ih,void 0))}isFetching(n){return Z(this,bn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Z(this,Ea).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,bn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Z(this,bn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(yM(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Z(this,bn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Z(this,bn).get(r.queryHash),s=i==null?void 0:i.state.data,o=Aie(e,s);if(o!==void 0)return Z(this,bn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Pr.batch(()=>Z(this,bn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,bn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Z(this,bn);Pr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Z(this,bn);return Pr.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Pr.batch(()=>Z(this,bn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(os).catch(os)}invalidateQueries(n,e={}){return Pr.batch(()=>(Z(this,bn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Pr.batch(()=>Z(this,bn).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(os)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(os)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Z(this,bn).build(this,e);return t.isStaleByTime(yM(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(os).catch(os)}fetchInfiniteQuery(n){return n.behavior=h3(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(os).catch(os)}ensureInfiniteQueryData(n){return n.behavior=h3(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return oy.isOnline()?Z(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,bn)}getMutationCache(){return Z(this,Ea)}getDefaultOptions(){return Z(this,Ta)}setDefaultOptions(n){ye(this,Ta,n)}setQueryDefaults(n,e){Z(this,th).set(Dp(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Z(this,th).values()],t={};return e.forEach(r=>{Ap(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Z(this,nh).set(Dp(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Z(this,nh).values()],t={};return e.forEach(r=>{Ap(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Z(this,Ta).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=VI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===KI&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Z(this,Ta).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Z(this,bn).clear(),Z(this,Ea).clear()}},bn=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,th=new WeakMap,nh=new WeakMap,Ma=new WeakMap,rh=new WeakMap,ih=new WeakMap,BU),ise=P.createContext(void 0),sse=({client:n,children:e})=>(P.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),M.jsx(ise.Provider,{value:n,children:e}));function XI(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function f3(n){return XI(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const oY="2.44.4";let Xd={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${oY}`},_s=class wM extends Error{constructor(e,t={}){var a;const r=(()=>{var l;return t.cause instanceof wM?t.cause.details:(l=t.cause)!=null&&l.message?t.cause.message:t.details})(),i=t.cause instanceof wM&&t.cause.docsPath||t.docsPath,s=(a=Xd.getDocsUrl)==null?void 0:a.call(Xd,{...t,docsPath:i}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Xd.version?[`Version: ${Xd.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=oY}walk(e){return aY(this,e)}};function aY(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?aY(n.cause,e):e?null:n}class ose extends _s{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class lY extends _s{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function jm(n,{dir:e,size:t=32}={}){return typeof n=="string"?ase(n,{dir:e,size:t}):lse(n,{dir:e,size:t})}function ase(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new lY({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function lse(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new lY({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let i=0;i<t;i++){const s=e==="right";r[s?i:t-i-1]=n[s?i:n.length-i-1]}return r}class cse extends _s{constructor({max:e,min:t,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class use extends _s{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function wb(n,{size:e}){if(f3(n)>e)throw new use({givenSize:f3(n),maxSize:e})}const hse=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function dse(n,e={}){let t="";for(let i=0;i<n.length;i++)t+=hse[n[i]];const r=`0x${t}`;return typeof e.size=="number"?(wb(r,{size:e.size}),jm(r,{dir:"right",size:e.size})):r}function _M(n,e={}){const{signed:t,size:r}=e,i=BigInt(n);let s;r?t?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<o){const l=typeof n=="bigint"?"n":"";throw new cse({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:t,size:r,value:`${n}${l}`})}const a=`0x${(t&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?jm(a,{size:r}):a}const fse=new TextEncoder;function pse(n,e={}){const t=fse.encode(n);return dse(t,e)}const mse=new TextEncoder;function gse(n,e={}){return typeof n=="number"||typeof n=="bigint"?yse(n,e):typeof n=="boolean"?vse(n,e):XI(n)?cY(n,e):uY(n,e)}function vse(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(wb(t,{size:e.size}),jm(t,{size:e.size})):t}const mo={zero:48,nine:57,A:65,F:70,a:97,f:102};function p3(n){if(n>=mo.zero&&n<=mo.nine)return n-mo.zero;if(n>=mo.A&&n<=mo.F)return n-(mo.A-10);if(n>=mo.a&&n<=mo.f)return n-(mo.a-10)}function cY(n,e={}){let t=n;e.size&&(wb(t,{size:e.size}),t=jm(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=p3(r.charCodeAt(a++)),c=p3(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new _s(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function yse(n,e){const t=_M(n,e);return cY(t)}function uY(n,e={}){const t=mse.encode(n);return typeof e.size=="number"?(wb(t,{size:e.size}),jm(t,{dir:"right",size:e.size})):t}const r0=BigInt(2**32-1),m3=BigInt(32);function bse(n,e=!1){return e?{h:Number(n&r0),l:Number(n>>m3&r0)}:{h:Number(n>>m3&r0)|0,l:Number(n&r0)|0}}function xse(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=bse(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const wse=(n,e,t)=>n<<t|e>>>32-t,_se=(n,e,t)=>e<<t|n>>>32-t,Sse=(n,e,t)=>e<<t-32|n>>>64-t,kse=(n,e,t)=>n<<t-32|e>>>64-t;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cse(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function g3(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ay(n,...e){if(!Cse(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function v3(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ese(n,e){ay(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Tse(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function hY(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const Mse=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pse(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Ise(n){for(let e=0;e<n.length;e++)n[e]=Pse(n[e]);return n}const y3=Mse?n=>n:Ise;function Ose(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function dY(n){return typeof n=="string"&&(n=Ose(n)),ay(n),n}let Rse=class{};function Dse(n){const e=r=>n().update(dY(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}const Ase=BigInt(0),Qd=BigInt(1),Nse=BigInt(2),Lse=BigInt(7),Fse=BigInt(256),$se=BigInt(113),fY=[],pY=[],mY=[];for(let n=0,e=Qd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],fY.push(2*(5*r+t)),pY.push((n+1)*(n+2)/2%64);let i=Ase;for(let s=0;s<7;s++)e=(e<<Qd^(e>>Lse)*$se)%Fse,e&Nse&&(i^=Qd<<(Qd<<BigInt(s))-Qd);mY.push(i)}const gY=xse(mY,!0),jse=gY[0],Bse=gY[1],b3=(n,e,t)=>t>32?Sse(n,e,t):wse(n,e,t),x3=(n,e,t)=>t>32?kse(n,e,t):_se(n,e,t);function zse(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=b3(c,u,1)^t[a],d=x3(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=pY[o],l=b3(i,s,a),c=x3(i,s,a),u=fY[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=jse[r],n[1]^=Bse[r]}hY(t)}let qse=class vY extends Rse{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,g3(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Tse(this.state)}clone(){return this._cloneInto()}keccak(){y3(this.state32),zse(this.state32,this.rounds),y3(this.state32),this.posOut=0,this.pos=0}update(e){v3(this),e=dY(e),ay(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){v3(this,!1),ay(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return g3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ese(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hY(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new vY(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Use=(n,e,t)=>Dse(()=>new qse(e,n,t)),Hse=Use(1,136,256/8);function Wse(n,e){return Hse(XI(n,{strict:!1})?gse(n):n)}class QI extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Yse=/^0x[a-fA-F0-9]{40}$/,Ew=new QI(8192);function Gse(n,e){const{strict:t=!0}=e??{},r=`${n}.${t}`;if(Ew.has(r))return Ew.get(r);const i=Yse.test(n)?n.toLowerCase()===n?!0:t?yY(n)===n:!0:!1;return Ew.set(r,i),i}const Tw=new QI(8192);function yY(n,e){if(Tw.has(`${n}.${e}`))return Tw.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=Wse(uY(t)),i=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Tw.set(`${n}.${e}`,s),s}function i0(n,e){if(!Gse(n,{strict:!1}))throw new ose({address:n});return yY(n,e)}function Vse(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const ec=(n,e,t)=>JSON.stringify(n,(r,i)=>typeof i=="bigint"?i.toString():i,t),JI=n=>n;class Jf extends _s{constructor({body:e,cause:t,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${JI(o)}`,e&&`Request body: ${ec(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class bY extends _s{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${JI(r)}`,`Request body: ${ec(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class w3 extends _s{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${JI(t)}`,`Request body: ${ec(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}const Kse=-1;class ri extends _s{constructor(e,{code:t,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof bY?e.code:t??Kse}}class Ci extends ri{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Np extends ri{constructor(e){super(e,{code:Np.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Np,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Lp extends ri{constructor(e){super(e,{code:Lp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Fp extends ri{constructor(e,{method:t}={}){super(e,{code:Fp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class $p extends ri{constructor(e){super(e,{code:$p.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Rh extends ri{constructor(e){super(e,{code:Rh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class jp extends ri{constructor(e){super(e,{code:jp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Bp extends ri{constructor(e){super(e,{code:Bp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ya extends ri{constructor(e){super(e,{code:Ya.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class zp extends ri{constructor(e){super(e,{code:zp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Nl extends ri{constructor(e,{method:t}={}){super(e,{code:Nl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(Nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Dh extends ri{constructor(e){super(e,{code:Dh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qp extends ri{constructor(e){super(e,{code:qp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Mr extends Ci{constructor(e){super(e,{code:Mr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Up extends Ci{constructor(e){super(e,{code:Up.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hp extends Ci{constructor(e,{method:t}={}){super(e,{code:Hp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wp extends Ci{constructor(e){super(e,{code:Wp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yp extends Ci{constructor(e){super(e,{code:Yp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class gc extends Ci{constructor(e){super(e,{code:gc.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gp extends Ci{constructor(e){super(e,{code:Gp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Vp extends Ci{constructor(e){super(e,{code:Vp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Kp extends Ci{constructor(e){super(e,{code:Kp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Xp extends Ci{constructor(e){super(e,{code:Xp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Qp extends Ci{constructor(e){super(e,{code:Qp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Jp extends Ci{constructor(e){super(e,{code:Jp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zp extends Ci{constructor(e){super(e,{code:Zp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Xse extends ri{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Qse(){let n=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}const Mw=new Map;function Jse({fn:n,id:e,shouldSplitBatch:t,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:d})=>d);h.length!==0&&n(h).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([d[f],d])}}).catch(d=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(d)}})},o=()=>Mw.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Mw.get(e)||[],c=u=>Mw.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:d,reject:f}=Qse();return(t==null?void 0:t([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:d,reject:f}),h):(c({args:u,resolve:d,reject:f}),setTimeout(s,r),h)}}}const s0=new QI(8192);function Zse(n,{enabled:e=!0,id:t}){if(!e||!t)return n();if(s0.get(t))return s0.get(t);const r=n().finally(()=>s0.delete(t));return s0.set(t,r),r}async function eoe(n){return new Promise(e=>setTimeout(e,n))}function xY(n,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await eoe(u),o({count:a+1})};try{const c=await n();i(c)}catch(c){if(a<t&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function toe(n,e={}){return async(t,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=t;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new Nl(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new Nl(new Error("method not supported"),{method:c});const u=i?pse(`${l}.${ec(t)}`):void 0;return Zse(()=>xY(async()=>{try{return await n(t)}catch(d){const f=d;switch(f.code){case Np.code:throw new Np(f);case Lp.code:throw new Lp(f);case Fp.code:throw new Fp(f,{method:t.method});case $p.code:throw new $p(f);case Rh.code:throw new Rh(f);case jp.code:throw new jp(f);case Bp.code:throw new Bp(f);case Ya.code:throw new Ya(f);case zp.code:throw new zp(f);case Nl.code:throw new Nl(f,{method:t.method});case Dh.code:throw new Dh(f);case qp.code:throw new qp(f);case Mr.code:throw new Mr(f);case Up.code:throw new Up(f);case Hp.code:throw new Hp(f);case Wp.code:throw new Wp(f);case Yp.code:throw new Yp(f);case gc.code:throw new gc(f);case Gp.code:throw new Gp(f);case Vp.code:throw new Vp(f);case Kp.code:throw new Kp(f);case Xp.code:throw new Xp(f);case Qp.code:throw new Qp(f);case Jp.code:throw new Jp(f);case Zp.code:throw new Zp(f);case 5e3:throw new Mr(f);default:throw d instanceof _s?d:new Xse(f)}}},{delay:({count:d,error:f})=>{var m;if(f&&f instanceof Jf){const g=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>noe(d)}),{enabled:i,id:u})}}function noe(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===Dh.code||n.code===Rh.code:n instanceof Jf&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function wY(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function t(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:t(o)})}}return Object.assign(e,{extend:t(e)})}function _Y(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;t>0&&(o=setTimeout(()=>{r?a.abort():s(e)},t)),i(await n({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function roe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const _3=roe();function ioe(n,e={}){const{url:t,headers:r}=soe(n);return{async request(i){var m;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:l=e.onResponse,timeout:c=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:h,method:d,signal:f}=u;try{const g=await _Y(async({signal:y})=>{const b={...u,body:Array.isArray(s)?ec(s.map(k=>({jsonrpc:"2.0",id:k.id??_3.take(),...k}))):ec({jsonrpc:"2.0",id:s.id??_3.take(),...s}),headers:{...r,"Content-Type":"application/json",...h},method:d||"POST",signal:f||(c>0?y:null)},w=new Request(t,b),S=await(a==null?void 0:a(w,b))??{...b,url:t};return await o(S.url??t,S)},{errorInstance:new w3({body:s,url:t}),timeout:c,signal:!0});l&&await l(g);let v;if((m=g.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))v=await g.json();else{v=await g.text();try{v=JSON.parse(v||"{}")}catch(y){if(g.ok)throw y;v={error:v}}}if(!g.ok)throw new Jf({body:s,details:ec(v.error)||g.statusText,headers:g.headers,status:g.status,url:t});return v}catch(g){throw g instanceof Jf||g instanceof w3?g:new Jf({body:s,cause:g,url:t})}}}}function soe(n){try{const e=new URL(n),t=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...t}}catch{return{url:n}}}const vv="3.2.2",ooe=()=>`@wagmi/core@${vv}`;var SY=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},ly,kY;class em extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return ooe()}constructor(e,t={}){var s;super(),ly.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=t.cause instanceof em?t.cause.details:(s=t.cause)!=null&&s.message?t.cause.message:t.details,i=t.cause instanceof em&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return SY(this,ly,"m",kY).call(this,this,e)}}ly=new WeakSet,kY=function n(e,t){return t!=null&&t(e)?e:e.cause?SY(this,ly,"m",n).call(this,e.cause,t):e};class SM extends em{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const kM=256;let o0=kM,a0;function CY(n=11){if(!a0||o0+n>kM*2){a0="",o0=0;for(let e=0;e<kM;e++)a0+=(256+Math.random()*256|0).toString(16).substring(1)}return a0.substring(o0,o0+++n)}function aoe(n){const{batch:e,chain:t,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=n,a=n.experimental_blockTag??(typeof(t==null?void 0:t.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(t==null?void 0:t.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=n.pollingInterval??c,h=n.cacheTime??u,d=n.account?Vse(n.account):void 0,{config:f,request:m,value:g}=n.transport({account:d,chain:t,pollingInterval:u}),v={...f,...g},y={account:d,batch:e,cacheTime:h,ccipRead:r,chain:t,key:i,name:s,pollingInterval:u,request:m,transport:v,type:o,uid:CY(),...a?{experimental_blockTag:a}:{}};function b(w){return S=>{const _=S(w);for(const C in y)delete _[C];const k={...w,..._};return Object.assign(k,{extend:b(k)})}}return Object.assign(y,{extend:b(y)})}function loe({key:n,methods:e,name:t,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=CY();return{config:{key:n,methods:e,name:t,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:toe(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}class coe extends _s{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function S3(n,e={}){const{batch:t,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:d,retryCount:f,timeout:m})=>{const{batchSize:g=1e3,wait:v=0}=typeof t=="object"?t:{},y=e.retryCount??f,b=m??e.timeout??1e4,w=d==null?void 0:d.rpcUrls.default.http[0];if(!w)throw new coe;const S=ioe(w,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:b});return loe({key:s,methods:o,name:a,async request({method:_,params:k}){const C={method:_,params:k},{schedule:E}=Jse({id:w,wait:v,shouldSplitBatch(N){return N.length>g},fn:N=>S.request({body:N}),sort:(N,L)=>N.id-L.id}),O=async N=>t?E(N):[await S.request({body:N})],[{error:R,result:D}]=await O(C);if(h)return{error:R,result:D};if(R)throw new bY({body:C,error:R,url:w});return D},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:w})}}let Pw=!1;async function uoe(n,e={}){var c,u;if(Pw)return[];Pw=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const t=[];if((c=e.connectors)!=null&&c.length)for(const h of e.connectors){let d;typeof h=="function"?d=n._internal.connectors.setup(h):d=h,t.push(d)}else t.push(...n.connectors);let r;try{r=await((u=n.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of n.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...t].sort((h,d)=>(i[h.id]??10)-(i[d.id]??10)):t;let o=!1;const a=[],l=[];for(const h of s){const d=await h.getProvider().catch(()=>{});if(!d||l.some(g=>g===d)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(g=>{const v=new Map(o?g.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...g,current:o?g.current:h.uid,connections:v}}),a.push({accounts:m.accounts,chainId:m.chainId,connector:h}),l.push(d),o=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(o?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Pw=!1,a}class iu extends em{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}_b.type="injected";function _b(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function r(){const l=n.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...hoe[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let i,s,o,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:_b.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&n.target&&(o||(o=this.onConnect.bind(this),c.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u,withCapabilities:h}={}){var m,g,v,y,b,w;const d=await this.getProvider();if(!d)throw new iu;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(y=(v=(g=(m=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:g[0])==null?void 0:v.value)==null?void 0:y.map(_=>i0(_)),f.length>0&&(f=await this.getAccounts())}catch(S){const _=S;if(_.code===Mr.code)throw new Mr(_);if(_.code===Ya.code)throw _}try{!(f!=null&&f.length)&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(k=>i0(k))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let S=await this.getChainId();if(c&&S!==c){const _=await this.switchChain({chainId:c}).catch(k=>{if(k.code===Mr.code)throw k;return{id:S}});S=(_==null?void 0:_.id)??S}return e&&await((b=l.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),n.target||await((w=l.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:h?f.map(_=>({address:_,capabilities:{}})):f,chainId:S}}catch(S){const _=S;throw _.code===Mr.code?new Mr(_):_.code===Ya.code?new Ya(_):_}},async disconnect(){var u,h;const c=await this.getProvider();if(!c)throw new iu;s&&(c.removeListener("chainChanged",s),s=void 0),a&&(c.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),c.on("connect",o));try{await _Y(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=l.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=l.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new iu;return(await c.request({method:"eth_accounts"})).map(h=>i0(h))},async getChainId(){const c=await this.getProvider();if(!c)throw new iu;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=yv(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,u;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!n.target&&!await((u=l.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),g=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(m()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(m()),g))]))return!0}throw new iu}return!!(await xY(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var m,g,v,y;const h=await this.getProvider();if(!h)throw new iu;const d=l.chains.find(b=>b.id===u);if(!d)throw new gc(new SM);const f=new Promise(b=>{const w=S=>{"chainId"in S&&S.chainId===u&&(l.emitter.off("change",w),b())};l.emitter.on("change",w)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:_M(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),f]),d}catch(b){const w=b;if(w.code===4902||((g=(m=w==null?void 0:w.data)==null?void 0:m.originalError)==null?void 0:g.code)===4902)try{const{default:S,..._}=d.blockExplorers??{};let k;c!=null&&c.blockExplorerUrls?k=c.blockExplorerUrls:S&&(k=[S.url,...Object.values(_).map(O=>O.url)]);let C;(v=c==null?void 0:c.rpcUrls)!=null&&v.length?C=c.rpcUrls:C=[((y=d.rpcUrls.default)==null?void 0:y.http[0])??""];const E={blockExplorerUrls:k,chainId:_M(u),chainName:(c==null?void 0:c.chainName)??d.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??d.nativeCurrency,rpcUrls:C};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[E]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Mr(new Error("User rejected switch after adding network."))}),f]),d}catch(S){throw new Mr(S)}throw w.code===Mr.code?new Mr(w):new gc(w)}},async onAccountsChanged(c){var u;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=l.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(h=>i0(h))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const h=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:h});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const hoe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:yv(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return yv(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of t)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,t;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(t=n.phantom)==null?void 0:t.ethereum:yv(n,"isPhantom")}}};function yv(n,e){function t(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=n.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>t(i));if(r&&t(r))return r}function doe(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function foe(){const n=new Set;let e=[];const t=()=>doe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],n.forEach(s=>s(e,{added:[i]})))});let r=t();return{_listeners(){return n},clear(){n.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=t()},subscribe(i,{emitImmediately:s}={}){return n.add(i),s&&i(e,{added:e}),()=>n.delete(i)}}}const poe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=d=>{const f=o(d);if(!u(h,f)){const m=h;a(h=f,m)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)},moe=poe;function goe(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const CM=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return CM(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return CM(r)(t)}}}},voe=(n,e)=>(t,r,i)=>{let s={storage:goe(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return c.setItem(s.name,{state:g,version:s.version})},h=i.setState;i.setState=(g,v)=>{h(g,v),u()};const d=n((...g)=>{t(...g),u()},r,i);i.getInitialState=()=>d;let f;const m=()=>{var g,v;if(!c)return;o=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:d)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=r())!=null?g:d))||void 0;return CM(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[S,_]=b;if(f=s.merge(_,(w=r())!=null?w:d),t(f,!0),S)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,l.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||m(),f||d},yoe=voe,k3=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},Iw=n=>n?k3(n):k3;var EY={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||l,d),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,m=new Array(f);d<f;d++)m[d]=h[d].fn;return m},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,m){var g=t?t+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,d),!0;case 5:return v.fn.call(v.context,u,h,d,f),!0;case 6:return v.fn.call(v.context,u,h,d,f,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,_;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,h);break;case 4:v[w].fn.call(v[w].context,u,h,d);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===u&&(!d||m.once)&&(!h||m.context===h)&&o(this,f);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||d&&!m[g].once||h&&m[g].context!==h)&&v.push(m[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(EY);var boe=EY.exports;const xoe=ZP(boe);let woe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new xoe})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}};function _oe(n){return new woe(n)}function Soe(n,e){return JSON.parse(n,(t,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(t,i))??i})}function C3(n,e){return n.slice(0,e).join(".")||"."}function E3(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function koe(n,e){const t=typeof n=="function",r=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const c=E3(i,this);c===0?i[i.length]=this:(i.splice(c),s.splice(c)),s[s.length]=a;const u=E3(i,l);if(u!==0)return r?e.call(this,a,l,C3(s,u)):`[ref=${C3(s,u)}]`}else i[0]=l,s[0]=a;return t?n.call(this,a,l):l}}function Coe(n,e,t,r){return JSON.stringify(n,koe((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),t??void 0)}function Eoe(n){const{deserialize:e=Soe,key:t="wagmi",serialize:r=Coe,storage:i=TY}=n;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:t,async getItem(o,a){const l=i.getItem(`${t}.${o}`),c=await s(l);return c?e(c)??null:a??null},async setItem(o,a){const l=`${t}.${o}`;a===null?await s(i.removeItem(l)):await s(i.setItem(l,r(a)))},async removeItem(o){await s(i.removeItem(`${t}.${o}`))}}}const TY={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Toe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:TY;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const EM=256;let l0=EM,c0;function Moe(n=11){if(!c0||l0+n>EM*2){c0="",l0=0;for(let e=0;e<EM;e++)c0+=(256+Math.random()*256|0).toString(16).substring(1)}return c0.substring(l0,l0+++n)}function Poe(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=Eoe({storage:Toe()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=n,o=typeof window<"u"&&e?foe():void 0,a=Iw(()=>s.chains),l=Iw(()=>{const _=[],k=new Set;for(const C of s.connectors??[]){const E=c(C);if(_.push(E),!i&&E.rdns){const O=typeof E.rdns=="string"?[E.rdns]:E.rdns;for(const R of O)k.add(R)}}if(!i&&o){const C=o.getProviders();for(const E of C)k.has(E.info.rdns)||_.push(c(u(E)))}return _});function c(_){var E;const k=_oe(Moe()),C={..._({emitter:k,chains:a.getState(),storage:t,transports:s.transports}),emitter:k,uid:k.uid};return k.on("connect",w),(E=C.setup)==null||E.call(C),C}function u(_){const{info:k}=_,C=_.provider;return _b({target:{...k,id:k.rdns,provider:C}})}const h=new Map;function d(_={}){const k=_.chainId??v.getState().chainId,C=a.getState().find(O=>O.id===k);if(_.chainId&&!C)throw new SM;{const O=h.get(v.getState().chainId);if(O&&!C)return O;if(!C)throw new SM}{const O=h.get(k);if(O)return O}let E;if(s.client)E=s.client({chain:C});else{const O=C.id,R=a.getState().map(L=>L.id),D={},N=Object.entries(s);for(const[L,W]of N)if(!(L==="chains"||L==="client"||L==="connectors"||L==="transports"))if(typeof W=="object")if(O in W)D[L]=W[O];else{if(R.some(F=>F in W))continue;D[L]=W}else D[L]=W;E=aoe({...D,chain:C,batch:D.batch??{multicall:!0},transport:L=>s.transports[O]({...L,connectors:l})})}return h.set(k,E),E}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const g="0.0.0-canary-";vv.startsWith(g)?m=Number.parseInt(vv.replace(g,""),10):m=Number.parseInt(vv.split(".")[0]??"0",10);const v=Iw(moe(t?yoe(f,{migrate(_,k){if(k===m)return _;const C=f(),E=y(_,C.chainId);return{...C,chainId:E}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([k,C])=>{const{id:E,name:O,type:R,uid:D}=C.connector;return[k,{...C,connector:{id:E,name:O,type:R,uid:D}}]})},chainId:_.chainId,current:_.current}},merge(_,k){typeof _=="object"&&_&&"status"in _&&delete _.status;const C=y(_,k.chainId);return{...k,..._,chainId:C}},skipHydration:i,storage:t,version:m}):f));v.setState(f());function y(_,k){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(C=>C.id===_.chainId)?_.chainId:k}r&&v.subscribe(({connections:_,current:k})=>{var C;return k?(C=_.get(k))==null?void 0:C.chainId:void 0},_=>{if(a.getState().some(C=>C.id===_))return v.setState(C=>({...C,chainId:_??C.chainId}))}),o==null||o.subscribe(_=>{const k=new Set,C=new Set;for(const O of l.getState())if(k.add(O.id),O.rdns){const R=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const D of R)C.add(D)}const E=[];for(const O of _){if(C.has(O.info.rdns))continue;const R=c(u(O));k.has(R.id)||E.push(R)}t&&!v.persist.hasHydrated()||l.setState(O=>[...O,...E],!0)});function b(_){v.setState(k=>{const C=k.connections.get(_.uid);return C?{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts??C.accounts,chainId:_.chainId??C.chainId,connector:C.connector})}:k})}function w(_){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(k=>{const C=l.getState().find(E=>E.uid===_.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",b),C.emitter.listenerCount("change")||C.emitter.on("change",b),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",S),{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:C}),current:_.uid,status:"connected"}):k})}function S(_){v.setState(k=>{const C=k.connections.get(_.uid);if(C){const O=C.connector;O.emitter.listenerCount("change")&&C.connector.emitter.off("change",b),O.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",S),O.emitter.listenerCount("connect")||C.connector.emitter.on("connect",w)}if(k.connections.delete(_.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const E=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:E.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:t,getClient:d,get state(){return v.getState()},setState(_){let k;typeof _=="function"?k=_(v.getState()):k=_;const C=f();typeof k!="object"&&(k=C),Object.keys(C).some(O=>!(O in k))&&(k=C),v.setState(k,!0)},subscribe(_,k,C){return v.subscribe(_,k,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const _=v.getState(),k=_.connections;let C=_.current;for(const[,E]of k){const O=E.connector;O.isAuthorized&&await O.isAuthorized()||(k.delete(O.uid),C===O.uid&&(C=null))}v.setState(E=>({...E,connections:k,current:C}))},store:v,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(_){const k=typeof _=="function"?_(a.getState()):_;if(k.length!==0)return a.setState(k,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:c,setState(_){return l.setState(typeof _=="function"?_(l.getState()):_,!0)},subscribe(_){return l.subscribe(_)}},events:{change:b,connect:w,disconnect:S}}}}function Ioe(n,e){const{initialState:t,reconnectOnMount:r}=e;return t&&!n._internal.store.persist.hasHydrated()&&n.setState({...t,chainId:n.chains.some(i=>i.id===t.chainId)?t.chainId:n.chains[0].id,connections:r?t.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(i=>{var l;const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)s.add(h)}const o=[],a=((l=n._internal.mipd)==null?void 0:l.getProviders())??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=n._internal.connectors.providerDetailToConnector(c),h=n._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),r?uoe(n):n.storage&&n.setState(i=>({...i,connections:new Map}))}}}function Ooe(n){const{children:e,config:t,initialState:r,reconnectOnMount:i=!0}=n,{onMount:s}=Ioe(t,{initialState:r,reconnectOnMount:i});t._internal.ssr||s();const o=P.useRef(!0);return P.useEffect(()=>{if(o.current&&t._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Roe=P.createContext(void 0);function Doe(n){const{children:e,config:t}=n,r={value:t};return P.createElement(Ooe,n,P.createElement(Roe.Provider,r,e))}function Aoe(n){return n.replace(/_([a-z])/g,(e,t)=>t.toUpperCase())}function Noe(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&n.constructor===Object}function Ah(n){if(n==null)return n;if(Array.isArray(n))return n.map(e=>Ah(e));if(Noe(n)){const e={};for(const[t,r]of Object.entries(n)){const i=Aoe(t);e[i]=Ah(r)}return e}return n}class ZI{constructor(e,t=3,r=3e4){de(this,"baseURL");de(this,"timeout");de(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=t,this.timeout=r}async do(e){var o,a,l,c,u,h,d,f,m;const t=Date.now();let r=null,i=null;for(let g=1;g<=this.maxRetries;g++)try{return{...await this.doRequest(e),duration:Date.now()-t}}catch(v){if(r=v,this.isNonceError(v))throw v;const y=this.parseErrorBody(v);if(i=y,this.isServiceUnavailable(y)){const b=(o=y==null?void 0:y.details)==null?void 0:o.retryAfterSeconds,w=(a=y==null?void 0:y.details)==null?void 0:a.circuitBreakerState,S=(l=y==null?void 0:y.details)==null?void 0:l.readsAllowed,_=(c=y==null?void 0:y.details)==null?void 0:c.requestType;if(w==="OPEN"){const k=((u=y==null?void 0:y.details)==null?void 0:u.serviceStatus)||"UNAVAILABLE",C=[];S&&C.push("reads"),(h=y==null?void 0:y.details)!=null&&h.writesAllowed&&C.push("writes"),(d=y==null?void 0:y.details)!=null&&d.streamsAllowed&&C.push("streams");const E=C.length>0?` (Allowed: ${C.join(", ")})`:" (No operations allowed)";throw new Error(`Service temporarily unavailable: Circuit breaker is OPEN. Service status: ${k}.${E} Retry after ${b||30} seconds. Request type: ${_||"unknown"}. Details: ${(y==null?void 0:y.message)||"Service unavailable"}`)}if(b&&g<this.maxRetries){await this.delay(b*1e3);continue}}if(g<this.maxRetries){const b=g*1e3;await this.delay(b)}}let s=`Request failed after ${this.maxRetries} attempts: ${r==null?void 0:r.message}`;throw(f=i==null?void 0:i.details)!=null&&f.retryAfterSeconds&&(s+=` (Service requested retry after ${i.details.retryAfterSeconds} seconds)`),(m=i==null?void 0:i.details)!=null&&m.circuitBreakerState&&(s+=` (Circuit breaker: ${i.details.circuitBreakerState})`),new Error(s)}async doRequest(e){const t=`${this.baseURL}${e.path}`,r={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},i={method:e.method,headers:r,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?i.body=JSON.stringify(e.body):e.method==="GET"&&(i.body=void 0);const s=await fetch(t,i);let o;const a=s.headers.get("content-type");if(a!=null&&a.includes("application/json"))try{const l=await s.json();o=Ah(l)}catch{o=await s.text()}else o=await s.text();if(s.status>=400)throw new Error(`HTTP ${s.status}: ${JSON.stringify(o)}`);return{statusCode:s.status,body:o,headers:s.headers}}isNonceError(e){const t=(e==null?void 0:e.message)||"";return t.toLowerCase().includes("nonce")||t.includes("InvalidNonce")||t.includes("NonceError")}parseErrorBody(e){try{const r=((e==null?void 0:e.message)||"").match(/HTTP \d+: (.+)$/);if(r&&r[1]){const i=JSON.parse(r[1]);if(i&&typeof i=="object"&&(i.error===503||i.code==="SERVICE_UNAVAILABLE"))return Ah(i)}}catch{}return null}isServiceUnavailable(e){var t;return e?e.error===503||e.code==="SERVICE_UNAVAILABLE"||((t=e.details)==null?void 0:t.circuitBreakerState)==="OPEN":!1}delay(e){return new Promise(t=>setTimeout(t,e))}async get(e,t){return this.do({method:"GET",path:e,headers:t})}async post(e,t,r){return this.do({method:"POST",path:e,body:t,headers:r})}async put(e,t,r){return this.do({method:"PUT",path:e,body:t,headers:r})}async delete(e,t){return this.do({method:"DELETE",path:e,headers:t})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}let Jd={instance:null,module:null},Loe=null;async function Foe(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const a=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let l=!1,c=null;for(const u of a)try{console.log(`Trying to load wasm_exec.js from: ${u}`),await new Promise((h,d)=>{const f=document.createElement("script");f.src=u,f.async=!0,f.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${u}`),h()},f.onerror=()=>{d(new Error(`Failed to load from ${u}`))},document.head.appendChild(f)}),l=!0;break}catch(h){console.warn(`Failed to load from ${u}:`,h==null?void 0:h.message),c=h,document.head.querySelectorAll(`script[src="${u}"]`).forEach(f=>f.remove())}if(!l)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(c==null?void 0:c.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;Loe=e,console.log("Go instance created");const t="/morm_signer.wasm";console.log("Loading WASM from:",t);let r;try{const a=await fetch(t);if(console.log("WASM fetch response:",{status:a.status,statusText:a.statusText,ok:a.ok,url:a.url}),!a.ok){const l=await a.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${t}: ${a.status} ${a.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}r=await a.arrayBuffer(),console.log("WASM file loaded successfully, size:",r.byteLength,"bytes")}catch(a){throw console.error("WASM fetch failed:",a),new Error(`Failed to fetch WASM file: ${(a==null?void 0:a.message)||a}. The file should be accessible at ${window.location.origin}${t}`)}console.log("Instantiating WASM module...");let i;try{i=await WebAssembly.instantiate(r,e.importObject),console.log("WASM module instantiated successfully")}catch(a){throw console.error("Failed to instantiate WASM:",a),new Error(`Failed to instantiate WASM module: ${(a==null?void 0:a.message)||a}. The WASM file may be corrupted or incompatible.`)}Jd.instance=i.instance,Jd.module=i.module,console.log("Running Go program..."),console.log("Window object before Go run:",Object.keys(window).filter(a=>typeof window[a]=="function"&&(a.startsWith("morm")||a.startsWith("derive")||a.startsWith("generate")||a==="Go")));try{e.run(Jd.instance),console.log("Go program started (run() completed)")}catch(a){throw console.error("Failed to run Go program:",a),new Error(`Failed to run Go program: ${(a==null?void 0:a.message)||a}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const s=10;let o=[];for(let a=1;a<=s;a++){const l=Math.min(a*200,2e3);await new Promise(u=>setTimeout(u,l));const c=Object.keys(window).filter(u=>typeof window[u]=="function");if(o=c.filter(u=>u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u.startsWith("verify")||u.startsWith("map")||u.startsWith("validate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"),console.log(`Attempt ${a}/${s}:`,{waitTime:`${l}ms`,allWindowFunctions:c.length,exportedFunctions:o,sampleWindowKeys:c.slice(0,20)}),o.length>0){console.log(" Go functions found!",o);break}a===s&&(console.warn(" No expected functions found. All window functions:",c.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(o.length===0){const a=[],l=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:l.length,allFunctions:l.filter(c=>typeof window[c]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Jd.instance!==null,wasmModule:Jd.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(u=>setTimeout(u,500));const c=Object.keys(window).filter(u=>typeof window[u]=="function"&&(u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"));c.length>0&&(console.log(" Functions found after InitWASMSigner!",c),o=c)}catch(c){console.error("Failed to call InitWASMSigner:",c)}}if(o.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class $oe{constructor(){de(this,"isInitialized",!1);de(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await Foe(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"}async generateAddress(e,t=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.deriveAddress(e,t);return typeof r=="string"?{success:!0,address:r,index:t,mnemonic:e.substring(0,20)+"..."}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to derive address"}}catch(r){return console.error("Failed to generate address:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.generateMnemonic(e);return typeof t=="string"?{success:!0,mnemonic:t}:t&&t.error?{success:!1,error:t.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,t,r={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=(r.useEIP712,"ECDSA_LEGACY"),s=window.generateSignature(i,e,t);return typeof s=="string"?{success:!0,signature:s,message:t,options:r}:s&&s.error?{success:!1,error:s.error}:{success:!1,error:"Failed to generate signature"}}catch(i){return console.error("Failed to sign message:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async signDeposit(e,t,r,i={}){const s={...i,depositMode:!0,walletAddress:t,amount:r},o=JSON.stringify({action:"deposit",owner:t,amount:r,nonce:i.nonce||Date.now(),deadline:i.deadline||Date.now()+36e5}),a=await this.signMessage(e,o,s);return{success:a.success,signature:a.signature,message:a.message,address:t,options:a.options,error:a.error}}async signEIP712(e,t,r={}){const i={...r,useEIP712:!0};return this.signMessage(e,t,i)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return t&&t.error?{success:!1,error:t.error}:{success:!0,typedData:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async signAgentApproval(e,t){const r=await this.prepareAgentSign(t);if(!r.success||!r.typedData)return r;const i=JSON.stringify({action:"agent::approve",wallet:t.owner,agent:t.agent,agentName:t.agentName||"",expiresInDays:t.expiresInDays,permissions:t.permissions,nonce:t.nonce,deadline:Date.now()+t.expiresInDays*24*60*60*1e3}),s=await this.signMessage(e,i,{useEIP712:!0});return s.success?{success:!0,typedData:r.typedData,signature:s.signature}:{success:!1,error:s.error}}async verifySignature(e,t,r){if(!this.isReady())throw new Error("MormSigner not initialized");try{const i=window.verifySignature(e,t,r);return typeof i=="boolean"?i:!1}catch(i){return console.error("Failed to verify signature:",i),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(t){return console.error("Failed to map algorithm:",t),"ECDSA_LEGACY"}}validateNonce(e,t){if(!this.isReady())return!1;try{return window.validateNonce(e,t)}catch(r){return console.error("Failed to validate nonce:",r),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,t,r){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateSingleSignature(e,t,r);return i.error?{success:!1,error:i.error}:{success:!0,signature:i.signature}}catch(i){return console.error("Failed to generate single signature:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateMultisignSignatures(e,t,r=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateMultisignSignatures(e,t,r);if(i.error)return{success:!1,error:i.error};let s=null;if(i.tx)try{s=JSON.parse(i.tx)}catch(o){console.warn("Failed to parse updated transaction JSON:",o)}return{success:!0,tx:s,txJSON:i.tx}}catch(i){return console.error("Failed to generate multisign signatures:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(t){return console.error("Failed to check signature type support:",t),!1}}}const Xs=new $oe,joe=6e4,T3=100,Ow=24*60*60*1e3,Rw=1;class MY{constructor(e,t){de(this,"infoClient");de(this,"storage");de(this,"onChainState",new Map);de(this,"offChainNonces",new Map);de(this,"syncTimers",new Map);this.infoClient=e,this.storage=t}persistState(e,t){var r;(r=this.storage)==null||r.setSnapshot(e,{confirmed:t.confirmed,pending:[...t.pending],lastSync:t.lastSync})}getOrCreateState(e){var i;const t=e.toLowerCase();let r=this.onChainState.get(t);if(!r){const s=(i=this.storage)==null?void 0:i.getSnapshot(t);r=s?{confirmed:s.confirmed,pending:[...s.pending],lastSync:s.lastSync,mu:!1}:{confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(t,r)}return r}async acquireLock(e){for(;e.mu;)await new Promise(t=>setTimeout(t,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e){const t=this.getOrCreateState(e),r=Date.now();if(!(r-t.lastSync<joe))try{const s=(await this.infoClient.getNonceStatus(e,!1)).nextNonce;t.confirmed=s,t.lastSync=r,this.persistState(e,t)}catch(i){console.warn(`[NonceManager] Failed to sync with core for ${e}:`,i)}}async getNonce(e,t="latest"){const r=e.toLowerCase(),i=this.getOrCreateState(r);if(await this.syncWithCore(r),t==="latest")return i.confirmed;{const s=i.pending.length>0?Math.max(...i.pending):i.confirmed;return Math.max(i.confirmed,s)}}async validateNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{if(r||await this.syncWithCore(i),s.confirmed===0&&t<Rw)throw new Error(`nonce too low for new account: got ${t}, minimum ${Rw}`);if(s.confirmed>0&&t<=s.confirmed)throw new Error(`nonce too low: got ${t}, confirmed ${s.confirmed}`);if(s.pending.includes(t))throw new Error(`nonce already pending: ${t}`);if(s.pending.length>=T3)throw new Error(`pending nonce limit reached: max ${T3} pending nonces`);if(r){const o=this.offChainNonces.get(i);if(o){const a=o.get(t);if(a){const l=Date.now();if(l-a<Ow)throw new Error(`nonce already used (off-chain): ${t}, expires in ${Math.floor((Ow-(l-a))/1e3)}s`);o.delete(t)}}}s.pending.push(t),s.pending.sort((o,a)=>o-a),this.persistState(i,s)}finally{this.releaseLock(s)}}async commitNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){let a=this.offChainNonces.get(i);a||(a=new Map,this.offChainNonces.set(i,a)),a.set(t,Date.now())}else if(t===s.confirmed+1)for(s.confirmed=t;s.pending.length>0&&s.pending[0]===s.confirmed+1;){const a=s.pending.shift();s.confirmed=a}this.persistState(i,s)}finally{this.releaseLock(s)}}async rejectNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){const a=this.offChainNonces.get(i);a&&a.delete(t)}this.persistState(i,s)}finally{this.releaseLock(s)}}async getExpectedNextNonce(e,t=!1){const r=e.toLowerCase();await this.syncWithCore(r);const i=this.getOrCreateState(r),s=i.pending.length>0?Math.max(...i.pending):i.confirmed,o=Math.max(i.confirmed+1,s+1),a=o===0?Rw:o;if(t)try{await this.validateNonce(r,a,!1)}catch(l){console.warn(`[NonceManager] Failed to reserve nonce ${a}:`,l.message)}return{next_nonce:a,reserved:t,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[t,r]of this.offChainNonces.entries()){for(const[i,s]of r.entries())e-s>=Ow&&r.delete(i);r.size===0&&this.offChainNonces.delete(t)}}resetNonce(e){var i,s;const t=e.toLowerCase();this.onChainState.delete(t),this.offChainNonces.delete(t),(s=(i=this.storage)==null?void 0:i.clearOwner)==null||s.call(i,t);const r=this.syncTimers.get(t);r&&(clearInterval(r),this.syncTimers.delete(t))}getState(e){const t=e.toLowerCase();return this.onChainState.get(t)}}const cy=1e8;function Tn(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*cy)).toString()}function Ln(n){const e=BigInt(n),t=BigInt(cy),r=e/t,i=e%t;return Number(r)+Number(i)/cy}function Boe(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*cy)}function M3(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function nt(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return Ln(typeof n=="string"?n:String(n))}catch{return 0}return 0}function zoe(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function uy(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function qoe(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}class eo{constructor(e){de(this,"httpClient");de(this,"sessionToken");this.httpClient=new ZI(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){var r;const t=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;if(t&&typeof t=="object"&&"markets"in t){const i=t.count??t.total??((r=t.markets)==null?void 0:r.length)??0;return{markets:t.markets??[],total:i,count:t.count}}return{markets:[],total:0}}async getMarketsWithFilters(e,t){var a;let r="/market/v1/all";const i=[];e&&i.push(`filter=${e}`),t&&i.push("active_only=true"),i.length>0&&(r+="?"+i.join("&"));const o=(await this.httpClient.get(r,this.getHeaders())).body;if(o&&typeof o=="object"&&"markets"in o){const l=o.count??o.total??((a=o.markets)==null?void 0:a.length)??0;return{markets:o.markets??[],total:l,count:o.count}}return{markets:[],total:0}}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketBySymbol(e){return(await this.httpClient.get(`/market/v1/market/by-symbol/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByTicker(e){return(await this.httpClient.get(`/market/v1/market/by-ticker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,t=!0,r=20){let i=`/clob/v1/orderbook/${e}`,s=20;r>0&&r<100&&(s=r),i+=`?depth=${s}`;const a=(await this.httpClient.get(i,this.getHeaders())).body;return t&&a&&(a.bids&&Array.isArray(a.bids)&&(a.bids=a.bids.map(([l,c])=>[Ln(l),Ln(c)])),a.asks&&Array.isArray(a.asks)&&(a.asks=a.asks.map(([l,c])=>[Ln(l),Ln(c)]))),a}async getMarketTrades(e,t){let r=`/clob/v1/trades?market_id=${e}`;t&&t>0&&(r+=`&limit=${t}`);const i=await this.httpClient.get(r,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",i.body);const s=i.body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",i.body),[])}async getTrades(e,t){let r=`/clob/v1/trades?symbol=${e}`;t&&t>0&&(r+=`&limit=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getAggTrades(e,t,r,i){let s=`/market/v1/aggTrades?symbol=${e}`;return t&&t>0&&(s+=`&limit=${t}`),r&&r>0&&(s+=`&startTime=${r}`),i&&i>0&&(s+=`&endTime=${i}`),(await this.httpClient.get(s,this.getHeaders())).body}async getKlines(e,t,r,i,s){let o=`/clob/v1/klines?symbol=${e}&interval=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l)?l:[]}async getContinuousKlines(e,t,r,i,s,o){let a=`/market/v1/continuousKlines?pair=${e}&contractType=${t}&interval=${r}`;return i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`),(await this.httpClient.get(a,this.getHeaders())).body}async getPremiumIndex(e){let t="/market/v1/premiumIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getFundingRate(e,t,r,i){let s="/market/v1/fundingRate";const o=[];e&&o.push(`symbol=${e}`),t&&t>0&&o.push(`limit=${t}`),r&&r>0&&o.push(`startTime=${r}`),i&&i>0&&o.push(`endTime=${i}`),o.length>0&&(s+="?"+o.join("&"));const l=(await this.httpClient.get(s,this.getHeaders())).body;return Array.isArray(l)?l:l&&typeof l=="object"&&"data"in l&&Array.isArray(l.data)?l.data:l?[l]:[]}async getFundingInfo(){const t=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(t)?t:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,t,r,i,s){let o=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getGlobalLongShortAccountRatio(e,t,r,i,s){let o=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getTicker24hr(e){let t="/market/v1/ticker/24hr";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getTickerPrice(e){let t="/market/v1/ticker/price";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookTicker(e){let t="/market/v1/ticker/bookTicker";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookMoniker(e){return this.getOrderbookTicker(e)}async getBasis(e,t,r,i,s){let o=`/market/v1/basis?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getIndexInfo(e){let t="/market/v1/indexInfo";return e&&(t+=`?symbol=${e}`),(await this.httpClient.get(t,this.getHeaders())).body}async getAssetIndex(e){let t="/market/v1/assetIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,t){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${t}`,this.getHeaders())).body}async getTransactionHistory(e){const t=new URLSearchParams({address:e.address});return e.txType&&t.set("txType",e.txType),e.limit&&t.set("limit",e.limit.toString()),e.offset&&t.set("offset",e.offset.toString()),(await this.httpClient.get(`/bank/v1/transactions/history?${t.toString()}`,this.getHeaders())).body}async getBucketMetrics(){return(await this.httpClient.get("/bucket/v1/metrics",this.getHeaders())).body}async getBucketEfficiencyMetrics(){return(await this.httpClient.get("/bucket/v1/metrics/efficiency",this.getHeaders())).body}async getAddressPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/address/${encodeURIComponent(e)}`,this.getHeaders())).body}async getBucketPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/bucket/${encodeURIComponent(e)}`,this.getHeaders())).body}async getPositions(e,t){if(!e)throw new Error("walletAddress is required for getPositions");let r=`/bucket/v1/address/${e}/positions`;t!==void 0&&(r+=`?active_only=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s)?s:s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBalance(e,t){var o;const r=`/bank/v1/balance/${encodeURIComponent(e)}?asset=${encodeURIComponent(t)}`,s=(await this.httpClient.get(r,this.getHeaders())).body;if(!s.asset&&s.collateralAssetIndex){const a=((o=s.collateralAssetIndex)==null?void 0:o.ticker)??s.collateralAssetIndex;if(typeof a=="string")return{...s,asset:a}}return s}async getBalances(e){const r=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return r&&typeof r=="object"&&"balances"in r&&Array.isArray(r.balances)?r.balances.map(i=>{var o;if(i.asset)return i;const s=((o=i.collateralAssetIndex)==null?void 0:o.ticker)??i.collateralAssetIndex;return s&&typeof s=="string"?{...i,asset:s}:i}):[]}async getBalanceDecimal(e,t){const r=await this.getBalance(e,t);if(r&&typeof r=="object"){const i={...r};return i.balance&&(i.balance=Ln(i.balance)),i.availableBalance&&(i.available=Ln(i.availableBalance)),i.available&&typeof i.available=="string"&&(i.available=Ln(i.available)),i.lockedBalance&&(i.locked=Ln(i.lockedBalance)),i.locked&&typeof i.locked=="string"&&(i.locked=Ln(i.locked)),i}return r}async getOrders(e,t){return this.getOrdersByAddress(e,t?{marketIndex:t}:void 0)}async getOrdersByMarket(e,t){const r=new URLSearchParams;t!=null&&t.symbol&&r.set("symbol",t.symbol),t!=null&&t.status&&r.set("status",t.status),(t==null?void 0:t.offset)!=null&&r.set("paginationRequest.offset",String(t.offset)),(t==null?void 0:t.limit)!=null&&r.set("paginationRequest.limit",String(t.limit));const i=r.toString(),s=`/clob/v1/market/${encodeURIComponent(e)}/orders${i?`?${i}`:""}`;return(await this.httpClient.get(s,this.getHeaders())).body??{orders:[],totalCount:0,timestamp:Date.now()}}async getOrdersByAddress(e,t){const r=`/clob/v1/address/${encodeURIComponent(e)}/orders`,i=new URLSearchParams;t!=null&&t.marketIndex&&i.set("marketIndex",t.marketIndex),t!=null&&t.status&&i.set("status",t.status),(t==null?void 0:t.limit)!=null&&i.set("paginationRequest.limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&i.set("paginationRequest.offset",String(t.offset));const s=i.toString(),o=s?`${r}?${s}`:r;return(await this.httpClient.get(o,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return this.getOrdersByAddress(e)}async getAddressLiquidations(e){const t=new URLSearchParams;return e.limit!=null&&t.set("limit",e.limit.toString()),e.offset!=null&&t.set("offset",e.offset.toString()),e.start_time!=null&&t.set("start_time",e.start_time.toString()),e.end_time!=null&&t.set("end_time",e.end_time.toString()),(await this.httpClient.get(`/clob/v1/address/${encodeURIComponent(e.address)}/liquidations${t.toString()?`?${t.toString()}`:""}`,this.getHeaders())).body}async getUserTrades(e,t){let r=`/clob/v1/address/trades?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getTradeHistory(e,t){return this.getUserTrades(e,t)}async getPosition(e,t){let r=`/clob/v1/address/position?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBuckets(e){var r;const t=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(r=t.body)!=null&&r.buckets&&Array.isArray(t.body.buckets)?t.body.buckets:[]}async getBucket(e){const t=await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders()),r=t.body;return(r==null?void 0:r.bucket)!=null?r.bucket:t.body}async getMarketData(e){var u,h;const t=`/clob/v1/orderbook/${encodeURIComponent(e)}/snapshot?depth=1`,i=(await this.httpClient.get(t,this.getHeaders())).body,s=(i==null?void 0:i.bids)??[],o=(i==null?void 0:i.asks)??[],a=(u=s[0])==null?void 0:u.price,l=(h=o[0])==null?void 0:h.price;let c;return a!=null&&l!=null?c=(parseFloat(a)+parseFloat(l))/2:a!=null?c=parseFloat(a):l!=null&&(c=parseFloat(l)),{...i??{},symbol:i==null?void 0:i.symbol,assetPair:i==null?void 0:i.symbol,lastPrice:c!=null?String(c):void 0,last_price:c,markPrice:c!=null?String(c):void 0,mark_price:c}}async getMarketCandles(e,t,r){const i=new URLSearchParams({interval:t,limit:String(r)}),s=`/clob/v1/market/${encodeURIComponent(e)}/klines?${i.toString()}`,a=(await this.httpClient.get(s,this.getHeaders())).body;if(Array.isArray(a))return a;const l=a==null?void 0:a.klines;return Array.isArray(l)?l:[]}async getOrderbookSnapshot(e,t=100){const r=`/v1/stream/orderbook/${encodeURIComponent(e)}/snapshot?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getLocalChecksum(e,t=25){const r=`/v1/stream/local-checksum/${encodeURIComponent(e)}?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getStreamStats(){return(await this.httpClient.get("/v1/stream/stats",this.getHeaders())).body}async getChecksum(e,t,r,i){const s=new URLSearchParams({stream_type:e,stream_key:t});return r!=null&&s.set("depth",String(r)),i&&s.set("address",i),(await this.httpClient.get(`/v1/stream/checksum?${s.toString()}`,this.getHeaders())).body}async getOrderbookChecksum(e,t=25){var o;const r=`/clob/v1/market/${encodeURIComponent(e)}/checksum?depth=${t}`,i=await this.httpClient.get(r,this.getHeaders()),s=i.body;return{market_index:String((s==null?void 0:s.marketIndex)??e),checksum:(s==null?void 0:s.checksum)??"",sequence_id:s==null?void 0:s.sequenceId,depth:t,timestamp:(o=i.body)==null?void 0:o.timestamp}}async resyncOrderbookIfMismatch(e,t,r=25){const i=await this.getLocalChecksum(e,r);return t!=null&&i.checksum!==t?{mismatch:!0,snapshot:await this.getOrderbookSnapshot(e,r)}:{mismatch:!1}}async getNonceStatus(e,t=!1){let r=`/router/v1/nonce/status/${encodeURIComponent(e)}`;return t&&(r+="?reserve=true"),(await this.httpClient.get(r,this.getHeaders())).body}async getAuthNonce(e){const t=`/auth/v1/nonce?owner=${encodeURIComponent(e)}`;return(await this.httpClient.get(t,this.getHeaders())).body}async nonceRollback(e,t){return(await this.httpClient.post("/router/v1/nonce/rollback",{address:e,nonce:t},this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthRisk(){return(await this.httpClient.get("/router/v1/health/risk",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getHealthCircuitBreaker(){return(await this.httpClient.get("/router/v1/health/circuit-breaker",this.getHeaders())).body}async getHealthCoredaemon(){return(await this.httpClient.get("/router/v1/health/coredaemon",this.getHeaders())).body}async getHealthLive(){return(await this.httpClient.get("/health/live",this.getHeaders())).body}async getHealthReady(e,t){const r=new URLSearchParams;e&&r.set("verbose","true"),t&&r.set("strict","true");const i=r.toString(),s=i?`/health/ready?${i}`:"/health/ready";return(await this.httpClient.get(s,this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}const PY="6.16.0";async function eO(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function gi(n,e,t){for(let r in e){let i=e[r];Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Pu(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>Pu(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Pu(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${Pu(r,e)}: ${Pu(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Uoe(n,e,t){let r=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Pu(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];s.push(o+"="+Pu(a))}}s.push(`code=${e}`),s.push(`version=${PY}`),s.length&&(n+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return gi(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&gi(i,{shortMessage:r}),i}function Et(n,e,t,r){if(!n)throw Uoe(e,t,r)}function ce(n,e,t,r){Et(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}const Hoe=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function IY(n){Et(Hoe.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function Sb(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),Et(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function OY(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(n.substring(i,i+2),16),i+=2;return r}ce(!1,"invalid BytesLike value",e||"value",n)}function Ge(n,e){return OY(n,e,!1)}function mu(n,e){return OY(n,e,!0)}function to(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function kb(n){return to(n,!0)||n instanceof Uint8Array}const P3="0123456789abcdef";function Fe(n){const e=Ge(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=P3[(i&240)>>4]+P3[i&15]}return t}function Dn(n){return"0x"+n.map(e=>Fe(e).substring(2)).join("")}function Zf(n){return to(n,!0)?(n.length-2)/2:Ge(n).length}function tO(n,e,t){const r=Ge(n);return t>r.length&&Et(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),Fe(r.slice(e,t))}function Woe(n,e,t){const r=Ge(n);Et(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(r,e-r.length),Fe(i)}function Za(n,e){return Woe(n,e)}const Cb=BigInt(0),Pl=BigInt(1),Iu=9007199254740991;function Yoe(n,e){let t=Kt(n,"value");const r=BigInt(vi(e,"width")),i=Pl<<r-Pl;if(t<Cb){t=-t,Et(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(Pl<<r)-Pl;return(~t&s)+Pl}else Et(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Goe(n,e){const t=nO(n,"value"),r=BigInt(vi(e,"bits"));return t&(Pl<<r)-Pl}function Kt(n,e){switch(typeof n){case"bigint":return n;case"number":return ce(Number.isInteger(n),"underflow",e||"value",n),ce(n>=-Iu&&n<=Iu,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){ce(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}ce(!1,"invalid BigNumberish value",e||"value",n)}function nO(n,e){const t=Kt(n,e);return Et(t>=Cb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const I3="0123456789abcdef";function RY(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=I3[t>>4],e+=I3[t&15];return BigInt(e)}return Kt(n)}function vi(n,e){switch(typeof n){case"bigint":return ce(n>=-Iu&&n<=Iu,"overflow",e||"value",n),Number(n);case"number":return ce(Number.isInteger(n),"underflow",e||"value",n),ce(n>=-Iu&&n<=Iu,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return vi(BigInt(n),e)}catch(t){ce(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}ce(!1,"invalid numeric value",e||"value",n)}function Nh(n,e){const t=nO(n,"value");let r=t.toString(16);{const i=vi(e,"width");if(i===0&&t===Cb)return"0x";for(Et(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function On(n,e){const t=nO(n,"value");if(t===Cb)return new Uint8Array(0);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(r.substring(o,o+2),16)}return i}function Voe(n){let e=Fe(kb(n)?n:On(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const hy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let u0=null;function Koe(n){if(u0==null){u0={};for(let t=0;t<hy.length;t++)u0[hy[t]]=BigInt(t)}const e=u0[n];return ce(e!=null,"invalid base58 value","letter",n),e}const Xoe=BigInt(0),TM=BigInt(58);function Qoe(n){const e=Ge(n);let t=RY(e),r="";for(;t;)r=hy[Number(t%TM)]+r,t/=TM;for(let i=0;i<e.length&&!e[i];i++)r=hy[0]+r;return r}function Joe(n){let e=Xoe;for(let t=0;t<n.length;t++)e*=TM,e+=Koe(n[t]);return e}function tc(n,e){ce(typeof n=="string","invalid string value","str",n),e!=null&&(IY(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);ce(r<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function Zoe(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function O3(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function R3(n,e,t,r){const i=[];for(;t<e+1+r;){const s=DY(n,t);i.push(s.result),t+=s.consumed,Et(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function DY(n,e){Et(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{Et(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=O3(n,e+1,r);return t(e+1+r+i),R3(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),R3(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=O3(n,e+1,r);t(e+1+r+i);const s=Fe(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=Fe(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Zoe(n[e])}}function Bm(n){const e=Ge(n,"data"),t=DY(e,0);return ce(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function D3(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function AY(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(AY(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=D3(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Ge(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=D3(e.length);return t.unshift(183+t.length),t.concat(e)}const A3="0123456789abcdef";function Lo(n){let e="0x";for(const t of AY(n))e+=A3[t>>4],e+=A3[t&15];return e}function eae(n){const e=Ge(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Fe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}function ui(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function rO(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function NY(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ui(n.outputLen),ui(n.blockLen)}function Lh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function LY(n,e){rO(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Dw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FY=n=>n instanceof Uint8Array,bv=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),xv=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ps=(n,e)=>n<<32-e|n>>>e,tae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!tae)throw new Error("Non little-endian hardware is not supported");const nae=async()=>{};async function N3(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);const s=Date.now()-r;s>=0&&s<e||(await nae(),r+=s)}}function rae(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Fh(n){if(typeof n=="string"&&(n=rae(n)),!FY(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function iae(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!FY(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class iO{clone(){return this._cloneInto()}}const sae={}.toString;function $Y(n,e){if(e!==void 0&&sae.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function Eb(n){const e=r=>n().update(Fh(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function oae(n=32){if(Dw&&typeof Dw.getRandomValues=="function")return Dw.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class jY extends iO{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,NY(e);const r=Fh(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Lh(this),this.iHash.update(e),this}digestInto(e){Lh(this),rO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Tb=(n,e,t)=>new jY(n,e).update(t).digest();Tb.create=(n,e)=>new jY(n,e);function aae(n,e,t,r){NY(n);const i=$Y({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(ui(s),ui(o),ui(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Fh(e),c=Fh(t),u=new Uint8Array(o),h=Tb.create(n,l),d=h._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}function lae(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function sO(n,e,t,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=aae(n,e,t,r);let c;const u=new Uint8Array(4),h=xv(u),d=new Uint8Array(a.outputLen);for(let f=1,m=0;m<s;f++,m+=a.outputLen){const g=o.subarray(m,m+a.outputLen);h.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(d),g.set(d.subarray(0,g.length));for(let v=1;v<i;v++){a._cloneInto(c).update(d).digestInto(d);for(let y=0;y<g.length;y++)g[y]^=d[y]}}return lae(a,l,o,c,d)}function cae(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),l=r?4:0,c=r?0:4;n.setUint32(e+l,o,r),n.setUint32(e+c,a,r)}class oO extends iO{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xv(this.buffer)}update(e){Lh(this);const{view:t,buffer:r,blockLen:i}=this;e=Fh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=xv(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Lh(this),LY(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)t[h]=0;cae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=xv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}const uae=(n,e,t)=>n&e^~n&t,hae=(n,e,t)=>n&e^n&t^e&t,dae=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ra=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ia=new Uint32Array(64);class fae extends oO{constructor(){super(64,32,8,!1),this.A=ra[0]|0,this.B=ra[1]|0,this.C=ra[2]|0,this.D=ra[3]|0,this.E=ra[4]|0,this.F=ra[5]|0,this.G=ra[6]|0,this.H=ra[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,t,r,i,s,o,a,l]}set(e,t,r,i,s,o,a,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let h=0;h<16;h++,t+=4)ia[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const d=ia[h-15],f=ia[h-2],m=Ps(d,7)^Ps(d,18)^d>>>3,g=Ps(f,17)^Ps(f,19)^f>>>10;ia[h]=g+ia[h-7]+m+ia[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const d=Ps(a,6)^Ps(a,11)^Ps(a,25),f=u+d+uae(a,l,c)+dae[h]+ia[h]|0,g=(Ps(r,2)^Ps(r,13)^Ps(r,22))+hae(r,i,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ia.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ud=Eb(()=>new fae),h0=BigInt(2**32-1),MM=BigInt(32);function BY(n,e=!1){return e?{h:Number(n&h0),l:Number(n>>MM&h0)}:{h:Number(n>>MM&h0)|0,l:Number(n&h0)|0}}function zY(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:o}=BY(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}const pae=(n,e)=>BigInt(n>>>0)<<MM|BigInt(e>>>0),mae=(n,e,t)=>n>>>t,gae=(n,e,t)=>n<<32-t|e>>>t,vae=(n,e,t)=>n>>>t|e<<32-t,yae=(n,e,t)=>n<<32-t|e>>>t,bae=(n,e,t)=>n<<64-t|e>>>t-32,xae=(n,e,t)=>n>>>t-32|e<<64-t,wae=(n,e)=>e,_ae=(n,e)=>n,qY=(n,e,t)=>n<<t|e>>>32-t,UY=(n,e,t)=>e<<t|n>>>32-t,HY=(n,e,t)=>e<<t-32|n>>>64-t,WY=(n,e,t)=>n<<t-32|e>>>64-t;function Sae(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const kae=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Cae=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Eae=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Tae=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Mae=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Pae=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,ut={fromBig:BY,split:zY,toBig:pae,shrSH:mae,shrSL:gae,rotrSH:vae,rotrSL:yae,rotrBH:bae,rotrBL:xae,rotr32H:wae,rotr32L:_ae,rotlSH:qY,rotlSL:UY,rotlBH:HY,rotlBL:WY,add:Sae,add3L:kae,add3H:Cae,add4L:Eae,add4H:Tae,add5H:Pae,add5L:Mae},[Iae,Oae]=ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),sa=new Uint32Array(80),oa=new Uint32Array(80);class Rae extends oO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:d,Gh:f,Gl:m,Hh:g,Hl:v}=this;return[e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v]}set(e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=f|0,this.Gl=m|0,this.Hh=g|0,this.Hl=v|0}process(e,t){for(let w=0;w<16;w++,t+=4)sa[w]=e.getUint32(t),oa[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const S=sa[w-15]|0,_=oa[w-15]|0,k=ut.rotrSH(S,_,1)^ut.rotrSH(S,_,8)^ut.shrSH(S,_,7),C=ut.rotrSL(S,_,1)^ut.rotrSL(S,_,8)^ut.shrSL(S,_,7),E=sa[w-2]|0,O=oa[w-2]|0,R=ut.rotrSH(E,O,19)^ut.rotrBH(E,O,61)^ut.shrSH(E,O,6),D=ut.rotrSL(E,O,19)^ut.rotrBL(E,O,61)^ut.shrSL(E,O,6),N=ut.add4L(C,D,oa[w-7],oa[w-16]),L=ut.add4H(N,k,R,sa[w-7],sa[w-16]);sa[w]=L|0,oa[w]=N|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:d,Fh:f,Fl:m,Gh:g,Gl:v,Hh:y,Hl:b}=this;for(let w=0;w<80;w++){const S=ut.rotrSH(h,d,14)^ut.rotrSH(h,d,18)^ut.rotrBH(h,d,41),_=ut.rotrSL(h,d,14)^ut.rotrSL(h,d,18)^ut.rotrBL(h,d,41),k=h&f^~h&g,C=d&m^~d&v,E=ut.add5L(b,_,C,Oae[w],oa[w]),O=ut.add5H(E,y,S,k,Iae[w],sa[w]),R=E|0,D=ut.rotrSH(r,i,28)^ut.rotrBH(r,i,34)^ut.rotrBH(r,i,39),N=ut.rotrSL(r,i,28)^ut.rotrBL(r,i,34)^ut.rotrBL(r,i,39),L=r&s^r&a^s&a,W=i&o^i&l^o&l;y=g|0,b=v|0,g=f|0,v=m|0,f=h|0,m=d|0,{h,l:d}=ut.add(c|0,u|0,O|0,R|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const $=ut.add3L(R,N,W);r=ut.add3H($,O,D,L),i=$|0}({h:r,l:i}=ut.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ut.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=ut.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=ut.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:d}=ut.add(this.Eh|0,this.El|0,h|0,d|0),{h:f,l:m}=ut.add(this.Fh|0,this.Fl|0,f|0,m|0),{h:g,l:v}=ut.add(this.Gh|0,this.Gl|0,g|0,v|0),{h:y,l:b}=ut.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b)}roundClean(){sa.fill(0),oa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const aO=Eb(()=>new Rae);function Dae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const L3=Dae(),F3=L3.crypto||L3.msCrypto;function Aae(n){switch(n){case"sha256":return ud.create();case"sha512":return aO.create()}ce(!1,"invalid hashing algorithm name","algorithm",n)}function Nae(n,e){const t={sha256:ud,sha512:aO}[n];return ce(t!=null,"invalid hmac algorithm","algorithm",n),Tb.create(t,e)}function Lae(n,e,t,r,i){const s={sha256:ud,sha512:aO}[i];return ce(s!=null,"invalid pbkdf2 algorithm","algorithm",i),sO(s,n,e,{c:t,dkLen:r})}function Fae(n){Et(F3!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),ce(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return F3.getRandomValues(e),e}let YY=!1;const GY=function(n,e,t){return Nae(n,e).update(t).digest()};let VY=GY;function hd(n,e,t){const r=Ge(e,"key"),i=Ge(t,"data");return Fe(VY(n,r,i))}hd._=GY;hd.lock=function(){YY=!0};hd.register=function(n){if(YY)throw new Error("computeHmac is locked");VY=n};Object.freeze(hd);const[KY,XY,QY]=[[],[],[]],$ae=BigInt(0),Zd=BigInt(1),jae=BigInt(2),Bae=BigInt(7),zae=BigInt(256),qae=BigInt(113);for(let n=0,e=Zd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],KY.push(2*(5*r+t)),XY.push((n+1)*(n+2)/2%64);let i=$ae;for(let s=0;s<7;s++)e=(e<<Zd^(e>>Bae)*qae)%zae,e&jae&&(i^=Zd<<(Zd<<BigInt(s))-Zd);QY.push(i)}const[Uae,Hae]=zY(QY,!0),$3=(n,e,t)=>t>32?HY(n,e,t):qY(n,e,t),j3=(n,e,t)=>t>32?WY(n,e,t):UY(n,e,t);function Wae(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=$3(c,u,1)^t[a],d=j3(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=XY[o],l=$3(i,s,a),c=j3(i,s,a),u=KY[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Uae[r],n[1]^=Hae[r]}t.fill(0)}class lO extends iO{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ui(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bv(this.state)}keccak(){Wae(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Lh(this);const{blockLen:t,state:r}=this;e=Fh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Lh(this,!1),rO(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ui(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lO(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Yae=(n,e,t)=>Eb(()=>new lO(e,n,t)),Gae=Yae(1,136,256/8);let JY=!1;const ZY=function(n){return Gae(n)};let eG=ZY;function Xn(n){const e=Ge(n,"data");return Fe(eG(e))}Xn._=ZY;Xn.lock=function(){JY=!0};Xn.register=function(n){if(JY)throw new TypeError("keccak256 is locked");eG=n};Object.freeze(Xn);const Vae=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),tG=Uint8Array.from({length:16},(n,e)=>e),Kae=tG.map(n=>(9*n+5)%16);let cO=[tG],uO=[Kae];for(let n=0;n<4;n++)for(let e of[cO,uO])e.push(e[n].map(t=>Vae[t]));const nG=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),Xae=cO.map((n,e)=>n.map(t=>nG[e][t])),Qae=uO.map((n,e)=>n.map(t=>nG[e][t])),Jae=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Zae=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),d0=(n,e)=>n<<e|n>>>32-e;function B3(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}const f0=new Uint32Array(16);class ele extends oO{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:s}=this;return[e,t,r,i,s]}set(e,t,r,i,s){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let f=0;f<16;f++,t+=4)f0[f]=e.getUint32(t,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,u=c,h=this.h4|0,d=h;for(let f=0;f<5;f++){const m=4-f,g=Jae[f],v=Zae[f],y=cO[f],b=uO[f],w=Xae[f],S=Qae[f];for(let _=0;_<16;_++){const k=d0(r+B3(f,s,a,c)+f0[y[_]]+g,w[_])+h|0;r=h,h=c,c=d0(a,10)|0,a=s,s=k}for(let _=0;_<16;_++){const k=d0(i+B3(m,o,l,u)+f0[b[_]]+v,S[_])+d|0;i=d,d=u,u=d0(l,10)|0,l=o,o=k}}this.set(this.h1+a+u|0,this.h2+c+d|0,this.h3+h+i|0,this.h4+r+o|0,this.h0+s+l|0)}roundClean(){f0.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const tle=Eb(()=>new ele);let rG=!1;const iG=function(n){return tle(n)};let sG=iG;function dd(n){const e=Ge(n,"data");return Fe(sG(e))}dd._=iG;dd.lock=function(){rG=!0};dd.register=function(n){if(rG)throw new TypeError("ripemd160 is locked");sG=n};Object.freeze(dd);let oG=!1;const aG=function(n,e,t,r,i){return Lae(n,e,t,r,i)};let lG=aG;function zm(n,e,t,r,i){const s=Ge(n,"password"),o=Ge(e,"salt");return Fe(lG(s,o,t,r,i))}zm._=aG;zm.lock=function(){oG=!0};zm.register=function(n){if(oG)throw new Error("pbkdf2 is locked");lG=n};Object.freeze(zm);let cG=!1;const uG=function(n){return new Uint8Array(Fae(n))};let hG=uG;function Fo(n){return hG(n)}Fo._=uG;Fo.lock=function(){cG=!0};Fo.register=function(n){if(cG)throw new Error("randomBytes is locked");hG=n};Object.freeze(Fo);const Ot=(n,e)=>n<<e|n>>>32-e;function z3(n,e,t,r,i,s){let o=n[e++]^t[r++],a=n[e++]^t[r++],l=n[e++]^t[r++],c=n[e++]^t[r++],u=n[e++]^t[r++],h=n[e++]^t[r++],d=n[e++]^t[r++],f=n[e++]^t[r++],m=n[e++]^t[r++],g=n[e++]^t[r++],v=n[e++]^t[r++],y=n[e++]^t[r++],b=n[e++]^t[r++],w=n[e++]^t[r++],S=n[e++]^t[r++],_=n[e++]^t[r++],k=o,C=a,E=l,O=c,R=u,D=h,N=d,L=f,W=m,$=g,F=v,B=y,j=b,H=w,V=S,K=_;for(let X=0;X<8;X+=2)R^=Ot(k+j|0,7),W^=Ot(R+k|0,9),j^=Ot(W+R|0,13),k^=Ot(j+W|0,18),$^=Ot(D+C|0,7),H^=Ot($+D|0,9),C^=Ot(H+$|0,13),D^=Ot(C+H|0,18),V^=Ot(F+N|0,7),E^=Ot(V+F|0,9),N^=Ot(E+V|0,13),F^=Ot(N+E|0,18),O^=Ot(K+B|0,7),L^=Ot(O+K|0,9),B^=Ot(L+O|0,13),K^=Ot(B+L|0,18),C^=Ot(k+O|0,7),E^=Ot(C+k|0,9),O^=Ot(E+C|0,13),k^=Ot(O+E|0,18),N^=Ot(D+R|0,7),L^=Ot(N+D|0,9),R^=Ot(L+N|0,13),D^=Ot(R+L|0,18),B^=Ot(F+$|0,7),W^=Ot(B+F|0,9),$^=Ot(W+B|0,13),F^=Ot($+W|0,18),j^=Ot(K+V|0,7),H^=Ot(j+K|0,9),V^=Ot(H+j|0,13),K^=Ot(V+H|0,18);i[s++]=o+k|0,i[s++]=a+C|0,i[s++]=l+E|0,i[s++]=c+O|0,i[s++]=u+R|0,i[s++]=h+D|0,i[s++]=d+N|0,i[s++]=f+L|0,i[s++]=m+W|0,i[s++]=g+$|0,i[s++]=v+F|0,i[s++]=y+B|0,i[s++]=b+j|0,i[s++]=w+H|0,i[s++]=S+V|0,i[s++]=_+K|0}function Wu(n,e,t,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)t[o+a]=n[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)z3(t,o,n,e,t,s),a>0&&(o+=16),z3(t,s,n,e+=16,t,o)}function dG(n,e,t){const r=$Y({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if(ui(i),ui(s),ui(o),ui(a),ui(l),ui(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const h=128*s,d=h/4;if(i<=1||i&i-1||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(i+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);const m=sO(ud,n,e,{c:1,dkLen:h*o}),g=bv(m),v=bv(new Uint8Array(h*i)),y=bv(new Uint8Array(h));let b=()=>{};if(u){const w=2*i*o,S=Math.max(Math.floor(w/1e4),1);let _=0;b=()=>{_++,u&&(!(_%S)||_===w)&&u(_/w)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:d,V:v,B32:g,B:m,tmp:y,blockMixCb:b,asyncTick:l}}function fG(n,e,t,r,i){const s=sO(ud,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),s}function nle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d}=dG(n,e,t);for(let f=0;f<s;f++){const m=a*f;for(let g=0;g<a;g++)l[g]=c[m+g];for(let g=0,v=0;g<r-1;g++)Wu(l,v,l,v+=a,i),d();Wu(l,(r-1)*a,c,m,i),d();for(let g=0;g<r;g++){const v=c[m+a-16]%r;for(let y=0;y<a;y++)h[y]=c[m+y]^l[v*a+y];Wu(h,0,c,m,i),d()}}return fG(n,o,u,l,h)}async function rle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d,asyncTick:f}=dG(n,e,t);for(let m=0;m<s;m++){const g=a*m;for(let y=0;y<a;y++)l[y]=c[g+y];let v=0;await N3(r-1,f,()=>{Wu(l,v,l,v+=a,i),d()}),Wu(l,(r-1)*a,c,g,i),d(),await N3(r,f,()=>{const y=c[g+a-16]%r;for(let b=0;b<a;b++)h[b]=c[g+b]^l[y*a+b];Wu(h,0,c,g,i),d()})}return fG(n,o,u,l,h)}let pG=!1,mG=!1;const gG=async function(n,e,t,r,i,s,o){return await rle(n,e,{N:t,r,p:i,dkLen:s,onProgress:o})},vG=function(n,e,t,r,i,s){return nle(n,e,{N:t,r,p:i,dkLen:s})};let yG=gG,bG=vG;async function qm(n,e,t,r,i,s,o){const a=Ge(n,"passwd"),l=Ge(e,"salt");return Fe(await yG(a,l,t,r,i,s,o))}qm._=gG;qm.lock=function(){mG=!0};qm.register=function(n){if(mG)throw new Error("scrypt is locked");yG=n};Object.freeze(qm);function Um(n,e,t,r,i,s){const o=Ge(n,"passwd"),a=Ge(e,"salt");return Fe(bG(o,a,t,r,i,s))}Um._=vG;Um.lock=function(){pG=!0};Um.register=function(n){if(pG)throw new Error("scryptSync is locked");bG=n};Object.freeze(Um);const xG=function(n){return Aae("sha256").update(n).digest()};let wG=xG,_G=!1;function Xi(n){const e=Ge(n,"data");return Fe(wG(e))}Xi._=xG;Xi.lock=function(){_G=!0};Xi.register=function(n){if(_G)throw new Error("sha256 is locked");wG=n};Object.freeze(Xi);Object.freeze(Xi);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SG=BigInt(0),Mb=BigInt(1),ile=BigInt(2),Pb=n=>n instanceof Uint8Array,sle=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function $h(n){if(!Pb(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=sle[n[t]];return e}function kG(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function hO(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function jh(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,s=n.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function nc(n){return hO($h(n))}function dO(n){if(!Pb(n))throw new Error("Uint8Array expected");return hO($h(Uint8Array.from(n).reverse()))}function Bh(n,e){return jh(n.toString(16).padStart(e*2,"0"))}function fO(n,e){return Bh(n,e).reverse()}function ole(n){return jh(kG(n))}function as(n,e,t){let r;if(typeof e=="string")try{r=jh(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Pb(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function tm(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!Pb(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function ale(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function lle(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function cle(n){let e;for(e=0;n>SG;n>>=Mb,e+=1);return e}function ule(n,e){return n>>BigInt(e)&Mb}const hle=(n,e,t)=>n|(t?Mb:SG)<<BigInt(e),pO=n=>(ile<<BigInt(n-1))-Mb,Aw=n=>new Uint8Array(n),q3=n=>Uint8Array.from(n);function CG(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Aw(n),i=Aw(n),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>t(i,r,...h),l=(h=Aw())=>{i=a(q3([0]),h),r=a(),h.length!==0&&(i=a(q3([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<e;){r=a();const f=r.slice();d.push(f),h+=r.length}return tm(...d)};return(h,d)=>{o(),l(h);let f;for(;!(f=d(c()));)l();return o(),f}}const dle={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Hm(n,e,t={}){const r=(i,s,o)=>{const a=dle[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=n[i];if(!(o&&l===void 0)&&!a(l,n))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const fle=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ule,bitLen:cle,bitMask:pO,bitSet:hle,bytesToHex:$h,bytesToNumberBE:nc,bytesToNumberLE:dO,concatBytes:tm,createHmacDrbg:CG,ensureBytes:as,equalBytes:ale,hexToBytes:jh,hexToNumber:hO,numberToBytesBE:Bh,numberToBytesLE:fO,numberToHexUnpadded:kG,numberToVarBytesBE:ole,utf8ToBytes:lle,validateObject:Hm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qn=BigInt(0),In=BigInt(1),Il=BigInt(2),ple=BigInt(3),PM=BigInt(4),U3=BigInt(5),H3=BigInt(8);BigInt(9);BigInt(16);function zr(n,e){const t=n%e;return t>=Qn?t:e+t}function mle(n,e,t){if(t<=Qn||e<Qn)throw new Error("Expected power/modulo > 0");if(t===In)return Qn;let r=In;for(;e>Qn;)e&In&&(r=r*n%t),n=n*n%t,e>>=In;return r}function Ti(n,e,t){let r=n;for(;e-- >Qn;)r*=r,r%=t;return r}function IM(n,e){if(n===Qn||e<=Qn)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=zr(n,e),r=e,i=Qn,s=In;for(;t!==Qn;){const a=r/t,l=r%t,c=i-s*a;r=t,t=l,i=s,s=c}if(r!==In)throw new Error("invert: does not exist");return zr(i,e)}function gle(n){const e=(n-In)/Il;let t,r,i;for(t=n-In,r=0;t%Il===Qn;t/=Il,r++);for(i=Il;i<n&&mle(i,e,n)!==n-In;i++);if(r===1){const o=(n+In)/PM;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(t+In)/Il;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),t),h=a.pow(l,s),d=a.pow(l,t);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(d);f<c&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const m=a.pow(u,In<<BigInt(c-f-1));u=a.sqr(m),h=a.mul(h,m),d=a.mul(d,u),c=f}return h}}function vle(n){if(n%PM===ple){const e=(n+In)/PM;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%H3===U3){const e=(n-U3)/H3;return function(r,i){const s=r.mul(i,Il),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Il),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return gle(n)}const yle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ble(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=yle.reduce((r,i)=>(r[i]="function",r),e);return Hm(n,t)}function xle(n,e,t){if(t<Qn)throw new Error("Expected power > 0");if(t===Qn)return n.ONE;if(t===In)return e;let r=n.ONE,i=e;for(;t>Qn;)t&In&&(r=n.mul(r,i)),i=n.sqr(i),t>>=In;return r}function wle(n,e){const t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function EG(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function _le(n,e,t=!1,r={}){if(n<=Qn)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=EG(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=vle(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:pO(i),ZERO:Qn,ONE:In,create:l=>zr(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Qn<=l&&l<n},is0:l=>l===Qn,isOdd:l=>(l&In)===In,neg:l=>zr(-l,n),eql:(l,c)=>l===c,sqr:l=>zr(l*l,n),add:(l,c)=>zr(l+c,n),sub:(l,c)=>zr(l-c,n),mul:(l,c)=>zr(l*c,n),pow:(l,c)=>xle(a,l,c),div:(l,c)=>zr(l*IM(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>IM(l,n),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>wle(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>t?fO(l,s):Bh(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?dO(l):nc(l)}});return Object.freeze(a)}function TG(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function MG(n){const e=TG(n);return e+Math.ceil(e/2)}function Sle(n,e,t=!1){const r=n.length,i=TG(e),s=MG(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=t?nc(n):dO(n),a=zr(o,e-In)+In;return t?fO(a,i):Bh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kle=BigInt(0),Nw=BigInt(1);function Cle(n,e){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>kle;)s&Nw&&(o=o.add(a)),a=a.double(),s>>=Nw;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=n.ZERO,u=n.BASE;const h=BigInt(2**i-1),d=2**i,f=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let v=Number(o&h);o>>=f,v>l&&(v-=d,o+=Nw);const y=g,b=g+Math.abs(v)-1,w=m%2!==0,S=v<0;v===0?u=u.add(t(w,s[y])):c=c.add(t(S,s[b]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function PG(n){return ble(n.Fp),Hm(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...EG(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ele(n){const e=PG(n);Hm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Tle,hexToBytes:Mle}=fle,Ll={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Ll;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Tle(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Ll,t=typeof n=="string"?Mle(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ll._parseInt(t.subarray(2)),{d:o,l:a}=Ll._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),l=t(o);return`30${t(o+s+4)}02${l}${i}02${a}${r}`}},Io=BigInt(0),ji=BigInt(1);BigInt(2);const W3=BigInt(3);BigInt(4);function Ple(n){const e=Ele(n),{Fp:t}=e,r=e.toBytes||((m,g,v)=>{const y=g.toAffine();return tm(Uint8Array.from([4]),t.toBytes(y.x),t.toBytes(y.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),v=t.fromBytes(g.subarray(0,t.BYTES)),y=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:v,y}});function s(m){const{a:g,b:v}=e,y=t.sqr(m),b=t.mul(y,m);return t.add(t.add(b,t.mul(m,g)),v)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Io<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:y,n:b}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=$h(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(v*2,"0")}let w;try{w=typeof m=="bigint"?m:nc(as("private key",m,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof m}`)}return y&&(w=zr(w,b)),a(w),w}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,v,y){if(this.px=g,this.py=v,this.pz=y,g==null||!t.isValid(g))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(y==null||!t.isValid(y))throw new Error("z required")}static fromAffine(g){const{x:v,y}=g||{};if(!g||!t.isValid(v)||!t.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const b=w=>t.eql(w,t.ZERO);return b(v)&&b(y)?h.ZERO:new h(v,y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=t.invertBatch(g.map(y=>y.pz));return g.map((y,b)=>y.toAffine(v[b])).map(h.fromAffine)}static fromHex(g){const v=h.fromAffine(i(as("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=this.toAffine();if(!t.isValid(g)||!t.isValid(v))throw new Error("bad point: x or y not FE");const y=t.sqr(v),b=s(g);if(!t.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g,k=t.eql(t.mul(v,_),t.mul(w,b)),C=t.eql(t.mul(y,_),t.mul(S,b));return k&&C}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:v}=e,y=t.mul(v,W3),{px:b,py:w,pz:S}=this;let _=t.ZERO,k=t.ZERO,C=t.ZERO,E=t.mul(b,b),O=t.mul(w,w),R=t.mul(S,S),D=t.mul(b,w);return D=t.add(D,D),C=t.mul(b,S),C=t.add(C,C),_=t.mul(g,C),k=t.mul(y,R),k=t.add(_,k),_=t.sub(O,k),k=t.add(O,k),k=t.mul(_,k),_=t.mul(D,_),C=t.mul(y,C),R=t.mul(g,R),D=t.sub(E,R),D=t.mul(g,D),D=t.add(D,C),C=t.add(E,E),E=t.add(C,E),E=t.add(E,R),E=t.mul(E,D),k=t.add(k,E),R=t.mul(w,S),R=t.add(R,R),E=t.mul(R,D),_=t.sub(_,E),C=t.mul(R,O),C=t.add(C,C),C=t.add(C,C),new h(_,k,C)}add(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g;let k=t.ZERO,C=t.ZERO,E=t.ZERO;const O=e.a,R=t.mul(e.b,W3);let D=t.mul(v,w),N=t.mul(y,S),L=t.mul(b,_),W=t.add(v,y),$=t.add(w,S);W=t.mul(W,$),$=t.add(D,N),W=t.sub(W,$),$=t.add(v,b);let F=t.add(w,_);return $=t.mul($,F),F=t.add(D,L),$=t.sub($,F),F=t.add(y,b),k=t.add(S,_),F=t.mul(F,k),k=t.add(N,L),F=t.sub(F,k),E=t.mul(O,$),k=t.mul(R,L),E=t.add(k,E),k=t.sub(N,E),E=t.add(N,E),C=t.mul(k,E),N=t.add(D,D),N=t.add(N,D),L=t.mul(O,L),$=t.mul(R,$),N=t.add(N,L),L=t.sub(D,L),L=t.mul(O,L),$=t.add($,L),D=t.mul(N,$),C=t.add(C,D),D=t.mul(F,$),k=t.mul(W,k),k=t.sub(k,D),D=t.mul(W,N),E=t.mul(F,E),E=t.add(E,D),new h(k,C,E)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return f.wNAFCached(this,c,g,v=>{const y=t.invertBatch(v.map(b=>b.pz));return v.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)})}multiplyUnsafe(g){const v=h.ZERO;if(g===Io)return v;if(a(g),g===ji)return this;const{endo:y}=e;if(!y)return f.unsafeLadder(this,g);let{k1neg:b,k1:w,k2neg:S,k2:_}=y.splitScalar(g),k=v,C=v,E=this;for(;w>Io||_>Io;)w&ji&&(k=k.add(E)),_&ji&&(C=C.add(E)),E=E.double(),w>>=ji,_>>=ji;return b&&(k=k.negate()),S&&(C=C.negate()),C=new h(t.mul(C.px,y.beta),C.py,C.pz),k.add(C)}multiply(g){a(g);let v=g,y,b;const{endo:w}=e;if(w){const{k1neg:S,k1:_,k2neg:k,k2:C}=w.splitScalar(v);let{p:E,f:O}=this.wNAF(_),{p:R,f:D}=this.wNAF(C);E=f.constTimeNegate(S,E),R=f.constTimeNegate(k,R),R=new h(t.mul(R.px,w.beta),R.py,R.pz),y=E.add(R),b=O.add(D)}else{const{p:S,f:_}=this.wNAF(v);y=S,b=_}return h.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(g,v,y){const b=h.BASE,w=(_,k)=>k===Io||k===ji||!_.equals(b)?_.multiplyUnsafe(k):_.multiply(k),S=w(this,v).add(w(g,y));return S.is0()?void 0:S}toAffine(g){const{px:v,py:y,pz:b}=this,w=this.is0();g==null&&(g=w?t.ONE:t.inv(b));const S=t.mul(v,g),_=t.mul(y,g),k=t.mul(b,g);if(w)return{x:t.ZERO,y:t.ZERO};if(!t.eql(k,t.ONE))throw new Error("invZ was invalid");return{x:S,y:_}}isTorsionFree(){const{h:g,isTorsionFree:v}=e;if(g===ji)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=e;return g===ji?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return $h(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,f=Cle(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Ile(n){const e=PG(n);return Hm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ole(n){const e=Ile(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o($){return Io<$&&$<t.ORDER}function a($){return zr($,r)}function l($){return IM($,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=Ple({...e,toBytes($,F,B){const j=F.toAffine(),H=t.toBytes(j.x),V=tm;return B?V(Uint8Array.from([F.hasEvenY()?2:3]),H):V(Uint8Array.from([4]),H,t.toBytes(j.y))},fromBytes($){const F=$.length,B=$[0],j=$.subarray(1);if(F===i&&(B===2||B===3)){const H=nc(j);if(!o(H))throw new Error("Point is not on curve");const V=h(H);let K=t.sqrt(V);const X=(K&ji)===ji;return(B&1)===1!==X&&(K=t.neg(K)),{x:H,y:K}}else if(F===s&&B===4){const H=t.fromBytes(j.subarray(0,t.BYTES)),V=t.fromBytes(j.subarray(t.BYTES,2*t.BYTES));return{x:H,y:V}}else throw new Error(`Point of length ${F} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),f=$=>$h(Bh($,e.nByteLength));function m($){const F=r>>ji;return $>F}function g($){return m($)?a(-$):$}const v=($,F,B)=>nc($.slice(F,B));class y{constructor(F,B,j){this.r=F,this.s=B,this.recovery=j,this.assertValidity()}static fromCompact(F){const B=e.nByteLength;return F=as("compactSignature",F,B*2),new y(v(F,0,B),v(F,B,2*B))}static fromDER(F){const{r:B,s:j}=Ll.toSig(as("DER",F));return new y(B,j)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(F){return new y(this.r,this.s,F)}recoverPublicKey(F){const{r:B,s:j,recovery:H}=this,V=C(as("msgHash",F));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?B+e.n:B;if(K>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const X=H&1?"03":"02",ee=c.fromHex(X+f(K)),q=l(K),Y=a(-V*q),U=a(j*q),ie=c.BASE.multiplyAndAddUnsafe(ee,Y,U);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return jh(this.toDERHex())}toDERHex(){return Ll.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jh(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey($){try{return u($),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const $=MG(e.n);return Sle(e.randomBytes($),e.n)},precompute($=8,F=c.BASE){return F._setWindowSize($),F.multiply(BigInt(3)),F}};function w($,F=!0){return c.fromPrivateKey($).toRawBytes(F)}function S($){const F=$ instanceof Uint8Array,B=typeof $=="string",j=(F||B)&&$.length;return F?j===i||j===s:B?j===2*i||j===2*s:$ instanceof c}function _($,F,B=!0){if(S($))throw new Error("first arg must be private key");if(!S(F))throw new Error("second arg must be public key");return c.fromHex(F).multiply(u($)).toRawBytes(B)}const k=e.bits2int||function($){const F=nc($),B=$.length*8-e.nBitLength;return B>0?F>>BigInt(B):F},C=e.bits2int_modN||function($){return a(k($))},E=pO(e.nBitLength);function O($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(Io<=$&&$<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Bh($,e.nByteLength)}function R($,F,B=D){if(["recovered","canonical"].some(se=>se in B))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:H}=e;let{lowS:V,prehash:K,extraEntropy:X}=B;V==null&&(V=!0),$=as("msgHash",$),K&&($=as("prehashed msgHash",j($)));const ee=C($),q=u(F),Y=[O(q),O(ee)];if(X!=null){const se=X===!0?H(t.BYTES):X;Y.push(as("extraEntropy",se))}const U=tm(...Y),ie=ee;function re(se){const Q=k(se);if(!d(Q))return;const J=l(Q),ue=c.BASE.multiply(Q).toAffine(),me=a(ue.x);if(me===Io)return;const Ee=a(J*a(ie+me*q));if(Ee===Io)return;let Pe=(ue.x===me?0:2)|Number(ue.y&ji),Ce=Ee;return V&&m(Ee)&&(Ce=g(Ee),Pe^=1),new y(me,Ce,Pe)}return{seed:U,k2sig:re}}const D={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function L($,F,B=D){const{seed:j,k2sig:H}=R($,F,B),V=e;return CG(V.hash.outputLen,V.nByteLength,V.hmac)(j,H)}c.BASE._setWindowSize(8);function W($,F,B,j=N){var ue;const H=$;if(F=as("msgHash",F),B=as("publicKey",B),"strict"in j)throw new Error("options.strict was renamed to lowS");const{lowS:V,prehash:K}=j;let X,ee;try{if(typeof H=="string"||H instanceof Uint8Array)try{X=y.fromDER(H)}catch(me){if(!(me instanceof Ll.Err))throw me;X=y.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:me,s:Ee}=H;X=new y(me,Ee)}else throw new Error("PARSE");ee=c.fromHex(B)}catch(me){if(me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(V&&X.hasHighS())return!1;K&&(F=e.hash(F));const{r:q,s:Y}=X,U=C(F),ie=l(Y),re=a(U*ie),se=a(q*ie),Q=(ue=c.BASE.multiplyAndAddUnsafe(ee,re,se))==null?void 0:ue.toAffine();return Q?a(Q.x)===q:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:_,sign:L,verify:W,ProjectivePoint:c,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rle(n){return{hash:n,hmac:(e,...t)=>Tb(n,e,iae(...t)),randomBytes:oae}}function Dle(n,e){const t=r=>Ole({...n,...Rle(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IG=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Y3=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ale=BigInt(1),OM=BigInt(2),G3=(n,e)=>(n+e/OM)/e;function Nle(n){const e=IG,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=n*n*n%e,u=c*c*n%e,h=Ti(u,t,e)*u%e,d=Ti(h,t,e)*u%e,f=Ti(d,OM,e)*c%e,m=Ti(f,i,e)*f%e,g=Ti(m,s,e)*m%e,v=Ti(g,a,e)*g%e,y=Ti(v,l,e)*v%e,b=Ti(y,a,e)*g%e,w=Ti(b,t,e)*u%e,S=Ti(w,o,e)*m%e,_=Ti(S,r,e)*c%e,k=Ti(_,OM,e);if(!RM.eql(RM.sqr(k),n))throw new Error("Cannot find square root");return k}const RM=_le(IG,void 0,void 0,{sqrt:Nle}),pa=Dle({a:BigInt(0),b:BigInt(7),Fp:RM,n:Y3,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Y3,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ale*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=G3(s*n,e),l=G3(-r*n,e);let c=zr(n-a*t-l*i,e),u=zr(-a*r-l*s,e);const h=c>o,d=u>o;if(h&&(c=e-c),d&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},ud);BigInt(0);pa.ProjectivePoint;const OG="0x0000000000000000000000000000000000000000",V3="0x0000000000000000000000000000000000000000000000000000000000000000",Lle=`Ethereum Signed Message:
`,K3=BigInt(0),X3=BigInt(1),DM=BigInt(2),Q3=BigInt(27),J3=BigInt(28),p0=BigInt(35),RG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fle=RG/DM,$le=Symbol.for("nodejs.util.inspect.custom"),gl={};function Lw(n){return Za(On(n),32)}var sh,qs,oh,Pa;const Ni=class Ni{constructor(e,t,r,i){Ae(this,sh);Ae(this,qs);Ae(this,oh);Ae(this,Pa);Sb(e,gl,"Signature"),ye(this,sh,t),ye(this,qs,r),ye(this,oh,i),ye(this,Pa,null)}get r(){return Z(this,sh)}set r(e){ce(Zf(e)===32,"invalid r","value",e),ye(this,sh,Fe(e))}get s(){return ce(parseInt(Z(this,qs).substring(0,3))<8,"non-canonical s; use ._s","s",Z(this,qs)),Z(this,qs)}set s(e){ce(Zf(e)===32,"invalid s","value",e),ye(this,qs,Fe(e))}get _s(){return Z(this,qs)}isValid(){return BigInt(Z(this,qs))<=Fle}get v(){return Z(this,oh)}set v(e){const t=vi(e,"value");ce(t===27||t===28,"invalid v","v",e),ye(this,oh,t)}get networkV(){return Z(this,Pa)}get legacyChainId(){const e=this.networkV;return e==null?null:Ni.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ge(this.s);return this.yParity&&(e[0]|=128),Fe(e)}get compactSerialized(){return Dn([this.r,this.yParityAndS])}get serialized(){return Dn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=RG-BigInt(this._s),t=55-this.v,r=new Ni(gl,this.r,Lw(e),t);return this.networkV&&ye(r,Pa,this.networkV),r}clone(){const e=new Ni(gl,this.r,this._s,this.v);return this.networkV&&ye(e,Pa,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[$le](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=Kt(e,"v");return t==Q3||t==J3?K3:(ce(t>=p0,"invalid EIP-155 v","v",e),(t-p0)/DM)}static getChainIdV(e,t){return Kt(e)*DM+BigInt(35+t-27)}static getNormalizedV(e){const t=Kt(e);return t===K3||t===Q3?27:t===X3||t===J3?28:(ce(t>=p0,"invalid v","v",e),t&X3?27:28)}static from(e){function t(c,u){ce(c,u,"signature",e)}if(e==null)return new Ni(gl,V3,V3,27);if(typeof e=="string"){const c=Ge(e,"signature");if(c.length===64){const u=Fe(c.slice(0,32)),h=c.slice(32,64),d=h[0]&128?28:27;return h[0]&=127,new Ni(gl,u,Fe(h),d)}if(c.length===65){const u=Fe(c.slice(0,32)),h=Fe(c.slice(32,64)),d=Ni.getNormalizedV(c[64]);return new Ni(gl,u,h,d)}t(!1,"invalid raw signature length")}if(e instanceof Ni)return e.clone();const r=e.r;t(r!=null,"missing r");const i=Lw(r),s=function(c,u){if(c!=null)return Lw(c);if(u!=null){t(to(u,32),"invalid yParityAndS");const h=Ge(u);return h[0]&=127,Fe(h)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const d=Kt(c);return{networkV:d>=p0?d:void 0,v:Ni.getNormalizedV(d)}}if(u!=null)return t(to(u,32),"invalid yParityAndS"),{v:Ge(u)[0]&128?28:27};if(h!=null){switch(vi(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Ni(gl,i,s,a);return o&&ye(l,Pa,o),t(e.yParity==null||vi(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};sh=new WeakMap,qs=new WeakMap,oh=new WeakMap,Pa=new WeakMap;let bs=Ni;var Mo;const Ol=class Ol{constructor(e){Ae(this,Mo);ce(Zf(e)===32,"invalid private key","privateKey","[REDACTED]"),ye(this,Mo,Fe(e))}get privateKey(){return Z(this,Mo)}get publicKey(){return Ol.computePublicKey(Z(this,Mo))}get compressedPublicKey(){return Ol.computePublicKey(Z(this,Mo),!0)}sign(e){ce(Zf(e)===32,"invalid digest length","digest",e);const t=pa.sign(mu(e),mu(Z(this,Mo)),{lowS:!0});return bs.from({r:Nh(t.r,32),s:Nh(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ol.computePublicKey(e);return Fe(pa.getSharedSecret(mu(Z(this,Mo)),Ge(t),!1))}static computePublicKey(e,t){let r=Ge(e,"key");if(r.length===32){const s=pa.getPublicKey(r,!!t);return Fe(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=pa.ProjectivePoint.fromHex(r);return Fe(i.toRawBytes(t))}static recoverPublicKey(e,t){ce(Zf(e)===32,"invalid digest length","digest",e);const r=bs.from(t);let i=pa.Signature.fromCompact(mu(Dn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(mu(e));return ce(s!=null,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,r){const i=pa.ProjectivePoint.fromHex(Ol.computePublicKey(e).substring(2)),s=pa.ProjectivePoint.fromHex(Ol.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}};Mo=new WeakMap;let Qs=Ol;const jle=BigInt(0),Ble=BigInt(36);function Z3(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Ge(Xn(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mO={};for(let n=0;n<10;n++)mO[String(n)]=String(n);for(let n=0;n<26;n++)mO[String.fromCharCode(65+n)]=String(10+n);const eN=15;function zle(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>mO[r]).join("");for(;e.length>=eN;){let r=e.substring(0,eN);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const qle=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Ule(n){n=n.toLowerCase();let e=jle;for(let t=0;t<n.length;t++)e=e*Ble+qle[n[t]];return e}function Qi(n){if(ce(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=Z3(n);return ce(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ce(n.substring(2,4)===zle(n),"bad icap checksum","address",n);let e=Ule(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Z3("0x"+e)}ce(!1,"invalid address","address",n)}function Hle(n){return n&&typeof n.getAddress=="function"}async function Fw(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(Et(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),ce(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Qi(t)}function ep(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Qi(n):(Et(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Fw(n,e.resolveName(n)));if(Hle(n))return Fw(n,n.getAddress());if(n&&typeof n.then=="function")return Fw(n,n);ce(!1,"unsupported addressable value","target",n)}function $w(n,e){return{address:Qi(n),storageKeys:e.map((t,r)=>(ce(to(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Ib(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(ce(t.length===2,"invalid slot set",`value[${r}]`,t),$w(t[0],t[1])):(ce(t!=null&&typeof t=="object","invalid address-slot set","value",n),$w(t.address,t.storageKeys)));ce(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return $w(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Wle(n){return{address:Qi(n.address),nonce:Kt(n.nonce!=null?n.nonce:0),chainId:Kt(n.chainId!=null?n.chainId:0),signature:bs.from(n.signature)}}function Wm(n){let e;return typeof n=="string"?e=Qs.computePublicKey(n,!1):e=n.publicKey,Qi(Xn("0x"+e.substring(4)).substring(26))}function Yle(n,e){return Wm(Qs.recoverPublicKey(n,e))}const Gn=BigInt(0),Gle=BigInt(2),Vle=BigInt(27),Kle=BigInt(28),Xle=BigInt(35),Qle=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Jle=Symbol.for("nodejs.util.inspect.custom"),jw=4096*32,wv=128;function Zle(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Ge(n.blobToKzgCommitment(Fe(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Ge(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return Ge(n.blobToKZGCommitment(Fe(r)));ce(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return Ge(n.computeBlobProof(Fe(r),Fe(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return Ge(n.computeBlobKZGProof(Fe(r),Fe(i)));ce(!1,"unsupported KZG library","kzg",n)}}}function tN(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Xi(e).substring(4),"0x"+t}function fd(n){return n==="0x"?null:Qi(n)}function Ob(n,e){try{return Ib(n)}catch(t){ce(!1,t.message,e,n)}}function ece(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:fd(i[1]),nonce:qt(i[2],"nonce"),chainId:qt(i[0],"chainId"),signature:bs.from({yParity:Nc(i[3],"yParity"),r:Za(i[4],32),s:Za(i[5],32)})})}return t}catch(t){ce(!1,t.message,e,n)}}function Nc(n,e){return n==="0x"?0:vi(n,e)}function qt(n,e){if(n==="0x")return Gn;const t=Kt(n,e);return ce(t<=Qle,"value exceeds uint size",e,t),t}function wt(n,e){const t=Kt(n,"value"),r=On(t);return ce(r.length<=32,"value too large",`tx.${e}`,t),r}function Rb(n){return Ib(n).map(e=>[e.address,e.storageKeys])}function tce(n){return n.map(e=>[wt(e.chainId,"chainId"),e.address,wt(e.nonce,"nonce"),wt(e.signature.yParity,"yParity"),On(e.signature.r),On(e.signature._s)])}function nce(n,e){ce(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)ce(to(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function rce(n){const e=Bm(n);ce(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Nc(e[0],"nonce"),gasPrice:qt(e[1],"gasPrice"),gasLimit:qt(e[2],"gasLimit"),to:fd(e[3]),value:qt(e[4],"value"),data:Fe(e[5]),chainId:Gn};if(e.length===6)return t;const r=qt(e[6],"v"),i=qt(e[7],"r"),s=qt(e[8],"s");if(i===Gn&&s===Gn)t.chainId=r;else{let o=(r-Xle)/Gle;o<Gn&&(o=Gn),t.chainId=o,ce(o!==Gn||r===Vle||r===Kle,"non-canonical legacy v","v",e[6]),t.signature=bs.from({r:Za(e[7],32),s:Za(e[8],32),v:r})}return t}function ice(n,e){const t=[wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data];let r=Gn;if(n.chainId!=Gn)r=Kt(n.chainId,"tx.chainId"),ce(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const s=n.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Gn&&(t.push(On(r)),t.push("0x"),t.push("0x")),Lo(t);let i=BigInt(27+e.yParity);return r!==Gn?i=bs.getChainIdV(r,e.v):BigInt(e.v)!==i&&ce(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(On(i)),t.push(On(e.r)),t.push(On(e._s)),Lo(t)}function Db(n,e){let t;try{if(t=Nc(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{ce(!1,"invalid yParity","yParity",e[0])}const r=Za(e[1],32),i=Za(e[2],32),s=bs.from({r,s:i,yParity:t});n.signature=s}function sce(n){const e=Bm(Ge(n).slice(1));ce(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Fe(n));const t={type:2,chainId:qt(e[0],"chainId"),nonce:Nc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:fd(e[5]),value:qt(e[6],"value"),data:Fe(e[7]),accessList:Ob(e[8],"accessList")};return e.length===9||Db(t,e.slice(9)),t}function oce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Rb(n.accessList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(On(e.r)),t.push(On(e.s))),Dn(["0x02",Lo(t)])}function ace(n){const e=Bm(Ge(n).slice(1));ce(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Fe(n));const t={type:1,chainId:qt(e[0],"chainId"),nonce:Nc(e[1],"nonce"),gasPrice:qt(e[2],"gasPrice"),gasLimit:qt(e[3],"gasLimit"),to:fd(e[4]),value:qt(e[5],"value"),data:Fe(e[6]),accessList:Ob(e[7],"accessList")};return e.length===8||Db(t,e.slice(8)),t}function lce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Rb(n.accessList||[])];return e&&(t.push(wt(e.yParity,"recoveryParam")),t.push(On(e.r)),t.push(On(e.s))),Dn(["0x01",Lo(t)])}function cce(n){let e=Bm(Ge(n).slice(1)),t="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const o=e[1],a=e[2],l=e[3];ce(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),ce(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),ce(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),ce(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),ce(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:o[c],commitment:a[c],proof:l[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=vi(e[1]);const o=e[2],a=e[3],l=e[4];ce(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),ce(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),ce(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),ce(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),ce(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),ce(o.length*wv===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<o.length;c++){const u=[];for(let h=0;h<wv;h++)u.push(l[c*wv+h]);i.push({data:o[c],commitment:a[c],proof:Dn(u)})}e=e[0]}ce(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Fe(n));const s={type:3,chainId:qt(e[0],"chainId"),nonce:Nc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:fd(e[5]),value:qt(e[6],"value"),data:Fe(e[7]),accessList:Ob(e[8],"accessList"),maxFeePerBlobGas:qt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),ce(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),ce(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let o=0;o<s.blobVersionedHashes.length;o++)ce(to(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",n);return e.length===11||Db(s,e.slice(11)),s}function uce(n,e,t){const r=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||OG,wt(n.value,"value"),n.data,Rb(n.accessList||[]),wt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),nce(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(wt(e.yParity,"yParity")),r.push(On(e.r)),r.push(On(e.s)),t)){if(n.blobWrapperVersion!=null){const i=On(n.blobWrapperVersion),s=[];for(const{proof:o}of t){const a=Ge(o),l=a.length/wv;for(let c=0;c<a.length;c+=l)s.push(a.subarray(c,c+l))}return Dn(["0x03",Lo([r,i,t.map(o=>o.data),t.map(o=>o.commitment),s])])}return Dn(["0x03",Lo([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])])}return Dn(["0x03",Lo(r)])}function hce(n){const e=Bm(Ge(n).slice(1));ce(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Fe(n));const t={type:4,chainId:qt(e[0],"chainId"),nonce:Nc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:fd(e[5]),value:qt(e[6],"value"),data:Fe(e[7]),accessList:Ob(e[8],"accessList"),authorizationList:ece(e[9],"authorizationList")};return e.length===10||Db(t,e.slice(10)),t}function dce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Rb(n.accessList||[]),tce(n.authorizationList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(On(e.r)),t.push(On(e.s))),Dn(["0x04",Lo(t)])}var us,ah,lh,ch,uh,hh,dh,fh,ph,mh,gh,vh,Kl,Ia,Us,Oa,yh,bh,xh,_v;const Fs=class Fs{constructor(){Ae(this,xh);Ae(this,us);Ae(this,ah);Ae(this,lh);Ae(this,ch);Ae(this,uh);Ae(this,hh);Ae(this,dh);Ae(this,fh);Ae(this,ph);Ae(this,mh);Ae(this,gh);Ae(this,vh);Ae(this,Kl);Ae(this,Ia);Ae(this,Us);Ae(this,Oa);Ae(this,yh);Ae(this,bh);ye(this,us,null),ye(this,ah,null),ye(this,ch,0),ye(this,uh,Gn),ye(this,hh,null),ye(this,dh,null),ye(this,fh,null),ye(this,lh,"0x"),ye(this,ph,Gn),ye(this,mh,Gn),ye(this,gh,null),ye(this,vh,null),ye(this,Kl,null),ye(this,Ia,null),ye(this,Us,null),ye(this,Oa,null),ye(this,yh,null),ye(this,bh,null)}get type(){return Z(this,us)}set type(e){switch(e){case null:ye(this,us,null);break;case 0:case"legacy":ye(this,us,0);break;case 1:case"berlin":case"eip-2930":ye(this,us,1);break;case 2:case"london":case"eip-1559":ye(this,us,2);break;case 3:case"cancun":case"eip-4844":ye(this,us,3);break;case 4:case"pectra":case"eip-7702":ye(this,us,4);break;default:ce(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=Z(this,ah);return e==null&&this.type===3?OG:e}set to(e){ye(this,ah,e==null?null:Qi(e))}get nonce(){return Z(this,ch)}set nonce(e){ye(this,ch,vi(e,"value"))}get gasLimit(){return Z(this,uh)}set gasLimit(e){ye(this,uh,Kt(e))}get gasPrice(){const e=Z(this,hh);return e==null&&(this.type===0||this.type===1)?Gn:e}set gasPrice(e){ye(this,hh,e==null?null:Kt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Z(this,dh);return e??(this.type===2||this.type===3?Gn:null)}set maxPriorityFeePerGas(e){ye(this,dh,e==null?null:Kt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Z(this,fh);return e??(this.type===2||this.type===3?Gn:null)}set maxFeePerGas(e){ye(this,fh,e==null?null:Kt(e,"maxFeePerGas"))}get data(){return Z(this,lh)}set data(e){ye(this,lh,Fe(e))}get value(){return Z(this,ph)}set value(e){ye(this,ph,Kt(e,"value"))}get chainId(){return Z(this,mh)}set chainId(e){ye(this,mh,Kt(e))}get signature(){return Z(this,gh)||null}set signature(e){ye(this,gh,e==null?null:bs.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t){for(const r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=Z(this,vh)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){ye(this,vh,e==null?null:Ib(e))}get authorizationList(){const e=Z(this,yh)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){ye(this,yh,e==null?null:e.map(t=>Wle(t)))}get maxFeePerBlobGas(){const e=Z(this,Kl);return e==null&&this.type===3?Gn:e}set maxFeePerBlobGas(e){ye(this,Kl,e==null?null:Kt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Z(this,Ia);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ce(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)ce(to(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}ye(this,Ia,e)}get blobs(){return Z(this,Oa)==null?null:Z(this,Oa).map(e=>Object.assign({},e))}set blobs(e){if(e==null){ye(this,Oa,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(kb(s)){Et(Z(this,Us),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ge(s);if(ce(o.length<=jw,"blob is too large",`blobs[${i}]`,s),o.length!==jw){const c=new Uint8Array(jw);c.set(o),o=c}const a=Z(this,Us).blobToKzgCommitment(o),l=Fe(Z(this,Us).computeBlobKzgProof(o,a));t.push({data:Fe(o),commitment:Fe(a),proof:l}),r.push(tN(1,a))}else{const o=Fe(s.data),a=Fe(s.commitment),l=Fe(s.proof);t.push({data:o,commitment:a,proof:l}),r.push(tN(1,a))}}ye(this,Oa,t),ye(this,Ia,r)}get kzg(){return Z(this,Us)}set kzg(e){e==null?ye(this,Us,null):ye(this,Us,Zle(e))}get blobWrapperVersion(){return Z(this,bh)}set blobWrapperVersion(e){ye(this,bh,e)}get hash(){return this.signature==null?null:Xn(Rt(this,xh,_v).call(this,!0,!1))}get unsignedHash(){return Xn(this.unsignedSerialized)}get from(){return this.signature==null?null:Yle(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Qs.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Rt(this,xh,_v).call(this,!0,!0)}get unsignedSerialized(){return Rt(this,xh,_v).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=Z(this,Kl)!=null||Z(this,Ia);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Et(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Et(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Et(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Fs.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Jle](){return this.toString()}toString(){const e=[],t=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const o=[];o.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&o.push(`nonce: ${s.nonce}`),s.chainId!=null&&o.push(`chainId: ${s.chainId}`),s.signature&&o.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new Fs;if(typeof e=="string"){const r=Ge(e);if(r[0]>=127)return Fs.from(rce(r));switch(r[0]){case 1:return Fs.from(ace(r));case 2:return Fs.from(sce(r));case 3:return Fs.from(cce(r));case 4:return Fs.from(hce(r))}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Fs;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=bs.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(ce(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ce(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ce(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ce(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};us=new WeakMap,ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,vh=new WeakMap,Kl=new WeakMap,Ia=new WeakMap,Us=new WeakMap,Oa=new WeakMap,yh=new WeakMap,bh=new WeakMap,xh=new WeakSet,_v=function(e,t){Et(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return ice(this,r);case 1:return lce(this,r);case 2:return oce(this,r);case 3:return uce(this,r,t?this.blobs:null);case 4:return dce(this,r)}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let dy=Fs;function fce(n){return ce(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),Xn(Dn(["0x05",Lo([n.chainId!=null?On(n.chainId):"0x",Qi(n.address),n.nonce!=null?On(n.nonce):"0x"])]))}function gO(n){return Xn(tc(n))}function pce(n){return typeof n=="string"&&(n=tc(n)),Xn(Dn([tc(Lle),tc(String(n.length)),n]))}const DG=new Uint8Array(32);DG.fill(0);const mce=BigInt(-1),AG=BigInt(0),NG=BigInt(1),gce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function vce(n){const e=Ge(n),t=e.length%32;return t?Dn([e,DG.slice(t)]):Fe(e)}const yce=Nh(NG,32),bce=Nh(AG,32),nN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Bw=["name","version","chainId","verifyingContract","salt"];function rN(n){return function(e){return ce(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const xce={name:rN("name"),version:rN("version"),chainId:function(n){const e=Kt(n,"domain.chainId");return ce(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Voe(e)},verifyingContract:function(n){try{return Qi(n).toLowerCase()}catch{}ce(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=Ge(n,"domain.salt");return ce(e.length===32,'invalid domain value "salt"',"domain.salt",n),Fe(e)}};function zw(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);ce(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=Goe(gce,t?r-1:r),s=t?(i+NG)*mce:AG;return function(o){const a=Kt(o,"value");return ce(a>=s&&a<=i,`value out-of-bounds for ${n}`,"value",a),Nh(t?Yoe(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return ce(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=Ge(r);return ce(i.length===t,`invalid length for ${n}`,"value",r),vce(r)}}}switch(n){case"address":return function(e){return Za(Qi(e),32)};case"bool":return function(e){return e?yce:bce};case"bytes":return function(e){return Xn(e)};case"string":return function(e){return gO(e)}}return null}function iN(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function m0(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Im,Po,wh,nb,LG;const Li=class Li{constructor(e){Ae(this,nb);de(this,"primaryType");Ae(this,Im);Ae(this,Po);Ae(this,wh);ye(this,Po,new Map),ye(this,wh,new Map);const t=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:d}=m0(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(d||"")}}),t.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),ye(this,Im,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){ce(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=m0(u.type).base;ce(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!zw(h)&&(ce(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),t.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);ce(o.length!==0,"missing primary type","types",e),ce(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),gi(this,{primaryType:o[0]});function a(l,c){ce(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of t.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),Z(this,Po).set(l,iN(l,s[l])+u.map(h=>iN(h,s[h])).join(""))}}get types(){return JSON.parse(Z(this,Im))}getEncoder(e){let t=Z(this,wh).get(e);return t||(t=Rt(this,nb,LG).call(this,e),Z(this,wh).set(e,t)),t}encodeType(e){const t=Z(this,Po).get(e);return ce(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Xn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(zw(e))return r(e,t);const i=m0(e).array;if(i)return ce(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{});ce(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Li(e)}static getPrimaryType(e){return Li.from(e).primaryType}static hashStruct(e,t,r){return Li.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=nN[r];ce(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>Bw.indexOf(r.name)-Bw.indexOf(i.name)),Li.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Dn(["0x1901",Li.hashDomain(e),Li.from(t).hash(r)])}static hash(e,t,r){return Xn(Li.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!to(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Li.from(t);o.visit(r,(a,l)=>(a==="address"&&!to(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,t,r){Li.hashDomain(e);const i={},s=[];Bw.forEach(l=>{const c=e[l];c!=null&&(i[l]=xce[l](c),s.push({name:l,type:nN[l]}))});const o=Li.from(t);t=o.types;const a=Object.assign({},t);return ce(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return Fe(Ge(c));if(l.match(/^u?int/))return Kt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return ce(typeof c=="string","invalid string","value",c),c}ce(!1,"unsupported type","type",l)})}}};Im=new WeakMap,Po=new WeakMap,wh=new WeakMap,nb=new WeakSet,LG=function(e){{const i=zw(e);if(i)return i}const t=m0(e).array;if(t){const i=t.prefix,s=this.getEncoder(i);return o=>{ce(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(s);return Z(this,Po).has(i)&&(a=a.map(Xn)),Xn(Dn(a))}}const r=this.types[e];if(r){const i=gO(Z(this,Po).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return Z(this,Po).has(l)?Xn(c):c});return o.unshift(i),Dn(o)}}ce(!1,`unknown type: ${e}`,"type",e)};let fy=Li;BigInt(0);function FG(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=Fe(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=Kt(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=vi(n[i],`request.${i}`));return n.accessList&&(e.accessList=Ib(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>kb(i)?Fe(i):Object.assign({},i))),e}function vl(n,e){if(n.provider)return n.provider;Et(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function sN(n,e){let t=FG(e);if(t.to!=null&&(t.to=ep(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),ep(r,n)]).then(([i,s])=>(ce(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=n.getAddress();return await eO(t)}class $G{constructor(e){de(this,"provider");gi(this,{provider:e||null})}async getNonce(e){return vl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await sN(this,e)}async populateTransaction(e){const t=vl(this,"populateTransaction"),r=await sN(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Kt(r.chainId);ce(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ce(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ce(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await t.getFeeData();Et(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Et(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Et(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await eO(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await vl(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return vl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return vl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await vl(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=vl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=dy.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){Et(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var _h,Sv;const uD=class uD extends $G{constructor(t,r){super(r);Ae(this,_h);de(this,"address");gi(this,{address:t})}async getAddress(){return this.address}connect(t){return new uD(this.address,t)}async signTransaction(t){Rt(this,_h,Sv).call(this,"transactions","signTransaction")}async signMessage(t){Rt(this,_h,Sv).call(this,"messages","signMessage")}async signTypedData(t,r,i){Rt(this,_h,Sv).call(this,"typed-data","signTypedData")}};_h=new WeakSet,Sv=function(t,r){Et(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:r})};let AM=uD;var Sh;const hD=class hD extends $G{constructor(t,r){super(r);de(this,"address");Ae(this,Sh);ce(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),ye(this,Sh,t);const i=Wm(this.signingKey.publicKey);gi(this,{address:i})}get signingKey(){return Z(this,Sh)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new hD(Z(this,Sh),t)}async signTransaction(t){t=FG(t);const{to:r,from:i}=await eO({to:t.to?ep(t.to,this):void 0,from:t.from?ep(t.from,this):void 0});r!=null&&(t.to=r),i!=null&&(t.from=i),t.from!=null&&(ce(Qi(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=dy.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(pce(t)).serialized}authorizeSync(t){ce(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const r=this.signingKey.sign(fce(t));return Object.assign({},{address:Qi(t.address),nonce:Kt(t.nonce||0),chainId:Kt(t.chainId||0)},{signature:r})}async authorize(t){return t=Object.assign({},t,{address:await ep(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,r,i){const s=await fy.resolveNames(t,r,i,async o=>{Et(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return Et(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(fy.hash(s.domain,r,s.value)).serialized}};Sh=new WeakMap;let NM=hD;const py=" !#$%&'()*+,-./<=>?@[]^_`{|}~",wce=/^[a-z]*$/i;function oN(n,e){let t=97;return n.reduce((r,i)=>(i===e?t++:i.match(wce)?r.push(String.fromCharCode(t)+i):(t=97,r.push(i)),r),[])}function _ce(n,e){for(let i=py.length-1;i>=0;i--)n=n.split(py[i]).join(e.substring(2*i,2*i+2));const t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let l=parseInt(o);l>=0;l--)t.push(";");else t.push(s.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return oN(oN(t,";"),":")}function Sce(n){return ce(n[0]==="0","unsupported auwl data","data",n),_ce(n.substring(1+2*py.length),n.substring(1,1+2*py.length))}class kce{constructor(e){de(this,"locale");gi(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var kh,Om,Xl,Rm,LM;class Cce extends kce{constructor(t,r,i){super(t);Ae(this,Rm);Ae(this,kh);Ae(this,Om);Ae(this,Xl);ye(this,kh,r),ye(this,Om,i),ye(this,Xl,null)}get _data(){return Z(this,kh)}_decodeWords(){return Sce(Z(this,kh))}getWord(t){const r=Rt(this,Rm,LM).call(this);return ce(t>=0&&t<r.length,`invalid word index: ${t}`,"index",t),r[t]}getWordIndex(t){return Rt(this,Rm,LM).call(this).indexOf(t)}}kh=new WeakMap,Om=new WeakMap,Xl=new WeakMap,Rm=new WeakSet,LM=function(){if(Z(this,Xl)==null){const t=this._decodeWords();if(gO(t.join(`
`)+`
`)!==Z(this,Om))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);ye(this,Xl,t)}return Z(this,Xl)};const Ece="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Tce="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let qw=null;class vc extends Cce{constructor(){super("en",Ece,Tce)}static wordlist(){return qw==null&&(qw=new vc),qw}}function jG(n){return(1<<n)-1<<8-n&255}function Mce(n){return(1<<n)-1&255}function Uw(n,e){IY("NFKD"),e==null&&(e=vc.wordlist());const t=e.split(n);ce(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));ce(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)u&1<<10-h&&(r[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=jG(o),l=Ge(Xi(r.slice(0,s/8)))[0]&a;return ce(l===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Fe(r.slice(0,s/8))}function Hw(n,e){ce(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=vc.wordlist());const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&Mce(8-r)),r+=3);const i=n.length/4,s=parseInt(Xi(n).substring(2,4),16)&jG(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}const Ww={};class nm{constructor(e,t,r,i,s){de(this,"phrase");de(this,"password");de(this,"wordlist");de(this,"entropy");i==null&&(i=""),s==null&&(s=vc.wordlist()),Sb(e,Ww,"Mnemonic"),gi(this,{phrase:r,password:i,wordlist:s,entropy:t})}computeSeed(){const e=tc("mnemonic"+this.password,"NFKD");return zm(tc(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const i=Uw(e,r);return e=Hw(Ge(i),r),new nm(Ww,i,e,t,r)}static fromEntropy(e,t,r){const i=Ge(e,"entropy"),s=Hw(i,r);return new nm(Ww,Fe(i),s,t,r)}static entropyToPhrase(e,t){const r=Ge(e,"entropy");return Hw(r,t)}static phraseToEntropy(e,t){return Uw(e,t)}static isValidMnemonic(e,t){try{return Uw(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var rr=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Yw=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},kv,Ri,Ds;const Pce={16:10,24:12,32:14},Ice=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Mi=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g0=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Oce=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Rce=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Dce=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Ace=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Nce=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Lce=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Fce=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],$ce=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],jce=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Bce=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],zce=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],qce=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Gw(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class vO{get key(){return rr(this,kv,"f").slice()}constructor(e){if(kv.set(this,void 0),Ri.set(this,void 0),Ds.set(this,void 0),!(this instanceof vO))throw Error("AES must be instanitated with `new`");Yw(this,kv,new Uint8Array(e),"f");const t=Pce[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Yw(this,Ds,[],"f"),Yw(this,Ri,[],"f");for(let u=0;u<=t;u++)rr(this,Ds,"f").push([0,0,0,0]),rr(this,Ri,"f").push([0,0,0,0]);const r=(t+1)*4,i=this.key.length/4,s=Gw(this.key);let o;for(let u=0;u<i;u++)o=u>>2,rr(this,Ds,"f")[o][u%4]=s[u],rr(this,Ri,"f")[t-o][u%4]=s[u];let a=0,l=i,c;for(;l<r;){if(c=s[i-1],s[0]^=Mi[c>>16&255]<<24^Mi[c>>8&255]<<16^Mi[c&255]<<8^Mi[c>>24&255]^Ice[a]<<24,a+=1,i!=8)for(let f=1;f<i;f++)s[f]^=s[f-1];else{for(let f=1;f<i/2;f++)s[f]^=s[f-1];c=s[i/2-1],s[i/2]^=Mi[c&255]^Mi[c>>8&255]<<8^Mi[c>>16&255]<<16^Mi[c>>24&255]<<24;for(let f=i/2+1;f<i;f++)s[f]^=s[f-1]}let u=0,h,d;for(;u<i&&l<r;)h=l>>2,d=l%4,rr(this,Ds,"f")[h][d]=s[u],rr(this,Ri,"f")[t-h][d]=s[u++],l++}for(let u=1;u<t;u++)for(let h=0;h<4;h++)c=rr(this,Ri,"f")[u][h],rr(this,Ri,"f")[u][h]=jce[c>>24&255]^Bce[c>>16&255]^zce[c>>8&255]^qce[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=rr(this,Ds,"f").length-1,r=[0,0,0,0];let i=Gw(e);for(let a=0;a<4;a++)i[a]^=rr(this,Ds,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=Oce[i[l]>>24&255]^Rce[i[(l+1)%4]>>16&255]^Dce[i[(l+2)%4]>>8&255]^Ace[i[(l+3)%4]&255]^rr(this,Ds,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=rr(this,Ds,"f")[t][a],s[4*a]=(Mi[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(Mi[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Mi[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Mi[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=rr(this,Ri,"f").length-1,r=[0,0,0,0];let i=Gw(e);for(let a=0;a<4;a++)i[a]^=rr(this,Ri,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=Nce[i[l]>>24&255]^Lce[i[(l+3)%4]>>16&255]^Fce[i[(l+2)%4]>>8&255]^$ce[i[(l+1)%4]&255]^rr(this,Ri,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=rr(this,Ri,"f")[t][a],s[4*a]=(g0[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(g0[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(g0[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(g0[i[(a+1)%4]&255]^o)&255;return s}}kv=new WeakMap,Ri=new WeakMap,Ds=new WeakMap;class Uce{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new vO(t)},name:{enumerable:!0,value:e}})}}var su=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Pi=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Mf,kl,Di;class my extends Uce{constructor(e,t){super("CTR",e,my),Mf.set(this,void 0),kl.set(this,void 0),Di.set(this,void 0),su(this,Di,new Uint8Array(16),"f"),Pi(this,Di,"f").fill(0),su(this,Mf,Pi(this,Di,"f"),"f"),su(this,kl,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Pi(this,Di,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Pi(this,Di,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Pi(this,Di,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Pi(this,Di,"f")[e]===255)Pi(this,Di,"f")[e]=0;else{Pi(this,Di,"f")[e]++;break}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)Pi(this,kl,"f")===16&&(su(this,Mf,this.aes.encrypt(Pi(this,Di,"f")),"f"),su(this,kl,0,"f"),this.increment()),i[s]^=Pi(this,Mf,"f")[su(this,kl,(r=Pi(this,kl,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Mf=new WeakMap,kl=new WeakMap,Di=new WeakMap;function ef(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function BG(n){return typeof n=="string"?tc(n,"NFKC"):mu(n)}const Hce="m/44'/60'/0'/0/0";function zG(n){const e=n.salt!=null?Ge(n.salt,"options.salt"):Fo(32);let t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),ce(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),ce(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),ce(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function qG(n,e,t,r){const i=Ge(t.privateKey,"privateKey"),s=r.iv!=null?Ge(r.iv,"options.iv"):Fo(16);ce(s.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?Ge(r.uuid,"options.uuid"):Fo(16);ce(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=n.slice(0,16),l=n.slice(16,32),c=new my(a,s),u=Ge(c.encrypt(i)),h=Xn(Dn([l,u])),d={address:t.address.substring(2).toLowerCase(),id:eae(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Fe(s).substring(2)},ciphertext:Fe(u).substring(2),kdf:"scrypt",kdfparams:{salt:Fe(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(t.mnemonic){const f=r.client!=null?r.client:`ethers/${PY}`,m=t.mnemonic.path||Hce,g=t.mnemonic.locale||"en",v=n.slice(32,64),y=Ge(t.mnemonic.entropy,"account.mnemonic.entropy"),b=Fo(16),w=new my(v,b),S=Ge(w.encrypt(y)),_=new Date,C="UTC--"+(_.getUTCFullYear()+"-"+ef(_.getUTCMonth()+1,2)+"-"+ef(_.getUTCDate(),2)+"T"+ef(_.getUTCHours(),2)+"-"+ef(_.getUTCMinutes(),2)+"-"+ef(_.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:f,gethFilename:C,path:m,locale:g,mnemonicCounter:Fe(b).substring(2),mnemonicCiphertext:Fe(S).substring(2),version:"0.1"}}return JSON.stringify(d)}function Wce(n,e,t){t==null&&(t={});const r=BG(e),i=zG(t),s=Um(r,i.salt,i.N,i.r,i.p,64);return qG(Ge(s),i,n,t)}async function Yce(n,e,t){t==null&&(t={});const r=BG(e),i=zG(t),s=await qm(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return qG(Ge(s),i,n,t)}const Vw="m/44'/60'/0'/0/0",Gce=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ga=2147483648,Vce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Kce="0123456789abcdef";function gy(n,e){let t="";for(;n;)t=Kce[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function FM(n){const e=Ge(n),t=tO(Xi(Xi(e)),0,4),r=Dn([e,t]);return Qoe(r)}const $s={};function UG(n,e,t,r){const i=new Uint8Array(37);n&Ga?(Et(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Ge(r),1)):i.set(Ge(t));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=n>>24-o&255;const s=Ge(hd("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function HG(n,e){const t=e.split("/");ce(t.length>0,"invalid path","path",e),t[0]==="m"&&(ce(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));ce(o<Ga,"invalid path index",`path[${i}]`,s),r=r.deriveChild(Ga+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);ce(o<Ga,"invalid path index",`path[${i}]`,s),r=r.deriveChild(o)}else ce(!1,"invalid path component",`path[${i}]`,s)}return r}var Dm,$M,Ql,Pf;const is=class is extends NM{constructor(t,r,i,s,o,a,l,c,u){super(r,u);Ae(this,Dm);de(this,"publicKey");de(this,"fingerprint");de(this,"parentFingerprint");de(this,"mnemonic");de(this,"chainCode");de(this,"path");de(this,"index");de(this,"depth");Sb(t,$s,"HDNodeWallet"),gi(this,{publicKey:r.compressedPublicKey});const h=tO(dd(Xi(this.publicKey)),0,4);gi(this,{parentFingerprint:i,fingerprint:h,chainCode:s,path:o,index:a,depth:l}),gi(this,{mnemonic:c})}connect(t){return new is($s,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,r){return await Yce(Rt(this,Dm,$M).call(this),t,{progressCallback:r})}encryptSync(t){return Wce(Rt(this,Dm,$M).call(this),t)}get extendedKey(){return Et(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),FM(Dn(["0x0488ADE4",gy(this.depth,1),this.parentFingerprint,gy(this.index,4),this.chainCode,Dn(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new im($s,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const r=vi(t,"index");ce(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ga),r&Ga&&(i+="'"));const{IR:s,IL:o}=UG(r,this.chainCode,this.publicKey,this.privateKey),a=new Qs(Nh((RY(o)+BigInt(this.privateKey))%Vce,32));return new is($s,a,this.fingerprint,Fe(s),i,r,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return HG(this,t)}static fromExtendedKey(t){const r=On(Joe(t));ce(r.length===82||FM(r.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=r[4],s=Fe(r.slice(5,9)),o=parseInt(Fe(r.slice(9,13)).substring(2),16),a=Fe(r.slice(13,45)),l=r.slice(45,78);switch(Fe(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=Fe(l);return new im($s,Wm(c),c,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(l[0]!==0)break;return new is($s,new Qs(l.slice(1)),s,a,null,o,i,null,null)}ce(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,r,i){var o;t==null&&(t=""),r==null&&(r=Vw),i==null&&(i=vc.wordlist());const s=nm.fromEntropy(Fo(16),t,i);return Rt(o=is,Ql,Pf).call(o,s.computeSeed(),s).derivePath(r)}static fromMnemonic(t,r){var i;return r||(r=Vw),Rt(i=is,Ql,Pf).call(i,t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,i,s){var a;r==null&&(r=""),i==null&&(i=Vw),s==null&&(s=vc.wordlist());const o=nm.fromPhrase(t,r,s);return Rt(a=is,Ql,Pf).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(t){var r;return Rt(r=is,Ql,Pf).call(r,t,null)}};Dm=new WeakSet,$M=function(){const t={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),t},Ql=new WeakSet,Pf=function(t,r){ce(kb(t),"invalid seed","seed","[REDACTED]");const i=Ge(t,"seed");ce(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=Ge(hd("sha512",Gce,i)),o=new Qs(Fe(s.slice(0,32)));return new is($s,o,"0x00000000",Fe(s.slice(32)),"m",0,0,r,null)},Ae(is,Ql);let rm=is;class im extends AM{constructor(t,r,i,s,o,a,l,c,u){super(r,u);de(this,"publicKey");de(this,"fingerprint");de(this,"parentFingerprint");de(this,"chainCode");de(this,"path");de(this,"index");de(this,"depth");Sb(t,$s,"HDNodeVoidWallet"),gi(this,{publicKey:i});const h=tO(dd(Xi(i)),0,4);gi(this,{publicKey:i,fingerprint:h,parentFingerprint:s,chainCode:o,path:a,index:l,depth:c})}connect(t){return new im($s,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return Et(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),FM(Dn(["0x0488B21E",gy(this.depth,1),this.parentFingerprint,gy(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const r=vi(t,"index");ce(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ga),r&Ga&&(i+="'"));const{IR:s,IL:o}=UG(r,this.chainCode,this.publicKey,null),a=Qs.addPoints(o,this.publicKey,!0),l=Wm(a);return new im($s,l,a,this.fingerprint,Fe(s),i,r,this.depth+1,this.provider)}derivePath(t){return HG(this,t)}}class aN{constructor(e){de(this,"mnemonic");de(this,"walletAddress");de(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),t=Math.floor(Math.random()*1e6);return`tx-${e}-${t}`}async getPrivateKeyHex(){const e=rm.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const t=BigInt(e.privateKey),r=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(t===0n||t>=r)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const s=t.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(s))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return s}async signPayload(e){const t=await this.getPrivateKeyHex(),r=Math.floor(Date.now()/1e3);let i;e.deadline&&(i=parseInt(e.deadline,10));const s={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:e};i!==void 0&&(s.deadline=i);const o=await Xs.generateSingleSignature(JSON.stringify(s),t,this.walletAddress.toLowerCase());if(!o.success||!o.signature)throw new Error(o.error||"Failed to generate signature");return o.signature}async buildCompleteMessage(e,t,r=3600){const s=Math.floor(Date.now()/1e3)+r,o=await t.getNextNonce();return{...e,owner:this.walletAddress,nonce:o,deadline:s.toString()}}buildEIP712Tx(e,t,r){const i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const a={txhash:r||this.generateTxID(),sigType:1,threshold:1,timestamp:i,payload:e,signatures:[{signer:this.walletAddress,signature:t}]};return s!==void 0&&(a.deadline=s),a}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}class Xce{constructor(e){de(this,"httpClient");de(this,"infoClient");de(this,"nonceManager");de(this,"mnemonic");de(this,"chainID");de(this,"walletAddress");de(this,"nonceCounter",null);de(this,"signatureBuilder");this.httpClient=new ZI(e.baseURL,e.maxRetries??3),this.infoClient=new eo({baseURL:e.baseURL,sessionToken:e.sessionToken}),this.chainID=e.chainID??10900,this.mnemonic=e.mnemonic,e.mnemonic&&(this.nonceManager=new MY(this.infoClient))}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");this.signatureBuilder=new aN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNotInitializedMessage(){return"Client not initialized. Call initialize() first."}getNonceManager(){if(!this.nonceManager)throw new Error("NonceManager not initialized. Mnemonic required.");return this.nonceManager}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");await Xs.initialize();const e=await Xs.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new aN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());return this.walletAddress}async refreshNonceFromServer(){const e=this.getNonceManager(),t=this.getWalletAddress(),r=await e.getExpectedNextNonce(t,!1);this.nonceCounter=r.next_nonce,console.log("[BaseSignedClient] Refreshed nonce from server",{walletAddress:t,newNonce:this.nonceCounter})}async getNextNonce(){return this.getNonceManager(),this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}hexSignatureToBase64(e){const t=e.replace(/^0x/i,"");if(/^[0-9a-fA-F]+$/.test(t)&&(t.length===128||t.length===130)){const r=t.length/2,i=new Uint8Array(r);for(let s=0;s<r;s++)i[s]=parseInt(t.slice(s*2,s*2+2),16);return btoa(String.fromCharCode(...i))}return e}}function Qce(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function Jce(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function Zce(n){if(!n)return[!1,!1];const e=Qce(n),t=Jce(n);return[e,t]}function WG(n){const[e,t]=Zce(n);return e||t}function Kw(n){if(n==null||typeof n!="string")return!1;const e=n.toLowerCase();return e.includes("duplicate transaction")||e.includes("duplicate tranaction")}function jM(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const r=n.seconds,i=n.nanos||0;return r*1e3+Math.floor(i/1e6)}const t=typeof n=="string"?Number(n):n;return typeof t=="number"&&!isNaN(t)&&t>0?t<9466848e5?t*1e3:t:e}function ko(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function lN(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,t=n.nanos||0,r=e*1e3+Math.floor(t/1e6),s=new Date(r).toISOString();if(t>0){const o=t.toString().padStart(9,"0");return s.replace(/\.\d{3}Z$/,`.${o}Z`)}return s}return""}function Ii(n){const t=new Date().toISOString(),r=t.match(/\.(\d{3})Z$/);if(r){const s=(parseInt(r[1])*1e6).toString().padStart(9,"0");return t.replace(/\.\d{3}Z$/,`.${s}Z`)}return t.replace(/Z$/,".000000000Z")}const YG="sys::onboard",eue="market::change_marginRatio",cN="clob::submit_order",tue="clob::cancel_order",uN="bucket::close_position",nue="bucket::update_position_leverage",rue="clob::modify_order",iue="clob::inter_transfer",sue="bucket::create_margin_bucket",oue="clob::swap",aue="bank::mint",lue="bank::transfer_to_bucket",cue="bank::withdraw_from_bucket",uue="bank::bucket_transfer",hue="bank::transfer";var en=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(en||{});const pd="http://localhost:8080",due="300px",fue="300px",pue="270px",GG="630px",yO=5e3,mue="1",gue=100,VG=20,BM="legal winner thank year wave sausage worth useful legal winner thank yellow",Xw=1,hN=100,vue=1,v0=0,Qw=100,Jw=1,yue=.01,dN=0,bue="BINANCE:BTCUSDT",xue="5",wue="https://s3.tradingview.com/tv.js",aa=2,_ue=2,Aa="asc",Yu="desc",zM="market",Zw="limit",sm="CROSS",Sue="ISOLATED",kue="ONE_WAY",om="LONG",qM="SHORT",fN="symbol",pN="leverage",mN="size",gN="liquidationPrice",vN="unrealizedPnL",yN="entryPrice",bN="margin",e1="all",y0="byBucket",xN="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",Cue="#51cf66",Eue="#ff6b6b",Tue="Loading positions...",Mue="No open positions",Pue="POSITIONS",Iue="All",Oue="By Bucket",t1="--",wN="symbol",_N="side",SN="quantity",kN="price",CN="filledQuantity",EN="status",la="pending",TN="history",Rue="ORDER_STATUS_PENDING",Due="ORDER_STATUS_OPEN",Aue="ORDER_STATUS_PARTIAL",Nue="PARTIALLY_FILLED",MN=[Rue,Due,Aue,"PENDING","OPEN","NEW","PARTIAL",Nue],PN="#ffc107",Lue="#17a2b8",Fue="#28a745",$ue="#dc3545",jue="#6c757d",Bue="#51cf66",zue="#ff6b6b",IN="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",que="Loading pending orders...",Uue="No pending orders",Hue="No historical orders",Wue="OPEN ORDERS",Yue="ORDER HISTORY",Gue="Wallet address required to view pending orders",Vue="Pending",Kue="History",Xue="--",Que="Unknown",Jue={1:"USDC",2:"USDT"};function ON(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((t,r)=>{const i=ko(t.timestamp);return ko(r.timestamp)-i}).map(t=>{const r=ko(t.timestamp),i=nt(t.quantity),s=nt(t.price);return{time:r,size:i,price:s,isBuyerMaker:!1}})}function RN(n){let e;"positionId"in n&&n.positionId?e=n.positionId:e=`${n.marketIndex}-${n.bucketId||"default"}-${n.address}`;const t="averageEntryPrice"in n?n.averageEntryPrice:n.entryPrice;let r;"positionSide"in n&&n.positionSide?r=n.positionSide:"side"in n&&n.side?r=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?om:qM:r=nt(n.size)>=0?om:qM;const i=nt(n.size),s=nt(t),o=nt(n.markPrice),a=n.leverage?nt(n.leverage):0;let l=0;if(n.unrealizedProfit!==void 0||n.unrealizedLoss!==void 0){const d=uy(n.unrealizedProfit),f=uy(n.unrealizedLoss),m=d-f;l=nt(m.toString())}else"unrealizedPnl"in n&&n.unrealizedPnl!==void 0&&(l=nt(n.unrealizedPnl));const u=nt(n.marginBalance)||(a&&s&&i!==0?Math.abs(Math.abs(i)*s/a):0),h="marginMode"in n&&n.marginMode||"marginType"in n&&n.marginType||sm;return{positionId:e,marketId:String(n.marketIndex),symbol:n.symbol||`m-${n.marketIndex}`,size:Math.abs(i),entryPrice:s,markPrice:o,liquidationPrice:n.liquidationPrice?nt(n.liquidationPrice):0,unrealizedPnL:l,leverage:a,margin:u,side:r,marginMode:h,bucketId:n.bucketId?String(n.bucketId):"",raw:n}}function DN(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let t=n.status||"ORDER_STATUS_PENDING";t.includes("ORDER_STATUS_")&&(t=t.replace("ORDER_STATUS_",""));const r=n.timeInForce;let i=r;r&&r.includes("TIME_IN_FORCE_")&&(i=r.replace("TIME_IN_FORCE_",""));const s=f=>nt(f),o=s(n.quantity),a=s(n.price),l=s(n.filledQuantity),c=o-l,u=n.orderId??"",h=n.marketIndex??"",d=jM(n.timestamp,Date.now());return{id:u,orderId:u,marketId:h,side:e,type:n.type,quantity:o,price:a,filledQuantity:l,remainingQuantity:c,status:t,timeInForce:i??"",createdAt:d,updatedAt:d,raw:n}}function Zue(n){const e=new Date().toISOString();return{bucketId:n.bucketId,address:n.address,bucketType:n.marginType,collateralAssetIndex:"1",depositedMargin:"0",totalEquity:n.totalEquity,availableMargin:n.availableMargin,usedMargin:n.usedMargin,unrealizedProfit:n.unrealizedProfit,unrealizedLoss:n.unrealizedLoss,realizedProfit:"0",realizedLoss:"0",marginRatio:"0",imr:"0",totalNotionalValue:"0",riskLevel:"low",maxLeverage:"0",correlationOffset:0,status:"active",createdAt:e,updatedAt:e,sequenceId:"0"}}function AN(n){const e=n.bucketId??"---",t=uy(n.unrealizedProfit??"0"),r=uy(n.unrealizedLoss??"0"),i=t-r,s=Ln(i.toString()),o=nt(n.unrealizedProfit??"0"),a=nt(n.unrealizedLoss??"0"),l=zoe(n.maxLeverage),c=n.bucketType??"cross",u=n.collateralAssetIndex??"1",h=Jue[u]??"USDC";return{bucketId:e,address:n.address||"",marginType:c.toLowerCase().includes("isolated")?"isolated":"cross",collateralAssetIndex:u,collateralAsset:h,depositedMargin:nt(n.depositedMargin??"0"),totalEquity:nt(n.totalEquity??"0"),availableMargin:nt(n.availableMargin??"0"),usedMargin:nt(n.usedMargin??"0"),unrealizedProfit:o,unrealizedLoss:a,realizedProfit:nt(n.realizedProfit??"0"),realizedLoss:nt(n.realizedLoss??"0"),unrealizedPnL:s,marginRatio:nt(n.marginRatio??"0"),imr:nt(n.imr??"0"),totalNotionalValue:nt(n.totalNotionalValue??"0"),riskLevel:n.riskLevel||"",maxLeverage:l,correlationOffset:n.correlationOffset??0,status:n.status||"",createdAt:lN(n.createdAt),updatedAt:lN(n.updatedAt),leverage:l,marginMode:c,raw:n}}function n1(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function If(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function ehe(n){return"collateralAssetIndex"in n}function the(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.marketIndex=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.isBuyerMaker=="boolean"&&typeof n.tradeId=="string"}function nhe(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.markPrice=="number"&&typeof n.timestamp=="number"}class rhe extends Xce{constructor(e){super(e)}getNotInitializedMessage(){return"FiClient not initialized. Call initialize() first."}async refreshNonceFromServer(){await super.refreshNonceFromServer(),console.log("[FiClient] Refreshed nonce from server",{walletAddress:this.getWalletAddress(),newNonce:this.nonceCounter})}buildOrderPayload(e){const t=Tn(e.price),r=Tn(e.quantity),i={action:cN,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:t,quantity:r};return e.leverage&&(i.leverage=e.leverage),e.takeProfit&&(i.takeProfit=e.takeProfit),e.stopLoss&&(i.stopLoss=e.stopLoss),i}buildOrderPayloadForTx(e){const t=Tn(e.price),r=Tn(e.quantity),i=e.orderType.toUpperCase(),s=(e.timeInForce||"GTC").toUpperCase(),o=i==="MARKET"?"IOC":"GTC",a=e.bucketId?"isolated":"cross",l=[];e.stopLoss&&l.push(`sl:${e.stopLoss}`),e.takeProfit&&l.push(`tp:${e.takeProfit}`);const c=l.length?l.join(","):"",u=e.leverage||"100000000";return{action:cN,address:this.getWalletAddress(),marketIndex:e.marketId,side:e.side.toUpperCase(),orderType:i==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",price:t,stopPrice:"0",quantity:r,leverage:u,fillType:o,marginMode:a,bucketId:e.bucketId,metadata:"",sltp:c,timeInForce:s}}async placeOrderViaTx(e,t=!1){const r=this.getWalletAddress(),i=this.buildOrderPayloadForTx(e),s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=parseInt(String(o.deadline),10),c=new Date(l*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),u=Ii(),h=o.price,d=o.quantity,f=e.orderType.toUpperCase()==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",m=e.side.toUpperCase()==="BUY"?"SIDE_BUY":"SIDE_SELL",g=(e.timeInForce||"GTC").toUpperCase(),v=g==="IOC"?"TIME_IN_FORCE_IOC":g==="FOK"?"TIME_IN_FORCE_FOK":g==="GTT"||g==="GTD"?"TIME_IN_FORCE_GTT":"TIME_IN_FORCE_GTC",y={"@type":"/clob.v1.MsgPlaceOrderRequest",type:2,fromAddress:r,address:r,marketIndex:parseInt(e.marketId,10)||e.marketId,symbol:e.marketId,price:h,quantity:d,size:d,side:m,orderType:f,bucketId:e.bucketId,timeInForce:v,is_buy:e.side.toUpperCase()==="BUY",timestamp:u};e.leverage&&(y.leverage=e.leverage),e.takeProfit&&(y.takeProfit=e.takeProfit),e.stopLoss&&(y.stopLoss=e.stopLoss),e.postOnly&&(y.postOnly=!0),e.hidden&&(y.hidden=!0),e.displayQuantity&&(y.displayQuantity=e.displayQuantity);const b=this.hexSignatureToBase64(a),w={tx:{body:{messages:[y],memo:`place_order_${Math.floor(Date.now()/1e3)}_${o.nonce}`,timeoutTimestamp:c},auth_info:{signer_infos:[{nonce:parseInt(String(o.nonce),10),deadline:l,timestamp:u}]},signatures:[b]}},_=(await this.httpClient.post("/tx/v1/submit",w)).body??{},k=_.tx_hash??_.txhash??void 0,C=_.orderId??void 0,E=_.accepted===!0,O=_.errorMessage??"";if(E&&this.walletAddress){const R=parseInt(String(o.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,R,!1)}else this.walletAddress&&(_.tx_hash??_.txhash)&&await this.refreshNonceFromServer();return!t&&!E&&Kw(O)&&this.walletAddress?(console.log("duplicate transaction payload",i),await this.refreshNonceFromServer(),this.placeOrderViaTx(e,!0)):(console.log("final submission payload",i),{success:E,orderId:C??"",errorMessage:E?"":O,...k!=null&&{txHash:k}})}async placeOrderLegacy(e){const t=this.buildOrderPayload(e);console.log("placeOrderLegacy payload",t);const r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=Math.floor(Date.now()/1e3)-5,a=e.side.toUpperCase()==="BUY",l=e.orderType.toUpperCase(),c=l==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",u={address:this.getWalletAddress(),market_index:e.marketId,bucket_id:e.bucketId,price:i.price,quantity:i.quantity,type:c,signature:s,nonce:i.nonce,deadline:i.deadline,timestamp:o,asset_pair:e.marketId,market_id:e.marketId,size:i.quantity,is_buy:a,order_type:l,client_order_id:`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,time_in_force:e.timeInForce||"GTC"};e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0);const d=(await this.httpClient.post("/clob/v1/order",u)).body,f=d.orderId,m=d.txhash!=null?String(d.txhash):d.txHash;return{...d,orderId:f??d.orderId,...m!=null&&{txHash:m}}}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");return this.walletAddress||await this.initialize(),e.useLegacyClobOrder?this.placeOrderLegacy(e):this.placeOrderViaTx(e)}async placeBatchOrders(e){if(!e.orders||!Array.isArray(e.orders))throw new Error("orders must be a non-empty array");if(e.orders.length===0)throw new Error("At least one order is required");if(e.orders.length>100)throw new Error("Maximum 100 orders per batch");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3)-5,i=await Promise.all(e.orders.map(async(o,a)=>{if(!o.marketId||o.marketId.trim()==="")throw new Error(`Order ${a}: marketId cannot be empty`);if(!o.bucketId||o.bucketId.trim()==="")throw new Error(`Order ${a}: bucketId cannot be empty`);if(!o.side||o.side.toUpperCase()!=="BUY"&&o.side.toUpperCase()!=="SELL")throw new Error(`Order ${a}: side must be BUY or SELL`);if(!o.orderType||o.orderType.toUpperCase()!=="LIMIT"&&o.orderType.toUpperCase()!=="MARKET")throw new Error(`Order ${a}: orderType must be LIMIT or MARKET`);if(!o.price||o.price<=0)throw new Error(`Order ${a}: price must be positive`);if(!o.quantity||o.quantity<=0)throw new Error(`Order ${a}: quantity must be positive`);const l=this.buildOrderPayload(o),c=this.getSignatureBuilder(),u=await c.buildCompleteMessage(l,this.getNonceProvider()),h=await c.signPayload(u),d=o.side.toUpperCase()==="BUY",f=o.orderType.toUpperCase(),m=f==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",g=`batch-${Date.now()}-${a}-${Math.floor(Math.random()*1e6)}`,v=u.quantity,y=d?"BUY":"SELL",b={address:t,symbol:o.marketId,bucketId:o.bucketId,price:u.price,size:v,quantity:v,is_buy:d,side:y,orderType:f,type:m,signature:h,nonce:u.nonce,deadline:u.deadline,timestamp:r,client_order_id:g};return o.leverage&&(b.leverage=o.leverage),o.takeProfit&&(b.take_profit=o.takeProfit),o.stopLoss&&(b.stop_loss=o.stopLoss),o.postOnly&&(b.post_only=!0,b.postOnly=!0),o.hidden&&(b.hidden=!0),o.displayQuantity&&(b.display_quantity=o.displayQuantity,b.displayQuantity=o.displayQuantity),o.reduceOnly&&(b.reduce_only=!0),b}));return(await this.httpClient.post("/clob/v1/orders/batch",{orders:i})).body}async cancelOrderRESTful(e,t){if(!e||e==="")throw new Error("orderId cannot be empty");!this.walletAddress&&!t&&await this.initialize();const r=t||this.getWalletAddress();return(await this.httpClient.delete(`/clob/v1/order/${encodeURIComponent(e)}?address=${encodeURIComponent(r)}`)).body}async cancelOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r={action:tue,owner:t,address:t,orderId:e.orderId,marketIndex:e.marketId},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Ii(),l=parseInt(String(s.deadline),10),c=new Date(l*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),u={"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:a},h=this.hexSignatureToBase64(o),d={tx:{body:{messages:[u],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:c},auth_info:{signer_infos:[{nonce:parseInt(String(s.nonce),10),deadline:l,timestamp:a}]},signatures:[h]}};try{const m=(await this.httpClient.post("/tx/v1/submit",d)).body??{},g=this.mapSubmitTxToCancelOrderResponse(m,e.orderId);if(g.success&&this.walletAddress){const v=parseInt(String(s.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,v,!1)}else this.walletAddress&&(m.txhash??m.tx_hash??m.Txhash)&&await this.refreshNonceFromServer();if(!g.success&&Kw(g.errorMessage)&&this.walletAddress){await this.refreshNonceFromServer();const v=await i.buildCompleteMessage(r,this.getNonceProvider()),y=await i.signPayload(v),b=parseInt(String(v.deadline),10),w=new Date(b*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),_={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Ii()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:w},auth_info:{signer_infos:[{nonce:parseInt(String(v.nonce),10),deadline:b,timestamp:Ii()}]},signatures:[this.hexSignatureToBase64(y)]}},C=(await this.httpClient.post("/tx/v1/submit",_)).body??{},E=this.mapSubmitTxToCancelOrderResponse(C,e.orderId);if(E.success&&this.walletAddress){const O=parseInt(String(v.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,O,!1)}else this.walletAddress&&(C.txhash??C.tx_hash??C.Txhash)&&await this.refreshNonceFromServer();return E}return g}catch(f){if(WG(f)){await this.refreshNonceFromServer();const m=await i.buildCompleteMessage(r,this.getNonceProvider()),g=await i.signPayload(m),v=parseInt(String(m.deadline),10),y=new Date(v*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),w={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Ii()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:y},auth_info:{signer_infos:[{nonce:parseInt(String(m.nonce),10),deadline:v,timestamp:Ii()}]},signatures:[this.hexSignatureToBase64(g)]}},_=(await this.httpClient.post("/tx/v1/submit",w)).body??{},k=this.mapSubmitTxToCancelOrderResponse(_,e.orderId);if(k.success&&this.walletAddress){const C=parseInt(String(m.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,C,!1)}else this.walletAddress&&(_.txhash??_.tx_hash??_.Txhash)&&await this.refreshNonceFromServer();return k}throw f}}mapSubmitTxToCancelOrderResponse(e,t){const r=e.accepted===!0,i=e.txhash!=null?String(e.txhash):e.tx_hash!=null?String(e.tx_hash):e.Txhash!=null?String(e.Txhash):"",s=Date.now(),o={seconds:Math.floor(s/1e3),nanos:s%1e3*1e6};return{...e,success:r,txhash:i,result:{orderId:t,success:r,timestamp:o},timestamp:o,...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)}}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const t={action:rue,orderId:e.orderId,marketIndex:e.marketId,newPrice:Tn(e.newPrice),newQuantity:Tn(e.newQuantity)},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeLeverage(e){if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(!(e.marketIndex!==void 0||e.marketId!=null&&e.marketId.trim()!==""))throw new Error("marketIndex or marketId must be provided");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=e.marketIndex!==void 0?String(e.marketIndex):String(parseInt(e.marketId.trim(),10)),s={action:nue,address:r,positionId:e.positionId??"",bucketId:e.bucketId,marketIndex:i,newLeverage:Tn(e.newLeverage)},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3),i=r+300,s=await this.getNextNonce();let o;if(e.marketPrice&&e.marketPrice>0)o=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.lastPrice)throw new Error("marketPrice is required and could not be fetched from ticker");o=Ln(m.lastPrice)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const a=Tn(o).toString(),l=e.quantity&&e.quantity>0?Tn(e.quantity).toString():"0",c={action:uN,address:t,marketId:e.marketId,closeSize:l,marketPrice:a,nonce:s,deadline:i},h=await this.getSignatureBuilder().signPayload(c),d={address:t,position_id:e.positionId,market_id:e.marketId,close_size:l,market_price:a,timestamp:r,sign_type:1,nonce:s.toString(),chain_id:this.chainID.toString(),deadline:i.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",d)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=parseInt(e.marketId,10);if(Number.isNaN(t)||t<0)throw new Error("marketId must be a non-negative numeric string");const r=e.quantity!=null&&e.quantity>0?e.quantity:0;let i;if(e.marketPrice!=null&&e.marketPrice>0)i=e.marketPrice;else try{const v=await this.infoClient.getMarketStats(e.marketId);if(!(v!=null&&v.lastPrice))throw new Error("marketPrice is required and could not be fetched from ticker");i=Ln(v.lastPrice)}catch(v){throw new Error(`Failed to resolve market price: ${v instanceof Error?v.message:String(v)}`)}const s=Math.floor(Date.now()/1e3),o={action:uN,address:this.getWalletAddress(),positionId:e.positionId,marketIndex:t,closeSize:r,marketPrice:i,timestamp:s},a=this.getSignatureBuilder(),l=await a.buildCompleteMessage(o,this.getNonceProvider()),c=await a.signPayload(l),u=a.buildEIP712Tx(l,c),d=(await this.httpClient.post("/router/v1/tx",u)).body,f=(d==null?void 0:d.accepted)===!0,m=(d==null?void 0:d.txhash)??(d==null?void 0:d.tx_hash)??"",g=(d==null?void 0:d.errorMessage)??(d==null?void 0:d.error_message)??"";return{...d,success:f,txhash:m,errorMessage:g||void 0}}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const t={action:oue,fromToken:e.fromToken,toToken:e.toToken,amountIn:Tn(e.amountIn),minAmountOut:Tn(e.minAmountOut)};e.path&&e.path.length>0&&(t.path=e.path);const r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.reason===void 0||e.reason.trim()==="")throw new Error("reason cannot be empty");const t=typeof e.newInitialMarginRatio=="number"?e.newInitialMarginRatio:parseFloat(String(e.newInitialMarginRatio)),r=typeof e.newMaintenanceMarginRatio=="number"?e.newMaintenanceMarginRatio:parseFloat(String(e.newMaintenanceMarginRatio));if(Number.isNaN(t)||t<0)throw new Error("newInitialMarginRatio must be a non-negative number");if(Number.isNaN(r)||r<0)throw new Error("newMaintenanceMarginRatio must be a non-negative number");this.walletAddress||await this.initialize();const i={action:eue,marketIndex:e.marketId,newInitialMarginRatio:Tn(t),newMaintenanceMarginRatio:Tn(r),reason:e.reason},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t={action:iue,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:Tn(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Tn(e.amount),i={action:uue,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=Math.floor(Date.now()/1e3),c={address:t,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r,reason:"sdk_transfer",timestamp:l,nonce:o.nonce,deadline:o.deadline,signature:a,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",c)).body}async extractToBucket(e){var b;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((b=e.assetId)==null?void 0:b.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Tn(e.amount),s={action:lue,bucketId:e.bucketId,assetIndex:Number(t),amount:i},o=this.getSignatureBuilder(),a=300,l=await o.buildCompleteMessage(s,this.getNonceProvider(),a),c=await o.signPayload(l),u=Ii(),h=parseInt(String(l.deadline),10),d={"@type":"/bank.v1.MsgTransferToBucketRequest",operation:"transfer_to_bucket",address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:u},f=this.hexSignatureToBase64(c),m={tx:{body:{messages:[d],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${l.nonce}`,timeoutTimestamp:new Date(h*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(l.nonce),10),deadline:h,timestamp:u}]},signatures:[f]}},v=(await this.httpClient.post("/tx/v1/submit",m)).body??{},y=this.mapSubmitTxToExtractToBucketResponse(v);if(!y.success&&Kw(y.errorMessage)&&this.walletAddress){await this.refreshNonceFromServer();const w=await o.buildCompleteMessage(s,this.getNonceProvider(),a),S=await o.signPayload(w),_=parseInt(String(w.deadline),10),k={tx:{body:{messages:[{"@type":"/bank.v1.MsgTransferToBucketRequest",operation:"transfer_to_bucket",address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:Ii()}],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${w.nonce}`,timeoutTimestamp:new Date(_*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(w.nonce),10),deadline:_,timestamp:Ii()}]},signatures:[this.hexSignatureToBase64(S)]}},E=(await this.httpClient.post("/tx/v1/submit",k)).body??{};return this.mapSubmitTxToExtractToBucketResponse(E)}return y}mapSubmitTxToExtractToBucketResponse(e){const t=e.accepted===!0,r=e.txhash!=null?String(e.txhash):void 0,i=Ii();return{success:t,...r!=null&&{txHash:r},...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)},timestamp:i,...e}}async createBucket(e){if(e.collateralAssetIndex===void 0||typeof e.collateralAssetIndex!="number"||e.collateralAssetIndex<0)throw new Error("collateralAssetIndex must be a non-negative number");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const t=e.marginType.toLowerCase();if(t!=="cross"&&t!=="isolated")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Ii(),s=e.initialMargin??"0",o={action:sue,collateralAssetIndex:String(e.collateralAssetIndex),initialMargin:s,marginType:t};await this.getSignatureBuilder().buildCompleteMessage(o,this.getNonceProvider(),3600);const c={address:r,bucketType:t==="isolated"?"BUCKET_TYPE_ISOLATED":"BUCKET_TYPE_CROSS",collateralAssetIndex:e.collateralAssetIndex,initialMargin:s,timestamp:i};return e.bucketId!=null&&e.bucketId!==""&&(c.bucketId=e.bucketId),(await this.httpClient.post("/bucket/v1/bucket",c)).body}async withdrawFromBucket(e){var u;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((u=e.assetId)==null?void 0:u.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Tn(e.amount),s={action:cue,bucketId:e.bucketId,assetIndex:Number(t),amount:i};await this.getSignatureBuilder().buildCompleteMessage(s,this.getNonceProvider());const a=Ii(),l={address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:a};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",l)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Tn(e.amount),r={action:aue,address:this.getWalletAddress(),asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Tn(e.amount),r={action:hue,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async checkPositionRisk(e){if(!e.address||e.address.trim()==="")throw new Error("address cannot be empty");if(!e.market_index||e.market_index.trim()==="")throw new Error("market_index cannot be empty");if(!e.side||e.side.toUpperCase()!=="LONG"&&e.side.toUpperCase()!=="SHORT")throw new Error("side must be LONG or SHORT");if(!e.size||e.size.trim()==="")throw new Error("size cannot be empty");if(!e.leverage||e.leverage.trim()==="")throw new Error("leverage cannot be empty");return(await this.httpClient.post("/bucket/v1/position/check-risk",{address:e.address,market_index:e.market_index,side:e.side.toUpperCase(),size:e.size,leverage:e.leverage})).body}}class ihe{constructor(e){de(this,"ws",null);de(this,"state",en.Disconnected);de(this,"handlers",new Map);de(this,"reconnectTimer",null);de(this,"reconnectAttempts",0);de(this,"config");de(this,"originalConfig");de(this,"pingInterval",null);de(this,"stateChangeHandlers",new Set);de(this,"authState","not_required");de(this,"pendingSubscriptions",new Map);this.originalConfig=e;const t=this.convertHTTPToWebSocketURL(e.url);this.config={url:t,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const t=new URL(e);if(!t.pathname||t.pathname==="/")return t.pathname="/websocket",t.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const t=e.match(/:(\d+)/);return`ws://localhost:${t?t[1]:"8080"}/websocket`}if(e.startsWith("http://")){const t=e.replace("http://","ws://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(e.startsWith("https://")){const t=e.replace("https://","wss://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const t=new URL(e.startsWith("http")?e:`https://${e}`),r=t.protocol==="https:"?"wss:":"ws:",i=t.pathname&&t.pathname!=="/"?t.pathname:"",s=i.endsWith("/websocket")?i:`${i}/websocket`;return`${r}//${t.host}${s}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const t=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${t}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===en.Connected||this.state===en.Connecting))return this.setState(en.Connecting),new Promise((e,t)=>{let r=!1,i=!1,s=null;const o=a=>{i||(i=!0,s!==null&&(clearTimeout(s),s=null),this.setState(en.Disconnected),t(a))};try{const a=this.getConnectionURL();console.log("Connecting to WebSocket:",a);const l=new WebSocket(a);s=window.setTimeout(()=>{!r&&!i&&(l.close(),o(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${a}. Check if the server is running and accessible.`)))},1e4),l.onopen=async()=>{s!==null&&(clearTimeout(s),s=null),r=!0,this.ws=l,this.setState(en.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},l.onmessage=c=>{try{const u=JSON.parse(c.data);this.handleMessage(u)}catch(u){console.error("Failed to parse WebSocket message:",u)}},l.onerror=c=>{console.error("WebSocket error event:",c)},l.onclose=c=>{if(s!==null&&(clearTimeout(s),s=null),this.ws=null,this.stopPing(),this.authState="not_required",!r&&!i){const u=c.code,h=c.reason||"Unknown reason",d=c.wasClean;let f=`WebSocket connection failed. Close code: ${u}`;u===1006?f=`WebSocket connection failed (abnormal closure, code ${u}). Unable to connect to ${a}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:u===1002?f=`WebSocket protocol error (code ${u}). The server may not support WebSocket protocol or there's a protocol mismatch.`:u===1003?f=`WebSocket unsupported data type (code ${u}).`:u===1008?f=`WebSocket connection closed due to policy violation (code ${u}): ${h}`:u===1011?f=`WebSocket server error (code ${u}): ${h}`:u===1e3?f=`WebSocket connection closed normally (code ${u}) but before opening.`:h&&h!=="Unknown reason"&&(f+=` Reason: ${h}`),!d&&u===1006&&(f+=" This usually indicates the connection was refused or the server is unreachable."),o(new Error(f))}else r&&(this.setState(en.Disconnected),this.scheduleReconnect())}}catch(a){s!==null&&(clearTimeout(s),s=null);const l=a instanceof Error?a.message:String(a);o(new Error(`Failed to create WebSocket connection: ${l}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(en.Disconnected)}send(e){var t;if(this.state!==en.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const r=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${r}), updating connection state`),this.setState(en.Disconnected),new Error(`WebSocket not open (state: ${r})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const r=JSON.stringify(e);this.ws.send(r)}catch(r){throw console.error("[WebSocketClient] Failed to send message:",r),((t=this.ws)==null?void 0:t.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(en.Disconnected),this.scheduleReconnect()),r}}on(e,t){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(t)}off(e,t){if(!t){this.handlers.delete(e);return}const r=this.handlers.get(e);if(r){const i=r.indexOf(t);i>-1&&r.splice(i,1)}}getState(){return this.state}isConnected(){const e=this.state===en.Connected,t=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!t?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(en.Disconnected),!1):e&&t}setState(e){const t=this.state;this.state=e,t!==e&&this.stateChangeHandlers.forEach(r=>{try{r(e)}catch(i){console.error("Error in state change handler:",i)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s={type:"pong"};e.id&&(s.id=e.id),this.send(s)}}catch(s){console.error("[WebSocketClient] Failed to send pong:",s),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(en.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in stale data handler:",a)}}));let t;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?t=e.channel:t="subscribed";else if(e.action==="error")t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")t="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")t=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else t=e.action;else typeof e.type=="string"?e.type==="data"?typeof e.channel=="string"?t=e.channel:t="message":e.type==="error"?(t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?t=e.channel:t="ack":e.type==="pong"?t="pong":t=e.type:typeof e.event=="string"?t=e.event:typeof e.channel=="string"?t=e.channel:t="message";const r=this.handlers.get(t)||[],i=this.handlers.get("*")||[];r.forEach(s=>{try{s(e)}catch(o){console.error(`[WebSocketClient] Error in handler for ${t}:`,o)}}),t!=="error"&&i.forEach(s=>{try{s(e)}catch(o){console.error("[WebSocketClient] Error in wildcard handler:",o)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(en.Disconnected);return}this.reconnectAttempts++,this.setState(en.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===en.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(en.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(en.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,t,r){this.config.authToken=e,this.config.walletAddress=t,this.config.deviceID=r,this.originalConfig.authToken=e,this.originalConfig.walletAddress=t,this.originalConfig.deviceID=r,console.log(`Auth set: address=${t}, device=${r}`)}async updateAuth(e,t,r){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),t!==void 0&&(this.config.walletAddress=t,this.originalConfig.walletAddress=t),r!==void 0&&(this.config.deviceID=r,this.originalConfig.deviceID=r),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,t=5e3){return new Promise((r,i)=>{if(!this.pendingSubscriptions.has(e)){r();return}const s=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),i(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},t),o=this.pendingSubscriptions.get(e);o?(o.timeout=s,o.resolve=r,o.reject=i):(clearTimeout(s),r())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===en.Connected,r=!this.config.authToken||this.authState==="authenticated";return e&&r}getAuthState(){return this.authState}getAuthToken(){return this.config.authToken}}function she(n){const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function ohe(n){try{const e=new TextDecoder("utf-8",{fatal:!1}).decode(n);return JSON.parse(e)}catch{return null}}function ahe(n){if(n==null||typeof n!="object")return n;const e=n,t=e.payload,r=t==null?void 0:t.value;if(typeof r!="string")return n;let i,s;try{const a=she(r);s=a;const l=ohe(a);l!==null&&typeof l=="object"&&(i=Ah(l))}catch(a){console.warn("[streamPayload] decode failed:",a)}const o={...e,version:e.version??void 0,messageType:e.message_type??e.messageType,timestamp:e.timestamp??void 0,firstSequenceId:e.first_sequence_id??e.firstSequenceId,lastSequenceId:e.last_sequence_id??e.lastSequenceId,typeUrl:(t==null?void 0:t.type_url)??(t==null?void 0:t.typeUrl)};return i!==void 0&&(o.decodedPayload=i),s!==void 0&&(o.decodedPayloadRaw=s),o}const r1="multiplex";const lhe="init-multiplex";class che{constructor(e){de(this,"wsClient");de(this,"dataCallbacks",new Map);de(this,"pendingById",new Map);de(this,"pingPendingById",new Map);de(this,"wildcardHandler",null);de(this,"channelSubscribed",!1);this.wsClient=e}async subscribeToChannel(e=5e3){if(!this.wsClient.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.channelSubscribed||(this.wsClient.registerPendingSubscription(r1),this.wsClient.send({type:"subscribe",channel:r1,id:lhe}),await this.wsClient.waitForSubscription(r1,e),this.channelSubscribed=!0,this.attachMessageHandler())}async subscribeStreams(e,t=5e3){await this.ensureChannelAndHandler();const r=`sub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((i,s)=>{const o=setTimeout(()=>{const u=this.pendingById.get(r);u&&this.pendingById.delete(r)&&u.reject(new Error(`Multiplex subscribe timeout (id: ${r})`))},t),a=()=>{clearTimeout(o),this.pendingById.delete(r)&&i()},l=u=>{clearTimeout(o),this.pendingById.delete(r)&&s(u)};this.pendingById.set(r,{resolve:a,reject:l});const c=e.map(u=>({streamType:u.stream_type,filter:u.filter}));this.wsClient.send({action:"subscribe",id:r,subscriptions:c})})}unsubscribeStreams(e){if(!this.channelSubscribed||!this.wsClient.isConnected())return;const t=`unsub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,r=e.map(i=>({streamType:i.stream_type,filter:i.filter}));this.wsClient.send({action:"unsubscribe",id:t,subscriptions:r})}onStreamData(e,t){return this.dataCallbacks.has(e)||this.dataCallbacks.set(e,[]),this.dataCallbacks.get(e).push(t),()=>{const r=this.dataCallbacks.get(e);if(r){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}async ping(e=5e3){await this.ensureChannelAndHandler();const t=`ping-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((r,i)=>{const s=setTimeout(()=>{this.pingPendingById.delete(t)&&i(new Error(`Multiplex pong timeout (id: ${t})`))},e);this.pingPendingById.set(t,{resolve:()=>{clearTimeout(s),this.pingPendingById.delete(t),r()},reject:o=>{clearTimeout(s),this.pingPendingById.delete(t),i(o)}}),this.wsClient.send({action:"ping",id:t})})}detach(){this.wildcardHandler&&(this.wsClient.off("*",this.wildcardHandler),this.wildcardHandler=null),this.channelSubscribed=!1,this.dataCallbacks.clear(),this.pendingById.clear(),this.pingPendingById.clear()}async ensureChannelAndHandler(){this.channelSubscribed||await this.subscribeToChannel()}attachMessageHandler(){this.wildcardHandler||(this.wildcardHandler=e=>{const t=e.type,r=e.id,i=e.stream_type??e.streamType??e.subChannel,s=i?i:void 0;if(t==="data"&&s){const o=this.dataCallbacks.get(s);if(o!=null&&o.length){const a=e.data;let l=a!=null&&typeof a=="object"?ahe(a):a;const c=l;(c==null?void 0:c.decodedPayload)!=null?l=c.decodedPayload:l!=null&&typeof l=="object"&&!("decodedPayload"in l)&&!("payload"in l)&&(l=Ah(l));const u={type:"data",id:e.id,stream_type:s,symbol:e.symbol,marketIndex:e.marketIndex,data:l,error:e.error,U:e.U,u:e.u,ts:e.ts};o.forEach(h=>{try{h(u)}catch(d){console.error(`[MultiplexStreamClient] callback error for ${s}:`,d)}})}return}if(t==="ack"&&r){const o=this.pendingById.get(r);o&&o.resolve();return}if(t==="error"&&r){const o=this.pendingById.get(r);if(o){const a=e.error;let l="Multiplex error";if(a!=null&&typeof a=="object"){const c=a;typeof c.message=="string"?l=c.message:typeof c.code=="string"&&(l=c.code)}o.reject(new Error(l))}return}if(t==="pong"&&r){const o=this.pingPendingById.get(r);o&&o.resolve()}},this.wsClient.on("*",this.wildcardHandler))}}class NN{constructor(e){de(this,"wsClient");de(this,"subscriptions",new Map);de(this,"lastPriceWrappedCallbacks",new Map);de(this,"wrappedCallbacks",new Map);de(this,"multiplexStreamClient");de(this,"multiFeedSubscriptions",new Map);de(this,"multiFeedWrappedCallbacks",new Map);this.wsClient=new ihe({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexStreamClient=new che(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiFeedSubscriptions.clear(),this.multiFeedWrappedCallbacks.clear(),this.multiplexStreamClient.detach()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,t,r){this.wsClient.setAuthToken(e,t,r)}async updateAuth(e,t,r){return this.wsClient.updateAuth(e,t,r)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,t=5e3){return this.wsClient.waitForSubscription(e,t)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.error("Failed to parse router data field:",t),null}return e}extractRouterData(e){if(e==null||typeof e!="object")return null;const t=e;if(typeof t.action=="string"){if((t.action==="data"||t.action==="update")&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse action-based data:",t.data),r??null}if(t.action==="data"||t.action==="update"){const{action:r,channel:i,...s}=t;return Object.keys(s).length>0?s:null}if(t.action==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.action==="subscribed")return null}if(t.type==="data"&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse router data:",t.data),r??null}if(t.type==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.type==="ack")return null;if(t.channel!==void 0&&t.action===void 0&&t.type===void 0){const{channel:r,...i}=t;return Object.keys(i).length>0?i:null}return typeof t.action=="string"&&t.action!=="data"&&t.action!=="update"&&t.action!=="subscribed"&&t.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",t.action,"Full message:",e):typeof t.type=="string"&&t.type!=="data"&&t.type!=="ack"&&t.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",t.type,"Full message:",e):(t.action==="data"||t.action==="update"||t.type==="data")&&t.data===void 0&&t.channel===void 0&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");if(!this.wsClient.getAuthToken())throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}getMultiplexStreamClient(){return this.multiplexStreamClient}subscribeMultiFeedSubChannel(e,t,r,i){var c;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(t))throw new Error(`Invalid market ID: ${t}. Market ID must be a non-empty string.`);const s=["buckets","orders","positions"];s.includes(e)&&this.validatePrivateChannelAuth(),this.multiFeedSubscriptions.set(e,[...this.multiFeedSubscriptions.get(e)||[],r]);const o=u=>{const h=this.extractRouterData(u);h!=null&&r(h)};this.multiFeedWrappedCallbacks.has(e)||this.multiFeedWrappedCallbacks.set(e,new Map),this.multiFeedWrappedCallbacks.get(e).set(r,o),this.wsClient.on(e,o);const a=this.wsClient.getAuthToken(),l={market_id:t,...i};s.includes(e)&&a&&!l.auth_token&&(l.auth_token=a);try{this.wsClient.send({type:"subscribe",channel:e,params:l})}catch(u){(c=this.multiFeedWrappedCallbacks.get(e))==null||c.delete(r);const h=this.multiFeedSubscriptions.get(e)||[],d=h.indexOf(r);throw d>-1&&(h.splice(d,1),this.multiFeedSubscriptions.set(e,h)),u}}unsubscribeMultiFeedSubChannel(e,t){var i,s;const r=this.multiFeedSubscriptions.get(e)||[];if(t){const o=r.indexOf(t);if(o>-1){r.splice(o,1),this.multiFeedSubscriptions.set(e,r);const a=(i=this.multiFeedWrappedCallbacks.get(e))==null?void 0:i.get(t);a&&(this.wsClient.off(e,a),this.multiFeedWrappedCallbacks.get(e).delete(t))}}else{const o=this.multiFeedWrappedCallbacks.get(e);o&&(o.forEach(a=>{this.wsClient.off(e,a)}),this.multiFeedWrappedCallbacks.delete(e)),this.multiFeedSubscriptions.delete(e)}if((((s=this.multiFeedSubscriptions.get(e))==null?void 0:s.length)??0)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:e})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeTicker(e,t){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const r="moniker",i="ticker";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=a=>{const l=this.extractRouterData(a);l!=null&&t(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(t,s),this.wsClient.on(r,s);try{this.wsClient.send({type:"subscribe",channel:r,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(t);const l=this.subscriptions.get(i)||[],c=l.indexOf(t);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTicker(e,t){var o,a;const r="ticker",i="moniker",s=this.subscriptions.get(r)||[];if(t){const l=s.indexOf(t);if(l>-1){s.splice(l,1),this.subscriptions.set(r,s);const c=(o=this.wrappedCallbacks.get(r))==null?void 0:o.get(t);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(r).delete(t))}}else{const l=this.wrappedCallbacks.get(r);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((a=this.subscriptions.get(r))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:i})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeLastPrice(e,t,r=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="lastPrice";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=o=>{const a=this.extractRouterData(o);if(a==null||typeof a!="object"){console.warn("[SubscriptionClient] Failed to extract trade data from message:",o);return}const l=a;if(l.price===void 0||l.price===null){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}r&&(l.price!=null&&(l.price=Ln(typeof l.price=="string"?l.price:String(l.price))),l.quantity!=null&&(l.quantity=Ln(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),t(l)};this.lastPriceWrappedCallbacks.set(t,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"lastPrice",params:{market_id:e}})}catch(o){this.lastPriceWrappedCallbacks.delete(t);const a=this.subscriptions.get(i)||[],l=a.indexOf(t);throw l>-1&&(a.splice(l,1),this.subscriptions.set(i,a)),o}}unsubscribeLastPrice(e,t){var s;const r="lastPrice",i=this.subscriptions.get(r)||[];if(t){const o=i.indexOf(t);if(o>-1){i.splice(o,1),this.subscriptions.set(r,i);const a=this.lastPriceWrappedCallbacks.get(t);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(t))}}else i.forEach(o=>{const a=this.lastPriceWrappedCallbacks.get(o);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(o))}),this.subscriptions.delete(r);if(((s=this.subscriptions.get(r))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"lastPrice"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeBuckets(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="buckets";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a!=null&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"buckets",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBuckets(e){var i,s;const t="buckets",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeKline(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(t))throw new Error(`Invalid interval: ${t}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const i="kline";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeKline(e,t,r){var o,a;const i="kline",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(t))throw new Error(`Invalid window size: ${t}. Window size must be a positive number.`);const i="twap";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTWAP(e,t,r){var o,a;const i="twap",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBalances(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="balances";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"balances",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBalances(e){var i,s;const t="balances",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeOrders(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="orders";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"orders",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeOrders(e){var i,s;const t="orders",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}}async function uhe(n,e,t,r,i){const s=rm.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(s.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${s.address} does not match provided ${e}`);let o;try{o=new Qs(s.privateKey)}catch(S){throw new Error(`Invalid private key: cannot create signing key - ${S.message}`)}const a=Wm(o.publicKey);if(a.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${a} does not match ${e}`);const l=BigInt(s.privateKey),c=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(l===0n||l>=c)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=l.toString(16).toLowerCase().padStart(64,"0"),d=Ge("0x"+h);if(d.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${d.length}`);if(d.every(S=>S===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==l)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${l.toString(16)}, Reconstructed: ${m.toString(16)}`);const g=h;if(g.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${g.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(g))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const v=g,y={action:YG,owner:e.toLowerCase(),nonce:t,timestamp:r,deadline:i},b={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:y,deadline:parseInt(i,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",b),console.log("[Onboard] Private key format validated:",{length:v.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${v.substring(0,8)}...${v.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:l<c,notZero:l!==0n,bytesLength:d.length,fullHex:v,firstByte:v.substring(0,2),lastByte:v.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(b).length,privateKeyHexLength:v.length,privateKeyHexPreview:v,signerAddress:e.toLowerCase()});const w=await Xs.generateSingleSignature(JSON.stringify(b),v,e.toLowerCase());if(console.log(w),!w.success||!w.signature)throw new Error(w.error||"Failed to generate signature");return console.log("[Onboard] signature:",w.signature),w.signature}async function hhe(n){var e,t;try{const r=await uhe(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",r.length);const i={address:n.walletAddress,signature:r,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline};console.log("[Onboard] Request body:",{...i,signature:r.substring(0,20)+"..."});const o=await new ZI(n.baseURL).post("/auth/v1/onboard",i);if(o.statusCode===200&&o.body){const a=o.body.access_token||o.body.authToken||o.body.token||o.body.accessToken,l=o.body.refresh_token||o.body.refreshToken,c=o.body.expires_at||o.body.expiresAt||(o.body.expires_in?n.timestamp+o.body.expires_in:void 0);return a?{success:!0,authToken:a,refreshToken:l,expiresAt:c}:{success:!1,error:"Response missing authToken field"}}else{const a=((e=o.body)==null?void 0:e.message)||((t=o.body)==null?void 0:t.error)||`HTTP ${o.statusCode}: ${o.body}`,l=new Error(a);throw l.responseBody=o.body,l.statusCode=o.statusCode,l}}catch(r){throw r}}const bO={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function dhe(n,e){let t=n.baseDelay*Math.pow(n.multiplier,e);if(t>n.maxDelay&&(t=n.maxDelay),n.jitter){const r=t*.25*Math.random();t+=r}return Math.floor(t)}function fhe(n){return new Promise(e=>setTimeout(e,n))}async function xO(n,e,t=()=>!0){let r;for(let i=0;i<=n.maxRetries;i++)try{return await e()}catch(s){if(r=s,!await Promise.resolve(t(s)))throw s;if(i>=n.maxRetries)break;const a=dhe(n,i);await fhe(a)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(r==null?void 0:r.message)||r}`)}async function phe(n,e,t,r){try{Xs.isReady()||await Xs.initialize();const i=await Xs.generateAddress(n,0);if(!i.success||!i.address)return{success:!1,error:`Failed to generate address: ${i.error}`};const s=i.address.toLowerCase(),o=new eo({baseURL:e}),a=new MY(o);let l=null;try{return await xO(bO.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${l}`),l===null?(l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${l}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${l} from previous failure`);let u=0;const h=10;for(;u<h;)try{await a.validateNonce(s,l,!0);break}catch(v){if(u++,v.message.includes("already pending")||v.message.includes("already used")){if(l=l+1,console.log(`[Onboard] Nonce ${l-1} already pending, incrementing to ${l}`),u>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw v}const d=Math.floor(Date.now()/1e3),f=d+3600,m={action:YG,owner:s,nonce:M3(l),timestamp:d,deadline:M3(f)};let g;try{g=await hhe({mnemonic:n,walletAddress:s,message:m,baseURL:e,username:t,referralCode:r,timestamp:d})}catch(v){if(l!==null){const y=l;try{await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Rejected nonce ${y}, incremented to nonce ${l} (will use on retry)`)}catch(b){console.warn("[Onboard] Failed to reject nonce after thrown error:",b),l=l+1,console.log(`[Onboard] Incremented nonce to ${l} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw v.currentNonce=l,v}if(!g.success){if(l!==null){const y=l;await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Request failed with nonce ${y}, rejected and incremented to ${l} (will keep incrementing until it works)`)}const v=new Error(g.error||"Onboarding failed");throw v.onboardResult=g,v}return l!==null&&await a.commitNonce(s,l,!0),g},async u=>{var y,b,w;const h=String(u).toLowerCase(),d=((y=u==null?void 0:u.message)==null?void 0:y.toLowerCase())||h,f=(u==null?void 0:u.responseBody)||(u==null?void 0:u.onboardResult),m=((b=f==null?void 0:f.error)==null?void 0:b.toLowerCase())||((w=f==null?void 0:f.message)==null?void 0:w.toLowerCase())||"";if(`${d} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(l!==null){const S=l;l=l+1,console.log(`[Onboard] Off-chain operation: nonce ${S} already pending/used, incrementing to ${l} (server will validate)`)}else try{l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${l}`)}catch(S){console.warn("[Onboard] Failed to query server nonce:",S),l=1}return!0}return WG(u)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),l=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(S=>h.includes(S))})}catch(c){if(l!==null)try{await a.rejectNonce(s,l,!0)}catch(u){console.warn("[Onboard] Failed to reject nonce during cleanup:",u)}return{success:!1,error:(c==null?void 0:c.message)||"Unknown error during onboarding"}}}catch(i){return{success:!1,error:(i==null?void 0:i.message)||"Unknown error during onboarding"}}}const LN=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},mhe=n=>n?LN(n):LN,ghe=n=>n;function vhe(n,e=ghe){const t=ge.useSyncExternalStore(n.subscribe,ge.useCallback(()=>e(n.getState()),[n,e]),ge.useCallback(()=>e(n.getInitialState()),[n,e]));return ge.useDebugValue(t),t}const FN=n=>{const e=mhe(n),t=r=>vhe(e,r);return Object.assign(t,e),t},KG=n=>n?FN(n):FN,Wt=KG((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:t=>{const r=new Map,i=new Map;t.forEach(a=>{r.set(a.index,a),a.moniker&&i.set(a.moniker,a),a.symbol&&i.set(a.symbol,a),a.name&&i.set(a.name,a)});let o=e().selectedMarketId;if(!o&&t.length>0){const c=(t.find(u=>u.active)||t[0]).index;c&&(o=c)}n({markets:t,marketsById:r,marketsBySymbol:i,selectedMarketId:o,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:t=>{const r=e(),i=new Map(r.marketsById),s=new Map(r.marketsBySymbol);i.set(t.index,t),t.moniker&&s.set(t.moniker,t),t.symbol&&s.set(t.symbol,t),t.name&&s.set(t.name,t);const o=r.markets.find(a=>a.index===t.index)?r.markets.map(a=>a.index===t.index?t:a):[...r.markets,t];n({markets:o,marketsById:i,marketsBySymbol:s})},getMarket:t=>e().marketsById.get(t),getMarketBySymbol:t=>e().marketsBySymbol.get(t),setSelectedMarketId:t=>{n({selectedMarketId:t})},setOrderbook:(t,r)=>{const i=e(),s=new Map(i.orderbooks);s.set(t,{...r,timestamp:Date.now()}),n({orderbooks:s,lastUpdated:new Map(i.lastUpdated).set(t,Date.now())})},getOrderbook:t=>e().orderbooks.get(t),updateOrderbook:(t,r)=>{const i=e(),s=i.orderbooks.get(t);if(s){const o={...s,...r,timestamp:Date.now()};i.setOrderbook(t,o)}else i.setOrderbook(t,{bids:r.bids||[],asks:r.asks||[],timestamp:Date.now()})},setTicker:(t,r)=>{const i=e(),s=new Map(i.tickers);s.set(t,{...r,marketId:t,timestamp:Date.now()}),n({tickers:s,lastUpdated:new Map(i.lastUpdated).set(`ticker_${t}`,Date.now())})},getTicker:t=>e().tickers.get(t),setRecentTrades:(t,r)=>{const i=e(),s=new Map(i.recentTrades);s.set(t,r),n({recentTrades:s,lastUpdated:new Map(i.lastUpdated).set(`trades_${t}`,Date.now())})},getRecentTrades:t=>e().recentTrades.get(t),setLoading:(t,r)=>{const i=e();if(t==="markets")n({loadingMarkets:r});else if(t.startsWith("orderbook_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingOrderbooks);r?o.add(s):o.delete(s),n({loadingOrderbooks:o})}else if(t.startsWith("ticker_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTickers);r?o.add(s):o.delete(s),n({loadingTickers:o})}else if(t.startsWith("trades_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTrades);r?o.add(s):o.delete(s),n({loadingTrades:o})}},setError:(t,r)=>{const i=e(),s=new Map(i.errors);r?s.set(t,r):s.delete(t),n({errors:s})},clearError:t=>{e().setError(t,null)},clearCache:t=>{const r=e();if(t){const i=new Map(r.orderbooks),s=new Map(r.tickers),o=new Map(r.recentTrades),a=new Map(r.lastUpdated);i.delete(t),s.delete(t),o.delete(t),a.delete(t),a.delete(`ticker_${t}`),a.delete(`trades_${t}`),n({orderbooks:i,tickers:s,recentTrades:o,lastUpdated:a})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),XG="mormlayer-nonce-store";function i1(n){return n.toLowerCase()}function yhe(){if(typeof window>"u"||!window.localStorage)return{};try{const n=window.localStorage.getItem(XG);if(!n)return{};const e=JSON.parse(n);if(typeof e!="object"||e===null)return{};const t={};for(const[r,i]of Object.entries(e))i&&typeof i.confirmed=="number"&&Array.isArray(i.pending)&&typeof i.lastSync=="number"&&(t[r]={confirmed:i.confirmed,pending:i.pending,lastSync:i.lastSync});return t}catch{return{}}}function s1(n){if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(XG,JSON.stringify(n))}catch{}}KG((n,e)=>({byOwner:yhe(),getNonceState:t=>e().byOwner[i1(t)],setNonceState:(t,r)=>{const i=i1(t);n(s=>{const o={...s.byOwner,[i]:r};return s1(o),{byOwner:o}})},clearOwner:t=>{const r=i1(t);n(i=>{const{[r]:s,...o}=i.byOwner,a=o;return s1(a),{byOwner:a}})},clearAll:()=>{s1({}),n({byOwner:{}})},getSnapshot:()=>e().byOwner}));function o1(n){const e=n.status==="MARKET_STATUS_ACTIVE";return{...n,index:n.marketIndex,active:e,maxSizeLimit:n.maxSizeLimit??0,minSizeLimit:n.minSizeLimit??0,moniker:n.moniker??n.symbol??"",baseAsset:n.baseAsset??"",quoteAsset:n.quoteAsset??""}}function bhe(n,e){var i,s;const t=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),r=(i=n.tradeType)!=null&&i.toLowerCase().includes("buy")||n.buyOrderId?"buy":(s=n.tradeType)!=null&&s.toLowerCase().includes("sell")||n.sellOrderId?"sell":"buy";return{...n,id:n.tradeId,marketId:n.marketIndex||e,price:n.price,size:n.quantity,side:r,timestamp:t}}function $N(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function jN(n,e="-"){return n.moniker?n.moniker:n.symbol?n.symbol:n.baseAsset&&n.quoteAsset?`${n.baseAsset}${e}${n.quoteAsset}`:null}function a1(n,e){return n.startsWith(e)&&n.slice(e.length)||null}function Ym(n){const e=P.useRef(null),t=Wt(q=>q.markets),r=Wt(q=>q.marketsById),i=Wt(q=>q.orderbooks),s=Wt(q=>q.tickers),o=Wt(q=>q.recentTrades),a=Wt(q=>q.selectedMarketId),l=Wt(q=>q.loadingMarkets),c=Wt(q=>q.loadingOrderbooks),u=Wt(q=>q.loadingTickers),h=Wt(q=>q.loadingTrades),d=Wt(q=>q.errors),f=Wt(q=>q.setMarkets),m=Wt(q=>q.setMarket),g=Wt(q=>q.getMarket),v=Wt(q=>q.getMarketBySymbol),y=Wt(q=>q.setSelectedMarketId),b=Wt(q=>q.setOrderbook),w=Wt(q=>q.getOrderbook),S=Wt(q=>q.updateOrderbook),_=Wt(q=>q.setTicker),k=Wt(q=>q.getTicker),C=Wt(q=>q.setRecentTrades),E=Wt(q=>q.getRecentTrades),O=Wt(q=>q.setLoading),R=Wt(q=>q.setError),D=Wt(q=>q.clearError),N=Wt(q=>q.clearCache),L=P.useCallback(()=>{const q=e.current;if(!q)throw new Error("InfoClient not initialized");return q},[]);async function W(q,Y,U){O(q,!0),R(q,null);try{return await U()}catch(ie){const re=ie instanceof Error?ie.message:Y;throw R(q,re),ie}finally{O(q,!1)}}P.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new eo({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const $=P.useCallback(async()=>{const q=L();return W("markets","Failed to fetch markets",async()=>{const U=((await q.getMarkets()).markets??[]).map(o1);return f(U),U})},[L,f]),F=P.useCallback(async q=>{const Y=g(q);if(Y)return Y;const U=L();try{const ie=await U.getMarketByID(q);if(ie){const re=o1(ie);return m(re),re}return null}catch(ie){const re=ie instanceof Error?ie.message:`Failed to fetch market ${q}`;throw R(`market_${q}`,re),ie}},[g,L,m,R]),B=P.useCallback(async q=>{const Y=v(q);if(Y)return Y;const U=L();try{let ie;try{ie=await U.getMarketByTicker(q)}catch{ie=await U.getMarketByMoniker(q)}if(ie){const re=o1(ie);return m(re),re}return null}catch(ie){const re=ie instanceof Error?ie.message:`Failed to fetch market ${q}`;throw R(`market_${q}`,re),ie}},[v,L,m,R]),j=P.useCallback(async(q,Y=!0,U=20)=>{const ie=L(),re=`orderbook_${q}`;return W(re,`Failed to fetch orderbook for market ${q}`,async()=>{const se=await ie.getOrderbook(q,Y,U);if(se&&(se.bids||se.asks)){const Q={bids:$N(se.bids||[]),asks:$N(se.asks||[]),timestamp:Date.now()};return b(q,Q),Q}return null})},[L,b]),H=P.useCallback(async q=>{const Y=L(),U=`ticker_${q}`;return W(U,`Failed to fetch ticker for market ${q}`,async()=>{const ie=await Y.getMarketStats(q);if(ie){const re={marketId:q,...ie,timestamp:Date.now()};return _(q,re),re}return null})},[L,_]),V=P.useCallback(async(q,Y=100)=>{const U=L(),ie=`trades_${q}`;return W(ie,`Failed to fetch trades for market ${q}`,async()=>{const re=await U.getMarketTrades(q,Y);if(re){const Q=(Array.isArray(re)?re:[]).map(J=>bhe(J,q));return C(q,Q),Q}return null})},[L,C]);P.useEffect(()=>{n.autoFetchMarkets&&t.length===0&&!l&&$().catch(console.error)},[n.autoFetchMarkets,t.length,l,$]);const K=a?t.find(q=>q.index===a||q.marketIndex===a):null,X=K?jN(K,"-"):null,ee=P.useCallback(q=>{const Y=t.find(U=>U.index===q||U.marketIndex===q);return Y?jN(Y,"/"):null},[t]);return{markets:t,marketsById:r,orderbooks:i,tickers:s,recentTrades:o,selectedMarketId:a,selectedMarket:K,selectedMarketSymbol:X,loadingMarkets:l,loadingOrderbooks:c,loadingTickers:u,loadingTrades:h,isLoading:q=>{if(q==="markets")return l;const Y=a1(q,"orderbook_");if(Y!=null)return c.has(Y);const U=a1(q,"ticker_");if(U!=null)return u.has(U);const ie=a1(q,"trades_");return ie!=null?h.has(ie):!1},errors:d,getError:q=>d.get(q),getMarket:g,getMarketBySymbol:v,getSymbolByMarketId:ee,getOrderbook:w,getTicker:k,getRecentTrades:E,fetchMarkets:$,fetchMarket:F,fetchMarketBySymbol:B,fetchOrderbook:j,fetchTicker:H,fetchRecentTrades:V,updateOrderbook:S,clearCache:N,clearError:D,setSelectedMarketId:y,getInfoClient:L}}function Ab(n){const{baseURL:e,mnemonic:t,chainID:r,maxRetries:i}=n,[s,o]=P.useState(null),[a,l]=P.useState(!1),[c,u]=P.useState(null),h=P.useRef(0);return P.useEffect(()=>{if(!e||!t||t.trim()===""){o(null),l(!1),u(null);return}const d={baseURL:e,mnemonic:t.trim()};r!==void 0&&(d.chainID=r),i!==void 0&&(d.maxRetries=i);const f=new rhe(d),m=++h.current;return o(null),l(!1),u(null),f.initialize().then(()=>{m===h.current&&(o(f),l(!0),u(null))}).catch(g=>{m===h.current&&(u(g instanceof Error?g:new Error(String(g))),o(null),l(!1))}),()=>{h.current=m+1}},[e,t,r,i]),{client:s,isReady:a,error:c}}function xhe(n){const{client:e,isReady:t,error:r}=Ab({baseURL:n.baseURL,mnemonic:n.mnemonic}),[i,s]=P.useState(null),[o,a]=P.useState(!1),[l,c]=P.useState(null);P.useEffect(()=>{s(new eo({baseURL:n.baseURL}))},[n.baseURL]),P.useEffect(()=>{r&&c({success:!1,error:`Initialization failed: ${r.message}`})},[r]);const[u,h]=P.useState(zM),[d,f]=P.useState(0),[m,g]=P.useState(0),[v,y]=P.useState(0),[b,w]=P.useState(vue),[S,_]=P.useState(kue),[k,C]=P.useState(sm),[E,O]=P.useState(0),[R,D]=P.useState(0),[N,L]=P.useState(n.marketId?String(n.marketId):"1");P.useEffect(()=>{n.marketId?L(String(n.marketId)):L("1")},[n.marketId]);const{markets:W}=Ym({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:$,minSizeLimit:F}=P.useMemo(()=>{if(!N)return{maxSizeLimit:void 0,minSizeLimit:void 0};const Q=W.find(J=>J.marketIndex===N);return Q?{maxSizeLimit:Q.maxSizeLimit||40,minSizeLimit:Q.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[N,W]);P.useEffect(()=>{n.selectedBucketBalance!==void 0&&O(n.selectedBucketBalance)},[n.selectedBucketBalance]);const B=P.useCallback(async()=>{if(!(!i||!e||!t)&&n.selectedBucketBalance===void 0)try{const Q=e.getWalletAddress(),J=await i.getBalanceDecimal(Q,"MORM");J&&J.availableBalance!==void 0&&O(nt(J.availableBalance))}catch(Q){console.error("Failed to load balance:",Q)}},[i,e,t,n.selectedBucketBalance]);P.useEffect(()=>{t&&i&&e&&n.selectedBucketBalance===void 0&&B()},[t,i,e,n.selectedBucketBalance,B]);const j=P.useCallback(async()=>{if(i)try{const Q=await i.getMarketStats(N);if(Q&&Q.lastPrice){const J=nt(Q.lastPrice);D(J)}}catch(Q){console.error("Failed to load market price:",Q)}},[i,N]);P.useEffect(()=>{t&&i&&j()},[t,i,j]);const H=P.useCallback(()=>u==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:R:v||0,[u,v,R,n.tradePrice]),V=P.useCallback(()=>E*b,[E,b]),K=P.useCallback(()=>{let Q;if(m>0)Q=m;else{const ue=V()*d/100,me=H();if(me<=0)return 0;Q=ue/me}return F!==void 0&&F>0&&Q<F?0:$!==void 0&&$>0&&Q>$?$:Q},[m,d,V,H,$,F]),X=P.useCallback(()=>{const Q=K(),J=H();return Q*J},[K,H]),ee=P.useCallback(()=>{const Q=K(),J=H(),ue=Q*J;return Boe(ue)},[K,H]),q=P.useCallback(()=>{const Q=ee();return b<=0?0:Math.floor(Q/b)},[ee,b]),Y=P.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const Q=K();if(Q<=0){c({success:!1,error:"Invalid order size"});return}const J=H();if(J<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const ue=Tn(b.toString()),me=await e.placeOrder({marketId:N,bucketId:n.selectedBucketId,side:"BUY",orderType:u,price:J,quantity:Q,leverage:ue});c({success:!0,orderId:me.orderId,message:"Buy order placed successfully"}),await B()}catch(ue){c({success:!1,error:ue instanceof Error?ue.message:"Unknown error"})}finally{a(!1)}},[e,t,K,H,u,v,b,N,n.selectedBucketId,B]),U=P.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const Q=K();if(Q<=0){c({success:!1,error:"Invalid order size"});return}const J=H();if(J<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const ue=Tn(b.toString()),me=await e.placeOrder({marketId:N,bucketId:n.selectedBucketId,side:"SELL",orderType:u,price:J,quantity:Q,leverage:ue});c({success:!0,orderId:me.orderId,message:"Sell order placed successfully"}),await B()}catch(ue){c({success:!1,error:ue instanceof Error?ue.message:"Unknown error"})}finally{a(!1)}},[e,t,K,H,u,v,b,N,n.selectedBucketId,B]),ie=P.useCallback(async(Q,J)=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}if(!N||N.trim()===""){c({success:!1,error:"Market ID is required"});return}if(Q<=0){c({success:!1,error:"Leverage must be greater than 0"});return}if(!J.bucketId||J.bucketId.trim()===""){c({success:!1,error:"Bucket ID is required"});return}a(!0),c(null);try{const ue=await e.changeLeverage({marketId:N,newLeverage:Q,bucketId:J.bucketId,leverageType:J.leverageType,reason:J.reason});w(Q),c({success:!0,message:"Leverage changed successfully",orderId:ue.txhash}),await B()}catch(ue){c({success:!1,error:ue instanceof Error?ue.message:"Unknown error"})}finally{a(!1)}},[e,t,N,B]),re=P.useCallback(Q=>{const J=V(),ue=J*Q/100,me=H();let Pe=me>0?ue/me:0;if(F!==void 0&&F>0&&Pe<F&&(Pe=0),$!==void 0&&$>0&&Pe>$)if(Pe=$,Pe>0&&J>0&&me>0){const Ne=Pe*me/J*100;f(Math.min(100,Math.max(0,Ne)))}else f(Q);else f(Q);g(Pe)},[V,H,$,F]),se=P.useCallback(Q=>{let J=isNaN(Q)||Q<0?0:Q;$!==void 0&&$>0&&J>$&&(J=$),g(J);const ue=V(),me=H();if(J>0&&ue>0&&me>0){const Pe=J*me/ue*100;f(Math.min(100,Math.max(0,Pe)))}else f(0)},[V,H,$]);return{orderType:u,setOrderType:h,fundPercent:d,sizeInput:m,price:v,leverage:b,positionMode:S,marginMode:k,availableBalance:E,currentPrice:R,marketId:N,isReady:t,loading:o,result:l,setFundPercent:re,setSizeInput:se,setPrice:y,setLeverage:w,setPositionMode:_,setMarginMode:C,setMarketId:L,placeBuyOrder:Y,placeSellOrder:U,changeLeverage:ie,loadBalance:B,loadMarketPrice:j,calculateSize:K,calculateSizeUSD:X,calculateValue:ee,calculateMargin:q,getOrderPrice:H,getAvailableTradeAmount:V}}const whe="wss://router.morpheum.io/websocket",_he=["priceFeed","markPrice","orderbook","trades"],She=["positions","orders","funding_rate","deviation","twap","kline"];function khe(n){if(!n||typeof n!="string")return null;const e=n.trim();if(!e)return null;if(e==="buckets")return{type:"buckets"};const t=e.split(":");if(t.length===2){const[r,i]=t;if(_he.includes(r))return{type:"multiplex",streamType:r,marketId:i};if(She.includes(r))return{type:"multiFeed",subChannel:r,marketId:i}}return t.length===3&&t[0]==="kline"?{type:"multiFeed",subChannel:"kline",marketId:t[1],interval:t[2]}:null}const QG=P.createContext(null),Che={lastPrice:null,markPrice:null,displayPrice:null,displayTimestamp:null,recentTrades:[],loading:!0,error:null,isConnected:!1,priceChange:null},Ehe=({children:n,defaultWsURL:e=whe,defaultBaseURL:t,defaultAuthToken:r,defaultWalletAddress:i,defaultDeviceID:s})=>{const[o,a]=P.useState(!1),[l,c]=P.useState(!1),[u,h]=P.useState(en.Disconnected),[d,f]=P.useState(null),[m,g]=P.useState(e),[v,y]=P.useState(t),[b,w]=P.useState(r),[S,_]=P.useState(i),[k,C]=P.useState(s),[E,O]=P.useState(null),[R,D]=P.useState(null),N=P.useCallback(oe=>{y(oe)},[]),L=P.useRef(new NN({url:e,authToken:r,walletAddress:i,deviceID:s})),W=P.useRef(e),$=P.useRef(null),F=P.useRef(new Map),B=P.useRef(new Map),j=P.useRef(new Map),H=P.useRef(new Map),V=P.useRef(new Map),K=P.useRef(new Map),X=P.useRef(!1);P.useEffect(()=>{if(W.current!==m){$.current&&($.current(),$.current=null),L.current.disconnect(),F.current.clear();const te=new NN({url:m,authToken:b,walletAddress:S,deviceID:k});L.current=te,W.current=m}if(o){if(!$.current){const te=L.current.onStateChange(_e=>{h(_e),c(_e===en.Connected),_e===en.Connected&&(f(null),X.current=!0)});$.current=te}L.current.isConnected()||L.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),f(null)}).catch(te=>{const _e=te instanceof Error?te:new Error(String(te));console.error("[SubscriptionContext] Failed to connect:",_e),f(_e)})}else $.current&&($.current(),$.current=null),L.current.isConnected()&&L.current.disconnect(),F.current.clear(),j.current.clear(),h(en.Disconnected),c(!1),f(null);return()=>{$.current&&($.current(),$.current=null),L.current.isConnected()&&L.current.disconnect()}},[o,m,b,S,k]),P.useEffect(()=>{L.current&&o&&b&&S&&k&&L.current.setAuthToken(b,S,k)},[o,b,S,k]);const ee=P.useCallback(oe=>{const ne=L.current;if(!ne||!ne.isConnected()||!ne.isReadyForSubscriptions())return;const te=khe(oe);if(!te){console.warn("[SubscriptionContext] Invalid subscription key:",oe);return}const _e=K.current.get(oe);if(!_e||_e.refCount<1)return;const Te=he=>{B.current.set(oe,he),_e.callbacks.forEach(ve=>{try{ve(he)}catch(ae){console.error("[SubscriptionContext] Callback error for key",oe,ae)}})};if(te.type==="multiplex"&&te.streamType&&te.marketId!=null){const he=Number(te.marketId),ve=Number.isNaN(he)?0:he,ae=te.streamType,xe={stream_type:ae,filter:ae==="orderbook"?{marketIndices:[ve],includeSnapshot:!0}:{marketIndices:[ve]}},Me=ne.getMultiplexStreamClient();Me.subscribeToChannel().then(()=>Me.subscribeStreams([xe])).then(()=>{const be=Me.onStreamData(ae,Oe=>{Oe.data!=null&&Te(Oe.data)});_e.unsubFns.push(be)}).catch(be=>{const Oe=be instanceof Error?be:new Error(String(be));console.error("[SubscriptionContext] Multiplex subscribe error:",oe,Oe),f(Oe)});return}if(te.type==="buckets"){try{const he=()=>{ne.unsubscribeBuckets(ve)},ve=ae=>Te(ae);ne.subscribeBuckets(ve),_e.unsubFns.push(he)}catch(he){const ve=he instanceof Error?he:new Error(String(he));console.error("[SubscriptionContext] Buckets subscribe error:",ve),f(ve)}return}if(te.type==="multiFeed"&&te.subChannel&&te.marketId!=null)try{const he={};te.subChannel==="kline"&&te.interval&&(he.interval=te.interval,he.symbol="BTC/USDC");const ve=xe=>Te(xe);ne.subscribeMultiFeedSubChannel(te.subChannel,te.marketId,ve,Object.keys(he).length>0?he:void 0);const ae=()=>{ne.unsubscribeMultiFeedSubChannel(te.subChannel,ve)};_e.unsubFns.push(ae)}catch(he){const ve=he instanceof Error?he:new Error(String(he));console.error("[SubscriptionContext] MultiFeed subscribe error:",oe,ve),f(ve)}},[]),q=P.useCallback((oe,ne)=>{var Te,he;if(!oe||typeof ne!="function")return;let te=K.current.get(oe);te||(te={refCount:0,callbacks:new Set,unsubFns:[]},K.current.set(oe,te));const _e=te.refCount===0;te.refCount+=1,te.callbacks.add(ne),_e&&((Te=L.current)!=null&&Te.isConnected())&&((he=L.current)!=null&&he.isReadyForSubscriptions())&&ee(oe)},[ee]),Y=P.useCallback((oe,ne)=>{const te=K.current.get(oe);te&&(te.callbacks.delete(ne),te.refCount-=1,te.refCount<=0&&(te.unsubFns.forEach(_e=>{try{_e()}catch(Te){console.warn("[SubscriptionContext] Unsubscribe fn error:",Te)}}),te.unsubFns.length=0,K.current.delete(oe),B.current.delete(oe)))},[]),U=P.useCallback(oe=>B.current.get(oe)??null,[]),ie=P.useCallback(()=>{var ne,te;if(!((ne=L.current)!=null&&ne.isConnected())||!((te=L.current)!=null&&te.isReadyForSubscriptions())){X.current=!0;return}X.current=!1,Array.from(K.current.keys()).forEach(_e=>{const Te=K.current.get(_e);Te&&Te.refCount>0&&(Te.unsubFns.forEach(he=>{try{he()}catch(ve){console.warn("[SubscriptionContext] Resubscribe cleanup:",ve)}}),Te.unsubFns.length=0,ee(_e))})},[ee]);P.useEffect(()=>{if(l&&o&&X.current){const oe=setTimeout(()=>{ie()},100);return()=>clearTimeout(oe)}},[l,o,ie]);const re=P.useCallback((oe,ne,te,_e)=>{if(!L.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!oe||typeof oe!="string"){console.warn("[SubscriptionContext] Invalid marketId:",oe);return}if(H.current.has(oe))return;const Te=Number(oe),he=Number.isNaN(Te)?0:Te,ve=[{stream_type:"priceFeed",filter:{marketIndices:[he]}},{stream_type:"markPrice",filter:{marketIndices:[he]}},{stream_type:"orderbook",filter:{marketIndices:[he],includeSnapshot:!0}},{stream_type:"trades",filter:{marketIndices:[he]}}],ae=L.current.getMultiplexStreamClient(),xe=[],Me=(be,Oe)=>{const mt={type:"data",channel:"multiplex",subChannel:be,data:Oe};F.current.set(be,mt);const rn=H.current.get(oe);rn==null||rn.callback(mt)};H.current.set(oe,{subs:ve,unsubFns:xe,callback:te}),ae.subscribeToChannel().then(()=>ae.subscribeStreams(ve)).then(()=>{xe.push(ae.onStreamData("priceFeed",be=>{be.data!=null&&Me("priceFeed",be.data)})),xe.push(ae.onStreamData("markPrice",be=>{be.data!=null&&Me("markPrice",be.data)})),xe.push(ae.onStreamData("orderbook",be=>{be.data!=null&&Me("orderbook",be.data)})),xe.push(ae.onStreamData("trades",be=>{be.data!=null&&Me("trades",be.data)}))}).catch(be=>{const Oe=be instanceof Error?be:new Error(String(be));console.error("[SubscriptionContext] Multiplex subscription error:",Oe),f(Oe),H.current.delete(oe)})},[]),se=P.useCallback((oe,ne,te,_e,Te)=>{if(!L.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!oe||typeof oe!="string"){console.warn("[SubscriptionContext] Invalid marketId:",oe);return}if(ne!=null&&ne!==""&&(typeof ne!="string"||!ne.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty or BASE/QUOTE):",ne);return}if(!te||typeof te!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",te);return}const he=`subChannel:${oe}:${te}`;if(V.current.has(he))return;const ve=Number(oe),ae=Number.isNaN(ve)?0:ve,xe={stream_type:te,filter:te==="orderbook"?{marketIndices:[ae],includeSnapshot:!0}:{marketIndices:[ae]}},Me=L.current.getMultiplexStreamClient();Me.subscribeToChannel().then(()=>Me.subscribeStreams([xe])).then(()=>{const be=Me.onStreamData(te,Oe=>{if(Oe.data==null)return;const mt={type:"data",channel:"multiplex",subChannel:te,data:Oe.data};F.current.set(he,mt),F.current.set(te,mt),_e(Oe.data)});V.current.set(he,{unsubFn:be,sub:xe})}).catch(be=>{const Oe=be instanceof Error?be:new Error(String(be));console.error("[SubscriptionContext] Sub-channel subscription error:",Oe),f(Oe)})},[]),Q=P.useCallback((oe,ne,te)=>{if(!L.current)return;const _e=H.current.get(oe);if(_e)try{_e.unsubFns.forEach(Te=>Te()),_e.subs.length>0&&L.current.getMultiplexStreamClient().unsubscribeStreams(_e.subs),H.current.delete(oe)}catch(Te){const he=Te instanceof Error?Te:new Error(String(Te));console.error("[SubscriptionContext] Unsubscribe error:",he),f(he),H.current.delete(oe)}},[]),J=P.useCallback((oe,ne,te)=>{if(!L.current)return;const _e=`subChannel:${oe}:${ne}`,Te=V.current.get(_e);if(Te)try{Te.unsubFn(),L.current.getMultiplexStreamClient().unsubscribeStreams([Te.sub]),V.current.delete(_e)}catch(he){const ve=he instanceof Error?he:new Error(String(he));console.error("[SubscriptionContext] Unsubscribe error:",ve),f(ve)}},[]),ue=P.useCallback(()=>{a(oe=>!oe)},[]),me=P.useCallback(oe=>{a(oe)},[]),Ee=P.useCallback(oe=>F.current.get(oe)||null,[]),Pe=P.useCallback(()=>new Map(F.current),[]),Ce=P.useCallback(oe=>{oe?F.current.delete(oe):F.current.clear()},[]),Ne=P.useCallback(()=>{f(null)},[]),Qe=P.useCallback(oe=>{O(oe)},[]),ze=P.useRef(null),$e=P.useRef(null);$e.current=E;const Ke=P.useRef(null),qe=P.useRef(null),it=P.useCallback(async()=>{const oe=$e.current;if(!(!oe||!v))try{const te=await new eo({baseURL:v}).getMarketTrades(oe,100);if(te&&Array.isArray(te)&&te.length>0){const _e=ON(te),he=[...te].sort((ve,ae)=>ko(ae.timestamp)-ko(ve.timestamp))[0];D(ve=>ve&&{...ve,recentTrades:_e,lastPrice:{marketIndex:oe,price:nt(he.price),quantity:nt(he.quantity),timestamp:ko(he.timestamp),isBuyerMaker:!1,tradeId:he.tradeId||""},loading:!1})}}catch(ne){D(te=>te?{...te,error:ne instanceof Error?ne.message:"Failed to refresh",loading:!1}:null)}},[v]);P.useEffect(()=>{const oe=E;if(!oe){if(ze.current){const ve=ze.current,ae=Ke.current,xe=qe.current;ae&&Y(`priceFeed:${ve}`,ae),xe&&Y(`markPrice:${ve}`,xe),Ke.current=null,qe.current=null}D(null),ze.current=null;return}const ne=ze.current;if(ne&&ne!==oe){const ve=Ke.current,ae=qe.current;ve&&Y(`priceFeed:${ne}`,ve),ae&&Y(`markPrice:${ne}`,ae),Ke.current=null,qe.current=null}D(ve=>({...Che,loading:!0,error:null,isConnected:l}));const te=`priceFeed:${oe}`,_e=`markPrice:${oe}`,Te=ve=>{const ae=ve;if(!(ae!=null&&ae.price))return;const xe=nt(ae.price),Me=nt(ae.quantity??"0"),be=jM(ae.timestamp);D(Oe=>{if(!Oe)return Oe;const mt={marketIndex:oe,price:xe,quantity:Me,timestamp:be,isBuyerMaker:ae.isBuyerMaker??!1,tradeId:ae.tradeId??""};let rn=null;Oe.lastPrice&&typeof Oe.lastPrice.price=="number"&&(xe>Oe.lastPrice.price?rn="up":xe<Oe.lastPrice.price&&(rn="down"));const Gt=ae.derived?Oe.recentTrades:[{time:be,size:Me,price:xe,isBuyerMaker:ae.isBuyerMaker??!1},...Oe.recentTrades].slice(0,100),Cn=mt.price;return{...Oe,lastPrice:mt,recentTrades:Gt,displayPrice:Cn,displayTimestamp:be,priceChange:rn,loading:!1}})},he=ve=>{const ae=ve;if((ae==null?void 0:ae.markPrice)==null)return;const xe=nt(ae.markPrice),Me=jM(ae.timestamp);D(be=>{var Gt,Cn;if(!be)return be;const Oe={symbol:ae.symbol||"",markPrice:xe,timestamp:Me},mt=(Gt=be.lastPrice)!=null&&Gt.timestamp&&be.lastPrice.timestamp>=Me?be.displayPrice:xe,rn=(Cn=be.lastPrice)!=null&&Cn.timestamp&&be.lastPrice.timestamp>=Me?be.displayTimestamp??0:Me;return{...be,markPrice:Oe,displayPrice:mt??xe,displayTimestamp:rn??Me,loading:!1}})};return Ke.current=Te,qe.current=he,q(te,Te),q(_e,he),v?new eo({baseURL:v}).getMarketTrades(oe,100).then(ae=>{if(ae&&Array.isArray(ae)&&ae.length>0){const xe=ON(ae),be=[...ae].sort((Oe,mt)=>ko(mt.timestamp)-ko(Oe.timestamp))[0];D(Oe=>Oe&&{...Oe,recentTrades:xe,lastPrice:{marketIndex:oe,price:nt(be.price),quantity:nt(be.quantity),timestamp:ko(be.timestamp),isBuyerMaker:!1,tradeId:be.tradeId||""},loading:!1})}else D(xe=>xe?{...xe,loading:!1}:null)}).catch(ae=>{D(xe=>xe?{...xe,error:ae instanceof Error?ae.message:"Failed to load trades",loading:!1}:null)}):D(ve=>ve?{...ve,loading:!1}:null),ze.current=oe,()=>{Y(te,Te),Y(_e,he),Ke.current=null,qe.current=null,ze.current===oe&&(ze.current=null)}},[E,v,l,q,Y]);const Ie=P.useMemo(()=>({client:L.current,isEnabled:o,isConnected:l,connectionState:u,error:d,toggleEnabled:ue,setEnabled:me,clearError:Ne,subscribe:q,unsubscribe:Y,getRetainedDataByKey:U,tradePriceMarketId:E,tradePriceData:R,setTradePriceMarketId:Qe,refreshTradePrice:it,baseURL:v,setBaseURL:N,getRetainedData:Ee,getAllRetainedData:Pe,clearRetainedData:Ce,wsURL:m,setWsURL:g,authToken:b,setAuthToken:w,walletAddress:S,setWalletAddress:_,deviceID:k,setDeviceID:C,subscribeMultiFeedWithRetention:re,subscribeSubChannelWithRetention:se,unsubscribeMultiFeed:Q,unsubscribeSubChannel:J}),[o,l,u,d,ue,me,Ne,q,Y,U,E,R,Qe,it,v,N,Ee,Pe,Ce,m,b,S,k,re,se,Q,J]);return M.jsx(QG.Provider,{value:Ie,children:n})},Zr=()=>{const n=P.useContext(QG);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function BN(n,e){return{asks:[],bids:[],spread:0,midPrice:0,marketIndex:n.marketIndex||e||"",sequenceId:n.sequenceId||"",firstUpdateId:n.firstUpdateId||0,lastUpdateId:n.lastUpdateId||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function b0(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function ou(n){const e=[...n].sort((r,i)=>i[0]-r[0]);let t=0;return e.map(([r,i])=>(t+=i,{price:r,size:i,cumulative:t,flash:null}))}function JG(n){const e=n.useWebSocket!==!1,[t,r]=P.useState([]),[i,s]=P.useState([]),[o,a]=P.useState(0),[l,c]=P.useState(0),[u,h]=P.useState(""),[d,f]=P.useState(""),[m,g]=P.useState(0),[v,y]=P.useState(0),[b,w]=P.useState(""),[S,_]=P.useState(""),[k,C]=P.useState(!0),[E,O]=P.useState(null),[R,D]=P.useState(!1),[N,L]=P.useState(null),W=P.useRef(null),$=P.useRef(null),F=P.useRef(null),B=P.useRef(new Map),j=P.useRef(null),H=P.useRef({asks:[],bids:[],spread:0,midPrice:0,marketIndex:"",sequenceId:"",firstUpdateId:0,lastUpdateId:0,checksum:"",timestamp:""});P.useEffect(()=>{H.current={asks:t,bids:i,spread:o,midPrice:l,marketIndex:u,sequenceId:d,firstUpdateId:m,lastUpdateId:v,checksum:b,timestamp:S}},[t,i,o,l,u,d,m,v,b,S]);const V=P.useCallback((Q,J)=>{const ue=new Map,me=new Map,Ee=new Map,Pe=new Map;Q.asks.forEach(ne=>{ne.size>0&&ue.set(ne.price,ne.size)}),Q.bids.forEach(ne=>{ne.size>0&&me.set(ne.price,ne.size)}),J.asks&&J.asks.forEach(([ne,te])=>{if(typeof ne!="number"||typeof te!="number"||isNaN(ne)||isNaN(te)||ne<=0||te<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:ne,size:te});return}const _e=ue.get(ne)??0,Te=ue.has(ne);te===0?Te&&ue.delete(ne):Te?_e!==te&&(ue.set(ne,te),Ee.set(ne,te>_e?"up":"down")):(ue.set(ne,te),Ee.set(ne,"up"))}),J.bids&&J.bids.forEach(([ne,te])=>{if(typeof ne!="number"||typeof te!="number"||isNaN(ne)||isNaN(te)||ne<=0||te<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:ne,size:te});return}const _e=me.get(ne)??0,Te=me.has(ne);te===0?Te&&me.delete(ne):Te?_e!==te&&(me.set(ne,te),Pe.set(ne,te>_e?"up":"down")):(me.set(ne,te),Pe.set(ne,"up"))});const Ce=Array.from(ue.entries()),Ne=Array.from(me.entries()),Qe=ou(Ce),ze=ou(Ne),$e=Date.now();if(Qe.forEach(ne=>{const te=Ee.get(ne.price);te?(ne.flash=te,B.current.set(`ask-${ne.price}`,$e)):ne.flash=null}),ze.forEach(ne=>{const te=Pe.get(ne.price);te?(ne.flash=te,B.current.set(`bid-${ne.price}`,$e)):ne.flash=null}),Ee.size>0||Pe.size>0){const ne=Qe.filter(_e=>_e.flash!==null).length,te=ze.filter(_e=>_e.flash!==null).length;(ne!==Ee.size||te!==Pe.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:Ee.size,appliedAskFlashes:ne,bidChangesCount:Pe.size,appliedBidFlashes:te})}const Ke=n.maxDepth||100,qe=Qe.slice(0,Ke),it=ze.slice(0,Ke);let Ie=0,oe=0;if(qe.length>0&&it.length>0){const ne=qe[qe.length-1].price,te=it[0].price;Ie=ne-te,oe=(ne+te)/2}return{asks:qe,bids:it,spread:Ie,midPrice:oe,marketIndex:Q.marketIndex,sequenceId:Q.sequenceId,firstUpdateId:Q.firstUpdateId,lastUpdateId:Q.lastUpdateId,checksum:Q.checksum,timestamp:Q.timestamp}},[n.maxDepth]),K=P.useCallback(async(Q,J={})=>{if(!W.current){J.errorMessage&&console.error(J.errorMessage);return}const{setLoadingState:ue=!1,updateMarketIdRef:me=!1}=J;ue&&(C(!0),O(null));try{const Ee=await W.current.getOrderbook(Q,!0);if(Ee&&(Ee.bids||Ee.asks)){const Pe=b0(Ee.asks||[]),Ce=b0(Ee.bids||[]),Ne=ou(Pe),Qe=ou(Ce),ze=n.maxDepth||100,$e=Ne.slice(0,ze),Ke=Qe.slice(0,ze);let qe=0,it=0;if($e.length>0&&Ke.length>0){const ne=$e[$e.length-1].price,te=Ke[0].price;qe=ne-te,it=(ne+te)/2}me&&($.current=Q);const Ie=H.current,oe={asks:$e,bids:Ke,spread:qe,midPrice:it,marketIndex:Q,sequenceId:Ie.sequenceId||"",firstUpdateId:Ie.firstUpdateId||0,lastUpdateId:Ie.lastUpdateId||0,checksum:Ie.checksum||"",timestamp:Ie.timestamp||new Date().toISOString()};return r($e),s(Ke),a(qe),c(it),h(Q),f(oe.sequenceId),g(oe.firstUpdateId),y(oe.lastUpdateId),w(oe.checksum),_(oe.timestamp),oe}}catch(Ee){const Pe=J.errorMessage||(Ee instanceof Error?Ee.message:"Failed to load orderbook");ue?O(Pe):console.error(Pe)}finally{ue&&C(!1)}},[n.maxDepth]),X=P.useCallback(async()=>{const Q=H.current,J=BN(Q);r(J.asks),s(J.bids),a(J.spread),c(J.midPrice),await K(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,K]),ee=P.useCallback(async()=>{const Q=H.current,J=BN(Q,n.marketId);r(J.asks),s(J.bids),a(J.spread),c(J.midPrice),h(J.marketIndex),await K(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,K]),q=P.useCallback(async Q=>{const J=await K(Q,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${Q}`});return J&&console.log(`[useOrderbook] Fetched snapshot for market ${Q} and updated orderbook`),J},[K]),Y=P.useCallback((Q,J)=>{if(Q.snapshot===!0||Q.type==="snapshot"){const me=b0(Q.asks||[]),Ee=b0(Q.bids||[]),Pe=ou(me),Ce=ou(Ee),Ne=n.maxDepth||100,Qe=Pe.slice(0,Ne),ze=Ce.slice(0,Ne);let $e=0,Ke=0;if(Qe.length>0&&ze.length>0){const qe=Qe[Qe.length-1].price,it=ze[0].price;$e=qe-it,Ke=(qe+it)/2}return{asks:Qe,bids:ze,spread:$e,midPrice:Ke,marketIndex:Q.marketIndex??J.marketIndex,sequenceId:Q.sequenceId||J.sequenceId,firstUpdateId:Q.firstUpdateId??J.firstUpdateId,lastUpdateId:Q.lastUpdateId??J.lastUpdateId,checksum:Q.checksum||J.checksum,timestamp:Q.timestamp||J.timestamp,snapshot:Q.snapshot}}else{const me=V(J,{bids:Q.bids,asks:Q.asks});return{...me,marketIndex:Q.marketIndex??me.marketIndex,sequenceId:Q.sequenceId||me.sequenceId,firstUpdateId:Q.firstUpdateId??me.firstUpdateId,lastUpdateId:Q.lastUpdateId??me.lastUpdateId,checksum:Q.checksum||me.checksum,timestamp:Q.timestamp||me.timestamp}}},[V,n.maxDepth]),U=P.useCallback(async Q=>{if(!Q||!Q.bids&&!Q.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}const J=Q.sequenceId??Q.sequence_id;if(!Q.marketIndex||J===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing marketIndex or sequenceId)",{hasMarketId:!!Q.marketIndex,hasSequenceId:J!==void 0});return}const ue=$.current||n.marketId;let me=H.current;if(Q.marketIndex!==ue){console.log(`[useOrderbook] Received update for market ${Q.marketIndex}, current market is ${ue}. Fetching snapshot...`);const Ne=await q(Q.marketIndex);Ne&&(me=Ne)}const Ee=Q,Pe={marketIndex:Q.marketIndex??"",sequenceId:Q.sequenceId??Ee.sequence_id??"",firstUpdateId:Q.firstUpdateId??Ee.first_update_id??0,lastUpdateId:Q.lastUpdateId??Ee.last_update_id??0,checksum:Q.checksum??"",timestamp:Q.timestamp??"",bids:(Q.bids??[]).map(([Ne,Qe])=>[nt(Ne),nt(Qe)]),asks:(Q.asks??[]).map(([Ne,Qe])=>[nt(Ne),nt(Qe)]),spread:0,midPrice:0,snapshot:Q.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:Pe.marketIndex,sequenceId:Pe.sequenceId,bidsCount:Pe.bids.length,asksCount:Pe.asks.length,isSnapshot:Pe.snapshot});const Ce=Y(Pe,me);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:Pe.sequenceId,bidsCount:Ce.bids.length,asksCount:Ce.asks.length,spread:Ce.spread,midPrice:Ce.midPrice,bestBid:Ce.bids.length>0?Ce.bids[0].price:null,bestAsk:Ce.asks.length>0?Ce.asks[Ce.asks.length-1].price:null}),r(Ce.asks),s(Ce.bids),a(Ce.spread),c(Ce.midPrice),h(Ce.marketIndex),f(Ce.sequenceId),g(Ce.firstUpdateId),y(Ce.lastUpdateId),w(Ce.checksum),_(Ce.timestamp)},[Y,q,n.marketId]);j.current=U;const{subscribe:ie,unsubscribe:re,isConnected:se}=Zr();return P.useEffect(()=>{const Q=new eo({baseURL:n.baseURL});if(W.current=Q,$.current===null&&($.current=n.marketId),e){D(se),L(se?null:"WebSocket not connected. Using HTTP polling.");const J=`orderbook:${n.marketId}`,ue=me=>{var Ee;(Ee=j.current)==null||Ee.call(j,me)};return ie(J,ue),!se&&W.current&&F.current===null&&(X(),F.current=window.setInterval(()=>X(),5e3)),()=>{F.current!==null&&(clearInterval(F.current),F.current=null),$.current=null,re(J,ue)}}else return D(!1),L(null),W.current&&F.current===null&&(X(),F.current=window.setInterval(()=>X(),5e3)),()=>{F.current!==null&&(clearInterval(F.current),F.current=null),$.current=null}},[n.baseURL,n.marketId,e,se,ie,re]),P.useEffect(()=>{W.current&&(r([]),s([]),a(0),c(0),h(n.marketId),f(""),g(0),y(0),w(""),_(""),C(!0),O(null),L(null),ee(),$.current=n.marketId)},[n.marketId,e,ee]),P.useEffect(()=>(F.current!==null&&(clearInterval(F.current),F.current=null),(!e||!R&&e)&&W.current&&!n.disablePolling&&(X(),F.current=window.setInterval(()=>{X()},3e4)),()=>{F.current!==null&&(clearInterval(F.current),F.current=null)}),[R,e,n.marketId,n.disablePolling,X]),P.useEffect(()=>{const Q=setInterval(()=>{const J=Date.now(),ue=500;let me=!1;const Ee=t.map(Ce=>{const Ne=`ask-${Ce.price}`,Qe=B.current.get(Ne);return Ce.flash&&Qe&&J-Qe>=ue?(me=!0,B.current.delete(Ne),{...Ce,flash:null}):Ce}),Pe=i.map(Ce=>{const Ne=`bid-${Ce.price}`,Qe=B.current.get(Ne);return Ce.flash&&Qe&&J-Qe>=ue?(me=!0,B.current.delete(Ne),{...Ce,flash:null}):Ce});me&&(r(Ee),s(Pe))},100);return()=>clearInterval(Q)},[t,i]),{asks:t,bids:i,spread:o,midPrice:l,market_id:u,sequence_id:d,first_update_id:m,last_update_id:v,checksum:b,timestamp:S,loading:k,error:E,isConnected:R,wsError:N,refresh:ee}}const ZG={amountPct:.411,intervalMs:100,amountChangeThresholdPct:1.304,defaultMidPrice:7e4,defaultLevelsCount:20};function The(n,e=5){const t=Math.max(n*.001,1e-4),r=.1,i=[],s=[];for(let u=0;u<e;u++){const h=n+(e-u)*t,d=n-(u+1)*t;i.push({price:h,size:r*(1+u*.2),cumulative:0,flash:null}),s.push({price:d,size:r*(1+u*.2),cumulative:0,flash:null})}i.sort((u,h)=>h.price-u.price),s.sort((u,h)=>h.price-u.price);let o=0,a=0;const l=i.map(u=>(o+=u.size,{...u,cumulative:o})),c=s.map(u=>(a+=u.size,{...u,cumulative:a}));return{asks:l,bids:c}}const Mhe={maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3},l1={enabled:!1,jitter:ZG,fakePending:Mhe},Phe=1e-6;function eV(n,e,t){if(n===0||e<=0)return n;const r=n*e,s=((Math.sin(t*1e3)+1)/2-.5)*2*r;return Math.max(0,n+s)}function Ihe(n,e,t,r,i){const s=eV(n,e,t);if(r===void 0||i===void 0||i<=0)return s;const o=Math.max(i*Phe,.01);return r==="ask"?Math.max(s,i+o):Math.min(s,i-o)}function x0(n,e,t,r){if(n.length===0)return[];const i=e.amountPct,s=r==null?void 0:r.side,o=r==null?void 0:r.midPrice,a=n.map((c,u)=>{const h=t+c.price*1e6+u,d=t+c.size*1e3+u*7;return{...c,price:Ihe(c.price,i,h,s,o),size:eV(c.size,i,d),cumulative:0}});a.sort((c,u)=>u.price-c.price);let l=0;return a.map(c=>(l+=c.size,{...c,cumulative:l}))}const c1=5e-4,u1=.0025;function zN(n,e,t,r,i){const s=Date.now(),o=r.minLifetimeMs+Math.random()*(r.maxLifetimeMs-r.minLifetimeMs),a=c1+Math.pow(Math.random(),1.6)*(u1-c1),l=e*a*(n==="ask"?1:-1),c=e+l,u=t*r.volumeScalePct*(.7+Math.random()*.6),d=1+.5*((u1-a)/(u1-c1)),f=Math.max(.01,u*d);return{price:c,size:f,cumulative:f,flash:null,isPending:!0,id:i,createdAt:s,expiresAt:s+o}}function qN(n,e,t){const r=[...n,...e];r.sort((o,a)=>a.price-o.price);const i=r.slice(0,t);let s=0;return i.map(o=>(s+=o.size,{...o,cumulative:s}))}function Ohe(n,e=l1,t=100){const r=e.enabled===!0,i=e.jitter??l1.jitter,s=e.fakePending??l1.fakePending,[o,a]=P.useState(n.asks),[l,c]=P.useState(n.bids),[u,h]=P.useState([]),[d,f]=P.useState([]),m=P.useRef(0),g=P.useRef(null),v=P.useRef(0),y=P.useRef(n),b=P.useRef(s),w=P.useRef(null);y.current=n,b.current=s;const S=(i==null?void 0:i.defaultMidPrice)??1,_=(i==null?void 0:i.defaultLevelsCount)??5,k=P.useMemo(()=>The(S,_),[S,_]),C=P.useMemo(()=>{const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids;if(R.length===0||D.length===0)return S;const N=Math.min(...R.map(W=>W.price)),L=Math.max(...D.map(W=>W.price));return(N+L)/2},[n.asks,n.bids,k,S]);P.useEffect(()=>{if(!r||!i)return;const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids,N=R.reduce((X,ee)=>X+ee.size,0),L=D.reduce((X,ee)=>X+ee.size,0),W=w.current,$=i.amountChangeThresholdPct??0;if(W!==null&&$>0){const X=W.askTotal>0?Math.abs(N-W.askTotal)/W.askTotal:1,ee=W.bidTotal>0?Math.abs(L-W.bidTotal)/W.bidTotal:1;if(X<$&&ee<$)return}w.current={askTotal:N,bidTotal:L};const F=m.current,B={midPrice:C},j=x0(R,i,F,{...B,side:"ask"}),H=x0(D,i,F,{...B,side:"bid"}),V=j.length?Math.min(...j.map(X=>X.price)):1/0,K=H.length?Math.max(...H.map(X=>X.price)):-1/0;V<=K?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(R.map(X=>({...X}))),c(D.map(X=>({...X})))):(a(j),c(H))},[r,i,n.asks,n.bids,k,C]),P.useEffect(()=>{if(!r||!i)return;const R=i.intervalMs??500,D=setInterval(()=>{m.current+=1;const N=m.current,L=n.asks.length>0?n.asks:k.asks,W=n.bids.length>0?n.bids:k.bids,$={midPrice:C},F=x0(L,i,N,{...$,side:"ask"}),B=x0(W,i,N,{...$,side:"bid"}),j=F.length?Math.min(...F.map(V=>V.price)):1/0,H=B.length?Math.max(...B.map(V=>V.price)):-1/0;j<=H?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(L.map(V=>({...V}))),c(W.map(V=>({...V})))):(a(F),c(B))},R);return()=>clearInterval(D)},[r,i,n.asks,n.bids,k,C]);const E=P.useRef(()=>{const R=b.current;if(!R)return;const D=R.minAddDelayMs+Math.random()*(R.maxAddDelayMs-R.minAddDelayMs);g.current=setTimeout(()=>{var j,H;g.current=null;const N=y.current,L=N.asks.length>0&&N.bids.length>0?(N.asks[N.asks.length-1].price+N.bids[0].price)/2:0,W=(((j=N.asks[N.asks.length-1])==null?void 0:j.size)??0)||(((H=N.bids[0])==null?void 0:H.size)??0)||1;if(L<=0){E.current();return}const $=b.current;if(!$)return;v.current+=1;const F=`fake-ask-${v.current}`,B=`fake-bid-${v.current}`;h(V=>[...V,zN("ask",L,W,$,F)].slice(-$.maxFakeLevelsPerSide)),f(V=>[...V,zN("bid",L,W,$,B)].slice(-$.maxFakeLevelsPerSide)),E.current()},D)});return P.useEffect(()=>{if(!(!r||!s))return E.current(),()=>{g.current&&(clearTimeout(g.current),g.current=null)}},[r]),P.useEffect(()=>{if(!r)return;const R=setInterval(()=>{const D=Date.now();h(N=>N.filter(L=>L.expiresAt>D)),f(N=>N.filter(L=>L.expiresAt>D))},500);return()=>clearInterval(R)},[r]),P.useEffect(()=>{r||(w.current=null,h([]),f([]),a(n.asks.map(R=>({...R}))),c(n.bids.map(R=>({...R}))))},[r,n.asks,n.bids]),P.useMemo(()=>{const R=n.isConnected?!1:n.loading??!1;if(!r)return{...n,loading:R,asks:n.asks.map(W=>({...W})),bids:n.bids.map(W=>({...W}))};const D=qN(o,u,t),N=qN(l,d,t);let L=n.spread;if(D.length>0&&N.length>0){const W=D[D.length-1].price,$=N[0].price;L=W-$}return{...n,loading:R,asks:D,bids:N,spread:L}},[r,n,o,l,u,d,t])}const Rhe={lastPrice:null,markPrice:null,displayPrice:null,displayTimestamp:null,recentTrades:[],loading:!0,error:null,isConnected:!1,priceChange:null};function tV(n){const{setTradePriceMarketId:e,tradePriceData:t,refreshTradePrice:r,setBaseURL:i,isConnected:s}=Zr();P.useEffect(()=>{n.baseURL&&i(n.baseURL)},[n.baseURL,i]),P.useEffect(()=>{n.marketId&&n.marketId.trim()!==""&&e(n.marketId)},[n.marketId,e]);const o=t??Rhe,a=o.lastPrice,l=o.markPrice,c=o.loading,u=o.error,h=o.isConnected??s,d=o.priceChange,f=o.recentTrades,m=o.displayPrice,g=o.displayTimestamp,v=P.useMemo(()=>r,[r]);return{lastPrice:a,markPrice:l,displayPrice:m,displayTimestamp:g,recentTrades:f,loading:c,error:u,isConnected:h,priceChange:d,refresh:v,infoClient:null,isLastPriceData:the,isMarkPriceData:nhe}}const h1=n=>{if(n)return Array.isArray(n)?n[0]:n};function Dhe(n){const e=n.historyDepth??10,t=n.marketId,[r,i]=P.useState(void 0),[s,o]=P.useState(void 0),[a,l]=P.useState(void 0),[c,u]=P.useState(!0),[h,d]=P.useState(null),[f,m]=P.useState(!1),{subscribe:g,unsubscribe:v,isConnected:y}=Zr();P.useEffect(()=>{if(u(!1),m(y),!t)return;i(void 0),o(void 0),l(void 0),d(null);const _=D=>{i(N=>e===1?D:[D,...Array.isArray(N)?N:N?[N]:[]].slice(0,e))},k=D=>{o(N=>e===1?D:[D,...Array.isArray(N)?N:N?[N]:[]].slice(0,e))},C=D=>{l(N=>e===1?D:[D,...Array.isArray(N)?N:N?[N]:[]].slice(0,e))},E=`funding_rate:${t}`,O=`deviation:${t}`,R=`twap:${t}`;return g(E,_),g(O,k),g(R,C),()=>{v(E,_),v(O,k),v(R,C)}},[t,e,y,g,v]);const b=P.useMemo(()=>h1(r),[r]),w=P.useMemo(()=>h1(s),[s]),S=P.useMemo(()=>h1(a),[a]);return{fundingRate:r,deviation:s,twap:a,latestFundingRate:b,latestDeviation:w,latestTWAP:S,loading:c,error:h,isConnected:f}}function Ahe(n){const e=n.useWebSocket!==!1,[t,r]=P.useState([]),[i,s]=P.useState(!0),[o,a]=P.useState(""),[l,c]=P.useState(!1),u=P.useRef(null),h=P.useRef(0),d=P.useRef(n);d.current=n;const f=P.useCallback(async()=>{if(!u.current)return;const b=d.current;if(!b.walletAddress||b.walletAddress.trim()===""){a(""),r([]),s(!1);return}a("");try{const w=await xO(bO.http,()=>u.current.getPositions(b.walletAddress));if(Array.isArray(w)){const S=w.map(RN);r(_=>{if(_.length!==S.length)return S;const k=JSON.stringify(_),C=JSON.stringify(S);return k===C?_:S})}else r(S=>S.length===0?S:[])}catch(w){a(w instanceof Error?w.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",w)}finally{s(!1)}},[]),m=P.useCallback(b=>{const w=b;if(w.marketIndex&&w.symbol){const S=RN(w);r(_=>{const k=_.findIndex(C=>C.positionId===S.positionId);if(k>=0){const C=[..._];C[k]=S;const E=JSON.stringify(_),O=JSON.stringify(C);return E===O?_:C}else return[..._,S]})}},[]),{subscribe:g,unsubscribe:v,isConnected:y}=Zr();return P.useEffect(()=>{const b=new eo({baseURL:n.baseURL,sessionToken:n.authToken});u.current=b,f(),c(y);const S=`positions:${n.marketId??"0"}`,_=k=>m(k);return e?(g(S,_),!y&&n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>f(),n.refreshInterval)),()=>{h.current!==null&&h.current!==0&&(clearInterval(h.current),h.current=0),v(S,_)}):(n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>f(),n.refreshInterval)),()=>{h.current!==null&&h.current!==0&&(clearInterval(h.current),h.current=0)})},[n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,e,y,g,v,f,m]),{positions:t,loading:i,error:o,isConnected:l,refresh:f}}function Nhe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Lhe=n=>{switch(n){case"success":return jhe;case"info":return zhe;case"warning":return Bhe;case"error":return qhe;default:return null}},Fhe=Array(12).fill(0),$he=({visible:n,className:e})=>ge.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ge.createElement("div",{className:"sonner-spinner"},Fhe.map((t,r)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jhe=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Bhe=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zhe=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qhe=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uhe=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hhe=()=>{const[n,e]=ge.useState(document.hidden);return ge.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let UM=1;class Whe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:UM++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async c=>{if(o=["resolve",c],ge.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Ghe(c)&&!c.ok){s=!1;const h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description,m=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(c instanceof Error){s=!1;const h=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(t.success!==void 0){s=!1;const h=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:d,...m})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;const u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description,f=typeof u=="object"&&!ge.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...f})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||UM++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Br=new Whe,Yhe=(n,e)=>{const t=(e==null?void 0:e.id)||UM++;return Br.addToast({title:n,...e,id:t}),t},Ghe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Vhe=Yhe,Khe=()=>Br.toasts,Xhe=()=>Br.getActiveToasts(),rt=Object.assign(Vhe,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:Khe,getToasts:Xhe});Nhe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function w0(n){return n.label!==void 0}const Qhe=3,Jhe="24px",Zhe="16px",UN=4e3,ede=356,tde=14,nde=45,rde=200;function Is(...n){return n.filter(Boolean).join(" ")}function ide(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const sde=n=>{var e,t,r,i,s,o,a,l,c;const{invert:u,toast:h,unstyled:d,interacting:f,setHeights:m,visibleToasts:g,heights:v,index:y,toasts:b,expanded:w,removeToast:S,defaultRichColors:_,closeButton:k,style:C,cancelButtonStyle:E,actionButtonStyle:O,className:R="",descriptionClassName:D="",duration:N,position:L,gap:W,expandByDefault:$,classNames:F,icons:B,closeButtonAriaLabel:j="Close toast"}=n,[H,V]=ge.useState(null),[K,X]=ge.useState(null),[ee,q]=ge.useState(!1),[Y,U]=ge.useState(!1),[ie,re]=ge.useState(!1),[se,Q]=ge.useState(!1),[J,ue]=ge.useState(!1),[me,Ee]=ge.useState(0),[Pe,Ce]=ge.useState(0),Ne=ge.useRef(h.duration||N||UN),Qe=ge.useRef(null),ze=ge.useRef(null),$e=y===0,Ke=y+1<=g,qe=h.type,it=h.dismissible!==!1,Ie=h.className||"",oe=h.descriptionClassName||"",ne=ge.useMemo(()=>v.findIndex(De=>De.toastId===h.id)||0,[v,h.id]),te=ge.useMemo(()=>{var De;return(De=h.closeButton)!=null?De:k},[h.closeButton,k]),_e=ge.useMemo(()=>h.duration||N||UN,[h.duration,N]),Te=ge.useRef(0),he=ge.useRef(0),ve=ge.useRef(0),ae=ge.useRef(null),[xe,Me]=L.split("-"),be=ge.useMemo(()=>v.reduce((De,pe,ct)=>ct>=ne?De:De+pe.height,0),[v,ne]),Oe=Hhe(),mt=h.invert||u,rn=qe==="loading";he.current=ge.useMemo(()=>ne*W+be,[ne,be]),ge.useEffect(()=>{Ne.current=_e},[_e]),ge.useEffect(()=>{q(!0)},[]),ge.useEffect(()=>{const De=ze.current;if(De){const pe=De.getBoundingClientRect().height;return Ce(pe),m(ct=>[{toastId:h.id,height:pe,position:h.position},...ct]),()=>m(ct=>ct.filter(yt=>yt.toastId!==h.id))}},[m,h.id]),ge.useLayoutEffect(()=>{if(!ee)return;const De=ze.current,pe=De.style.height;De.style.height="auto";const ct=De.getBoundingClientRect().height;De.style.height=pe,Ce(ct),m(yt=>yt.find(Ue=>Ue.toastId===h.id)?yt.map(Ue=>Ue.toastId===h.id?{...Ue,height:ct}:Ue):[{toastId:h.id,height:ct,position:h.position},...yt])},[ee,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const Gt=ge.useCallback(()=>{U(!0),Ee(he.current),m(De=>De.filter(pe=>pe.toastId!==h.id)),setTimeout(()=>{S(h)},rde)},[h,S,m,he]);ge.useEffect(()=>{if(h.promise&&qe==="loading"||h.duration===1/0||h.type==="loading")return;let De;return w||f||Oe?(()=>{if(ve.current<Te.current){const yt=new Date().getTime()-Te.current;Ne.current=Ne.current-yt}ve.current=new Date().getTime()})():(()=>{Ne.current!==1/0&&(Te.current=new Date().getTime(),De=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Gt()},Ne.current))})(),()=>clearTimeout(De)},[w,f,h,qe,Oe,Gt]),ge.useEffect(()=>{h.delete&&(Gt(),h.onDismiss==null||h.onDismiss.call(h,h))},[Gt,h.delete]);function Cn(){var De;if(B!=null&&B.loading){var pe;return ge.createElement("div",{className:Is(F==null?void 0:F.loader,h==null||(pe=h.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":qe==="loading"},B.loading)}return ge.createElement($he,{className:Is(F==null?void 0:F.loader,h==null||(De=h.classNames)==null?void 0:De.loader),visible:qe==="loading"})}const nr=h.icon||(B==null?void 0:B[qe])||Lhe(qe);var st,ft;return ge.createElement("li",{tabIndex:0,ref:ze,className:Is(R,Ie,F==null?void 0:F.toast,h==null||(e=h.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[qe],h==null||(t=h.classNames)==null?void 0:t[qe]),"data-sonner-toast":"","data-rich-colors":(st=h.richColors)!=null?st:_,"data-styled":!(h.jsx||h.unstyled||d),"data-mounted":ee,"data-promise":!!h.promise,"data-swiped":J,"data-removed":Y,"data-visible":Ke,"data-y-position":xe,"data-x-position":Me,"data-index":y,"data-front":$e,"data-swiping":ie,"data-dismissible":it,"data-type":qe,"data-invert":mt,"data-swipe-out":se,"data-swipe-direction":K,"data-expanded":!!(w||$&&ee),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${Y?me:he.current}px`,"--initial-height":$?"auto":`${Pe}px`,...C,...h.style},onDragEnd:()=>{re(!1),V(null),ae.current=null},onPointerDown:De=>{De.button!==2&&(rn||!it||(Qe.current=new Date,Ee(he.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(re(!0),ae.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,pe,ct;if(se||!it)return;ae.current=null;const yt=Number(((De=ze.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),je=Number(((pe=ze.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ue=new Date().getTime()-((ct=Qe.current)==null?void 0:ct.getTime()),Re=H==="x"?yt:je,$t=Math.abs(Re)/Ue;if(Math.abs(Re)>=nde||$t>.11){Ee(he.current),h.onDismiss==null||h.onDismiss.call(h,h),X(H==="x"?yt>0?"right":"left":je>0?"down":"up"),Gt(),Q(!0);return}else{var Xe,Vt;(Xe=ze.current)==null||Xe.style.setProperty("--swipe-amount-x","0px"),(Vt=ze.current)==null||Vt.style.setProperty("--swipe-amount-y","0px")}ue(!1),re(!1),V(null)},onPointerMove:De=>{var pe,ct,yt;if(!ae.current||!it||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;const Ue=De.clientY-ae.current.y,Re=De.clientX-ae.current.x;var $t;const Xe=($t=n.swipeDirections)!=null?$t:ide(L);!H&&(Math.abs(Re)>1||Math.abs(Ue)>1)&&V(Math.abs(Re)>Math.abs(Ue)?"x":"y");let Vt={x:0,y:0};const Ye=Je=>1/(1.5+Math.abs(Je)/20);if(H==="y"){if(Xe.includes("top")||Xe.includes("bottom"))if(Xe.includes("top")&&Ue<0||Xe.includes("bottom")&&Ue>0)Vt.y=Ue;else{const Je=Ue*Ye(Ue);Vt.y=Math.abs(Je)<Math.abs(Ue)?Je:Ue}}else if(H==="x"&&(Xe.includes("left")||Xe.includes("right")))if(Xe.includes("left")&&Re<0||Xe.includes("right")&&Re>0)Vt.x=Re;else{const Je=Re*Ye(Re);Vt.x=Math.abs(Je)<Math.abs(Re)?Je:Re}(Math.abs(Vt.x)>0||Math.abs(Vt.y)>0)&&ue(!0),(ct=ze.current)==null||ct.style.setProperty("--swipe-amount-x",`${Vt.x}px`),(yt=ze.current)==null||yt.style.setProperty("--swipe-amount-y",`${Vt.y}px`)}},te&&!h.jsx&&qe!=="loading"?ge.createElement("button",{"aria-label":j,"data-disabled":rn,"data-close-button":!0,onClick:rn||!it?()=>{}:()=>{Gt(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Is(F==null?void 0:F.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ft=B==null?void 0:B.close)!=null?ft:Uhe):null,(qe||h.icon||h.promise)&&h.icon!==null&&((B==null?void 0:B[qe])!==null||h.icon)?ge.createElement("div",{"data-icon":"",className:Is(F==null?void 0:F.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Cn():null,h.type!=="loading"?nr:null):null,ge.createElement("div",{"data-content":"",className:Is(F==null?void 0:F.content,h==null||(s=h.classNames)==null?void 0:s.content)},ge.createElement("div",{"data-title":"",className:Is(F==null?void 0:F.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?ge.createElement("div",{"data-description":"",className:Is(D,oe,F==null?void 0:F.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),ge.isValidElement(h.cancel)?h.cancel:h.cancel&&w0(h.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:De=>{w0(h.cancel)&&it&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,De),Gt())},className:Is(F==null?void 0:F.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,ge.isValidElement(h.action)?h.action:h.action&&w0(h.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:De=>{w0(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,De),!De.defaultPrevented&&Gt())},className:Is(F==null?void 0:F.actionButton,h==null||(c=h.classNames)==null?void 0:c.actionButton)},h.action.label):null)};function HN(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function ode(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Zhe:Jhe;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}const ade=ge.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:u,mobileOffset:h,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:v=Qhe,toastOptions:y,dir:b=HN(),gap:w=tde,icons:S,containerAriaLabel:_="Notifications"}=e,[k,C]=ge.useState([]),E=ge.useMemo(()=>r?k.filter(ee=>ee.toasterId===r):k.filter(ee=>!ee.toasterId),[k,r]),O=ge.useMemo(()=>Array.from(new Set([s].concat(E.filter(ee=>ee.position).map(ee=>ee.position)))),[E,s]),[R,D]=ge.useState([]),[N,L]=ge.useState(!1),[W,$]=ge.useState(!1),[F,B]=ge.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=ge.useRef(null),H=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=ge.useRef(null),K=ge.useRef(!1),X=ge.useCallback(ee=>{C(q=>{var Y;return(Y=q.find(U=>U.id===ee.id))!=null&&Y.delete||Br.dismiss(ee.id),q.filter(({id:U})=>U!==ee.id)})},[]);return ge.useEffect(()=>Br.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{C(q=>q.map(Y=>Y.id===ee.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{Iie.flushSync(()=>{C(q=>{const Y=q.findIndex(U=>U.id===ee.id);return Y!==-1?[...q.slice(0,Y),{...q[Y],...ee},...q.slice(Y+1)]:[ee,...q]})})})}),[k]),ge.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:q})=>{B(q?"dark":"light")})}catch{ee.addListener(({matches:Y})=>{try{B(Y?"dark":"light")}catch(U){console.error(U)}})}},[d]),ge.useEffect(()=>{k.length<=1&&L(!1)},[k]),ge.useEffect(()=>{const ee=q=>{var Y;if(o.every(re=>q[re]||q.code===re)){var ie;L(!0),(ie=j.current)==null||ie.focus()}q.code==="Escape"&&(document.activeElement===j.current||(Y=j.current)!=null&&Y.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[o]),ge.useEffect(()=>{if(j.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,K.current=!1)}},[j.current]),ge.createElement("section",{ref:t,"aria-label":`${_} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((ee,q)=>{var Y;const[U,ie]=ee.split("-");return E.length?ge.createElement("ol",{key:ee,dir:b==="auto"?HN():b,tabIndex:-1,ref:j,className:c,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":U,"data-x-position":ie,style:{"--front-toast-height":`${((Y=R[0])==null?void 0:Y.height)||0}px`,"--width":`${ede}px`,"--gap":`${w}px`,...g,...ode(u,h)},onBlur:re=>{K.current&&!re.currentTarget.contains(re.relatedTarget)&&(K.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||K.current||(K.current=!0,V.current=re.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{W||L(!1)},onDragEnd:()=>L(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},E.filter(re=>!re.position&&q===0||re.position===ee).map((re,se)=>{var Q,J;return ge.createElement(sde,{key:re.id,icons:S,index:se,toast:re,defaultRichColors:f,duration:(Q=y==null?void 0:y.duration)!=null?Q:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:i,visibleToasts:v,closeButton:(J=y==null?void 0:y.closeButton)!=null?J:l,interacting:W,position:ee,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:X,toasts:E.filter(ue=>ue.position==re.position),heights:R.filter(ue=>ue.position==re.position),setHeights:D,expandByDefault:a,gap:w,expanded:N,swipeDirections:e.swipeDirections})})):null}))}),tf="onboard_mnemonic",au="onboard_wallet_address",nf="onboard_auth_token",rf="onboard_refresh_token",sf="onboard_expires_at";function lde(n){const[e,t]=P.useState(""),[r,i]=P.useState(""),[s,o]=P.useState(!1),[a,l]=P.useState(""),[c,u]=P.useState(void 0),[h,d]=P.useState(void 0),[f,m]=P.useState(!1),[g,v]=P.useState(null);P.useEffect(()=>{const R=localStorage.getItem(tf),D=localStorage.getItem(au),N=localStorage.getItem(nf),L=localStorage.getItem(rf),W=localStorage.getItem(sf);if(t(R||""),i(D||""),N&&l(N),L&&u(L),W){const $=parseInt(W,10);isNaN($)||d($)}},[]);const y=P.useCallback(async R=>{if(!R||R.trim()==="")return null;o(!0);try{Xs.isReady()||await Xs.initialize();const D=await Xs.generateAddress(R.trim(),0);return D.success&&D.address?D.address:(console.error("Failed to generate address:",D.error),null)}catch(D){return console.error("Error generating address:",D),null}finally{o(!1)}},[]),b=P.useCallback(async R=>{const D=R.trim();if(D===""){t(""),i(""),localStorage.removeItem(tf),localStorage.removeItem(au);return}t(D),localStorage.setItem(tf,D);const N=await y(D);N?(i(N),localStorage.setItem(au,N)):(i(""),localStorage.removeItem(au))},[y]),w=P.useCallback((R,D)=>{const N=R.trim(),L=D.trim().toLowerCase();t(N),i(L),localStorage.setItem(tf,N),localStorage.setItem(au,L)},[]),S=P.useCallback(()=>{t(""),i(""),localStorage.removeItem(tf),localStorage.removeItem(au)},[]),_=P.useMemo(()=>{if(e==="")return"";const R=e.trim();if(R==="")return"";try{const D=rm.fromPhrase(R,"","m/44'/60'/0'/0/0");if(r&&D.address.toLowerCase()!==r.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const N=BigInt(D.privateKey),L=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(N===0n||N>=L)return console.error("Invalid private key: out of secp256k1 curve order"),"";const $=N.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test($)?$:(console.error("Invalid private key format"),"")}catch(D){return console.error("Error computing private key:",D),""}},[e,r]),k=P.useCallback(async(R,D,N,L)=>{m(!0),v(null);try{await b(R);const W=await phe(R,D,N,L);if(W.success&&W.authToken)l(W.authToken),u(W.refreshToken),d(W.expiresAt),localStorage.setItem(nf,W.authToken),W.refreshToken&&localStorage.setItem(rf,W.refreshToken),W.expiresAt&&localStorage.setItem(sf,W.expiresAt.toString()),rt.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const $=W.error||"Onboarding failed";v($),l(""),u(void 0),d(void 0),localStorage.removeItem(nf),localStorage.removeItem(rf),localStorage.removeItem(sf),rt.error("Onboarding failed",{description:$,duration:6e3})}}catch(W){const $=(W==null?void 0:W.message)||"Unknown error during onboarding";v($),l(""),u(void 0),d(void 0),localStorage.removeItem(nf),localStorage.removeItem(rf),localStorage.removeItem(sf),rt.error("Onboarding error",{description:$,duration:6e3})}finally{m(!1)}},[b]),C=P.useCallback(()=>{v(null)},[]),E=P.useCallback(()=>{l(""),u(void 0),d(void 0),v(null),m(!1),localStorage.removeItem(nf),localStorage.removeItem(rf),localStorage.removeItem(sf)},[]),O=P.useCallback(()=>{S(),E()},[S,E]);return{mnemonic:e,walletAddress:r,privateKey:_,authToken:a,refreshToken:c,expiresAt:h,loading:f,error:g,addressLoading:s,onboard:k,setMnemonic:b,setAccountData:w,clearAccountData:S,clearError:C,reset:E,resetAll:O}}function Lc(n,e=2,t=2,r="0.00"){return n==null||isNaN(n)?r:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:t})}function vy(n){return n==null||isNaN(n)?"--":Lc(n,2,2,"--")}function Fl(n){return n==null||isNaN(n)?"--":Lc(n,2,8,"--")}function yy(n){return n==null||isNaN(n)?"0.000":Lc(n,3,3,"0.000")}function cde(n){return n==null||isNaN(n)?"0":Lc(n,3,8,"0")}function ude(n){return n==null||isNaN(n)?"0.00":Lc(n,2,2,"0.00")}function hde(n){return n==null||isNaN(n)?"0.00":Lc(n,2,2,"0.00")}function ln(n){return n==null||isNaN(n)?"0.00":Lc(n,2,2,"0.00")}function Of(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function dde(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?Ln(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function WN(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function fde(n,e=6,t=4,r="--"){return!n||typeof n!="string"?r:n.length<=e+t?n:`${n.slice(0,e)}...${n.slice(-t)}`}const pde=({...n})=>M.jsx(ade,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),mde=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const t=document.createElement("textarea");return t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(t){return console.error("Failed to copy to clipboard:",t),!1}}},Kn=n=>({label:"Copy",onClick:async()=>{await mde(n)?rt.success("Error message copied to clipboard"):rt.error("Failed to copy error message")}});function nV(n){const e=n.useWebSocket!==!1,[t,r]=P.useState([]),[i,s]=P.useState(!0),[o,a]=P.useState(""),[l,c]=P.useState(0),[u,h]=P.useState(!1),d=P.useRef(null),f=P.useRef(0),m=P.useRef(!0),g=P.useRef(n);g.current=n;const{subscribe:v,unsubscribe:y,isConnected:b}=Zr(),w=P.useCallback(C=>{const E=ehe(C)?C:Zue(C);return AN(E)},[]),S=P.useCallback(async()=>{if(!d.current)return;const C=g.current;if(!C.walletAddress||C.walletAddress.trim()===""){c(0);return}try{const E=await d.current.getBalanceDecimal(C.walletAddress,"USDC"),O=typeof E.available=="number"?E.available:E.availableBalance?nt(E.availableBalance):0;c(O)}catch(E){console.warn("Failed to fetch spot wallet balance (USDC):",E),c(0)}},[]),_=P.useCallback(async()=>{if(!d.current)return;const C=g.current;if(!C.walletAddress||C.walletAddress.trim()===""){a("Wallet address is required"),r([]),s(!1),m.current=!1;return}a(""),m.current&&s(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e}),S(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const E=await d.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:E,responseType:typeof E,isArray:Array.isArray(E),responseLength:Array.isArray(E)?E.length:"N/A"});const O=Array.isArray(E)?E:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:O,bucketsDataLength:O.length,bucketsDataTypes:O.map((D,N)=>({index:N,type:typeof D,hasBucketId:!!(D!=null&&D.bucketId),bucketId:D.bucketId??""}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${O.length} buckets:`,O);const R=O.map(AN);r(R),e||(m.current=!1,s(!1))}catch(E){const O=E instanceof Error?E.message:"Failed to load bucket collections";a(O),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:E,errorMessage:O,walletAddress:C.walletAddress,stack:E instanceof Error?E.stack:void 0}),e||(m.current=!1,s(!1))}},[S,e]),k=P.useCallback(C=>{const E=C;if(!E||!E.buckets||!Array.isArray(E.buckets))return;console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:E,hasBuckets:!!E.buckets,bucketsIsArray:Array.isArray(E.buckets),bucketsLength:E.buckets.length}),console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",E.buckets);const O=E.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",O);const R=O.filter(D=>D.bucketId&&D.bucketId.trim()!==""&&D.status!=="dormant");if(R.length!==O.length){const D=O.length-R.length,N=O.filter(W=>!W.bucketId||W.bucketId.trim()===""),L=O.filter(W=>W.bucketId&&W.bucketId.trim()!==""&&W.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${D} collections (${N.length} with empty bucketId, ${L.length} with status "dormant")`,{filteredByBucketId:N,filteredByStatus:L})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:R.length,validCollections:R}),r(D=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:D.length,prev:D}),D.length!==R.length)return R;const N=JSON.stringify(D),L=JSON.stringify(R);return N===L?D:R}),m.current&&(m.current=!1,s(!1))},[w]);return P.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){s(!1),a("Wallet address is required"),r([]),f.current!==0&&(clearInterval(f.current),f.current=0);return}const C=new eo({baseURL:n.baseURL,sessionToken:n.authToken});d.current=C,m.current=!0,_(),h(b);const E=O=>k(O);return e?(v("buckets",E),!b&&n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>_(),n.refreshInterval)),()=>{f.current!==0&&(clearInterval(f.current),f.current=0),y("buckets",E)}):(n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>_(),n.refreshInterval)),()=>{f.current!==0&&(clearInterval(f.current),f.current=0)})},[n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,b,v,y,_,k]),P.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:t.length,collections:t,loading:i,error:o,spotWalletBalance:l})},[t,i,o,l]),{collections:t,loading:i,error:o,refreshBucketBalance:_,refreshSpotWalletBalance:S,spotWalletBalance:l,isConnected:u}}function gde(n,e,t){return e!==n?M.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):M.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:t==="asc"?"":""})}function md({message:n="Loading..."}){return M.jsx("div",{className:"message loading",children:n})}function gd({error:n}){return M.jsxs("div",{className:"message error",children:["Error: ",n]})}function $o({message:n}){return M.jsx("div",{className:"message empty",children:n})}function rV({message:n}){return M.jsx("div",{className:"message warning",children:n})}function wO({isConnected:n,connectedText:e=" LIVE",disconnectedText:t=" OFFLINE"}){return M.jsx("div",{className:"status-indicator",children:M.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:t})})}function vd({title:n,children:e}){return M.jsxs("div",{className:"layout-header",children:[M.jsx("div",{className:"layout-header-title",children:n}),e&&M.jsx("div",{className:"layout-header-actions",children:e})]})}function vde({tabs:n,activeTabId:e,onTabChange:t,children:r}){return M.jsxs("div",{className:"layout-header",children:[M.jsx("div",{className:"layout-header-title",children:M.jsx("div",{className:"tab-section-tabs",children:n.map(i=>M.jsx("button",{type:"button",className:`btn-tab ${e===i.id?"active":""}`,onClick:()=>t(i.id),children:i.label},i.id))})}),r&&M.jsx("div",{className:"layout-header-actions",children:r})]})}function Vn({field:n,currentSortField:e,sortDirection:t,onSort:r,children:i,center:s=!1}){return M.jsxs("div",{className:`table-header-cell ${s?"left":"right"}`,onClick:()=>r(n),children:[i,gde(n,e,t)]})}function HM({children:n,center:e=!1}){return M.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function yde({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),M.jsx("button",{onClick:t=>{console.log("[CancelButton] Button clicked",{disabled:e,event:t}),!e&&n?n(t):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:t=>{console.log("[CancelButton] Mouse down",{disabled:e,event:t})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function bde({onClick:n}){return M.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function xde({onConfirm:n,label:e="Slide to confirm",confirmThreshold:t=90,disabled:r=!1,icon:i}){const[s,o]=P.useState(0),[a,l]=P.useState(!1),c=P.useRef(null),u=P.useRef(null),h=f=>{r||(f.preventDefault(),l(!0))};P.useEffect(()=>{if(!a)return;const f=g=>{if(!c.current||r)return;const v=c.current.getBoundingClientRect(),y=g.clientX-v.left,b=v.width,w=Math.max(0,Math.min(100,y/b*100));o(w)},m=()=>{r||(s>=t?(n(),setTimeout(()=>{o(0)},200)):o(0),l(!1))};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[a,s,t,n,r]);const d=s>=t;return M.jsxs("div",{ref:c,className:`slider-confirm-bar ${r?"disabled":""} ${a?"dragging":""}`,children:[M.jsx("div",{className:`slider-confirm-bar-progress ${d?"confirmed":"default"} ${a?"no-transition":""}`,style:{width:`${s}%`}}),M.jsx("div",{className:"slider-confirm-bar-label",children:d?"Release to confirm":e}),M.jsx("div",{ref:u,onMouseDown:h,className:`slider-confirm-bar-thumb ${r?"disabled":""} ${a?"dragging":""} ${d?"confirmed":""}`,style:{left:`${s}%`},children:i?M.jsx("span",{className:`slider-confirm-bar-thumb-icon ${d?"confirmed":""}`,children:i}):M.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${d?"confirmed":""}`,children:""})})]})}function iV({isOpen:n,value:e,min:t,max:r,onConfirm:i,onCancel:s}){const[o,a]=P.useState("");if(P.useEffect(()=>{n&&a(e.toString())},[n,e]),!n)return null;const l=v=>{const y=o==="0"?v:o+v;parseFloat(y)<=r&&a(y)},c=()=>{o.includes(".")||a(o+".")},u=()=>{o.length>1?a(o.slice(0,-1)):a("0")},h=()=>{a("0")},d=()=>{const v=parseFloat(o)||0,y=Math.max(t,Math.min(r,v));i(y)},f=parseFloat(o)||0,m=f>=t&&f<=r,g=M.jsx("div",{className:"modal-overlay",onClick:s,style:{zIndex:1e4},children:M.jsxs("div",{className:"modal-content number-pad-content",onClick:v=>v.stopPropagation(),children:[M.jsx("div",{className:"modal-header",children:M.jsx("h3",{children:"Enter Amount"})}),M.jsxs("div",{className:"modal-body",children:[M.jsxs("div",{className:"number-pad-display",children:[M.jsx("div",{className:"number-pad-display-value",children:ln(f)}),M.jsxs("div",{className:"number-pad-display-range",children:["Min: ",ln(t)," | Max: ",ln(r)]}),!m&&f>0&&M.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",ln(t)," and"," ",ln(r)]})]}),M.jsxs("div",{className:"number-pad-grid",children:[M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"1"),children:"1"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"2"),children:"2"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"3"),children:"3"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"4"),children:"4"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"5"),children:"5"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"6"),children:"6"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"7"),children:"7"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"8"),children:"8"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"9"),children:"9"}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:c,children:"."}),M.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"0"),children:"0"}),M.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:u,children:""})]}),M.jsxs("div",{className:"number-pad-actions",children:[M.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),M.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{a(r.toString())},children:"Max"})]})]}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{onClick:s,className:"btn btn-secondary",children:"Cancel"}),M.jsx("button",{onClick:d,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?Ac.createPortal(g,document.body):null}function wde({isOpen:n,currentLeverage:e,tempLeverage:t,maxRatio:r,onLeverageChange:i,onConfirm:s,onCancel:o}){if(!n)return null;const a=M.jsx("div",{className:"modal-overlay",onClick:o,children:M.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[M.jsx("div",{className:"modal-header",children:M.jsx("h3",{children:"Select Leverage"})}),M.jsxs("div",{className:"modal-body",children:[M.jsxs("div",{className:"leverage-max-ratio",children:[M.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),M.jsxs("div",{className:"leverage-max-ratio-value",children:[r,"x"]})]}),M.jsxs("div",{className:"leverage-slider-container",children:[M.jsx("input",{type:"range",min:Xw,max:hN,value:t,onChange:l=>i(parseInt(l.target.value)),className:"filled-slider",style:{"--slider-progress":`${(t-Xw)/(hN-Xw)*100}%`}}),M.jsxs("div",{className:"leverage-slider-labels",children:[M.jsx("span",{children:"1x"}),M.jsxs("span",{className:"leverage-current-value",children:[t,"x"]}),M.jsx("span",{children:"100x"})]})]})]}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),M.jsx("button",{onClick:s,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?Ac.createPortal(a,document.body):null}function _de({isOpen:n,fromValue:e,toValue:t,options:r,bucketsData:i,transferAmount:s,createBucketAmount:o,createBucketType:a,createMarginType:l,transferMarginType:c,onFromChange:u,onToChange:h,onTransferAmountChange:d,onCreateBucketAmountChange:f,onCreateBucketTypeChange:m,onCreateMarginTypeChange:g,onTransferMarginTypeChange:v,onConfirm:y,onCancel:b,spotWalletBalance:w=0,activeTab:S,onActiveTabChange:_,isTransferring:k=!1,onOpen:C,collections:E}){const[O,R]=P.useState("transfer"),D=S??O,N=_??R,L=P.useRef(!1),[W,$]=P.useState(!1),[F,B]=P.useState("transfer"),[j,H]=P.useState(!1);P.useEffect(()=>{n&&!L.current&&C&&C(),L.current=n,n||H(!1)},[n,C,D]);const V=P.useMemo(()=>e==="spot-wallet"?null:i.find(se=>se.bucketId===e),[i,e]);P.useMemo(()=>{var Q;if(e==="spot-wallet"||!E)return null;const se=E.find(J=>J.bucketId===e);return((Q=se==null?void 0:se.marginType)==null?void 0:Q.toLowerCase())||null},[E,e]);const K=P.useMemo(()=>e==="spot-wallet"?w:(V==null?void 0:V.totalEquity)||0,[e,w,V]),X=10,ee=Math.max(X,K);if(ge.useEffect(()=>{if(e&&ee>0){const se=D==="transfer"?s:o;se>ee?D==="transfer"?d(ee):f(ee):se<X&&ee>=X&&(D==="transfer"?d(X):f(X))}},[e,ee,D,s,o,d,f]),!n)return null;const q=e&&t&&s>=X&&s<=ee,Y=e&&o>=X&&o<=ee&&a&&l,U=M.jsx("div",{className:"modal-overlay",onClick:b,children:M.jsxs("div",{className:"modal-content transfer-modal-content",onClick:se=>se.stopPropagation(),children:[M.jsx("div",{className:"modal-header",children:M.jsx("h3",{children:"Transfer Funds"})}),M.jsxs("div",{className:"transfer-modal-tabs",children:[M.jsx("button",{className:`transfer-tab ${D==="transfer"?"active":""}`,onClick:()=>N("transfer"),type:"button",disabled:k,children:"Transfer"}),M.jsx("button",{className:`transfer-tab ${D==="create"?"active":""}`,onClick:()=>N("create"),type:"button",disabled:k,children:"Create Bucket"})]}),M.jsx("div",{className:"modal-body",children:D==="transfer"?M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"transfer-field-group",children:[M.jsx("label",{className:"transfer-field-label",children:"From"}),M.jsxs("select",{value:e,onChange:se=>u(se.target.value),className:"transfer-select",children:[M.jsx("option",{value:"",children:"Select source bucket"}),r.map(se=>M.jsx("option",{value:se.value,children:se.label},se.value))]})]}),e&&M.jsxs("div",{className:"transfer-field-group",children:[M.jsx("label",{className:"transfer-field-label",children:"To"}),M.jsxs("select",{value:t,onChange:se=>h(se.target.value),className:"transfer-select",disabled:!e,children:[M.jsx("option",{value:"",children:"Select destination bucket"}),r.filter(se=>se.value!==e).map(se=>M.jsx("option",{value:se.value,children:se.label},se.value))]})]}),e&&ee>=X?M.jsxs("div",{className:"transfer-field-group",children:[M.jsxs("div",{className:"transfer-amount-header",children:[M.jsx("label",{className:"transfer-field-label",children:"Amount"}),M.jsxs("div",{className:"transfer-available-balance",children:["Available: ",ln(K)]})]}),M.jsx("div",{className:"transfer-amount-display",onClick:()=>{B("transfer"),$(!0)},style:{cursor:"pointer"},children:M.jsx("span",{className:"transfer-amount-value",children:ln(s)})}),M.jsxs("div",{className:"transfer-amount-container",children:[M.jsx("input",{type:"range",min:X,max:ee,step:.01,value:s,onChange:se=>d(parseFloat(se.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(s-X)/(ee-X)*100}%`}}),M.jsxs("div",{className:"transfer-amount-labels",children:[M.jsx("span",{children:ln(X)}),M.jsx("span",{children:ln(ee)})]})]})]}):e?M.jsx("div",{className:"transfer-field-group",children:M.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",ln(X)]})}):null]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"transfer-field-group",children:[M.jsx("label",{className:"transfer-field-label",children:"From"}),M.jsxs("select",{value:e,onChange:se=>u(se.target.value),className:"transfer-select",children:[M.jsx("option",{value:"",children:"Select source bucket"}),r.map(se=>M.jsx("option",{value:se.value,children:se.label},se.value))]})]}),M.jsxs("div",{className:"transfer-field-group",children:[M.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),M.jsxs("select",{value:a,onChange:se=>m(se.target.value),className:"transfer-select",children:[M.jsx("option",{value:"",children:"Select bucket type"}),M.jsx("option",{value:"USDC",children:"USDC"}),M.jsx("option",{value:"USDT",children:"USDT"})]})]}),M.jsxs("div",{className:"transfer-field-group",children:[M.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),M.jsxs("select",{value:l,onChange:se=>g(se.target.value),className:"transfer-select",children:[M.jsx("option",{value:"",children:"Select margin type"}),M.jsx("option",{value:"cross",children:"Cross Margin"}),M.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&ee>=X?M.jsxs("div",{className:"transfer-field-group",children:[M.jsxs("div",{className:"transfer-amount-header",children:[M.jsx("label",{className:"transfer-field-label",children:"Amount"}),M.jsxs("div",{className:"transfer-available-balance",children:["Available: ",ln(K)]})]}),M.jsx("div",{className:"transfer-amount-display",onClick:()=>{B("create"),$(!0)},style:{cursor:"pointer"},children:M.jsx("span",{className:"transfer-amount-value",children:ln(o)})}),M.jsxs("div",{className:"transfer-amount-container",children:[M.jsx("input",{type:"range",min:X,max:ee,step:.01,value:o,onChange:se=>f(parseFloat(se.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-X)/(ee-X)*100}%`}}),M.jsxs("div",{className:"transfer-amount-labels",children:[M.jsx("span",{children:ln(X)}),M.jsx("span",{children:ln(ee)})]})]})]}):e?M.jsx("div",{className:"transfer-field-group",children:M.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",ln(X)]})}):null]})}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{onClick:b,className:"btn btn-secondary",disabled:k,children:"Cancel"}),M.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[M.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:j?0:1,visibility:j?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:j?"none":"auto"},children:M.jsx(xde,{onConfirm:()=>{H(!0)},label:"Slide to confirm",disabled:k||(D==="transfer"?!q:!Y),icon:M.jsx("img",{src:"/bconfirm.svg"})})}),M.jsx("button",{onClick:()=>{y(D==="transfer"?{type:"transfer",from:e,to:t,amount:s}:{type:"create",from:e,bucketType:a,marginType:l,amount:o})},className:"btn btn-primary",disabled:k||(D==="transfer"?!q:!Y),style:{position:"absolute",top:0,right:0,opacity:j?1:0,visibility:j?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:j?"auto":"none",width:"100%",height:"100%",color:"black"},children:k?"Processing...":"Confirm"})]})]})]})}),ie=F==="transfer"?s:o,re=se=>{F==="transfer"?d(se):f(se),$(!1)};return M.jsxs(M.Fragment,{children:[typeof document<"u"?Ac.createPortal(U,document.body):null,M.jsx(iV,{isOpen:W,value:ie,min:X,max:ee,onConfirm:re,onCancel:()=>$(!1)})]})}function Sde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=due,refreshInterval:o=yO,onBucketSelect:a,hide_header:l=!1,onRequestHeaderActions:c}){const{collections:u,loading:h,error:d,spotWalletBalance:f,isConnected:m,refreshBucketBalance:g}=nV({...e!=null&&{subscriptionClient:e},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),[v,y]=P.useState(null),[b,w]=P.useState("desc"),[S,_]=P.useState(""),[k,C]=P.useState(!1),[E,O]=P.useState(""),[R,D]=P.useState(""),[N,L]=P.useState(10),[W,$]=P.useState(10),[F,B]=P.useState(""),[j,H]=P.useState("cross"),[V,K]=P.useState("cross"),[X,ee]=P.useState("transfer"),[q,Y]=P.useState(!1),[U,ie]=P.useState("non-zero"),{client:re,isReady:se,error:Q}=Ab({baseURL:n,mnemonic:i??""}),J=P.useRef(0);P.useEffect(()=>{if(Q){const Ie=Q.message;console.error("Failed to initialize FiClient:",Q),rt.error("Exchange client initialization failed",{description:Ie,action:Kn(Ie)})}},[Q]);const ue=P.useMemo(()=>{let Ie=u.filter(oe=>oe&&oe.bucketId&&typeof oe.bucketId=="string"&&oe.bucketId.trim()!=="");return U==="non-zero"?Ie=Ie.filter(oe=>(oe.totalEquity||0)>0):U==="dormant"?Ie=Ie.filter(oe=>{var ne;return((ne=oe.status)==null?void 0:ne.toLowerCase())==="dormant"}):U==="active"&&(Ie=Ie.filter(oe=>{var ne;return((ne=oe.status)==null?void 0:ne.toLowerCase())==="active"})),v?[...Ie].sort((oe,ne)=>{let te=0,_e=0;switch(v){case"marginType":te=If(oe),_e=If(ne);break;case"usedMargin":te=oe.usedMargin||0,_e=ne.usedMargin||0;break;case"totalEquity":te=oe.totalEquity||0,_e=ne.totalEquity||0;break;case"riskRatio":te=n1(oe),_e=n1(ne);break;case"bucketId":te=oe.bucketId||"",_e=ne.bucketId||"";break}if(typeof te=="string"&&typeof _e=="string")return b==="asc"?te.localeCompare(_e):_e.localeCompare(te);const Te=Number(te),he=Number(_e);return b==="asc"?Te-he:he-Te}):Ie},[u,v,b,U]),me=Ie=>({USDC:1,USDT:2})[Ie==null?void 0:Ie.toUpperCase()]??1,Ee=(Ie,oe)=>{const ne=Ie.toLowerCase(),te=oe.toUpperCase(),_e=te&&String(me(te));return ue.find(Te=>{var be;const he=(be=If(Te))==null?void 0:be.toLowerCase(),ve=Te.status.toLowerCase()==="dormant",ae=Number(Te.totalEquity||0)<=0,xe=he===ne,Me=_e?Te.collateralAssetIndex===_e:!0;return(ve||ae)&&xe&&Me})||null},Pe=Ie=>{v===Ie?w(b==="asc"?"desc":"asc"):(y(Ie),w("desc"))},Ce=(Ie,oe)=>{a&&a(Ie,oe),_(Ie)},Ne=()=>{C(!0),O(""),D(""),L(10),$(10),B(""),H("cross"),K("cross"),ee("transfer")},Qe=()=>{C(!1),O(""),D(""),L(10),$(10),B(""),H("cross"),K("cross"),ee("transfer")},ze=()=>{ie(Ie=>{switch(Ie){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})},$e=async Ie=>{if(!i){const ne="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";rt.error("Mnemonic required",{description:ne,action:Kn(ne)});return}if(!re||!se){const ne="Exchange client is still initializing. Please wait a moment and try again.";rt.error("Exchange client not ready",{description:ne,action:Kn(ne)});return}Y(!0);const oe=rt.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});J.current=typeof oe=="number"?oe:0;try{const ne="USDC";let te,_e="";if(Ie.type==="transfer"){const{from:Te,to:he,amount:ve}=Ie;if(Te==="spot-wallet"&&he==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(Te==="spot-wallet"){if(!he||he==="spot-wallet")throw new Error("Please select a destination bucket");if(te=await re.extractToBucket({bucketId:he,assetId:ne,amount:ve}),!te.success){const xe=te.error_message||"Failed to transfer to bucket";J.current!==0&&(rt.dismiss(J.current),J.current=0),rt.error("Transfer failed",{description:xe,action:Kn(xe)});return}const ae=te.txhash||"";_e=`Successfully transferred ${ln(ve)} from Spot Wallet to ${he}${ae?`
TxHash: ${ae}`:""}`}else if(he==="spot-wallet"){te=await re.withdrawFromBucket({bucketId:Te,assetId:ne,amount:ve});const ae=te.txhash||"";_e=`Successfully transferred ${ln(ve)} from ${Te} to Spot Wallet${ae?`
TxHash: ${ae}`:""}`}else{if(!he)throw new Error("Please select a destination bucket");te=await re.bucketTransfer({fromBucketId:Te,toBucketId:he,assetId:ne,amount:ve});const ae=te.txhash||"";_e=`Successfully transferred ${ln(ve)} from ${Te} to ${he}${ae?`
TxHash: ${ae}`:""}`}}else{const{from:Te,bucketType:he,marginType:ve,amount:ae}=Ie,xe=Ee(ve,he);let Me;if(xe)Me=xe.bucketId,console.log(`[BucketCollection] Using existing ${ve} ${he} bucket: ${Me}`),_e=`Using existing ${ve} margin bucket (${he}): ${Me}`;else{const be=await re.createBucket({collateralAssetIndex:me(he),marginType:ve,initialMargin:"0"});if(!be.success)throw new Error(be.message||"Failed to create bucket");Me=be.bucketId??"",console.log(`[BucketCollection] Created new ${ve} ${he} bucket: ${Me}`),_e=`Successfully created ${ve} margin bucket (${he})`}if(ae>0&&Te==="spot-wallet"){const be=await re.extractToBucket({bucketId:Me,assetId:he,amount:ae});if(!be.success)throw new Error(`${xe?"Bucket found":"Bucket created"} but failed to transfer funds: ${be.error_message||"Unknown error"}`);const Oe=be.txhash||"";_e=`${xe?"Using existing":"Successfully created"} ${ve} margin bucket (${he}) and transferred ${ln(ae)}${Oe?`
TxHash: ${Oe}`:""}`}else if(ae>0&&Te!=="spot-wallet"){const be=await re.bucketTransfer({fromBucketId:Te,toBucketId:Me,assetId:he,amount:ae});if(!be.success)throw new Error(`${xe?"Bucket found":"Bucket created"} but failed to transfer funds: ${be.message||"Unknown error"}`);const Oe=be.txhash||"";_e=`${xe?"Using existing":"Successfully created"} ${ve} margin bucket (${he}) and transferred ${ln(ae)}${Oe?`
TxHash: ${Oe}`:""}`}}console.log("Transfer successful:",te),J.current!==0&&(rt.dismiss(J.current),J.current=0),rt.success("Transfer completed",{description:_e}),C(!1),O(""),D(""),L(10),$(10),B(""),H("cross"),K("cross"),await new Promise(Te=>setTimeout(Te,1e3)),g()}catch(ne){J.current!==0&&(rt.dismiss(J.current),J.current=0);const te=ne instanceof Error?ne.message:"Transfer failed";rt.error("Transfer failed",{description:te,action:Kn(te)}),console.error("Transfer error:",ne)}finally{Y(!1)}},Ke=P.useMemo(()=>{const Ie=ue.map(oe=>({value:oe.bucketId,label:`${oe.bucketId} (${ln(oe.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${ln(f)})`},...Ie]},[ue,f]),qe=P.useMemo(()=>ue.map(Ie=>({bucketId:Ie.bucketId,totalEquity:Ie.totalEquity})),[ue]),it=P.useMemo(()=>M.jsxs(M.Fragment,{children:[M.jsx("div",{onClick:ze,className:"btn-tab",title:U==="non-zero"?"Click to show active buckets":U==="active"?"Click to show dormant buckets":U==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:M.jsx("span",{children:U==="all"?"All":U==="non-zero"?"Non-Zero":U==="dormant"?"Dormant":"Active"})}),M.jsxs("div",{onClick:Ne,className:"btn-tab",children:[M.jsx("img",{src:"/transfer-repu.svg"}),M.jsx("span",{children:"Transfer"})]}),!m&&M.jsxs("div",{onClick:async()=>{g&&await g()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[M.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),M.jsx("span",{children:"Refresh"})]})]}),[U,ze,Ne,m,g]);return P.useEffect(()=>{if(c){if(l&&!h&&!d)return c(it),()=>c(null);c(null)}},[l,c,h,d,it]),!r||r.trim()===""?M.jsx(rV,{message:"Wallet address required to view bucket collections"}):h&&!k&&u.length===0?M.jsx(md,{message:"Loading bucket collections..."}):d?M.jsx(gd,{error:d}):M.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&M.jsx(vd,{title:"BUCKET COLLECTIONS",children:it}),M.jsxs("div",{className:"table-container shrinkable",children:[M.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[M.jsx(Vn,{field:"bucketId",currentSortField:v,sortDirection:b,onSort:Pe,left:!0,children:"Bucket ID"}),M.jsx(Vn,{field:"marginType",currentSortField:v,sortDirection:b,onSort:Pe,children:"Margin Type"}),M.jsx(Vn,{field:"usedMargin",currentSortField:v,sortDirection:b,onSort:Pe,children:"Used Margin"}),M.jsx(Vn,{field:"totalEquity",currentSortField:v,sortDirection:b,onSort:Pe,children:"Total Equity"}),M.jsx(Vn,{field:"riskRatio",currentSortField:v,sortDirection:b,onSort:Pe,left:!1,children:"Risk Ratio"})]}),ue.length===0?M.jsx($o,{message:u.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${u.length} collections (invalid data structure)`}):ue.map((Ie,oe)=>{const ne=n1(Ie),te=If(Ie);return M.jsxs("div",{onClick:()=>Ce(Ie.bucketId,Ie.availableMargin),className:`table-row clickable ${oe%2===0?"even":""} ${S===Ie.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[M.jsx("div",{className:"table-cell primary",children:Ie.bucketId||"---"}),M.jsx("div",{className:"table-cell",children:te.toUpperCase()}),M.jsx("div",{className:"table-cell right monospace",children:ln(Ie.usedMargin||0)}),M.jsx("div",{className:"table-cell right monospace",children:ln(Ie.totalEquity||0)}),M.jsx("div",{className:"table-cell right monospace",style:{color:ne>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:Of(ne)})]},`collection-${Ie.bucketId}-${oe}`)})]}),M.jsx(_de,{isOpen:k,fromValue:E,toValue:R,options:Ke,bucketsData:qe,transferAmount:N,createBucketAmount:W,createBucketType:F,createMarginType:j,transferMarginType:V,onFromChange:O,onToChange:D,onTransferAmountChange:L,onCreateBucketAmountChange:$,onCreateBucketTypeChange:B,onCreateMarginTypeChange:H,onTransferMarginTypeChange:K,onConfirm:$e,onCancel:Qe,spotWalletBalance:f,activeTab:X,onActiveTabChange:ee,isTransferring:q,onOpen:g,collections:ue.map(Ie=>({bucketId:Ie.bucketId,marginType:Ie.marginType}))})]})}const kde=ge.memo(Sde);function Cde({title:n="Dummy Component",message:e="This is a dummy component",height:t}){const[r,i]=P.useState(0);return M.jsxs("div",{className:"layout-container",style:{height:t},children:[M.jsx("div",{className:"layout-header",children:M.jsx("div",{className:"layout-header-title",children:n})}),M.jsxs("div",{style:{padding:"1rem",flex:1},children:[M.jsx("p",{className:"color-text-secondary",children:e}),M.jsxs("div",{style:{marginTop:"1rem"},children:[M.jsxs("p",{className:"color-text-primary",children:["Count: ",r]}),M.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[M.jsx("button",{className:"btn btn-success",onClick:()=>i(r+1),children:"Increment"}),M.jsx("button",{className:"btn btn-danger",onClick:()=>i(0),children:"Reset"})]})]})]})]})}ge.memo(Cde);function d1(n){return n.orderId}function Ede(n){const e=n.useWebSocket!==!1,[t,r]=P.useState([]),[i,s]=P.useState(!0),[o,a]=P.useState(null),[l,c]=P.useState(!1),u=P.useRef(null),h=P.useRef(!1),d=P.useRef(n.walletAddress),f=P.useRef(n);f.current=n;const{subscribe:m,unsubscribe:g,isConnected:v}=Zr(),y=P.useCallback(async()=>{if(!u.current)return;const w=f.current;if(!w.walletAddress||w.walletAddress.trim()===""){a(null),r([]),s(!1);return}a(null);try{const _=(await xO(bO.http,()=>u.current.getOrders(w.walletAddress))).orders||[];if(_.length>0){const k=_.map(DN);r(C=>{if(C.length!==k.length)return k;const E=JSON.stringify(C),O=JSON.stringify(k);return E===O?C:k})}else r(k=>k.length===0?k:[])}catch(S){const _=S instanceof Error?S.message:"Failed to load orders";a(_),console.error("Failed to fetch orders after retries:",S)}finally{s(!1)}},[]),b=P.useCallback(w=>{let S=[];if(typeof w=="object"&&w!==null&&"orders"in w&&Array.isArray(w.orders))S=w.orders;else if(typeof w=="object"&&w!==null&&("order_id"in w||"orderId"in w))S=[w];else{console.warn("Received invalid order data, skipping:",w);return}r(_=>{const k=new Map;_.forEach(R=>{const D=d1(R);D&&k.set(D,R)});for(const R of S){if(!R||typeof R!="object"||!("orderId"in R)||typeof R.orderId!="string"||R.orderId.length===0){console.warn("Received invalid order data, skipping:",R);continue}const D=DN(R),N=d1(D);if(!N){console.warn("Received order without ID, skipping:",D);continue}const L=D.status.toUpperCase();L==="FILLED"||L==="CANCELLED"||L==="REJECTED"||L==="EXPIRED"||L==="CLOSED"||L==="DONE"?k.delete(N):k.set(N,D)}const C=Array.from(k.values()).filter(R=>d1(R)!==void 0);if(_.length!==C.length)return C;const E=JSON.stringify(_),O=JSON.stringify(C);return E===O?_:C})},[]);return P.useEffect(()=>{if(n.walletAddress!==d.current&&(h.current=!1,d.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){s(!1),a(null),r([]),h.current=!1;return}const w=new eo({baseURL:n.baseURL,sessionToken:n.authToken});if(u.current=w,h.current||y().finally(()=>{h.current=!0}),c(v),e){const _=`orders:${n.marketId??"0"}`,k=C=>b(C);return m(_,k),()=>g(_,k)}return()=>{}},[n.baseURL,n.authToken,n.walletAddress,n.marketId,e,v,m,g,y,b]),{orders:t,loading:i,error:o,isConnected:l,refresh:y}}function Tde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=pue,refreshInterval:o=yO,hide_header:a=!1,onRequestHeaderActions:l}){const{client:c}=Zr(),u=e??c,{orders:h,loading:d,error:f,isConnected:m,refresh:g}=Ede({...u!=null&&{subscriptionClient:u},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{client:v,isReady:y}=Ab({baseURL:n,mnemonic:i??""}),b=P.useRef(0),[w,S]=P.useState(null),{getSymbolByMarketId:_}=Ym({baseURL:n,sessionToken:t,autoFetchMarkets:!1}),[k,C]=P.useState(la),[E,O]=P.useState(null),[R,D]=P.useState(Yu),N=P.useMemo(()=>h.filter(K=>{const X=K.status.toUpperCase(),ee=X.startsWith("ORDER_STATUS_")?X:`ORDER_STATUS_${X}`;return k===la?MN.some(q=>X===q.toUpperCase()||ee===q.toUpperCase()):!MN.some(q=>X===q.toUpperCase()||ee===q.toUpperCase())}),[h,k]),L=P.useMemo(()=>E?[...N].sort((K,X)=>{let ee=0,q=0;switch(E){case wN:ee=_(K.marketId)||`m-${K.marketId}`,q=_(X.marketId)||`m-${X.marketId}`;break;case _N:ee=K.side,q=X.side;break;case SN:ee=K.quantity,q=X.quantity;break;case kN:ee=K.price,q=X.price;break;case CN:ee=K.filledQuantity||0,q=X.filledQuantity||0;break;case EN:ee=K.status,q=X.status;break}if(typeof ee=="string"&&typeof q=="string")return R===Aa?ee.localeCompare(q):q.localeCompare(ee);const Y=Number(ee),U=Number(q);return isNaN(Y)||isNaN(U)?0:R===Aa?Y-U:U-Y}):N,[N,E,R]),W=K=>{E===K?D(R===Aa?Yu:Aa):(O(K),D(Yu))},$=K=>K.side,F=K=>{const X=(K||"").toUpperCase(),ee={PENDING:{short:"P",full:"Pending",color:PN},OPEN:{short:"O",full:"Open",color:Lue},FILLED:{short:"F",full:"Filled",color:Fue},CANCELLED:{short:"C",full:"Canceled",color:$ue},PARTIAL:{short:"PF",full:"Partially Filled",color:PN}};return ee[X]?ee[X]:{short:"?",full:K||Que,color:jue}},B=K=>K===om||K==="BUY"?Bue:zue,j=K=>!K||typeof K!="string"?Xue:K.replace("ORDER_TYPE_",""),H=async K=>{var Y;const X=K.orderId,ee=K.marketId;if(!X){const U="Cannot cancel order without a valid order ID.";rt.error("Order ID is missing",{description:U,action:Kn(U)});return}if(!ee){const U="Cannot cancel order without a valid market ID.";rt.error("Market ID is missing",{description:U,action:Kn(U)});return}if(!i){const U=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${X}`;rt.error("Mnemonic required",{description:U,duration:5e3,action:Kn(U)});return}if(typeof i!="string"||i.trim()===""){const U=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${X}`;rt.error("Invalid mnemonic",{description:U,duration:5e3,action:Kn(U)});return}if(w){rt.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}S(X);const q=rt.loading("Canceling order...",{description:`Canceling order ${X}`});b.current=typeof q=="number"?q:0;try{if(!v||!y){rt.error("Exchange client not ready",{description:"Please wait for the exchange client to initialize.",action:Kn("Exchange client not ready")});return}const U=await v.cancelOrder({orderId:X,marketId:ee}),ie=U.success===!0||U.result.success===!0||U&&!U.error&&!U.message;b.current!==0&&(rt.dismiss(b.current),b.current=0);const re=U.txhash;if(ie)rt.success("Order canceled successfully",{description:`Order ${X} has been canceled. TX: ${re}`}),g&&await g();else{const se=(U==null?void 0:U.error)||(U==null?void 0:U.message)||((Y=U==null?void 0:U.response)==null?void 0:Y.error)||"Failed to cancel order";throw new Error(se)}}catch(U){b.current!==0&&(rt.dismiss(b.current),b.current=0);const re=`${U instanceof Error?U.message:"Unknown error occurred"}. Order ID: ${X}`;rt.error("Failed to cancel order",{description:re,duration:6e3,action:Kn(re)})}finally{S(null)}},V=P.useMemo(()=>M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"btn-tab",children:[M.jsx("span",{style:{fontSize:"0.7rem"},children:""}),M.jsx("span",{children:"Current Symbol"})]}),M.jsxs("div",{onClick:()=>C(k===la?TN:la),className:`btn-tab ${k===TN?"active":""}`,children:[M.jsx("img",{src:"/transfer-net.svg"}),M.jsx("span",{children:k===la?Kue:Vue})]}),!m&&M.jsxs("div",{onClick:async()=>{g&&await g()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[M.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),M.jsx("span",{children:"Refresh"})]})]}),[k,m,g]);return P.useEffect(()=>{if(l){if(a&&!d&&!f)return l(V),()=>l(null);l(null)}},[a,l,d,f,V]),!r||r.trim()===""?M.jsx(rV,{message:Gue}):d?M.jsx(md,{message:que}):f?M.jsx(gd,{error:f}):M.jsxs("div",{className:"layout-container",style:{height:s,...a?{borderRadius:0,background:"transparent"}:{}},children:[!a&&M.jsx(vd,{title:k===la?Wue:Yue,children:V}),M.jsxs("div",{className:"table-container shrinkable",children:[M.jsxs("div",{className:"table-header",style:{gridTemplateColumns:IN},children:[M.jsx(Vn,{field:wN,currentSortField:E,sortDirection:R,onSort:W,children:"Symbol"}),M.jsx(Vn,{field:_N,currentSortField:E,sortDirection:R,onSort:W,children:"Side"}),M.jsx(HM,{center:!0,children:"Type"}),M.jsx(Vn,{field:SN,currentSortField:E,sortDirection:R,onSort:W,children:"Quantity"}),M.jsx(Vn,{field:kN,currentSortField:E,sortDirection:R,onSort:W,children:"Price"}),M.jsx(Vn,{field:CN,currentSortField:E,sortDirection:R,onSort:W,children:"Filled"}),M.jsx(Vn,{field:EN,currentSortField:E,sortDirection:R,onSort:W,children:"Status"}),M.jsx(HM,{center:!0,children:"Actions"})]}),L.length===0?M.jsx($o,{message:k===la?Uue:Hue}):L.map((K,X)=>{const ee=$(K),q=B(ee),{short:Y,full:U,color:ie}=F(K.status),re=_(K.marketId)||`m-${K.marketId}`;return M.jsxs("div",{className:`table-row ${X%2===0?"even":""}`,style:{gridTemplateColumns:IN},children:[M.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:M.jsx("span",{children:re})}),M.jsx("div",{className:"table-cell center",style:{color:q,fontWeight:500},children:ee}),M.jsx("div",{className:"table-cell center",children:j(K.type)}),M.jsx("div",{className:"table-cell right monospace",children:K.quantity}),M.jsx("div",{className:"table-cell right monospace",children:K.price}),M.jsxs("div",{className:"table-cell right monospace",children:[K.filledQuantity," / ",K.quantity]}),M.jsx("div",{className:"table-cell center",style:{color:ie,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:U,children:Y}),M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:k===la?M.jsxs(M.Fragment,{children:[(!i||i.trim()==="")&&M.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),M.jsx(yde,{onClick:se=>{se.preventDefault(),se.stopPropagation(),!i||i.trim()===""||w===K.orderId||!!w||H(K)},disabled:!i||i.trim()===""||w===K.orderId||!!w})]}):M.jsx("span",{className:"color-text-dim",children:""})})]},`order-${K.orderId}`)})]})]})}const Mde=ge.memo(Tde);function Pde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=fue,refreshInterval:o=yO,selectedBucketId:a=null,hide_header:l=!1,onRequestHeaderActions:c}){const{client:u}=Zr(),h=e??u,{positions:d,loading:f,error:m,isConnected:g,refresh:v}=Ahe({...h!=null&&{subscriptionClient:h},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{client:y,isReady:b,error:w}=Ab({baseURL:n,mnemonic:i??""});P.useEffect(()=>{if(w){const $=w.message;console.error("Failed to initialize FiClient:",w),rt.error("Exchange client initialization failed",{description:$,action:Kn($)})}},[w]);const[S,_]=P.useState(e1),[k,C]=P.useState(null),[E,O]=P.useState(Yu),R=P.useMemo(()=>{let $=[...d];return S===y0&&a&&($=$.filter(F=>{const B=F.bucketId.toString(),j=a.toString();return B===j})),k?$.sort((F,B)=>{let j=0,H=0;switch(k){case fN:j=F.symbol||"",H=B.symbol||"";break;case pN:try{j=F.leverage??0,H=B.leverage??0}catch{j=0,H=0}break;case mN:j=F.size||0,H=B.size||0;break;case gN:j=F.liquidationPrice||0,H=B.liquidationPrice||0;break;case vN:j=F.unrealizedPnL||0,H=B.unrealizedPnL||0;break;case yN:j=F.entryPrice||0,H=B.entryPrice||0;break;case bN:j=F.margin||0,H=B.margin||0;break}if(typeof j=="string"&&typeof H=="string")return E===Aa?j.localeCompare(H):H.localeCompare(j);const V=Number(j),K=Number(H);return E===Aa?V-K:K-V}):$},[d,k,E,a,S]),D=$=>{k===$?O(E===Aa?Yu:Aa):(C($),O(Yu))},N=P.useRef(0),L=async $=>{if(!i){const B="Please provide the 'mnemonic' prop to enable position closing.";rt.error("Mnemonic required",{description:B,action:Kn(B)});return}if(!y||!b){const B="Please wait for the exchange client to initialize.";rt.error("Exchange client not ready",{description:B,action:Kn(B)});return}const F=rt.loading("Closing position...",{description:`Closing ${$.side} position for ${$.symbol} (Size: ${yy($.size)})`});N.current=typeof F=="number"?F:0;try{const B=await y.closePosition({positionId:$.positionId,marketId:$.marketId,marketPrice:$.markPrice,quantity:$.size});N.current!==0&&(rt.dismiss(N.current),N.current=0),rt.success("Position closed successfully",{description:`${$.side} position for ${$.symbol} has been closed. tx: ${B.txhash}`,duration:5e3}),v&&await v()}catch(B){N.current!==0&&(rt.dismiss(N.current),N.current=0);const j=B instanceof Error?B.message:"Unknown error occurred";rt.error("Failed to close position",{description:j,duration:6e3,action:Kn(j)}),console.error("Failed to close position:",B)}},W=P.useMemo(()=>M.jsxs(M.Fragment,{children:[M.jsx("div",{onClick:()=>{_(e1),C(null)},className:`btn-tab ${S===e1?"active":""}`,children:Iue}),M.jsxs("div",{onClick:()=>{_(y0),C(null)},className:`btn-tab ${S===y0?"active":""}`,children:[M.jsx("img",{src:"/bucket-g.svg"}),M.jsx("span",{children:Oue})]}),!g&&M.jsxs("div",{onClick:async()=>{v&&await v()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[M.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),M.jsx("span",{children:"Refresh"})]})]}),[S,g,v]);return P.useEffect(()=>{if(c){if(l&&!f&&!m)return c(W),()=>c(null);c(null)}},[l,c,f,m,W]),f?M.jsx(md,{message:Tue}):m?M.jsx(gd,{error:m}):M.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&M.jsx(vd,{title:`${Pue} ${S===y0&&a?`(Bucket ${a})`:""}`,children:W}),M.jsxs("div",{className:"table-container",children:[M.jsxs("div",{className:"table-header",style:{gridTemplateColumns:xN},children:[M.jsx(Vn,{field:fN,currentSortField:k,sortDirection:E,onSort:D,left:!0,children:"Symbol"}),M.jsx(Vn,{field:pN,currentSortField:k,sortDirection:E,onSort:D,children:"Leverage"}),M.jsx(Vn,{field:mN,currentSortField:k,sortDirection:E,onSort:D,children:"Size"}),M.jsx(Vn,{field:gN,currentSortField:k,sortDirection:E,onSort:D,children:"Liq. Price"}),M.jsx(Vn,{field:vN,currentSortField:k,sortDirection:E,onSort:D,children:"P/L"}),M.jsx(Vn,{field:yN,currentSortField:k,sortDirection:E,onSort:D,children:"Entry Price"}),M.jsx(Vn,{field:bN,currentSortField:k,sortDirection:E,onSort:D,children:"Margin"}),M.jsx(HM,{center:!0,children:"Actions"})]}),R.length===0?M.jsx($o,{message:Mue}):R.map(($,F)=>{const B=$.side===om,j=($.unrealizedPnL||0)>=0?Cue:Eue,H=dde($.leverage,t1);return M.jsxs("div",{className:`table-row ${F%2===0?"even":""}`,style:{gridTemplateColumns:xN},children:[M.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:M.jsx("span",{children:$.symbol})}),M.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${B?om:qM}  ${H===t1?t1:H}x @ ${$.marginMode||sm}`}),M.jsx("div",{className:"color-buy right monospace",children:yy($.size)}),M.jsx("div",{className:"table-cell right monospace",children:vy($.liquidationPrice)}),M.jsx("div",{className:"table-cell right monospace",style:{color:j,fontWeight:500},children:hde($.unrealizedPnL)}),M.jsx("div",{className:"table-cell right monospace",children:vy($.entryPrice)}),M.jsx("div",{className:"table-cell right monospace",children:ude($.margin)}),M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:M.jsx(bde,{onClick:()=>L($)})})]},`position-${$.marketId}-${F}`)})]})]})}const Ide=ge.memo(Pde),YN={orders:"Orders",positions:"Positions",buckets:"Buckets"};function Ode({baseURL:n,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s="400px",refreshInterval:o,selectedBucketId:a=null,onBucketSelect:l}){const{client:c}=Zr(),u=e??c,[h,d]=P.useState("orders"),[f,m]=P.useState(null),g=Object.keys(YN).map(v=>({id:v,label:YN[v]}));return M.jsxs("div",{className:"layout-container tab-section-root",style:{height:s},children:[M.jsx(vde,{tabs:g,activeTabId:h,onTabChange:v=>d(v),children:f}),M.jsxs("div",{className:"tab-section-content",children:[h==="orders"&&M.jsx(Mde,{baseURL:n,subscriptionClient:u,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,hide_header:!0,onRequestHeaderActions:m}),h==="positions"&&M.jsx(Ide,{baseURL:n,subscriptionClient:u,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,selectedBucketId:a,hide_header:!0,onRequestHeaderActions:m}),h==="buckets"&&M.jsx(kde,{baseURL:n,subscriptionClient:u,walletAddress:r,mnemonic:i??"",authToken:t,height:"100%",refreshInterval:o,onBucketSelect:l,hide_header:!0,onRequestHeaderActions:m})]})]})}const Rde=ge.memo(Ode);function Dde({baseURL:n=pd,selectedMarketId:e,height:t,onMarketSelect:r,favorites:i=[],onFavoriteToggle:s}){const{markets:o,tickers:a,selectedMarketId:l,setSelectedMarketId:c}=Ym({baseURL:n,autoFetchMarkets:!0}),{subscribe:u,unsubscribe:h,isConnected:d,getRetainedDataByKey:f}=Zr(),[m,g]=P.useState(new Set(i)),[v,y]=P.useState("1H"),[b,w]=P.useState(null),S=P.useRef(null),_=P.useRef(null),k=e||l||null,{latestFundingRate:C}=Dhe({marketId:k||"",historyDepth:1}),E=P.useMemo(()=>{if(!(C!=null&&C.fundingRate))return null;try{return nt(C.fundingRate)}catch(U){return console.error("[TickerBar] Error converting funding rate:",U),null}},[C]),O=P.useMemo(()=>{if(!(C!=null&&C.indexPrice))return null;try{return nt(C.indexPrice)}catch(U){return console.error("[TickerBar] Error converting index price:",U),null}},[C]),R=P.useMemo(()=>{if(!(C!=null&&C.openInterestLong))return null;try{return nt(C.openInterestLong)}catch(U){return console.error("[TickerBar] Error converting open interest long:",U),null}},[C]),D=P.useMemo(()=>{if(!(C!=null&&C.openInterestShort))return null;try{return nt(C.openInterestShort)}catch(U){return console.error("[TickerBar] Error converting open interest short:",U),null}},[C]),N=P.useMemo(()=>{const U=(C==null?void 0:C.longPercentage)!=null?nt(C.longPercentage):null,ie=(C==null?void 0:C.shortPercentage)!=null?nt(C.shortPercentage):null;return U!=null&&ie!=null?`${Of(U)} / ${Of(ie)}`:null},[C]),L=P.useMemo(()=>{if(!(C!=null&&C.markPrice))return null;try{return nt(C.markPrice)}catch(U){return console.error("[TickerBar] Error converting mark_price:",U),null}},[C]),W=P.useMemo(()=>b!==null?b:L,[b,L]),$=P.useMemo(()=>{const U=new Set(m);return i.forEach(ie=>U.add(ie)),U},[i,m]),F=P.useMemo(()=>o.map(U=>{const ie=U.index??U.marketIndex??"",re=a.get(ie),se=U.moniker||U.symbol||(U.baseAsset&&U.quoteAsset?`${U.baseAsset}/${U.quoteAsset}`:"Unknown"),Q=!U.active||!(re!=null&&re.lastPrice)||typeof re.lastPrice=="string"&&re.lastPrice==="0";let J=null;re!=null&&re.lastPrice&&(typeof re.lastPrice=="string"?J=parseFloat(re.lastPrice):J=re.lastPrice);let ue=null;return re!=null&&re.priceChangePercent24h&&(typeof re.priceChangePercent24h=="string"?ue=parseFloat(re.priceChangePercent24h):ue=re.priceChangePercent24h),{marketId:ie,symbol:se,price:J,priceChangePercent:ue,isClosed:Q,isFavorite:$.has(ie)}}).filter(U=>U.marketId),[o,a,$]),B=P.useMemo(()=>k?o.find(U=>U.index===k||U.marketIndex===k):null,[o,k]),j=P.useMemo(()=>k?a.get(k):null,[a,k]),H=P.useMemo(()=>B?B.moniker||B.symbol||(B.baseAsset&&B.quoteAsset?`${B.baseAsset}/${B.quoteAsset}`:"Unknown"):"Select Market",[B]),V=P.useMemo(()=>{if(!B)return"";const U=B.baseAsset||"",ie=B.quoteAsset||"";return U&&ie?`${U} to ${ie}`:B.moniker||B.symbol||""},[B]),K=P.useMemo(()=>j!=null&&j.lastPrice?typeof j.lastPrice=="string"?parseFloat(j.lastPrice):j.lastPrice:null,[j]),X=P.useMemo(()=>j!=null&&j.priceChangePercent24h?typeof j.priceChangePercent24h=="string"?parseFloat(j.priceChangePercent24h):j.priceChangePercent24h:null,[j]);P.useEffect(()=>{if(!k||!d){w(null);return}const ie=`priceFeed:${k}`,re=f==null?void 0:f(ie);if(re&&typeof re=="object"&&"price"in re)try{const Q=nt(re.price);w(Q)}catch(Q){console.error("[TickerBar] Error processing retained priceFeed:",Q)}const se=Q=>{try{if(Q&&typeof Q=="object"&&Q!==null&&"price"in Q){const J=nt(Q.price);w(J)}}catch(J){console.error("[TickerBar] Error processing priceFeed update:",J)}};return _.current=se,u(ie,se),()=>{_.current&&(h(ie,_.current),_.current=null)}},[k,d,u,h,f]);const ee=U=>{r?r(U):c(U)},q=(U,ie)=>{ie.stopPropagation();const re=new Set($);re.has(U)?re.delete(U):re.add(U),g(re),s&&s(U)},Y=U=>{var se;const ie=((se=U.split("/")[0])==null?void 0:se.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[ie]||ie.charAt(0)||"?"};return M.jsxs("div",{className:"ticker-bar-container",style:t?{height:t}:void 0,children:[M.jsx("div",{className:"ticker-bar-top",ref:S,children:M.jsx("div",{className:"ticker-bar-scroll",children:F.map((U,ie)=>M.jsxs(ge.Fragment,{children:[M.jsxs("div",{className:`ticker-item ${U.marketId===k?"active":""}`,onClick:()=>ee(U.marketId),children:[M.jsx("span",{className:"ticker-favorite-star",onClick:re=>q(U.marketId,re),style:{cursor:"pointer",opacity:U.isFavorite?1:.3},children:""}),M.jsx("span",{className:"ticker-asset-icon",children:Y(U.symbol)}),M.jsx("span",{className:"ticker-symbol",children:U.symbol}),M.jsx("span",{className:"ticker-value",children:U.isClosed?M.jsx("span",{className:"ticker-closed",children:"CLOSED"}):U.price!==null?Fl(U.price):"--"})]}),ie<F.length-1&&M.jsx("div",{className:"ticker-separator"})]},U.marketId))})}),M.jsxs("div",{className:"ticker-bar-bottom",children:[M.jsxs("div",{className:"ticker-detail-left",children:[M.jsx("div",{className:"ticker-detail-icon-large",children:B?Y(H):"?"}),M.jsxs("div",{className:"ticker-detail-symbol-group",children:[M.jsx("div",{className:"ticker-detail-symbol-row",children:M.jsx("span",{className:"ticker-detail-symbol",children:H})}),M.jsx("div",{className:"ticker-detail-description",children:V})]}),M.jsxs("div",{className:"ticker-detail-price-group",children:[M.jsx("div",{className:"ticker-detail-price",children:K!==null?Fl(K):"--"}),X!==null&&M.jsxs("div",{className:`ticker-detail-change ${X>=0?"positive":"negative"}`,children:[X>=0?"+":"",Of(X/100)]})]})]}),M.jsxs("div",{className:"ticker-detail-metrics",children:[M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Index Price",children:"Index Price"}),M.jsx("span",{className:"ticker-metric-value",children:O!==null?Fl(O):"--"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),M.jsx("span",{className:"ticker-metric-value",children:W!==null?Fl(W):"--"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),M.jsx("span",{className:"ticker-metric-value",children:R!==null?WN(R):"--"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),M.jsx("span",{className:"ticker-metric-value",children:D!==null?WN(D):"--"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),M.jsx("span",{className:"ticker-metric-value",children:N??"--"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),M.jsx("span",{className:`ticker-metric-value ${E!==null&&E<0?"negative":E!==null&&E>0?"positive":""}`,children:E!==null?Of(E):"--"})]})]}),M.jsxs("div",{className:"ticker-detail-right",children:[M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),M.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),M.jsxs("div",{className:"ticker-metric",children:[M.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),M.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),M.jsx("div",{className:"ticker-timeframe-selector",children:M.jsxs("select",{className:"ticker-timeframe-select",value:v,onChange:U=>y(U.target.value),children:[M.jsx("option",{value:"1H",children:"1H"}),M.jsx("option",{value:"4H",children:"4H"}),M.jsx("option",{value:"1D",children:"1D"}),M.jsx("option",{value:"1W",children:"1W"}),M.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const Ade=ge.memo(Dde),Nde=P.forwardRef(function({baseURL:e=pd,mnemonic:t=BM,marketId:r,marketSymbol:i,selectedBucketBalance:s,selectedBucketId:o,onLeverageClick:a,onNumberCalculatorClick:l,authToken:c,walletAddress:u},h){const{client:d}=Zr(),{selectedMarketId:f,selectedMarketSymbol:m}=Ym({baseURL:e,autoFetchMarkets:!0}),g=r||f||"",v=i||m||"",{lastPrice:y}=tV({baseURL:e,marketId:g}),b=(y==null?void 0:y.price)||0,w=P.useRef(0),S=P.useRef(0),_=P.useRef(!1),{collections:k,spotWalletBalance:C}=nV({subscriptionClient:d,baseURL:e,walletAddress:u||"",authToken:c||"",useWebSocket:!!u&&!!c}),E=P.useMemo(()=>!o||!k.length?null:k.find(je=>je.bucketId===o)||null,[k,o]),{orderType:O,setOrderType:R,fundPercent:D,sizeInput:N,price:L,leverage:W,marginMode:$,availableBalance:F,currentPrice:B,isReady:j,loading:H,result:V,setFundPercent:K,setSizeInput:X,setPrice:ee,setMarginMode:q,setLeverage:Y,placeBuyOrder:U,placeSellOrder:ie,changeLeverage:re,calculateValue:se,calculateMargin:Q,calculateSizeUSD:J,getOrderPrice:ue,getAvailableTradeAmount:me}=xhe({baseURL:e,mnemonic:t,marketId:g,marketSymbol:v,selectedBucketBalance:s,selectedBucketId:o||void 0,tradePrice:b}),Ee=P.useMemo(()=>ue(),[ue,O,L,B]),Pe=P.useMemo(()=>me(),[me,F,W]),Ce=P.useMemo(()=>se(),[se,N,D,F,Ee,W]),Ne=P.useMemo(()=>Q(),[Q,W,Ce]),Qe=P.useMemo(()=>Ln(String(Ce)),[Ce]),ze=P.useMemo(()=>Ln(String(Ne)),[Ne]),$e=P.useMemo(()=>({minimumFractionDigits:aa,maximumFractionDigits:_ue}),[]),Ke=P.useMemo(()=>B.toFixed(aa),[B]),qe=P.useMemo(()=>{const je=k.reduce((Ue,Re)=>Ue+Re.totalEquity,0);return C+je},[k,C]),it=P.useMemo(()=>qe.toLocaleString("en-US",$e),[qe,$e]),Ie=P.useMemo(()=>C.toLocaleString("en-US",$e),[C,$e]),oe=P.useMemo(()=>E?E.totalEquity.toLocaleString("en-US",$e):"--",[E,$e]),ne=P.useMemo(()=>E?E.totalEquity.toLocaleString("en-US",$e):"--",[E,$e]),te=P.useMemo(()=>E?E.unrealizedPnL.toLocaleString("en-US",$e):"--",[E,$e]),_e=P.useMemo(()=>E?(E.marginRatio*100).toFixed(aa)+"%":"--",[E]),Te=P.useMemo(()=>E?E.usedMargin.toLocaleString("en-US",$e):"--",[E,$e]),he=P.useMemo(()=>E?`${E.leverage.toFixed(aa)}x`:"--",[E]),ve=P.useMemo(()=>fde(o||null),[o]);P.useEffect(()=>{if(E){const je=If(E);(je===sm||je===Sue)&&q(je)}},[E,q]);const ae=P.useCallback(()=>{R(zM)},[R]),xe=P.useCallback(()=>{R(Zw)},[R]),Me=P.useCallback(()=>{K(Math.min(Qw,D+Jw))},[D,K]),be=P.useCallback(()=>{K(Math.max(v0,D-Jw))},[D,K]),Oe=P.useCallback(je=>{const Ue=parseInt(je.target.value);K(Ue)},[K]),mt=P.useCallback(je=>{ee(parseFloat(je.target.value))},[ee]),[rn,Gt]=P.useState(!1),[Cn,nr]=P.useState(""),st=P.useCallback(je=>{const Ue=je.target.value;nr(Ue);const Re=parseFloat(Ue),$t=isNaN(Re)?0:Math.round(Re*1e6)/1e6;X($t)},[X]),ft=P.useCallback(()=>{Gt(!0),nr(qoe(N))},[N]),De=P.useCallback(()=>{Gt(!1);const je=parseFloat(Cn);X(je),nr("")},[Cn,X]),pe=P.useCallback(()=>{const je=rt.loading("Submit transaction...",{description:"Placing buy order"});w.current=typeof je=="number"?je:0,U()},[U]),ct=P.useCallback(()=>{const je=rt.loading("Submit transaction...",{description:"Placing sell order"});w.current=typeof je=="number"?je:0,ie()},[ie]),yt=P.useCallback(async(je,Ue)=>{_.current=!0;const Re=rt.loading("Changing leverage...",{description:`Updating leverage to ${je}x`});S.current=typeof Re=="number"?Re:0;try{const $t=(Ue==null?void 0:Ue.leverageType)||($===sm?"cross":"isolated"),Xe=(Ue==null?void 0:Ue.bucketId)||o||"";await re(je,{...Ue,bucketId:Xe,leverageType:$t})}catch($t){_.current=!1,S.current!==0&&(rt.dismiss(S.current),S.current=0);const Xe=$t instanceof Error?$t.message:"Unknown error";rt.error("Leverage Change Failed",{description:Xe,action:Kn(Xe)})}},[re,$,o]);return P.useImperativeHandle(h,()=>({leverage:W,setLeverage:Y,calculateMaxRatio:je=>{const Re=J();return F>0&&Re>0?(Re/F).toFixed(aa):je.toFixed(aa)},changeLeverage:yt,setPrice:je=>{const Ue=typeof je=="number"?je:parseFloat(je);isNaN(Ue)||ee(Ue)},setSizeInput:je=>{X(je)},getSizeInput:()=>N,getAvailableTradeAmount:()=>Pe}),[W,Y,J,ue,F,yt,ee,X,N,Pe]),P.useEffect(()=>{if(V)if(_.current)if(_.current=!1,S.current!==0&&(rt.dismiss(S.current),S.current=0),V.success){const je=V.orderId?`Transaction: ${V.orderId}`:V.message||"Leverage changed successfully";rt.success("Leverage Changed Successfully",{description:je})}else V.error&&rt.error("Leverage Change Failed",{description:V.error,action:Kn(V.error||"")});else if(w.current!==0&&(rt.dismiss(w.current),w.current=0),V.success){const je=V.orderId?`Order ID: ${V.orderId}`:V.message||"Order placed successfully";rt.success("Order Placed Successfully",{description:je})}else V.error&&rt.error("Order Failed",{description:V.error,action:Kn(V.error||"")})},[V]),M.jsxs("div",{className:"component",children:[M.jsx("h2",{children:v}),M.jsxs("div",{className:"trade-op-config",children:[M.jsxs("div",{className:"trade-op-badge",children:[M.jsx("span",{className:"trade-op-badge-label",children:$}),M.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),M.jsxs("div",{className:"trade-op-badge",onClick:a,style:{cursor:"pointer"},children:[M.jsxs("span",{className:"trade-op-badge-label",children:[W,"x"]}),M.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),M.jsxs("div",{className:"trade-op-order-type-selector",children:[M.jsx("button",{onClick:ae,className:`btn-toggle ${O===zM?"active":""}`,children:"MARKET"}),M.jsx("button",{onClick:xe,className:`btn-toggle ${O===Zw?"active":""}`,children:"LIMIT"})]}),O===Zw&&M.jsx("div",{className:"trade-op-form-group",children:M.jsxs("div",{className:"trade-op-form-row",children:[M.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),M.jsx("input",{id:"price",type:"number",value:L,onChange:mt,placeholder:Ke,step:yue,min:dN})]})}),M.jsxs("div",{className:"trade-op-form-group",children:[M.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[M.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),M.jsx("span",{className:"trade-op-icon",onClick:l,children:M.jsx("img",{src:"cal.svg"})}),M.jsxs("div",{className:"trade-op-size-controls",children:[M.jsx("input",{id:"size",type:"number",step:"0.000001",value:rn?Cn:N,onChange:st,onFocus:ft,onBlur:De,placeholder:"0",min:dN,max:Pe,className:"trade-op-input"}),M.jsxs("div",{className:"trade-op-size-buttons",children:[M.jsx("button",{onClick:Me,className:"btn-small",children:""}),M.jsx("button",{onClick:be,className:"btn-small",children:""})]})]})]}),M.jsx("input",{type:"range",min:v0,max:Qw,value:D,onChange:Oe,step:Jw,style:{width:"100%","--slider-progress":`${(D-v0)/(Qw-v0)*100}%`},className:"filled-slider"}),M.jsxs("div",{className:"trade-op-slider-labels",children:[M.jsx("span",{children:"0"}),M.jsx("span",{children:"20"}),M.jsx("span",{children:"40"}),M.jsx("span",{children:"60"}),M.jsx("span",{children:"80"}),M.jsx("span",{children:"100"})]})]}),M.jsxs("div",{className:"trade-op-action-panel",children:[M.jsxs("div",{children:[M.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),M.jsxs("div",{className:"trade-op-panel-size",children:[N.toFixed(3),"/100.000"]}),M.jsx("button",{onClick:pe,disabled:H||!j||Ce<=0,className:"btn-buy",children:H?"PLACING...":"BUY LONG"}),M.jsxs("div",{className:"trade-op-panel-details",children:[M.jsxs("div",{children:["Value ",Qe.toFixed(2)]}),M.jsxs("div",{children:["Margin ",ze.toFixed(2)]})]})]}),M.jsxs("div",{children:[M.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),M.jsxs("div",{className:"trade-op-panel-size",children:[N.toFixed(3),"/100.000"]}),M.jsx("button",{onClick:ct,disabled:H||!j||Ce<=0,className:"btn-sell",children:H?"PLACING...":"SELL SHORT"}),M.jsxs("div",{className:"trade-op-panel-details",children:[M.jsxs("div",{children:["Value ",Qe.toFixed(aa)]}),M.jsxs("div",{children:["Margin ",ze.toFixed(aa)]})]})]})]}),M.jsxs("div",{className:"trade-op-info-panel",children:[M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),M.jsxs("span",{className:"trade-op-info-value",children:[it," USDC"]})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),M.jsxs("span",{className:"trade-op-info-value",children:[Ie," USDC"]})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsxs("span",{className:"trade-op-info-label",children:[o||"Bucket",":"]}),M.jsxs("span",{className:"trade-op-info-value",children:[oe," USDC"]})]}),M.jsx("div",{className:"trade-op-info-row",children:M.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",ve]})}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),M.jsxs("span",{className:"trade-op-info-value",children:[ne," USDC"]})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),M.jsxs("span",{className:"trade-op-info-value",children:[te," USDC"]})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),M.jsx("span",{className:"trade-op-info-value",children:_e})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),M.jsxs("span",{className:"trade-op-info-value",children:[Te," USDC"]})]}),M.jsxs("div",{className:"trade-op-info-row",children:[M.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),M.jsx("span",{className:"trade-op-info-value",children:he})]})]})]})});function Lde({baseURL:n=pd,marketId:e=mue,limit:t=gue}){const{lastPrice:r,displayPrice:i,recentTrades:s,loading:o,error:a,isConnected:l,priceChange:c}=tV({baseURL:n,marketId:e}),u=P.useRef(null),h=P.useRef(""),d=P.useRef(null),f=P.useCallback(()=>{const C=u.current;if(!C)return;const E=C.parentElement;if(!E)return;const O=C.textContent||"";if(!O)return;const R=window.getComputedStyle(E),D=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight),N=E.clientWidth-D;let L=12,W=48,$=L;const F=document.createElement("div");for(F.style.position="absolute",F.style.visibility="hidden",F.style.whiteSpace="nowrap",F.style.fontFamily=window.getComputedStyle(C).fontFamily,F.style.fontWeight=window.getComputedStyle(C).fontWeight,document.body.appendChild(F);L<=W;){const j=Math.floor((L+W)/2);F.style.fontSize=`${j}px`,F.textContent=O,F.offsetWidth<=N?($=j,L=j+1):W=j-1}document.body.removeChild(F);const B=parseFloat(window.getComputedStyle(C).fontSize);Math.abs(B-$)>.5&&(C.style.fontSize=`${$}px`)},[]);P.useEffect(()=>{if(i==null)return;const C=Fl(i);if(C===h.current)return;h.current=C,d.current!==null&&clearTimeout(d.current),d.current=window.setTimeout(()=>{f()},150);let E;const O=()=>{clearTimeout(E),E=window.setTimeout(()=>{d.current!==null&&clearTimeout(d.current),d.current=window.setTimeout(()=>{f()},150)},100)};return window.addEventListener("resize",O),()=>{d.current!==null&&clearTimeout(d.current),E!==void 0&&clearTimeout(E),window.removeEventListener("resize",O)}},[i,f]);const m=P.useCallback(C=>{if(!C||isNaN(C)||C<=0)return"Invalid";let E=C;E<9466848e5&&(E=E*1e3);const O=new Date(E);return isNaN(O.getTime())?"Invalid":O.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),g=P.useCallback(C=>C?"#51cf66":"#ff6b6b",[]),v=P.useCallback(C=>C?"BUY":"SELL",[]),y=P.useCallback(C=>C?"":"",[]);if(o)return M.jsx(md,{message:"Loading trade price..."});if(a)return M.jsx(gd,{error:a});if(i==null)return M.jsx($o,{message:"No trade data available"});const b=r&&r.isBuyerMaker!==void 0,w=b?g(r.isBuyerMaker):"#888",S=b?v(r.isBuyerMaker):"N/A",_=b?y(r.isBuyerMaker):"",k=c==="up"?"flash-price-up":c==="down"?"flash-price-down":"";return M.jsxs("div",{className:"layout-container trade-price-container",children:[M.jsx(vd,{title:M.jsx(wO,{isConnected:l}),children:M.jsx("div",{children:"Last Trade Price"})}),M.jsxs("div",{className:`trade-price-main ${k}`,children:[M.jsx("div",{ref:u,className:"trade-price-value",style:{color:w},children:Fl(i)}),M.jsxs("div",{className:"trade-price-side",style:{color:w},children:[M.jsx("span",{children:_}),M.jsx("span",{children:S})]})]}),M.jsx("div",{className:"trade-price-trades-table",children:s.length===0?M.jsx("div",{className:"message",children:"No trades available"}):M.jsxs("table",{children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"Time"}),M.jsx("th",{className:"right",children:"Size"}),M.jsx("th",{className:"right",children:"Price"})]})}),M.jsx("tbody",{children:s.map((C,E)=>{const O=C.isBuyerMaker?"#51cf66":"#ff6b6b";return M.jsxs("tr",{children:[M.jsx("td",{children:m(C.time)}),M.jsx("td",{className:"right",children:cde(C.size)}),M.jsx("td",{className:"right price",style:{color:O},children:Fl(C.price)})]},`${E}-${C.time}-${C.price}-${C.size}`)})})]})})]})}const Fde=ge.memo(Lde),sV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return M.jsxs("div",{className:`orderbook-level ask${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[M.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${r}%`}}),M.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),M.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),M.jsx("div",{className:"orderbook-depth-indicator",children:M.jsx("div",{className:"orderbook-depth-line ask"})})]})},oV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return M.jsxs("div",{className:`orderbook-level bid${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[M.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${r}%`}}),M.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),M.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),M.jsx("div",{className:"orderbook-depth-indicator",children:M.jsx("div",{className:"orderbook-depth-line bid"})})]})};function $de({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=VG,height:i=GG,onPriceClick:s}){var O,R;const{asks:o,bids:a,spread:l,midPrice:c,loading:u,error:h,isConnected:d,wsError:f}=JG({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r}),m=P.useRef(null),g=P.useRef(null),v=P.useRef(null),y=P.useRef(0),b=P.useRef(0);P.useEffect(()=>{const D=o.length!==y.current,N=a.length!==b.current;if(!(!D&&!N))return y.current=o.length,b.current=a.length,v.current!==null&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(m.current&&D){const L=m.current;L.scrollTop=L.scrollHeight}if(g.current&&N){const L=g.current;L.scrollTop=0}v.current=null}),()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)}},[o.length,a.length]);const w=o.length>0?((O=o[o.length-1])==null?void 0:O.cumulative)??0:0,S=a.length>0?((R=a[a.length-1])==null?void 0:R.cumulative)??0:0,_=P.useMemo(()=>Math.max(w,S),[w,S]),k=vy,C=yy,E=P.useCallback(D=>_===0?0:D/_*100,[_]);return u?M.jsx(md,{message:"Loading orderbook..."}):h?M.jsx(gd,{error:h}):M.jsxs("div",{className:"layout-container",style:{height:i},children:[f&&(o.length>0||a.length>0)&&M.jsxs("div",{className:"orderbook-ws-warning",children:[M.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),M.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),M.jsx(vd,{title:M.jsx(wO,{isConnected:d}),children:M.jsxs("div",{children:["Depth: ",r]})}),c&&M.jsxs("div",{className:"orderbook-mid-price",children:[M.jsx("div",{className:"orderbook-mid-price-value",children:k(c)}),l!==void 0&&M.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",k(l)]})]}),M.jsxs("div",{className:"orderbook-content",children:[M.jsxs("div",{className:"orderbook-section",ref:m,children:[o.map((D,N)=>{const L=w-D.cumulative+D.size,W=E(L);return M.jsx(sV,{level:D,index:N,isLast:N===o.length-1,depthPercent:W,formatPrice:k,formatSize:C,onPriceClick:s},`ask-${D.price}-${N}`)}),o.length===0&&M.jsx($o,{message:"No ask orders"})]}),M.jsxs("div",{className:"orderbook-section bids",ref:g,children:[a.map((D,N)=>{const L=E(D.cumulative);return M.jsx(oV,{level:D,index:N,isLast:N===a.length-1,depthPercent:L,formatPrice:k,formatSize:C,onPriceClick:s},`bid-${D.price}-${N}`)}),a.length===0&&M.jsx($o,{message:"No bid orders"})]})]}),M.jsx(aV,{totalBids:S,totalAsks:w})]})}const aV=ge.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return M.jsxs("div",{className:"orderbook-footer",children:[M.jsxs("div",{className:"orderbook-footer-legend",children:[M.jsx("div",{className:"orderbook-footer-bar bid"}),M.jsx("span",{className:"color-text-muted",children:r})]}),M.jsxs("div",{className:"orderbook-footer-legend",children:[M.jsx("div",{className:"orderbook-footer-bar ask"}),M.jsx("span",{className:"color-text-muted",children:i})]})]})});aV.displayName="FooterSummary";ge.memo($de);function jde(n,e,t,r){const i=o=>{const a=1-o;return 3*a*a*o*n+3*a*o*o*t+o*o*o},s=o=>{const a=1-o;return 3*a*a*o*e+3*a*o*o*r+o*o*o};return o=>{if(o<=0)return 0;if(o>=1)return 1;let a=0,l=1,c=.5;for(let u=0;u<12;u++){const h=i(c);if(Math.abs(h-o)<1e-4)break;h<o?a=c:l=c,c=(a+l)/2}return s(c)}}function Bde({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=VG,height:i=GG,onPriceClick:s,enhancementConfig:o}){var ee,q;const{client:a}=Zr(),l=e??a,c=JG({baseURL:n,...l!=null&&{subscriptionClient:l},marketId:t,maxDepth:r}),{asks:u,bids:h,spread:d,loading:f,error:m,isConnected:g,wsError:v}=Ohe({asks:c.asks,bids:c.bids,spread:c.spread,loading:c.loading,error:c.error,isConnected:c.isConnected,wsError:c.wsError},o??{enabled:!1},r),y=P.useRef(null),b=P.useRef(null),w=P.useRef(null),S=P.useRef(null),_=P.useRef(!1),k=P.useRef(null),C=P.useRef(null),E=P.useRef(!1),O=P.useRef(0),R=u.length>0?((ee=u[u.length-1])==null?void 0:ee.cumulative)??0:0,D=h.length>0?((q=h[h.length-1])==null?void 0:q.cumulative)??0:0,N=P.useMemo(()=>Math.max(R,D),[R,D]),L=vy,W=yy,$=P.useCallback(Y=>N===0?0:Y/N*100,[N]),F=P.useCallback((Y,U,ie)=>{if(_.current)return;_.current=!0;const re=ie,se=U-re,Q=300,J=performance.now(),ue=J+Q,me=jde(.57,.4,.55,1.17),Ee=Pe=>{if(Pe>=ue){Y.scrollTop=Math.max(0,U),_.current=!1,O.current=performance.now(),S.current&&(cancelAnimationFrame(S.current),S.current=null);return}const Ce=Pe-J,Ne=Math.min(Ce/Q,1),Qe=me(Ne),ze=re+se*Qe;Y.scrollTop=Math.max(0,ze),S.current=requestAnimationFrame(Ee)};S.current=requestAnimationFrame(Ee)},[]),B=P.useCallback((Y=0)=>{if(_.current||performance.now()-O.current<500||!y.current||!b.current)return;const re=y.current,Q=b.current.clientHeight;if(Q===0)return;const J=Q/2,ue=20.83333;if(u.length*ue<=J||d<=0||u.length===0||h.length===0)return;if(!w.current){if(Y<3){C.current&&clearTimeout(C.current);const qe=50*(Y+1);C.current=window.setTimeout(()=>{C.current=null,B(Y+1)},qe)}return}const Ee=w.current,Pe=Ee.offsetTop,Ce=Ee.offsetHeight;if(Ce===0){if(Y<3){C.current&&clearTimeout(C.current);const qe=50*(Y+1);C.current=window.setTimeout(()=>{C.current=null,B(Y+1)},qe)}return}const Ne=Pe+Ce/2,Qe=Q/2,ze=Ne-Qe-ue,$e=re.scrollTop;Math.abs(ze-$e)>1&&F(re,Math.max(0,ze),$e)},[u.length,d,F]);P.useEffect(()=>{const Y=()=>{E.current&&(E.current=!1,B())};return window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mouseup",Y)}},[B]),P.useEffect(()=>{if(!y.current||!b.current)return;const Y=requestAnimationFrame(()=>{requestAnimationFrame(()=>{B()})});return()=>{cancelAnimationFrame(Y),S.current&&(cancelAnimationFrame(S.current),S.current=null),k.current&&(clearTimeout(k.current),k.current=null),C.current&&(clearTimeout(C.current),C.current=null),_.current=!1}},[u.length,h.length,d,N,B]);const j=P.useCallback(()=>{_.current&&S.current&&(cancelAnimationFrame(S.current),S.current=null,_.current=!1),k.current&&(clearTimeout(k.current),k.current=null)},[]),H=P.useCallback(Y=>{const U=Y.currentTarget,ie=U.offsetWidth-U.clientWidth;if(ie>0){const re=U.getBoundingClientRect();Y.clientX-re.left>U.clientWidth-ie-5&&(E.current=!0,j())}},[j]),V=P.useCallback(()=>{E.current&&j()},[j]),K=P.useCallback(()=>{E.current&&(E.current=!1,B())},[B]),X=P.useCallback(()=>{j(),k.current&&clearTimeout(k.current),E.current||(k.current=window.setTimeout(()=>{k.current=null,B()},150))},[B,j]);return f?M.jsx(md,{message:"Loading orderbook..."}):m?M.jsx(gd,{error:m}):M.jsxs("div",{className:"layout-container",style:{height:i},children:[v&&(u.length>0||h.length>0)&&M.jsxs("div",{className:"orderbook-ws-warning",children:[M.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),M.jsx("span",{className:"orderbook-ws-warning-text",children:v})]}),M.jsx(vd,{title:M.jsx(wO,{isConnected:g??!1}),children:M.jsxs("div",{children:["Depth: ",r]})}),M.jsx("div",{className:"orderbook-content",ref:b,children:M.jsxs("div",{className:"orderbook-section",ref:y,onScroll:X,onMouseDown:H,onMouseMove:V,onMouseUp:K,onMouseLeave:K,children:[u.map((Y,U)=>{const ie=R-Y.cumulative+Y.size,re=$(ie);return M.jsx(sV,{level:Y,index:U,isLast:U===u.length-1&&h.length===0,depthPercent:re,formatPrice:L,formatSize:W,onPriceClick:s},`ask-${Y.price}-${U}`)}),d>0&&u.length>0&&h.length>0&&M.jsxs("div",{className:"orderbook-mid-price-spread",ref:w,children:["Spread: ",L(d)]}),h.map((Y,U)=>{const ie=$(Y.cumulative);return M.jsx(oV,{level:Y,index:U,isLast:U===h.length-1,depthPercent:ie,formatPrice:L,formatSize:W,onPriceClick:s},`bid-${Y.price}-${U}`)}),u.length===0&&h.length===0&&M.jsx($o,{message:"No orders"}),u.length===0&&h.length>0&&M.jsx($o,{message:"No ask orders"}),h.length===0&&u.length>0&&M.jsx($o,{message:"No bid orders"})]})}),M.jsx(lV,{totalBids:D,totalAsks:R})]})}const lV=ge.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return M.jsxs("div",{className:"orderbook-footer",children:[M.jsxs("div",{className:"orderbook-footer-legend",children:[M.jsx("div",{className:"orderbook-footer-bar bid"}),M.jsx("span",{className:"color-text-muted",children:r})]}),M.jsxs("div",{className:"orderbook-footer-legend",children:[M.jsx("div",{className:"orderbook-footer-bar ask"}),M.jsx("span",{className:"color-text-muted",children:i})]})]})});lV.displayName="FooterSummary";const zde=ge.memo(Bde);function yd(n){const{margin:e,containerPadding:t,containerWidth:r,cols:i}=n;return(r-e[0]*(i-1)-t[0]*2)/i}function zh(n,e,t){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*t):n}function of(n,e,t,r,i,s,o){const{margin:a,containerPadding:l,rowHeight:c}=n,u=yd(n);let h,d,f,m;if(o?(h=Math.round(o.width),d=Math.round(o.height)):(h=zh(r,u,a[0]),d=zh(i,c,a[1])),s?(f=Math.round(s.top),m=Math.round(s.left)):o?(f=Math.round(o.top),m=Math.round(o.left)):(f=Math.round((c+a[1])*t+l[1]),m=Math.round((u+a[0])*e+l[0])),!s&&!o){if(Number.isFinite(r)){const v=Math.round((u+a[0])*(e+r)+l[0])-m-h;v!==a[0]&&(h+=v-a[0])}if(Number.isFinite(i)){const v=Math.round((c+a[1])*(t+i)+l[1])-f-d;v!==a[1]&&(d+=v-a[1])}}return{top:f,left:m,width:h,height:d}}function qde(n,e,t,r,i){const{margin:s,containerPadding:o,cols:a,rowHeight:l,maxRows:c}=n,u=yd(n);let h=Math.round((t-o[0])/(u+s[0])),d=Math.round((e-o[1])/(l+s[1]));return h=by(h,0,a-r),d=by(d,0,c-i),{x:h,y:d}}function _0(n,e,t){const{margin:r,containerPadding:i,rowHeight:s}=n,o=yd(n),a=Math.round((t-i[0])/(o+r[0])),l=Math.round((e-i[1])/(s+r[1]));return{x:a,y:l}}function Ude(n,e,t){const{margin:r,rowHeight:i}=n,s=yd(n),o=Math.max(1,Math.round((e+r[0])/(s+r[0]))),a=Math.max(1,Math.round((t+r[1])/(i+r[1])));return{w:o,h:a}}function by(n,e,t){return Math.max(Math.min(n,t),e)}function _O(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function rc(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&_O(r,e))return r}}function cV(n,e){return n.filter(t=>_O(t,e))}function Hde(n,e){return e==="horizontal"?uV(n):e==="vertical"||e==="wrap"?WM(n):[...n]}function WM(n){return[...n].sort((e,t)=>e.y!==t.y?e.y-t.y:e.x-t.x)}function uV(n){return[...n].sort((e,t)=>e.x!==t.x?e.x-t.x:e.y-t.y)}function Nb(n){let e=0;for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0){const i=r.y+r.h;i>e&&(e=i)}}return e}function Cl(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&r.i===e)return r}}function Lb(n){return n.filter(e=>e.static===!0)}function yc(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,constraints:n.constraints,isBounded:n.isBounded}}function el(n){const e=new Array(n.length);for(let t=0;t<n.length;t++){const r=n[t];r!==void 0&&(e[t]=yc(r))}return e}function Wde(n,e){const t=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e.i===i.i?t[r]=e:t[r]=i)}return t}function Yde(n,e,t){let r=Cl(n,e);return r?(r=t(yc(r)),[Wde(n,r),r]):[[...n],null]}function SO(n,e){const t=Lb(n);for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0)if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)t.push(i);else for(;rc(t,i);)i.y++}return n}function $l(n,e,t,r,i,s,o,a,l){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===r&&e.x===t)return[...n];const c=e.x,u=e.y;typeof t=="number"&&(e.x=t),typeof r=="number"&&(e.y=r),e.moved=!0;let h=Hde(n,o);(o==="vertical"&&typeof r=="number"?u>=r:o==="horizontal"&&typeof t=="number"?c>=t:!1)&&(h=h.reverse());const f=cV(h,e),m=f.length>0;if(m&&l)return el(n);if(m&&s)return e.x=c,e.y=u,e.moved=!1,n;let g=[...n];for(let v=0;v<f.length;v++){const y=f[v];y!==void 0&&(y.moved||(y.static?g=GN(g,y,e,i,o):g=GN(g,e,y,i,o)))}return g}function GN(n,e,t,r,i,s){const o=i==="horizontal",a=i==="vertical",l=e.static;if(r){r=!1;const h={x:o?Math.max(e.x-t.w,0):t.x,y:a?Math.max(e.y-t.h,0):t.y,w:t.w,h:t.h,i:"-1"},d=rc(n,h),f=d!==void 0&&d.y+d.h>e.y,m=d!==void 0&&e.x+e.w>d.x;if(!d)return $l(n,t,o?h.x:void 0,a?h.y:void 0,r,l,i);if(f&&a)return $l(n,t,void 0,t.y+1,r,l,i);if(f&&i===null)return e.y=t.y,t.y=t.y+t.h,[...n];if(m&&o)return $l(n,e,t.x,void 0,r,l,i)}const c=o?t.x+1:void 0,u=a?t.y+1:void 0;return c===void 0&&u===void 0?[...n]:$l(n,t,c,u,r,l,i)}function Ou(n,e,t){return Math.max(e,Math.min(t,n))}var Gde={name:"gridBounds",constrainPosition(n,e,t,{cols:r,maxRows:i}){return{x:Ou(e,0,Math.max(0,r-n.w)),y:Ou(t,0,Math.max(0,i-n.h))}},constrainSize(n,e,t,r,{cols:i,maxRows:s}){const o=r==="w"||r==="nw"||r==="sw"?n.x+n.w:i-n.x,a=r==="n"||r==="nw"||r==="ne"?n.y+n.h:s-n.y;return{w:Ou(e,1,Math.max(1,o)),h:Ou(t,1,Math.max(1,a))}}},Vde={name:"minMaxSize",constrainSize(n,e,t){return{w:Ou(e,n.minW??1,n.maxW??1/0),h:Ou(t,n.minH??1,n.maxH??1/0)}}},hV=[Gde,Vde];function S0(n,e,t,r,i){let s={x:t,y:r};for(const o of n)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));if(e.constraints)for(const o of e.constraints)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));return s}function Kde(n,e,t,r,i,s){let o={w:t,h:r};for(const a of n)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));if(e.constraints)for(const a of e.constraints)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));return o}function kO({top:n,left:e,width:t,height:r}){const i=`translate(${e}px,${n}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${t}px`,height:`${r}px`,position:"absolute"}}function dV({top:n,left:e,width:t,height:r}){return{top:`${n}px`,left:`${e}px`,width:`${t}px`,height:`${r}px`,position:"absolute"}}function VN(n){return n*100+"%"}function Xde(n,e,t,r){return n+t>r?e:t}function fV(n,e,t){return n<0?e:t}function Qde(n){return Math.max(0,n)}function xy(n){return Math.max(0,n)}var CO=(n,e,t)=>{const{left:r,height:i,width:s}=e,o=n.top-(i-n.height);return{left:r,width:s,height:fV(o,n.height,i),top:xy(o)}},EO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{top:r,height:s,width:Xde(n.left,n.width,o,t),left:Qde(i)}},TO=(n,e,t)=>{const{top:r,height:i,width:s}=e,o=n.left+n.width-s;return o<0?{height:i,width:n.left+n.width,top:xy(r),left:0}:{height:i,width:s,top:xy(r),left:o}},MO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{width:o,left:i,height:fV(r,n.height,s),top:xy(r)}},Jde=(n,e,t)=>CO(n,EO(n,e,t)),Zde=(n,e,t)=>CO(n,TO(n,e)),efe=(n,e,t)=>MO(n,EO(n,e,t)),tfe=(n,e,t)=>MO(n,TO(n,e)),nfe={n:CO,ne:Jde,e:EO,se:efe,s:MO,sw:tfe,w:TO,nw:Zde};function rfe(n,e,t,r){const i=nfe[n];return i?i(e,{...e,...t},r):t}var pV={type:"transform",scale:1,calcStyle(n){return kO(n)}},ife={type:"absolute",scale:1,calcStyle(n){return dV(n)}};function sfe(n){return{type:"transform",scale:n,calcStyle(e){return kO(e)},calcDragPosition(e,t,r,i){return{left:(e-r)/n,top:(t-i)/n}}}}var ofe=pV,afe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},lfe={enabled:!0,bounded:!1,threshold:3},cfe={enabled:!0,handles:["se"]},ufe={enabled:!1,defaultItem:{w:1,h:1}};function PO(n,e,t,r,i){const s=r==="x"?"w":"h";e[r]+=1;const o=n.findIndex(l=>l.i===e.i),a=i??Lb(n).length>0;for(let l=o+1;l<n.length;l++){const c=n[l];if(c!==void 0&&!c.static){if(!a&&c.y>e.y+e.h)break;_O(e,c)&&PO(n,c,t+e[s],r,a)}}e[r]=t}function hfe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),e.y=Math.min(r,e.y);e.y>0&&!rc(n,e);)e.y--;let i;for(;(i=rc(n,e))!==void 0;)PO(t,e,i.y+i.h,"y");return e.y=Math.max(e.y,0),e}function dfe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0);e.x>0&&!rc(n,e);)e.x--;let i;for(;(i=rc(n,e))!==void 0;)if(PO(r,e,i.x+i.w,"x"),e.x+e.w>t)for(e.x=t-e.w,e.y++;e.x>0&&!rc(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var mV={type:"vertical",allowOverlap:!1,compact(n,e){const t=Lb(n);let r=Nb(t);const i=WM(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=yc(a);l.static||(l=hfe(t,l,i,r),r=Math.max(r,l.y+l.h),t.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s}},gV={type:"horizontal",allowOverlap:!1,compact(n,e){const t=Lb(n),r=uV(n),i=new Array(n.length);for(let s=0;s<r.length;s++){const o=r[s];if(o===void 0)continue;let a=yc(o);a.static||(a=dfe(t,a,e,r),t.push(a));const l=n.indexOf(o);i[l]=a,a.moved=!1}return i}},vV={type:null,allowOverlap:!1,compact(n,e){return el(n)}},ffe={...mV,allowOverlap:!0,compact(n,e){return el(n)}},pfe={...gV,allowOverlap:!0,compact(n,e){return el(n)}},mfe={...vV,allowOverlap:!0};function Fb(n,e=!1,t=!1){let r;return e?n==="vertical"?r=ffe:n==="horizontal"?r=pfe:r=mfe:n==="vertical"?r=mV:n==="horizontal"?r=gV:r=vV,t?{...r,preventCollision:t}:r}function yV(n){return Object.keys(n).sort((t,r)=>n[t]-n[r])}function KN(n,e){const t=yV(n);let r=t[0];if(r===void 0)throw new Error("No breakpoints defined");for(let i=1;i<t.length;i++){const s=t[i];if(s===void 0)continue;const o=n[s];e>o&&(r=s)}return r}function XN(n,e){const t=e[n];if(t===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return t}function f1(n,e,t,r,i,s){const o=n[t];if(o)return el(o);let a=n[r];const l=yV(e),c=l.slice(l.indexOf(t));for(let f=0;f<c.length;f++){const m=c[f];if(m===void 0)continue;const g=n[m];if(g){a=g;break}}const u=el(a||[]),h=SO(u,{cols:i});return(typeof s=="object"&&s!==null?s:Fb(s)).compact(h,i)}function k0(n,e){if(Array.isArray(n))return n;const t=n,r=t[e];if(r!==void 0)return r;const i=Object.keys(t);for(const s of i){const o=t[s];if(o!==void 0)return o}return[10,10]}var $b={exports:{}},bV={},xV={exports:{}},gfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vfe=gfe,yfe=vfe;function wV(){}function _V(){}_V.resetWarningCache=wV;var bfe=function(){function n(r,i,s,o,a,l){if(l!==yfe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_V,resetWarningCache:wV};return t.PropTypes=t,t};xV.exports=bfe();var jb=xV.exports;function SV(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=SV(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function am(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=SV(n))&&(r&&(r+=" "),r+=e);return r}const xfe=Object.freeze(Object.defineProperty({__proto__:null,clsx:am,default:am},Symbol.toStringTag,{value:"Module"})),wfe=ine(xfe);var _n={},no={};Object.defineProperty(no,"__esModule",{value:!0});no.dontSetMe=Efe;no.findInArray=_fe;no.int=Cfe;no.isFunction=Sfe;no.isNum=kfe;function _fe(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function Sfe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function kfe(n){return typeof n=="number"&&!isNaN(n)}function Cfe(n){return parseInt(n,10)}function Efe(n,e,t){if(n[e])return new Error(`Invalid prop ${e} passed to ${t} - do not set this, set it on the child.`)}var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.browserPrefixToKey=CV;Fc.browserPrefixToStyle=Tfe;Fc.default=void 0;Fc.getPrefix=kV;const p1=["Moz","Webkit","O","ms"];function kV(){var t,r;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(r=(t=window.document)==null?void 0:t.documentElement)==null?void 0:r.style;if(!e||n in e)return"";for(let i=0;i<p1.length;i++)if(CV(n,p1[i])in e)return p1[i];return""}function CV(n,e){return e?`${e}${Mfe(n)}`:n}function Tfe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function Mfe(n){let e="",t=!0;for(let r=0;r<n.length;r++)t?(e+=n[r].toUpperCase(),t=!1):n[r]==="-"?t=!0:e+=n[r];return e}Fc.default=kV();Object.defineProperty(_n,"__esModule",{value:!0});_n.addClassName=MV;_n.addEvent=Ife;_n.addUserSelectStyles=zfe;_n.createCSSTransform=Ffe;_n.createSVGTransform=$fe;_n.getTouch=jfe;_n.getTouchIdentifier=Bfe;_n.getTranslation=IO;_n.innerHeight=Afe;_n.innerWidth=Nfe;_n.matchesSelector=TV;_n.matchesSelectorAndParentsTo=Pfe;_n.offsetXYFromParent=Lfe;_n.outerHeight=Rfe;_n.outerWidth=Dfe;_n.removeClassName=PV;_n.removeEvent=Ofe;_n.scheduleRemoveUserSelectStyles=qfe;var yi=no,QN=EV(Fc);function EV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(EV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}let C0="";function TV(n,e){return C0||(C0=(0,yi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,yi.isFunction)(n[t])})),(0,yi.isFunction)(n[C0])?n[C0](e):!1}function Pfe(n,e,t){let r=n;do{if(TV(r,e))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function Ife(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.addEventListener?n.addEventListener(e,t,i):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function Ofe(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.removeEventListener?n.removeEventListener(e,t,i):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function Rfe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,yi.int)(t.borderTopWidth),e+=(0,yi.int)(t.borderBottomWidth),e}function Dfe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,yi.int)(t.borderLeftWidth),e+=(0,yi.int)(t.borderRightWidth),e}function Afe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,yi.int)(t.paddingTop),e-=(0,yi.int)(t.paddingBottom),e}function Nfe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,yi.int)(t.paddingLeft),e-=(0,yi.int)(t.paddingRight),e}function Lfe(n,e,t){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-i.left)/t,o=(n.clientY+e.scrollTop-i.top)/t;return{x:s,y:o}}function Ffe(n,e){const t=IO(n,e,"px");return{[(0,QN.browserPrefixToKey)("transform",QN.default)]:t}}function $fe(n,e){return IO(n,e,"")}function IO(n,e,t){let{x:r,y:i}=n,s=`translate(${r}${t},${i}${t})`;if(e){const o=`${typeof e.x=="string"?e.x:e.x+t}`,a=`${typeof e.y=="string"?e.y:e.y+t}`;s=`translate(${o}, ${a})`+s}return s}function jfe(n,e){return n.targetTouches&&(0,yi.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,yi.findInArray)(n.changedTouches,t=>e===t.identifier)}function Bfe(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function zfe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&MV(n.body,"react-draggable-transparent-selection")}function qfe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{JN(n)}):JN(n)}function JN(n){if(n)try{if(n.body&&PV(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function MV(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function PV(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.canDragX=Wfe;ro.canDragY=Yfe;ro.createCoreData=Vfe;ro.createDraggableData=Kfe;ro.getBoundPosition=Ufe;ro.getControlPosition=Gfe;ro.snapToGrid=Hfe;var ai=no,Ru=_n;function Ufe(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:r}=n.props;r=typeof r=="string"?r:Xfe(r);const i=OO(n);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=i.getRootNode().querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=o.getComputedStyle(i),u=o.getComputedStyle(l);r={left:-i.offsetLeft+(0,ai.int)(u.paddingLeft)+(0,ai.int)(c.marginLeft),top:-i.offsetTop+(0,ai.int)(u.paddingTop)+(0,ai.int)(c.marginTop),right:(0,Ru.innerWidth)(l)-(0,Ru.outerWidth)(i)-i.offsetLeft+(0,ai.int)(u.paddingRight)-(0,ai.int)(c.marginRight),bottom:(0,Ru.innerHeight)(l)-(0,Ru.outerHeight)(i)-i.offsetTop+(0,ai.int)(u.paddingBottom)-(0,ai.int)(c.marginBottom)}}return(0,ai.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ai.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,ai.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ai.isNum)(r.top)&&(t=Math.max(t,r.top)),[e,t]}function Hfe(n,e,t){const r=Math.round(e/n[0])*n[0],i=Math.round(t/n[1])*n[1];return[r,i]}function Wfe(n){return n.props.axis==="both"||n.props.axis==="x"}function Yfe(n){return n.props.axis==="both"||n.props.axis==="y"}function Gfe(n,e,t){const r=typeof e=="number"?(0,Ru.getTouch)(n,e):null;if(typeof e=="number"&&!r)return null;const i=OO(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ru.offsetXYFromParent)(r||n,s,t.props.scale)}function Vfe(n,e,t){const r=!(0,ai.isNum)(n.lastX),i=OO(n);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:i,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function Kfe(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Xfe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function OO(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Bb={},zb={};Object.defineProperty(zb,"__esModule",{value:!0});zb.default=Qfe;function Qfe(){}Object.defineProperty(Bb,"__esModule",{value:!0});Bb.default=void 0;var m1=IV(P),Sr=RO(jb),Jfe=RO(Ac),mr=_n,ca=ro,g1=no,af=RO(zb);function RO(n){return n&&n.__esModule?n:{default:n}}function IV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(IV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}function Cr(n,e,t){return(e=Zfe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zfe(n){var e=epe(n,"string");return typeof e=="symbol"?e:e+""}function epe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const rs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ua=rs.mouse,qb=class extends m1.Component{constructor(){super(...arguments),Cr(this,"dragging",!1),Cr(this,"lastX",NaN),Cr(this,"lastY",NaN),Cr(this,"touchIdentifier",null),Cr(this,"mounted",!1),Cr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,mr.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,mr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const i=(0,mr.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,ca.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,ca.createCoreData)(this,o,a);(0,af.default)("DraggableCore: handleDragStart: %j",l),(0,af.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,mr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,mr.addEvent)(r,ua.move,this.handleDrag),(0,mr.addEvent)(r,ua.stop,this.handleDragStop))}),Cr(this,"handleDrag",e=>{const t=(0,ca.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,ca.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const s=(0,ca.createCoreData)(this,r,i);if((0,af.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Cr(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,ca.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,ca.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const s=(0,ca.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,mr.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,af.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,af.default)("DraggableCore: Removing handlers"),(0,mr.removeEvent)(a.ownerDocument,ua.move,this.handleDrag),(0,mr.removeEvent)(a.ownerDocument,ua.stop,this.handleDragStop))}),Cr(this,"onMouseDown",e=>(ua=rs.mouse,this.handleDragStart(e))),Cr(this,"onMouseUp",e=>(ua=rs.mouse,this.handleDragStop(e))),Cr(this,"onTouchStart",e=>(ua=rs.touch,this.handleDragStart(e))),Cr(this,"onTouchEnd",e=>(ua=rs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,mr.addEvent)(e,rs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,mr.removeEvent)(t,rs.mouse.move,this.handleDrag),(0,mr.removeEvent)(t,rs.touch.move,this.handleDrag),(0,mr.removeEvent)(t,rs.mouse.stop,this.handleDragStop),(0,mr.removeEvent)(t,rs.touch.stop,this.handleDragStop),(0,mr.removeEvent)(e,rs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,mr.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){var e,t,r;return(e=this.props)!=null&&e.nodeRef?(r=(t=this.props)==null?void 0:t.nodeRef)==null?void 0:r.current:Jfe.default.findDOMNode(this)}render(){return m1.cloneElement(m1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Bb.default=qb;Cr(qb,"displayName","DraggableCore");Cr(qb,"propTypes",{allowAnyClick:Sr.default.bool,allowMobileScroll:Sr.default.bool,children:Sr.default.node.isRequired,disabled:Sr.default.bool,enableUserSelectHack:Sr.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Sr.default.arrayOf(Sr.default.number),handle:Sr.default.string,cancel:Sr.default.string,nodeRef:Sr.default.object,onStart:Sr.default.func,onDrag:Sr.default.func,onStop:Sr.default.func,onMouseDown:Sr.default.func,scale:Sr.default.number,className:g1.dontSetMe,style:g1.dontSetMe,transform:g1.dontSetMe});Cr(qb,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),n.default=void 0;var e=h(P),t=u(jb),r=u(Ac),i=wfe,s=_n,o=ro,a=no,l=u(Bb),c=u(zb);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(typeof WeakMap=="function")var w=new WeakMap,S=new WeakMap;return(h=function(_,k){if(!k&&_&&_.__esModule)return _;var C,E,O={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return O;if(C=k?S:w){if(C.has(_))return C.get(_);C.set(_,O)}for(const R in _)R!=="default"&&{}.hasOwnProperty.call(_,R)&&((E=(C=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,R))&&(E.get||E.set)?C(O,R,E):O[R]=_[R]);return O})(y,b)}function d(){return d=Object.assign?Object.assign.bind():function(y){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var S in w)({}).hasOwnProperty.call(w,S)&&(y[S]=w[S])}return y},d.apply(null,arguments)}function f(y,b,w){return(b=m(b))in y?Object.defineProperty(y,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[b]=w,y}function m(y){var b=g(y,"string");return typeof b=="symbol"?b:b+""}function g(y,b){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var S=w.call(y,b);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}class v extends e.Component{static getDerivedStateFromProps(b,w){let{position:S}=b,{prevPropsPosition:_}=w;return S&&(!_||S.x!==_.x||S.y!==_.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:_}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(b){super(b),f(this,"onDragStart",(w,S)=>{if((0,c.default)("Draggable: onDragStart: %j",S),this.props.onStart(w,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(w,S)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",S);const _=(0,o.createDraggableData)(this,S),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:E,y:O}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[R,D]=(0,o.getBoundPosition)(this,k.x,k.y);k.x=R,k.y=D,k.slackX=this.state.slackX+(E-k.x),k.slackY=this.state.slackY+(O-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(w,_)===!1)return!1;this.setState(k)}),f(this,"onDragStop",(w,S)=>{if(!this.state.dragging||this.props.onStop(w,(0,o.createDraggableData)(this,S))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",S);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:E,y:O}=this.props.position;k.x=E,k.y=O}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var b,w;return((w=(b=this.props)==null?void 0:b.nodeRef)==null?void 0:w.current)??r.default.findDOMNode(this)}render(){const{axis:b,bounds:w,children:S,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:C,defaultClassNameDragged:E,position:O,positionOffset:R,scale:D,...N}=this.props;let L={},W=null;const F=!!!O||this.state.dragging,B=O||_,j={x:(0,o.canDragX)(this)&&F?this.state.x:B.x,y:(0,o.canDragY)(this)&&F?this.state.y:B.y};this.state.isElementSVG?W=(0,s.createSVGTransform)(j,R):L=(0,s.createCSSTransform)(j,R);const H=(0,i.clsx)(S.props.className||"",k,{[C]:this.state.dragging,[E]:this.state.dragged});return e.createElement(l.default,d({},N,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:H,style:{...S.props.style,...L},transform:W}))}}n.default=v,f(v,"displayName","Draggable"),f(v,"propTypes",{...l.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),f(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(bV);const{default:OV,DraggableCore:tpe}=bV;$b.exports=OV;$b.exports.default=OV;var npe=$b.exports.DraggableCore=tpe,rpe=$b.exports,DO={exports:{}},Gm={},AO={};AO.__esModule=!0;AO.cloneElement=cpe;var ipe=spe(P);function spe(n){return n&&n.__esModule?n:{default:n}}function ZN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function e5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(t),!0).forEach(function(r){ope(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ope(n,e,t){return e=ape(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ape(n){var e=lpe(n,"string");return typeof e=="symbol"?e:String(e)}function lpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cpe(n,e){return e.style&&n.props.style&&(e.style=e5(e5({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),ipe.default.cloneElement(n,e)}var Vm={};Vm.__esModule=!0;Vm.resizableProps=void 0;var lt=upe(jb);function upe(n){return n&&n.__esModule?n:{default:n}}var hpe={axis:lt.default.oneOf(["both","x","y","none"]),className:lt.default.string,children:lt.default.element.isRequired,draggableOpts:lt.default.shape({allowAnyClick:lt.default.bool,cancel:lt.default.string,children:lt.default.node,disabled:lt.default.bool,enableUserSelectHack:lt.default.bool,offsetParent:lt.default.node,grid:lt.default.arrayOf(lt.default.number),handle:lt.default.string,nodeRef:lt.default.object,onStart:lt.default.func,onDrag:lt.default.func,onStop:lt.default.func,onMouseDown:lt.default.func,scale:lt.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="y"){var s;return(s=lt.default.number).isRequired.apply(s,t)}return lt.default.number.apply(lt.default,t)},handle:lt.default.oneOfType([lt.default.node,lt.default.func]),handleSize:lt.default.arrayOf(lt.default.number),lockAspectRatio:lt.default.bool,maxConstraints:lt.default.arrayOf(lt.default.number),minConstraints:lt.default.arrayOf(lt.default.number),onResizeStop:lt.default.func,onResizeStart:lt.default.func,onResize:lt.default.func,resizeHandles:lt.default.arrayOf(lt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:lt.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="x"){var s;return(s=lt.default.number).isRequired.apply(s,t)}return lt.default.number.apply(lt.default,t)}};Vm.resizableProps=hpe;Gm.__esModule=!0;Gm.default=void 0;var lf=gpe(P),dpe=rpe,fpe=AO,ppe=Vm,mpe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function RV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(RV=function(i){return i?t:e})(n)}function gpe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=RV(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function YM(){return YM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YM.apply(this,arguments)}function vpe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function t5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(t),!0).forEach(function(r){ype(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ype(n,e,t){return e=bpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bpe(n){var e=xpe(n,"string");return typeof e=="symbol"?e:String(e)}function xpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wpe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,GM(n,e)}function GM(n,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GM(n,e)}var NO=function(n){wpe(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var t=e.prototype;return t.componentWillUnmount=function(){this.resetData()},t.resetData=function(){this.lastHandleRect=this.slack=null},t.runConstraints=function(i,s){var o=this.props,a=o.minConstraints,l=o.maxConstraints,c=o.lockAspectRatio;if(!a&&!l&&!c)return[i,s];if(c){var u=this.props.width/this.props.height,h=i-this.props.width,d=s-this.props.height;Math.abs(h)>Math.abs(d*u)?s=i/u:i=s*u}var f=i,m=s,g=this.slack||[0,0],v=g[0],y=g[1];return i+=v,s+=y,a&&(i=Math.max(a[0],i),s=Math.max(a[1],s)),l&&(i=Math.min(l[0],i),s=Math.min(l[1],s)),this.slack=[v+(f-i),y+(m-s)],[i,s]},t.resizeHandler=function(i,s){var o=this;return function(a,l){var c=l.node,u=l.deltaX,h=l.deltaY;i==="onResizeStart"&&o.resetData();var d=(o.props.axis==="both"||o.props.axis==="x")&&s!=="n"&&s!=="s",f=(o.props.axis==="both"||o.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!d&&!f)){var m=s[0],g=s[s.length-1],v=c.getBoundingClientRect();if(o.lastHandleRect!=null){if(g==="w"){var y=v.left-o.lastHandleRect.left;u+=y}if(m==="n"){var b=v.top-o.lastHandleRect.top;h+=b}}o.lastHandleRect=v,g==="w"&&(u=-u),m==="n"&&(h=-h);var w=o.props.width+(d?u/o.props.transformScale:0),S=o.props.height+(f?h/o.props.transformScale:0),_=o.runConstraints(w,S);w=_[0],S=_[1];var k=w!==o.props.width||S!==o.props.height,C=typeof o.props[i]=="function"?o.props[i]:null,E=i==="onResize"&&!k;C&&!E&&(a.persist==null||a.persist(),C(a,{node:c,size:{width:w,height:S},handle:s})),i==="onResizeStop"&&o.resetData()}}},t.renderResizeHandle=function(i,s){var o=this.props.handle;if(!o)return lf.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:s});if(typeof o=="function")return o(i,s);var a=typeof o.type=="string",l=v1({ref:s},a?{}:{handleAxis:i});return lf.cloneElement(o,l)},t.render=function(){var i=this,s=this.props,o=s.children,a=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var c=s.resizeHandles;s.transformScale;var u=vpe(s,mpe);return(0,fpe.cloneElement)(o,v1(v1({},u),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(o.props.children,c.map(function(h){var d,f=(d=i.handleRefs[h])!=null?d:i.handleRefs[h]=lf.createRef();return lf.createElement(dpe.DraggableCore,YM({},l,{nodeRef:f,key:"resizableHandle-"+h,onStop:i.resizeHandler("onResizeStop",h),onStart:i.resizeHandler("onResizeStart",h),onDrag:i.resizeHandler("onResize",h)}),i.renderResizeHandle(h,f))}))}))},e}(lf.Component);Gm.default=NO;NO.propTypes=ppe.resizableProps;NO.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Ub={};Ub.__esModule=!0;Ub.default=void 0;var y1=Epe(P),_pe=DV(jb),Spe=DV(Gm),kpe=Vm,Cpe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function DV(n){return n&&n.__esModule?n:{default:n}}function AV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(AV=function(i){return i?t:e})(n)}function Epe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=AV(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function VM(){return VM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VM.apply(this,arguments)}function n5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(t),!0).forEach(function(r){Tpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tpe(n,e,t){return e=Mpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mpe(n){var e=Ppe(n,"string");return typeof e=="symbol"?e:String(e)}function Ppe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ipe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ope(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,KM(n,e)}function KM(n,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(n,e)}var NV=function(n){Ope(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var c=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(c,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(c)},r}e.getDerivedStateFromProps=function(i,s){return s.propsWidth!==i.width||s.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var t=e.prototype;return t.render=function(){var i=this.props,s=i.handle,o=i.handleSize;i.onResize;var a=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,h=i.maxConstraints,d=i.lockAspectRatio,f=i.axis;i.width,i.height;var m=i.resizeHandles,g=i.style,v=i.transformScale,y=Ipe(i,Cpe);return y1.createElement(Spe.default,{axis:f,draggableOpts:c,handle:s,handleSize:o,height:this.state.height,lockAspectRatio:d,maxConstraints:h,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:v,width:this.state.width},y1.createElement("div",VM({},y,{style:wy(wy({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(y1.Component);Ub.default=NV;NV.propTypes=wy(wy({},kpe.resizableProps),{},{children:_pe.default.element});DO.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Rpe=DO.exports.Resizable=Gm.default;DO.exports.ResizableBox=Ub.default;function LV(n){return function(t,r,i,s,o,a,l){return n(t,r,l)}}function Hb(n){return function(t,r,i,s){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i,s);var o=s.get(t),a=s.get(r);if(o&&a)return o===r&&a===t;s.set(t,r),s.set(r,t);var l=n(t,r,i,s);return s.delete(t),s.delete(r),l}}function FV(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function r5(n){return n.constructor===Object||n.constructor==null}function i5(n){return typeof n.then=="function"}function Wb(n,e){return n===e||n!==n&&e!==e}var Dpe="[object Arguments]",Ape="[object Boolean]",Npe="[object Date]",Lpe="[object RegExp]",Fpe="[object Map]",$pe="[object Number]",jpe="[object Object]",Bpe="[object Set]",zpe="[object String]",s5=Object.prototype.toString;function Yb(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areMapsEqual,i=n.areObjectsEqual,s=n.areRegExpsEqual,o=n.areSetsEqual,a=n.createIsNestedEqual,l=a(c);function c(u,h,d){if(u===h)return!0;if(!u||!h||typeof u!="object"||typeof h!="object")return u!==u&&h!==h;if(r5(u)&&r5(h))return i(u,h,l,d);var f=Array.isArray(u),m=Array.isArray(h);if(f||m)return f===m&&e(u,h,l,d);var g=s5.call(u);return g!==s5.call(h)?!1:g===Npe?t(u,h,l,d):g===Lpe?s(u,h,l,d):g===Fpe?r(u,h,l,d):g===Bpe?o(u,h,l,d):g===jpe||g===Dpe?i5(u)||i5(h)?!1:i(u,h,l,d):g===Ape||g===$pe||g===zpe?Wb(u.valueOf(),h.valueOf()):!1}return c}function $V(n,e,t,r){var i=n.length;if(e.length!==i)return!1;for(;i-- >0;)if(!t(n[i],e[i],i,i,n,e,r))return!1;return!0}var qpe=Hb($V);function jV(n,e){return Wb(n.valueOf(),e.valueOf())}function BV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={},o=0;return n.forEach(function(a,l){if(i){var c=!1,u=0;e.forEach(function(h,d){!c&&!s[u]&&(c=t(l,d,o,u,n,e,r)&&t(a,h,l,d,n,e,r))&&(s[u]=!0),u++}),o++,i=c}}),i}var Upe=Hb(BV),Hpe="_owner",Wpe=Object.prototype.hasOwnProperty;function zV(n,e,t,r){var i=Object.keys(n),s=i.length;if(Object.keys(e).length!==s)return!1;for(var o;s-- >0;){if(o=i[s],o===Hpe){var a=!!n.$$typeof,l=!!e.$$typeof;if((a||l)&&a!==l)return!1}if(!Wpe.call(e,o)||!t(n[o],e[o],o,o,n,e,r))return!1}return!0}var Ype=Hb(zV);function qV(n,e){return n.source===e.source&&n.flags===e.flags}function UV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={};return n.forEach(function(o,a){if(i){var l=!1,c=0;e.forEach(function(u,h){!l&&!s[c]&&(l=t(o,u,a,h,n,e,r))&&(s[c]=!0),c++}),i=l}}),i}var Gpe=Hb(UV),HV=Object.freeze({areArraysEqual:$V,areDatesEqual:jV,areMapsEqual:BV,areObjectsEqual:zV,areRegExpsEqual:qV,areSetsEqual:UV,createIsNestedEqual:LV}),WV=Object.freeze({areArraysEqual:qpe,areDatesEqual:jV,areMapsEqual:Upe,areObjectsEqual:Ype,areRegExpsEqual:qV,areSetsEqual:Gpe,createIsNestedEqual:LV}),Vpe=Yb(HV);function Co(n,e){return Vpe(n,e,void 0)}Yb(FV(HV,{createIsNestedEqual:function(){return Wb}}));Yb(WV);Yb(FV(WV,{createIsNestedEqual:function(){return Wb}}));function o5(n){const{children:e,cols:t,containerWidth:r,margin:i,containerPadding:s,rowHeight:o,maxRows:a,isDraggable:l,isResizable:c,isBounded:u,static:h,useCSSTransforms:d=!0,usePercentages:f=!1,transformScale:m=1,positionStrategy:g,dragThreshold:v=0,droppingPosition:y,className:b="",style:w,handle:S="",cancel:_="",x:k,y:C,w:E,h:O,minW:R=1,maxW:D=1/0,minH:N=1,maxH:L=1/0,i:W,resizeHandles:$,resizeHandle:F,constraints:B=hV,layoutItem:j,layout:H=[],onDragStart:V,onDrag:K,onDragStop:X,onResizeStart:ee,onResize:q,onResizeStop:Y}=n,[U,ie]=P.useState(!1),[re,se]=P.useState(!1),Q=P.useRef(null),J=P.useRef({left:0,top:0}),ue=P.useRef({top:0,left:0,width:0,height:0}),me=P.useRef(void 0),Ee=P.useRef(H);Ee.current=H;const Pe=P.useRef(null),Ce=P.useRef(null),Ne=P.useRef(!1),Qe=P.useRef({x:0,y:0}),ze=P.useRef(!1),$e=P.useMemo(()=>({cols:t,containerPadding:s,containerWidth:r,margin:i,maxRows:a,rowHeight:o}),[t,s,r,i,a,o]),Ke=P.useMemo(()=>({cols:t,maxRows:a,containerWidth:r,containerHeight:0,rowHeight:o,margin:i,layout:[]}),[t,a,r,o,i]),qe=P.useCallback(()=>({...Ke,layout:Ee.current}),[Ke]),it=P.useMemo(()=>j??{i:W,x:k,y:C,w:E,h:O,minW:R,maxW:D,minH:N,maxH:L},[j,W,k,C,E,O,R,D,N,L]),Ie=P.useCallback(st=>{if(g!=null&&g.calcStyle)return g.calcStyle(st);if(d)return kO(st);const ft=dV(st);return f?{...ft,left:VN(st.left/r),width:VN(st.width/r)}:ft},[g,d,f,r]),oe=P.useCallback((st,{node:ft})=>{if(!V)return;const{offsetParent:De}=ft;if(!De)return;const pe=De.getBoundingClientRect(),ct=ft.getBoundingClientRect(),yt=ct.left/m,je=pe.left/m,Ue=ct.top/m,Re=pe.top/m;let $t;if(g!=null&&g.calcDragPosition){const Je=st;$t=g.calcDragPosition(Je.clientX,Je.clientY,Je.clientX-ct.left,Je.clientY-ct.top)}else $t={left:yt-je+De.scrollLeft,top:Ue-Re+De.scrollTop};if(J.current=$t,v>0){const Je=st;Qe.current={x:Je.clientX,y:Je.clientY},Ne.current=!0,ze.current=!1,ie(!0);return}ie(!0);const Xe=_0($e,$t.top,$t.left),{x:Vt,y:Ye}=S0(B,it,Xe.x,Xe.y,qe());V(W,Vt,Ye,{e:st,node:ft,newPosition:$t})},[V,m,$e,g,v,B,it,qe,W]),ne=P.useCallback((st,{node:ft,deltaX:De,deltaY:pe})=>{if(!K||!U)return;const ct=st;if(Ne.current&&!ze.current){const Vt=ct.clientX-Qe.current.x,Ye=ct.clientY-Qe.current.y;if(Math.hypot(Vt,Ye)<v)return;if(ze.current=!0,Ne.current=!1,V){const He=_0($e,J.current.top,J.current.left),{x:ot,y:pt}=S0(B,it,He.x,He.y,qe());V(W,ot,pt,{e:st,node:ft,newPosition:J.current})}}let yt=J.current.top+pe,je=J.current.left+De;if(u){const{offsetParent:Vt}=ft;if(Vt){const Ye=Vt.clientHeight-zh(O,o,i[1]);yt=by(yt,0,Ye);const Je=yd($e),He=r-zh(E,Je,i[0]);je=by(je,0,He)}}const Ue={top:yt,left:je};J.current=Ue;const Re=_0($e,yt,je),{x:$t,y:Xe}=S0(B,it,Re.x,Re.y,qe());K(W,$t,Xe,{e:st,node:ft,newPosition:Ue})},[K,V,U,v,u,O,o,i,$e,r,E,W,B,it,qe]),te=P.useCallback((st,{node:ft})=>{if(!X||!U)return;const De=Ne.current;if(Ne.current=!1,ze.current=!1,Qe.current={x:0,y:0},De){ie(!1),J.current={left:0,top:0};return}const{left:pe,top:ct}=J.current,yt={top:ct,left:pe};ie(!1),J.current={left:0,top:0};const je=_0($e,ct,pe),{x:Ue,y:Re}=S0(B,it,je.x,je.y,qe());X(W,Ue,Re,{e:st,node:ft,newPosition:yt})},[X,U,$e,B,it,qe,W]);Pe.current=oe,Ce.current=ne;const _e=P.useCallback((st,{node:ft,size:De,handle:pe},ct,yt)=>{const je=yt==="onResizeStart"?ee:yt==="onResize"?q:Y;if(!je)return;let Ue;ft?Ue=rfe(pe,ct,De,r):Ue={...De,top:ct.top,left:ct.left},ue.current=Ue;const Re=Ude($e,Ue.width,Ue.height),{w:$t,h:Xe}=Kde(B,it,Re.w,Re.h,pe,qe());je(W,$t,Xe,{e:st.nativeEvent,node:ft,size:Ue,handle:pe})},[ee,q,Y,r,$e,W,B,it,qe]),Te=P.useCallback((st,ft)=>{se(!0);const De=of($e,k,C,E,O),pe={...ft,handle:ft.handle};_e(st,pe,De,"onResizeStart")},[_e,$e,k,C,E,O]),he=P.useCallback((st,ft)=>{const De=of($e,k,C,E,O),pe={...ft,handle:ft.handle};_e(st,pe,De,"onResize")},[_e,$e,k,C,E,O]),ve=P.useCallback((st,ft)=>{se(!1),ue.current={top:0,left:0,width:0,height:0};const De=of($e,k,C,E,O),pe={...ft,handle:ft.handle};_e(st,pe,De,"onResizeStop")},[_e,$e,k,C,E,O]);P.useEffect(()=>{var pe,ct;if(!y)return;const st=Q.current;if(!st)return;const ft=me.current||{left:0,top:0},De=U&&(y.left!==ft.left||y.top!==ft.top);if(U){if(De){const yt=y.left-J.current.left,je=y.top-J.current.top,Ue={node:st,deltaX:yt,deltaY:je,lastX:J.current.left,lastY:J.current.top,x:y.left,y:y.top};(ct=Ce.current)==null||ct.call(Ce,y.e,Ue)}}else{const yt={node:st,deltaX:y.left,deltaY:y.top,lastX:0,lastY:0,x:y.left,y:y.top};(pe=Pe.current)==null||pe.call(Pe,y.e,yt)}me.current=y},[y,U,W]);const ae=of($e,k,C,E,O,U?J.current:null,re?ue.current:null),xe=ge.Children.only(e),Me=of($e,0,0,1,1),be=[Me.width,Me.height],Oe=[1/0,1/0],mt=xe.props,rn=mt.className,Gt=mt.style;let Cn=ge.cloneElement(xe,{ref:Q,className:am("react-grid-item",rn,b,{static:h,resizing:re,"react-draggable":l,"react-draggable-dragging":U,dropping:!!y,cssTransforms:d}),style:{...w,...Gt,...Ie(ae)}});const nr=F;return Cn=M.jsx(Rpe,{draggableOpts:{disabled:!c},className:c?void 0:"react-resizable-hide",width:ae.width,height:ae.height,minConstraints:be,maxConstraints:Oe,onResizeStart:Te,onResize:he,onResizeStop:ve,transformScale:m,resizeHandles:$,handle:nr,children:Cn}),Cn=M.jsx(npe,{disabled:!l,onStart:oe,onDrag:ne,onStop:te,handle:S,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:Q,children:Cn}),Cn}var go=()=>{},a5="react-grid-layout",YV=!1;try{YV=/firefox/i.test(navigator.userAgent)}catch{}function Kpe(n,e){const t=ge.Children.toArray(n),r=ge.Children.toArray(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],o=r[i];if((s==null?void 0:s.key)!==(o==null?void 0:o.key))return!1}return!0}function l5(n,e,t,r){const i=[],s=new Set;ge.Children.forEach(e,a=>{if(!ge.isValidElement(a)||a.key===null)return;const l=String(a.key);s.add(l);const c=n.find(u=>u.i===l);if(c)i.push(yc(c));else{const h=a.props["data-grid"];h?i.push({i:l,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):i.push({i:l,x:0,y:Nb(i),w:1,h:1})}});const o=SO(i,{cols:t});return r.compact(o,t)}function Xpe(n){const{children:e,width:t,gridConfig:r,dragConfig:i,resizeConfig:s,dropConfig:o,positionStrategy:a=ofe,compactor:l,constraints:c=hV,layout:u=[],droppingItem:h,autoSize:d=!0,className:f="",style:m={},innerRef:g,onLayoutChange:v=go,onDragStart:y=go,onDrag:b=go,onDragStop:w=go,onResizeStart:S=go,onResize:_=go,onResizeStop:k=go,onDrop:C=go,onDropDragOver:E=go}=n,O=P.useMemo(()=>({...afe,...r}),[r]),R=P.useMemo(()=>({...lfe,...i}),[i]),D=P.useMemo(()=>({...cfe,...s}),[s]),N=P.useMemo(()=>({...ufe,...o}),[o]),{cols:L,rowHeight:W,maxRows:$,margin:F,containerPadding:B}=O,{enabled:j,bounded:H,handle:V,cancel:K,threshold:X}=R,{enabled:ee,handles:q,handleComponent:Y}=D,{enabled:U,defaultItem:ie,onDragOver:re}=N,se=l??Fb("vertical"),Q=se.type,J=se.allowOverlap,ue=se.preventCollision??!1,me=P.useMemo(()=>h??{i:"__dropping-elem__",...ie},[h,ie]),Ee=a.type==="transform",Pe=a.scale,Ce=B??F,[Ne,Qe]=P.useState(!1),[ze,$e]=P.useState(()=>l5(u,e,L,se)),[Ke,qe]=P.useState(null),[it,Ie]=P.useState(!1),[oe,ne]=P.useState(null),[te,_e]=P.useState(),Te=P.useRef(null),he=P.useRef(null),ve=P.useRef(null),ae=P.useRef(0),xe=P.useRef(ze),Me=P.useRef(u),be=P.useRef(e),Oe=P.useRef(Q),mt=P.useRef(ze);mt.current=ze,P.useEffect(()=>{Qe(!0),Co(ze,u)||v(ze)},[]),P.useEffect(()=>{if(Ke||oe)return;const Ye=!Co(u,Me.current),Je=!Kpe(e,be.current),He=Q!==Oe.current;if(Ye||Je||He){const pt=l5(Ye?u:ze,e,L,se);Co(pt,ze)||$e(pt)}Me.current=u,be.current=e,Oe.current=Q},[u,e,L,Q,se,Ke,oe,ze]),P.useEffect(()=>{if(!Ke&&!Co(ze,xe.current)){xe.current=ze;const Ye=ze.filter(Je=>Je.i!==me.i);v(Ye)}},[ze,Ke,v,me.i]);const rn=P.useMemo(()=>{if(!d)return;const Ye=Nb(ze),Je=Ce[1];return Ye*W+(Ye-1)*F[1]+Je*2+"px"},[d,ze,W,F,Ce]),Gt=P.useCallback((Ye,Je,He,ot)=>{const pt=mt.current,et=Cl(pt,Ye);if(!et)return;const bt={w:et.w,h:et.h,x:et.x,y:et.y,i:Ye};Te.current=yc(et),ve.current=pt,qe(bt),y(pt,et,et,null,ot.e,ot.node)},[y]),Cn=P.useCallback((Ye,Je,He,ot)=>{const pt=mt.current,et=Te.current,bt=Cl(pt,Ye);if(!bt)return;const jt={w:bt.w,h:bt.h,x:bt.x,y:bt.y,i:Ye},Pt=$l(pt,bt,Je,He,!0,ue,Q,L,J);b(Pt,et,bt,jt,ot.e,ot.node),$e(se.compact(Pt,L)),qe(jt)},[ue,Q,L,J,se,b]),nr=P.useCallback((Ye,Je,He,ot)=>{if(!Ke)return;const pt=mt.current,et=Te.current,bt=Cl(pt,Ye);if(!bt)return;const jt=$l(pt,bt,Je,He,!0,ue,Q,L,J),Pt=se.compact(jt,L);w(Pt,et,bt,null,ot.e,ot.node);const Hn=ve.current;Te.current=null,ve.current=null,qe(null),$e(Pt),Hn&&!Co(Hn,Pt)&&v(Pt)},[Ke,ue,Q,L,J,se,w,v]),st=P.useCallback((Ye,Je,He,ot)=>{const pt=mt.current,et=Cl(pt,Ye);et&&(he.current=yc(et),ve.current=pt,Ie(!0),S(pt,et,et,null,ot.e,ot.node))},[S]),ft=P.useCallback((Ye,Je,He,ot)=>{const pt=mt.current,et=he.current,{handle:bt}=ot;let jt=!1,Pt,Hn;const[Kc,wr]=Yde(pt,Ye,At=>(Pt=At.x,Hn=At.y,["sw","w","nw","n","ne"].includes(bt)&&(["sw","nw","w"].includes(bt)&&(Pt=At.x+(At.w-Je),Je=At.x!==Pt&&Pt<0?At.w:Je,Pt=Pt<0?0:Pt),["ne","n","nw"].includes(bt)&&(Hn=At.y+(At.h-He),He=At.y!==Hn&&Hn<0?At.h:He,Hn=Hn<0?0:Hn),jt=!0),ue&&!J&&cV(pt,{...At,w:Je,h:He,x:Pt??At.x,y:Hn??At.y}).filter(fl=>fl.i!==At.i).length>0&&(Hn=At.y,He=At.h,Pt=At.x,Je=At.w,jt=!1),At.w=Je,At.h=He,At));if(!wr)return;let Jo=Kc;jt&&Pt!==void 0&&Hn!==void 0&&(Jo=$l(Kc,wr,Pt,Hn,!0,ue,Q,L,J));const Xc={w:wr.w,h:wr.h,x:wr.x,y:wr.y,i:Ye,static:!0};_(Jo,et,wr,Xc,ot.e,ot.node),$e(se.compact(Jo,L)),qe(Xc)},[ue,Q,L,J,se,_]),De=P.useCallback((Ye,Je,He,ot)=>{const pt=mt.current,et=he.current,bt=Cl(pt,Ye),jt=se.compact(pt,L);k(jt,et,bt??null,null,ot.e,ot.node);const Pt=ve.current;he.current=null,ve.current=null,qe(null),Ie(!1),$e(jt),Pt&&!Co(Pt,jt)&&v(jt)},[L,se,k,v]),pe=P.useCallback(()=>{const Ye=mt.current;if(!Ye.some(ot=>ot.i===me.i)){ne(null),qe(null),_e(void 0);return}const He=se.compact(Ye.filter(ot=>ot.i!==me.i),L);$e(He),ne(null),qe(null),_e(void 0)},[me.i,L,se]),ct=P.useCallback(Ye=>{var Eg;if(Ye.preventDefault(),Ye.stopPropagation(),YV&&!((Eg=Ye.nativeEvent.target)!=null&&Eg.classList.contains(a5)))return!1;const Je=re?re(Ye.nativeEvent):E(Ye);if(Je===!1)return oe&&pe(),!1;const{dragOffsetX:He=0,dragOffsetY:ot=0,...pt}=Je??{},et={...me,...pt},bt=Ye.currentTarget.getBoundingClientRect(),jt={cols:L,margin:F,maxRows:$,rowHeight:W,containerWidth:t,containerPadding:Ce},Pt=yd(jt),Hn=zh(et.w,Pt,F[0]),Kc=zh(et.h,W,F[1]),wr=Hn/2,Jo=Kc/2,Xc=Ye.clientX-bt.left+He-wr,At=Ye.clientY-bt.top+ot-Jo,ao=Math.max(0,Xc),fl=Math.max(0,At),Qc={left:ao/Pe,top:fl/Pe,e:Ye.nativeEvent};if(oe)te&&(te.left!==Qc.left||te.top!==Qc.top)&&_e(Qc);else{const Ld=qde(jt,fl,ao,et.w,et.h);ne(M.jsx("div",{},et.i)),_e(Qc),$e([...mt.current,{...et,x:Ld.x,y:Ld.y,static:!1,isDraggable:!0}])}},[oe,te,me,re,E,pe,Pe,L,F,$,W,t,Ce]),yt=P.useCallback(Ye=>{Ye.preventDefault(),Ye.stopPropagation(),ae.current--,ae.current<0&&(ae.current=0),ae.current===0&&pe()},[pe]),je=P.useCallback(Ye=>{Ye.preventDefault(),Ye.stopPropagation(),ae.current++},[]),Ue=P.useCallback(Ye=>{Ye.preventDefault(),Ye.stopPropagation();const Je=mt.current,He=Je.find(ot=>ot.i===me.i);ae.current=0,pe(),C(Je,He,Ye.nativeEvent)},[me.i,pe,C]),Re=P.useCallback((Ye,Je)=>{if(!Ye||!Ye.key)return null;const He=Cl(ze,String(Ye.key));if(!He)return null;const ot=typeof He.isDraggable=="boolean"?He.isDraggable:!He.static&&j,pt=typeof He.isResizable=="boolean"?He.isResizable:!He.static&&ee,et=He.resizeHandles||[...q],bt=ot&&H&&He.isBounded!==!1,jt=Y;return M.jsx(o5,{containerWidth:t,cols:L,margin:F,containerPadding:Ce,maxRows:$,rowHeight:W,cancel:K,handle:V,onDragStart:Gt,onDrag:Cn,onDragStop:nr,onResizeStart:st,onResize:ft,onResizeStop:De,isDraggable:ot,isResizable:pt,isBounded:bt,useCSSTransforms:Ee&&Ne,usePercentages:!Ne,transformScale:Pe,positionStrategy:a,dragThreshold:X,w:He.w,h:He.h,x:He.x,y:He.y,i:He.i,minH:He.minH,minW:He.minW,maxH:He.maxH,maxW:He.maxW,static:He.static,droppingPosition:Je?te:void 0,resizeHandles:et,resizeHandle:jt,constraints:c,layoutItem:He,layout:ze,children:Ye},He.i)},[ze,t,L,F,Ce,$,W,K,V,Gt,Cn,nr,st,ft,De,j,ee,H,Ee,Ne,Pe,a,X,te,q,Y,c]),$t=()=>Ke?M.jsx(o5,{w:Ke.w,h:Ke.h,x:Ke.x,y:Ke.y,i:Ke.i,className:`react-grid-placeholder ${it?"placeholder-resizing":""}`,containerWidth:t,cols:L,margin:F,containerPadding:Ce,maxRows:$,rowHeight:W,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Ee,transformScale:Pe,constraints:c,layout:ze,children:M.jsx("div",{})}):null,Xe=am(a5,f),Vt={height:rn,...m};return M.jsxs("div",{ref:g,className:Xe,style:Vt,onDrop:U?Ue:void 0,onDragLeave:U?yt:void 0,onDragEnter:U?je:void 0,onDragOver:U?ct:void 0,children:[ge.Children.map(e,Ye=>ge.isValidElement(Ye)?Re(Ye):null),U&&oe&&Re(oe,!0),$t()]})}var Qpe={lg:1200,md:996,sm:768,xs:480,xxs:0},Jpe={lg:12,md:10,sm:6,xs:4,xxs:2},b1=()=>{};function Zpe(n,e,t,r){const i=[];ge.Children.forEach(e,o=>{if(!ge.isValidElement(o)||o.key===null)return;const a=String(o.key),l=n.find(c=>c.i===a);if(l)i.push({...l,i:a});else{const u=o.props["data-grid"];u?i.push({i:a,x:u.x??0,y:u.y??0,w:u.w??1,h:u.h??1,minW:u.minW,maxW:u.maxW,minH:u.minH,maxH:u.maxH,static:u.static,isDraggable:u.isDraggable,isResizable:u.isResizable,resizeHandles:u.resizeHandles,isBounded:u.isBounded}):i.push({i:a,x:0,y:Nb(i),w:1,h:1})}});const s=SO(i,{cols:t});return r.compact(s,t)}function eme(n){const{children:e,width:t,breakpoint:r,breakpoints:i=Qpe,cols:s=Jpe,layouts:o={},rowHeight:a=150,maxRows:l=1/0,margin:c=[10,10],containerPadding:u=null,compactor:h,onBreakpointChange:d=b1,onLayoutChange:f=b1,onWidthChange:m=b1,...g}=n,v=h??Fb("vertical"),y=v.type,b=v.allowOverlap,w=P.useMemo(()=>r??KN(i,t),[]),S=P.useMemo(()=>XN(w,s),[w,s]),_=P.useMemo(()=>f1(o,i,w,w,S,y),[]),[k,C]=P.useState(w),[E,O]=P.useState(S),[R,D]=P.useState(_),[N,L]=P.useState(o),W=P.useRef(t),$=P.useRef(r),F=P.useRef(i),B=P.useRef(s),j=P.useRef(o),H=P.useRef(y),V=P.useRef(N);P.useEffect(()=>{V.current=N},[N]);const K=P.useMemo(()=>Co(o,j.current)?null:f1(o,i,k,k,E,v),[o,i,k,E,v]),X=K??R;P.useEffect(()=>{K!==null&&(D(K),L(o),V.current=o,j.current=o)},[K,o]),P.useEffect(()=>{if(y!==H.current){const ie=v.compact(el(X),E),re={...V.current,[k]:ie};D(ie),L(re),V.current=re,f(ie,re),H.current=y}},[y,v,X,E,b,k,f]),P.useEffect(()=>{const ie=t!==W.current,re=r!==$.current,se=!Co(i,F.current),Q=!Co(s,B.current);if(ie||re||se||Q){const J=r??KN(i,t),ue=XN(J,s),me=k;if(me!==J||se||Q){const Ce={...V.current};Ce[me]||(Ce[me]=el(R));let Ne=f1(Ce,i,J,me,ue,v);Ne=Zpe(Ne,e,ue,v),Ce[J]=Ne,C(J),O(ue),D(Ne),L(Ce),V.current=Ce,d(J,ue),f(Ne,Ce)}const Ee=k0(c,J),Pe=u?k0(u,J):null;m(t,Ee,ue,Pe),W.current=t,$.current=r,F.current=i,B.current=s}},[t,r,i,s,k,E,R,e,v,y,b,c,u,d,f,m]);const ee=P.useCallback(ie=>{const se={...V.current,[k]:ie};D(ie),L(se),V.current=se,f(ie,se)},[k,f]),q=P.useMemo(()=>k0(c,k),[c,k]),Y=P.useMemo(()=>u===null?null:k0(u,k),[u,k]),U=P.useMemo(()=>({cols:E,rowHeight:a,maxRows:l,margin:q,containerPadding:Y}),[E,a,l,q,Y]);return M.jsx(Xpe,{...g,width:t,gridConfig:U,compactor:v,onLayoutChange:ee,layout:X,children:e})}function GV(n){const{children:e,width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,rowHeight:u,maxRows:h,margin:d,containerPadding:f,droppingItem:m,compactType:g,preventCollision:v=!1,allowOverlap:y=!1,verticalCompact:b,isDraggable:w=!0,isBounded:S=!1,draggableHandle:_,draggableCancel:k,isResizable:C=!0,resizeHandles:E=["se"],resizeHandle:O,isDroppable:R=!1,useCSSTransforms:D=!0,transformScale:N=1,autoSize:L,className:W,style:$,innerRef:F,onDragStart:B,onDrag:j,onDragStop:H,onResizeStart:V,onResize:K,onResizeStop:X,onDrop:ee,onDropDragOver:q}=n;let Y=g===void 0?"vertical":g;b===!1&&(Y=null);const U={enabled:w,bounded:S,handle:_,cancel:k},ie={enabled:C,handles:E,handleComponent:O},re={enabled:R};let se;D?N!==1?se=sfe(N):se=pV:se=ife;const Q=Fb(Y,y,v);return M.jsx(eme,{width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,rowHeight:u,maxRows:h,margin:d,containerPadding:f,compactor:Q,dragConfig:U,resizeConfig:ie,dropConfig:re,positionStrategy:se,droppingItem:m,autoSize:L,className:W,style:$,innerRef:F,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,onDragStart:B,onDrag:j,onDragStop:H,onResizeStart:V,onResize:K,onResizeStop:X,onDrop:ee,onDropDragOver:q,children:e})}GV.displayName="ResponsiveReactGridLayout";var tme=GV,nme="react-grid-layout";function rme(n){function e(t){const{measureBeforeMount:r=!1,className:i,style:s,...o}=t,[a,l]=P.useState(1280),[c,u]=P.useState(!1),h=P.useRef(null),d=P.useRef(null);return P.useEffect(()=>{u(!0)},[]),P.useEffect(()=>{const f=h.current;if(!(f instanceof HTMLElement))return;const m=new ResizeObserver(g=>{if(g[0]){const v=g[0].contentRect.width;l(v)}});return m.observe(f),d.current=m,()=>{m.unobserve(f),m.disconnect()}},[c]),r&&!c?M.jsx("div",{className:am(i,nme),style:s,ref:h}):M.jsx(n,{innerRef:h,className:i,style:s,...o,width:a})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const x1=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],ime=[[0,0,10,4],[0,4,8,16],[8,4,2,16],[0,43,3,10],[0,20,3,23],[3,20,7,23],[3,98,7,24],[3,78,7,20],[0,53,10,25]],c5=0,sme=8;function ome(n,e){return Math.floor(Math.random()*(e-n+1))+n}function ame(n){const e=Math.ceil(Math.random()*4)+1;return{x:ome(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function lme(n,e){const[t,r,i,s]=e;return{x:t,y:r,w:i,h:s,i:n.toString(),static:!0}}function tp(n,e){const t=n.length,r=[];for(let i=0;i<t;i++)i<n.length?r.push(lme(i,n[i])):r.push(ame(i));return r}function cme(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i],o=e[i];if(!s||!o){if(s!==o)return!1;continue}if(s.length!==o.length)return!1;for(let a=0;a<s.length;a++){const l=s[a],c=o[a];if(l.x!==c.x||l.y!==c.y||l.w!==c.w||l.h!==c.h)return!1}}return!0}function w1(n,e){const t={};for(const r in n){const i=n[r];i&&(t[r]=i.map(s=>({...s,static:e})))}return t}const ume=rme(tme);class VV extends ge.Component{constructor(t){super(t);de(this,"isUpdatingLayout",!1);de(this,"domCache",null);de(this,"lastLayoutKey","");de(this,"handleResponsiveLayoutChange",(t,r)=>{const i=Array.isArray(t)?t:[t],s=r;this.onLayoutChange(i,s)});de(this,"generateNewLayout",()=>{const t=tp(x1),r=this.props.allStatic??this.state.allStatic,i=t.map(s=>({...s,static:r}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:i}})});this.state={currentBreakpoint:"lg",compactType:t.compactType??"vertical",mounted:!1,layouts:{lg:t.initialLayout||tp(x1)},allStatic:t.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const t=this.state.layouts.lg||[],{slotContent:r=[]}=this.props,i=this.props.allStatic??this.state.allStatic,s=`${t.length}-${i}-${r.length}`;if(this.domCache&&this.lastLayoutKey===s)return this.domCache;const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=a>=c5&&a<=sme,u=a-c5,h=c&&r[u]?r[u]:null,d=l.static??i;o.push(M.jsx("div",{className:d?"static":"",children:h?M.jsx("div",{className:"external-slot-content",children:h}):d?M.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["AREA ",a," CLASSIFIED"]}):M.jsx("span",{className:"text",children:a})},l.i||a.toString()))}return this.domCache=o,this.lastLayoutKey=s,o}onBreakpointChange(t){var r,i;this.setState({currentBreakpoint:t}),(i=(r=this.props).onBreakpointChange)==null||i.call(r,t)}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:t}=this.state,r=t==="horizontal"?"vertical":t==="vertical"?null:"horizontal";this.setState({compactType:r})}}onLayoutChange(t,r){if(this.isUpdatingLayout){this.props.onLayoutChange(t,r);return}const i=this.props.allStatic??this.state.allStatic;if(i){this.props.onLayoutChange(t,r);return}const s=w1(r,i);!cme(this.state.layouts,s)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:s},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(t,s)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const t=!this.state.allStatic,r=w1(this.state.layouts,t);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:t,layouts:r})}}componentDidUpdate(t){if(t.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),t.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const r=w1(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:r})}t.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const t=this.props.compactType??this.state.compactType;return M.jsx("div",{children:M.jsx(ume,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:t,preventCollision:!t,children:this.generateDOM()})})}}de(VV,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:tp(x1)});function Yt(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function ic(n,e){return n.width===e.width&&n.height===e.height}var hme=function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){t._observers=t._observers.filter(function(i){return i!==r})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function dme(n){return new hme(n)}var fme=function(){function n(e,t,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Yt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return Yt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Yt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;ic(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,r=Yt(this._transformBitmapSize(e,this._canvasElementClientSize)),i=ic(this.bitmapSize,r)?null:r;t===null&&i===null||t!==null&&i!==null&&ic(t,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(t,i))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}mme().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=u5(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=dme(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var r=u5(this._canvasElement);if(r!==null){var i=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?gme(s[0],i):Yt({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var r=t.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=Yt({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function pme(n,e){return new fme(n,e.transform,e.options)}function u5(n){return n.ownerDocument.defaultView}function mme(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function gme(n,e){return Yt({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var vme=function(){function n(e,t,r){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function bc(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var r=n.bitmapSize;if(r.width===0||r.height===0)return null;var i=n.canvasElement.getContext("2d",e);return i===null?null:new vme(i,t,r)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const KV={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var h5,d5;function qh(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function XV(n,e,t,r){n.beginPath();const i=n.lineWidth%2?.5:0;n.moveTo(t,e+i),n.lineTo(r,e+i),n.stroke()}function ar(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function ei(n){if(n===void 0)throw new Error("Value is undefined");return n}function ke(n){if(n===null)throw new Error("Value is null");return n}function Na(n){return ke(ei(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(h5||(h5={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(d5||(d5={}));class An{constructor(){this.t=[]}i(e,t,r){const i={h:e,l:t,o:r===!0};this.t.push(i)}_(e){const t=this.t.findIndex(r=>e===r.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,r){const i=[...this.t];this.t=this.t.filter(s=>!s.o),i.forEach(s=>s.h(e,t,r))}v(){return this.t.length>0}m(){this.t=[]}}function bi(n,...e){for(const t of e)for(const r in t)t[r]!==void 0&&Object.prototype.hasOwnProperty.call(t,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof t[r]!="object"||n[r]===void 0||Array.isArray(t[r])?n[r]=t[r]:bi(n[r],t[r]));return n}function Uh(n){return typeof n=="number"&&isFinite(n)}function lm(n){return typeof n=="number"&&n%1==0}function Km(n){return typeof n=="string"}function E0(n){return typeof n=="boolean"}function Do(n){const e=n;if(!e||typeof e!="object")return e;let t,r,i;for(r in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],t[r]=i&&typeof i=="object"?Do(i):i);return t}function f5(n){return n!==null}function yme(n){return n===null?void 0:n}const QV="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function _y(n,e,t){return e===void 0&&(e=QV),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class bme{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),r=this.W();return e.k===t&&e.T===r||(e.k=t,e.T=r,e.P=_y(t,r),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function _1(n){return n<0?0:n>255?255:Math.round(n)||0}function p5(n){return .199*n[0]+.687*n[1]+.114*n[2]}class xme{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e==="transparent")return e;const r=this.K(e),i=r[3];return`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${t*i})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:p5(t)>160?"black":"white"}}J(e){return p5(this.K(e))}tt(e,t,r){const[i,s,o,a]=this.K(e),[l,c,u,h]=this.K(t),d=[_1(i+r*(l-i)),_1(s+r*(c-s)),_1(o+r*(u-o)),(f=a+r*(h-a),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const r=function(o){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=o;const l=window.getComputedStyle(a).color;return document.body.removeChild(a),l}(e),i=r.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const o of this.j){const a=o(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}}class wme{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,r){this.it.forEach(i=>{i.nt(e,t,r)})}}class Xm{nt(e,t,r){e.useBitmapCoordinateSpace(i=>this.et(i,t,r))}}class _me extends Xm{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(t))%2/2,a=l=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const u=s.ot[c],h=Math.round(u._t*t)+o,d=u.ut*r,f=l*r+o;e.moveTo(h,d),e.arc(h,d,f,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,a(s.ft+s.ct)),e.fillStyle=s.vt,a(s.ft)}}function Sme(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const kme={from:0,to:1};class Cme{constructor(e,t,r){this.Mt=new wme,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=r,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Sme),this.bt=this.St.map(t=>{const r=new _me;return r.ht(t),r}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),r=this.Ct.Bt(),i=this.O.Et();this.Pt(),t.forEach((s,o)=>{const a=this.St[o],l=s.At(r),c=s.Lt();!e&&l!==null&&s.It()&&c!==null?(a.vt=l.zt,a.ft=l.ft,a.ct=l.Ot,a.ot[0].gt=l.gt,a.ot[0].ut=s.Ft().Nt(l.gt,c.Wt),a.dt=l.Ht??this.O.Ut(a.ot[0].ut/s.Ft().$t()),a.ot[0].wt=r,a.ot[0]._t=i.qt(r),a.lt=kme):a.lt=null})}}class Eme extends Xm{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=this.jt.Yt.It,o=this.jt.Kt.It;if(!s&&!o)return;const a=Math.round(this.jt._t*r),l=Math.round(this.jt.ut*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*r),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,qh(e,this.jt.Yt.Zt),function(c,u,h,d){c.beginPath();const f=c.lineWidth%2?.5:0;c.moveTo(u+f,h),c.lineTo(u+f,d),c.stroke()}(e,a,0,t.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,qh(e,this.jt.Kt.Zt),XV(e,l,0,t.width))}}class Tme{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Eme(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,r=this.Gt;if(t.mode===2)return r.Kt.It=!1,void(r.Yt.It=!1);r.Kt.It=e&&this.Jt.ti(this.yt),r.Yt.It=e&&this.Jt.ii(),r.Kt.ct=t.horzLine.width,r.Kt.Zt=t.horzLine.style,r.Kt.R=t.horzLine.color,r.Yt.ct=t.vertLine.width,r.Yt.Zt=t.vertLine.style,r.Yt.R=t.vertLine.color,r._t=this.Jt.si(),r.ut=this.Jt.ni()}}function Gb(n,e,t,r,i,s){n.save(),n.globalCompositeOperation="copy",n.fillStyle=s,n.fillRect(e,t,r,i),n.restore()}function m5(n,e,t,r,i,s){n.beginPath(),n.roundRect?n.roundRect(e,t,r,i,s):(n.lineTo(e+r-s[1],t),s[1]!==0&&n.arcTo(e+r,t,e+r,t+s[1],s[1]),n.lineTo(e+r,t+i-s[2]),s[2]!==0&&n.arcTo(e+r,t+i,e+r-s[2],t+i,s[2]),n.lineTo(e+s[3],t+i),s[3]!==0&&n.arcTo(e,t+i,e,t+i-s[3],s[3]),n.lineTo(e,t+s[0]),s[0]!==0&&n.arcTo(e,t,e+s[0],t,s[0]))}function g5(n,e,t,r,i,s,o=0,a=[0,0,0,0],l=""){if(n.save(),!o||!l||l===s)return m5(n,e,t,r,i,a),n.fillStyle=s,n.fill(),void n.restore();const c=o/2;var u;m5(n,e+c,t+c,r-o,i-o,(u=-c,a.map(h=>h===0?h:h+u))),s!=="transparent"&&(n.fillStyle=s,n.fill()),l!=="transparent"&&(n.lineWidth=o,n.strokeStyle=l,n.closePath(),n.stroke()),n.restore()}function JV(n,e,t,r,i,s,o){n.save(),n.globalCompositeOperation="copy";const a=n.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),n.fillStyle=a,n.fillRect(e,t,r,i),n.restore()}class v5{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,r,i){if(!this.jt.It||this.jt.ri.length===0)return;const s=this.jt.R,o=this.ei.G,a=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=t.P;const u=this.hi(l,t,r,i),h=u.ai;return u.li?g5(c,h.oi,h._i,h.ui,h.ci,o,h.di,[h.ft,0,0,h.ft],o):g5(c,h.fi,h._i,h.ui,h.ci,o,h.di,[0,h.ft,h.ft,0],o),this.jt.pi&&(c.fillStyle=s,c.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.jt.Mi&&(c.fillStyle=t.D,c.fillRect(u.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=a.xi;l.font=t.P,l.textAlign=a.li?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,t,r,i){const{context:s,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.jt.pi||!this.jt.ki?t.C:0,h=this.jt.Pi?t.S:0,d=t.A+this.ei.Ti,f=t.I+this.ei.Ri,m=t.V,g=t.B,v=this.jt.ri,y=t.k,b=r.Di(s,v),w=Math.ceil(r.Ii(s,v)),S=y+d+f,_=t.S+m+g+w+u,k=Math.max(1,Math.floor(c));let C=Math.round(S*c);C%2!=k%2&&(C+=1);const E=h>0?Math.max(1,Math.floor(h*l)):0,O=Math.round(_*l),R=Math.round(u*l),D=this.ei.Vi??this.ei.Bi??this.ei.Ei,N=Math.round(D*c)-Math.floor(.5*c),L=Math.floor(N+k/2-C/2),W=L+C,$=i==="right",F=$?a.width-h:h,B=$?o.width-E:E;let j,H,V;return $?(j=B-O,H=B-R,V=F-u-m-h):(j=B+O,H=B+R,V=F+u+m),{li:$,ai:{_i:L,mi:N,Si:W,ui:O,ci:C,ft:2*l,di:E,oi:j,fi:B,wi:H,gi:k,bi:o.width},xi:{_i:L/c,Si:W/c,Ci:V,yi:b}}}}class Vb{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||v5)(this.Li,this.Ai),this.Ni=new(e||v5)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Mme extends Vb{constructor(e,t,r){super(),this.Jt=e,this.Ki=t,this.Zi=r}Yi(e,t,r){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||s===null)return;const o=this.Ki.Xi().Z(i.labelBackgroundColor);r.G=o.G,e.R=o.X;const a=2/12*this.Ki.k();r.Ti=a,r.Ri=a;const l=this.Zi(this.Ki);r.Ei=l.Ei,e.ri=this.Ki.Ji(l.gt,s),e.It=!0}}const Pme=/[1-9]/g;class ZV{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const r=e.useMediaCoordinateSpace(({context:d})=>(d.font=t.P,Math.round(t.Qi.Ii(d,ke(this.jt).ri,Pme))));if(r<=0)return;const i=t.ts,s=r+2*i,o=s/2,a=this.jt.ss;let l=this.jt.Ei,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+s>a&&(l-=Math.abs(a-(c+s)),c=Math.floor(l-o)+.5);const u=c+s,h=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:m})=>{const g=ke(this.jt);d.fillStyle=g.G;const v=Math.round(c*f),y=Math.round(0*m),b=Math.round(u*f),w=Math.round(h*m),S=Math.round(2*f);if(d.beginPath(),d.moveTo(v,y),d.lineTo(v,w-S),d.arcTo(v,w,v+S,w,S),d.lineTo(b-S,w),d.arcTo(b,w,b,w-S,S),d.lineTo(b,y),d.fill(),g.pi){const _=Math.round(g.Ei*f),k=y,C=Math.round((k+t.C)*m);d.fillStyle=g.R;const E=Math.max(1,Math.floor(f)),O=Math.floor(.5*f);d.fillRect(_-O,k,E,C-k)}}),e.useMediaCoordinateSpace(({context:d})=>{const f=ke(this.jt),m=0+t.S+t.C+t.A+t.k/2;d.font=t.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const g=t.Qi.Di(d,"Apr0");d.translate(c+i,m+g),d.fillText(f.ri,0,0)})}}class Ime{constructor(e,t,r){this.xt=!0,this.Xt=new ZV,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=r}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const r=this.ns.Et();if(r.Gi())return;e.ss=r.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const s=r.es(this.Ct.Bt());e.ri=r.rs(ke(s)),e.It=!0;const o=this.ns.Xi().Z(t.labelBackgroundColor);e.G=o.G,e.R=o.X,e.pi=r.N().ticksVisible}}class eK{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var y5;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(y5||(y5={}));class Ome extends eK{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((i,s)=>o=>{const a=s(),l=i();if(o===ke(this.yt).Rs())return{gt:l,Ei:a};{const c=ke(o.Lt());return{gt:o.Ds(a,c),Ei:a}}})(()=>this.ps,()=>this.Cs);const r=((i,s)=>()=>{const o=this.ns.Et().Is(i()),a=s();return o&&Number.isFinite(a)?{wt:o,Ei:a}:null})(()=>this.vs,()=>this.si());this.Vs=new Ime(this,e,r)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,r){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,r)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,r=t.Et();let i=null,s=null;for(const c of t.Us()){const u=c.qs().$s(e,-1);if(u){if(u.js===e)return e;(i===null||u.js>i)&&(i=u.js)}const h=c.qs().$s(e,1);if(h){if(h.js===e)return e;(s===null||h.js<s)&&(s=h.js)}}const o=[i,s].filter(f5);if(o.length===0)return e;const a=r.qt(e),l=o.map(c=>Math.abs(a-r.qt(c)));return o[l.indexOf(Math.min(...l))]}Ys(e){let t=this.bs.get(e);t||(t=new Tme(this,e),this.bs.set(e,t));let r=this.Ss.get(e);return r||(r=new Cme(this.ns,this,e),this.Ss.set(e,r)),[t,r]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const r=[];return this.yt===e&&r.push(this.Zs(this.gs,t,this.Ts)),r}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var t,r;(t=this.bs.get(e))==null||t.kt(),(r=this.Ss.get(e))==null||r.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,r){this.Qs(e,t,r)&&this.Ws()}Qs(e,t,r){const i=this.xs,s=this.Cs,o=this.ps,a=this.vs,l=this.yt,c=this.Js(r);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=r;const u=c!==null?c.Lt():null;return c!==null&&u!==null?(this.ps=t,this.Cs=c.Nt(t,u)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||s!==this.Cs||a!==this.vs||o!==this.ps||l!==this.yt}Fs(){const e=this.ns.tn().map(r=>r.qs().sn()).filter(f5),t=e.length===0?null:Math.max(...e);this.vs=t!==null?t:NaN}Zs(e,t,r){let i=e.get(t);return i===void 0&&(i=new Mme(this,t,r),e.set(t,i)),i}}function Kb(n){return n==="left"||n==="right"}class or{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const r=function(i,s){return i===void 0?s:{an:Math.max(i.an,s.an),ln:i.ln||s.ln}}(this.nn.get(e),t);this.nn.set(e,r)}_n(){return this.rn}un(e){const t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((t,r)=>{this.hn(r,t)})}static Cn(){return new or(2)}static yn(){return new or(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(t=>t.fn===5);e!==-1&&this.en.splice(e,1)}}class tK{formatTickmarks(e){return e.map(t=>this.format(t))}}const b5=".";function Ao(n,e){if(!Uh(n))return"n/a";if(!lm(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let Xb=class extends tK{constructor(e,t){if(super(),t||(t=1),Uh(e)&&lm(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let r=Math.floor(e),i="";const s=this.Rn!==void 0?this.Rn:NaN;if(t>1){let o=+(Math.round(e*t)-r*t).toFixed(this.Rn);o>=t&&(o-=t,r+=1),i=b5+Ao(+o.toFixed(this.Rn)*this.kn,s)}else r=Math.round(r*t)/t,s>0&&(i=b5+Ao(0,s));return r.toFixed(0)+i}};class nK extends Xb{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Rme extends tK{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const r=Math.pow(10,this.Dn);return t=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}const Dme=/[2-9]/g;class Sy{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,r){return this.Nn(e,t,r).width}Di(e,t,r){const i=this.Nn(e,t,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,t,r){const i=r||Dme,s=String(t).replace(i,"0");if(this.Ln.has(s))return ei(this.Ln.get(s)).Fn;if(this.Vn===this.zn){const a=this.An[this.En];delete this.An[this.En],this.Ln.delete(a),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&t.length||(this.Ln.set(s,{Fn:o,Wn:this.Bn}),this.An[this.Bn]=s,this.Vn++,this.Bn++),o}}class Ame{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,r){this.Hn=e,this.M=t,this.Un=r}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class rK{constructor(e,t,r){this.jn=e,this.$n=new Sy(50),this.Yn=t,this.O=r,this.F=-1,this.Xt=new Ame(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;const r=e.Xn(t);if(r==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,r),this.Xt}}let Nme=class extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){var o;if(!((o=this.jt)!=null&&o.It))return null;const{ut:r,ct:i,te:s}=this.jt;return t>=r-i-7&&t<=r+i+7?{ie:this.jt,te:s}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const s=Math.round(this.jt.ut*i);s<0||s>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*r),qh(e,this.jt.Zt),XV(e,s,0,t.width))}};class LO{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new Nme,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Lme extends LO{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;const r=this.ee.N();if(!r.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=r.baseLineColor,this.se.ct=r.baseLineWidth,this.se.Zt=r.baseLineStyle)}}class Fme extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){const i=this.jt;if(i===null)return;const s=Math.max(1,Math.floor(t)),o=s%2/2,a=Math.round(i.oe.x*t)+o,l=i.oe.y*r;e.fillStyle=i._e,e.beginPath();const c=Math.max(2,1.5*i.ue)*t;e.arc(a,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(a,l,i.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.de,e.beginPath(),e.arc(a,l,i.ft*t+s/2,0,2*Math.PI,!1),e.stroke()}}const $me=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class jme{constructor(e){this.Xt=new Fme,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),r=this.ye.Lt();if(t===null||r===null)return;const i=this.ye.Ve(!0);if(i.Be||!t.Ee(i.js))return;const s={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,r.Wt)},o=i.R,a=this.ye.N().lineWidth,l=this.Ae(this.Le(),o);this.Xt.ht({_e:o,ue:a,ce:l.ce,de:l.de,ft:l.ft,oe:s})}De(){const e=this.Xt.le();if(e!==null){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,r,i){const s=r+(i-r)*t;return this.ye.Qt().Xi().Y(e,s)}Ae(e,t){const r=e%2600/2600;let i;for(const c of $me)if(r>=c.fe&&r<=c.pe){i=c;break}ar(i!==void 0,"Last price animation internal logic error");const s=(r-i.fe)/(i.pe-i.fe);return{ce:this.ze(t,s,i.we,i.ge),de:this.ze(t,s,i.Me,i.be),ft:(o=s,a=i.ve,l=i.me,a+(l-a)*o)};var o,a,l}}class Bme extends LO{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const r=this.ee.Ve(t.priceLineSource===0);r.Be||(e.It=!0,e.ut=r.Ei,e.R=this.ee.Oe(r.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}let zme=class extends Vb{constructor(e){super(),this.Jt=e}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.Jt;if(!i.It())return;const s=i.N(),o=s.lastValueVisible,a=i.Ne()!=="",l=s.seriesLastValueMode===0,c=i.Ve(!1);if(c.Be)return;o&&(e.ri=this.Fe(c,o,l),e.It=e.ri.length!==0),(a||l)&&(t.ri=this.We(c,o,a,l),t.It=t.ri.length>0);const u=i.Oe(c.R),h=this.Jt.Qt().Xi().Z(u);r.G=h.G,r.Ei=c.Ei,t.Ht=i.Qt().Ut(c.Ei/i.Ft().$t()),e.Ht=u,e.R=h.X,t.R=h.X}We(e,t,r,i){let s="";const o=this.Jt.Ne();return r&&o.length!==0&&(s+=`${o} `),t&&i&&(s+=this.Jt.Ft().He()?e.Ue:e.$e),s.trim()}Fe(e,t,r){return t?r?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}};function x5(n,e,t,r){const i=Number.isFinite(e),s=Number.isFinite(t);return i&&s?n(e,t):i||s?i?e:t:r}class Ar{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Ar(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Ar(x5(Math.min,this.Ze(),e.Ze(),-1/0),x5(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Uh(e)||this.je-this.qe===0)return;const t=.5*(this.je+this.qe);let r=this.je-t,i=this.qe-t;r*=e,i*=e,this.je=t+r,this.qe=t+i}Qe(e){Uh(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Ar(e.minValue,e.maxValue)}}class ky{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new ky(Ar.ir(e.priceRange),e.margins)}}const qme=[2,4,8,16,32,64,128,256,512],Ume="Custom series with conflation reducer must have a priceValueBuilder method";class Hme extends LO{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const r=this.hr.ar();r!==null&&(e.It=!0,e.ut=r,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class Wme extends Vb{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.hr.N(),s=i.axisLabelVisible,o=i.title!=="",a=this.ye;if(!s||!a.It())return;const l=this.hr.ar();if(l===null)return;o&&(t.ri=i.title,t.It=!0),t.Ht=a.Qt().Ut(l/a.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const c=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);r.G=c.G;const u=i.axisLabelTextColor||c.X;e.R=u,t.R=u,r.Ei=l}lr(e){const t=this.ye.Lt();return t===null?"":this.ye.Ft().Ji(e,t.Wt)}}class Yme{constructor(e,t){this.ye=e,this.Ps=t,this._r=new Hme(e,this),this.jn=new Wme(e,this),this.ur=new rK(this.jn,e,e.Qt())}cr(e){bi(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const r=e.Lt();return r===null?null:t.Nt(this.Ps.price,r.Wt)}}class Gme{constructor(){this.wr=new WeakMap}gr(e,t,r){const i=1/t*r;if(e>=i)return 1;const s=i/e,o=Math.pow(2,Math.floor(Math.log2(s)));return Math.min(o,512)}Mr(e,t,r,i=!1,s){if(e.length===0||t<=1)return e;const o=this.br(t);if(o<=1)return e;const a=this.Sr(e);let l=a.Cr.get(o);return l!==void 0||(l=this.yr(e,o,r,i,s,a.Cr),a.Cr.set(o,l)),l}kr(e,t,r,i,s=!1,o){if(r<1||e.length===0)return e;const a=this.Sr(e),l=a.Cr.get(r);if(!l)return this.Mr(e,r,i,s,o);const c=this.Pr(e,t,r,l,s,i,o);return a.Cr.set(r,c),c}br(e){if(e<=2)return 2;for(const t of qme)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;const t=e[0],r=e[e.length-1];return 31*e.length+17*t.js+13*r.js}yr(e,t,r,i=!1,s,o=new Map){if(t===2)return this.Rr(e,2,r,i,s);const a=t/2;let l=o.get(a);return l||(l=this.yr(e,a,r,i,s,o),o.set(a,l)),this.Dr(l,r,i,s)}Rr(e,t,r,i=!1,s){const o=this.Ir(e,t,r,i,s);return this.Vr(o,i)}Dr(e,t,r=!1,i){const s=this.Ir(e,2,t,r,i);return this.Vr(s,r)}Ir(e,t,r,i=!1,s){const o=[];for(let a=0;a<e.length;a+=t)if(e.length-a>=t){const l=this.Br(e[a],e[a+1],r,i,s);l.Er=!1,o.push(l)}else if(o.length===0)o.push(this.Ar(e[a],!0));else{const l=o[o.length-1];o[o.length-1]=this.Lr(l,e[a],r,i,s)}return o}zr(e,t){return(e??1)+(t??1)}Br(e,t,r,i=!1,s){if(!i||!r||!s){const c=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],u=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:c,$r:u,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const o=r(this.Kr(e,s),this.Kr(t,s)),a=s(o),l=a.length?a[a.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],l),$r:Math.min(e.Wt[2],l),qr:l,jr:this.zr(e.jr,t.jr),Yr:o,Er:!1}}Lr(e,t,r,i=!1,s){if(!i||!r||!s)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const o=e.Yr,a=this.Kr(t,s),l=o?{data:o,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:s(o)}:null,c=l?r(l,a):a.data,u=l?s(c):a.priceValues,h=u.length?u[u.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,h),$r:Math.min(e.$r,h),qr:h,jr:e.jr+(t.jr??1),Yr:c,Er:!1}}Zr(e,t,r,i,s,o,a=!1,l){const c=t===i?s:e[t];if(r-t==1)return this.Ar(c,!0);const u=t+1===i?s:e[t+1];let h=this.Br(c,u,o,a,l);for(let d=t+2;d<r;d++){const f=d===i?s:e[d];h=this.Lr(h,f,o,a,l)}return h}Kr(e,t){const r=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(r)}}Xr(e,t=!1){const r=t===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[r?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:r?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map(r=>this.Xr(r,t))}Pr(e,t,r,i,s=!1,o,a){if(i.length===0)return i;const l=e.length-1,c=Math.floor(l/r)*r;if(Math.min(c+r,e.length)-c<r&&e.length>r){const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}if(Math.floor((l-1)/r)===Math.floor(l/r)||i.length===1){const u=Math.min(c+r,e.length),h=u-c;if(h<=0)return i;const d=h===1?this.Ar(c===l?t:e[c],!0):this.Zr(e,c,u,l,t,o,s,a);return i[i.length-1]=this.Xr(d,s),i}{const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),r=this.Tr(e);return t.Qr!==r&&(t.Cr.clear(),t.Qr=r),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class Vme extends eK{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const Kme={Bar:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=ke(n(t,r)),a=Na(o.Wt[0])<=Na(o.Wt[3]);return{th:o.R??(a?i:s)}},Candlestick:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=e.borderUpColor,a=e.borderDownColor,l=e.wickUpColor,c=e.wickDownColor,u=ke(n(t,r)),h=Na(u.Wt[0])<=Na(u.Wt[3]);return{th:u.R??(h?i:s),ih:u.Ht??(h?o:a),sh:u.nh??(h?l:c)}},Custom:(n,e,t,r)=>({th:ke(n(t,r)).R??e.color}),Area:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(n,e,t,r)=>({th:ke(n(t,r)).R??e.color})};class Xme{constructor(e){this.fh=(t,r)=>r!==void 0?r.Wt:this.ye.qs().ph(t),this.ye=e,this.mh=Kme[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function iK(n,e,t,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],t)===n?(i=l+1,o-=a+1):o=a}return i}const Hh=iK.bind(null,!0),sK=iK.bind(null,!1);var w5;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(w5||(w5={}));const ha=30;class Qme{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){const r=this.Th(e,t);return r===null?null:{...this.Rh(r),js:this.Ph(r)}}Dh(){return this.Mh}Ih(e,t,r){if(this.Gi())return null;let i=null;for(const s of r)i=T0(i,this.Vh(e,t,s));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(t=>t.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const r=this.Eh(e);if(r===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return r}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return Hh(this.Mh,e,(t,r)=>t.js<r)}Oh(e){return sK(this.Mh,e,(t,r)=>t.js>r)}Nh(e,t,r){let i=null;for(let s=e;s<t;s++){const o=this.Mh[s].Wt[r];Number.isNaN(o)||(i===null?i={Fh:o,Wh:o}:(o<i.Fh&&(i.Fh=o),o>i.Wh&&(i.Wh=o)))}return i}Vh(e,t,r){if(this.Gi())return null;let i=null;const s=ke(this.kh()),o=ke(this.sn()),a=Math.max(e,s),l=Math.min(t,o),c=Math.ceil(a/ha)*ha,u=Math.max(c,Math.floor(l/ha)*ha);{const d=this.zh(a),f=this.Oh(Math.min(l,c,t));i=T0(i,this.Nh(d,f,r))}let h=this.bh.get(r);h===void 0&&(h=new Map,this.bh.set(r,h));for(let d=Math.max(c+1,a);d<u;d+=ha){const f=Math.floor(d/ha);let m=h.get(f);if(m===void 0){const g=this.zh(f*ha),v=this.Oh((f+1)*ha-1);m=this.Nh(g,v,r),h.set(f,m)}i=T0(i,m)}{const d=this.zh(u),f=this.Oh(l);i=T0(i,this.Nh(d,f,r))}return i}}function T0(n,e){return n===null?e:e===null?n:{Fh:Math.min(n.Fh,e.Fh),Wh:Math.max(n.Wh,e.Wh)}}function S1(){return new Qme}const Cy={setLineStyle:qh};class Jme{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Cy)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Cy)}}class Zme{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new Jme(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}class oK{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,t;(t=(e=this.Zh).updateAllViews)==null||t.call(e)}Ys(){var r,i,s;const e=((i=(r=this.Zh).paneViews)==null?void 0:i.call(r))??[];if(((s=this.Kh)==null?void 0:s.qh)===e)return this.Kh.jh;const t=e.map(o=>new Zme(o));return this.Kh={qh:e,jh:t},t}Qn(e,t){var r,i;return((i=(r=this.Zh).hitTest)==null?void 0:i.call(r,e,t))??null}}let ege=class extends oK{ds(){return[]}};class tge{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Cy)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Cy)}}class _5{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new tge(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}function aK(n){var e,t,r;return{ri:n.text(),Ei:n.coordinate(),Vi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),G:n.backColor(),It:((t=n.visible)==null?void 0:t.call(n))??!0,pi:((r=n.tickVisible)==null?void 0:r.call(n))??!0}}class nge{constructor(e,t){this.Xt=new ZV,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...aK(this.Xh)}),this.Xt}}class rge extends Vb{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,r){const i=aK(this.Xh);r.G=i.G,e.R=i.R;const s=2/12*this.Ki.k();r.Ti=s,r.Ri=s,r.Ei=i.Ei,r.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class ige extends oK{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){var i,s,o;const e=((s=(i=this.Zh).timeAxisViews)==null?void 0:s.call(i))??[];if(((o=this.Qh)==null?void 0:o.qh)===e)return this.Qh.jh;const t=this.ye.Qt().Et(),r=e.map(a=>new nge(a,t));return this.Qh={qh:e,jh:r},r}Ks(){var i,s,o;const e=((s=(i=this.Zh).priceAxisViews)==null?void 0:s.call(i))??[];if(((o=this.ta)==null?void 0:o.qh)===e)return this.ta.jh;const t=this.ye.Ft(),r=e.map(a=>new rge(a,t));return this.ta={qh:e,jh:r},r}na(){var r,i,s;const e=((i=(r=this.Zh).priceAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.ia)==null?void 0:s.qh)===e)return this.ia.jh;const t=e.map(o=>new _5(o));return this.ia={qh:e,jh:t},t}ea(){var r,i,s;const e=((i=(r=this.Zh).timeAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.sa)==null?void 0:s.qh)===e)return this.sa.jh;const t=e.map(o=>new _5(o));return this.sa={qh:e,jh:t},t}ra(e,t){var r,i;return((i=(r=this.Zh).autoscaleInfo)==null?void 0:i.call(r,e,t))??null}}function k1(n,e,t,r){n.forEach(i=>{e(i).forEach(s=>{s.Yh()===t&&r.push(s)})})}function C1(n){return n.Ys()}function sge(n){return n.na()}function oge(n){return n.ea()}const age=["Area","Line","Baseline"];class Qb extends Vme{constructor(e,t,r,i,s){super(e),this.jt=S1(),this._r=new Bme(this),this.ha=[],this.aa=new Lme(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new Gme,this.da=new Map,this.fa=null,this.Ps=r,this.pa=t;const o=new zme(this);if(this.gs=[o],this.ur=new rK(o,this,e),age.includes(this.pa)&&(this.la=new jme(this)),this.va(),this.$h=i(this,this.Qt(),s),this.pa==="Custom"){const a=this.$h;a.ma&&this.wa(a.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},r=this.Ft();if(this.Qt().Et().Gi()||r.Gi()||this.jt.Gi())return t;const i=this.Qt().Et().Ie(),s=this.Lt();if(i===null||s===null)return t;let o,a;if(e){const h=this.jt.Ch();if(h===null)return t;o=h,a=h.js}else{const h=this.jt.$s(i.bi(),-1);if(h===null||(o=this.jt.ph(h.js),o===null))return t;a=h.js}const l=o.Wt[3],c=this.ga().gh(a,{Wt:o}),u=r.Nt(l,s.Wt);return{Be:!1,gt:l,ri:r.Ji(l,s.Wt),Ue:r.Ma(l),$e:r.ba(l,s.Wt),R:c.th,Ei:u,js:a}}ga(){return this.oa!==null||(this.oa=new Xme(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:r,visible:i,priceFormat:s}=e;r!==void 0&&r!==this.Ps.priceScaleId&&t.Sa(this,r),i!==void 0&&i!==this.Ps.visible&&t.xa();const o=e.conflationThresholdFactor!==void 0;bi(this.Ps,e),o&&(this.da.clear(),this.Qt().dr()),s!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const r=this.Qt().Et().N();r.enableConflation&&r.precomputeConflationOnInit&&this.Pa(r.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new Yme(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const r=this.pa==="Custom",i=r&&this.fa||void 0,s=r&&this.$h.Oa?l=>{const c=l,u=this.$h.Oa(c);return Array.isArray(u)?u:[typeof u=="number"?u:0]}:void 0,o=this.ca.kr(this.jt.Dh(),e,t,i,r,s),a=S1();a.ht(o),this.da.set(t,a)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const t=this.za(),r=this.da.get(t);return r||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return t===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];k1(this.ua,C1,"top",t);const r=this.la;return r!==null&&r.It()&&(this._a===null&&r.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),r.Te(),t.unshift(r)),t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map(r=>r.pr());return e.push(...t),k1(this.ua,C1,"normal",e),e}qa(){return this.ja(C1,"bottom")}Ya(e){return this.ja(sge,e)}Ka(e){return this.ja(oge,e)}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const r=[...this.gs];for(const i of this.ha)r.push(i.mr());return this.ua.forEach(i=>{r.push(...i.Ks())}),r}fs(){const e=[];return this.ua.forEach(t=>{e.push(...t.fs())}),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){const r=this.Ps.autoscaleInfoProvider(()=>{const i=this.Ga(e,t);return i===null?null:i.tr()});return ky.ir(r)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const t of this.gs)t.kt();for(const t of this.ha)t.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(t=>t.Ws())}Ft(){return ke(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new ige(e,this))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Kb(this.Ft().ol())}Ga(e,t){if(!lm(e)||!lm(t)||this.jt.Gi())return null;const r=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,t,r);let s=i!==null?new Ar(i.Fh,i.Wh):null,o=null;if(this.wh()==="Histogram"){const a=this.Ps.base,l=new Ar(a,a);s=s!==null?s.Sn(l):l}return this.ua.forEach(a=>{const l=a.ra(e,t);if(l!=null&&l.priceRange){const c=new Ar(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.Sn(c):c}l!=null&&l.margins&&(o=l.margins)}),new ky(s,o)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new Rme(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new nK(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Xb(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){const r=[];return k1(this.ua,e,t,r),r}za(){const{ul:e,cl:t,dl:r}=this.fl();return this.ca.gr(e,t,r)}fl(){const e=this.Qt().Et(),t=e.ul(),r=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:t,cl:r,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const t=this.jt.Dh();let r;if(this.pa==="Custom"&&this.fa!==null){const s=this.rl();if(!s)throw new Error(Ume);r=this.ca.Mr(t,e,this.fa,!0,o=>s(o))}else r=this.ca.Mr(t,e);const i=S1();return i.ht(r),i}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){var r;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const i of t){const s=()=>{this.ml(i)},o=typeof window=="object"&&window||typeof self=="object"&&self;(r=o==null?void 0:o.gl)!=null&&r.wl?o.gl.wl(()=>{s()},{Ml:e}):Promise.resolve().then(()=>s())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const t=this.pl(e);this.da.set(e,t)}}const lge=[3],cge=[0,1,2,3];class uge{constructor(e){this.Ps=e}bl(e,t,r){let i=e;if(this.Ps.mode===0)return i;const s=r.Rs(),o=s.Lt();if(o===null)return i;const a=s.Nt(e,o),l=r.Sl().filter(u=>u instanceof Qb).reduce((u,h)=>{if(r.Zn(h)||!h.It())return u;const d=h.Ft(),f=h.qs();if(d.Gi()||!f.Ee(t))return u;const m=f.ph(t);if(m===null)return u;const g=Na(h.Lt()),v=this.Ps.mode===3?cge:lge;return u.concat(v.map(y=>d.Nt(m.Wt[y],g.Wt)))},[]);if(l.length===0)return i;l.sort((u,h)=>Math.abs(u-a)-Math.abs(h-a));const c=l[0];return i=s.Ds(c,o),i}}function np(n,e,t){return Math.min(Math.max(n,e),t)}function M0(n,e,t){return e-n<=t}class hge extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=ke(this.jt);if(o.xl){e.strokeStyle=o.Cl,qh(e,o.yl),e.beginPath();for(const a of o.kl){const l=Math.round(a.Pl*r);e.moveTo(l,-s),e.lineTo(l,t.height+s)}e.stroke()}if(o.Tl){e.strokeStyle=o.Rl,qh(e,o.Dl),e.beginPath();for(const a of o.Il){const l=Math.round(a.Pl*i);e.moveTo(-s,l),e.lineTo(t.width+s,l)}e.stroke()}})}}class dge{constructor(e){this.Xt=new hge,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(r=>({Pl:r.coord}))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class fge{constructor(e){this.$h=new dge(e)}pr(){return this.$h}}const E1={Bl:4,El:1e-4};function Du(n,e){const t=100*(n-e)/e;return e<0?-t:t}function pge(n,e){const t=Du(n.Ze(),e),r=Du(n.Ge(),e);return new Ar(t,r)}function rp(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function mge(n,e){const t=rp(n.Ze(),e),r=rp(n.Ge(),e);return new Ar(t,r)}function Ey(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.log10(t+e.El)+e.Bl;return n<0?-r:r}function ip(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.pow(10,t-e.Bl)-e.El;return n<0?-r:r}function cf(n,e){if(n===null)return null;const t=Ey(n.Ze(),e),r=Ey(n.Ge(),e);return new Ar(t,r)}function Au(n,e){if(n===null)return null;const t=ip(n.Ze(),e),r=ip(n.Ge(),e);return new Ar(t,r)}function T1(n){if(n===null)return E1;const e=Math.abs(n.Ge()-n.Ze());if(e>=1||e<1e-15)return E1;const t=Math.ceil(Math.abs(Math.log10(e))),r=E1.Bl+t;return{Bl:r,El:1/Math.pow(10,r)}}class M1{constructor(e,t){if(this.Al=e,this.Ll=t,function(r){if(r<0)return!1;if(r>1e18)return!0;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let r=this.Al;r!==1;){if(r%2==0)this.zl.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),r/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,r){const i=this.Al===0?0:1/this.Al;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),o=0,a=this.Ll[0];for(;;){const h=M0(s,i,1e-14)&&s>i+1e-14,d=M0(s,r*a,1e-14),f=M0(s,1,1e-14);if(!(h&&d&&f))break;s/=a,a=this.Ll[++o%this.Ll.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.zl.length>0&&(l=s,c=1,u=1e-14,Math.abs(l-c)<u))for(o=0,a=this.zl[0];M0(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.zl[++o%this.zl.length];var l,c,u;return s}}class S5{constructor(e,t,r,i){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=r,this.Wl=i}Ol(e,t){if(e<t)throw new Error("high < low");const r=this.Ki.$t(),i=(e-t)*this.Hl()/r,s=new M1(this.Al,[2,2.5,2]),o=new M1(this.Al,[2,2,2.5]),a=new M1(this.Al,[2.5,2,2]),l=[];return l.push(s.Ol(e,t,i),o.Ol(e,t,i),a.Ol(e,t,i)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let h=1;h<c.length;++h)c[h]<u&&(u=c[h]);return u}(l)}Ul(){const e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);const r=e.$t(),i=this.Fl(r-1,t),s=this.Fl(0,t),o=this.Ki.N().entireTextOnly?this.$l()/2:0,a=o,l=r-1-o,c=Math.max(i,s),u=Math.min(i,s);if(c===u)return void(this.Nl=[]);const h=this.Ol(c,u);if(this.ql(t,h,c,u,a,l),e.jl()&&this.Yl(h,u,c)){const m=this.Ki.Kl();this.Zl(t,h,a,l,m,2*m)}const d=this.Nl.map(m=>m.Gl),f=this.Ki.Xl(d);for(let m=0;m<this.Nl.length;m++)this.Nl[m].Jl=f[m]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,r,i,s,o){const a=this.Nl,l=this.Ki;let c=r%t;c+=c<0?t:0;const u=r>=i?1:-1;let h=null,d=0;for(let f=r-c;f>i;f-=t){const m=this.Wl(f,e,!0);h!==null&&Math.abs(m-h)<this.Hl()||m<s||m>o||(d<a.length?(a[d].Pl=m,a[d].Jl=l.Ql(f),a[d].Gl=f):a.push({Pl:m,Jl:l.Ql(f),Gl:f}),d++,h=m,l.io()&&(t=this.Ol(f*u,i)))}a.length=d}Zl(e,t,r,i,s,o){const a=this.Nl,l=this.so(e,r,s,o),c=this.so(e,i,-o,-s),u=this.Wl(0,e,!0)-this.Wl(t,e,!0);a.length>0&&a[0].Pl-l.Pl<u/2&&a.shift(),a.length>0&&c.Pl-a[a.length-1].Pl<u/2&&a.pop(),a.unshift(l),a.push(c)}so(e,t,r,i){const s=(r+i)/2,o=this.Fl(t+r,e),a=this.Fl(t+i,e),l=Math.min(o,a),c=Math.max(o,a),u=Math.max(.1,this.Ol(c,l)),h=this.Fl(t+s,e),d=h-h%u,f=this.Wl(d,e,!0);return{Jl:this.Ki.Ql(d),Pl:f,Gl:d}}Yl(e,t,r){let i=Na(this.Ki.er());return this.Ki.io()&&(i=Au(i,this.Ki.no())),i.Ze()-t<e&&r-i.Ge()<e}}function lK(n){return n.slice().sort((e,t)=>ke(e._s())-ke(t._s()))}var k5;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(k5||(k5={}));const C5=new nK,E5=new Xb(100,1);class gge{constructor(e,t,r,i,s){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new An,this.fo=new An,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=E5,this.So=T1(null),this.xo=e,this.Ps=t,this.Co=r,this.yo=i,this.ko=s,this.Po=new S5(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(bi(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const t=ei(e.scaleMargins.top),r=ei(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(t+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+r}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let r=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&(function(s,o){if(s===null)return!1;const a=ip(s.Ze(),o),l=ip(s.Ge(),o);return isFinite(a)&&isFinite(l)}(this.sr,this.So)?(r=Au(this.sr,this.So),r!==null&&this.Lo(r)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(r=cf(this.sr,this.So),r!==null&&this.Lo(r));const i=t.ae!==this.Ps.mode;i&&(t.ae===2||this.He())&&this._l(),i&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const r=this.sr;(t||r===null&&e!==null||r!==null&&!r.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Du(e,t):this.Eo()&&(e=rp(e,t)),this.Ro(e,t)}Yo(e,t,r){this.Uo();const i=this.Ho(),s=ke(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m],v=g.gt;if(isNaN(v))continue;let y=v;f!==null&&(y=f(g.gt,t));const b=i+u*(y-o),w=c?b:this.eo-1-b;g.ut=w}}Zo(e,t,r){this.Uo();const i=this.Ho(),s=ke(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m];let v=g.Hr,y=g.Ur,b=g.$r,w=g.qr;f!==null&&(v=f(g.Hr,t),y=f(g.Ur,t),b=f(g.$r,t),w=f(g.qr,t));let S=i+u*(v-o),_=c?S:this.eo-1-S;g.Go=_,S=i+u*(y-o),_=c?S:this.eo-1-S,g.Xo=_,S=i+u*(b-o),_=c?S:this.eo-1-S,g.Jo=_,S=i+u*(w-o),_=c?S:this.eo-1-S,g.Qo=_}}Ds(e,t){const r=this.To(e,t);return this.t_(r,t)}t_(e,t){let r=e;return this.He()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,t):this.Eo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,t)),r}Sl(){return this.po}Dt(){return this.mo||(this.mo=lK(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const r=t.Lt();r!==null&&(e===null||r.Ea<e.Ea)&&(e=r)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=ke(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const r=ke(this.ho).Ke();t=Math.max(t,.1),r.Je(t),this.Lo(r)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=ke(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const t=ke(this.er()).Xe()/(this.Fo()-1);let r=e-this.bo;this.Ao()&&(r*=-1);const i=r*t,s=ke(this.ho).Ke();s.Qe(i),this.Lo(s,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Du(e,t));case 3:return this.Xa().format(rp(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,ke(this.vo).Xa())}ba(e,t){return e=Du(e,t),this.c_(e,C5)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const r of this.po)r._s()<e&&(e=r._s(),this.vo=r);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=E5,this.He()?(this.Ja=C5,t=100):this.Eo()?(this.Ja=new Xb(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new S5(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Ey(e,this.So):e;const r=ke(this.er()),i=this.Ho()+(this.Fo()-1)*(e-r.Ze())/r.Xe();return this.jo(i)}To(e,t){if(this.Uo(),this.Gi())return 0;const r=this.jo(e),i=ke(this.er()),s=i.Ze()+i.Xe()*((r-this.Ho())/(this.Fo()-1));return this.io()?ip(s,this.So):s}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let t=null;const r=this.p_();let i=0,s=0;for(const l of r){if(!l.It())continue;const c=l.Lt();if(c===null)continue;const u=l.ra(e.Aa(),e.bi());let h=u&&u.er();if(h!==null){switch(this.Ps.mode){case 1:h=cf(h,this.So);break;case 2:h=pge(h,c.Wt);break;case 3:h=mge(h,c.Wt)}if(t=t===null?h:t.Sn(ke(h)),u!==null){const d=u.rr();d!==null&&(i=Math.max(i,d.above),s=Math.max(s,d.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),s=Math.max(s,this.Kl())),i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){const l=5*this.m_();this.io()&&(t=Au(t,this.So)),t=new Ar(t.Ze()-l,t.Ge()+l),this.io()&&(t=cf(t,this.So))}if(this.io()){const l=Au(t,this.So),c=T1(l);if(o=c,a=this.So,o.Bl!==a.Bl||o.El!==a.El){const u=this.ho!==null?Au(this.ho,this.So):null;this.So=c,t=cf(l,c),u!==null&&(this.ho=cf(u,c))}}this.Lo(t)}else this.sr===null&&(this.Lo(new Ar(-.5,.5)),this.So=T1(null));var o,a}Ko(){return this.He()?Du:this.Eo()?rp:this.io()?e=>Ey(e,this.So):null}g_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.format(e)):t(e)}M_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const r=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(r?i=>i.map(r):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const r=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(r?i=>i.map(r):void 0),t)}}function T5(n){return n instanceof Qb}class M5{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new An,this.ua=[],this.Jh=e,this.ns=t,this.k_=new fge(this);const r=t.N();this.P_=this.T_("left",r.leftPriceScale),this.R_=this.T_("right",r.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(r)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const r of t){const i=ke(r[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?ei(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const t=e.Gh();return t.detached&&t.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(t=>{if(this.Zn(t)){const r=t.Ft();r!==null&&r.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(T5)}Sl(){return this.po}Zn(e){const t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,r){this.W_(e,t,r?e._s():this.po.length)}n_(e,t){const r=this.po.indexOf(e);ar(r!==-1,"removeDataSource: invalid data source"),this.po.splice(r,1),t||this.po.forEach((o,a)=>o.us(a));const i=ke(e.Ft()).ol();if(this.b_.has(i)){const o=ei(this.b_.get(i)),a=o.indexOf(e);a!==-1&&(o.splice(a,1),o.length===0&&this.b_.delete(i))}const s=e.Ft();s&&s.Sl().indexOf(e)>=0&&(s.n_(e),this.H_(s)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=lK(this.po)),this.mo}su(e,t){t=np(t,0,this.po.length-1);const r=this.po.indexOf(e);ar(r!==-1,"setSeriesOrder: invalid data source"),this.po.splice(r,1),this.po.splice(t,0,e),this.po.forEach((i,s)=>i.us(s)),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(T5)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new ege(e))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const r=this.Jh.Ie();r!==null&&e.v_(r)}e.Ws()}W_(e,t,r){let i=this.V_(t);if(i===null&&(i=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(r,0,e),!Kb(t)){const s=this.b_.get(t)||[];s.push(e),this.b_.set(t,s)}e.us(r),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,t,r){t.ae!==r.ae&&this.J_(e)}T_(e,t){const r={visible:!0,autoScale:!0,...Do(t)},i=new gge(e,r,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function P0(n){return{hu:n.hu,au:{te:n.lu.externalId},ou:n.lu.cursorStyle}}function vge(n,e,t,r){for(const i of n){const s=i.Tt(r);if(s!==null&&s.Qn){const o=s.Qn(e,t);if(o!==null)return{_u:i,au:o}}}return null}function yge(n){return n.Ys!==void 0}function cK(n,e,t){const r=[n,...n.Dt()],i=function(s,o,a){var d;let l,c;for(const f of s){const m=((d=f.Za)==null?void 0:d.call(f,o,a))??[];for(const g of m)u=g.zOrder,h=l==null?void 0:l.zOrder,(!h||u==="top"&&h!=="top"||u==="normal"&&h==="bottom")&&(l=g,c=f)}var u,h;return l&&c?{lu:l,hu:c}:null}(r,e,t);if((i==null?void 0:i.lu.zOrder)==="top")return P0(i);for(const s of r){if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return P0(i);if(yge(s)){const o=vge(s.Ys(n),e,t,n);if(o!==null)return{hu:s,_u:o._u,au:o.au}}if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return P0(i)}return i!=null&&i.lu?P0(i):null}class bge{constructor(e,t,r=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=r}du(e){const t=e.time,r=this.cu.cacheKey(t),i=this.Ln.get(r);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const o=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(ei(o)),this.En++,this.Vn--}const s=this.uu(e);return this.Ln.set(r,{fu:s,Wn:this.Bn}),this.An.set(this.Bn,r),this.Vn++,this.Bn++,s}}class sp{constructor(e,t){ar(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function P5(n,e){return n===null||e===null?n===e:n.Ye(e)}class xge{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let r=t;r<e.length;++r){const i=e[r];let s=this.wu.get(i.timeWeight);s===void 0&&(s=[],this.wu.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,t,r,i,s){const o=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===o&&s===this.Ln.yu&&r===this.Ln.ku||(this.Ln={yu:s,ku:r,Vl:this.Pu(o,r,i),Cu:o}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const t=[];this.wu.forEach((r,i)=>{e<=r[0].index?t.push(i):r.splice(Hh(r,e,s=>s.index<e),1/0)});for(const r of t)this.wu.delete(r)}Pu(e,t,r){let i=[];const s=o=>!t||r.has(o.index);for(const o of Array.from(this.wu.keys()).sort((a,l)=>l-a)){if(!this.wu.get(o))continue;const a=i;i=[];const l=a.length;let c=0;const u=ei(this.wu.get(o)),h=u.length;let d=1/0,f=-1/0;for(let m=0;m<h;m++){const g=u[m],v=g.index;for(;c<l;){const y=a[c],b=y.index;if(!(b<v&&s(y))){d=b;break}c++,i.push(y),f=b,d=1/0}if(d-v>=e&&v-f>=e&&s(g))i.push(g),f=v;else if(this.gu)return a}for(;c<l;c++)s(a[c])&&i.push(a[c])}return i}}class Gu{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new sp(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Gu(null)}}function wge(n,e){return n.weight>e.weight?n:e}class _ge{constructor(e,t,r,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new xge,this.Au=new Map,this.Lu=Gu.Iu(),this.zu=!0,this.Ou=new An,this.Nu=new An,this.Fu=new An,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=r,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=i,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){bi(this.yo,e),this.tc(),this.Gu()}cr(e,t){bi(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var t;return((t=this.Bu[e])==null?void 0:t.time)??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const r=Hh(this.Bu,this.cu.key(e),(i,s)=>this.cu.key(i.time)<s);return this.cu.key(e)<this.cu.key(this.Bu[r].time)?t?r:null:r}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),r=Math.round(e.to),i=ke(this._c()),s=ke(this.uc());return{from:ke(this.es(Math.max(i,t))),to:ke(this.es(Math.min(s,r)))}}cc(e){return{from:ke(this.ec(e.from,!0)),to:ke(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const t=this.ac(),r=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Ku*e/r;this.Ku=i}if(this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){const i=r-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!lm(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const r=this.vc(),i=t===void 0?0:t.from,s=t===void 0?e.length:t.to;for(let o=i;o<s;o++){const a=e[o].wt,l=r+this.Yu-a,c=this.S_-(l+.5)*this.Ku-1;e[o]._t=c}}wc(e,t){const r=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(r)?this.bc(r):r}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0){const r=this.Yu*t/this.Ku;this.Yu=r}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),r=Math.round(t/e),i=ke(this.Ie()),s=Math.max(i.Aa(),i.Aa()-r),o=Math.max(i.bi(),i.bi()-r),a=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+r,c=this.uc()-r,u=this.yc(),h=this.Ps.fixLeftEdge||u,d=this.Ps.fixRightEdge||u;let f=0;for(const m of a){if(!(s<=m.index&&m.index<=o))continue;let g;f<this.qu.length?(g=this.qu[f],g.coord=this.qt(m.index),g.label=this.kc(m),g.weight=m.weight):(g={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.kc(m),weight:m.weight},this.qu.push(g)),this.Ku>t/2&&!u?g.needAlignCoordinate=!1:g.needAlignCoordinate=h&&m.index<=l||d&&m.index>=c,f++}return this.qu.length=f,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const r=this.gc(e),i=this.ul(),s=i+t*(i/10);this.gn(s),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(r-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const t=np(this.S_-e,0,this.S_),r=np(this.S_-ke(this.Mo),0,this.S_);t!==0&&r!==0&&this.gn(this.Wu.ul*t/r)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const t=(this.bo-e)/this.ul();this.Yu=ke(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.Yu,i=performance.now();this.ns.vn({Ec:s=>(s-i)/t>=1,Ac:s=>{const o=(s-i)/t;return o>=1?e:r+(e-r)*o}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const r=e.mu(),i=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/r),this.Yu=e.bi()-this.vc(),t&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(e===null||t===null)return;const r=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new sp(e,t+r),!0)}Wc(e){const t=new sp(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const r of t.ll())this.Uu.set(r,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const r=[1];let i=2;for(;i<=512;)t<e/i&&r.push(i),i*=2;return r}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),r=this.vc()+this.Yu-t;return Math.round(1e6*r)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Gu.Iu());const e=this.vc(),t=this.S_/this.Ku,r=this.Yu+e,i=new sp(r-t+1,r);this.qc(new Gu(i))}dc(){const e=np(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,r=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(r,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new bge(r=>this.Gc(r),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,P5(t.Ru(),this.Lu.Ru())||this.Ou.p(),P5(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const t=this.Ie();if(t===null)return;const r=t.Aa()-e;if(r<0){const i=this.Yu-r-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=function*(i){const s=Math.round(i),o=s<i;let a=1;for(;;)o?(yield s+a,yield s-a):(yield s-a,yield s+a),a++}(e),r=this.uc();for(;r;){const i=t.next().value;if(this.Uu.get(i))return i;if(i<0||i>r)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var I5,O5,R5,D5,A5;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(I5||(I5={}));class Sge{constructor(e,t,r){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new An,this.nd=new An,this.ed=null,this.rd=e,this.Ps=t,this.cu=r,this.ko=new xme(this.Ps.layout.colorParsers),this.hd=new bme(this),this.Jh=new _ge(this,t.timeScale,this.Ps.localization,r),this.Ct=new Ome(this,t.crosshair),this.ad=new uge(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(or.yn())}dr(){this.dd(or.Cn())}Ua(){this.dd(new or(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){var r,i,s,o;if(((r=this.td)==null?void 0:r.hu)===(e==null?void 0:e.hu)&&((s=(i=this.td)==null?void 0:i.au)==null?void 0:s.te)===((o=e==null?void 0:e.au)==null?void 0:o.te))return;const t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==(t==null?void 0:t.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){bi(this.Ps,e),this.Xc.forEach(t=>t.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,r=0){const i=this.Xc[r];if(i===void 0)return;if(e==="left")return bi(this.Ps,{leftPriceScale:t}),i.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e==="right")return bi(this.Ps,{rightPriceScale:t}),i.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const s=this.wd(e,r);s!==null&&(s.Ft.cr(t),this.sd.p())}wd(e,t){const r=this.Xc[t];if(r===void 0)return null;const i=r.V_(e);return i!==null?{Gs:r,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(t=>t.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(ar(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;ar(e>=0&&e<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc.reduce((h,d)=>h+d.E_(),0),s=this.Xc.reduce((h,d)=>h+d.$t(),0),o=s-30*(this.Xc.length-1);t=Math.min(o,Math.max(30,t));const a=i/s,l=r.$t();r.A_(t*a);let c=t-l,u=this.Xc.length-1;for(const h of this.Xc)if(h!==r){const d=Math.min(o,Math.max(30,h.$t()-c/u));c-=h.$t()-d,u-=1;const f=d*a;h.A_(f)}this.Ca()}Cd(e,t){ar(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc[t];this.Xc[e]=i,this.Xc[t]=r,this.Ca()}yd(e,t){if(ar(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[r]=this.Xc.splice(e,1);this.Xc.splice(t,0,r),this.Ca()}j_(e,t,r){e.j_(t,r)}Y_(e,t,r){e.Y_(t,r),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,r){t.Vo()||e.Z_(t,r)}G_(e,t,r){t.Vo()||(e.G_(t,r),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const r=this.Et();if(r.Gi()||t===0)return;const i=r.ss();e=Math.max(1,Math.min(e,i)),r.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,t,r,i,s){this.Ct.Bs(e,t);let o=NaN,a=this.Jh.wc(e,!0);const l=this.Jh.Ie();l!==null&&(a=Math.min(Math.max(l.Aa(),a),l.bi())),a=this.Ct.Hs(a);const c=i.Rs(),u=c.Lt();if(u!==null&&(o=c.Ds(t,u)),o=this.ad.bl(o,a,i),this.Ct.zs(a,o,i),this.Ua(),!s){const h=cK(i,e,t);this.vd(h&&{hu:h.hu,au:h.au,ou:h.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},r)}}Ld(e,t,r){const i=r.Rs(),s=i.Lt(),o=i.Nt(e,ke(s)),a=this.Jh.ec(t,!0),l=this.Jh.qt(ke(a));this.Ad(l,o,null,r,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const t=this.Ct.As(),r=this.Ct.Ls();this.Ad(t,r,null,e)}this.Ct.Ws()}Od(e,t,r){const i=this.Jh.Is(0);t!==void 0&&r!==void 0&&this.Jh.kt(t,r);const s=this.Jh.Is(0),o=this.Jh.vc(),a=this.Jh.Ie();if(a!==null&&i!==null&&s!==null){const l=a.Ee(o),c=this.cu.key(i)>this.cu.key(s),u=e!==null&&e>o&&!c,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=l&&(r!==void 0||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(u&&!d){const f=e-o;this.Jh.Mn(this.Jh.Cc()-f)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(r){return r instanceof M5}(e))return e;const t=this.Xc.find(r=>r.Dt().includes(e));return t===void 0?null:t}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const r=this.ld(t);this.Wd(e,r),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),r=this.Jc.indexOf(e);ar(r!==-1,"Series not found");const i=ke(t);this.Jc.splice(r,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,t){const r=ke(this.Kn(e));r.n_(e,!0),r.i_(e,t,!0)}Fc(){const e=or.Cn();e.cn(),this.dd(e)}$d(e){const t=or.Cn();t.pn(e),this.dd(t)}wn(){const e=or.Cn();e.wn(),this.dd(e)}gn(e){const t=or.Cn();t.gn(e),this.dd(t)}Mn(e){const t=or.Cn();t.Mn(e),this.dd(t)}vn(e){const t=or.Cn();t.vn(e),this.dd(t)}dn(){const e=or.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(ar(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const r=ke(this.Kn(e));r.n_(e);const i=this.ld(t);this.Wd(e,i),r.Sl().length===0&&this.Ud(r),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,r=this.od;if(t===r)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==r||this.ed.rh!==t)this.ed={eh:r,rh:t,Zd:new Map};else{const s=this.ed.Zd.get(e);if(s!==void 0)return s}const i=this.ko.tt(r,t,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new M5(this.Jh,this);this.Xc.push(t);const r=e??this.Xc.length-1,i=or.yn();return i.hn(r,{an:0,ln:!0}),this.dd(i),t}ld(e){return ar(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(t=>t.F_().includes(e))}kd(e,t){const r=new or(t);if(e!==null){const i=this.Xc.indexOf(e);r.hn(i,{an:t})}return r}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(t=>t.eu().pr().kt())}Wd(e,t){const r=e.N().priceScaleId,i=r!==void 0?r:this.qd();t.i_(e,i),Kb(i)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function uK(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const t=Math.round(n);if(Math.abs(t-n)<1e-8)return e;n*=10}return e}function XM(n){return!Uh(n)&&!Km(n)}function hK(n){return Uh(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(O5||(O5={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(R5||(R5={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(D5||(D5={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(A5||(A5={}));const N5=n=>n.getUTCFullYear();function kge(n,e,t){return e.replace(/yyyy/g,(r=>Ao(N5(r),4))(n)).replace(/yy/g,(r=>Ao(N5(r)%100,2))(n)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(n,t)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(n,t)).replace(/MM/g,(r=>Ao((i=>i.getUTCMonth()+1)(r),2))(n)).replace(/dd/g,(r=>Ao((i=>i.getUTCDate())(r),2))(n))}class dK{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return kge(e,this.Qd,this.tf)}}class Cge{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Ao(e.getUTCHours(),2)).replace("%m",Ao(e.getUTCMinutes(),2)).replace("%s",Ao(e.getUTCSeconds(),2))}}const Ege={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Tge{constructor(e={}){const t={...Ege,...e};this.hf=new dK(t.sf,t.rf),this.af=new Cge(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function I0(n){return 60*n*60*1e3}function P1(n){return 60*n*1e3}const O0=[{_f:(L5=1,1e3*L5),uf:10},{_f:P1(1),uf:20},{_f:P1(5),uf:21},{_f:P1(30),uf:22},{_f:I0(1),uf:30},{_f:I0(3),uf:31},{_f:I0(6),uf:32},{_f:I0(12),uf:33}];var L5;function F5(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=O0.length-1;t>=0;--t)if(Math.floor(e.getTime()/O0[t]._f)!==Math.floor(n.getTime()/O0[t]._f))return O0[t].uf;return 0}function I1(n){let e=n;if(Km(n)&&(e=FO(n)),!XM(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(t.getTime()/1e3),df:e}}function $5(n){if(!hK(n))throw new Error("time must be of type isUTCTimestamp");return{cf:n}}function FO(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function j5(n){Km(n.time)&&(n.time=FO(n.time))}class B5{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(t){t.forEach(j5)}(e):j5(e)}createConverterToInternalObj(e){return ke(function(t){return t.length===0?null:XM(t[0].time)||Km(t[0].time)?I1:$5}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return hK(t=e)?$5(t):XM(t)?I1(t):I1(FO(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Tge({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new dK(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,t.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=s.df===void 0?new Date(1e3*s.cf):new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,t.locale)}maxTickMarkWeight(e){let t=e.reduce(wge,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.cf,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const c=r[l],u=new Date(1e3*c.time.cf);o!==null&&(c.timeWeight=F5(u,o)),a+=c.time.cf-(s||c.time.cf),s=c.time.cf,o=u}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),c=new Date(1e3*(r[0].time.cf-l));r[0].timeWeight=F5(new Date(1e3*r[0].time.cf),c)}})(e,t)}static pf(e){return bi({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Wh=typeof window<"u";function z5(){return!!Wh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function O1(){return!!Wh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function QM(n){return n+n%2}function Mge(n){Wh&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Jb{constructor(e,t,r){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!O1(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const s=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:o}=this.Zf(Os(i),this.bf);o<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}}else{const s=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:o}=this.Zf(Os(i),this.wf);o<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=r,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=R1(e.changedTouches,ke(this.Wf));if(t===null||(this.Ff=R0(e),this.Af!==null)||this.Of)return;this.zf=!0;const r=this.Zf(Os(t),ke(this.yf)),{up:i,cp:s,Kf:o}=r;if(this.kf||!(o<5)){if(!this.kf){const a=.5*i,l=s>=a&&!this.Ps.dp(),c=a>s&&!this.Ps.fp();l||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const a=this.Yf(e,t);this.Gf(a,this.Jf.pp),lu(e)}}}vp(e){if(e.button!==0)return;const t=this.Zf(Os(e),ke(this.Cf)),{Kf:r}=t;if(r>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,t){const r=Math.abs(t._t-e._t),i=Math.abs(t.ut-e.ut);return{up:r,cp:i,Kf:r+i}}wp(e){let t=R1(e.changedTouches,ke(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=R0(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const r=this.Yf(e,t);if(this.Gf(r,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Os(t),this.bf);i<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(r,this.Jf.Mp),this.Jf.Mp&&lu(e));this.gf===0&&lu(e),e.touches.length===0&&this.xf&&(this.xf=!1,lu(e))}$f(e){if(e.button!==0)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),z5()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:r}=this.Zf(Os(e),this.wf);r<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=R0(e);const r=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Os(t),this.Ef&&(this.Ef(),this.Ef=null);{const s=this._p.bind(this),o=this.wp.bind(this);this.Ef=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,t);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Os(t))}kp(e){if(e.button!==0)return;const t=this.np.ownerDocument.documentElement;z5()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Os(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),s=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",s)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s)}if(this.Nf=!0,this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Os(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=r=>{this.Jf.Tp&&(r.composed&&this.np.contains(r.composedPath()[0])||r.target&&this.np.contains(r.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}O1()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Mge(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const t=q5(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),lu(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=q5(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!O1()}Cp(e){const t=R1(e.touches,ke(this.Wf));if(t===null)return;const r=this.Yf(e,t);this.Gf(r,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:R0(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const r=t||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:r.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&lu(e)}}}}function q5(n,e){const t=n.clientX-e.clientX,r=n.clientY-e.clientY;return Math.sqrt(t*t+r*r)}function lu(n){n.cancelable&&n.preventDefault()}function Os(n){return{_t:n.pageX,ut:n.pageY}}function R0(n){return n.timeStamp||performance.now()}function R1(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}class Pge{constructor(e,t,r){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[r],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Yt({width:this.Kp.sv().width,height:1})}nv(){return Yt({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,r){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,r,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const r=document.createElement("div"),i=r.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(r);const s={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Jb(r,s,{dp:()=>!1,fp:()=>!0}),this.Up={hv:r,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),r=t/(this.Kp.sv().height+this.Gp.sv().height),i=30*r;t<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-i,vv:t,mv:r,wv:i},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(t===null)return;const r=(e.pageY-t.dv)*t.mv,i=np(t.fv+r,t.wv,t.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(t.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function D1(n,e){return n.gv-e.gv}function A1(n,e,t){const r=(n.gv-e.gv)/(n.wt-e.wt);return Math.sign(r)*Math.min(Math.abs(r),t)}class Ige{constructor(e,t,r,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=r,this.kn=i}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let r=0;const i=A1(this.Mv,this.bv,this.Tv),s=D1(this.Mv,this.bv),o=[i],a=[s];if(r+=s,this.Sv!==null){const c=A1(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(i)){const u=D1(this.bv,this.Sv);if(o.push(c),a.push(u),r+=u,this.xv!==null){const h=A1(this.Sv,this.xv,this.Tv);if(Math.sign(h)===Math.sign(i)){const d=D1(this.Sv,this.xv);o.push(h),a.push(d),r+=d}}}}let l=0;for(let c=0;c<o.length;++c)l+=a[c]/r*o[c];Math.abs(l)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=l,this.yv=function(c,u){const h=Math.log(u);return Math.log(1*h/-c)/h}(Math.abs(l),this.Rv))}Ac(e){const t=ke(this.Cv),r=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,r)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const t=e-ke(this.Cv).wt;return Math.min(t,this.yv)}}class Oge{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function xc(n,e){const t=ke(n.ownerDocument).createElement("canvas");n.appendChild(t);const r=pme(t,{options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function wc(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function JM(n,e,t,r){n.Uh&&n.Uh(e,t,r)}function Cv(n,e,t,r){n.nt(e,t,r)}function ZM(n,e,t,r){const i=n(t,r);for(const s of i){const o=s.Tt(r);o!==null&&e(o)}}function N1(n,e){return t=>{var r,i;return function(s){return s.Ft!==void 0}(t)?(((r=t.Ft())==null?void 0:r.ol())??"")!==e?[]:((i=t.Ya)==null?void 0:i.call(t,n))??[]:[]}}function U5(n,e,t,r){if(!n.length)return;let i=0;const s=n[0].$t(r,!0);let o=e===1?t/2-(n[0].Hi()-s/2):n[0].Hi()-s/2-t/2;o=Math.max(0,o);for(let a=1;a<n.length;a++){const l=n[a],c=n[a-1],u=c.$t(r,!1),h=l.Hi(),d=c.Hi();if(e===1?h>d-u:h<d+u){const f=d-u*e;l.Ui(f);const m=f-e*u/2;if((e===1?m<0:m>t)&&o>0){const g=e===1?-1-m:m-t,v=Math.min(g,o);for(let y=i;y<n.length;y++)n[y].Ui(n[y].Hi()+e*v);o-=v}}else i=a,o=e===1?d-u-h:h-(d+u)}}class H5{constructor(e,t,r,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Sy(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=r,this.Jv=i==="left",this.Qv=N1("normal",i),this.tm=N1("top",i),this.im=N1("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=xc(this.Jp,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=xc(this.Jp,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Jb(this.nm.canvasElement,a,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),wc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),wc(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const t=this.lm(),r=ke(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));r.save();const i=this.Ki.Vl();r.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(r,i[0].Jl),this.qv.Ii(r,i[i.length-1].Jl)));const s=this.um();for(let c=s.length;c--;){const u=this.qv.Ii(r,s[c].ri());u>e&&(e=u)}const o=this.Ki.Lt();if(o!==null&&this.Uv!==null&&(a=this.Ps.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const c=this.Ki.Ds(1,o),u=this.Ki.Ds(this.Uv.height-2,o);e=Math.max(e,this.qv.Ii(r,this.Ki.Ji(Math.floor(Math.min(c,u))+.11111111111111,o)),this.qv.Ii(r,this.Ki.Ji(Math.ceil(Math.max(c,u))-.11111111111111,o)))}var a;r.restore();const l=e||34;return QM(Math.ceil(t.S+t.C+t.V+t.B+5+l))}dm(e){this.Uv!==null&&ic(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return ke(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,ke(this.Ft()))}pm(e){if(this.Uv===null)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=bc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s)}),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const r=bc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.xm(r),this.yt.Mm(r,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!0,t.j_(r,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv(),i=this.Ki;t.Y_(r,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),r=this.Ki;this.$v&&(this.$v=!1,e.K_(t,r))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!1,t.K_(r,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=this.Ki===null?void 0:this.Ki;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Ks(this.yt.cv(),t);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.yt.cv().Qt(),o=s.$(),a=s.Kd();o===a?Gb(e,0,0,r,i,o):JV(e,0,0,r,i,o,a)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*r));let s;s=this.Jv?t.width-i:0,e.fillRect(s,0,i,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const t=this.Ki.Vl(),r=this.Ki.N(),i=this.lm(),s=this.Jv?this.Uv.width-i.C:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),h=Math.round(i.C*a);o.beginPath();for(const d of t)o.rect(Math.floor(s*a),Math.round(d.Pl*l)-u,h,c);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this._m(),o.fillStyle=r.textColor??this.Co.textColor,o.textAlign=this.Jv?"right":"left",o.textBaseline="middle";const a=this.Jv?Math.round(s-i.V):Math.round(s+i.C+i.V),l=t.map(c=>this.qv.Di(o,c.Jl));for(let c=t.length;c--;){const u=t[c];o.fillText(u.Jl,a,u.Pl+l[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const t=[],r=this.Ki.Dt().slice(),i=this.yt.cv(),s=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach(l=>{i.Zn(l)&&r.push(l)});const o=this.Ki.Sl()[0],a=this.Ki;r.forEach(l=>{const c=l.Ks(i,a);c.forEach(u=>{u.$i()&&u.Wi()===null&&(u.Ui(null),t.push(u))}),o===l&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(t,s,e)}ym(e,t,r){if(this.Uv===null)return;const i=e.filter(o=>o.Ei()<=r),s=e.filter(o=>o.Ei()>r);i.sort((o,a)=>a.Ei()-o.Ei()),i.length&&s.length&&s.push(i[0]),s.sort((o,a)=>o.Ei()-a.Ei());for(const o of e){const a=Math.floor(o.$t(t)/2),l=o.Ei();l>-a&&l<a&&o.Ui(a),l>this.Uv.height-a&&l<this.Uv.height+a&&o.Ui(this.Uv.height-a)}U5(i,1,this.Uv.height,t),U5(s,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;const t=this.um(),r=this.lm(),i=this.Jv?"right":"left";t.forEach(s=>{s.qi()&&s.Tt(ke(this.Ki)).nt(e,r,this.qv,i)})}xm(e){if(this.Uv===null||this.Ki===null)return;const t=this.yt.Gv().Qt(),r=[],i=this.yt.cv(),s=t.gd().Ks(i,this.Ki);s.length&&r.push(s);const o=this.lm(),a=this.Jv?"right":"left";r.forEach(l=>{l.forEach(c=>{c.Tt(ke(this.Ki)).nt(e,o,this.qv,a)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return _y(this.Co.fontSize,this.Co.fontFamily)}}function Rge(n,e){var t;return((t=n.qa)==null?void 0:t.call(n,e))??[]}function W5(n,e){var t;return((t=n.Ys)==null?void 0:t.call(n,e))??[]}function Y5(n,e){var t;return((t=n.ds)==null?void 0:t.call(n,e))??[]}function Dge(n,e){var t;return((t=n.Ha)==null?void 0:t.call(n,e))??[]}class $O{constructor(e,t){this.Uv=Yt({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new An,this.Vm=new An,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(r),this.sm=xc(r,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=xc(r,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Jb(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),wc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),wc(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return ke(this.Nm)}qm(e){var t;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i($O.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Oge(this.Wm,this.Lv),this.Tm.kt()):((t=this.Tm)==null||t.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(ke(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(ke(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const r=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,r)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const t=e.localX,r=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=ke(this.zm),s=i.x+(t-this.Am.x),o=i.y+(r-this.Am.y);this.Zm(s,o,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const r=this.Nm;return r===null?null:cK(r,e,t)}hw(e,t){ke(t==="left"?this.km:this.Pm).dm(Yt({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ic(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=ke(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const r=t.Ft();r!==null&&e.H_(r),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e!==null&&e.drawImage(o,t,r)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=bc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s)}),this.Nm&&(this.lw(i,Rge),this.ow(i),this.lw(i,W5),this.lw(i,Y5)))}this.nm.applySuggestedBitmapSize();const r=bc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this._w(r),this.lw(r,Dge),this.lw(r,Y5))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const r=t.localX,i=t.localY;e.v()&&e.p(this.ns().Et().wc(r),{x:r,y:i},t)}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.ns(),o=s.$(),a=s.Kd();o===a?Gb(e,0,0,r,i,a):JV(e,0,0,r,i,o,a)}ow(e){const t=ke(this.Nm),r=t.eu().pr().Tt(t);r!==null&&r.nt(e,!1)}_w(e){this.dw(e,W5,Cv,this.ns().gd())}lw(e,t){const r=ke(this.Nm),i=r.Dt(),s=r.ru();for(const o of s)this.dw(e,t,JM,o);for(const o of i)this.dw(e,t,JM,o);for(const o of s)this.dw(e,t,Cv,o);for(const o of i)this.dw(e,t,Cv,o)}dw(e,t,r,i){const s=ke(this.Nm),o=s.Qt().pd(),a=o!==null&&o.hu===i,l=o!==null&&a&&o.au!==void 0?o.au.ie:void 0;ZM(t,c=>r(c,e,a,l),i,s)}jm(){if(this.Nm===null)return;const e=this.Lv,t=this.Nm.U_().N().visible,r=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),r||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();t&&this.km===null&&(this.km=new H5(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),r&&this.Pm===null&&(this.Pm=new H5(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,r){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,r,ke(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,r){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,r);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),r=this.cv();if(t.X_(r,r.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){const i=performance.now(),s=t.Et();this.Om.fe(s.Cc(),i),this.Om.Ec(i)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ke(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const t=this.ns(),r=t.Et();if(r.Gi())return;const i=this.Lv.N(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Np)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Np))return;const a=this.Nm.Rs(),l=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:l,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&o.touch||!e.Np&&o.mouse){const c=r.ul();this.Om=new Ige(.2/c,7/c,.997,15/c),this.Om.Dv(r.Cc(),this.Rm.cf)}else this.Om=null;a.Gi()||t.Z_(this.Nm,a,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(a.Gi()||t.G_(this.Nm,a,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(r.Cc(),l))}}class G5{constructor(e,t,r,i,s){this.xt=!0,this.Uv=Yt({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=r.Nd,this.Ps=t,this.ww=i,this.gw=s,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=xc(this.Jp,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),wc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ic(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=bc(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)})}nv(){return this.sm.bitmapSize}ev(e,t,r){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,t,r)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*r),o=Math.floor(this.hd.N().S*i),a=this.Jv?t.width-s:0;e.fillRect(a,0,s,o)}wm({context:e,bitmapSize:t}){Gb(e,0,0,t.width,t.height,this.gw())}}function jO(n){return e=>{var t;return((t=e.Ka)==null?void 0:t.call(e,n))??[]}}const Age=jO("normal"),Nge=jO("top"),Lge=jO("bottom");class Fge{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Yt({width:0,height:0}),this.xw=new An,this.qv=new Sy(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=xc(this.kw,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=xc(this.kw,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Jb(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),wc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),wc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,r){ic(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Yt({width:t,height:e.height})),this.bw!==null&&this.bw.dm(Yt({width:r,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}pm(e){if(e===0)return;const t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=bc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s),this.Aw(i,Lge)}),this.bm(i),this.Aw(i,Age)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const r=bc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],r),this.Aw(r,Nge))}Aw(e,t){const r=this.Lv.Qt().tn();for(const i of r)ZM(t,s=>JM(s,e,!1,void 0),i,void 0);for(const i of r)ZM(t,s=>Cv(s,e,!1,void 0),i,void 0)}wm({context:e,bitmapSize:t}){Gb(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:r}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*r));e.fillRect(0,0,t.width,i)}}bm(e){const t=this.Lv.Qt().Et(),r=t.Vl();if(!r||r.length===0)return;const i=this.cu.maxTickMarkWeight(r),s=this.Bw(),o=t.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.strokeStyle=this.zw(),a.fillStyle=this.zw();const u=Math.max(1,Math.floor(l)),h=Math.floor(.5*l);a.beginPath();const d=Math.round(s.C*c);for(let f=r.length;f--;){const m=Math.round(r[f].coord*l);a.rect(m-h,0,u,d)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.S+s.C+s.A+s.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this._m();for(const c of r)if(c.weight<i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}this.Lv.N().timeScale.allowBoldLabels&&(a.font=this.Nw());for(const c of r)if(c.weight>=i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}})}Ow(e,t,r){const i=this.qv.Ii(e,r),s=i/2,o=Math.floor(t-s)+.5;return o<0?t+=Math.abs(0-o):o+i>this.Uv.width&&(t-=Math.abs(this.Uv.width-(o+i))),t}Lw(e,t){const r=this.Bw();for(const i of e)for(const s of i.fs())s.Tt().nt(t,r)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return _y(this.F(),this.Ps.fontFamily)}Nw(){return _y(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Sy,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const r=this.F();e.k=r,e.P=t,e.A=3*r/12,e.I=3*r/12,e.ts=9*r/12,e.L=0,e.Ew=4*r/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const r={Nd:this.Lv.Qt().Nd()},i=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,s=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new G5("left",t,r,i,s),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new G5("right",t,r,i,s),this.yw.appendChild(this.bw.iv()))}}var zU;const $ge=!!Wh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!Wh&&((zU=navigator==null?void 0:navigator.userAgentData)!=null&&zU.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class jge{constructor(e,t,r){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new An,this.Vm=new An,this.nd=new An,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=r,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),L1(this.Ps)&&this.Jw(!0),this.ns=new Sge(this.rd.bind(this),this.Ps,r),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new Fge(this,this.cu),this.Zw.appendChild(this.tg.iv());const s=t.autoSize&&this.ig();let o=this.Ps.width,a=this.Ps.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this.sg(o,a),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],ke(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,r=!1){if(this.eo===t&&this.S_===e)return;const i=function(a){const l=Math.floor(a.width),c=Math.floor(a.height);return Yt({width:l-l%2,height:c-c%2})}(Yt({width:e,height:t}));this.eo=i.height,this.S_=i.width;const s=this.eo+"px",o=this.S_+"px";ke(this.Vv).style.height=s,ke(this.Vv).style.width=o,this.Zw.style.height=s,this.Zw.style.width=o,r?this.lg(or.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=or.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const t=L1(this.Ps);this.ns.cr(e);const r=L1(this.Ps);r!==t&&this.Jw(r),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),r=document.createElement("canvas");r.width=t.width,r.height=t.height;const i=ke(r.getContext("2d"));return this.cg(i,e),r}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:ke(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return ei(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let r=0,i=0;const s=this.Fw[0],o=(l,c)=>{let u=0;for(let h=0;h<this.Fw.length;h++){const d=this.Fw[h],f=ke(l==="left"?d.uw():d.cw()),m=f.nv();if(e!==null&&f.ev(e,c,u,t),u+=m.height,h<this.Fw.length-1){const g=this.Ww[h],v=g.nv();e!==null&&g.ev(e,c,u),u+=v.height}}};this.fg()&&(o("left",0),r+=ke(s.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const c=this.Fw[l],u=c.nv();if(e!==null&&c.ev(e,r,i,t),i+=u.height,l<this.Fw.length-1){const h=this.Ww[l],d=h.nv();e!==null&&h.ev(e,r,i),i+=d.height}}r+=s.nv().width,this.pg()&&(o("right",r),r+=ke(s.cw()).nv().width);const a=(l,c,u)=>{ke(l==="left"?this.tg.Tw():this.tg.Rw()).ev(ke(e),c,u)};if(this.Ps.timeScale.visible){const l=this.tg.nv();if(e!==null){let c=0;this.fg()&&(a("left",c,i),c=ke(s.uw()).nv().width),this.tg.ev(e,c,i,t),c+=l.width,this.pg()&&a("right",c,i)}i+=l.height}return Yt({width:r,height:i})}Mg(){let e=0,t=0,r=0;for(const v of this.Fw)this.fg()&&(t=Math.max(t,ke(v.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(r=Math.max(r,ke(v.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=v.E_();t=QM(t),r=QM(r);const i=this.S_,s=this.eo,o=Math.max(i-t-r,0),a=1*this.Ww.length,l=this.Ps.timeScale.visible;let c=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var u;c=(u=c)+u%2;const h=a+c,d=s<h?0:s-h,f=d/e;let m=0;const g=window.devicePixelRatio||1;for(let v=0;v<this.Fw.length;++v){const y=this.Fw[v];y.qm(this.ns.Xs()[v]);let b=0,w=0;w=v===this.Fw.length-1?Math.ceil((d-m)*g)/g:Math.round(y.E_()*f*g)/g,b=Math.max(w,2),m+=b,y.dm(Yt({width:o,height:b})),this.fg()&&y.hw(t,"left"),this.pg()&&y.hw(r,"right"),y.cv()&&this.ns.bd(y.cv(),b)}this.tg.Iw(Yt({width:l?o:0,height:c}),l?t:0,l?r:0),this.ns.L_(o),this.Uw!==t&&(this.Uw=t),this.$w!==r&&(this.$w=r)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return $ge?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),r=t*e.deltaX/100,i=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(o,s)}r!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*r)}lg(e,t){var i;const r=e._n();r===3&&this.Sg(),r!==3&&r!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach(s=>{s.Ym()}),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const r of e.bn())this.xn(r,t)}xg(e){const t=this.ns.Xs();for(let r=0;r<t.length;r++)e.un(r).ln&&t[r].tu()}xn(e,t){const r=this.ns.Et();switch(e.fn){case 0:r.Fc();break;case 1:r.Wc(e.Wt);break;case 2:r.gn(e.Wt);break;case 3:r.Mn(e.Wt);break;case 4:r.Pc();break;case 5:e.Wt.Ec(t)||r.Mn(e.Wt.Ac(t))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(t=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const r=this.qw;this.qw=null,this.lg(r,t);for(const i of r.bn())if(i.fn===5&&!i.Wt.Ec(t)){this.Qt().vn(i.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,r=this.Fw.length;for(let i=t;i<r;i++){const s=ei(this.Fw.pop());this.Zw.removeChild(s.iv()),s.nw().u(this),s.ew().u(this),s.m();const o=this.Ww.pop();o!==void 0&&this.hg(o)}for(let i=r;i<t;i++){const s=new $O(this,e[i]);if(s.nw().i(this.yg.bind(this,s),this),s.ew().i(this.kg.bind(this,s),this),this.Fw.push(s),i>0){const o=new Pge(this,i-1,i);this.Ww.push(o),this.Zw.insertBefore(o.iv(),this.tg.iv())}this.Zw.insertBefore(s.iv(),this.tg.iv())}for(let i=0;i<t;i++){const s=e[i],o=this.Fw[i];o.cv()!==s?o.qm(s):o.$m()}this.eg(),this.Mg()}Pg(e,t,r,i){var h;const s=new Map;e!==null&&this.ns.tn().forEach(d=>{const f=d.qs().$s(e);f!==null&&s.set(d,f)});let o;if(e!==null){const d=(h=this.ns.Et().es(e))==null?void 0:h.originalTime;d!==void 0&&(o=d)}const a=this.Qt().pd(),l=a!==null&&a.hu instanceof Qb?a.hu:void 0,c=a!==null&&a.au!==void 0?a.au.te:void 0,u=this.Tg(i);return{Gr:o,js:e??void 0,Rg:t??void 0,Dg:u!==-1?u:void 0,Ig:l,Vg:s,Bg:c,Eg:r??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const r=this.Qt().gd().Gs();r!==null&&(t=this.Qt().Xs().indexOf(r))}return t}yg(e,t,r,i){this.Im.p(()=>this.Pg(t,r,i,e))}kg(e,t,r,i){this.Vm.p(()=>this.Pg(t,r,i,e))}Qw(e,t,r){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p(()=>this.Pg(e,t,r))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function L1(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function Bge(n){return n.open===void 0&&n.value===void 0}function zge(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function V5(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.color!==void 0&&(s.R=t.color),s}function qge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.lineColor!==void 0&&(s.vt=t.lineColor),t.topColor!==void 0&&(s.eh=t.topColor),t.bottomColor!==void 0&&(s.rh=t.bottomColor),s}function Uge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.topLineColor!==void 0&&(s.hh=t.topLineColor),t.bottomLineColor!==void 0&&(s.ah=t.bottomLineColor),t.topFillColor1!==void 0&&(s.oh=t.topFillColor1),t.topFillColor2!==void 0&&(s._h=t.topFillColor2),t.bottomFillColor1!==void 0&&(s.uh=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(s.dh=t.bottomFillColor2),s}function Hge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),i}function Wge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),t.borderColor!==void 0&&(i.Ht=t.borderColor),t.wickColor!==void 0&&(i.nh=t.wickColor),i}function Yge(n,e,t,r,i){const s=ei(i)(t),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],c=[l,o,a,l],{time:u,color:h,...d}=t;return{js:e,wt:n,Wt:c,Gr:r,le:d,R:h}}function cu(n){return n.Wt!==void 0}function K5(n,e){return e.customValues!==void 0&&(n.Ag=e.customValues),n}function yl(n){return(e,t,r,i,s,o)=>function(a,l){return l?l(a):Bge(a)}(r,o)?K5({wt:e,js:t,Gr:i},r):K5(n(e,t,r,i,s),r)}function X5(n){return{Candlestick:yl(Wge),Bar:yl(Hge),Area:yl(qge),Baseline:yl(Uge),Histogram:yl(V5),Line:yl(V5),Custom:yl(Yge)}[n]}function Q5(n){return{js:0,Lg:new Map,Ea:n}}function J5(n,e){if(n!==void 0&&n.length!==0)return{zg:e.key(n[0].wt),Og:e.key(n[n.length-1].wt)}}function Z5(n){let e;return n.forEach(t=>{e===void 0&&(e=t.Gr)}),ei(e)}class Gge{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let r=this.Ng.size!==0,i=!1;const s=this.Fg.get(e);if(s!==void 0)if(this.Fg.size===1)r=!1,i=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(e)&&(i=!0);let o=[];if(t.length!==0){const l=t.map(f=>f.time),c=this.cu.createConverterToInternalObj(t),u=X5(e.wh()),h=e.rl(),d=e.hl();o=t.map((f,m)=>{const g=c(f.time),v=this.cu.key(g);let y=this.Ng.get(v);y===void 0&&(y=Q5(g),this.Ng.set(v,y),i=!0);const b=u(g,y.js,f,l[m],h,d);return y.Lg.set(e,b),b})}r&&this.$g(),this.qg(e,o);let a=-1;if(i){const l=[];this.Ng.forEach(c=>{l.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:Z5(c.Lg)})}),l.sort((c,u)=>this.cu.key(c.time)-this.cu.key(u.time)),a=this.jg(l)}return this.Yg(e,a,function(l,c,u){const h=J5(l,u),d=J5(c,u);if(h!==void 0&&d!==void 0)return{Kg:!1,Ta:h.Og>=d.Og&&h.zg>=d.zg}}(this.Fg.get(e),s,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,r){if(r&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=t;(function(y){y.Gr===void 0&&(y.Gr=y.time)})(i),this.cu.preprocessData(t);const s=this.cu.createConverterToInternalObj([t])(t.time),o=this.Wg.get(e);if(!r&&o!==void 0&&this.cu.key(s)<this.cu.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let a=this.Ng.get(this.cu.key(s));if(r&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=a===void 0;a===void 0&&(a=Q5(s),this.Ng.set(this.cu.key(s),a));const c=X5(e.wh()),u=e.rl(),h=e.hl(),d=c(s,a.js,t,i.Gr,u,h),f=!r&&!l&&o!==void 0&&this.cu.key(s)===this.cu.key(o);a.Lg.set(e,d),r?this.Gg(e,d,a.js):f&&e.La()&&cu(d)?(e.kr(d),this.Xg(e,d)):this.Xg(e,d);const m={Ta:cu(d),Kg:r};if(!l)return this.Yg(e,-1,m);const g={timeWeight:0,time:a.Ea,pointData:a,originalTime:Z5(a.Lg)},v=Hh(this.Hg,this.cu.key(g.time),(y,b)=>this.cu.key(y.time)<b);this.Hg.splice(v,0,g);for(let y=v;y<this.Hg.length;++y)D0(this.Hg[y].pointData,y);return this.cu.fillWeightsForPoints(this.Hg,v),this.Yg(e,v,m)}Jg(e,t){const r=this.Fg.get(e);if(r===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,r.length);const i=r.splice(-t).reverse();r.length===0?this.Wg.delete(e):this.Wg.set(e,r[r.length-1].wt);for(const s of i){const o=this.Ng.get(this.cu.key(s.wt));if(o&&(o.Lg.delete(e),o.Lg.size===0)){this.Ng.delete(this.cu.key(o.Ea)),this.Hg.splice(o.js,1);for(let a=o.js;a<this.Hg.length;++a)D0(this.Hg[a].pointData,a)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let r=this.Fg.get(e);r===void 0&&(r=[],this.Fg.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.cu.key(t.wt)>this.cu.key(i.wt)?cu(t)&&r.push(t):cu(t)?r[r.length-1]=t:r.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,r){const i=this.Fg.get(e);if(i===void 0)return;const s=Hh(i,r,(o,a)=>o.js<a);cu(t)?i[s]=t:i.splice(s,1)}qg(e,t){t.length!==0?(this.Fg.set(e,t.filter(cu)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let r=0;r<this.Hg.length&&r<e.length;++r){const i=this.Hg[r],s=e[r];if(this.cu.key(i.time)!==this.cu.key(s.time)){t=r;break}s.timeWeight=i.timeWeight,D0(s.pointData,r)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let r=t;r<e.length;++r)D0(e[r].pointData,r);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))}),e}Yg(e,t,r){const i=this.Qg();if(t!==-1)this.Fg.forEach((s,o)=>{i.F_.set(o,{le:s,iM:o===e?r:void 0})}),this.Fg.has(e)||i.F_.set(e,{le:[],iM:r}),i.Et.sM=this.Hg,i.Et.nM=t;else{const s=this.Fg.get(e);i.F_.set(e,{le:s||[],iM:r})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function D0(n,e){n.js=e,n.Lg.forEach(t=>{t.js=e})}function Vge(n,e){return n.wt<e}function Kge(n,e){return e<n.wt}function Xge(n,e,t){const r=e.Aa(),i=e.bi(),s=Hh(n,r,Vge),o=sK(n,i,Kge);if(!t)return{from:s,to:o};let a=s,l=o;return s>0&&s<n.length&&n[s].wt>=r&&(a=s-1),o>0&&o<n.length&&n[o-1].wt<=i&&(l=o+1),{from:a,to:l}}class Qge{constructor(e,t,r){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=r}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const r=t.Ie();if(r===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=Xge(this.aM,r,this._M),this.mM(e,t,i.Wt),this.wM())}}class Jge{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,r){this.gM.draw(e,this.Ki,t,r)}}class Zge extends Qge{constructor(e,t,r){super(e,t,!1),this.$h=r,this.cM=new Jge(this.$h.renderer(),i=>{const s=e.Lt();return s===null?null:e.Ft().Nt(i,s.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le}))}mM(e,t){t.mc(this.aM,yme(this.lM))}wM(){this.$h.update({bars:this.aM.map(e0e),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function e0e(n){return{x:n._t,time:n.wt,originalData:n.MM,barColor:n.th}}const t0e={color:"#2196f3"},n0e=(n,e,t)=>{const r=Na(t);return new Zge(n,e,r)};function BO(n){const e={value:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function e4(n){const e=BO(n);return n.R!==void 0&&(e.color=n.R),e}function r0e(n){const e=BO(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.eh!==void 0&&(e.topColor=n.eh),n.rh!==void 0&&(e.bottomColor=n.rh),e}function i0e(n){const e=BO(n);return n.hh!==void 0&&(e.topLineColor=n.hh),n.ah!==void 0&&(e.bottomLineColor=n.ah),n.oh!==void 0&&(e.topFillColor1=n.oh),n._h!==void 0&&(e.topFillColor2=n._h),n.uh!==void 0&&(e.bottomFillColor1=n.uh),n.dh!==void 0&&(e.bottomFillColor2=n.dh),e}function fK(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function s0e(n){const e=fK(n);return n.R!==void 0&&(e.color=n.R),e}function o0e(n){const e=fK(n),{R:t,Ht:r,nh:i}=n;return t!==void 0&&(e.color=t),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Ev(n){return{Area:r0e,Line:e4,Baseline:i0e,Histogram:e4,Bar:s0e,Candlestick:o0e,Custom:a0e}[n]}function a0e(n){const e=n.Gr;return{...n.le,time:e}}const l0e={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},c0e={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},u0e={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:QV,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},F1={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},h0e={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function t4(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:u0e,crosshair:l0e,grid:c0e,overlayPriceScales:{...F1},leftPriceScale:{...F1,visible:!1},rightPriceScale:{...F1,visible:!0},timeScale:h0e,localization:{locale:Wh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class pK{constructor(e,t,r){this.Yp=e,this.bM=t,this.SM=r??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Kb(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Ar(e.from,e.to))}getVisibleRange(){let e,t,r=this.Ki().er();if(r===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),s=uK(i);r=Au(r,this.Ki().no()),e=Number((Math.round(r.Ze()/i)*i).toFixed(s)),t=Number((Math.round(r.Ge()/i)*i).toFixed(s))}else e=r.Ze(),t=r.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return ke(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class d0e{constructor(e,t,r,i){this.Yp=e,this.yt=r,this.xM=t,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),r=t.Gd(this.yt);t.xd(r,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(ar(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new pK(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},r=0){return this.CM.addCustomSeries(e,t,r)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const f0e={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class n4{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class p0e{constructor(e,t,r,i,s,o){this.kM=new An,this.ee=e,this.PM=t,this.TM=r,this.cu=s,this.CM=i,this.RM=o}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;const t=new Gu(new sp(e.from,e.to)).Ru(),r=this.ee.qs();if(r.Gi())return null;const i=r.$s(t.Aa(),1),s=r.$s(t.bi(),-1),o=ke(r.kh()),a=ke(r.sn());if(i!==null&&s!==null&&i.js>s.js)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.js===o?e.from-o:i.js-o,barsAfter:s===null||s.js===a?a-e.to:a-s.js};return i!==null&&s!==null&&(l.from=i.Gr,l.to=s.Gr),l}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);t.length!==0&&this.IM("update");const r=Ev(this.seriesType());return t.map(i=>r(i))}dataByIndex(e,t){const r=this.ee.qs().$s(e,t);return r===null?null:Ev(this.seriesType())(r)}data(){const e=Ev(this.seriesType());return this.ee.qs().Dh().map(t=>e(t))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Do(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=bi(Do(f0e),e),r=this.ee.Da(t);return new n4(r)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new n4(e))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=ke(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class m0e{constructor(e,t,r){this.EM=new An,this.Nu=new An,this.xw=new An,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=r}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},r=this.Jh.cc(t);this.ns.$d(r)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){ar(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const r=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(r,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),r=t.wc(e),i=t.es(r);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Do(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function r4(n){return function(e){if(E0(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;E0(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),E0(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const t=e.handleScroll;E0(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(n),n}class g0e{constructor(e,t,r){this.OM=new Map,this.NM=new Map,this.FM=new An,this.WM=new An,this.HM=new An,this.Xc=new WeakMap,this.UM=new Gge(t);const i=r===void 0?Do(t4()):bi(Do(t4()),r4(r));this.$M=t,this.Yp=new jge(e,i,t),this.Yp.nw().i(o=>{this.FM.v()&&this.FM.p(this.qM(o()))},this),this.Yp.ew().i(o=>{this.WM.v()&&this.WM.p(this.qM(o()))},this),this.Yp.Md().i(o=>{this.HM.v()&&this.HM.p(this.qM(o()))},this);const s=this.Yp.Qt();this.jM=new m0e(s,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,r){this.autoSizeActive()||this.Yp.sg(e,t,r)}addCustomSeries(e,t={},r=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...t0e,...s.defaultOptions()},YM:n0e,KM:s}))(Na(e));return this.ZM(i,t,r)}addSeries(e,t={},r=0){return this.ZM(e,t,r)}removeSeries(e){const t=ei(this.OM.get(e)),r=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(r),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,r){this.GM(this.UM.Zg(e,t,r))}BM(e,t){const[r,i]=this.UM.Jg(e,t);return r.length!==0&&this.GM(i),r}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new pK(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(r4(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let r,i;try{t||(r=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{t||r===void 0||this.Yp.Qt().cr({crosshair:{mode:r}})}return i}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,r){const i=this.OM.get(r);if(i===void 0)return;const s=this.Yp.Qt().Kn(i);s!==null&&this.Yp.Qt().Ld(e,t,s)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},r=0){ar(e.YM!==void 0),function(l){if(l===void 0||l.type==="custom")return;const c=l;c.minMove!==void 0&&c.precision===void 0&&(c.precision=uK(c.minMove))}(t.priceFormat),e.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(t);const i=bi(Do(KV),Do(e.defaultOptions),t),s=e.YM,o=new Qb(this.Yp.Qt(),e.type,i,s,e.KM);this.Yp.Qt().Fd(o,r);const a=new p0e(o,this,this,this,this.$M,l=>this.XM(l));return this.OM.set(a,o),this.NM.set(o,a),a}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((r,i)=>i.ht(r.le,r.iM)),t.Et().Ju(),t.Sc()}JM(e){return ei(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach((i,s)=>{const o=s.wh(),a=Ev(o)(i);if(o!=="Custom")ar(zge(a));else{const l=s.hl();ar(!l||l(a)===!1)}t.set(this.JM(s),a)});const r=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:r,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new d0e(this.Yp,r=>this.JM(r),e,this),this.Xc.set(e,t)),t}}function v0e(n){if(Km(n)){const e=document.getElementById(n);return ar(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function y0e(n,e,t){const r=v0e(n),i=new g0e(r,e,t);return e.setOptions(i.options()),i}function b0e(n,e){return y0e(n,new B5,B5.pf(e))}({...KV});const x0e=P.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:t=500,showVolume:r=!0},i)=>{const s=P.useRef(null),o=P.useRef(null),a=P.useRef(null),l=P.useRef(null),[c,u]=P.useState(null),h=g=>{if(g==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof g=="number")return isNaN(g)||!isFinite(g)||g<0?(console.warn("[KlineChart] Invalid price number:",g),0):g;if(typeof g=="string"){if(g.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const v=Ln(g);return isNaN(v)||!isFinite(v)||v<0?(console.warn("[KlineChart] Invalid price after conversion:",g,"->",v),0):v}catch(v){return console.error("[KlineChart] Error parsing price:",g,v),0}}return console.warn("[KlineChart] Invalid price type:",typeof g,g),0},d=g=>{if(g.open===void 0||g.open===null||g.high===void 0||g.high===null||g.low===void 0||g.low===null||g.close===void 0||g.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",g),null;const v=Math.floor((g.openTime??g.closeTime??Date.now())/1e3),y=h(g.open),b=h(g.high),w=h(g.low),S=h(g.close);if(y<=0||b<=0||w<=0||S<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:g,parsed:{open:y,high:b,low:w,close:S}}),null;const _=Math.max(y,b,w,S),k=Math.min(y,b,w,S);return(b!==_||w!==k)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:b,low:w},corrected:{high:_,low:k}}),{time:v,open:y,high:_,low:k,close:S}},f=g=>{if(!g.volume)return null;const v=Math.floor((g.openTime??g.closeTime??Date.now())/1e3);let y;if(typeof g.volume=="number"){if(isNaN(g.volume)||!isFinite(g.volume)||g.volume<0)return console.warn("[KlineChart] Invalid volume number:",g.volume),null;y=g.volume}else if(typeof g.volume=="string"&&g.volume.trim()!=="")try{if(y=Ln(g.volume),isNaN(y)||!isFinite(y)||y<0)return console.warn("[KlineChart] Invalid volume after conversion:",g.volume,"->",y),null}catch(_){return console.error("[KlineChart] Error converting volume from satoshi:",g.volume,_),null}else return console.warn("[KlineChart] Invalid volume type:",typeof g.volume,g.volume),null;const b=h(g.close),w=h(g.open);if(b<=0||w<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:w,close:b}),null;const S=b>=w;return{time:v,value:y,color:S?"#26a69a80":"#ef535080"}},m=g=>{if(!a.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!g||typeof g!="object"){console.warn("[KlineChart] Invalid kline update data:",g);return}try{const v=d(g);if(!v){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const y=r?f(g):null;a.current.update(v),u(v.close),r&&l.current&&y&&l.current.update(y)}catch(v){console.error("[KlineChart] Error updating chart:",v)}};return P.useImperativeHandle(i,()=>({updateChart:m})),P.useEffect(()=>{if(!s.current)return;if(o.current){try{o.current.remove()}catch(w){console.warn("[KlineChart] Error removing existing chart:",w)}o.current=null,a.current=null,l.current=null}let g=null,v=null,y=null;const b=()=>{if(!s.current)return;const w=s.current,S=w.clientWidth||w.offsetWidth,_=t||500;if(!S||S<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:w.clientWidth,offsetWidth:w.offsetWidth}),v=requestAnimationFrame(b);return}if(_<=0){console.warn("[KlineChart] Invalid height:",_);return}let k,C=null;try{g=b0e(w,{width:S,height:_,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof g.addCandlestickSeries=="function"?k=g.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):k=g.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),r&&(typeof g.addHistogramSeries=="function"?C=g.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):C=g.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(E){console.error("[KlineChart] Error creating chart or series:",E);return}if(n.length>0&&k)try{k.setData(n),u(n[n.length-1].close)}catch(E){console.error("[KlineChart] Error setting initial data:",E)}o.current=g,a.current=k,l.current=C,y=()=>{if(s.current&&o.current){const E=s.current.clientWidth||s.current.offsetWidth;E>0&&o.current.applyOptions({width:E})}},window.addEventListener("resize",y)};return b(),()=>{if(v!==null&&cancelAnimationFrame(v),y&&window.removeEventListener("resize",y),g)try{g.remove()}catch(w){console.error("[KlineChart] Error removing chart:",w)}o.current=null,a.current=null,l.current=null}},[t,r]),P.useEffect(()=>{if(a.current&&n.length>0)try{a.current.setData(n),u(n[n.length-1].close)}catch(g){console.error("[KlineChart] Error setting initial data:",g)}},[n]),M.jsxs("div",{style:{position:"relative",width:"100%"},children:[M.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:M.jsxs("span",{children:[e," Live Kline Chart",c!==null&&` - Current: $${c.toFixed(2)}`]})}),M.jsx("div",{ref:s,style:{position:"relative",width:"100%"}})]})});x0e.displayName="KlineChart";function mK(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function w0e(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}mK();const t=document.createElement("script");t.id="tradingview-widget-script",t.src=wue,t.async=!0,t.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},t.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(t)})}function _0e(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function S0e(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function k0e({symbol:n=bue,interval:e=xue,isCollapsed:t=!1,className:r=""}){const i=P.useRef(null),s=P.useRef(null),o=P.useRef(S0e());return P.useEffect(()=>{if(t||!i.current)return;i.current&&(i.current.id=o.current);let a=!0;return w0e().then(()=>{if(!a||!i.current)return;const l={symbol:n,interval:e,containerId:o.current};s.current=_0e(l)}).catch(l=>{console.error("Failed to load TradingView widget:",l)}),()=>{a=!1,s.current&&(s.current=null)}},[n,e,t]),P.useEffect(()=>()=>{mK()},[]),t?M.jsx("div",{className:`tradingview-widget-container ${r}`}):M.jsx("div",{className:`tradingview-widget-wrapper ${r}`,children:M.jsx("div",{ref:i,id:o.current,className:"tradingview-widget-container"})})}var C0e={value:()=>{}};function gK(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Tv(t)}function Tv(n){this._=n}function E0e(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Tv.prototype=gK.prototype={constructor:Tv,on:function(n,e){var t=this._,r=E0e(n+"",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=T0e(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=i4(t[i],n.name,e);else if(e==null)for(i in t)t[i]=i4(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Tv(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function T0e(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function i4(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=C0e,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var eP="http://www.w3.org/1999/xhtml";const s4={svg:"http://www.w3.org/2000/svg",xhtml:eP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zb(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),s4.hasOwnProperty(e)?{space:s4[e],local:n}:n}function M0e(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===eP&&e.documentElement.namespaceURI===eP?e.createElement(n):e.createElementNS(t,n)}}function P0e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function vK(n){var e=Zb(n);return(e.local?P0e:M0e)(e)}function I0e(){}function zO(n){return n==null?I0e:function(){return this.querySelector(n)}}function O0e(n){typeof n!="function"&&(n=zO(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new xs(r,this._parents)}function R0e(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function D0e(){return[]}function yK(n){return n==null?D0e:function(){return this.querySelectorAll(n)}}function A0e(n){return function(){return R0e(n.apply(this,arguments))}}function N0e(n){typeof n=="function"?n=A0e(n):n=yK(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(n.call(l,l.__data__,c,o)),i.push(l));return new xs(r,i)}function bK(n){return function(){return this.matches(n)}}function xK(n){return function(e){return e.matches(n)}}var L0e=Array.prototype.find;function F0e(n){return function(){return L0e.call(this.children,n)}}function $0e(){return this.firstElementChild}function j0e(n){return this.select(n==null?$0e:F0e(typeof n=="function"?n:xK(n)))}var B0e=Array.prototype.filter;function z0e(){return Array.from(this.children)}function q0e(n){return function(){return B0e.call(this.children,n)}}function U0e(n){return this.selectAll(n==null?z0e:q0e(typeof n=="function"?n:xK(n)))}function H0e(n){typeof n!="function"&&(n=bK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new xs(r,this._parents)}function wK(n){return new Array(n.length)}function W0e(){return new xs(this._enter||this._groups.map(wK),this._parents)}function Ty(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Ty.prototype={constructor:Ty,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Y0e(n){return function(){return n}}function G0e(n,e,t,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new Ty(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function V0e(n,e,t,r,i,s,o){var a,l,c=new Map,u=e.length,h=s.length,d=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(d[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?i[a]=l:c.set(f,l));for(a=0;a<h;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(r[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new Ty(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(d[a])===l&&(i[a]=l)}function K0e(n){return n.__data__}function X0e(n,e){if(!arguments.length)return Array.from(this,K0e);var t=e?V0e:G0e,r=this._parents,i=this._groups;typeof n!="function"&&(n=Y0e(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],h=i[c],d=h.length,f=Q0e(n.call(u,u&&u.__data__,c,r)),m=f.length,g=a[c]=new Array(m),v=o[c]=new Array(m),y=l[c]=new Array(d);t(u,h,g,v,y,f,e);for(var b=0,w=0,S,_;b<m;++b)if(S=g[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<m;);S._next=_||null}}return o=new xs(o,r),o._enter=a,o._exit=l,o}function Q0e(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function J0e(){return new xs(this._exit||this._groups.map(wK),this._parents)}function Z0e(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function eve(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=t[l],u=r[l],h=c.length,d=a[l]=new Array(h),f,m=0;m<h;++m)(f=c[m]||u[m])&&(d[m]=f);for(;l<i;++l)a[l]=t[l];return new xs(a,this._parents)}function tve(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function nve(n){n||(n=rve);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new xs(i,this._parents).order()}function rve(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function ive(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function sve(){return Array.from(this)}function ove(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function ave(){let n=0;for(const e of this)++n;return n}function lve(){return!this.node()}function cve(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,a;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this}function uve(n){return function(){this.removeAttribute(n)}}function hve(n){return function(){this.removeAttributeNS(n.space,n.local)}}function dve(n,e){return function(){this.setAttribute(n,e)}}function fve(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function pve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function mve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function gve(n,e){var t=Zb(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?hve:uve:typeof e=="function"?t.local?mve:pve:t.local?fve:dve)(t,e))}function _K(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function vve(n){return function(){this.style.removeProperty(n)}}function yve(n,e,t){return function(){this.style.setProperty(n,e,t)}}function bve(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function xve(n,e,t){return arguments.length>1?this.each((e==null?vve:typeof e=="function"?bve:yve)(n,e,t??"")):Yh(this.node(),n)}function Yh(n,e){return n.style.getPropertyValue(e)||_K(n).getComputedStyle(n,null).getPropertyValue(e)}function wve(n){return function(){delete this[n]}}function _ve(n,e){return function(){this[n]=e}}function Sve(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function kve(n,e){return arguments.length>1?this.each((e==null?wve:typeof e=="function"?Sve:_ve)(n,e)):this.node()[n]}function SK(n){return n.trim().split(/^|\s+/)}function qO(n){return n.classList||new kK(n)}function kK(n){this._node=n,this._names=SK(n.getAttribute("class")||"")}kK.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function CK(n,e){for(var t=qO(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function EK(n,e){for(var t=qO(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Cve(n){return function(){CK(this,n)}}function Eve(n){return function(){EK(this,n)}}function Tve(n,e){return function(){(e.apply(this,arguments)?CK:EK)(this,n)}}function Mve(n,e){var t=SK(n+"");if(arguments.length<2){for(var r=qO(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?Tve:e?Cve:Eve)(t,e))}function Pve(){this.textContent=""}function Ive(n){return function(){this.textContent=n}}function Ove(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function Rve(n){return arguments.length?this.each(n==null?Pve:(typeof n=="function"?Ove:Ive)(n)):this.node().textContent}function Dve(){this.innerHTML=""}function Ave(n){return function(){this.innerHTML=n}}function Nve(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Lve(n){return arguments.length?this.each(n==null?Dve:(typeof n=="function"?Nve:Ave)(n)):this.node().innerHTML}function Fve(){this.nextSibling&&this.parentNode.appendChild(this)}function $ve(){return this.each(Fve)}function jve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bve(){return this.each(jve)}function zve(n){var e=typeof n=="function"?n:vK(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qve(){return null}function Uve(n,e){var t=typeof n=="function"?n:vK(n),r=e==null?qve:typeof e=="function"?e:zO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Hve(){var n=this.parentNode;n&&n.removeChild(this)}function Wve(){return this.each(Hve)}function Yve(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Gve(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Vve(n){return this.select(n?Gve:Yve)}function Kve(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Xve(n){return function(e){n.call(this,e,this.__data__)}}function Qve(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Jve(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Zve(n,e,t){return function(){var r=this.__on,i,s=Xve(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function eye(n,e,t){var r=Qve(n+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?Zve:Jve,i=0;i<s;++i)this.each(a(r[i],e,t));return this}function TK(n,e,t){var r=_K(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function tye(n,e){return function(){return TK(this,n,e)}}function nye(n,e){return function(){return TK(this,n,e.apply(this,arguments))}}function rye(n,e){return this.each((typeof e=="function"?nye:tye)(n,e))}function*iye(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var sye=[null];function xs(n,e){this._groups=n,this._parents=e}function Qm(){return new xs([[document.documentElement]],sye)}function oye(){return this}xs.prototype=Qm.prototype={constructor:xs,select:O0e,selectAll:N0e,selectChild:j0e,selectChildren:U0e,filter:H0e,data:X0e,enter:W0e,exit:J0e,join:Z0e,merge:eve,selection:oye,order:tve,sort:nve,call:ive,nodes:sve,node:ove,size:ave,empty:lve,each:cve,attr:gve,style:xve,property:kve,classed:Mve,text:Rve,html:Lve,raise:$ve,lower:Bve,append:zve,insert:Uve,remove:Wve,clone:Vve,datum:Kve,on:eye,dispatch:rye,[Symbol.iterator]:iye};function UO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function MK(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Jm(){}var cm=.7,My=1/cm,Vu="\\s*([+-]?\\d+)\\s*",um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aye=/^#([0-9a-f]{3,8})$/,lye=new RegExp(`^rgb\\(${Vu},${Vu},${Vu}\\)$`),cye=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),uye=new RegExp(`^rgba\\(${Vu},${Vu},${Vu},${um}\\)$`),hye=new RegExp(`^rgba\\(${Js},${Js},${Js},${um}\\)$`),dye=new RegExp(`^hsl\\(${um},${Js},${Js}\\)$`),fye=new RegExp(`^hsla\\(${um},${Js},${Js},${um}\\)$`),o4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UO(Jm,hm,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:a4,formatHex:a4,formatHex8:pye,formatHsl:mye,formatRgb:l4,toString:l4});function a4(){return this.rgb().formatHex()}function pye(){return this.rgb().formatHex8()}function mye(){return PK(this).formatHsl()}function l4(){return this.rgb().formatRgb()}function hm(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=aye.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?c4(e):t===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?A0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?A0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lye.exec(n))?new Yr(e[1],e[2],e[3],1):(e=cye.exec(n))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uye.exec(n))?A0(e[1],e[2],e[3],e[4]):(e=hye.exec(n))?A0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dye.exec(n))?d4(e[1],e[2]/100,e[3]/100,1):(e=fye.exec(n))?d4(e[1],e[2]/100,e[3]/100,e[4]):o4.hasOwnProperty(n)?c4(o4[n]):n==="transparent"?new Yr(NaN,NaN,NaN,0):null}function c4(n){return new Yr(n>>16&255,n>>8&255,n&255,1)}function A0(n,e,t,r){return r<=0&&(n=e=t=NaN),new Yr(n,e,t,r)}function gye(n){return n instanceof Jm||(n=hm(n)),n?(n=n.rgb(),new Yr(n.r,n.g,n.b,n.opacity)):new Yr}function tP(n,e,t,r){return arguments.length===1?gye(n):new Yr(n,e,t,r??1)}function Yr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}UO(Yr,tP,MK(Jm,{brighter(n){return n=n==null?My:Math.pow(My,n),new Yr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?cm:Math.pow(cm,n),new Yr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yr(sc(this.r),sc(this.g),sc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u4,formatHex:u4,formatHex8:vye,formatRgb:h4,toString:h4}));function u4(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function vye(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function h4(){const n=Py(this.opacity);return`${n===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${n===1?")":`, ${n})`}`}function Py(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function sc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function jl(n){return n=sc(n),(n<16?"0":"")+n.toString(16)}function d4(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new ps(n,e,t,r)}function PK(n){if(n instanceof ps)return new ps(n.h,n.s,n.l,n.opacity);if(n instanceof Jm||(n=hm(n)),!n)return new ps;if(n instanceof ps)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ps(o,a,l,n.opacity)}function yye(n,e,t,r){return arguments.length===1?PK(n):new ps(n,e,t,r??1)}function ps(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}UO(ps,yye,MK(Jm,{brighter(n){return n=n==null?My:Math.pow(My,n),new ps(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?cm:Math.pow(cm,n),new ps(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Yr($1(n>=240?n-240:n+120,i,r),$1(n,i,r),$1(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new ps(f4(this.h),N0(this.s),N0(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Py(this.opacity);return`${n===1?"hsl(":"hsla("}${f4(this.h)}, ${N0(this.s)*100}%, ${N0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function f4(n){return n=(n||0)%360,n<0?n+360:n}function N0(n){return Math.max(0,Math.min(1,n||0))}function $1(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const IK=n=>()=>n;function bye(n,e){return function(t){return n+t*e}}function xye(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function wye(n){return(n=+n)==1?OK:function(e,t){return t-e?xye(e,t,n):IK(isNaN(e)?t:e)}}function OK(n,e){var t=e-n;return t?bye(n,t):IK(isNaN(n)?e:n)}const p4=function n(e){var t=wye(e);function r(i,s){var o=t((i=tP(i)).r,(s=tP(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),c=OK(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function ba(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var nP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j1=new RegExp(nP.source,"g");function _ye(n){return function(){return n}}function Sye(n){return function(e){return n(e)+""}}function kye(n,e){var t=nP.lastIndex=j1.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=nP.exec(n))&&(i=j1.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ba(r,i)})),t=j1.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Sye(l[0].x):_ye(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var m4=180/Math.PI,rP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RK(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*m4,skewX:Math.atan(l)*m4,scaleX:o,scaleY:a}}var L0;function Cye(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?rP:RK(e.a,e.b,e.c,e.d,e.e,e.f)}function Eye(n){return n==null||(L0||(L0=document.createElementNS("http://www.w3.org/2000/svg","g")),L0.setAttribute("transform",n),!(n=L0.transform.baseVal.consolidate()))?rP:(n=n.matrix,RK(n.a,n.b,n.c,n.d,n.e,n.f))}function DK(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push("translate(",null,e,null,t);m.push({i:g-4,x:ba(c,h)},{i:g-2,x:ba(u,d)})}else(h||d)&&f.push("translate("+h+e+d+t)}function o(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ba(c,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(c,u,h,d){c!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ba(c,u)}):u&&h.push(i(h)+"skewX("+u+r)}function l(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push(i(f)+"scale(",null,",",null,")");m.push({i:g-4,x:ba(c,h)},{i:g-2,x:ba(u,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,d),o(c.rotate,u.rotate,h,d),a(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(f){for(var m=-1,g=d.length,v;++m<g;)h[(v=d[m]).i]=v.x(f);return h.join("")}}}var Tye=DK(Cye,"px, ","px)","deg)"),Mye=DK(Eye,", ",")",")"),Gh=0,Rf=0,uf=0,AK=1e3,Iy,Df,Oy=0,_c=0,ex=0,dm=typeof performance=="object"&&performance.now?performance:Date,NK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function HO(){return _c||(NK(Pye),_c=dm.now()+ex)}function Pye(){_c=0}function Ry(){this._call=this._time=this._next=null}Ry.prototype=LK.prototype={constructor:Ry,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?HO():+t)+(e==null?0:+e),!this._next&&Df!==this&&(Df?Df._next=this:Iy=this,Df=this),this._call=n,this._time=t,iP()},stop:function(){this._call&&(this._call=null,this._time=1/0,iP())}};function LK(n,e,t){var r=new Ry;return r.restart(n,e,t),r}function Iye(){HO(),++Gh;for(var n=Iy,e;n;)(e=_c-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Gh}function g4(){_c=(Oy=dm.now())+ex,Gh=Rf=0;try{Iye()}finally{Gh=0,Rye(),_c=0}}function Oye(){var n=dm.now(),e=n-Oy;e>AK&&(ex-=e,Oy=n)}function Rye(){for(var n,e=Iy,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Iy=t);Df=n,iP(r)}function iP(n){if(!Gh){Rf&&(Rf=clearTimeout(Rf));var e=n-_c;e>24?(n<1/0&&(Rf=setTimeout(g4,n-dm.now()-ex)),uf&&(uf=clearInterval(uf))):(uf||(Oy=dm.now(),uf=setInterval(Oye,AK)),Gh=1,NK(g4))}}function v4(n,e,t){var r=new Ry;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var Dye=gK("start","end","cancel","interrupt"),Aye=[],FK=0,y4=1,sP=2,Mv=3,b4=4,oP=5,Pv=6;function tx(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;Nye(n,t,{name:e,index:r,group:i,on:Dye,tween:Aye,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:FK})}function WO(n,e){var t=Ss(n,e);if(t.state>FK)throw new Error("too late; already scheduled");return t}function io(n,e){var t=Ss(n,e);if(t.state>Mv)throw new Error("too late; already running");return t}function Ss(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Nye(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=LK(s,0,t.time);function s(c){t.state=y4,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,h,d,f;if(t.state!==y4)return l();for(u in r)if(f=r[u],f.name===t.name){if(f.state===Mv)return v4(o);f.state===b4?(f.state=Pv,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Pv,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete r[u])}if(v4(function(){t.state===Mv&&(t.state=b4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=sP,t.on.call("start",n,n.__data__,t.index,t.group),t.state===sP){for(t.state=Mv,i=new Array(d=t.tween.length),u=0,h=-1;u<d;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(i[++h]=f);i.length=h+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=oP,1),h=-1,d=i.length;++h<d;)i[h].call(n,u);t.state===oP&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Pv,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function Lye(n,e){var t=n.__transition,r,i,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>sP&&r.state<oP,r.state=Pv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function Fye(n){return this.each(function(){Lye(this,n)})}function $ye(n,e){var t,r;return function(){var i=io(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function jye(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=io(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Bye(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Ss(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?$ye:jye)(t,n,e))}function YO(n,e,t){var r=n._id;return n.each(function(){var i=io(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Ss(i,r).value[e]}}function $K(n,e){var t;return(typeof e=="number"?ba:e instanceof hm?p4:(t=hm(e))?(e=t,p4):kye)(n,e)}function zye(n){return function(){this.removeAttribute(n)}}function qye(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Uye(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function Hye(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function Wye(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Yye(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Gye(n,e){var t=Zb(n),r=t==="transform"?Mye:$K;return this.attrTween(n,typeof e=="function"?(t.local?Yye:Wye)(t,r,YO(this,"attr."+n,e)):e==null?(t.local?qye:zye)(t):(t.local?Hye:Uye)(t,r,e))}function Vye(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Kye(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Xye(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&Kye(n,s)),t}return i._value=e,i}function Qye(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&Vye(n,s)),t}return i._value=e,i}function Jye(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=Zb(n);return this.tween(t,(r.local?Xye:Qye)(r,e))}function Zye(n,e){return function(){WO(this,n).delay=+e.apply(this,arguments)}}function ebe(n,e){return e=+e,function(){WO(this,n).delay=e}}function tbe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Zye:ebe)(e,n)):Ss(this.node(),e).delay}function nbe(n,e){return function(){io(this,n).duration=+e.apply(this,arguments)}}function rbe(n,e){return e=+e,function(){io(this,n).duration=e}}function ibe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?nbe:rbe)(e,n)):Ss(this.node(),e).duration}function sbe(n,e){if(typeof e!="function")throw new Error;return function(){io(this,n).ease=e}}function obe(n){var e=this._id;return arguments.length?this.each(sbe(e,n)):Ss(this.node(),e).ease}function abe(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;io(this,n).ease=t}}function lbe(n){if(typeof n!="function")throw new Error;return this.each(abe(this._id,n))}function cbe(n){typeof n!="function"&&(n=bK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Yo(r,this._parents,this._name,this._id)}function ube(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,h=o[a]=new Array(u),d,f=0;f<u;++f)(d=l[f]||c[f])&&(h[f]=d);for(;a<r;++a)o[a]=e[a];return new Yo(o,this._parents,this._name,this._id)}function hbe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function dbe(n,e,t){var r,i,s=hbe(e)?WO:io;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}function fbe(n,e){var t=this._id;return arguments.length<2?Ss(this.node(),t).on.on(n):this.each(dbe(t,n,e))}function pbe(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function mbe(){return this.on("end.remove",pbe(this._id))}function gbe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=zO(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,h,d=0;d<l;++d)(u=a[d])&&(h=n.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,tx(c[d],e,t,d,c,Ss(u,t)));return new Yo(s,this._parents,e,t)}function vbe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=yK(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=n.call(u,u.__data__,h,l),f,m=Ss(u,t),g=0,v=d.length;g<v;++g)(f=d[g])&&tx(f,e,t,g,d,m);s.push(d),o.push(u)}return new Yo(s,o,e,t)}var ybe=Qm.prototype.constructor;function bbe(){return new ybe(this._groups,this._parents)}function xbe(n,e){var t,r,i;return function(){var s=Yh(this,n),o=(this.style.removeProperty(n),Yh(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function jK(n){return function(){this.style.removeProperty(n)}}function wbe(n,e,t){var r,i=t+"",s;return function(){var o=Yh(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function _be(n,e,t){var r,i,s;return function(){var o=Yh(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Yh(this,n))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function Sbe(n,e){var t,r,i,s="style."+e,o="end."+s,a;return function(){var l=io(this,n),c=l.on,u=l.value[s]==null?a||(a=jK(e)):void 0;(c!==t||i!==u)&&(r=(t=c).copy()).on(o,i=u),l.on=r}}function kbe(n,e,t){var r=(n+="")=="transform"?Tye:$K;return e==null?this.styleTween(n,xbe(n,r)).on("end.style."+n,jK(n)):typeof e=="function"?this.styleTween(n,_be(n,r,YO(this,"style."+n,e))).each(Sbe(this._id,n)):this.styleTween(n,wbe(n,r,e),t).on("end.style."+n,null)}function Cbe(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Ebe(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Cbe(n,o,t)),r}return s._value=e,s}function Tbe(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ebe(n,e,t??""))}function Mbe(n){return function(){this.textContent=n}}function Pbe(n){return function(){var e=n(this);this.textContent=e??""}}function Ibe(n){return this.tween("text",typeof n=="function"?Pbe(YO(this,"text",n)):Mbe(n==null?"":n+""))}function Obe(n){return function(e){this.textContent=n.call(this,e)}}function Rbe(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&Obe(i)),e}return r._value=n,r}function Dbe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Rbe(n))}function Abe(){for(var n=this._name,e=this._id,t=BK(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Ss(l,e);tx(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Yo(r,this._parents,n,t)}function Nbe(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};t.each(function(){var c=io(this,r),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Lbe=0;function Yo(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function BK(){return++Lbe}var vo=Qm.prototype;Yo.prototype={constructor:Yo,select:gbe,selectAll:vbe,selectChild:vo.selectChild,selectChildren:vo.selectChildren,filter:cbe,merge:ube,selection:bbe,transition:Abe,call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:fbe,attr:Gye,attrTween:Jye,style:kbe,styleTween:Tbe,text:Ibe,textTween:Dbe,remove:mbe,tween:Bye,delay:tbe,duration:ibe,ease:obe,easeVarying:lbe,end:Nbe,[Symbol.iterator]:vo[Symbol.iterator]};function Fbe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var $be={time:null,delay:0,duration:250,ease:Fbe};function jbe(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Bbe(n){var e,t;n instanceof Yo?(e=n._id,n=n._name):(e=BK(),(t=$be).time=HO(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&tx(l,n,e,c,o,t||jbe(l,e));return new Yo(r,this._parents,n,e)}Qm.prototype.interrupt=Fye;Qm.prototype.transition=Bbe;function Af(n,e,t){this.k=n,this.x=e,this.y=t}Af.prototype={constructor:Af,scale:function(n){return n===1?this:new Af(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Af(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Af.prototype;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zm(n){return n+.5|0}const La=(n,e,t)=>Math.max(Math.min(n,t),e);function Nf(n){return La(Zm(n*2.55),0,255)}function Va(n){return La(Zm(n*255),0,255)}function Eo(n){return La(Zm(n/2.55)/100,0,1)}function x4(n){return La(Zm(n*100),0,100)}const Oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},aP=[..."0123456789ABCDEF"],zbe=n=>aP[n&15],qbe=n=>aP[(n&240)>>4]+aP[n&15],F0=n=>(n&240)>>4===(n&15),Ube=n=>F0(n.r)&&F0(n.g)&&F0(n.b)&&F0(n.a);function Hbe(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Oi[n[1]]*17,g:255&Oi[n[2]]*17,b:255&Oi[n[3]]*17,a:e===5?Oi[n[4]]*17:255}:(e===7||e===9)&&(t={r:Oi[n[1]]<<4|Oi[n[2]],g:Oi[n[3]]<<4|Oi[n[4]],b:Oi[n[5]]<<4|Oi[n[6]],a:e===9?Oi[n[7]]<<4|Oi[n[8]]:255})),t}const Wbe=(n,e)=>n<255?e(n):"";function Ybe(n){var e=Ube(n)?zbe:qbe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Wbe(n.a,e):void 0}const Gbe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zK(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Vbe(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Kbe(n,e,t){const r=zK(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function Xbe(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function GO(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Xbe(t,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function VO(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Va)}function KO(n,e,t){return VO(zK,n,e,t)}function Qbe(n,e,t){return VO(Kbe,n,e,t)}function Jbe(n,e,t){return VO(Vbe,n,e,t)}function qK(n){return(n%360+360)%360}function Zbe(n){const e=Gbe.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Nf(+e[5]):Va(+e[5]));const i=qK(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Qbe(i,s,o):e[1]==="hsv"?r=Jbe(i,s,o):r=KO(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function exe(n,e){var t=GO(n);t[0]=qK(t[0]+e),t=KO(t),n.r=t[0],n.g=t[1],n.b=t[2]}function txe(n){if(!n)return;const e=GO(n),t=e[0],r=x4(e[1]),i=x4(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Eo(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const w4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nxe(){const n={},e=Object.keys(_4),t=Object.keys(w4);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,w4[s]);s=parseInt(_4[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let $0;function rxe(n){$0||($0=nxe(),$0.transparent=[0,0,0,0]);const e=$0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ixe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sxe(n){const e=ixe.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Nf(o):La(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Nf(r):La(r,0,255)),i=255&(e[4]?Nf(i):La(i,0,255)),s=255&(e[6]?Nf(s):La(s,0,255)),{r,g:i,b:s,a:t}}}function oxe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Eo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,uu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function axe(n,e,t){const r=uu(Eo(n.r)),i=uu(Eo(n.g)),s=uu(Eo(n.b));return{r:Va(B1(r+t*(uu(Eo(e.r))-r))),g:Va(B1(i+t*(uu(Eo(e.g))-i))),b:Va(B1(s+t*(uu(Eo(e.b))-s))),a:n.a+t*(e.a-n.a)}}function j0(n,e,t){if(n){let r=GO(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=KO(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function UK(n,e){return n&&Object.assign(e||{},n)}function S4(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Va(n[3]))):(e=UK(n,{r:0,g:0,b:0,a:1}),e.a=Va(e.a)),e}function lxe(n){return n.charAt(0)==="r"?sxe(n):Zbe(n)}class fm{constructor(e){if(e instanceof fm)return e;const t=typeof e;let r;t==="object"?r=S4(e):t==="string"&&(r=Hbe(e)||rxe(e)||lxe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=UK(this._rgb);return e&&(e.a=Eo(e.a)),e}set rgb(e){this._rgb=S4(e)}rgbString(){return this._valid?oxe(this._rgb):void 0}hexString(){return this._valid?Ybe(this._rgb):void 0}hslString(){return this._valid?txe(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=axe(this._rgb,e._rgb,t)),this}clone(){return new fm(this.rgb)}alpha(e){return this._rgb.a=Va(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Zm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return j0(this._rgb,2,e),this}darken(e){return j0(this._rgb,2,-e),this}saturate(e){return j0(this._rgb,1,e),this}desaturate(e){return j0(this._rgb,1,-e),this}rotate(e){return exe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yo(){}const cxe=(()=>{let n=0;return()=>n++})();function pn(n){return n==null}function un(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Rs(n,e){return ti(n)?n:e}function dt(n,e){return typeof n>"u"?e:n}const uxe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,HK=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function zt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Nt(n,e,t,r){let i,s,o;if(un(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(gt(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Dy(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Ay(n){if(un(n))return n.map(Ay);if(gt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Ay(n[t[i]]);return e}return n}function WK(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function hxe(n,e,t,r){if(!WK(n))return;const i=e[n],s=t[n];gt(i)&&gt(s)?pm(i,s,r):e[n]=Ay(s)}function pm(n,e,t){const r=un(e)?e:[e],i=r.length;if(!gt(n))return n;t=t||{};const s=t.merger||hxe;let o;for(let a=0;a<i;++a){if(o=r[a],!gt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function op(n,e){return pm(n,e,{merger:dxe})}function dxe(n,e,t){if(!WK(n))return;const r=e[n],i=t[n];gt(r)&&gt(i)?op(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ay(i))}const k4={"":n=>n,x:n=>n.x,y:n=>n.y};function fxe(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function pxe(n){const e=fxe(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function mm(n,e){return(k4[e]||(k4[e]=pxe(e)))(n)}function XO(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wi=n=>typeof n<"u",Qr=n=>typeof n=="function",C4=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function mxe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Dt=Math.PI,cr=2*Dt,gxe=cr+Dt,Ny=Number.POSITIVE_INFINITY,QO=Dt/180,ur=Dt/2,Bi=Dt/4,Ly=Dt*2/3,YK=Math.log10,Vh=Math.sign;function ap(n,e,t){return Math.abs(n-e)<t}function E4(n){const e=Math.round(n);n=ap(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(YK(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function vxe(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function yxe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Kh(n){return!yxe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function bxe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function xxe(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Jn(n){return n*(Dt/180)}function GK(n){return n*(180/Dt)}function T4(n){if(!ti(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function lP(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Dt&&(s+=cr),{angle:s,distance:i}}function Xh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function wxe(n,e){return(n-e+gxe)%cr-Dt}function ma(n){return(n%cr+cr)%cr}function Fy(n,e,t,r){const i=ma(n),s=ma(e),o=ma(t),a=ma(s-i),l=ma(o-i),c=ma(i-s),u=ma(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Ws(n,e,t){return Math.max(e,Math.min(t,n))}function _xe(n){return Ws(n,-32768,32767)}function Lf(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function JO(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const cP=(n,e,t,r)=>JO(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),Sxe=(n,e,t)=>JO(n,t,r=>n[r][e]>=t);function kxe(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const VK=["push","pop","shift","splice","unshift"];function Cxe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VK.forEach(t=>{const r="_onData"+XO(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function M4(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(VK.forEach(s=>{delete n[s]}),delete n._chartjs)}function Exe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const KK=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function XK(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,KK.call(window,()=>{r=!1,n.apply(e,t)}))}}function Txe(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const ZO=n=>n==="start"?"left":n==="end"?"right":"center",gr=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Mxe=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,B0=n=>n===0||n===1,P4=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*cr/t)),I4=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*cr/t)+1,lp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ur)+1,easeOutSine:n=>Math.sin(n*ur),easeInOutSine:n=>-.5*(Math.cos(Dt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>B0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>B0(n)?n:P4(n,.075,.3),easeOutElastic:n=>B0(n)?n:I4(n,.075,.3),easeInOutElastic(n){return B0(n)?n:n<.5?.5*P4(n*2,.1125,.45):.5+.5*I4(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-lp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?lp.easeInBounce(n*2)*.5:lp.easeOutBounce(n*2-1)*.5+.5};function eR(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function O4(n){return eR(n)?n:new fm(n)}function z1(n){return eR(n)?n:new fm(n).saturate(.5).darken(.1).hexString()}const Pxe=["x","y","borderWidth","radius","tension"],Ixe=["color","borderColor","backgroundColor"];function Oxe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Ixe},numbers:{type:"number",properties:Pxe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Rxe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const R4=new Map;function Dxe(n,e){e=e||{};const t=n+JSON.stringify(e);let r=R4.get(t);return r||(r=new Intl.NumberFormat(n,e),R4.set(t,r)),r}function tR(n,e,t){return Dxe(e,t).format(n)}const Axe={values(n){return un(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Nxe(n,t)}const o=YK(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tR(n,r,l)}};function Nxe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var QK={formatters:Axe};function Lxe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:QK.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sc=Object.create(null),uP=Object.create(null);function cp(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function q1(n,e,t){return typeof e=="string"?pm(cp(n,e),t):pm(cp(n,""),e)}class Fxe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>z1(i.backgroundColor),this.hoverBorderColor=(r,i)=>z1(i.borderColor),this.hoverColor=(r,i)=>z1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return q1(this,e,t)}get(e){return cp(this,e)}describe(e,t){return q1(uP,e,t)}override(e,t){return q1(Sc,e,t)}route(e,t,r,i){const s=cp(this,e),o=cp(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return gt(l)?Object.assign({},c,l):dt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var wn=new Fxe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Oxe,Rxe,Lxe]);function $xe(n){return!n||pn(n.size)||pn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function D4(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function bl(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function A4(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function hP(n,e,t,r){JK(n,e,t,r,null)}function JK(n,e,t,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,m=e.rotation,g=e.radius;let v=(m||0)*QO;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,g,0,0,cr):n.arc(t,r,g,0,cr),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Ly,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Ly,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+Bi)*l,h=Math.cos(v+Bi)*(i?i/2-c:l),a=Math.sin(v+Bi)*l,d=Math.sin(v+Bi)*(i?i/2-c:l),n.arc(t-h,r-a,c,v-Dt,v-ur),n.arc(t+d,r-o,c,v-ur,v),n.arc(t+h,r+a,c,v,v+ur),n.arc(t-d,r+o,c,v+ur,v+Dt),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=Bi;case"rectRot":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+d,r-o),n.lineTo(t+h,r+a),n.lineTo(t-d,r+o),n.closePath();break;case"crossRot":v+=Bi;case"cross":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"star":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o),v+=Bi,h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"line":o=i?i/2:Math.cos(v)*g,a=Math.sin(v)*g,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(i?i/2:g),r+Math.sin(v)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function gm(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function nx(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function rx(n){n.restore()}function jxe(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Bxe(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function zxe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),pn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function qxe(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function Uxe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function vm(n,e,t,r,i,s={}){const o=un(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,zxe(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Uxe(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),pn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),qxe(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function $y(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dt,Dt,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Dt,ur,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ur,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-ur,!0),n.lineTo(t+o.topLeft,r)}const Hxe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Wxe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Yxe(n,e){const t=(""+n).match(Hxe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Gxe=n=>+n||0;function ZK(n,e){const t={},r=gt(e),i=r?Object.keys(e):e,s=gt(n)?r?o=>dt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=Gxe(s(o));return t}function Vxe(n){return ZK(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(n){return ZK(n,["topLeft","topRight","bottomLeft","bottomRight"])}function br(n){const e=Vxe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qn(n,e){n=n||{},e=e||wn.font;let t=dt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=dt(n.style,e.style);r&&!(""+r).match(Wxe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dt(n.family,e.family),lineHeight:Yxe(dt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:dt(n.weight,e.weight),string:""};return i.string=$xe(i),i}function z0(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function Kxe(n,e,t){const{min:r,max:i}=n,s=HK(e,(i-r)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function $c(n,e){return Object.assign(Object.create(n),e)}function nR(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=rX("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>nR([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return tX(a,l,()=>rwe(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return L4(a).includes(l)},ownKeys(a){return L4(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Qh(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:eX(n,r),setContext:s=>Qh(n,s,t,r),override:s=>Qh(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return tX(s,o,()=>Qxe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function eX(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Qr(t)?t:()=>t,isIndexable:Qr(r)?r:()=>r}}const Xxe=(n,e)=>n?n+XO(e):e,rR=(n,e)=>gt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tX(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Qxe(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return Qr(a)&&o.isScriptable(e)&&(a=Jxe(e,a,n,t)),un(a)&&a.length&&(a=Zxe(e,a,n,o.isIndexable)),rR(e,a)&&(a=Qh(a,i,s&&s[e],o)),a}function Jxe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||r);return a.delete(n),rR(n,l)&&(l=iR(i._scopes,i,n,l)),l}function Zxe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(gt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=iR(c,i,n,u);e.push(Qh(h,s,o&&o[n],a))}}return e}function nX(n,e,t){return Qr(n)?n(e,t):n}const ewe=(n,e)=>n===!0?e:typeof n=="string"?mm(e,n):void 0;function twe(n,e,t,r,i){for(const s of e){const o=ewe(t,s);if(o){n.add(o);const a=nX(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function iR(n,e,t,r){const i=e._rootScopes,s=nX(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let l=N4(a,o,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=N4(a,o,s,l,r),l===null)?!1:nR(Array.from(a),[""],i,s,()=>nwe(e,t,r))}function N4(n,e,t,r,i){for(;t;)t=twe(n,e,t,r,i);return t}function nwe(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return un(i)&&gt(t)?t:i||{}}function rwe(n,e,t,r){let i;for(const s of e)if(i=rX(Xxe(s,n),t),typeof i<"u")return rR(n,i)?iR(t,r,n,i):i}function rX(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function L4(n){let e=n._keys;return e||(e=n._keys=iwe(n._scopes)),e}function iwe(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const swe=Number.EPSILON||1e-14,Jh=(n,e)=>e<n.length&&!n[e].skip&&n[e],iX=n=>n==="x"?"y":"x";function owe(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=Xh(s,i),l=Xh(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function awe(n,e,t){const r=n.length;let i,s,o,a,l,c=Jh(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Jh(n,u+1),!(!l||!c)){if(ap(e[u],0,swe)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function lwe(n,e,t="x"){const r=iX(t),i=n.length;let s,o,a,l=Jh(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Jh(n,c+1),!a)continue;const u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function cwe(n,e="x"){const t=iX(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Jh(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=Jh(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?Vh(i[o-1])!==Vh(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}awe(n,i,s),lwe(n,s,e)}function q0(n,e,t){return Math.max(Math.min(n,t),e)}function uwe(n,e){let t,r,i,s,o,a=gm(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&gm(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=q0(i.cp1x,e.left,e.right),i.cp1y=q0(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=q0(i.cp2x,e.left,e.right),i.cp2y=q0(i.cp2y,e.top,e.bottom)))}function hwe(n,e,t,r,i){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")cwe(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=owe(c,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&uwe(n,t)}function sR(){return typeof window<"u"&&typeof document<"u"}function oR(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jy(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const ix=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function dwe(n,e){return ix(n).getPropertyValue(e)}const fwe=["top","right","bottom","left"];function oc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=fwe[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const pwe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function mwe(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(pwe(i,s,n.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function El(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=ix(t),s=i.boxSizing==="border-box",o=oc(i,"padding"),a=oc(i,"border","width"),{x:l,y:c,box:u}=mwe(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*t.width/r),y:Math.round((c-d)/m*t.height/r)}}function gwe(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&oR(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=ix(s),l=oc(a,"border","width"),c=oc(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=jy(a.maxWidth,s,"clientWidth"),i=jy(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Ny,maxHeight:i||Ny}}const Fa=n=>Math.round(n*10)/10;function vwe(n,e,t,r){const i=ix(n),s=oc(i,"margin"),o=jy(i.maxWidth,n,"clientWidth")||Ny,a=jy(i.maxHeight,n,"clientHeight")||Ny,l=gwe(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=oc(i,"border","width"),f=oc(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Fa(Math.min(c,o,l.maxWidth)),u=Fa(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Fa(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Fa(Math.floor(u*r))),{width:c,height:u}}function F4(n,e,t){const r=e||1,i=Fa(n.height*r),s=Fa(n.width*r);n.height=Fa(n.height),n.width=Fa(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ywe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};sR()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function $4(n,e){const t=dwe(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Tl(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function bwe(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function xwe(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Tl(n,i,t),a=Tl(i,s,t),l=Tl(s,e,t),c=Tl(o,a,t),u=Tl(a,l,t);return Tl(c,u,t)}const wwe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},_we=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Xu(n,e,t){return n?wwe(e,t):_we()}function sX(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function oX(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function aX(n){return n==="angle"?{between:Fy,compare:wxe,normalize:ma}:{between:Lf,compare:(e,t)=>e-t,normalize:e=>e}}function j4({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function Swe(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=aX(r),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function kwe(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=aX(r),{start:u,end:h,loop:d,style:f}=Swe(n,e,t),m=[];let g=!1,v=null,y,b,w;const S=()=>l(i,w,y)&&a(i,w)!==0,_=()=>a(s,y)===0||l(s,w,y),k=()=>g||S(),C=()=>!g||_();for(let E=u,O=u;E<=h;++E)b=e[E%o],!b.skip&&(y=c(b[r]),y!==w&&(g=l(y,i,s),v===null&&k()&&(v=a(y,i)===0?E:O),v!==null&&C()&&(m.push(j4({start:v,end:E,loop:d,count:o,style:f})),v=null),O=E,w=y));return v!==null&&m.push(j4({start:v,end:h,loop:d,count:o,style:f})),m}function Cwe(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=kwe(r[i],n.points,e);s.length&&t.push(...s)}return t}function Ewe(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Twe(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function Mwe(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=Ewe(t,i,s,r);if(r===!0)return B4(n,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return B4(n,Twe(t,o,l,c),t,e)}function B4(n,e,t,r){return!r||!r.setContext||!t?e:Pwe(n,e,t,r)}function Pwe(n,e,t,r){const i=n._chart.getContext(),s=z4(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,h=e[0].start,d=h;function f(m,g,v,y){const b=a?-1:1;if(m!==g){for(m+=l;t[m%l].skip;)m-=b;for(;t[g%l].skip;)g+=b;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const m of e){h=a?h:m.start;let g=t[h%l],v;for(d=h+1;d<=m.end;d++){const y=t[d%l];v=z4(r.setContext($c(i,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Iwe(v,u)&&f(h,d-1,m.loop,u),g=y,u=v}h<d-1&&f(h,d-1,m.loop,u)}return c}function z4(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Iwe(n,e){if(!e)return!1;const t=[],r=function(i,s){return eR(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function U0(n,e,t){return n.options.clip?n[t]:e[t]}function Owe(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:U0(t,e,"left"),right:U0(t,e,"right"),top:U0(r,e,"top"),bottom:U0(r,e,"bottom")}:e}function Rwe(n,e){const t=e._clip;if(t.disabled)return!1;const r=Owe(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Dwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=KK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xo=new Dwe;const q4="transparent",Awe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=O4(n||q4),i=r.valid&&O4(e||q4);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Nwe{constructor(e,t,r,i){const s=t[r];i=z0([e.to,i,s,e.from]);const o=z0([e.from,s,i]);this._active=!0,this._fn=e.fn||Awe[e.type||typeof o],this._easing=lp[e.easing]||lp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=z0([e.to,t,i,e.from]),this._from=z0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class aR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!gt(e))return;const t=Object.keys(wn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!gt(s))return;const o={};for(const a of t)o[a]=s[a];(un(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=Fwe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Lwe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new Nwe(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return xo.add(this._chart,r),!0}}function Lwe(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Fwe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function U4(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function $we(n,e,t){if(t===!1)return!1;const r=U4(n,t),i=U4(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function jwe(n){let e,t,r,i;return gt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function lX(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function H4(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,r.all)continue;break}c=n.values[l],ti(c)&&(s||e===0||Vh(e)===Vh(c))&&(e+=c)}return!u&&!r.all?0:e}function Bwe(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:n[u]};return a}function U1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function zwe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function qwe(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function Uwe(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function W4(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function Y4(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=zwe(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const m=e[f],{[l]:g,[c]:v}=m,y=m._stacks||(m._stacks={});d=y[c]=Uwe(i,u,g),d[a]=v,d._top=W4(d,o,!0,r.type),d._bottom=W4(d,o,!1,r.type);const b=d._visualValues||(d._visualValues={});b[a]=v}}function H1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Hwe(n,e){return $c(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Wwe(n,e,t){return $c(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function hf(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const W1=n=>n==="reset"||n==="none",G4=(n,e)=>e?n:Object.assign({},n),Ywe=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:lX(t,!0),values:null};class up{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=U1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,s=t.xAxisID=dt(r.xAxisID,H1(e,"x")),o=t.yAxisID=dt(r.yAxisID,H1(e,"y")),a=t.rAxisID=dt(r.rAxisID,H1(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,o,a),u=t.vAxisID=i(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&M4(this._data,this),e._stacked&&hf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(gt(t)){const i=this._cachedMeta;this._data=Bwe(t,i)}else if(r!==t){if(r){M4(r,this);const i=this._cachedMeta;hf(i),i._parsed=[]}t&&Object.isExtensible(t)&&Cxe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=U1(t.vScale,t),t.stack!==r.stack&&(i=!0,hf(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(Y4(this,t._parsed),t._stacked=U1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{un(i[e])?d=this.parseArrayData(r,i,e,t):gt(i[e])?d=this.parseObjectData(r,i,e,t):d=this.parsePrimitiveData(r,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&Y4(this,d)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+r,h[d]={[a]:u||s.parse(c[m],m),[l]:o.parse(t[m],m)};return h}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=t[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=t[d],c[u]={x:s.parse(mm(f,a),d),y:o.parse(mm(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:lX(i,!0),values:t._stacks[e.axis]._visualValues};return H4(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=H4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Ywe(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=qwe(a);let d,f;function m(){f=i[d];const g=f[a.axis];return!ti(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ti(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=jwe(dt(this.options.clip,$we(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Wwe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Hwe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&wi(r);if(a)return G4(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(wn.elements[e]),m=()=>this.getContext(r,i,t),g=c.resolveNamedOptions(d,f,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(G4(g,l))),g}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,t))}const c=new aR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||W1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){W1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!W1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&hf(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(up,"defaults",{}),de(up,"datasetElementType",null),de(up,"dataElementType",null);function Gwe(n,e,t){let r=1,i=1,s=0,o=0;if(e<cr){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,S,_)=>Fy(w,a,l,!0)?1:Math.max(S,S*t,_,_*t),m=(w,S,_)=>Fy(w,a,l,!0)?-1:Math.min(S,S*t,_,_*t),g=f(0,c,h),v=f(ur,u,d),y=m(Dt,c,h),b=m(Dt+ur,u,d);r=(g-y)/2,i=(v-b)/2,s=-(g+y)/2,o=-(v+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Ff extends up{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(gt(r[e])){const{key:l="value"}=this._parsing;s=c=>+mm(r[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Jn(this.options.rotation-90)}_getCircumference(){return Jn(this.options.circumference)}_getRotationExtents(){let e=cr,t=-cr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(uxe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:g}=Gwe(h,u,l),v=(r.width-o)/d,y=(r.height-o)/f,b=Math.max(Math.min(v,y)/2,0),w=HK(this.options.radius,b),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/cr)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(t,i);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,s);for(b=t;b<t+r;++b){const w=this._circumference(b,s),S=e[b],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:m,innerRadius:f};v&&(_.options=g||this.resolveDataElementOptions(b,S.active?"active":i)),y+=w,this.updateElement(S,b,_,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?cr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=tR(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(Ff,"id","doughnut"),de(Ff,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(Ff,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(Ff,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});function xl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lR{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(lR.prototype,e)}init(){}formats(){return xl()}parse(){return xl()}format(){return xl()}add(){return xl()}diff(){return xl()}startOf(){return xl()}endOf(){return xl()}}var Vwe={_date:lR};function Kwe(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?Sxe:cP;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(s,e,t-h),f=c(s,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!pn(g[h.axis]));u.lo-=Math.max(0,f);const m=d.slice(u.hi).findIndex(g=>!pn(g[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function sx(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=Kwe(s[a],e,o,i);for(let f=h;f<=d;++f){const m=u[f];m.skip||r(m,c,f)}}}function Xwe(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Y1(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||sx(n,t,e,function(a,l,c){!i&&!gm(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Qwe(n,e,t,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=lP(o,{x:e.x,y:e.y});Fy(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return sx(n,t,e,s),i}function Jwe(n,e,t,r,i,s){let o=[];const a=Xwe(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!f)return;const v=a(e,m);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return sx(n,t,e,c),o}function G1(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?Qwe(n,e,t,i):Jwe(n,e,t,r,i,s)}function V4(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return sx(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Zwe={modes:{index(n,e,t,r){const i=El(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?Y1(n,i,s,r,o):G1(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=El(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?Y1(n,i,s,r,o):G1(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){const i=El(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Y1(n,i,s,r,o)},nearest(n,e,t,r){const i=El(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return G1(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=El(e,n);return V4(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=El(e,n);return V4(n,i,"y",t.intersect,r)}}};const cX=["left","top","right","bottom"];function df(n,e){return n.filter(t=>t.pos===e)}function K4(n,e){return n.filter(t=>cX.indexOf(t.pos)===-1&&t.box.axis===e)}function ff(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function e1e(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function t1e(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!cX.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function n1e(n,e){const t=t1e(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}function r1e(n){const e=e1e(n),t=ff(e.filter(c=>c.box.fullSize),!0),r=ff(df(e,"left"),!0),i=ff(df(e,"right")),s=ff(df(e,"top"),!0),o=ff(df(e,"bottom")),a=K4(e,"x"),l=K4(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:df(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function X4(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function uX(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function i1e(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!gt(i)){t.size&&(n[i]-=t.size);const h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&uX(o,s.getPadding());const a=Math.max(0,e.outerWidth-X4(o,n,"left","right")),l=Math.max(0,e.outerHeight-X4(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function s1e(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function o1e(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function $f(n,e,t,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,o1e(a.horizontal,e));const{same:h,other:d}=i1e(e,t,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&$f(i,e,t,r)||u}function H0(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Q4(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;wi(c.start)&&(o=c.start),l.fullSize?H0(l,i.left,o,t.outerWidth-i.right-i.left,d):H0(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;wi(c.start)&&(s=c.start),l.fullSize?H0(l,s,i.top,d,t.outerHeight-i.bottom-i.top):H0(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var Hi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=br(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=r1e(n.boxes),l=a.vertical,c=a.horizontal;Nt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);uX(d,br(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),m=n1e(l.concat(c),h);$f(a.fullSize,f,h,m),$f(l,f,h,m),$f(c,f,h,m)&&$f(l,f,h,m),s1e(f),Q4(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,Q4(a.rightAndBottom,f,h,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Nt(a.chartArea,g=>{const v=g.box;Object.assign(v,n.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class hX{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class a1e extends hX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Iv="$chartjs",l1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J4=n=>n===null||n==="";function c1e(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Iv]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",J4(i)){const s=$4(n,"width");s!==void 0&&(n.width=s)}if(J4(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=$4(n,"height");s!==void 0&&(n.height=s)}return n}const dX=ywe?{passive:!0}:!1;function u1e(n,e,t){n&&n.addEventListener(e,t,dX)}function h1e(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,dX)}function d1e(n,e){const t=l1e[n.type]||n.type,{x:r,y:i}=El(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function By(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function f1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||By(a.addedNodes,r),o=o&&!By(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function p1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||By(a.removedNodes,r),o=o&&!By(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const ym=new Map;let Z4=0;function fX(){const n=window.devicePixelRatio;n!==Z4&&(Z4=n,ym.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function m1e(n,e){ym.size||window.addEventListener("resize",fX),ym.set(n,e)}function g1e(n){ym.delete(n),ym.size||window.removeEventListener("resize",fX)}function v1e(n,e,t){const r=n.canvas,i=r&&oR(r);if(!i)return;const s=XK((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),m1e(n,s),o}function V1(n,e,t){t&&t.disconnect(),e==="resize"&&g1e(n)}function y1e(n,e,t){const r=n.canvas,i=XK(s=>{n.ctx!==null&&t(d1e(s,n))},n);return u1e(r,e,i),i}class b1e extends hX{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(c1e(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Iv])return!1;const r=t[Iv].initial;["height","width"].forEach(s=>{const o=r[s];pn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[Iv],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:f1e,detach:p1e,resize:v1e}[t]||y1e;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:V1,detach:V1,resize:V1}[t]||h1e)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return vwe(e,t,r,i)}isAttached(e){const t=e&&oR(e);return!!(t&&t.isConnected)}}function x1e(n){return!sR()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?a1e:b1e}var iv;let ii=(iv=class{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},de(iv,"defaults",{}),de(iv,"defaultRoutes"),iv);function w1e(n,e){const t=n.options.ticks,r=_1e(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?k1e(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return C1e(e,c,s,o/i),c;const u=S1e(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(W0(e,c,u,pn(f)?0:a-f,a),h=0,d=o-1;h<d;h++)W0(e,c,u,s[h],s[h+1]);return W0(e,c,u,l,pn(f)?e.length:l+f),c}return W0(e,c,u),c}function _1e(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function S1e(n,e,t){const r=E1e(n),i=e.length/t;if(!r)return Math.max(i,1);const s=vxe(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function k1e(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function C1e(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function W0(n,e,t,r,i){const s=dt(r,0),o=Math.min(dt(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function E1e(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const T1e=n=>n==="left"?"right":n==="right"?"left":n,eL=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,tL=(n,e)=>Math.min(e||n,n);function nL(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function M1e(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function P1e(n,e){Nt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function pf(n){return n.drawTicks?n.tickLength:0}function rL(n,e){if(!n.display)return 0;const t=qn(n.font,e),r=br(n.padding);return(un(n.text)?n.text.length:1)*t.lineHeight+r.height}function I1e(n,e){return $c(n,{scale:e,type:"scale"})}function O1e(n,e,t){return $c(n,{tick:t,index:e,type:"tick"})}function R1e(n,e,t){let r=ZO(n);return(t&&e!=="right"||!t&&e==="right")&&(r=T1e(r)),r}function D1e(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,m;const g=o-i,v=a-s;if(n.isHorizontal()){if(f=gr(r,s,a),gt(t)){const y=Object.keys(t)[0],b=t[y];m=u[y].getPixelForValue(b)+g-e}else t==="center"?m=(c.bottom+c.top)/2+g-e:m=eL(n,t,e);d=a-s}else{if(gt(t)){const y=Object.keys(t)[0],b=t[y];f=u[y].getPixelForValue(b)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=eL(n,t,e);m=gr(r,o,i),h=t==="left"?-ur:ur}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class bd extends ii{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Rs(e,Number.POSITIVE_INFINITY),t=Rs(t,Number.NEGATIVE_INFINITY),r=Rs(r,Number.POSITIVE_INFINITY),i=Rs(i,Number.NEGATIVE_INFINITY),{min:Rs(e,r),max:Rs(t,i),minDefined:ti(e),maxDefined:ti(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Rs(t,Rs(r,t)),max:Rs(r,Rs(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Kxe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?nL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=w1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zt(this.options.afterUpdate,[this])}beforeSetDimensions(){zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=zt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=tL(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Ws(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-pf(e.grid)-t.padding-rL(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=GK(Math.min(Math.asin(Ws((u.highest.height+6)/a,-1,1)),Math.asin(Ws(l/c,-1,1))-Math.asin(Ws(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=rL(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=pf(s)+l):(e.height=this.maxHeight,e.width=pf(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,m=Jn(this.labelRotation),g=Math.cos(m),v=Math.sin(m);if(a){const y=r.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*t.height):(d=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)pn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=nL(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/tL(t,r));let c=0,u=0,h,d,f,m,g,v,y,b,w,S,_;for(h=0;h<t;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=v=g.string,y=s[v]=s[v]||{data:{},gc:[]},b=g.lineHeight,w=S=0,!pn(m)&&!un(m))w=D4(i,y.data,y.gc,w,m),S=b;else if(un(m))for(d=0,f=m.length;d<f;++d)_=m[d],!pn(_)&&!un(_)&&(w=D4(i,y.data,y.gc,w,_),S+=b);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}P1e(s,t);const k=o.indexOf(c),C=a.indexOf(u),E=O=>({width:o[O]||0,height:a[O]||0});return{first:E(0),last:E(t-1),widest:E(k),highest:E(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _xe(this._alignToPixels?bl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=O1e(this.getContext(),e,r))}return this.$context||(this.$context=I1e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Jn(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=pf(s),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,v=g/2,y=function(F){return bl(r,F,g)};let b,w,S,_,k,C,E,O,R,D,N,L;if(o==="top")b=y(this.bottom),C=this.bottom-d,O=b-v,D=y(e.top)+v,L=e.bottom;else if(o==="bottom")b=y(this.top),D=e.top,L=y(e.bottom)-v,C=b+v,O=this.top+d;else if(o==="left")b=y(this.right),k=this.right-d,E=b-v,R=y(e.left)+v,N=e.right;else if(o==="right")b=y(this.left),R=e.left,N=y(e.right)-v,k=b+v,E=this.left+d;else if(t==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(gt(o)){const F=Object.keys(o)[0],B=o[F];b=y(this.chart.scales[F].getPixelForValue(B))}D=e.top,L=e.bottom,C=b+v,O=C+d}else if(t==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(gt(o)){const F=Object.keys(o)[0],B=o[F];b=y(this.chart.scales[F].getPixelForValue(B))}k=b-v,E=k-d,R=e.left,N=e.right}const W=dt(i.ticks.maxTicksLimit,h),$=Math.max(1,Math.ceil(h/W));for(w=0;w<h;w+=$){const F=this.getContext(w),B=s.setContext(F),j=a.setContext(F),H=B.lineWidth,V=B.color,K=j.dash||[],X=j.dashOffset,ee=B.tickWidth,q=B.tickColor,Y=B.tickBorderDash||[],U=B.tickBorderDashOffset;S=M1e(this,w,l),S!==void 0&&(_=bl(r,S,H),c?k=E=R=N=_:C=O=D=L=_,f.push({tx1:k,ty1:C,tx2:E,ty2:O,x1:R,y1:D,x2:N,y2:L,width:H,color:V,borderDash:K,borderDashOffset:X,tickWidth:ee,tickColor:q,tickBorderDash:Y,tickBorderDashOffset:U}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=pf(r.grid),f=d+u,m=h?-u:f,g=-Jn(this.labelRotation),v=[];let y,b,w,S,_,k,C,E,O,R,D,N,L="middle";if(i==="top")k=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(d);C=$.textAlign,_=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(d);C=$.textAlign,_=$.x}else if(t==="x"){if(i==="center")k=(e.top+e.bottom)/2+f;else if(gt(i)){const $=Object.keys(i)[0],F=i[$];k=this.chart.scales[$].getPixelForValue(F)+f}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")_=(e.left+e.right)/2-f;else if(gt(i)){const $=Object.keys(i)[0],F=i[$];_=this.chart.scales[$].getPixelForValue(F)}C=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const W=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){w=a[y],S=w.label;const $=s.setContext(this.getContext(y));E=this.getPixelForTick(y)+s.labelOffset,O=this._resolveTickFontOptions(y),R=O.lineHeight,D=un(S)?S.length:1;const F=D/2,B=$.color,j=$.textStrokeColor,H=$.textStrokeWidth;let V=C;o?(_=E,C==="inner"&&(y===b-1?V=this.options.reverse?"left":"right":y===0?V=this.options.reverse?"right":"left":V="center"),i==="top"?c==="near"||g!==0?N=-D*R+R/2:c==="center"?N=-W.highest.height/2-F*R+R:N=-W.highest.height+R/2:c==="near"||g!==0?N=R/2:c==="center"?N=W.highest.height/2-F*R:N=W.highest.height-D*R,h&&(N*=-1),g!==0&&!$.showLabelBackdrop&&(_+=R/2*Math.sin(g))):(k=E,N=(1-D)*R/2);let K;if($.showLabelBackdrop){const X=br($.backdropPadding),ee=W.heights[y],q=W.widths[y];let Y=N-X.top,U=0-X.left;switch(L){case"middle":Y-=ee/2;break;case"bottom":Y-=ee;break}switch(C){case"center":U-=q/2;break;case"right":U-=q;break;case"inner":y===b-1?U-=q:y>0&&(U-=q/2);break}K={left:U,top:Y,width:q+X.width,height:ee+X.height,color:$.backdropColor}}v.push({label:S,font:O,textOffset:N,options:{rotation:g,color:B,strokeColor:j,strokeWidth:H,textAlign:V,textBaseline:L,translation:[_,k],backdrop:K}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Jn(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const l=i[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=bl(e,this.left,o)-o/2,u=bl(e,this.right,a)+a/2,h=d=l):(h=bl(e,this.top,o)-o/2,d=bl(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&nx(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;vm(r,c,0,u,l,a)}i&&rx(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=qn(r.font),o=br(r.padding),a=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||gt(t)?(l+=o.bottom,un(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=D1e(this,l,t,a);vm(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:R1e(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=dt(e.grid&&e.grid.z,-1),i=dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bd.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return qn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Y0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;L1e(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,A1e(e,o,r),this.override&&wn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in wn[i]&&(delete wn[i][r],this.override&&delete Sc[r])}}function A1e(n,e,t){const r=pm(Object.create(null),[t?wn.get(t):{},wn.get(e),n.defaults]);wn.set(e,r),n.defaultRoutes&&N1e(e,n.defaultRoutes),n.descriptors&&wn.describe(e,n.descriptors)}function N1e(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");wn.route(s,i,l,a)})}function L1e(n){return"id"in n&&"defaults"in n}class F1e{constructor(){this.controllers=new Y0(up,"datasets",!0),this.elements=new Y0(ii,"elements"),this.plugins=new Y0(Object,"plugins"),this.scales=new Y0(bd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Nt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=XO(e);zt(r["before"+i],[],r),t[e](r),zt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ls=new F1e;class $1e{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[t,i,s.options];if(zt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=dt(r.options&&r.options.plugins,{}),s=j1e(r);return i===!1&&!t?[]:z1e(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function j1e(n){const e={},t=[],r=Object.keys(Ls.plugins.items);for(let s=0;s<r.length;s++)t.push(Ls.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function B1e(n,e){return!e&&n===!1?null:n===!0?{}:n}function z1e(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=B1e(r[l],i);c!==null&&s.push({plugin:a,options:q1e(n.config,{plugin:a,local:t[l]},c,o)})}return s}function q1e(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dP(n,e){const t=wn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function U1e(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function H1e(n,e){return n===e?"_index_":"_value_"}function iL(n){if(n==="x"||n==="y"||n==="r")return n}function W1e(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fP(n,...e){if(iL(n))return n;for(const t of e){const r=t.axis||W1e(t.position)||n.length>1&&iL(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function sL(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Y1e(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return sL(n,"x",t[0])||sL(n,"y",t[0])}return{}}function G1e(n,e){const t=Sc[n.type]||{scales:{}},r=e.scales||{},i=dP(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!gt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=fP(o,a,Y1e(o,n),wn.scales[a.type]),c=H1e(l,i),u=t.scales||{};s[o]=op(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||dP(a,e),u=(Sc[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=U1e(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),op(s[f],[{axis:d},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];op(a,[wn.scales[a.type],wn.scale])}),s}function pX(n){const e=n.options||(n.options={});e.plugins=dt(e.plugins,{}),e.scales=G1e(n,e)}function mX(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function V1e(n){return n=n||{},n.data=mX(n.data),pX(n),n}const oL=new Map,gX=new Set;function G0(n,e){let t=oL.get(n);return t||(t=e(),oL.set(n,t),gX.add(t)),t}const mf=(n,e,t)=>{const r=mm(e,t);r!==void 0&&n.add(r)};class K1e{constructor(e){this._config=V1e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return G0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return G0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return G0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return G0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>mf(l,e,h))),u.forEach(h=>mf(l,i,h)),u.forEach(h=>mf(l,Sc[s]||{},h)),u.forEach(h=>mf(l,wn,h)),u.forEach(h=>mf(l,uP,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),gX.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Sc[t]||{},wn.datasets[t]||{},{type:t},wn,uP]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=aL(this._resolverCache,e,i);let l=o;if(Q1e(o,t)){s.$shared=!1,r=Qr(r)?r():r;const c=this.createResolver(e,r,a);l=Qh(o,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=aL(this._resolverCache,e,r);return gt(t)?Qh(s,t,void 0,i):s}}function aL(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:nR(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const X1e=n=>gt(n)&&Object.getOwnPropertyNames(n).some(e=>Qr(n[e]));function Q1e(n,e){const{isScriptable:t,isIndexable:r}=eX(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(Qr(a)||X1e(a))||o&&un(a))return!0}return!1}var J1e="4.5.1";const Z1e=["top","bottom","left","right","chartArea"];function lL(n,e){return n==="top"||n==="bottom"||Z1e.indexOf(n)===-1&&e==="x"}function cL(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function uL(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),zt(t&&t.onComplete,[n],e)}function e_e(n){const e=n.chart,t=e.options.animation;zt(t&&t.onProgress,[n],e)}function vX(n){return sR()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ov={},hL=n=>{const e=vX(n);return Object.values(Ov).filter(t=>t.canvas===e).pop()};function t_e(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function n_e(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class fs{static register(...e){Ls.add(...e),dL()}static unregister(...e){Ls.remove(...e),dL()}constructor(e,t){const r=this.config=new K1e(t),i=vX(e),s=hL(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||x1e(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=cxe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Txe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ov[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xo.listen(this,"complete",uL),xo.listen(this,"progress",e_e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return pn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ls}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():F4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return A4(this.canvas,this.ctx),this}stop(){return xo.stop(this),this}resize(e,t){xo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,F4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),zt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Nt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=fP(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Nt(s,o=>{const a=o.options,l=a.id,c=fP(l,a),u=dt(a.type,o.dtype);(a.position===void 0||lL(a.position,c)!==lL(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=Ls.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Nt(i,(o,a)=>{o||delete r[a]}),Nt(r,o=>{Hi.configure(this,o,o.options),Hi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(cL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||dP(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Ls.getController(a),{datasetElementType:c,dataElementType:u}=wn.datasets[a];Object.assign(l,{dataElementType:Ls.getElement(u),datasetElementType:c&&Ls.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Nt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cL("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Nt(this.scales,e=>{Hi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!C4(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;t_e(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!C4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hi.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Nt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Qr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xo.has(this)?this.attached&&!xo.running(this)&&xo.start(this):(this.draw(),uL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Rwe(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&nx(t,i),e.controller.draw(),i&&rx(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return gm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=Zwe.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=$c(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);wi(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),A4(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ov[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Nt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Nt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Nt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Dy(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),l=mxe(e),c=n_e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,zt(s.onHover,[e,a,this],this),l&&zt(s.onClick,[e,a,this],this));const u=!Dy(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}de(fs,"defaults",wn),de(fs,"instances",Ov),de(fs,"overrides",Sc),de(fs,"registry",Ls),de(fs,"version",J1e),de(fs,"getChart",hL);function dL(){return Nt(fs.instances,n=>n._plugins.invalidate())}function yX(n,e,t=e){n.lineCap=dt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(dt(t.borderDash,e.borderDash)),n.lineDashOffset=dt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=dt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=dt(t.borderWidth,e.borderWidth),n.strokeStyle=dt(t.borderColor,e.borderColor)}function r_e(n,e,t){n.lineTo(t.x,t.y)}function i_e(n){return n.stepped?jxe:n.tension||n.cubicInterpolationMode==="monotone"?Bxe:r_e}function bX(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function s_e(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=bX(i,t,r),u=i_e(s);let{move:h=!0,reverse:d}=r||{},f,m,g;for(f=0;f<=c;++f)m=i[(a+(d?c-f:f))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,g,m,d,s.stepped),g=m);return l&&(m=i[(a+(d?c:0))%o],u(n,g,m,d,s.stepped)),!!l}function o_e(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=bX(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,m,g,v,y;const b=S=>(o+(c?a-S:S))%s,w=()=>{g!==v&&(n.lineTo(u,v),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(f=i[b(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const S=f.x,_=f.y,k=S|0;k===m?(_<g?g=_:_>v&&(v=_),u=(h*u+S)/++h):(w(),n.lineTo(S,_),m=k,h=0,g=v=_),y=_}w()}function pP(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?o_e:s_e}function a_e(n){return n.stepped?bwe:n.tension||n.cubicInterpolationMode==="monotone"?xwe:Tl}function l_e(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),yX(n,e.options),n.stroke(i)}function c_e(n,e,t,r){const{segments:i,options:s}=e,o=pP(e);for(const a of i)yX(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const u_e=typeof Path2D=="function";function h_e(n,e,t,r){u_e&&!e.options.segment?l_e(n,e,t,r):c_e(n,e,t,r)}class jf extends ii{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;hwe(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mwe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Cwe(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=a_e(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],m=s[d];if(f===m){a.push(f);continue}const g=Math.abs((i-f[t])/(m[t]-f[t])),v=l(f,m,g,r.stepped);v[t]=e[t],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,t,r){return pP(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=pP(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),h_e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}de(jf,"id","line"),de(jf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),de(jf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),de(jf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function fL(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Rv extends ii{constructor(t){super();de(this,"parsed");de(this,"skip");de(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return fL(this,t,"x",r)}inYRange(t,r){return fL(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!gm(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,hP(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}de(Rv,"id","point"),de(Rv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),de(Rv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const pL=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},d_e=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let mL=class extends ii{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=zt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=qn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=pL(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,g)=>{const v=r+t/2+s.measureText(m.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:i},c[c.length-1]+=v+a}),h}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,m=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:b,itemHeight:w}=f_e(r,t,s,v,i);y>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,g++,d=f=0),l[y]={left:m,top:f,col:g,width:b,height:w},d=Math.max(d,b),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Xu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=gr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=gr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=gr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nx(e,this),this._draw(),rx(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=wn.color,l=Xu(e.rtl,this.left,this.width),c=qn(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=pL(o,h),y=function(k,C,E){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const O=dt(E.lineWidth,1);if(i.fillStyle=dt(E.fillStyle,a),i.lineCap=dt(E.lineCap,"butt"),i.lineDashOffset=dt(E.lineDashOffset,0),i.lineJoin=dt(E.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=dt(E.strokeStyle,a),i.setLineDash(dt(E.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:O},D=l.xPlus(k,m/2),N=C+d;JK(i,R,D,N,o.pointStyleWidth&&m)}else{const R=C+Math.max((h-g)/2,0),D=l.leftForLtr(k,m),N=Ku(E.borderRadius);i.beginPath(),Object.values(N).some(L=>L!==0)?$y(i,{x:D,y:R,w:m,h:g,radius:N}):i.rect(D,R,m,g),i.fill(),O!==0&&i.stroke()}i.restore()},b=function(k,C,E){vm(i,E.text,k,C+v/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:gr(s,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:gr(s,this.top+S+u,this.bottom-t[0].height),line:0},sX(this.ctx,e.textDirection);const _=v+u;this.legendItems.forEach((k,C)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const E=i.measureText(k.text).width,O=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),R=m+d+E;let D=f.x,N=f.y;l.setWidth(this.width),w?C>0&&D+R+u>this.right&&(N=f.y+=_,f.line++,D=f.x=gr(s,this.left+u,this.right-r[f.line])):C>0&&N+_>this.bottom&&(D=f.x=D+t[f.line].width+u,f.line++,N=f.y=gr(s,this.top+S+u,this.bottom-t[f.line].height));const L=l.x(D);if(y(L,N,k),D=Mxe(O,D+m+d,w?D+R:this.right,e.rtl),b(l.x(D),N,k),w)f.x+=R+u;else if(typeof k.text!="string"){const W=c.lineHeight;f.y+=xX(k,W)+u}else f.y+=_}),oX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=qn(t.font),i=br(t.padding);if(!t.display)return;const s=Xu(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=gr(e.align,h,this.right-d);else{const m=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+gr(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=gr(a,h,h+d);o.textAlign=s.textAlign(ZO(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,vm(o,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=qn(e.font),r=br(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Lf(e,this.left,this.right)&&Lf(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Lf(e,i.left,i.left+i.width)&&Lf(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!g_e(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=d_e(i,r);i&&!s&&zt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&zt(t.onHover,[e,r,this],this)}else r&&zt(t.onClick,[e,r,this],this)}};function f_e(n,e,t,r,i){const s=p_e(r,n,e,t),o=m_e(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function p_e(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function m_e(n,e,t){let r=n;return typeof e.text!="string"&&(r=xX(e,t)),r}function xX(n,e){const t=n.text?n.text.length:0;return e*t}function g_e(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var v_e={id:"legend",_element:mL,start(n,e,t){const r=n.legend=new mL({ctx:n.ctx,options:t,chart:n});Hi.configure(n,r,t),Hi.addBox(n,r)},stop(n){Hi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Hi.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=br(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class wX extends ii{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=un(r.text)?r.text.length:1;this._padding=br(r.padding);const s=i*qn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=gr(a,r,s),h=t+e,c=s-r):(o.position==="left"?(u=r+e,h=gr(a,i,t),l=Dt*-.5):(u=s-e,h=gr(a,t,i),l=Dt*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=qn(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);vm(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:ZO(t.align),textBaseline:"middle",translation:[o,a]})}}function y_e(n,e){const t=new wX({ctx:n.ctx,options:e,chart:n});Hi.configure(n,t,e),Hi.addBox(n,t),n.titleBlock=t}var b_e={id:"title",_element:wX,start(n,e,t){y_e(n,t)},stop(n){const e=n.titleBlock;Hi.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Hi.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bf={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Xh(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function As(n,e){return e&&(un(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function wo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function x_e(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function gL(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=qn(e.bodyFont),c=qn(e.titleFont),u=qn(e.footerFont),h=s.length,d=i.length,f=r.length,m=br(e.padding);let g=m.height,v=0,y=r.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*S+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const w=function(S){v=Math.max(v,t.measureText(S).width+b)};return t.save(),t.font=c.string,Nt(n.title,w),t.font=l.string,Nt(n.beforeBody.concat(n.afterBody),w),b=e.displayColors?o+2+e.boxPadding:0,Nt(r,S=>{Nt(S.before,w),Nt(S.lines,w),Nt(S.after,w)}),b=0,t.font=u.string,Nt(n.footer,w),t.restore(),v+=m.width,{width:v,height:g}}function w_e(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function __e(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function S_e(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),__e(c,n,e,t)&&(c="center"),c}function vL(n,e,t){const r=t.yAlign||e.yAlign||w_e(n,t);return{xAlign:t.xAlign||e.xAlign||S_e(n,e,t,r),yAlign:r}}function k_e(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function C_e(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function yL(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ku(o);let m=k_e(e,a);const g=C_e(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:Ws(m,0,r.width-e.width),y:Ws(g,0,r.height-e.height)}}function V0(n,e,t){const r=br(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function bL(n){return As([],wo(n))}function E_e(n,e,t){return $c(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function xL(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const _X={beforeTitle:yo,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:yo,beforeBody:yo,beforeLabel:yo,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return pn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:yo,afterBody:yo,beforeFooter:yo,footer:yo,afterFooter:yo};function jr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?_X[e].call(t,r):i}class mP extends ii{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new aR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=E_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=jr(r,"beforeTitle",this,e),s=jr(r,"title",this,e),o=jr(r,"afterTitle",this,e);let a=[];return a=As(a,wo(i)),a=As(a,wo(s)),a=As(a,wo(o)),a}getBeforeBody(e,t){return bL(jr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Nt(e,s=>{const o={before:[],lines:[],after:[]},a=xL(r,s);As(o.before,wo(jr(a,"beforeLabel",this,s))),As(o.lines,jr(a,"label",this,s)),As(o.after,wo(jr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return bL(jr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=jr(r,"beforeFooter",this,e),s=jr(r,"footer",this,e),o=jr(r,"afterFooter",this,e);let a=[];return a=As(a,wo(i)),a=As(a,wo(s)),a=As(a,wo(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(x_e(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Nt(a,u=>{const h=xL(e.callbacks,u);i.push(jr(h,"labelColor",this,u)),s.push(jr(h,"labelPointStyle",this,u)),o.push(jr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Bf[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=gL(this,r),c=Object.assign({},a,l),u=vL(this.chart,r,c),h=yL(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ku(a),{x:d,y:f}=e,{width:m,height:g}=t;let v,y,b,w,S,_;return s==="center"?(S=f+g/2,i==="left"?(v=d,y=v-o,w=S+o,_=S-o):(v=d+m,y=v+o,w=S-o,_=S+o),b=v):(i==="left"?y=d+Math.max(l,u)+o:i==="right"?y=d+m-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,S=w-o,v=y-o,b=y+o):(w=f+g,S=w+o,v=y+o,b=y-o),_=w),{x1:v,x2:y,x3:b,y1:w,y2:S,y3:_}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Xu(r.rtl,this.x,this.width);for(e.x=V0(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",o=qn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=qn(s.bodyFont),h=V0(this,"left",s),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(d,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hP(e,g,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hP(e,g,v,y)}else{e.lineWidth=gt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),v=i.leftForLtr(i.xPlus(d,1),c-2),y=Ku(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,$y(e,{x:g,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),$y(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=qn(r.bodyFont);let d=h.lineHeight,f=0;const m=Xu(r.rtl,this.x,this.width),g=function(E){t.fillText(E,m.x(e.x+f),e.y+d/2),e.y+=d+s},v=m.textAlign(o);let y,b,w,S,_,k,C;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=V0(this,v,r),t.fillStyle=r.bodyColor,Nt(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,k=i.length;S<k;++S){for(y=i[S],b=this.labelTextColors[S],t.fillStyle=b,Nt(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(t,e,S,m,r),d=Math.max(h.lineHeight,l)),_=0,C=w.length;_<C;++_)g(w[_]),d=h.lineHeight;Nt(y.after,g)}f=0,d=h.lineHeight,Nt(this.afterBody,g),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Xu(r.rtl,this.x,this.width);for(e.x=V0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",o=qn(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Ku(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+c,l+u-m),t.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Bf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=gL(this,e),l=Object.assign({},o,this._size),c=vL(t,e,l),u=yL(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=br(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),sX(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),oX(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Dy(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),l=t||!Dy(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=Bf[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}de(mP,"positioners",Bf);var T_e={id:"tooltip",_element:mP,positioners:Bf,afterInit(n,e,t){t&&(n.tooltip=new mP({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_X},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M_e=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function P_e(n,e,t,r){const i=n.indexOf(e);if(i===-1)return M_e(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const I_e=(n,e)=>n===null?null:Ws(Math.round(n),0,e);function wL(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class gP extends bd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(pn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:P_e(r,e,dt(t,e),this._addedLabels),I_e(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return wL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(gP,"id","category"),de(gP,"defaults",{ticks:{callback:wL}});function O_e(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=s||1,m=u-1,{min:g,max:v}=e,y=!pn(o),b=!pn(a),w=!pn(c),S=(v-g)/(h+1);let _=E4((v-g)/m/f)*f,k,C,E,O;if(_<1e-14&&!y&&!b)return[{value:g},{value:v}];O=Math.ceil(v/_)-Math.floor(g/_),O>m&&(_=E4(O*_/m/f)*f),pn(l)||(k=Math.pow(10,l),_=Math.ceil(_*k)/k),i==="ticks"?(C=Math.floor(g/_)*_,E=Math.ceil(v/_)*_):(C=g,E=v),y&&b&&s&&bxe((a-o)/s,_/1e3)?(O=Math.round(Math.min((a-o)/_,u)),_=(a-o)/O,C=o,E=a):w?(C=y?o:C,E=b?a:E,O=c-1,_=(E-C)/O):(O=(E-C)/_,ap(O,Math.round(O),_/1e3)?O=Math.round(O):O=Math.ceil(O));const R=Math.max(T4(_),T4(C));k=Math.pow(10,pn(l)?R:l),C=Math.round(C*k)/k,E=Math.round(E*k)/k;let D=0;for(y&&(d&&C!==o?(t.push({value:o}),C<o&&D++,ap(Math.round((C+D*_)*k)/k,o,_L(o,S,n))&&D++):C<o&&D++);D<O;++D){const N=Math.round((C+D*_)*k)/k;if(b&&N>a)break;t.push({value:N})}return b&&d&&E!==a?t.length&&ap(t[t.length-1].value,a,_L(a,S,n))?t[t.length-1].value=a:t.push({value:a}):(!b||E===a)&&t.push({value:E}),t}function _L(n,e,{horizontal:t,minRotation:r}){const i=Jn(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class R_e extends bd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return pn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=t?i:l,a=l=>s=r?s:l;if(e){const l=Vh(i),c=Vh(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=O_e(i,s);return e.bounds==="ticks"&&xxe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return tR(e,this.chart.options.locale,this.options.ticks.format)}}class vP extends R_e{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ti(e)?e:0,this.max=ti(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Jn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(vP,"id","linear"),de(vP,"defaults",{ticks:{callback:QK.formatters.numeric}});const ox={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(ox);function SL(n,e){return n-e}function kL(n,e){if(pn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ti(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Kh(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function CL(n,e,t,r){const i=Hr.length;for(let s=Hr.indexOf(n);s<i-1;++s){const o=ox[Hr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Hr[s]}return Hr[i-1]}function D_e(n,e,t,r,i){for(let s=Hr.length-1;s>=Hr.indexOf(t);s--){const o=Hr[s];if(ox[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Hr[t?Hr.indexOf(t):0]}function A_e(n){for(let e=Hr.indexOf(n)+1,t=Hr.length;e<t;++e)if(ox[Hr[e]].common)return Hr[e]}function EL(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=JO(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function N_e(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function TL(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:N_e(n,r,i,t)}class zy extends bd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new Vwe._date(e.adapters.date);i.init(t),op(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:kL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ti(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ti(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=kxe(i,s,o);return this._unit=t.unit||(r.autoSkip?CL(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):D_e(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:A_e(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),TL(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ws(t,0,o),r=Ws(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||CL(s.minUnit,t,r,this._getLabelCapacity(t)),a=dt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Kh(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)EL(u,d,m);return(d===r||i.bounds==="ticks"||f===1)&&EL(u,d,m),Object.keys(u).sort(SL).map(g=>+g)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return zt(o,[e,t,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=r[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Jn(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,TL(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(kL(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Exe(e.sort(SL))}}de(zy,"id","time"),de(zy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function K0(n,e,t){let r=0,i=n.length-1,s,o,a,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=cP(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=cP(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:l}=n[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class ML extends zy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=K0(t,this.min),this._tableRange=K0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(K0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return K0(this._table,r*this._tableRange+this._minPos,!0)}}de(ML,"id","timeseries"),de(ML,"defaults",zy.defaults);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const PL={modes:{point(n,e){return Dv(n,e,{intersect:!0})},nearest(n,e,t){return $_e(n,e,t)},x(n,e,t){return Dv(n,e,{intersect:t.intersect,axis:"x"})},y(n,e,t){return Dv(n,e,{intersect:t.intersect,axis:"y"})}}};function cR(n,e,t){return(PL.modes[t.mode]||PL.modes.nearest)(n,e,t)}function L_e(n,e,t){return t!=="x"&&t!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,t,!0)}function F_e(n,e,t){return t==="x"?{x:n.x,y:e.y}:t==="y"?{x:e.x,y:n.y}:e}function Dv(n,e,t){return n.filter(r=>t.intersect?r.inRange(e.x,e.y):L_e(r,e,t.axis))}function $_e(n,e,t){let r=Number.POSITIVE_INFINITY;return Dv(n,e,t).reduce((i,s)=>{const o=s.getCenterPoint(),a=F_e(e,o,t.axis),l=Xh(e,a);return l<r?(i=[s],r=l):l===r&&i.push(s),i},[]).sort((i,s)=>i._index-s._index).slice(0,1)}function jc(n,e,t){const r=Math.cos(t),i=Math.sin(t),s=e.x,o=e.y;return{x:s+r*(n.x-s)-i*(n.y-o),y:o+i*(n.x-s)+r*(n.y-o)}}const j_e=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,Bl=.001,ax=(n,e,t)=>Math.min(t,Math.max(e,n)),SX=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function B_e(n,e,t){for(const r of Object.keys(n))n[r]=ax(n[r],e,t);return n}function z_e(n,e,t,r){return!n||!e||t<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(t+r,2)}function kX(n,{x:e,y:t,x2:r,y2:i},s,{borderWidth:o,hitTolerance:a}){const l=(o+a)/2,c=n.x>=e-l-Bl&&n.x<=r+l+Bl,u=n.y>=t-l-Bl&&n.y<=i+l+Bl;return s==="x"?c:(s==="y"||c)&&u}function CX(n,{rect:e,center:t},r,{rotation:i,borderWidth:s,hitTolerance:o}){const a=jc(n,t,Jn(-i));return kX(a,e,r,{borderWidth:s,hitTolerance:o})}function Bc(n,e){const{centerX:t,centerY:r}=n.getProps(["centerX","centerY"],e);return{x:t,y:r}}function q_e(n,e,t,r=!0){const i=t.split(".");let s=0;for(const o of e.split(".")){const a=i[s++];if(parseInt(o,10)<parseInt(a,10))break;if(j_e(a,o)){if(r)throw new Error(`${n} v${t} is not supported. v${e} or newer is required.`);return!1}}return!0}const EX=n=>typeof n=="string"&&n.endsWith("%"),TX=n=>parseFloat(n)/100,MX=n=>ax(TX(n),0,1),gf=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),U_e={box:n=>gf(n.centerX,n.centerY),doughnutLabel:n=>gf(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>gf(n.centerX,n.centerY),line:n=>gf(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>gf(n.centerX,n.centerY)};function uR(n,e){return e==="start"?0:e==="end"?n:EX(e)?MX(e)*n:n/2}function tl(n,e,t=!0){return typeof e=="number"?e:EX(e)?(t?MX(e):TX(e))*n:n}function H_e(n,e){const{x:t,width:r}=n,i=e.textAlign;return i==="center"?t+r/2:i==="end"||i==="right"?t+r:t}function PX(n,e,{borderWidth:t,position:r,xAdjust:i,yAdjust:s},o){const a=gt(o),l=e.width+(a?o.width:0)+t,c=e.height+(a?o.height:0)+t,u=hR(r),h=IL(n.x,l,i,u.x),d=IL(n.y,c,s,u.y);return{x:h,y:d,x2:h+l,y2:d+c,width:l,height:c,centerX:h+l/2,centerY:d+c/2}}function hR(n,e="center"){return gt(n)?{x:dt(n.x,e),y:dt(n.y,e)}:(n=dt(n,e),{x:n,y:n})}const IX=(n,e)=>n&&n.autoFit&&e<1;function OX(n,e){const t=n.font,r=un(t)?t:[t];return IX(n,e)?r.map(function(i){const s=qn(i);return s.size=Math.floor(i.size*e),s.lineHeight=i.lineHeight,qn(s)}):r.map(i=>qn(i))}function RX(n){return n&&(wi(n.xValue)||wi(n.yValue))}function IL(n,e,t=0,r){return n-uR(e,r)+t}function xd(n,e,t){const r=t.init;if(r){if(r===!0)return AX(e,t)}else return;return W_e(n,e,t)}function DX(n,e,t){let r=!1;return e.forEach(i=>{Qr(n[i])?(r=!0,t[i]=n[i]):wi(t[i])&&delete t[i]}),r}function AX(n,e){const t=e.type||"line";return U_e[t](n)}function W_e(n,e,t){const r=zt(t.init,[{chart:n,properties:e,options:t}]);if(r===!0)return AX(e,t);if(gt(r))return r}const K1=new Map,Y_e=n=>isNaN(n)||n<=0,G_e=n=>n.reduce(function(e,t){return e+=t.string,e},"");function lx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function cx(n,{x:e,y:t},r){r&&(n.translate(e,t),n.rotate(Jn(r)),n.translate(-e,-t))}function Go(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function wd(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function ux(n,e){const t=e.content;if(lx(t))return{width:tl(t.width,e.width),height:tl(t.height,e.height)};const r=OX(e),i=e.textStrokeWidth,s=un(t)?t:[t],o=s.join()+G_e(r)+i+(n._measureText?"-spriting":"");return K1.has(o)||K1.set(o,Q_e(n,s,r,i)),K1.get(o)}function NX(n,e,t){const{x:r,y:i,width:s,height:o}=e;n.save(),wd(n,t);const a=Go(n,t);n.fillStyle=t.backgroundColor,n.beginPath(),$y(n,{x:r,y:i,w:s,h:o,radius:B_e(Ku(t.borderRadius),0,Math.min(s,o)/2)}),n.closePath(),n.fill(),a&&(n.shadowColor=t.borderShadowColor,n.stroke()),n.restore()}function LX(n,e,t,r){const i=t.content;if(lx(i)){n.save(),n.globalAlpha=eSe(t.opacity,i.style.opacity),n.drawImage(i,e.x,e.y,e.width,e.height),n.restore();return}const s=un(i)?i:[i],o=OX(t,r),a=t.color,l=un(a)?a:[a],c=H_e(e,t),u=e.y+t.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=t.textAlign,V_e(n,t)&&J_e(n,{x:c,y:u},s,o),Z_e(n,{x:c,y:u},s,{fonts:o,colors:l}),n.restore()}function V_e(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function K_e(n,e,t,r){const{radius:i,options:s}=e,o=s.pointStyle,a=s.rotation;let l=(a||0)*QO;if(lx(o)){n.save(),n.translate(t,r),n.rotate(l),n.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),n.restore();return}Y_e(i)||X_e(n,{x:t,y:r,radius:i,rotation:a,style:o,rad:l})}function X_e(n,{x:e,y:t,radius:r,rotation:i,style:s,rad:o}){let a,l,c,u;switch(n.beginPath(),s){default:n.arc(e,t,r,0,cr),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Ly,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Ly,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),n.closePath();break;case"rectRounded":u=r*.516,c=r-u,a=Math.cos(o+Bi)*c,l=Math.sin(o+Bi)*c,n.arc(e-a,t-l,u,o-Dt,o-ur),n.arc(e+l,t-a,u,o-ur,o),n.arc(e+a,t+l,u,o,o+ur),n.arc(e-l,t+a,u,o+ur,o+Dt),n.closePath();break;case"rect":if(!i){c=Math.SQRT1_2*r,n.rect(e-c,t-c,2*c,2*c);break}o+=Bi;case"rectRot":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+l,t-a),n.lineTo(e+a,t+l),n.lineTo(e-l,t+a),n.closePath();break;case"crossRot":o+=Bi;case"cross":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"star":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a),o+=Bi,a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"line":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l);break;case"dash":n.moveTo(e,t),n.lineTo(e+Math.cos(o)*r,t+Math.sin(o)*r);break}n.fill()}function Q_e(n,e,t,r){n.save();const i=e.length;let s=0,o=r;for(let a=0;a<i;a++){const l=t[Math.min(a,t.length-1)];n.font=l.string;const c=e[a];s=Math.max(s,n.measureText(c).width+r),o+=l.lineHeight}return n.restore(),{width:s,height:o}}function J_e(n,{x:e,y:t},r,i){n.beginPath();let s=0;r.forEach(function(o,a){const l=i[Math.min(a,i.length-1)],c=l.lineHeight;n.font=l.string,n.strokeText(o,e,t+c/2+s),s+=c}),n.stroke()}function Z_e(n,{x:e,y:t},r,{fonts:i,colors:s}){let o=0;r.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=i[Math.min(l,i.length-1)],h=u.lineHeight;n.beginPath(),n.font=u.string,n.fillStyle=c,n.fillText(a,e,t+h/2+o),o+=h,n.fill()})}function eSe(n,e){const t=Kh(n)?n:e;return Kh(t)?ax(t,0,1):1}const FX=["left","bottom","top","right"];function tSe(n,e){const{pointX:t,pointY:r,options:i}=e,s=i.callout,o=s&&s.display&&oSe(e,s);if(!o||lSe(e,s,o))return;if(n.save(),n.beginPath(),!Go(n,s))return n.restore();const{separatorStart:l,separatorEnd:c}=nSe(e,o),{sideStart:u,sideEnd:h}=iSe(e,o,l);(s.margin>0||i.borderWidth===0)&&(n.moveTo(l.x,l.y),n.lineTo(c.x,c.y)),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y);const d=jc({x:t,y:r},e.getCenterPoint(),Jn(-e.rotation));n.lineTo(d.x,d.y),n.stroke(),n.restore()}function nSe(n,e){const{x:t,y:r,x2:i,y2:s}=n,o=rSe(n,e);let a,l;return e==="left"||e==="right"?(a={x:t+o,y:r},l={x:a.x,y:s}):(a={x:t,y:r+o},l={x:i,y:a.y}),{separatorStart:a,separatorEnd:l}}function rSe(n,e){const{width:t,height:r,options:i}=n,s=i.callout.margin+i.borderWidth/2;return e==="right"?t+s:e==="bottom"?r+s:-s}function iSe(n,e,t){const{y:r,width:i,height:s,options:o}=n,a=o.callout.start,l=sSe(e,o.callout);let c,u;return e==="left"||e==="right"?(c={x:t.x,y:r+tl(s,a)},u={x:c.x+l,y:c.y}):(c={x:t.x+tl(i,a),y:t.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function sSe(n,e){const t=e.side;return n==="left"||n==="top"?-t:t}function oSe(n,e){const t=e.position;return FX.includes(t)?t:aSe(n,e)}function aSe(n,e){const{x:t,y:r,x2:i,y2:s,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=n,f={x:u,y:h},m=e.start,g=tl(o,m),v=tl(a,m),y=[t,t+g,t+g,i],b=[r+v,s,r,s],w=[];for(let S=0;S<4;S++){const _=jc({x:y[S],y:b[S]},f,Jn(d));w.push({position:FX[S],distance:Xh(_,{x:l,y:c})})}return w.sort((S,_)=>S.distance-_.distance)[0].position}function lSe(n,e,t){const{pointX:r,pointY:i}=n,s=e.margin;let o=r,a=i;return t==="left"?o+=s:t==="right"?o-=s:t==="top"?a+=s:t==="bottom"&&(a-=s),n.inRange(o,a)}const OL={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function Zh(n,e,t){return e=typeof e=="number"?e:n.parse(e),ti(e)?n.getPixelForValue(e):t}function kc(n,e,t){const r=e[t];if(r||t==="scaleID")return r;const i=t.charAt(0),s=Object.values(n).filter(o=>o.axis&&o.axis===i);return s.length?s[0].id:i}function $X(n,e){if(n){const t=n.options.reverse,r=Zh(n,e.min,t?e.end:e.start),i=Zh(n,e.max,t?e.start:e.end);return{start:r,end:i}}}function jX(n,e){const{chartArea:t,scales:r}=n,i=r[kc(r,e,"xScaleID")],s=r[kc(r,e,"yScaleID")];let o=t.width/2,a=t.height/2;return i&&(o=Zh(i,e.xValue,i.left+i.width/2)),s&&(a=Zh(s,e.yValue,s.top+s.height/2)),{x:o,y:a}}function dR(n,e){const t=n.scales,r=t[kc(t,e,"xScaleID")],i=t[kc(t,e,"yScaleID")];if(!r&&!i)return{};let{left:s,right:o}=r||n.chartArea,{top:a,bottom:l}=i||n.chartArea;const c=RL(r,{min:e.xMin,max:e.xMax,start:s,end:o});s=c.start,o=c.end;const u=RL(i,{min:e.yMin,max:e.yMax,start:l,end:a});return a=u.start,l=u.end,{x:s,y:a,x2:o,y2:l,width:o-s,height:l-a,centerX:s+(o-s)/2,centerY:a+(l-a)/2}}function BX(n,e){if(!RX(e)){const t=dR(n,e);let r=e.radius;(!r||isNaN(r))&&(r=Math.min(t.width,t.height)/2,e.radius=r);const i=r*2,s=t.centerX+e.xAdjust,o=t.centerY+e.yAdjust;return{x:s-r,y:o-r,x2:s+r,y2:o+r,centerX:s,centerY:o,width:i,height:i,radius:r}}return uSe(n,e)}function cSe(n,e){const{scales:t,chartArea:r}=n,i=t[e.scaleID],s={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?hSe(i,s,e):dSe(t,s,e),s}function zX(n,e){const t=dR(n,e);return t.initProperties=xd(n,t,e),t.elements=[{type:"label",optionScope:"label",properties:mSe(n,t,e),initProperties:t.initProperties}],t}function uSe(n,e){const t=jX(n,e),r=e.radius*2;return{x:t.x-e.radius+e.xAdjust,y:t.y-e.radius+e.yAdjust,x2:t.x+e.radius+e.xAdjust,y2:t.y+e.radius+e.yAdjust,centerX:t.x+e.xAdjust,centerY:t.y+e.yAdjust,radius:e.radius,width:r,height:r}}function RL(n,e){const t=$X(n,e)||e;return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}function hSe(n,e,t){const r=Zh(n,t.value,NaN),i=Zh(n,t.endValue,r);n.isHorizontal()?(e.x=r,e.x2=i):(e.y=r,e.y2=i)}function dSe(n,e,t){for(const r of Object.keys(OL)){const i=n[kc(n,t,r)];if(i){const{min:s,max:o,start:a,end:l,startProp:c,endProp:u}=OL[r],h=$X(i,{min:t[s],max:t[o],start:i[a],end:i[l]});e[c]=h.start,e[u]=h.end}}}function fSe({properties:n,options:e},t,r,i){const{x:s,x2:o,width:a}=n;return qX({start:s,end:o,borderWidth:e.borderWidth},{position:r.x,padding:{start:i.left,end:i.right},adjust:e.label.xAdjust,size:t.width})}function pSe({properties:n,options:e},t,r,i){const{y:s,y2:o,height:a}=n;return qX({start:s,end:o,borderWidth:e.borderWidth},{position:r.y,padding:{start:i.top,end:i.bottom},adjust:e.label.yAdjust,size:t.height})}function qX(n,e){const{start:t,end:r,borderWidth:i}=n,{position:s,padding:{start:o,end:a},adjust:l}=e,c=r-i-t-o-a-e.size;return t+i/2+l+uR(c,s)}function mSe(n,e,t){const r=t.label;r.backgroundColor="transparent",r.callout.display=!1;const i=hR(r.position),s=br(r.padding),o=ux(n.ctx,r),a=fSe({properties:e,options:t},o,i,s),l=pSe({properties:e,options:t},o,i,s),c=o.width+s.width,u=o.height+s.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:r.rotation}}const yP=["enter","leave"],fR=yP.concat("click");function gSe(n,e,t){e.listened=DX(t,fR,e.listeners),e.moveListened=!1,yP.forEach(r=>{Qr(t[r])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(r=>{!e.listened&&Qr(r.click)&&(e.listened=!0),e.moveListened||yP.forEach(i=>{Qr(r[i])&&(e.listened=!0,e.moveListened=!0)})})}function vSe(n,e,t){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return ySe(n,e,t);case"click":return bSe(n,e,t)}}function ySe(n,e,t){if(!n.moveListened)return;let r;e.type==="mousemove"?r=cR(n.visibleElements,e,t.interaction):r=[];const i=n.hovered;n.hovered=r;const s={state:n,event:e};let o=DL(s,"leave",i,r);return DL(s,"enter",r,i)||o}function DL({state:n,event:e},t,r,i){let s;for(const o of r)i.indexOf(o)<0&&(s=UX(o.options[t]||n.listeners[t],o,e)||s);return s}function bSe(n,e,t){const r=n.listeners,i=cR(n.visibleElements,e,t.interaction);let s;for(const o of i)s=UX(o.options.click||r.click,o,e)||s;return s}function UX(n,e,t){return zt(n,[e.$context,t])===!0}const qy=["afterDraw","beforeDraw"];function xSe(n,e,t){const r=e.visibleElements;e.hooked=DX(t,qy,e.hooks),e.hooked||r.forEach(i=>{e.hooked||qy.forEach(s=>{Qr(i.options[s])&&(e.hooked=!0)})})}function AL(n,e,t){if(n.hooked){const r=e.options[t]||n.hooks[t];return zt(r,[e.$context])}}function wSe(n,e,t){const r=ESe(n.scales,e,t);let i=NL(e,r,"min","suggestedMin");i=NL(e,r,"max","suggestedMax")||i,i&&Qr(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function _Se(n,e){for(const t of n)kSe(t,e)}function NL(n,e,t,r){if(ti(e[t])&&!SSe(n.options,t,r)){const i=n[t]!==e[t];return n[t]=e[t],i}}function SSe(n,e,t){return wi(n[e])||wi(n[t])}function kSe(n,e){for(const t of["scaleID","xScaleID","yScaleID"]){const r=kc(e,n,t);r&&!e[r]&&CSe(n,t)&&console.warn(`No scale found with id '${r}' for annotation '${n.id}'`)}}function CSe(n,e){if(e==="scaleID")return!0;const t=e.charAt(0);for(const r of["Min","Max","Value"])if(wi(n[t+r]))return!0;return!1}function ESe(n,e,t){const r=e.axis,i=e.id,s=r+"ScaleID",o={min:dt(e.min,Number.NEGATIVE_INFINITY),max:dt(e.max,Number.POSITIVE_INFINITY)};for(const a of t)a.scaleID===i?LL(a,e,["value","endValue"],o):kc(n,a,s)===i&&LL(a,e,[r+"Min",r+"Max",r+"Value"],o);return o}function LL(n,e,t,r){for(const i of t){const s=n[i];if(wi(s)){const o=e.parse(s);r.min=Math.min(r.min,o),r.max=Math.max(r.max,o)}}}class _d extends ii{inRange(e,t,r,i){const{x:s,y:o}=jc({x:e,y:t},this.getCenterPoint(i),Jn(-this.options.rotation));return kX({x:s,y:o},this.getProps(["x","y","x2","y2"],i),r,this.options)}getCenterPoint(e){return Bc(this,e)}draw(e){e.save(),cx(e,this.getCenterPoint(),this.options.rotation),NX(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return zX(e,t)}}_d.id="boxAnnotation";_d.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};_d.defaultRoutes={borderColor:"color",backgroundColor:"color"};_d.descriptors={label:{_fallback:!0}};class hx extends ii{inRange(e,t,r,i){return CX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Bc(this,e)}draw(e){const t=this.options;!t.display||!t.content||(RSe(e,this),e.save(),cx(e,this.getCenterPoint(),this.rotation),LX(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const r=TSe(e,t);if(!r)return{};const{controllerMeta:i,point:s,radius:o}=PSe(e,t,r);let a=ux(e.ctx,t);const l=ISe(a,o);IX(t,l)&&(a={width:a.width*l,height:a.height*l});const{position:c,xAdjust:u,yAdjust:h}=t,d=PX(s,a,{borderWidth:0,position:c,xAdjust:u,yAdjust:h});return{initProperties:xd(e,d,t),...d,...i,rotation:t.rotation,_fitRatio:l}}}hx.id="doughnutLabelAnnotation";hx.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};hx.defaultRoutes={};function TSe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(t,r){const i=r.controller;return i instanceof Ff&&MSe(n,e,r.data)&&(!t||i.innerRadius<t.controller.innerRadius)&&i.options.circumference>=90?r:t},void 0)}function MSe(n,e,t){if(!e.autoHide)return!0;for(let r=0;r<t.length;r++)if(!t[r].hidden&&n.getDataVisibility(r))return!0}function PSe({chartArea:n},e,t){const{left:r,top:i,right:s,bottom:o}=n,{innerRadius:a,offsetX:l,offsetY:c}=t.controller,u=(r+s)/2+l,h=(i+o)/2+c,d={left:Math.max(u-a,r),right:Math.min(u+a,s),top:Math.max(h-a,i),bottom:Math.min(h+a,o)},f={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},m=e.spacing+e.borderWidth/2,g=a-m,v=f.y>h,y=v?i+m:o-m,b=OSe(y,u,h,g);return{controllerMeta:{_centerX:u,_centerY:h,_radius:g,_counterclockwise:v,...b},point:f,radius:Math.min(a,Math.min(d.right-d.left,d.bottom-d.top)/2)}}function ISe({width:n,height:e},t){const r=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return t*2/r}function OSe(n,e,t,r){const i=Math.pow(t-n,2),s=Math.pow(r,2),o=e*-2,a=Math.pow(e,2)+i-s,l=Math.pow(o,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:cr};const c=(-o-Math.sqrt(l))/2,u=(-o+Math.sqrt(l))/2;return{_startAngle:lP({x:e,y:t},{x:c,y:n}).angle,_endAngle:lP({x:e,y:t},{x:u,y:n}).angle}}function RSe(n,e){const{_centerX:t,_centerY:r,_radius:i,_startAngle:s,_endAngle:o,_counterclockwise:a,options:l}=e;n.save();const c=Go(n,l);n.fillStyle=l.backgroundColor,n.beginPath(),n.arc(t,r,i,s,o,a),n.closePath(),n.fill(),c&&n.stroke(),n.restore()}class eg extends ii{inRange(e,t,r,i){return CX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Bc(this,e)}draw(e){const t=this.options,r=!wi(this._visible)||this._visible;!t.display||!t.content||!r||(e.save(),cx(e,this.getCenterPoint(),this.rotation),tSe(e,this),NX(e,this,t),LX(e,DSe(this),t),e.restore())}resolveElementProperties(e,t){let r;if(RX(t))r=jX(e,t);else{const{centerX:a,centerY:l}=dR(e,t);r={x:a,y:l}}const i=br(t.padding),s=ux(e.ctx,t),o=PX(r,s,t,i);return{initProperties:xd(e,o,t),pointX:r.x,pointY:r.y,...o,rotation:t.rotation}}}eg.id="labelAnnotation";eg.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};eg.defaultRoutes={borderColor:"color"};function DSe({x:n,y:e,width:t,height:r,options:i}){const s=i.borderWidth/2,o=br(i.padding);return{x:n+o.left+s,y:e+o.top+s,width:t-o.left-o.right-i.borderWidth,height:r-o.top-o.bottom-i.borderWidth}}const pR=(n,e,t)=>({x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}),bP=(n,e,t)=>pR(e,t,Math.abs((n-e.y)/(t.y-e.y))).x,FL=(n,e,t)=>pR(e,t,Math.abs((n-e.x)/(t.x-e.x))).y,zf=n=>n*n,ASe=(n,e,{x:t,y:r,x2:i,y2:s},o)=>o==="y"?{start:Math.min(r,s),end:Math.max(r,s),value:e}:{start:Math.min(t,i),end:Math.max(t,i),value:n},$L=(n,e,t,r)=>(1-r)*(1-r)*n+2*(1-r)*r*e+r*r*t,xP=(n,e,t,r)=>({x:$L(n.x,e.x,t.x,r),y:$L(n.y,e.y,t.y,r)}),jL=(n,e,t,r)=>2*(1-r)*(e-n)+2*r*(t-e),BL=(n,e,t,r)=>-Math.atan2(jL(n.x,e.x,t.x,r),jL(n.y,e.y,t.y,r))+.5*Dt;class tg extends ii{inRange(e,t,r,i){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y"){const o={mouseX:e,mouseY:t},{path:a,ctx:l}=this;if(a){Go(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:u}=this.$context,h=e*u.currentDevicePixelRatio,d=t*u.currentDevicePixelRatio,f=l.isPointInStroke(a,h,d)||wP(this,o,i);return l.restore(),f}const c=zf(s);return $Se(this,o,c,i)||wP(this,o,i)}return NSe(this,{mouseX:e,mouseY:t},r,{hitSize:s,useFinalPosition:i})}getCenterPoint(e){return Bc(this,e)}draw(e){const{x:t,y:r,x2:i,y2:s,cp:o,options:a}=this;if(e.save(),!Go(e,a))return e.restore();wd(e,a);const l=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2));if(a.curve&&o)return YSe(e,this,o,l),e.restore();const{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=HX(this),f=Math.atan2(s-r,i-t);e.translate(t,r),e.rotate(f),e.beginPath(),e.moveTo(0+h,0),e.lineTo(l-d,0),e.shadowColor=a.borderShadowColor,e.stroke(),_P(e,0,h,c),_P(e,l,-d,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const r=cSe(e,t),{x:i,y:s,x2:o,y2:a}=r,l=LSe(r,e.chartArea),c=l?FSe({x:i,y:s},{x:o,y:a},e.chartArea):{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)};if(c.centerX=(o+i)/2,c.centerY=(a+s)/2,c.initProperties=xd(e,c,t),t.curve){const h={x:c.x,y:c.y},d={x:c.x2,y:c.y2};c.cp=WSe(c,t,Xh(h,d))}const u=jSe(e,c,t.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}tg.id="lineAnnotation";const zL={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};tg.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},zL),fill:!1,length:12,start:Object.assign({},zL),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},eg.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};tg.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};tg.defaultRoutes={borderColor:"color"};function NSe(n,{mouseX:e,mouseY:t},r,{hitSize:i,useFinalPosition:s}){const o=ASe(e,t,n.getProps(["x","y","x2","y2"],s),r);return SX(o,i)||wP(n,{mouseX:e,mouseY:t},s,r)}function LSe({x:n,y:e,x2:t,y2:r},{top:i,right:s,bottom:o,left:a}){return!(n<a&&t<a||n>s&&t>s||e<i&&r<i||e>o&&r>o)}function qL({x:n,y:e},t,{top:r,right:i,bottom:s,left:o}){return n<o&&(e=FL(o,{x:n,y:e},t),n=o),n>i&&(e=FL(i,{x:n,y:e},t),n=i),e<r&&(n=bP(r,{x:n,y:e},t),e=r),e>s&&(n=bP(s,{x:n,y:e},t),e=s),{x:n,y:e}}function FSe(n,e,t){const{x:r,y:i}=qL(n,e,t),{x:s,y:o}=qL(e,n,t);return{x:r,y:i,x2:s,y2:o,width:Math.abs(s-r),height:Math.abs(o-i)}}function $Se(n,{mouseX:e,mouseY:t},r=Bl,i){const{x:s,y:o,x2:a,y2:l}=n.getProps(["x","y","x2","y2"],i),c=a-s,u=l-o,h=zf(c)+zf(u),d=h===0?-1:((e-s)*c+(t-o)*u)/h;let f,m;return d<0?(f=s,m=o):d>1?(f=a,m=l):(f=s+d*c,m=o+d*u),zf(e-f)+zf(t-m)<=r}function wP(n,{mouseX:e,mouseY:t},r,i){const s=n.label;return s.options.display&&s.inRange(e,t,i,r)}function jSe(n,e,t){const r=t.borderWidth,i=br(t.padding),s=ux(n.ctx,t),o=s.width+i.width+r,a=s.height+i.height+r;return zSe(e,t,{width:o,height:a,padding:i},n.chartArea)}function BSe(n){const{x:e,y:t,x2:r,y2:i}=n,s=Math.atan2(i-t,r-e);return s>Dt/2?s-Dt:s<Dt/-2?s+Dt:s}function zSe(n,e,t,r){const{width:i,height:s,padding:o}=t,{xAdjust:a,yAdjust:l}=e,c={x:n.x,y:n.y},u={x:n.x2,y:n.y2},h=e.rotation==="auto"?BSe(n):Jn(e.rotation),d=qSe(i,s,h),f=USe(n,e,{labelSize:d,padding:o},r),m=n.cp?xP(c,n.cp,u,f):pR(c,u,f),g={size:d.w,min:r.left,max:r.right,padding:o.left},v={size:d.h,min:r.top,max:r.bottom,padding:o.top},y=HL(m.x,g)+a,b=HL(m.y,v)+l;return{x:y-i/2,y:b-s/2,x2:y+i/2,y2:b+s/2,centerX:y,centerY:b,pointX:m.x,pointY:m.y,width:i,height:s,rotation:GK(h)}}function qSe(n,e,t){const r=Math.cos(t),i=Math.sin(t);return{w:Math.abs(n*r)+Math.abs(e*i),h:Math.abs(n*i)+Math.abs(e*r)}}function USe(n,e,t,r){let i;const s=HSe(n,r);return e.position==="start"?i=UL({w:n.x2-n.x,h:n.y2-n.y},t,e,s):e.position==="end"?i=1-UL({w:n.x-n.x2,h:n.y-n.y2},t,e,s):i=uR(1,e.position),i}function UL(n,e,t,r){const{labelSize:i,padding:s}=e,o=n.w*r.dx,a=n.h*r.dy,l=o>0&&(i.w/2+s.left-r.x)/o,c=a>0&&(i.h/2+s.top-r.y)/a;return ax(Math.max(l,c),0,.25)}function HSe(n,e){const{x:t,x2:r,y:i,y2:s}=n,o=Math.min(i,s)-e.top,a=Math.min(t,r)-e.left,l=e.bottom-Math.max(i,s),c=e.right-Math.max(t,r);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function HL(n,e){const{size:t,min:r,max:i,padding:s}=e,o=t/2;return t>i-r?(i+r)/2:(r>=n-s-o&&(n=r+s+o),i<=n+s+o&&(n=i-s-o),n)}function HX(n){const e=n.options,t=e.arrowHeads&&e.arrowHeads.start,r=e.arrowHeads&&e.arrowHeads.end;return{startOpts:t,endOpts:r,startAdjust:WL(n,t),endAdjust:WL(n,r)}}function WL(n,e){if(!e||!e.display)return 0;const{length:t,width:r}=e,i=n.options.borderWidth/2,s={x:t,y:r+i};return Math.abs(bP(0,s,{x:0,y:i}))}function _P(n,e,t,r){if(!r||!r.display)return;const{length:i,width:s,fill:o,backgroundColor:a,borderColor:l}=r,c=Math.abs(e-i)+t;n.beginPath(),wd(n,r),Go(n,r),n.moveTo(c,-s),n.lineTo(e+t,0),n.lineTo(c,s),o===!0?(n.fillStyle=a||l,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=r.borderShadowColor,n.stroke()}function WSe(n,e,t){const{x:r,y:i,x2:s,y2:o,centerX:a,centerY:l}=n,c=Math.atan2(o-i,s-r),u=hR(e.controlPoint,0),h={x:a+tl(t,u.x,!1),y:l+tl(t,u.y,!1)};return jc(h,{x:a,y:l},c)}function YL(n,{x:e,y:t},{angle:r,adjust:i},s){!s||!s.display||(n.save(),n.translate(e,t),n.rotate(r),_P(n,0,-i,s),n.restore())}function YSe(n,e,t,r){const{x:i,y:s,x2:o,y2:a,options:l}=e,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=HX(e),f={x:i,y:s},m={x:o,y:a},g=BL(f,t,m,0),v=BL(f,t,m,1)-Dt,y=xP(f,t,m,h/r),b=xP(f,t,m,1-d/r),w=new Path2D;n.beginPath(),w.moveTo(y.x,y.y),w.quadraticCurveTo(t.x,t.y,b.x,b.y),n.shadowColor=l.borderShadowColor,n.stroke(w),e.path=w,e.ctx=n,YL(n,y,{angle:g,adjust:h},c),YL(n,b,{angle:v,adjust:d},u)}class ng extends ii{inRange(e,t,r,i){const s=this.options.rotation,o=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y")return GSe({x:e,y:t},this.getProps(["width","height","centerX","centerY"],i),s,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],i),h=r==="y"?{start:l,end:u}:{start:a,end:c},d=jc({x:e,y:t},this.getCenterPoint(i),Jn(-s));return d[r]>=h.start-o-Bl&&d[r]<=h.end+o+Bl}getCenterPoint(e){return Bc(this,e)}draw(e){const{width:t,height:r,centerX:i,centerY:s,options:o}=this;e.save(),cx(e,this.getCenterPoint(),o.rotation),wd(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const a=Go(e,o);e.ellipse(i,s,r/2,t/2,Dt/2,0,2*Dt),e.fill(),a&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return zX(e,t)}}ng.id="ellipseAnnotation";ng.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},_d.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ng.defaultRoutes={borderColor:"color",backgroundColor:"color"};ng.descriptors={label:{_fallback:!0}};function GSe(n,e,t,r){const{width:i,height:s,centerX:o,centerY:a}=e,l=i/2,c=s/2;if(l<=0||c<=0)return!1;const u=Jn(t||0),h=Math.cos(u),d=Math.sin(u),f=Math.pow(h*(n.x-o)+d*(n.y-a),2),m=Math.pow(d*(n.x-o)-h*(n.y-a),2);return f/Math.pow(l+r,2)+m/Math.pow(c+r,2)<=1.0001}class dx extends ii{inRange(e,t,r,i){const{x:s,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],i),u=(this.options.borderWidth+this.options.hitTolerance)/2;return r!=="x"&&r!=="y"?z_e({x:e,y:t},this.getCenterPoint(i),c/2,u):SX(r==="y"?{start:o,end:l,value:t}:{start:s,end:a,value:e},u)}getCenterPoint(e){return Bc(this,e)}draw(e){const t=this.options,r=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,wd(e,t);const i=Go(e,t);K_e(e,this,this.centerX,this.centerY),i&&!lx(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=r}resolveElementProperties(e,t){const r=BX(e,t);return r.initProperties=xd(e,r,t),r}}dx.id="pointAnnotation";dx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};dx.defaultRoutes={borderColor:"color",backgroundColor:"color"};class fx extends ii{inRange(e,t,r,i){if(r!=="x"&&r!=="y")return this.options.radius>=.1&&this.elements.length>1&&KSe(this.elements,e,t,i);const s=jc({x:e,y:t},this.getCenterPoint(i),Jn(-this.options.rotation)),o=this.elements.map(c=>r==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return s[r]>=a&&s[r]<=l}getCenterPoint(e){return Bc(this,e)}draw(e){const{elements:t,options:r}=this;e.save(),e.beginPath(),e.fillStyle=r.backgroundColor,wd(e,r);const i=Go(e,r);let s=!0;for(const o of t)s?(e.moveTo(o.x,o.y),s=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),i&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const r=BX(e,t),{sides:i,rotation:s}=t,o=[],a=2*Dt/i;let l=s*QO;for(let c=0;c<i;c++,l+=a){const u=VSe(r,t,l);u.initProperties=xd(e,r,t),o.push(u)}return r.elements=o,r}}fx.id="polygonAnnotation";fx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};fx.defaultRoutes={borderColor:"color",backgroundColor:"color"};function VSe({centerX:n,centerY:e},{radius:t,borderWidth:r,hitTolerance:i},s){const o=(r+i)/2,a=Math.sin(s),l=Math.cos(s),c={x:n+a*t,y:e-l*t};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:n+a*(t+o),bY:e-l*(t+o)}}}function KSe(n,e,t,r){let i=!1,s=n[n.length-1].getProps(["bX","bY"],r);for(const o of n){const a=o.getProps(["bX","bY"],r);a.bY>t!=s.bY>t&&e<(s.bX-a.bX)*(t-a.bY)/(s.bY-a.bY)+a.bX&&(i=!i),s=a}return i}const Ka={box:_d,doughnutLabel:hx,ellipse:ng,label:eg,line:tg,point:dx,polygon:fx};Object.keys(Ka).forEach(n=>{wn.describe(`elements.${Ka[n].id}`,{_fallback:"plugins.annotation.common"})});const XSe={update:Object.assign},QSe=fR.concat(qy),GL=(n,e)=>gt(e)?kP(n,e):n,SP=n=>n==="color"||n==="font";function mR(n="line"){return Ka[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function JSe(n,e,t,r){const i=eke(n,t.animations,r),s=e.annotations,o=rke(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],c=WX(o,a,l.type),u=l.setContext(nke(n,c,o,l)),h=c.resolveElementProperties(n,u);h.skip=ZSe(h),"elements"in h&&(tke(c,h.elements,u,i),delete h.elements),wi(c.x)||Object.assign(c,h),Object.assign(c,h.initProperties),h.options=YX(u),i.update(c,h)}}function ZSe(n){return isNaN(n.x)||isNaN(n.y)}function eke(n,e,t){return t==="reset"||t==="none"||t==="resize"?XSe:new aR(n,e)}function tke(n,e,t,r){const i=n.elements||(n.elements=[]);i.length=e.length;for(let s=0;s<e.length;s++){const o=e[s],a=o.properties,l=WX(i,s,o.type,o.initProperties),c=t[o.optionScope].override(o);a.options=YX(c),r.update(l,a)}}function WX(n,e,t,r){const i=Ka[mR(t)];let s=n[e];return(!s||!(s instanceof i))&&(s=n[e]=new i,Object.assign(s,r)),s}function YX(n){const e=Ka[mR(n.type)],t={};t.id=n.id,t.type=n.type,t.drawTime=n.drawTime,Object.assign(t,kP(n,e.defaults),kP(n,e.defaultRoutes));for(const r of QSe)t[r]=n[r];return t}function kP(n,e){const t={};for(const r of Object.keys(e)){const i=e[r],s=n[r];SP(r)&&un(s)?t[r]=s.map(o=>GL(o,i)):t[r]=GL(s,i)}return t}function nke(n,e,t,r){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return t.filter(i=>i&&i.options)},id:r.id,type:"annotation"}))}function rke(n,e){const t=e.length,r=n.length;if(r<t){const i=t-r;n.splice(r,0,...new Array(i))}else r>t&&n.splice(t,r-t);return n}var ike="3.1.0";const ga=new Map,VL=n=>n.type!=="doughnutLabel",ske=fR.concat(qy);var oke={id:"annotation",version:ike,beforeRegister(){q_e("chart.js","4.0",fs.version)},afterRegister(){fs.register(Ka)},afterUnregister(){fs.unregister(Ka)},beforeInit(n){ga.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,t){const r=ga.get(n),i=r.annotations=[];let s=t.annotations;gt(s)?Object.keys(s).forEach(o=>{const a=s[o];gt(a)&&(a.id=o,i.push(a))}):un(s)&&i.push(...s),_Se(i.filter(VL),n.scales)},afterDataLimits(n,e){const t=ga.get(n);wSe(n,e.scale,t.annotations.filter(VL).filter(r=>r.display&&r.adjustScaleRange))},afterUpdate(n,e,t){const r=ga.get(n);gSe(n,r,t),JSe(n,r,t,e.mode),r.visibleElements=r.elements.filter(i=>!i.skip&&i.options.display),xSe(n,r,t)},beforeDatasetsDraw(n,e,t){vf(n,"beforeDatasetsDraw",t.clip)},afterDatasetsDraw(n,e,t){vf(n,"afterDatasetsDraw",t.clip)},beforeDatasetDraw(n,e,t){vf(n,e.index,t.clip)},beforeDraw(n,e,t){vf(n,"beforeDraw",t.clip)},afterDraw(n,e,t){vf(n,"afterDraw",t.clip)},beforeEvent(n,e,t){const r=ga.get(n);vSe(r,e.event,t)&&(e.changed=!0)},afterDestroy(n){ga.delete(n)},getAnnotations(n){const e=ga.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,t){return cR(n,e,t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!ske.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Ka[mR(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:SP,_fallback:!0},_indexable:SP}},additionalOptionScopes:[""]};function vf(n,e,t){const{ctx:r,chartArea:i}=n,s=ga.get(n);t&&nx(r,i);const o=ake(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)lke(r,i,s,a);t&&rx(r)}function ake(n,e){const t=[];for(const r of n)if(r.options.drawTime===e&&t.push({element:r,main:!0}),r.elements&&r.elements.length)for(const i of r.elements)i.options.display&&i.options.drawTime===e&&t.push({element:i});return t}function lke(n,e,t,r){const i=r.element;r.main?(AL(t,i,"beforeDraw"),i.draw(n,e),AL(t,i,"afterDraw")):i.draw(n,e)}fs.register(gP,vP,Rv,jf,b_e,T_e,v_e,oke);/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function $r(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var cke=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;$r(cke);var uke=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;$r(uke);var hke=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;$r(hke);var dke=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;$r(dke);var fke=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;$r(fke);var pke=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;$r(pke);var mke=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;$r(mke);var gke=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;$r(gke);var vke=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;$r(vke);var yke=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;$r(yke);var bke=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;$r(bke);var xke=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;$r(xke);var wke=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;$r(wke);var _ke=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;$r(_ke);var Ske=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;$r(Ske);var KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ks(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var CP={exports:{}},Av={exports:{}},kke=Av.exports,XL;function Cs(){return XL||(XL=1,function(n,e){(function(t,r){n.exports=r()})(kke,function(){var t;function r(){return t.apply(null,arguments)}function i(p){t=p}function s(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function o(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function a(p,x){return Object.prototype.hasOwnProperty.call(p,x)}function l(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var x;for(x in p)if(a(p,x))return!1;return!0}function c(p){return p===void 0}function u(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function h(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function d(p,x){var T=[],I,A=p.length;for(I=0;I<A;++I)T.push(x(p[I],I));return T}function f(p,x){for(var T in x)a(x,T)&&(p[T]=x[T]);return a(x,"toString")&&(p.toString=x.toString),a(x,"valueOf")&&(p.valueOf=x.valueOf),p}function m(p,x,T,I){return ED(p,x,T,I,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(p){return p._pf==null&&(p._pf=g()),p._pf}var y;Array.prototype.some?y=Array.prototype.some:y=function(p){var x=Object(this),T=x.length>>>0,I;for(I=0;I<T;I++)if(I in x&&p.call(this,x[I],I,x))return!0;return!1};function b(p){var x=null,T=!1,I=p._d&&!isNaN(p._d.getTime());if(I&&(x=v(p),T=y.call(x.parsedDateParts,function(A){return A!=null}),I=x.overflow<0&&!x.empty&&!x.invalidEra&&!x.invalidMonth&&!x.invalidWeekday&&!x.weekdayMismatch&&!x.nullInput&&!x.invalidFormat&&!x.userInvalidated&&(!x.meridiem||x.meridiem&&T),p._strict&&(I=I&&x.charsLeftOver===0&&x.unusedTokens.length===0&&x.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=I;else return I;return p._isValid}function w(p){var x=m(NaN);return p!=null?f(v(x),p):v(x).userInvalidated=!0,x}var S=r.momentProperties=[],_=!1;function k(p,x){var T,I,A,G=S.length;if(c(x._isAMomentObject)||(p._isAMomentObject=x._isAMomentObject),c(x._i)||(p._i=x._i),c(x._f)||(p._f=x._f),c(x._l)||(p._l=x._l),c(x._strict)||(p._strict=x._strict),c(x._tzm)||(p._tzm=x._tzm),c(x._isUTC)||(p._isUTC=x._isUTC),c(x._offset)||(p._offset=x._offset),c(x._pf)||(p._pf=v(x)),c(x._locale)||(p._locale=x._locale),G>0)for(T=0;T<G;T++)I=S[T],A=x[I],c(A)||(p[I]=A);return p}function C(p){k(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,r.updateOffset(this),_=!1)}function E(p){return p instanceof C||p!=null&&p._isAMomentObject!=null}function O(p){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function R(p,x){var T=!0;return f(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,p),T){var I=[],A,G,le,Be=arguments.length;for(G=0;G<Be;G++){if(A="",typeof arguments[G]=="object"){A+=`
[`+G+"] ";for(le in arguments[0])a(arguments[0],le)&&(A+=le+": "+arguments[0][le]+", ");A=A.slice(0,-2)}else A=arguments[G];I.push(A)}O(p+`
Arguments: `+Array.prototype.slice.call(I).join("")+`
`+new Error().stack),T=!1}return x.apply(this,arguments)},x)}var D={};function N(p,x){r.deprecationHandler!=null&&r.deprecationHandler(p,x),D[p]||(O(x),D[p]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function L(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function W(p){var x,T;for(T in p)a(p,T)&&(x=p[T],L(x)?this[T]=x:this["_"+T]=x);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(p,x){var T=f({},p),I;for(I in x)a(x,I)&&(o(p[I])&&o(x[I])?(T[I]={},f(T[I],p[I]),f(T[I],x[I])):x[I]!=null?T[I]=x[I]:delete T[I]);for(I in p)a(p,I)&&!a(x,I)&&o(p[I])&&(T[I]=f({},T[I]));return T}function F(p){p!=null&&this.set(p)}var B;Object.keys?B=Object.keys:B=function(p){var x,T=[];for(x in p)a(p,x)&&T.push(x);return T};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(p,x,T){var I=this._calendar[p]||this._calendar.sameElse;return L(I)?I.call(x,T):I}function V(p,x,T){var I=""+Math.abs(p),A=x-I.length,G=p>=0;return(G?T?"+":"":"-")+Math.pow(10,Math.max(0,A)).toString().substr(1)+I}var K=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,X=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ee={},q={};function Y(p,x,T,I){var A=I;typeof I=="string"&&(A=function(){return this[I]()}),p&&(q[p]=A),x&&(q[x[0]]=function(){return V(A.apply(this,arguments),x[1],x[2])}),T&&(q[T]=function(){return this.localeData().ordinal(A.apply(this,arguments),p)})}function U(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function ie(p){var x=p.match(K),T,I;for(T=0,I=x.length;T<I;T++)q[x[T]]?x[T]=q[x[T]]:x[T]=U(x[T]);return function(A){var G="",le;for(le=0;le<I;le++)G+=L(x[le])?x[le].call(A,p):x[le];return G}}function re(p,x){return p.isValid()?(x=se(x,p.localeData()),ee[x]=ee[x]||ie(x),ee[x](p)):p.localeData().invalidDate()}function se(p,x){var T=5;function I(A){return x.longDateFormat(A)||A}for(X.lastIndex=0;T>=0&&X.test(p);)p=p.replace(X,I),X.lastIndex=0,T-=1;return p}var Q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function J(p){var x=this._longDateFormat[p],T=this._longDateFormat[p.toUpperCase()];return x||!T?x:(this._longDateFormat[p]=T.match(K).map(function(I){return I==="MMMM"||I==="MM"||I==="DD"||I==="dddd"?I.slice(1):I}).join(""),this._longDateFormat[p])}var ue="Invalid date";function me(){return this._invalidDate}var Ee="%d",Pe=/\d{1,2}/;function Ce(p){return this._ordinal.replace("%d",p)}var Ne={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Qe(p,x,T,I){var A=this._relativeTime[T];return L(A)?A(p,x,T,I):A.replace(/%d/i,p)}function ze(p,x){var T=this._relativeTime[p>0?"future":"past"];return L(T)?T(x):T.replace(/%s/i,x)}var $e={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ke(p){return typeof p=="string"?$e[p]||$e[p.toLowerCase()]:void 0}function qe(p){var x={},T,I;for(I in p)a(p,I)&&(T=Ke(I),T&&(x[T]=p[I]));return x}var it={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ie(p){var x=[],T;for(T in p)a(p,T)&&x.push({unit:T,priority:it[T]});return x.sort(function(I,A){return I.priority-A.priority}),x}var oe=/\d/,ne=/\d\d/,te=/\d{3}/,_e=/\d{4}/,Te=/[+-]?\d{6}/,he=/\d\d?/,ve=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,xe=/\d{1,3}/,Me=/\d{1,4}/,be=/[+-]?\d{1,6}/,Oe=/\d+/,mt=/[+-]?\d+/,rn=/Z|[+-]\d\d:?\d\d/gi,Gt=/Z|[+-]\d\d(?::?\d\d)?/gi,Cn=/[+-]?\d+(\.\d{1,3})?/,nr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st=/^[1-9]\d?/,ft=/^([1-9]\d|\d)/,De;De={};function pe(p,x,T){De[p]=L(x)?x:function(I,A){return I&&T?T:x}}function ct(p,x){return a(De,p)?De[p](x._strict,x._locale):new RegExp(yt(p))}function yt(p){return je(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(x,T,I,A,G){return T||I||A||G}))}function je(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ue(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function Re(p){var x=+p,T=0;return x!==0&&isFinite(x)&&(T=Ue(x)),T}var $t={};function Xe(p,x){var T,I=x,A;for(typeof p=="string"&&(p=[p]),u(x)&&(I=function(G,le){le[x]=Re(G)}),A=p.length,T=0;T<A;T++)$t[p[T]]=I}function Vt(p,x){Xe(p,function(T,I,A,G){A._w=A._w||{},x(T,A._w,A,G)})}function Ye(p,x,T){x!=null&&a($t,p)&&$t[p](x,T._a,T,p)}function Je(p){return p%4===0&&p%100!==0||p%400===0}var He=0,ot=1,pt=2,et=3,bt=4,jt=5,Pt=6,Hn=7,Kc=8;Y("Y",0,0,function(){var p=this.year();return p<=9999?V(p,4):"+"+p}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),pe("Y",mt),pe("YY",he,ne),pe("YYYY",Me,_e),pe("YYYYY",be,Te),pe("YYYYYY",be,Te),Xe(["YYYYY","YYYYYY"],He),Xe("YYYY",function(p,x){x[He]=p.length===2?r.parseTwoDigitYear(p):Re(p)}),Xe("YY",function(p,x){x[He]=r.parseTwoDigitYear(p)}),Xe("Y",function(p,x){x[He]=parseInt(p,10)});function wr(p){return Je(p)?366:365}r.parseTwoDigitYear=function(p){return Re(p)+(Re(p)>68?1900:2e3)};var Jo=At("FullYear",!0);function Xc(){return Je(this.year())}function At(p,x){return function(T){return T!=null?(fl(this,p,T),r.updateOffset(this,x),this):ao(this,p)}}function ao(p,x){if(!p.isValid())return NaN;var T=p._d,I=p._isUTC;switch(x){case"Milliseconds":return I?T.getUTCMilliseconds():T.getMilliseconds();case"Seconds":return I?T.getUTCSeconds():T.getSeconds();case"Minutes":return I?T.getUTCMinutes():T.getMinutes();case"Hours":return I?T.getUTCHours():T.getHours();case"Date":return I?T.getUTCDate():T.getDate();case"Day":return I?T.getUTCDay():T.getDay();case"Month":return I?T.getUTCMonth():T.getMonth();case"FullYear":return I?T.getUTCFullYear():T.getFullYear();default:return NaN}}function fl(p,x,T){var I,A,G,le,Be;if(!(!p.isValid()||isNaN(T))){switch(I=p._d,A=p._isUTC,x){case"Milliseconds":return void(A?I.setUTCMilliseconds(T):I.setMilliseconds(T));case"Seconds":return void(A?I.setUTCSeconds(T):I.setSeconds(T));case"Minutes":return void(A?I.setUTCMinutes(T):I.setMinutes(T));case"Hours":return void(A?I.setUTCHours(T):I.setHours(T));case"Date":return void(A?I.setUTCDate(T):I.setDate(T));case"FullYear":break;default:return}G=T,le=p.month(),Be=p.date(),Be=Be===29&&le===1&&!Je(G)?28:Be,A?I.setUTCFullYear(G,le,Be):I.setFullYear(G,le,Be)}}function Qc(p){return p=Ke(p),L(this[p])?this[p]():this}function Eg(p,x){if(typeof p=="object"){p=qe(p);var T=Ie(p),I,A=T.length;for(I=0;I<A;I++)this[T[I].unit](p[T[I].unit])}else if(p=Ke(p),L(this[p]))return this[p](x);return this}function Ld(p,x){return(p%x+x)%x}var En;Array.prototype.indexOf?En=Array.prototype.indexOf:En=function(p){var x;for(x=0;x<this.length;++x)if(this[x]===p)return x;return-1};function Nx(p,x){if(isNaN(p)||isNaN(x))return NaN;var T=Ld(x,12);return p+=(x-T)/12,T===1?Je(p)?29:28:31-T%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),Y("MMMM",0,0,function(p){return this.localeData().months(this,p)}),pe("M",he,st),pe("MM",he,ne),pe("MMM",function(p,x){return x.monthsShortRegex(p)}),pe("MMMM",function(p,x){return x.monthsRegex(p)}),Xe(["M","MM"],function(p,x){x[ot]=Re(p)-1}),Xe(["MMM","MMMM"],function(p,x,T,I){var A=T._locale.monthsParse(p,I,T._strict);A!=null?x[ot]=A:v(T).invalidMonth=p});var RJ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,DJ=nr,AJ=nr;function NJ(p,x){return p?s(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||fD).test(x)?"format":"standalone"][p.month()]:s(this._months)?this._months:this._months.standalone}function LJ(p,x){return p?s(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[fD.test(x)?"format":"standalone"][p.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FJ(p,x,T){var I,A,G,le=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],I=0;I<12;++I)G=m([2e3,I]),this._shortMonthsParse[I]=this.monthsShort(G,"").toLocaleLowerCase(),this._longMonthsParse[I]=this.months(G,"").toLocaleLowerCase();return T?x==="MMM"?(A=En.call(this._shortMonthsParse,le),A!==-1?A:null):(A=En.call(this._longMonthsParse,le),A!==-1?A:null):x==="MMM"?(A=En.call(this._shortMonthsParse,le),A!==-1?A:(A=En.call(this._longMonthsParse,le),A!==-1?A:null)):(A=En.call(this._longMonthsParse,le),A!==-1?A:(A=En.call(this._shortMonthsParse,le),A!==-1?A:null))}function $J(p,x,T){var I,A,G;if(this._monthsParseExact)return FJ.call(this,p,x,T);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),I=0;I<12;I++){if(A=m([2e3,I]),T&&!this._longMonthsParse[I]&&(this._longMonthsParse[I]=new RegExp("^"+this.months(A,"").replace(".","")+"$","i"),this._shortMonthsParse[I]=new RegExp("^"+this.monthsShort(A,"").replace(".","")+"$","i")),!T&&!this._monthsParse[I]&&(G="^"+this.months(A,"")+"|^"+this.monthsShort(A,""),this._monthsParse[I]=new RegExp(G.replace(".",""),"i")),T&&x==="MMMM"&&this._longMonthsParse[I].test(p))return I;if(T&&x==="MMM"&&this._shortMonthsParse[I].test(p))return I;if(!T&&this._monthsParse[I].test(p))return I}}function pD(p,x){if(!p.isValid())return p;if(typeof x=="string"){if(/^\d+$/.test(x))x=Re(x);else if(x=p.localeData().monthsParse(x),!u(x))return p}var T=x,I=p.date();return I=I<29?I:Math.min(I,Nx(p.year(),T)),p._isUTC?p._d.setUTCMonth(T,I):p._d.setMonth(T,I),p}function mD(p){return p!=null?(pD(this,p),r.updateOffset(this,!0),this):ao(this,"Month")}function jJ(){return Nx(this.year(),this.month())}function BJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||gD.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=DJ),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function zJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||gD.call(this),p?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=AJ),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function gD(){function p(tt,xt){return xt.length-tt.length}var x=[],T=[],I=[],A,G,le,Be;for(A=0;A<12;A++)G=m([2e3,A]),le=je(this.monthsShort(G,"")),Be=je(this.months(G,"")),x.push(le),T.push(Be),I.push(Be),I.push(le);x.sort(p),T.sort(p),I.sort(p),this._monthsRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+x.join("|")+")","i")}function qJ(p,x,T,I,A,G,le){var Be;return p<100&&p>=0?(Be=new Date(p+400,x,T,I,A,G,le),isFinite(Be.getFullYear())&&Be.setFullYear(p)):Be=new Date(p,x,T,I,A,G,le),Be}function Fd(p){var x,T;return p<100&&p>=0?(T=Array.prototype.slice.call(arguments),T[0]=p+400,x=new Date(Date.UTC.apply(null,T)),isFinite(x.getUTCFullYear())&&x.setUTCFullYear(p)):x=new Date(Date.UTC.apply(null,arguments)),x}function Tg(p,x,T){var I=7+x-T,A=(7+Fd(p,0,I).getUTCDay()-x)%7;return-A+I-1}function vD(p,x,T,I,A){var G=(7+T-I)%7,le=Tg(p,I,A),Be=1+7*(x-1)+G+le,tt,xt;return Be<=0?(tt=p-1,xt=wr(tt)+Be):Be>wr(p)?(tt=p+1,xt=Be-wr(p)):(tt=p,xt=Be),{year:tt,dayOfYear:xt}}function $d(p,x,T){var I=Tg(p.year(),x,T),A=Math.floor((p.dayOfYear()-I-1)/7)+1,G,le;return A<1?(le=p.year()-1,G=A+lo(le,x,T)):A>lo(p.year(),x,T)?(G=A-lo(p.year(),x,T),le=p.year()+1):(le=p.year(),G=A),{week:G,year:le}}function lo(p,x,T){var I=Tg(p,x,T),A=Tg(p+1,x,T);return(wr(p)-I+A)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),pe("w",he,st),pe("ww",he,ne),pe("W",he,st),pe("WW",he,ne),Vt(["w","ww","W","WW"],function(p,x,T,I){x[I.substr(0,1)]=Re(p)});function UJ(p){return $d(p,this._week.dow,this._week.doy).week}var HJ={dow:0,doy:6};function WJ(){return this._week.dow}function YJ(){return this._week.doy}function GJ(p){var x=this.localeData().week(this);return p==null?x:this.add((p-x)*7,"d")}function VJ(p){var x=$d(this,1,4).week;return p==null?x:this.add((p-x)*7,"d")}Y("d",0,"do","day"),Y("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),Y("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),Y("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),pe("d",he),pe("e",he),pe("E",he),pe("dd",function(p,x){return x.weekdaysMinRegex(p)}),pe("ddd",function(p,x){return x.weekdaysShortRegex(p)}),pe("dddd",function(p,x){return x.weekdaysRegex(p)}),Vt(["dd","ddd","dddd"],function(p,x,T,I){var A=T._locale.weekdaysParse(p,I,T._strict);A!=null?x.d=A:v(T).invalidWeekday=p}),Vt(["d","e","E"],function(p,x,T,I){x[I]=Re(p)});function KJ(p,x){return typeof p!="string"?p:isNaN(p)?(p=x.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function XJ(p,x){return typeof p=="string"?x.weekdaysParse(p)%7||7:isNaN(p)?null:p}function Lx(p,x){return p.slice(x,7).concat(p.slice(0,x))}var QJ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JJ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ZJ=nr,eZ=nr,tZ=nr;function nZ(p,x){var T=s(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(x)?"format":"standalone"];return p===!0?Lx(T,this._week.dow):p?T[p.day()]:T}function rZ(p){return p===!0?Lx(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function iZ(p){return p===!0?Lx(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function sZ(p,x,T){var I,A,G,le=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],I=0;I<7;++I)G=m([2e3,1]).day(I),this._minWeekdaysParse[I]=this.weekdaysMin(G,"").toLocaleLowerCase(),this._shortWeekdaysParse[I]=this.weekdaysShort(G,"").toLocaleLowerCase(),this._weekdaysParse[I]=this.weekdays(G,"").toLocaleLowerCase();return T?x==="dddd"?(A=En.call(this._weekdaysParse,le),A!==-1?A:null):x==="ddd"?(A=En.call(this._shortWeekdaysParse,le),A!==-1?A:null):(A=En.call(this._minWeekdaysParse,le),A!==-1?A:null):x==="dddd"?(A=En.call(this._weekdaysParse,le),A!==-1||(A=En.call(this._shortWeekdaysParse,le),A!==-1)?A:(A=En.call(this._minWeekdaysParse,le),A!==-1?A:null)):x==="ddd"?(A=En.call(this._shortWeekdaysParse,le),A!==-1||(A=En.call(this._weekdaysParse,le),A!==-1)?A:(A=En.call(this._minWeekdaysParse,le),A!==-1?A:null)):(A=En.call(this._minWeekdaysParse,le),A!==-1||(A=En.call(this._weekdaysParse,le),A!==-1)?A:(A=En.call(this._shortWeekdaysParse,le),A!==-1?A:null))}function oZ(p,x,T){var I,A,G;if(this._weekdaysParseExact)return sZ.call(this,p,x,T);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),I=0;I<7;I++){if(A=m([2e3,1]).day(I),T&&!this._fullWeekdaysParse[I]&&(this._fullWeekdaysParse[I]=new RegExp("^"+this.weekdays(A,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[I]=new RegExp("^"+this.weekdaysShort(A,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[I]=new RegExp("^"+this.weekdaysMin(A,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[I]||(G="^"+this.weekdays(A,"")+"|^"+this.weekdaysShort(A,"")+"|^"+this.weekdaysMin(A,""),this._weekdaysParse[I]=new RegExp(G.replace(".",""),"i")),T&&x==="dddd"&&this._fullWeekdaysParse[I].test(p))return I;if(T&&x==="ddd"&&this._shortWeekdaysParse[I].test(p))return I;if(T&&x==="dd"&&this._minWeekdaysParse[I].test(p))return I;if(!T&&this._weekdaysParse[I].test(p))return I}}function aZ(p){if(!this.isValid())return p!=null?this:NaN;var x=ao(this,"Day");return p!=null?(p=KJ(p,this.localeData()),this.add(p-x,"d")):x}function lZ(p){if(!this.isValid())return p!=null?this:NaN;var x=(this.day()+7-this.localeData()._week.dow)%7;return p==null?x:this.add(p-x,"d")}function cZ(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var x=XJ(p,this.localeData());return this.day(this.day()%7?x:x-7)}else return this.day()||7}function uZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Fx.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=ZJ),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function hZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Fx.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=eZ),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Fx.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tZ),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Fx(){function p(_r,po){return po.length-_r.length}var x=[],T=[],I=[],A=[],G,le,Be,tt,xt;for(G=0;G<7;G++)le=m([2e3,1]).day(G),Be=je(this.weekdaysMin(le,"")),tt=je(this.weekdaysShort(le,"")),xt=je(this.weekdays(le,"")),x.push(Be),T.push(tt),I.push(xt),A.push(Be),A.push(tt),A.push(xt);x.sort(p),T.sort(p),I.sort(p),A.sort(p),this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+x.join("|")+")","i")}function $x(){return this.hours()%12||12}function fZ(){return this.hours()||24}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,$x),Y("k",["kk",2],0,fZ),Y("hmm",0,0,function(){return""+$x.apply(this)+V(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+$x.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)});function bD(p,x){Y(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),x)})}bD("a",!0),bD("A",!1);function xD(p,x){return x._meridiemParse}pe("a",xD),pe("A",xD),pe("H",he,ft),pe("h",he,st),pe("k",he,st),pe("HH",he,ne),pe("hh",he,ne),pe("kk",he,ne),pe("hmm",ve),pe("hmmss",ae),pe("Hmm",ve),pe("Hmmss",ae),Xe(["H","HH"],et),Xe(["k","kk"],function(p,x,T){var I=Re(p);x[et]=I===24?0:I}),Xe(["a","A"],function(p,x,T){T._isPm=T._locale.isPM(p),T._meridiem=p}),Xe(["h","hh"],function(p,x,T){x[et]=Re(p),v(T).bigHour=!0}),Xe("hmm",function(p,x,T){var I=p.length-2;x[et]=Re(p.substr(0,I)),x[bt]=Re(p.substr(I)),v(T).bigHour=!0}),Xe("hmmss",function(p,x,T){var I=p.length-4,A=p.length-2;x[et]=Re(p.substr(0,I)),x[bt]=Re(p.substr(I,2)),x[jt]=Re(p.substr(A)),v(T).bigHour=!0}),Xe("Hmm",function(p,x,T){var I=p.length-2;x[et]=Re(p.substr(0,I)),x[bt]=Re(p.substr(I))}),Xe("Hmmss",function(p,x,T){var I=p.length-4,A=p.length-2;x[et]=Re(p.substr(0,I)),x[bt]=Re(p.substr(I,2)),x[jt]=Re(p.substr(A))});function pZ(p){return(p+"").toLowerCase().charAt(0)==="p"}var mZ=/[ap]\.?m?\.?/i,gZ=At("Hours",!0);function vZ(p,x,T){return p>11?T?"pm":"PM":T?"am":"AM"}var wD={calendar:j,longDateFormat:Q,invalidDate:ue,ordinal:Ee,dayOfMonthOrdinalParse:Pe,relativeTime:Ne,months:RJ,monthsShort:dD,week:HJ,weekdays:QJ,weekdaysMin:JJ,weekdaysShort:yD,meridiemParse:mZ},sn={},jd={},Bd;function yZ(p,x){var T,I=Math.min(p.length,x.length);for(T=0;T<I;T+=1)if(p[T]!==x[T])return T;return I}function _D(p){return p&&p.toLowerCase().replace("_","-")}function bZ(p){for(var x=0,T,I,A,G;x<p.length;){for(G=_D(p[x]).split("-"),T=G.length,I=_D(p[x+1]),I=I?I.split("-"):null;T>0;){if(A=Mg(G.slice(0,T).join("-")),A)return A;if(I&&I.length>=T&&yZ(G,I)>=T-1)break;T--}x++}return Bd}function xZ(p){return!!(p&&p.match("^[^/\\\\]*$"))}function Mg(p){var x=null,T;if(sn[p]===void 0&&n&&n.exports&&xZ(p))try{x=Bd._abbr,T=ks,T("./locale/"+p),Zo(x)}catch{sn[p]=null}return sn[p]}function Zo(p,x){var T;return p&&(c(x)?T=co(p):T=jx(p,x),T?Bd=T:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),Bd._abbr}function jx(p,x){if(x!==null){var T,I=wD;if(x.abbr=p,sn[p]!=null)N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),I=sn[p]._config;else if(x.parentLocale!=null)if(sn[x.parentLocale]!=null)I=sn[x.parentLocale]._config;else if(T=Mg(x.parentLocale),T!=null)I=T._config;else return jd[x.parentLocale]||(jd[x.parentLocale]=[]),jd[x.parentLocale].push({name:p,config:x}),null;return sn[p]=new F($(I,x)),jd[p]&&jd[p].forEach(function(A){jx(A.name,A.config)}),Zo(p),sn[p]}else return delete sn[p],null}function wZ(p,x){if(x!=null){var T,I,A=wD;sn[p]!=null&&sn[p].parentLocale!=null?sn[p].set($(sn[p]._config,x)):(I=Mg(p),I!=null&&(A=I._config),x=$(A,x),I==null&&(x.abbr=p),T=new F(x),T.parentLocale=sn[p],sn[p]=T),Zo(p)}else sn[p]!=null&&(sn[p].parentLocale!=null?(sn[p]=sn[p].parentLocale,p===Zo()&&Zo(p)):sn[p]!=null&&delete sn[p]);return sn[p]}function co(p){var x;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return Bd;if(!s(p)){if(x=Mg(p),x)return x;p=[p]}return bZ(p)}function _Z(){return B(sn)}function Bx(p){var x,T=p._a;return T&&v(p).overflow===-2&&(x=T[ot]<0||T[ot]>11?ot:T[pt]<1||T[pt]>Nx(T[He],T[ot])?pt:T[et]<0||T[et]>24||T[et]===24&&(T[bt]!==0||T[jt]!==0||T[Pt]!==0)?et:T[bt]<0||T[bt]>59?bt:T[jt]<0||T[jt]>59?jt:T[Pt]<0||T[Pt]>999?Pt:-1,v(p)._overflowDayOfYear&&(x<He||x>pt)&&(x=pt),v(p)._overflowWeeks&&x===-1&&(x=Hn),v(p)._overflowWeekday&&x===-1&&(x=Kc),v(p).overflow=x),p}var SZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,CZ=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EZ=/^\/?Date\((-?\d+)/i,TZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,MZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function SD(p){var x,T,I=p._i,A=SZ.exec(I)||kZ.exec(I),G,le,Be,tt,xt=Pg.length,_r=zx.length;if(A){for(v(p).iso=!0,x=0,T=xt;x<T;x++)if(Pg[x][1].exec(A[1])){le=Pg[x][0],G=Pg[x][2]!==!1;break}if(le==null){p._isValid=!1;return}if(A[3]){for(x=0,T=_r;x<T;x++)if(zx[x][1].exec(A[3])){Be=(A[2]||" ")+zx[x][0];break}if(Be==null){p._isValid=!1;return}}if(!G&&Be!=null){p._isValid=!1;return}if(A[4])if(CZ.exec(A[4]))tt="Z";else{p._isValid=!1;return}p._f=le+(Be||"")+(tt||""),Ux(p)}else p._isValid=!1}function PZ(p,x,T,I,A,G){var le=[IZ(p),dD.indexOf(x),parseInt(T,10),parseInt(I,10),parseInt(A,10)];return G&&le.push(parseInt(G,10)),le}function IZ(p){var x=parseInt(p,10);return x<=49?2e3+x:x<=999?1900+x:x}function OZ(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RZ(p,x,T){if(p){var I=yD.indexOf(p),A=new Date(x[0],x[1],x[2]).getDay();if(I!==A)return v(T).weekdayMismatch=!0,T._isValid=!1,!1}return!0}function DZ(p,x,T){if(p)return MZ[p];if(x)return 0;var I=parseInt(T,10),A=I%100,G=(I-A)/100;return G*60+A}function kD(p){var x=TZ.exec(OZ(p._i)),T;if(x){if(T=PZ(x[4],x[3],x[2],x[5],x[6],x[7]),!RZ(x[1],T,p))return;p._a=T,p._tzm=DZ(x[8],x[9],x[10]),p._d=Fd.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),v(p).rfc2822=!0}else p._isValid=!1}function AZ(p){var x=EZ.exec(p._i);if(x!==null){p._d=new Date(+x[1]);return}if(SD(p),p._isValid===!1)delete p._isValid;else return;if(kD(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:r.createFromInputFallback(p)}r.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function Jc(p,x,T){return p??x??T}function NZ(p){var x=new Date(r.now());return p._useUTC?[x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()]:[x.getFullYear(),x.getMonth(),x.getDate()]}function qx(p){var x,T,I=[],A,G,le;if(!p._d){for(A=NZ(p),p._w&&p._a[pt]==null&&p._a[ot]==null&&LZ(p),p._dayOfYear!=null&&(le=Jc(p._a[He],A[He]),(p._dayOfYear>wr(le)||p._dayOfYear===0)&&(v(p)._overflowDayOfYear=!0),T=Fd(le,0,p._dayOfYear),p._a[ot]=T.getUTCMonth(),p._a[pt]=T.getUTCDate()),x=0;x<3&&p._a[x]==null;++x)p._a[x]=I[x]=A[x];for(;x<7;x++)p._a[x]=I[x]=p._a[x]==null?x===2?1:0:p._a[x];p._a[et]===24&&p._a[bt]===0&&p._a[jt]===0&&p._a[Pt]===0&&(p._nextDay=!0,p._a[et]=0),p._d=(p._useUTC?Fd:qJ).apply(null,I),G=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[et]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==G&&(v(p).weekdayMismatch=!0)}}function LZ(p){var x,T,I,A,G,le,Be,tt,xt;x=p._w,x.GG!=null||x.W!=null||x.E!=null?(G=1,le=4,T=Jc(x.GG,p._a[He],$d(Jt(),1,4).year),I=Jc(x.W,1),A=Jc(x.E,1),(A<1||A>7)&&(tt=!0)):(G=p._locale._week.dow,le=p._locale._week.doy,xt=$d(Jt(),G,le),T=Jc(x.gg,p._a[He],xt.year),I=Jc(x.w,xt.week),x.d!=null?(A=x.d,(A<0||A>6)&&(tt=!0)):x.e!=null?(A=x.e+G,(x.e<0||x.e>6)&&(tt=!0)):A=G),I<1||I>lo(T,G,le)?v(p)._overflowWeeks=!0:tt!=null?v(p)._overflowWeekday=!0:(Be=vD(T,I,A,G,le),p._a[He]=Be.year,p._dayOfYear=Be.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Ux(p){if(p._f===r.ISO_8601){SD(p);return}if(p._f===r.RFC_2822){kD(p);return}p._a=[],v(p).empty=!0;var x=""+p._i,T,I,A,G,le,Be=x.length,tt=0,xt,_r;for(A=se(p._f,p._locale).match(K)||[],_r=A.length,T=0;T<_r;T++)G=A[T],I=(x.match(ct(G,p))||[])[0],I&&(le=x.substr(0,x.indexOf(I)),le.length>0&&v(p).unusedInput.push(le),x=x.slice(x.indexOf(I)+I.length),tt+=I.length),q[G]?(I?v(p).empty=!1:v(p).unusedTokens.push(G),Ye(G,I,p)):p._strict&&!I&&v(p).unusedTokens.push(G);v(p).charsLeftOver=Be-tt,x.length>0&&v(p).unusedInput.push(x),p._a[et]<=12&&v(p).bigHour===!0&&p._a[et]>0&&(v(p).bigHour=void 0),v(p).parsedDateParts=p._a.slice(0),v(p).meridiem=p._meridiem,p._a[et]=FZ(p._locale,p._a[et],p._meridiem),xt=v(p).era,xt!==null&&(p._a[He]=p._locale.erasConvertYear(xt,p._a[He])),qx(p),Bx(p)}function FZ(p,x,T){var I;return T==null?x:p.meridiemHour!=null?p.meridiemHour(x,T):(p.isPM!=null&&(I=p.isPM(T),I&&x<12&&(x+=12),!I&&x===12&&(x=0)),x)}function $Z(p){var x,T,I,A,G,le,Be=!1,tt=p._f.length;if(tt===0){v(p).invalidFormat=!0,p._d=new Date(NaN);return}for(A=0;A<tt;A++)G=0,le=!1,x=k({},p),p._useUTC!=null&&(x._useUTC=p._useUTC),x._f=p._f[A],Ux(x),b(x)&&(le=!0),G+=v(x).charsLeftOver,G+=v(x).unusedTokens.length*10,v(x).score=G,Be?G<I&&(I=G,T=x):(I==null||G<I||le)&&(I=G,T=x,le&&(Be=!0));f(p,T||x)}function jZ(p){if(!p._d){var x=qe(p._i),T=x.day===void 0?x.date:x.day;p._a=d([x.year,x.month,T,x.hour,x.minute,x.second,x.millisecond],function(I){return I&&parseInt(I,10)}),qx(p)}}function BZ(p){var x=new C(Bx(CD(p)));return x._nextDay&&(x.add(1,"d"),x._nextDay=void 0),x}function CD(p){var x=p._i,T=p._f;return p._locale=p._locale||co(p._l),x===null||T===void 0&&x===""?w({nullInput:!0}):(typeof x=="string"&&(p._i=x=p._locale.preparse(x)),E(x)?new C(Bx(x)):(h(x)?p._d=x:s(T)?$Z(p):T?Ux(p):zZ(p),b(p)||(p._d=null),p))}function zZ(p){var x=p._i;c(x)?p._d=new Date(r.now()):h(x)?p._d=new Date(x.valueOf()):typeof x=="string"?AZ(p):s(x)?(p._a=d(x.slice(0),function(T){return parseInt(T,10)}),qx(p)):o(x)?jZ(p):u(x)?p._d=new Date(x):r.createFromInputFallback(p)}function ED(p,x,T,I,A){var G={};return(x===!0||x===!1)&&(I=x,x=void 0),(T===!0||T===!1)&&(I=T,T=void 0),(o(p)&&l(p)||s(p)&&p.length===0)&&(p=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=A,G._l=T,G._i=p,G._f=x,G._strict=I,BZ(G)}function Jt(p,x,T,I){return ED(p,x,T,I,!1)}var qZ=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Jt.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:w()}),UZ=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Jt.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:w()});function TD(p,x){var T,I;if(x.length===1&&s(x[0])&&(x=x[0]),!x.length)return Jt();for(T=x[0],I=1;I<x.length;++I)(!x[I].isValid()||x[I][p](T))&&(T=x[I]);return T}function HZ(){var p=[].slice.call(arguments,0);return TD("isBefore",p)}function WZ(){var p=[].slice.call(arguments,0);return TD("isAfter",p)}var YZ=function(){return Date.now?Date.now():+new Date},zd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GZ(p){var x,T=!1,I,A=zd.length;for(x in p)if(a(p,x)&&!(En.call(zd,x)!==-1&&(p[x]==null||!isNaN(p[x]))))return!1;for(I=0;I<A;++I)if(p[zd[I]]){if(T)return!1;parseFloat(p[zd[I]])!==Re(p[zd[I]])&&(T=!0)}return!0}function VZ(){return this._isValid}function KZ(){return ts(NaN)}function Ig(p){var x=qe(p),T=x.year||0,I=x.quarter||0,A=x.month||0,G=x.week||x.isoWeek||0,le=x.day||0,Be=x.hour||0,tt=x.minute||0,xt=x.second||0,_r=x.millisecond||0;this._isValid=GZ(x),this._milliseconds=+_r+xt*1e3+tt*6e4+Be*1e3*60*60,this._days=+le+G*7,this._months=+A+I*3+T*12,this._data={},this._locale=co(),this._bubble()}function Og(p){return p instanceof Ig}function Hx(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function XZ(p,x,T){var I=Math.min(p.length,x.length),A=Math.abs(p.length-x.length),G=0,le;for(le=0;le<I;le++)Re(p[le])!==Re(x[le])&&G++;return G+A}function MD(p,x){Y(p,0,0,function(){var T=this.utcOffset(),I="+";return T<0&&(T=-T,I="-"),I+V(~~(T/60),2)+x+V(~~T%60,2)})}MD("Z",":"),MD("ZZ",""),pe("Z",Gt),pe("ZZ",Gt),Xe(["Z","ZZ"],function(p,x,T){T._useUTC=!0,T._tzm=Wx(Gt,p)});var QZ=/([\+\-]|\d\d)/gi;function Wx(p,x){var T=(x||"").match(p),I,A,G;return T===null?null:(I=T[T.length-1]||[],A=(I+"").match(QZ)||["-",0,0],G=+(A[1]*60)+Re(A[2]),G===0?0:A[0]==="+"?G:-G)}function Yx(p,x){var T,I;return x._isUTC?(T=x.clone(),I=(E(p)||h(p)?p.valueOf():Jt(p).valueOf())-T.valueOf(),T._d.setTime(T._d.valueOf()+I),r.updateOffset(T,!1),T):Jt(p).local()}function Gx(p){return-Math.round(p._d.getTimezoneOffset())}r.updateOffset=function(){};function JZ(p,x,T){var I=this._offset||0,A;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=Wx(Gt,p),p===null)return this}else Math.abs(p)<16&&!T&&(p=p*60);return!this._isUTC&&x&&(A=Gx(this)),this._offset=p,this._isUTC=!0,A!=null&&this.add(A,"m"),I!==p&&(!x||this._changeInProgress?RD(this,ts(p-I,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?I:Gx(this)}function ZZ(p,x){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,x),this):-this.utcOffset()}function eee(p){return this.utcOffset(0,p)}function tee(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(Gx(this),"m")),this}function nee(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=Wx(rn,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function ree(p){return this.isValid()?(p=p?Jt(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function iee(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function see(){if(!c(this._isDSTShifted))return this._isDSTShifted;var p={},x;return k(p,this),p=CD(p),p._a?(x=p._isUTC?m(p._a):Jt(p._a),this._isDSTShifted=this.isValid()&&XZ(p._a,x.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function oee(){return this.isValid()?!this._isUTC:!1}function aee(){return this.isValid()?this._isUTC:!1}function PD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lee=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ts(p,x){var T=p,I=null,A,G,le;return Og(p)?T={ms:p._milliseconds,d:p._days,M:p._months}:u(p)||!isNaN(+p)?(T={},x?T[x]=+p:T.milliseconds=+p):(I=lee.exec(p))?(A=I[1]==="-"?-1:1,T={y:0,d:Re(I[pt])*A,h:Re(I[et])*A,m:Re(I[bt])*A,s:Re(I[jt])*A,ms:Re(Hx(I[Pt]*1e3))*A}):(I=cee.exec(p))?(A=I[1]==="-"?-1:1,T={y:pl(I[2],A),M:pl(I[3],A),w:pl(I[4],A),d:pl(I[5],A),h:pl(I[6],A),m:pl(I[7],A),s:pl(I[8],A)}):T==null?T={}:typeof T=="object"&&("from"in T||"to"in T)&&(le=uee(Jt(T.from),Jt(T.to)),T={},T.ms=le.milliseconds,T.M=le.months),G=new Ig(T),Og(p)&&a(p,"_locale")&&(G._locale=p._locale),Og(p)&&a(p,"_isValid")&&(G._isValid=p._isValid),G}ts.fn=Ig.prototype,ts.invalid=KZ;function pl(p,x){var T=p&&parseFloat(p.replace(",","."));return(isNaN(T)?0:T)*x}function ID(p,x){var T={};return T.months=x.month()-p.month()+(x.year()-p.year())*12,p.clone().add(T.months,"M").isAfter(x)&&--T.months,T.milliseconds=+x-+p.clone().add(T.months,"M"),T}function uee(p,x){var T;return p.isValid()&&x.isValid()?(x=Yx(x,p),p.isBefore(x)?T=ID(p,x):(T=ID(x,p),T.milliseconds=-T.milliseconds,T.months=-T.months),T):{milliseconds:0,months:0}}function OD(p,x){return function(T,I){var A,G;return I!==null&&!isNaN(+I)&&(N(x,"moment()."+x+"(period, number) is deprecated. Please use moment()."+x+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=T,T=I,I=G),A=ts(T,I),RD(this,A,p),this}}function RD(p,x,T,I){var A=x._milliseconds,G=Hx(x._days),le=Hx(x._months);p.isValid()&&(I=I??!0,le&&pD(p,ao(p,"Month")+le*T),G&&fl(p,"Date",ao(p,"Date")+G*T),A&&p._d.setTime(p._d.valueOf()+A*T),I&&r.updateOffset(p,G||le))}var hee=OD(1,"add"),dee=OD(-1,"subtract");function DD(p){return typeof p=="string"||p instanceof String}function fee(p){return E(p)||h(p)||DD(p)||u(p)||mee(p)||pee(p)||p===null||p===void 0}function pee(p){var x=o(p)&&!l(p),T=!1,I=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],A,G,le=I.length;for(A=0;A<le;A+=1)G=I[A],T=T||a(p,G);return x&&T}function mee(p){var x=s(p),T=!1;return x&&(T=p.filter(function(I){return!u(I)&&DD(p)}).length===0),x&&T}function gee(p){var x=o(p)&&!l(p),T=!1,I=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],A,G;for(A=0;A<I.length;A+=1)G=I[A],T=T||a(p,G);return x&&T}function vee(p,x){var T=p.diff(x,"days",!0);return T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse"}function yee(p,x){arguments.length===1&&(arguments[0]?fee(arguments[0])?(p=arguments[0],x=void 0):gee(arguments[0])&&(x=arguments[0],p=void 0):(p=void 0,x=void 0));var T=p||Jt(),I=Yx(T,this).startOf("day"),A=r.calendarFormat(this,I)||"sameElse",G=x&&(L(x[A])?x[A].call(this,T):x[A]);return this.format(G||this.localeData().calendar(A,this,Jt(T)))}function bee(){return new C(this)}function xee(p,x){var T=E(p)?p:Jt(p);return this.isValid()&&T.isValid()?(x=Ke(x)||"millisecond",x==="millisecond"?this.valueOf()>T.valueOf():T.valueOf()<this.clone().startOf(x).valueOf()):!1}function wee(p,x){var T=E(p)?p:Jt(p);return this.isValid()&&T.isValid()?(x=Ke(x)||"millisecond",x==="millisecond"?this.valueOf()<T.valueOf():this.clone().endOf(x).valueOf()<T.valueOf()):!1}function _ee(p,x,T,I){var A=E(p)?p:Jt(p),G=E(x)?x:Jt(x);return this.isValid()&&A.isValid()&&G.isValid()?(I=I||"()",(I[0]==="("?this.isAfter(A,T):!this.isBefore(A,T))&&(I[1]===")"?this.isBefore(G,T):!this.isAfter(G,T))):!1}function See(p,x){var T=E(p)?p:Jt(p),I;return this.isValid()&&T.isValid()?(x=Ke(x)||"millisecond",x==="millisecond"?this.valueOf()===T.valueOf():(I=T.valueOf(),this.clone().startOf(x).valueOf()<=I&&I<=this.clone().endOf(x).valueOf())):!1}function kee(p,x){return this.isSame(p,x)||this.isAfter(p,x)}function Cee(p,x){return this.isSame(p,x)||this.isBefore(p,x)}function Eee(p,x,T){var I,A,G;if(!this.isValid())return NaN;if(I=Yx(p,this),!I.isValid())return NaN;switch(A=(I.utcOffset()-this.utcOffset())*6e4,x=Ke(x),x){case"year":G=Rg(this,I)/12;break;case"month":G=Rg(this,I);break;case"quarter":G=Rg(this,I)/3;break;case"second":G=(this-I)/1e3;break;case"minute":G=(this-I)/6e4;break;case"hour":G=(this-I)/36e5;break;case"day":G=(this-I-A)/864e5;break;case"week":G=(this-I-A)/6048e5;break;default:G=this-I}return T?G:Ue(G)}function Rg(p,x){if(p.date()<x.date())return-Rg(x,p);var T=(x.year()-p.year())*12+(x.month()-p.month()),I=p.clone().add(T,"months"),A,G;return x-I<0?(A=p.clone().add(T-1,"months"),G=(x-I)/(I-A)):(A=p.clone().add(T+1,"months"),G=(x-I)/(A-I)),-(T+G)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Tee(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Mee(p){if(!this.isValid())return null;var x=p!==!0,T=x?this.clone().utc():this;return T.year()<0||T.year()>9999?re(T,x?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?x?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",re(T,"Z")):re(T,x?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Pee(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",x="",T,I,A,G;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",x="Z"),T="["+p+'("]',I=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",A="-MM-DD[T]HH:mm:ss.SSS",G=x+'[")]',this.format(T+I+A+G)}function Iee(p){p||(p=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var x=re(this,p);return this.localeData().postformat(x)}function Oee(p,x){return this.isValid()&&(E(p)&&p.isValid()||Jt(p).isValid())?ts({to:this,from:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Ree(p){return this.from(Jt(),p)}function Dee(p,x){return this.isValid()&&(E(p)&&p.isValid()||Jt(p).isValid())?ts({from:this,to:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Aee(p){return this.to(Jt(),p)}function AD(p){var x;return p===void 0?this._locale._abbr:(x=co(p),x!=null&&(this._locale=x),this)}var ND=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function LD(){return this._locale}var Dg=1e3,Zc=60*Dg,Ag=60*Zc,FD=(365*400+97)*24*Ag;function eu(p,x){return(p%x+x)%x}function $D(p,x,T){return p<100&&p>=0?new Date(p+400,x,T)-FD:new Date(p,x,T).valueOf()}function jD(p,x,T){return p<100&&p>=0?Date.UTC(p+400,x,T)-FD:Date.UTC(p,x,T)}function Nee(p){var x,T;if(p=Ke(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?jD:$D,p){case"year":x=T(this.year(),0,1);break;case"quarter":x=T(this.year(),this.month()-this.month()%3,1);break;case"month":x=T(this.year(),this.month(),1);break;case"week":x=T(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":x=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":x=T(this.year(),this.month(),this.date());break;case"hour":x=this._d.valueOf(),x-=eu(x+(this._isUTC?0:this.utcOffset()*Zc),Ag);break;case"minute":x=this._d.valueOf(),x-=eu(x,Zc);break;case"second":x=this._d.valueOf(),x-=eu(x,Dg);break}return this._d.setTime(x),r.updateOffset(this,!0),this}function Lee(p){var x,T;if(p=Ke(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?jD:$D,p){case"year":x=T(this.year()+1,0,1)-1;break;case"quarter":x=T(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":x=T(this.year(),this.month()+1,1)-1;break;case"week":x=T(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":x=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":x=T(this.year(),this.month(),this.date()+1)-1;break;case"hour":x=this._d.valueOf(),x+=Ag-eu(x+(this._isUTC?0:this.utcOffset()*Zc),Ag)-1;break;case"minute":x=this._d.valueOf(),x+=Zc-eu(x,Zc)-1;break;case"second":x=this._d.valueOf(),x+=Dg-eu(x,Dg)-1;break}return this._d.setTime(x),r.updateOffset(this,!0),this}function Fee(){return this._d.valueOf()-(this._offset||0)*6e4}function $ee(){return Math.floor(this.valueOf()/1e3)}function jee(){return new Date(this.valueOf())}function Bee(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function zee(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function qee(){return this.isValid()?this.toISOString():null}function Uee(){return b(this)}function Hee(){return f({},v(this))}function Wee(){return v(this).overflow}function Yee(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr"),Y("NN",0,0,"eraAbbr"),Y("NNN",0,0,"eraAbbr"),Y("NNNN",0,0,"eraName"),Y("NNNNN",0,0,"eraNarrow"),Y("y",["y",1],"yo","eraYear"),Y("y",["yy",2],0,"eraYear"),Y("y",["yyy",3],0,"eraYear"),Y("y",["yyyy",4],0,"eraYear"),pe("N",Vx),pe("NN",Vx),pe("NNN",Vx),pe("NNNN",rte),pe("NNNNN",ite),Xe(["N","NN","NNN","NNNN","NNNNN"],function(p,x,T,I){var A=T._locale.erasParse(p,I,T._strict);A?v(T).era=A:v(T).invalidEra=p}),pe("y",Oe),pe("yy",Oe),pe("yyy",Oe),pe("yyyy",Oe),pe("yo",ste),Xe(["y","yy","yyy","yyyy"],He),Xe(["yo"],function(p,x,T,I){var A;T._locale._eraYearOrdinalRegex&&(A=p.match(T._locale._eraYearOrdinalRegex)),T._locale.eraYearOrdinalParse?x[He]=T._locale.eraYearOrdinalParse(p,A):x[He]=parseInt(p,10)});function Gee(p,x){var T,I,A,G=this._eras||co("en")._eras;for(T=0,I=G.length;T<I;++T){switch(typeof G[T].since){case"string":A=r(G[T].since).startOf("day"),G[T].since=A.valueOf();break}switch(typeof G[T].until){case"undefined":G[T].until=1/0;break;case"string":A=r(G[T].until).startOf("day").valueOf(),G[T].until=A.valueOf();break}}return G}function Vee(p,x,T){var I,A,G=this.eras(),le,Be,tt;for(p=p.toUpperCase(),I=0,A=G.length;I<A;++I)if(le=G[I].name.toUpperCase(),Be=G[I].abbr.toUpperCase(),tt=G[I].narrow.toUpperCase(),T)switch(x){case"N":case"NN":case"NNN":if(Be===p)return G[I];break;case"NNNN":if(le===p)return G[I];break;case"NNNNN":if(tt===p)return G[I];break}else if([le,Be,tt].indexOf(p)>=0)return G[I]}function Kee(p,x){var T=p.since<=p.until?1:-1;return x===void 0?r(p.since).year():r(p.since).year()+(x-p.offset)*T}function Xee(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].name;return""}function Qee(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].narrow;return""}function Jee(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].abbr;return""}function Zee(){var p,x,T,I,A=this.localeData().eras();for(p=0,x=A.length;p<x;++p)if(T=A[p].since<=A[p].until?1:-1,I=this.clone().startOf("day").valueOf(),A[p].since<=I&&I<=A[p].until||A[p].until<=I&&I<=A[p].since)return(this.year()-r(A[p].since).year())*T+A[p].offset;return this.year()}function ete(p){return a(this,"_erasNameRegex")||Kx.call(this),p?this._erasNameRegex:this._erasRegex}function tte(p){return a(this,"_erasAbbrRegex")||Kx.call(this),p?this._erasAbbrRegex:this._erasRegex}function nte(p){return a(this,"_erasNarrowRegex")||Kx.call(this),p?this._erasNarrowRegex:this._erasRegex}function Vx(p,x){return x.erasAbbrRegex(p)}function rte(p,x){return x.erasNameRegex(p)}function ite(p,x){return x.erasNarrowRegex(p)}function ste(p,x){return x._eraYearOrdinalRegex||Oe}function Kx(){var p=[],x=[],T=[],I=[],A,G,le,Be,tt,xt=this.eras();for(A=0,G=xt.length;A<G;++A)le=je(xt[A].name),Be=je(xt[A].abbr),tt=je(xt[A].narrow),x.push(le),p.push(Be),T.push(tt),I.push(le),I.push(Be),I.push(tt);this._erasRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+x.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+T.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ng(p,x){Y(0,[p,p.length],0,x)}Ng("gggg","weekYear"),Ng("ggggg","weekYear"),Ng("GGGG","isoWeekYear"),Ng("GGGGG","isoWeekYear"),pe("G",mt),pe("g",mt),pe("GG",he,ne),pe("gg",he,ne),pe("GGGG",Me,_e),pe("gggg",Me,_e),pe("GGGGG",be,Te),pe("ggggg",be,Te),Vt(["gggg","ggggg","GGGG","GGGGG"],function(p,x,T,I){x[I.substr(0,2)]=Re(p)}),Vt(["gg","GG"],function(p,x,T,I){x[I]=r.parseTwoDigitYear(p)});function ote(p){return BD.call(this,p,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ate(p){return BD.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function lte(){return lo(this.year(),1,4)}function cte(){return lo(this.isoWeekYear(),1,4)}function ute(){var p=this.localeData()._week;return lo(this.year(),p.dow,p.doy)}function hte(){var p=this.localeData()._week;return lo(this.weekYear(),p.dow,p.doy)}function BD(p,x,T,I,A){var G;return p==null?$d(this,I,A).year:(G=lo(p,I,A),x>G&&(x=G),dte.call(this,p,x,T,I,A))}function dte(p,x,T,I,A){var G=vD(p,x,T,I,A),le=Fd(G.year,0,G.dayOfYear);return this.year(le.getUTCFullYear()),this.month(le.getUTCMonth()),this.date(le.getUTCDate()),this}Y("Q",0,"Qo","quarter"),pe("Q",oe),Xe("Q",function(p,x){x[ot]=(Re(p)-1)*3});function fte(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date"),pe("D",he,st),pe("DD",he,ne),pe("Do",function(p,x){return p?x._dayOfMonthOrdinalParse||x._ordinalParse:x._dayOfMonthOrdinalParseLenient}),Xe(["D","DD"],pt),Xe("Do",function(p,x){x[pt]=Re(p.match(he)[0])});var zD=At("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),pe("DDD",xe),pe("DDDD",te),Xe(["DDD","DDDD"],function(p,x,T){T._dayOfYear=Re(p)});function pte(p){var x=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?x:this.add(p-x,"d")}Y("m",["mm",2],0,"minute"),pe("m",he,ft),pe("mm",he,ne),Xe(["m","mm"],bt);var mte=At("Minutes",!1);Y("s",["ss",2],0,"second"),pe("s",he,ft),pe("ss",he,ne),Xe(["s","ss"],jt);var gte=At("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return this.millisecond()*10}),Y(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),pe("S",xe,oe),pe("SS",xe,ne),pe("SSS",xe,te);var ea,qD;for(ea="SSSS";ea.length<=9;ea+="S")pe(ea,Oe);function vte(p,x){x[Pt]=Re(("0."+p)*1e3)}for(ea="S";ea.length<=9;ea+="S")Xe(ea,vte);qD=At("Milliseconds",!1),Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");function yte(){return this._isUTC?"UTC":""}function bte(){return this._isUTC?"Coordinated Universal Time":""}var Se=C.prototype;Se.add=hee,Se.calendar=yee,Se.clone=bee,Se.diff=Eee,Se.endOf=Lee,Se.format=Iee,Se.from=Oee,Se.fromNow=Ree,Se.to=Dee,Se.toNow=Aee,Se.get=Qc,Se.invalidAt=Wee,Se.isAfter=xee,Se.isBefore=wee,Se.isBetween=_ee,Se.isSame=See,Se.isSameOrAfter=kee,Se.isSameOrBefore=Cee,Se.isValid=Uee,Se.lang=ND,Se.locale=AD,Se.localeData=LD,Se.max=UZ,Se.min=qZ,Se.parsingFlags=Hee,Se.set=Eg,Se.startOf=Nee,Se.subtract=dee,Se.toArray=Bee,Se.toObject=zee,Se.toDate=jee,Se.toISOString=Mee,Se.inspect=Pee,typeof Symbol<"u"&&Symbol.for!=null&&(Se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Se.toJSON=qee,Se.toString=Tee,Se.unix=$ee,Se.valueOf=Fee,Se.creationData=Yee,Se.eraName=Xee,Se.eraNarrow=Qee,Se.eraAbbr=Jee,Se.eraYear=Zee,Se.year=Jo,Se.isLeapYear=Xc,Se.weekYear=ote,Se.isoWeekYear=ate,Se.quarter=Se.quarters=fte,Se.month=mD,Se.daysInMonth=jJ,Se.week=Se.weeks=GJ,Se.isoWeek=Se.isoWeeks=VJ,Se.weeksInYear=ute,Se.weeksInWeekYear=hte,Se.isoWeeksInYear=lte,Se.isoWeeksInISOWeekYear=cte,Se.date=zD,Se.day=Se.days=aZ,Se.weekday=lZ,Se.isoWeekday=cZ,Se.dayOfYear=pte,Se.hour=Se.hours=gZ,Se.minute=Se.minutes=mte,Se.second=Se.seconds=gte,Se.millisecond=Se.milliseconds=qD,Se.utcOffset=JZ,Se.utc=eee,Se.local=tee,Se.parseZone=nee,Se.hasAlignedHourOffset=ree,Se.isDST=iee,Se.isLocal=oee,Se.isUtcOffset=aee,Se.isUtc=PD,Se.isUTC=PD,Se.zoneAbbr=yte,Se.zoneName=bte,Se.dates=R("dates accessor is deprecated. Use date instead.",zD),Se.months=R("months accessor is deprecated. Use month instead",mD),Se.years=R("years accessor is deprecated. Use year instead",Jo),Se.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ZZ),Se.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",see);function xte(p){return Jt(p*1e3)}function wte(){return Jt.apply(null,arguments).parseZone()}function UD(p){return p}var It=F.prototype;It.calendar=H,It.longDateFormat=J,It.invalidDate=me,It.ordinal=Ce,It.preparse=UD,It.postformat=UD,It.relativeTime=Qe,It.pastFuture=ze,It.set=W,It.eras=Gee,It.erasParse=Vee,It.erasConvertYear=Kee,It.erasAbbrRegex=tte,It.erasNameRegex=ete,It.erasNarrowRegex=nte,It.months=NJ,It.monthsShort=LJ,It.monthsParse=$J,It.monthsRegex=zJ,It.monthsShortRegex=BJ,It.week=UJ,It.firstDayOfYear=YJ,It.firstDayOfWeek=WJ,It.weekdays=nZ,It.weekdaysMin=iZ,It.weekdaysShort=rZ,It.weekdaysParse=oZ,It.weekdaysRegex=uZ,It.weekdaysShortRegex=hZ,It.weekdaysMinRegex=dZ,It.isPM=pZ,It.meridiem=vZ;function Lg(p,x,T,I){var A=co(),G=m().set(I,x);return A[T](G,p)}function HD(p,x,T){if(u(p)&&(x=p,p=void 0),p=p||"",x!=null)return Lg(p,x,T,"month");var I,A=[];for(I=0;I<12;I++)A[I]=Lg(p,I,T,"month");return A}function Xx(p,x,T,I){typeof p=="boolean"?(u(x)&&(T=x,x=void 0),x=x||""):(x=p,T=x,p=!1,u(x)&&(T=x,x=void 0),x=x||"");var A=co(),G=p?A._week.dow:0,le,Be=[];if(T!=null)return Lg(x,(T+G)%7,I,"day");for(le=0;le<7;le++)Be[le]=Lg(x,(le+G)%7,I,"day");return Be}function _te(p,x){return HD(p,x,"months")}function Ste(p,x){return HD(p,x,"monthsShort")}function kte(p,x,T){return Xx(p,x,T,"weekdays")}function Cte(p,x,T){return Xx(p,x,T,"weekdaysShort")}function Ete(p,x,T){return Xx(p,x,T,"weekdaysMin")}Zo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var x=p%10,T=Re(p%100/10)===1?"th":x===1?"st":x===2?"nd":x===3?"rd":"th";return p+T}}),r.lang=R("moment.lang is deprecated. Use moment.locale instead.",Zo),r.langData=R("moment.langData is deprecated. Use moment.localeData instead.",co);var uo=Math.abs;function Tte(){var p=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),p.milliseconds=uo(p.milliseconds),p.seconds=uo(p.seconds),p.minutes=uo(p.minutes),p.hours=uo(p.hours),p.months=uo(p.months),p.years=uo(p.years),this}function WD(p,x,T,I){var A=ts(x,T);return p._milliseconds+=I*A._milliseconds,p._days+=I*A._days,p._months+=I*A._months,p._bubble()}function Mte(p,x){return WD(this,p,x,1)}function Pte(p,x){return WD(this,p,x,-1)}function YD(p){return p<0?Math.floor(p):Math.ceil(p)}function Ite(){var p=this._milliseconds,x=this._days,T=this._months,I=this._data,A,G,le,Be,tt;return p>=0&&x>=0&&T>=0||p<=0&&x<=0&&T<=0||(p+=YD(Qx(T)+x)*864e5,x=0,T=0),I.milliseconds=p%1e3,A=Ue(p/1e3),I.seconds=A%60,G=Ue(A/60),I.minutes=G%60,le=Ue(G/60),I.hours=le%24,x+=Ue(le/24),tt=Ue(GD(x)),T+=tt,x-=YD(Qx(tt)),Be=Ue(T/12),T%=12,I.days=x,I.months=T,I.years=Be,this}function GD(p){return p*4800/146097}function Qx(p){return p*146097/4800}function Ote(p){if(!this.isValid())return NaN;var x,T,I=this._milliseconds;if(p=Ke(p),p==="month"||p==="quarter"||p==="year")switch(x=this._days+I/864e5,T=this._months+GD(x),p){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(x=this._days+Math.round(Qx(this._months)),p){case"week":return x/7+I/6048e5;case"day":return x+I/864e5;case"hour":return x*24+I/36e5;case"minute":return x*1440+I/6e4;case"second":return x*86400+I/1e3;case"millisecond":return Math.floor(x*864e5)+I;default:throw new Error("Unknown unit "+p)}}function ho(p){return function(){return this.as(p)}}var VD=ho("ms"),Rte=ho("s"),Dte=ho("m"),Ate=ho("h"),Nte=ho("d"),Lte=ho("w"),Fte=ho("M"),$te=ho("Q"),jte=ho("y"),Bte=VD;function zte(){return ts(this)}function qte(p){return p=Ke(p),this.isValid()?this[p+"s"]():NaN}function ml(p){return function(){return this.isValid()?this._data[p]:NaN}}var Ute=ml("milliseconds"),Hte=ml("seconds"),Wte=ml("minutes"),Yte=ml("hours"),Gte=ml("days"),Vte=ml("months"),Kte=ml("years");function Xte(){return Ue(this.days()/7)}var fo=Math.round,tu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qte(p,x,T,I,A){return A.relativeTime(x||1,!!T,p,I)}function Jte(p,x,T,I){var A=ts(p).abs(),G=fo(A.as("s")),le=fo(A.as("m")),Be=fo(A.as("h")),tt=fo(A.as("d")),xt=fo(A.as("M")),_r=fo(A.as("w")),po=fo(A.as("y")),ta=G<=T.ss&&["s",G]||G<T.s&&["ss",G]||le<=1&&["m"]||le<T.m&&["mm",le]||Be<=1&&["h"]||Be<T.h&&["hh",Be]||tt<=1&&["d"]||tt<T.d&&["dd",tt];return T.w!=null&&(ta=ta||_r<=1&&["w"]||_r<T.w&&["ww",_r]),ta=ta||xt<=1&&["M"]||xt<T.M&&["MM",xt]||po<=1&&["y"]||["yy",po],ta[2]=x,ta[3]=+p>0,ta[4]=I,Qte.apply(null,ta)}function Zte(p){return p===void 0?fo:typeof p=="function"?(fo=p,!0):!1}function ene(p,x){return tu[p]===void 0?!1:x===void 0?tu[p]:(tu[p]=x,p==="s"&&(tu.ss=x-1),!0)}function tne(p,x){if(!this.isValid())return this.localeData().invalidDate();var T=!1,I=tu,A,G;return typeof p=="object"&&(x=p,p=!1),typeof p=="boolean"&&(T=p),typeof x=="object"&&(I=Object.assign({},tu,x),x.s!=null&&x.ss==null&&(I.ss=x.s-1)),A=this.localeData(),G=Jte(this,!T,I,A),T&&(G=A.pastFuture(+this,G)),A.postformat(G)}var Jx=Math.abs;function nu(p){return(p>0)-(p<0)||+p}function Fg(){if(!this.isValid())return this.localeData().invalidDate();var p=Jx(this._milliseconds)/1e3,x=Jx(this._days),T=Jx(this._months),I,A,G,le,Be=this.asSeconds(),tt,xt,_r,po;return Be?(I=Ue(p/60),A=Ue(I/60),p%=60,I%=60,G=Ue(T/12),T%=12,le=p?p.toFixed(3).replace(/\.?0+$/,""):"",tt=Be<0?"-":"",xt=nu(this._months)!==nu(Be)?"-":"",_r=nu(this._days)!==nu(Be)?"-":"",po=nu(this._milliseconds)!==nu(Be)?"-":"",tt+"P"+(G?xt+G+"Y":"")+(T?xt+T+"M":"")+(x?_r+x+"D":"")+(A||I||p?"T":"")+(A?po+A+"H":"")+(I?po+I+"M":"")+(p?po+le+"S":"")):"P0D"}var _t=Ig.prototype;_t.isValid=VZ,_t.abs=Tte,_t.add=Mte,_t.subtract=Pte,_t.as=Ote,_t.asMilliseconds=VD,_t.asSeconds=Rte,_t.asMinutes=Dte,_t.asHours=Ate,_t.asDays=Nte,_t.asWeeks=Lte,_t.asMonths=Fte,_t.asQuarters=$te,_t.asYears=jte,_t.valueOf=Bte,_t._bubble=Ite,_t.clone=zte,_t.get=qte,_t.milliseconds=Ute,_t.seconds=Hte,_t.minutes=Wte,_t.hours=Yte,_t.days=Gte,_t.weeks=Xte,_t.months=Vte,_t.years=Kte,_t.humanize=tne,_t.toISOString=Fg,_t.toString=Fg,_t.toJSON=Fg,_t.locale=AD,_t.localeData=LD,_t.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fg),_t.lang=ND,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),pe("x",mt),pe("X",Cn),Xe("X",function(p,x,T){T._d=new Date(parseFloat(p)*1e3)}),Xe("x",function(p,x,T){T._d=new Date(Re(p))});//! moment.js
return r.version="2.30.1",i(Jt),r.fn=Se,r.min=HZ,r.max=WZ,r.now=YZ,r.utc=m,r.unix=xte,r.months=_te,r.isDate=h,r.locale=Zo,r.invalid=w,r.duration=ts,r.isMoment=E,r.weekdays=kte,r.parseZone=wte,r.localeData=co,r.isDuration=Og,r.monthsShort=Ste,r.weekdaysMin=Ete,r.defineLocale=jx,r.updateLocale=wZ,r.locales=_Z,r.weekdaysShort=Cte,r.normalizeUnits=Ke,r.relativeTimeRounding=Zte,r.relativeTimeThreshold=ene,r.calendarFormat=vee,r.prototype=Se,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Av)),Av.exports}var Cke=CP.exports,QL;function Eke(){return QL||(QL=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Cke,function(t){//! moment.js locale configuration
function r(s,o,a,l){var c={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[s+" Tage",s+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[s+" Monate",s+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[s+" Jahre",s+" Jahren"]};return o?c[a][0]:c[a][1]}var i=t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:r,mm:"%d Minuten",h:r,hh:"%d Stunden",d:r,dd:r,w:r,ww:"%d Wochen",M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})}()),CP.exports}Eke();var EP={exports:{}},Tke=EP.exports,JL;function Mke(){return JL||(JL=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Tke,function(t){//! moment.js locale configuration
var r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),s=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return a})}()),EP.exports}Mke();var TP={exports:{}},Pke=TP.exports,ZL;function Ike(){return ZL||(ZL=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Pke,function(t){//! moment.js locale configuration
var r=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,o=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],a=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:r,monthsShortStrictRegex:i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(l,c){switch(c){case"D":return l+(l===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return l+(l===1?"er":"e");case"w":case"W":return l+(l===1?"re":"e")}},week:{dow:1,doy:4}});return a})}()),TP.exports}Ike();var MP={exports:{}},Oke=MP.exports,e8;function Rke(){return e8||(e8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Oke,function(t){//! moment.js locale configuration
var r=t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r})}()),MP.exports}Rke();var PP={exports:{}},Dke=PP.exports,t8;function Ake(){return t8||(t8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Dke,function(t){//! moment.js locale configuration
var r=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(i,s){return s[1]===""?1:parseInt(s[1]||i,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(i){return i===""},meridiem:function(i,s,o){return i<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(i){return i.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(i){return this.week()!==i.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(i,s){switch(s){case"y":return i===1?"":i+"";case"d":case"D":case"DDD":return i+"";default:return i}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return r})}()),PP.exports}Ake();var IP={exports:{}},Nke=IP.exports,n8;function Lke(){return n8||(n8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Nke,function(t){//! moment.js locale configuration
var r="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),s=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(l){return l+(l===1||l===8||l>=20?"ste":"de")},week:{dow:1,doy:4}});return a})}()),IP.exports}Lke();var OP={exports:{}},Fke=OP.exports,r8;function $ke(){return r8||(r8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Fke,function(t){//! moment.js locale configuration
var r="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function o(c){return c%10<5&&c%10>1&&~~(c/10)%10!==1}function a(c,u,h){var d=c+" ";switch(h){case"ss":return d+(o(c)?"sekundy":"sekund");case"m":return u?"minuta":"minut";case"mm":return d+(o(c)?"minuty":"minut");case"h":return u?"godzina":"godzin";case"hh":return d+(o(c)?"godziny":"godzin");case"ww":return d+(o(c)?"tygodnie":"tygodni");case"MM":return d+(o(c)?"miesice":"miesicy");case"yy":return d+(o(c)?"lata":"lat")}}var l=t.defineLocale("pl",{months:function(c,u){return c?/D MMMM/.test(u)?i[c.month()]:r[c.month()]:r},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return l})}()),OP.exports}$ke();var RP={exports:{}},jke=RP.exports,i8;function Bke(){return i8||(i8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(jke,function(t){//! moment.js locale configuration
function r(a,l){var c=a.split("_");return l%10===1&&l%100!==11?c[0]:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?c[1]:c[2]}function i(a,l,c){var u={ss:l?"__":"__",mm:l?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return c==="m"?l?"":"":a+" "+r(u[c],+a)}var s=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],o=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,w:"",ww:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,l,c){return a<4?"":a<12?"":a<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(a,l){switch(l){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:4}});return o})}()),RP.exports}Bke();var DP={exports:{}},zke=DP.exports,s8;function qke(){return s8||(s8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(zke,function(t){//! moment.js locale configuration
var r={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},i=t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(s,o,a){return s<12?a?"":"":a?"s":"S"},meridiemParse:/||s|S/,isPM:function(s){return s==="s"||s==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(s,o){switch(o){case"d":case"D":case"Do":case"DD":return s;default:if(s===0)return s+"'nc";var a=s%10,l=s%100-a,c=s>=100?100:null;return s+(r[a]||r[l]||r[c])}},week:{dow:1,doy:7}});return i})}()),DP.exports}qke();var AP={exports:{}},Uke=AP.exports,o8;function Hke(){return o8||(o8=1,function(n,e){(function(t,r){r(typeof ks=="function"?Cs():t.moment)})(Uke,function(t){//! moment.js locale configuration
function r(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function i(l,c,u){var h={ss:c?"__":"__",mm:c?"__":"__",hh:c?"__":"__",dd:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":u==="h"?c?"":"":l+" "+r(h[u],+l)}function s(l,c){var u={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return l===!0?u.nominative.slice(1,7).concat(u.nominative.slice(0,1)):l?(h=/(\[[]\]) ?dddd/.test(c)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(c)?"genitive":"nominative",u[h][l.day()]):u.nominative}function o(l){return function(){return l+""+(this.hours()===11?"":"")+"] LT"}}var a=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:s,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":case"w":case"W":return l+"-";case"D":return l+"-";default:return l}},week:{dow:1,doy:7}});return a})}()),AP.exports}Hke();var a8={},yf,l8;function Sn(){if(l8)return yf;l8=1;var n=function(e){return e&&e.Math===Math&&e};return yf=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof KL=="object"&&KL)||n(typeof yf=="object"&&yf)||function(){return this}()||Function("return this")(),yf}var X1,c8;function kt(){return c8||(c8=1,X1=function(n){try{return!!n()}catch{return!0}}),X1}var Q1,u8;function rg(){if(u8)return Q1;u8=1;var n=kt();return Q1=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Q1}var J1,h8;function px(){if(h8)return J1;h8=1;var n=rg(),e=Function.prototype,t=e.apply,r=e.call;return J1=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),J1}var Z1,d8;function Mt(){if(d8)return Z1;d8=1;var n=rg(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return Z1=n?r:function(i){return function(){return t.apply(i,arguments)}},Z1}var e_,f8;function so(){if(f8)return e_;f8=1;var n=Mt(),e=n({}.toString),t=n("".slice);return e_=function(r){return t(e(r),8,-1)},e_}var t_,p8;function gR(){if(p8)return t_;p8=1;var n=so(),e=Mt();return t_=function(t){if(n(t)==="Function")return e(t)},t_}var n_,m8;function er(){if(m8)return n_;m8=1;var n=typeof document=="object"&&document.all;return n_=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},n_}var r_={},i_,g8;function Nn(){if(g8)return i_;g8=1;var n=kt();return i_=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),i_}var s_,v8;function si(){if(v8)return s_;v8=1;var n=rg(),e=Function.prototype.call;return s_=n?e.bind(e):function(){return e.apply(e,arguments)},s_}var o_={},y8;function mx(){if(y8)return o_;y8=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return o_.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,o_}var a_,b8;function ig(){return b8||(b8=1,a_=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),a_}var l_,x8;function gx(){if(x8)return l_;x8=1;var n=Mt(),e=kt(),t=so(),r=Object,i=n("".split);return l_=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,l_}var c_,w8;function sg(){return w8||(w8=1,c_=function(n){return n==null}),c_}var u_,_8;function Ko(){if(_8)return u_;_8=1;var n=sg(),e=TypeError;return u_=function(t){if(n(t))throw new e("Can't call method on "+t);return t},u_}var h_,S8;function Es(){if(S8)return h_;S8=1;var n=gx(),e=Ko();return h_=function(t){return n(e(t))},h_}var d_,k8;function xr(){if(k8)return d_;k8=1;var n=er();return d_=function(e){return typeof e=="object"?e!==null:n(e)},d_}var f_,C8;function Qt(){return C8||(C8=1,f_={}),f_}var p_,E8;function Ei(){if(E8)return p_;E8=1;var n=Qt(),e=Sn(),t=er(),r=function(i){return t(i)?i:void 0};return p_=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},p_}var m_,T8;function nn(){if(T8)return m_;T8=1;var n=Mt();return m_=n({}.isPrototypeOf),m_}var g_,M8;function Sd(){if(M8)return g_;M8=1;var n=Sn(),e=n.navigator,t=e&&e.userAgent;return g_=t?String(t):"",g_}var v_,P8;function og(){if(P8)return v_;P8=1;var n=Sn(),e=Sd(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),v_=a,v_}var y_,I8;function kd(){if(I8)return y_;I8=1;var n=og(),e=kt(),t=Sn(),r=t.String;return y_=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),y_}var b_,O8;function GX(){if(O8)return b_;O8=1;var n=kd();return b_=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",b_}var x_,R8;function ag(){if(R8)return x_;R8=1;var n=Ei(),e=er(),t=nn(),r=GX(),i=Object;return x_=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},x_}var w_,D8;function Cd(){if(D8)return w_;D8=1;var n=String;return w_=function(e){try{return n(e)}catch{return"Object"}},w_}var __,A8;function oo(){if(A8)return __;A8=1;var n=er(),e=Cd(),t=TypeError;return __=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},__}var S_,N8;function vR(){if(N8)return S_;N8=1;var n=oo(),e=sg();return S_=function(t,r){var i=t[r];return e(i)?void 0:n(i)},S_}var k_,L8;function Wke(){if(L8)return k_;L8=1;var n=si(),e=er(),t=xr(),r=TypeError;return k_=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},k_}var C_={exports:{}},E_,F8;function Ed(){return F8||(F8=1,E_=!0),E_}var T_,$8;function Yke(){if($8)return T_;$8=1;var n=Sn(),e=Object.defineProperty;return T_=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},T_}var j8;function yR(){if(j8)return C_.exports;j8=1;var n=Ed(),e=Sn(),t=Yke(),r="__core-js_shared__",i=C_.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),C_.exports}var M_,B8;function Td(){if(B8)return M_;B8=1;var n=yR();return M_=function(e,t){return n[e]||(n[e]=t||{})},M_}var P_,z8;function oi(){if(z8)return P_;z8=1;var n=Ko(),e=Object;return P_=function(t){return e(n(t))},P_}var I_,q8;function tr(){if(q8)return I_;q8=1;var n=Mt(),e=oi(),t=n({}.hasOwnProperty);return I_=Object.hasOwn||function(i,s){return t(e(i),s)},I_}var O_,U8;function vx(){if(U8)return O_;U8=1;var n=Mt(),e=0,t=Math.random(),r=n(1.1.toString);return O_=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},O_}var R_,H8;function jn(){if(H8)return R_;H8=1;var n=Sn(),e=Td(),t=tr(),r=vx(),i=kd(),s=GX(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return R_=function(c){return t(a,c)||(a[c]=i&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},R_}var D_,W8;function VX(){if(W8)return D_;W8=1;var n=si(),e=xr(),t=ag(),r=vR(),i=Wke(),s=jn(),o=TypeError,a=s("toPrimitive");return D_=function(l,c){if(!e(l)||t(l))return l;var u=r(l,a),h;if(u){if(c===void 0&&(c="default"),h=n(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},D_}var A_,Y8;function bR(){if(Y8)return A_;Y8=1;var n=VX(),e=ag();return A_=function(t){var r=n(t,"string");return e(r)?r:r+""},A_}var N_,G8;function KX(){if(G8)return N_;G8=1;var n=Sn(),e=xr(),t=n.document,r=e(t)&&e(t.createElement);return N_=function(i){return r?t.createElement(i):{}},N_}var L_,V8;function XX(){if(V8)return L_;V8=1;var n=Nn(),e=kt(),t=KX();return L_=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),L_}var K8;function yx(){if(K8)return r_;K8=1;var n=Nn(),e=si(),t=mx(),r=ig(),i=Es(),s=bR(),o=tr(),a=XX(),l=Object.getOwnPropertyDescriptor;return r_.f=n?l:function(u,h){if(u=i(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return r(!e(t.f,u,h),u[h])},r_}var F_,X8;function Gke(){if(X8)return F_;X8=1;var n=kt(),e=er(),t=/#|\.prototype\./,r=function(l,c){var u=s[i(l)];return u===a?!0:u===o?!1:e(c)?n(c):!!c},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return F_=r,F_}var $_,Q8;function lg(){if(Q8)return $_;Q8=1;var n=gR(),e=oo(),t=rg(),r=n(n.bind);return $_=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},$_}var j_={},B_,J8;function QX(){if(J8)return B_;J8=1;var n=Nn(),e=kt();return B_=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),B_}var z_,Z8;function Xo(){if(Z8)return z_;Z8=1;var n=xr(),e=String,t=TypeError;return z_=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},z_}var e6;function Ji(){if(e6)return j_;e6=1;var n=Nn(),e=XX(),t=QX(),r=Xo(),i=bR(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return j_.f=n?t?function(d,f,m){if(r(d),f=i(f),r(m),typeof d=="function"&&f==="prototype"&&"value"in m&&u in m&&!m[u]){var g=a(d,f);g&&g[u]&&(d[f]=m.value,m={configurable:c in m?m[c]:g[c],enumerable:l in m?m[l]:g[l],writable:!1})}return o(d,f,m)}:o:function(d,f,m){if(r(d),f=i(f),r(m),e)try{return o(d,f,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(d[f]=m.value),d},j_}var q_,t6;function Md(){if(t6)return q_;t6=1;var n=Nn(),e=Ji(),t=ig();return q_=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},q_}var U_,n6;function Ve(){if(n6)return U_;n6=1;var n=Sn(),e=px(),t=gR(),r=er(),i=yx().f,s=Gke(),o=Qt(),a=lg(),l=Md(),c=tr(),u=function(h){var d=function(f,m,g){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,m)}return new h(f,m,g)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return U_=function(h,d){var f=h.target,m=h.global,g=h.stat,v=h.proto,y=m?n:g?n[f]:n[f]&&n[f].prototype,b=m?o:o[f]||l(o,f,{})[f],w=b.prototype,S,_,k,C,E,O,R,D,N;for(C in d)S=s(m?C:f+(g?".":"#")+C,h.forced),_=!S&&y&&c(y,C),O=b[C],_&&(h.dontCallGetSet?(N=i(y,C),R=N&&N.value):R=y[C]),E=_&&R?R:d[C],!(!S&&!v&&typeof O==typeof E)&&(h.bind&&_?D=a(E,n):h.wrap&&_?D=u(E):v&&r(E)?D=t(E):D=E,(h.sham||E&&E.sham||O&&O.sham)&&l(D,"sham",!0),l(b,C,D),v&&(k=f+"Prototype",c(o,k)||l(o,k,{}),l(o[k],C,E),h.real&&w&&(S||!w[C])&&l(w,C,E)))},U_}var H_,r6;function ol(){if(r6)return H_;r6=1;var n=so();return H_=Array.isArray||function(t){return n(t)==="Array"},H_}var W_,i6;function Vke(){if(i6)return W_;i6=1;var n=Math.ceil,e=Math.floor;return W_=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},W_}var Y_,s6;function Pd(){if(s6)return Y_;s6=1;var n=Vke();return Y_=function(e){var t=+e;return t!==t||t===0?0:n(t)},Y_}var G_,o6;function JX(){if(o6)return G_;o6=1;var n=Pd(),e=Math.min;return G_=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},G_}var V_,a6;function Ts(){if(a6)return V_;a6=1;var n=JX();return V_=function(e){return n(e.length)},V_}var K_,l6;function xR(){if(l6)return K_;l6=1;var n=TypeError,e=9007199254740991;return K_=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},K_}var X_,c6;function bx(){if(c6)return X_;c6=1;var n=Nn(),e=Ji(),t=ig();return X_=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},X_}var Q_,u6;function wR(){if(u6)return Q_;u6=1;var n=jn(),e=n("toStringTag"),t={};return t[e]="z",Q_=String(t)==="[object z]",Q_}var J_,h6;function al(){if(h6)return J_;h6=1;var n=wR(),e=er(),t=so(),r=jn(),i=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return J_=n?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),i))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},J_}var Z_,d6;function Kke(){if(d6)return Z_;d6=1;var n=Mt(),e=er(),t=yR(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Z_=t.inspectSource,Z_}var eS,f6;function ZX(){if(f6)return eS;f6=1;var n=Mt(),e=kt(),t=er(),r=al(),i=Ei(),s=Kke(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=n(l.exec),u=!l.test(o),h=function(m){if(!t(m))return!1;try{return a(o,[],m),!0}catch{return!1}},d=function(m){if(!t(m))return!1;switch(r(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return d.sham=!0,eS=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,eS}var tS,p6;function Xke(){if(p6)return tS;p6=1;var n=ol(),e=ZX(),t=xr(),r=jn(),i=r("species"),s=Array;return tS=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},tS}var nS,m6;function xx(){if(m6)return nS;m6=1;var n=Xke();return nS=function(e,t){return new(n(e))(t===0?0:t)},nS}var rS,g6;function cg(){if(g6)return rS;g6=1;var n=kt(),e=jn(),t=og(),r=e("species");return rS=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},rS}var v6;function eQ(){if(v6)return a8;v6=1;var n=Ve(),e=kt(),t=ol(),r=xr(),i=oi(),s=Ts(),o=xR(),a=bx(),l=xx(),c=cg(),u=jn(),h=og(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var v=[];return v[d]=!1,v.concat()[0]!==v}),m=function(v){if(!r(v))return!1;var y=v[d];return y!==void 0?!!y:t(v)},g=!f||!c("concat");return n({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var b=i(this),w=l(b,0),S=0,_,k,C,E,O;for(_=-1,C=arguments.length;_<C;_++)if(O=_===-1?b:arguments[_],m(O))for(E=s(O),o(S+E),k=0;k<E;k++,S++)k in O&&a(w,S,O[k]);else o(S+1),a(w,S++,O);return w.length=S,w}}),a8}var y6={},b6={},iS,x6;function Zi(){if(x6)return iS;x6=1;var n=al(),e=String;return iS=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},iS}var sS={},oS,w6;function wx(){if(w6)return oS;w6=1;var n=Pd(),e=Math.max,t=Math.min;return oS=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},oS}var aS,_6;function _R(){if(_6)return aS;_6=1;var n=Es(),e=wx(),t=Ts(),r=function(i){return function(s,o,a){var l=n(s),c=t(l);if(c===0)return!i&&-1;var u=e(a,c),h;if(i&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===o)return i||u||0;return!i&&-1}};return aS={includes:r(!0),indexOf:r(!1)},aS}var lS,S6;function ug(){return S6||(S6=1,lS={}),lS}var cS,k6;function tQ(){if(k6)return cS;k6=1;var n=Mt(),e=tr(),t=Es(),r=_R().indexOf,i=ug(),s=n([].push);return cS=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~r(u,h)||s(u,h));return u},cS}var uS,C6;function SR(){return C6||(C6=1,uS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),uS}var hS,E6;function hg(){if(E6)return hS;E6=1;var n=tQ(),e=SR();return hS=Object.keys||function(r){return n(r,e)},hS}var T6;function kR(){if(T6)return sS;T6=1;var n=Nn(),e=QX(),t=Ji(),r=Xo(),i=Es(),s=hg();return sS.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var c=i(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},sS}var dS,M6;function Qke(){if(M6)return dS;M6=1;var n=Ei();return dS=n("document","documentElement"),dS}var fS,P6;function _x(){if(P6)return fS;P6=1;var n=Td(),e=vx(),t=n("keys");return fS=function(r){return t[r]||(t[r]=e(r))},fS}var pS,I6;function dg(){if(I6)return pS;I6=1;var n=Xo(),e=kR(),t=SR(),r=ug(),i=Qke(),s=KX(),o=_x(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(b){return l+u+a+b+l+"/"+u+a},m=function(b){b.write(f("")),b.close();var w=b.parentWindow.Object;return b=null,w},g=function(){var b=s("iframe"),w="java"+u+":",S;return b.style.display="none",i.appendChild(b),b.src=String(w),S=b.contentWindow.document,S.open(),S.write(f("document.F=Object")),S.close(),S.F},v,y=function(){try{v=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&v?m(v):g():m(v);for(var b=t.length;b--;)delete y[c][t[b]];return y()};return r[h]=!0,pS=Object.create||function(w,S){var _;return w!==null?(d[c]=n(w),_=new d,d[c]=null,_[h]=w):_=y(),S===void 0?_:e.f(_,S)},pS}var mS={},O6;function Sx(){if(O6)return mS;O6=1;var n=tQ(),e=SR(),t=e.concat("length","prototype");return mS.f=Object.getOwnPropertyNames||function(i){return n(i,t)},mS}var gS={},vS,R6;function Id(){if(R6)return vS;R6=1;var n=Mt();return vS=n([].slice),vS}var D6;function nQ(){if(D6)return gS;D6=1;var n=so(),e=Es(),t=Sx().f,r=Id(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return gS.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},gS}var yS={},A6;function kx(){return A6||(A6=1,yS.f=Object.getOwnPropertySymbols),yS}var bS,N6;function fg(){if(N6)return bS;N6=1;var n=Md();return bS=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},bS}var xS,L6;function CR(){if(L6)return xS;L6=1;var n=Ji();return xS=function(e,t,r){return n.f(e,t,r)},xS}var wS={},F6;function Cx(){if(F6)return wS;F6=1;var n=jn();return wS.f=n,wS}var _S,$6;function vn(){if($6)return _S;$6=1;var n=Qt(),e=tr(),t=Cx(),r=Ji().f;return _S=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},_S}var SS,j6;function rQ(){if(j6)return SS;j6=1;var n=si(),e=Ei(),t=jn(),r=fg();return SS=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},SS}var kS,B6;function Jke(){if(B6)return kS;B6=1;var n=wR(),e=al();return kS=n?{}.toString:function(){return"[object "+e(this)+"]"},kS}var CS,z6;function zc(){if(z6)return CS;z6=1;var n=wR(),e=Ji().f,t=Md(),r=tr(),i=Jke(),s=jn(),o=s("toStringTag");return CS=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(r(h,o)||e(h,o,{configurable:!0,value:l}),u&&!n&&t(h,"toString",i))},CS}var ES,q6;function Zke(){if(q6)return ES;q6=1;var n=Sn(),e=er(),t=n.WeakMap;return ES=e(t)&&/native code/.test(String(t)),ES}var TS,U6;function pg(){if(U6)return TS;U6=1;var n=Zke(),e=Sn(),t=xr(),r=Md(),i=tr(),s=yR(),o=_x(),a=ug(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,m=function(b){return f(b)?d(b):h(b,{})},g=function(b){return function(w){var S;if(!t(w)||(S=d(w)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(n||s.state){var v=s.state||(s.state=new u);v.get=v.get,v.has=v.has,v.set=v.set,h=function(b,w){if(v.has(b))throw new c(l);return w.facade=b,v.set(b,w),w},d=function(b){return v.get(b)||{}},f=function(b){return v.has(b)}}else{var y=o("state");a[y]=!0,h=function(b,w){if(i(b,y))throw new c(l);return w.facade=b,r(b,y,w),w},d=function(b){return i(b,y)?b[y]:{}},f=function(b){return i(b,y)}}return TS={set:h,get:d,has:f,enforce:m,getterFor:g},TS}var MS,H6;function ll(){if(H6)return MS;H6=1;var n=lg(),e=Mt(),t=gx(),r=oi(),i=Ts(),s=xx(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,m=l===7,g=l===5||f;return function(v,y,b,w){for(var S=r(v),_=t(S),k=i(_),C=n(y,b),E=0,O=w||s,R=c?O(v,k):u||m?O(v,0):void 0,D,N;k>E;E++)if((g||E in _)&&(D=_[E],N=C(D,E,S),l))if(c)R[E]=N;else if(N)switch(l){case 3:return!0;case 5:return D;case 6:return E;case 2:o(R,D)}else switch(l){case 4:return!1;case 7:o(R,D)}return f?-1:h||d?d:R}};return MS={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},MS}var W6;function eCe(){if(W6)return b6;W6=1;var n=Ve(),e=Sn(),t=si(),r=Mt(),i=Ed(),s=Nn(),o=kd(),a=kt(),l=tr(),c=nn(),u=Xo(),h=Es(),d=bR(),f=Zi(),m=ig(),g=dg(),v=hg(),y=Sx(),b=nQ(),w=kx(),S=yx(),_=Ji(),k=kR(),C=mx(),E=fg(),O=CR(),R=Td(),D=_x(),N=ug(),L=vx(),W=jn(),$=Cx(),F=vn(),B=rQ(),j=zc(),H=pg(),V=ll().forEach,K=D("hidden"),X="Symbol",ee="prototype",q=H.set,Y=H.getterFor(X),U=Object[ee],ie=e.Symbol,re=ie&&ie[ee],se=e.RangeError,Q=e.TypeError,J=e.QObject,ue=S.f,me=_.f,Ee=b.f,Pe=C.f,Ce=r([].push),Ne=R("symbols"),Qe=R("op-symbols"),ze=R("wks"),$e=!J||!J[ee]||!J[ee].findChild,Ke=function(ve,ae,xe){var Me=ue(U,ae);Me&&delete U[ae],me(ve,ae,xe),Me&&ve!==U&&me(U,ae,Me)},qe=s&&a(function(){return g(me({},"a",{get:function(){return me(this,"a",{value:7}).a}})).a!==7})?Ke:me,it=function(ve,ae){var xe=Ne[ve]=g(re);return q(xe,{type:X,tag:ve,description:ae}),s||(xe.description=ae),xe},Ie=function(ae,xe,Me){ae===U&&Ie(Qe,xe,Me),u(ae);var be=d(xe);return u(Me),l(Ne,be)?(Me.enumerable?(l(ae,K)&&ae[K][be]&&(ae[K][be]=!1),Me=g(Me,{enumerable:m(0,!1)})):(l(ae,K)||me(ae,K,m(1,g(null))),ae[K][be]=!0),qe(ae,be,Me)):me(ae,be,Me)},oe=function(ae,xe){u(ae);var Me=h(xe),be=v(Me).concat(he(Me));return V(be,function(Oe){(!s||t(te,Me,Oe))&&Ie(ae,Oe,Me[Oe])}),ae},ne=function(ae,xe){return xe===void 0?g(ae):oe(g(ae),xe)},te=function(ae){var xe=d(ae),Me=t(Pe,this,xe);return this===U&&l(Ne,xe)&&!l(Qe,xe)?!1:Me||!l(this,xe)||!l(Ne,xe)||l(this,K)&&this[K][xe]?Me:!0},_e=function(ae,xe){var Me=h(ae),be=d(xe);if(!(Me===U&&l(Ne,be)&&!l(Qe,be))){var Oe=ue(Me,be);return Oe&&l(Ne,be)&&!(l(Me,K)&&Me[K][be])&&(Oe.enumerable=!0),Oe}},Te=function(ae){var xe=Ee(h(ae)),Me=[];return V(xe,function(be){!l(Ne,be)&&!l(N,be)&&Ce(Me,be)}),Me},he=function(ve){var ae=ve===U,xe=Ee(ae?Qe:h(ve)),Me=[];return V(xe,function(be){l(Ne,be)&&(!ae||l(U,be))&&Ce(Me,Ne[be])}),Me};return o||(ie=function(){if(c(re,this))throw new Q("Symbol is not a constructor");var ae=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),xe=L(ae),Me=function(be){var Oe=this===void 0?e:this;Oe===U&&t(Me,Qe,be),l(Oe,K)&&l(Oe[K],xe)&&(Oe[K][xe]=!1);var mt=m(1,be);try{qe(Oe,xe,mt)}catch(rn){if(!(rn instanceof se))throw rn;Ke(Oe,xe,mt)}};return s&&$e&&qe(U,xe,{configurable:!0,set:Me}),it(xe,ae)},re=ie[ee],E(re,"toString",function(){return Y(this).tag}),E(ie,"withoutSetter",function(ve){return it(L(ve),ve)}),C.f=te,_.f=Ie,k.f=oe,S.f=_e,y.f=b.f=Te,w.f=he,$.f=function(ve){return it(W(ve),ve)},s&&(O(re,"description",{configurable:!0,get:function(){return Y(this).description}}),i||E(U,"propertyIsEnumerable",te,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ie}),V(v(ze),function(ve){F(ve)}),n({target:X,stat:!0,forced:!o},{useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:ne,defineProperty:Ie,defineProperties:oe,getOwnPropertyDescriptor:_e}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Te}),B(),j(ie,X),N[K]=!0,b6}var Y6={},PS,G6;function iQ(){if(G6)return PS;G6=1;var n=kd();return PS=n&&!!Symbol.for&&!!Symbol.keyFor,PS}var V6;function tCe(){if(V6)return Y6;V6=1;var n=Ve(),e=Ei(),t=tr(),r=Zi(),i=Td(),s=iQ(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=r(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),Y6}var K6={},X6;function nCe(){if(X6)return K6;X6=1;var n=Ve(),e=tr(),t=ag(),r=Cd(),i=Td(),s=iQ(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),K6}var Q6={},IS,J6;function rCe(){if(J6)return IS;J6=1;var n=Mt(),e=ol(),t=er(),r=so(),i=Zi(),s=n([].push);return IS=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||r(u)==="Number"||r(u)==="String")&&s(l,i(u))}var h=l.length,d=!0;return function(f,m){if(d)return d=!1,m;if(e(this))return m;for(var g=0;g<h;g++)if(l[g]===f)return m}}},IS}var Z6;function sQ(){if(Z6)return Q6;Z6=1;var n=Ve(),e=Ei(),t=px(),r=si(),i=Mt(),s=kt(),o=er(),a=ag(),l=Id(),c=rCe(),u=kd(),h=String,d=e("JSON","stringify"),f=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),v=i("".replace),y=i(1.1.toString),b=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,_=!u||s(function(){var O=e("Symbol")("stringify detection");return d([O])!=="[null]"||d({a:O})!=="{}"||d(Object(O))!=="{}"}),k=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),C=function(O,R){var D=l(arguments),N=c(R);if(!(!o(N)&&(O===void 0||a(O))))return D[1]=function(L,W){if(o(N)&&(W=r(N,this,h(L),W)),!a(W))return W},t(d,null,D)},E=function(O,R,D){var N=m(D,R-1),L=m(D,R+1);return f(w,O)&&!f(S,L)||f(S,O)&&!f(w,N)?"\\u"+y(g(O,0),16):O};return d&&n({target:"JSON",stat:!0,arity:3,forced:_||k},{stringify:function(R,D,N){var L=l(arguments),W=t(_?C:d,null,L);return k&&typeof W=="string"?v(W,b,E):W}}),Q6}var eF={},tF;function iCe(){if(tF)return eF;tF=1;var n=Ve(),e=kd(),t=kt(),r=kx(),i=oi(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),eF}var nF;function oQ(){return nF||(nF=1,eCe(),tCe(),nCe(),sQ(),iCe()),y6}var rF={},iF;function aQ(){if(iF)return rF;iF=1;var n=vn();return n("asyncDispose"),rF}var sF={},oF;function sCe(){if(oF)return sF;oF=1;var n=vn();return n("asyncIterator"),sF}var aF={},lF;function lQ(){if(lF)return aF;lF=1;var n=vn();return n("dispose"),aF}var cF={},uF;function oCe(){if(uF)return cF;uF=1;var n=vn();return n("hasInstance"),cF}var hF={},dF;function aCe(){if(dF)return hF;dF=1;var n=vn();return n("isConcatSpreadable"),hF}var fF={},pF;function cQ(){if(pF)return fF;pF=1;var n=vn();return n("iterator"),fF}var mF={},gF;function lCe(){if(gF)return mF;gF=1;var n=vn();return n("match"),mF}var vF={},yF;function cCe(){if(yF)return vF;yF=1;var n=vn();return n("matchAll"),vF}var bF={},xF;function uCe(){if(xF)return bF;xF=1;var n=vn();return n("replace"),bF}var wF={},_F;function hCe(){if(_F)return wF;_F=1;var n=vn();return n("search"),wF}var SF={},kF;function dCe(){if(kF)return SF;kF=1;var n=vn();return n("species"),SF}var CF={},EF;function fCe(){if(EF)return CF;EF=1;var n=vn();return n("split"),CF}var TF={},MF;function uQ(){if(MF)return TF;MF=1;var n=vn(),e=rQ();return n("toPrimitive"),e(),TF}var PF={},IF;function pCe(){if(IF)return PF;IF=1;var n=Ei(),e=vn(),t=zc();return e("toStringTag"),t(n("Symbol"),"Symbol"),PF}var OF={},RF;function mCe(){if(RF)return OF;RF=1;var n=vn();return n("unscopables"),OF}var DF={},AF;function gCe(){if(AF)return DF;AF=1;var n=Sn(),e=zc();return e(n.JSON,"JSON",!0),DF}var OS,NF;function vCe(){if(NF)return OS;NF=1,eQ(),oQ(),aQ(),sCe(),lQ(),oCe(),aCe(),cQ(),lCe(),cCe(),uCe(),hCe(),dCe(),fCe(),uQ(),pCe(),mCe(),gCe();var n=Qt();return OS=n.Symbol,OS}var LF={},RS,FF;function mg(){return FF||(FF=1,RS=function(){}),RS}var DS,$F;function Od(){return $F||($F=1,DS={}),DS}var AS,jF;function yCe(){if(jF)return AS;jF=1;var n=Nn(),e=tr(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return AS={EXISTS:i,PROPER:s,CONFIGURABLE:o},AS}var NS,BF;function hQ(){if(BF)return NS;BF=1;var n=kt();return NS=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),NS}var LS,zF;function Ex(){if(zF)return LS;zF=1;var n=tr(),e=er(),t=oi(),r=_x(),i=hQ(),s=r("IE_PROTO"),o=Object,a=o.prototype;return LS=i?o.getPrototypeOf:function(l){var c=t(l);if(n(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},LS}var FS,qF;function dQ(){if(qF)return FS;qF=1;var n=kt(),e=er(),t=xr(),r=dg(),i=Ex(),s=fg(),o=jn(),a=Ed(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=i(i(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||n(function(){var m={};return u[l].call(m)!==m});return f?u={}:a&&(u=r(u)),e(u[l])||s(u,l,function(){return this}),FS={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},FS}var $S,UF;function bCe(){if(UF)return $S;UF=1;var n=dQ().IteratorPrototype,e=dg(),t=ig(),r=zc(),i=Od(),s=function(){return this};return $S=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(n,{next:t(+!c,l)}),r(o,u,!1,!0),i[u]=s,o},$S}var jS,HF;function xCe(){if(HF)return jS;HF=1;var n=Mt(),e=oo();return jS=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},jS}var BS,WF;function wCe(){if(WF)return BS;WF=1;var n=xr();return BS=function(e){return n(e)||e===null},BS}var zS,YF;function _Ce(){if(YF)return zS;YF=1;var n=wCe(),e=String,t=TypeError;return zS=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},zS}var qS,GF;function SCe(){if(GF)return qS;GF=1;var n=xCe(),e=xr(),t=Ko(),r=_Ce();return qS=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,c){return t(l),r(c),e(l)&&(i?o(l,c):l.__proto__=c),l}}():void 0),qS}var US,VF;function ER(){if(VF)return US;VF=1;var n=Ve(),e=si(),t=Ed(),r=yCe(),i=er(),s=bCe(),o=Ex(),a=SCe(),l=zc(),c=Md(),u=fg(),h=jn(),d=Od(),f=dQ(),m=r.PROPER,g=r.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,b=h("iterator"),w="keys",S="values",_="entries",k=function(){return this};return US=function(C,E,O,R,D,N,L){s(O,E,R);var W=function(q){if(q===D&&H)return H;if(!y&&q&&q in B)return B[q];switch(q){case w:return function(){return new O(this,q)};case S:return function(){return new O(this,q)};case _:return function(){return new O(this,q)}}return function(){return new O(this)}},$=E+" Iterator",F=!1,B=C.prototype,j=B[b]||B["@@iterator"]||D&&B[D],H=!y&&j||W(D),V=E==="Array"&&B.entries||j,K,X,ee;if(V&&(K=o(V.call(new C)),K!==Object.prototype&&K.next&&(!t&&o(K)!==v&&(a?a(K,v):i(K[b])||u(K,b,k)),l(K,$,!0,!0),t&&(d[$]=k))),m&&D===S&&j&&j.name!==S&&(!t&&g?c(B,"name",S):(F=!0,H=function(){return e(j,this)})),D)if(X={values:W(S),keys:N?H:W(w),entries:W(_)},L)for(ee in X)(y||F||!(ee in B))&&u(B,ee,X[ee]);else n({target:E,proto:!0,forced:y||F},X);return(!t||L)&&B[b]!==H&&u(B,b,H,{name:D}),d[E]=H,X},US}var HS,KF;function TR(){return KF||(KF=1,HS=function(n,e){return{value:n,done:e}}),HS}var WS,XF;function cl(){if(XF)return WS;XF=1;var n=Es(),e=mg(),t=Od(),r=pg(),i=Ji().f,s=ER(),o=TR(),a=Ed(),l=Nn(),c="Array Iterator",u=r.set,h=r.getterFor(c);WS=s(Array,"Array",function(f,m){u(this,{type:c,target:n(f),index:0,kind:m})},function(){var f=h(this),m=f.target,g=f.index++;if(!m||g>=m.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{i(d,"name",{value:"values"})}catch{}return WS}var YS,QF;function kCe(){return QF||(QF=1,YS={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),YS}var JF;function ul(){if(JF)return LF;JF=1,cl();var n=kCe(),e=Sn(),t=zc(),r=Od();for(var i in n)t(e[i],i),r[i]=r.Array;return LF}var GS,ZF;function fQ(){if(ZF)return GS;ZF=1;var n=vCe();return ul(),GS=n,GS}var VS,e9;function CCe(){return e9||(e9=1,VS=fQ()),VS}var ECe=CCe(),TCe=Ze(ECe),t9={},n9;function MCe(){if(n9)return t9;n9=1;var n=Ve(),e=ol(),t=ZX(),r=xr(),i=wx(),s=Ts(),o=Es(),a=bx(),l=jn(),c=cg(),u=Id(),h=c("slice"),d=l("species"),f=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(v,y){var b=o(this),w=s(b),S=i(v,w),_=i(y===void 0?w:y,w),k,C,E;if(e(b)&&(k=b.constructor,t(k)&&(k===f||e(k.prototype))?k=void 0:r(k)&&(k=k[d],k===null&&(k=void 0)),k===f||k===void 0))return u(b,S,_);for(C=new(k===void 0?f:k)(m(_-S,0)),E=0;S<_;S++,E++)S in b&&a(C,E,b[S]);return C.length=E,C}}),t9}var KS,r9;function kn(){if(r9)return KS;r9=1;var n=Sn(),e=Qt();return KS=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},KS}var XS,i9;function PCe(){if(i9)return XS;i9=1,MCe();var n=kn();return XS=n("Array","slice"),XS}var QS,s9;function ICe(){if(s9)return QS;s9=1;var n=nn(),e=PCe(),t=Array.prototype;return QS=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},QS}var JS,o9;function OCe(){if(o9)return JS;o9=1;var n=ICe();return JS=n,JS}var ZS,a9;function RCe(){return a9||(a9=1,ZS=OCe()),ZS}var DCe=RCe(),Rd=Ze(DCe),l9={},ek,c9;function pQ(){if(c9)return ek;c9=1;var n=Ei(),e=Mt(),t=Sx(),r=kx(),i=Xo(),s=e([].concat);return ek=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),c=r.f;return c?s(l,c(a)):l},ek}var u9;function ACe(){if(u9)return l9;u9=1;var n=Ve(),e=pQ();return n({target:"Reflect",stat:!0},{ownKeys:e}),l9}var tk,h9;function NCe(){if(h9)return tk;h9=1,ACe();var n=Qt();return tk=n.Reflect.ownKeys,tk}var nk,d9;function LCe(){if(d9)return nk;d9=1;var n=NCe();return nk=n,nk}var rk,f9;function FCe(){return f9||(f9=1,rk=LCe()),rk}var $Ce=FCe(),jCe=Ze($Ce),p9={},m9;function BCe(){if(m9)return p9;m9=1;var n=Ve(),e=ol();return n({target:"Array",stat:!0},{isArray:e}),p9}var ik,g9;function zCe(){if(g9)return ik;g9=1,BCe();var n=Qt();return ik=n.Array.isArray,ik}var sk,v9;function qCe(){if(v9)return sk;v9=1;var n=zCe();return sk=n,sk}var ok,y9;function UCe(){return y9||(y9=1,ok=qCe()),ok}var HCe=UCe(),St=Ze(HCe),b9={},x9;function WCe(){if(x9)return b9;x9=1;var n=Ve(),e=ll().map,t=cg(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),b9}var ak,w9;function YCe(){if(w9)return ak;w9=1,WCe();var n=kn();return ak=n("Array","map"),ak}var lk,_9;function GCe(){if(_9)return lk;_9=1;var n=nn(),e=YCe(),t=Array.prototype;return lk=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},lk}var ck,S9;function VCe(){if(S9)return ck;S9=1;var n=GCe();return ck=n,ck}var uk,k9;function KCe(){return k9||(k9=1,uk=VCe()),uk}var XCe=KCe(),Lt=Ze(XCe),C9={},E9;function QCe(){if(E9)return C9;E9=1;var n=Ve(),e=oi(),t=hg(),r=kt(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),C9}var hk,T9;function JCe(){if(T9)return hk;T9=1,QCe();var n=Qt();return hk=n.Object.keys,hk}var dk,M9;function ZCe(){if(M9)return dk;M9=1;var n=JCe();return dk=n,dk}var fk,P9;function e2e(){return P9||(P9=1,fk=ZCe()),fk}var t2e=e2e(),Un=Ze(t2e),I9={},O9;function n2e(){if(O9)return I9;O9=1;var n=Ve(),e=Mt(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),I9}var pk,R9;function r2e(){if(R9)return pk;R9=1,n2e();var n=Qt();return pk=n.Date.now,pk}var mk,D9;function i2e(){if(D9)return mk;D9=1;var n=r2e();return mk=n,mk}var gk,A9;function s2e(){return A9||(A9=1,gk=i2e()),gk}var o2e=s2e(),hi=Ze(o2e),N9={},vk,L9;function a2e(){if(L9)return vk;L9=1;var n=Mt(),e=oo(),t=xr(),r=tr(),i=Id(),s=rg(),o=Function,a=n([].concat),l=n([].join),c={},u=function(h,d,f){if(!r(c,d)){for(var m=[],g=0;g<d;g++)m[g]="a["+g+"]";c[d]=o("C,a","return new C("+l(m,",")+")")}return c[d](h,f)};return vk=s?o.bind:function(d){var f=e(this),m=f.prototype,g=i(arguments,1),v=function(){var b=a(g,i(arguments));return this instanceof v?u(f,b.length,b):f.apply(d,b)};return t(m)&&(v.prototype=m),v},vk}var F9;function l2e(){if(F9)return N9;F9=1;var n=Ve(),e=a2e();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),N9}var yk,$9;function c2e(){if($9)return yk;$9=1,l2e();var n=kn();return yk=n("Function","bind"),yk}var bk,j9;function u2e(){if(j9)return bk;j9=1;var n=nn(),e=c2e(),t=Function.prototype;return bk=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},bk}var xk,B9;function h2e(){if(B9)return xk;B9=1;var n=u2e();return xk=n,xk}var wk,z9;function d2e(){return z9||(z9=1,wk=h2e()),wk}var f2e=d2e(),fe=Ze(f2e),q9={},_k,U9;function Dd(){if(U9)return _k;U9=1;var n=kt();return _k=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},_k}var Sk,H9;function p2e(){if(H9)return Sk;H9=1;var n=ll().forEach,e=Dd(),t=e("forEach");return Sk=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Sk}var W9;function m2e(){if(W9)return q9;W9=1;var n=Ve(),e=p2e();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),q9}var kk,Y9;function g2e(){if(Y9)return kk;Y9=1,m2e();var n=kn();return kk=n("Array","forEach"),kk}var Ck,G9;function v2e(){if(G9)return Ck;G9=1;var n=g2e();return Ck=n,Ck}var Ek,V9;function y2e(){if(V9)return Ek;V9=1;var n=al(),e=tr(),t=nn(),r=v2e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ek=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Ek}var Tk,K9;function b2e(){return K9||(K9=1,Tk=y2e()),Tk}var x2e=b2e(),Le=Ze(x2e),X9={},Q9;function w2e(){if(Q9)return X9;Q9=1;var n=Ve(),e=Mt(),t=ol(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),X9}var Mk,J9;function _2e(){if(J9)return Mk;J9=1,w2e();var n=kn();return Mk=n("Array","reverse"),Mk}var Pk,Z9;function S2e(){if(Z9)return Pk;Z9=1;var n=nn(),e=_2e(),t=Array.prototype;return Pk=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Pk}var Ik,e7;function k2e(){if(e7)return Ik;e7=1;var n=S2e();return Ik=n,Ik}var Ok,t7;function C2e(){return t7||(t7=1,Ok=k2e()),Ok}var E2e=C2e(),T2e=Ze(E2e),n7={},Rk,r7;function M2e(){if(r7)return Rk;r7=1;var n=Nn(),e=ol(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Rk=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Rk}var Dk,i7;function mQ(){if(i7)return Dk;i7=1;var n=Cd(),e=TypeError;return Dk=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Dk}var s7;function P2e(){if(s7)return n7;s7=1;var n=Ve(),e=oi(),t=wx(),r=Pd(),i=Ts(),s=M2e(),o=xR(),a=xx(),l=bx(),c=mQ(),u=cg(),h=u("splice"),d=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(g,v){var y=e(this),b=i(y),w=t(g,b),S=arguments.length,_,k,C,E,O,R;for(S===0?_=k=0:S===1?(_=0,k=b-w):(_=S-2,k=f(d(r(v),0),b-w)),o(b+_-k),C=a(y,k),E=0;E<k;E++)O=w+E,O in y&&l(C,E,y[O]);if(C.length=k,_<k){for(E=w;E<b-k;E++)O=E+k,R=E+_,O in y?y[R]=y[O]:c(y,R);for(E=b;E>b-k+_;E--)c(y,E-1)}else if(_>k)for(E=b-k;E>w;E--)O=E+k-1,R=E+_-1,O in y?y[R]=y[O]:c(y,R);for(E=0;E<_;E++)y[E+w]=arguments[E+2];return s(y,b-k+_),C}}),n7}var Ak,o7;function I2e(){if(o7)return Ak;o7=1,P2e();var n=kn();return Ak=n("Array","splice"),Ak}var Nk,a7;function O2e(){if(a7)return Nk;a7=1;var n=nn(),e=I2e(),t=Array.prototype;return Nk=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Nk}var Lk,l7;function R2e(){if(l7)return Lk;l7=1;var n=O2e();return Lk=n,Lk}var Fk,c7;function D2e(){return c7||(c7=1,Fk=R2e()),Fk}var A2e=D2e(),Or=Ze(A2e),u7={},$k,h7;function N2e(){if(h7)return $k;h7=1;var n=Nn(),e=Mt(),t=si(),r=kt(),i=hg(),s=kx(),o=mx(),a=oi(),l=gx(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return $k=!c||r(function(){if(n&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return d[m]=7,g.split("").forEach(function(v){f[v]=v}),c({},d)[m]!==7||i(c({},f)).join("")!==g})?function(f,m){for(var g=a(f),v=arguments.length,y=1,b=s.f,w=o.f;v>y;)for(var S=l(arguments[y++]),_=b?h(i(S),b(S)):i(S),k=_.length,C=0,E;k>C;)E=_[C++],(!n||t(w,S,E))&&(g[E]=S[E]);return g}:c,$k}var d7;function L2e(){if(d7)return u7;d7=1;var n=Ve(),e=N2e();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),u7}var jk,f7;function F2e(){if(f7)return jk;f7=1,L2e();var n=Qt();return jk=n.Object.assign,jk}var Bk,p7;function $2e(){if(p7)return Bk;p7=1;var n=F2e();return Bk=n,Bk}var zk,m7;function j2e(){return m7||(m7=1,zk=$2e()),zk}var B2e=j2e(),nl=Ze(B2e),g7={},v7;function z2e(){if(v7)return g7;v7=1;var n=Ve(),e=_R().includes,t=kt(),r=mg(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),g7}var qk,y7;function q2e(){if(y7)return qk;y7=1,z2e();var n=kn();return qk=n("Array","includes"),qk}var b7={},Uk,x7;function U2e(){if(x7)return Uk;x7=1;var n=xr(),e=so(),t=jn(),r=t("match");return Uk=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Uk}var Hk,w7;function H2e(){if(w7)return Hk;w7=1;var n=U2e(),e=TypeError;return Hk=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Hk}var Wk,_7;function W2e(){if(_7)return Wk;_7=1;var n=jn(),e=n("match");return Wk=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Wk}var S7;function Y2e(){if(S7)return b7;S7=1;var n=Ve(),e=Mt(),t=H2e(),r=Ko(),i=Zi(),s=W2e(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(r(this)),i(t(l)),arguments.length>1?arguments[1]:void 0)}}),b7}var Yk,k7;function G2e(){if(k7)return Yk;k7=1,Y2e();var n=kn();return Yk=n("String","includes"),Yk}var Gk,C7;function V2e(){if(C7)return Gk;C7=1;var n=nn(),e=q2e(),t=G2e(),r=Array.prototype,i=String.prototype;return Gk=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},Gk}var Vk,E7;function K2e(){if(E7)return Vk;E7=1;var n=V2e();return Vk=n,Vk}var Kk,T7;function X2e(){return T7||(T7=1,Kk=K2e()),Kk}var Q2e=X2e(),ed=Ze(Q2e),M7={},P7;function J2e(){if(P7)return M7;P7=1;var n=Ve(),e=kt(),t=oi(),r=Ex(),i=hQ(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),M7}var Xk,I7;function Z2e(){if(I7)return Xk;I7=1,J2e();var n=Qt();return Xk=n.Object.getPrototypeOf,Xk}var Qk,O7;function eEe(){if(O7)return Qk;O7=1;var n=Z2e();return Qk=n,Qk}var Jk,R7;function tEe(){return R7||(R7=1,Jk=eEe()),Jk}var nEe=tEe(),D7=Ze(nEe),Zk,A7;function rEe(){if(A7)return Zk;A7=1,eQ();var n=kn();return Zk=n("Array","concat"),Zk}var eC,N7;function iEe(){if(N7)return eC;N7=1;var n=nn(),e=rEe(),t=Array.prototype;return eC=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},eC}var tC,L7;function sEe(){if(L7)return tC;L7=1;var n=iEe();return tC=n,tC}var nC,F7;function oEe(){return F7||(F7=1,nC=sEe()),nC}var aEe=oEe(),Mn=Ze(aEe),$7={},j7;function lEe(){if(j7)return $7;j7=1;var n=Ve(),e=ll().filter,t=cg(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$7}var rC,B7;function cEe(){if(B7)return rC;B7=1,lEe();var n=kn();return rC=n("Array","filter"),rC}var iC,z7;function uEe(){if(z7)return iC;z7=1;var n=nn(),e=cEe(),t=Array.prototype;return iC=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},iC}var sC,q7;function hEe(){if(q7)return sC;q7=1;var n=uEe();return sC=n,sC}var oC,U7;function dEe(){return U7||(U7=1,oC=hEe()),oC}var fEe=dEe(),ht=Ze(fEe),H7={},aC,W7;function gQ(){if(W7)return aC;W7=1;var n=Nn(),e=kt(),t=Mt(),r=Ex(),i=hg(),s=Es(),o=mx().f,a=t(o),l=t([].push),c=n&&e(function(){var h=Object.create(null);return h[2]=2,!a(h,2)}),u=function(h){return function(d){for(var f=s(d),m=i(f),g=c&&r(f)===null,v=m.length,y=0,b=[],w;v>y;)w=m[y++],(!n||(g?w in f:a(f,w)))&&l(b,h?[w,f[w]]:f[w]);return b}};return aC={entries:u(!0),values:u(!1)},aC}var Y7;function pEe(){if(Y7)return H7;Y7=1;var n=Ve(),e=gQ().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),H7}var lC,G7;function mEe(){if(G7)return lC;G7=1,pEe();var n=Qt();return lC=n.Object.values,lC}var cC,V7;function gEe(){if(V7)return cC;V7=1;var n=mEe();return cC=n,cC}var uC,K7;function vEe(){return K7||(K7=1,uC=gEe()),uC}var yEe=vEe(),MR=Ze(yEe),X7={},hC,Q7;function PR(){return Q7||(Q7=1,hC=`	
\v\f\r \u2028\u2029\uFEFF`),hC}var dC,J7;function vQ(){if(J7)return dC;J7=1;var n=Mt(),e=Ko(),t=Zi(),r=PR(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(c){var u=t(e(c));return l&1&&(u=i(u,s,"")),l&2&&(u=i(u,o,"$1")),u}};return dC={start:a(1),end:a(2),trim:a(3)},dC}var fC,Z7;function bEe(){if(Z7)return fC;Z7=1;var n=Sn(),e=kt(),t=Mt(),r=Zi(),i=vQ().trim,s=PR(),o=n.parseInt,a=n.Symbol,l=a&&a.iterator,c=/^[+-]?0x/i,u=t(c.exec),h=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return fC=h?function(f,m){var g=i(r(f));return o(g,m>>>0||(u(c,g)?16:10))}:o,fC}var e$;function xEe(){if(e$)return X7;e$=1;var n=Ve(),e=bEe();return n({global:!0,forced:parseInt!==e},{parseInt:e}),X7}var pC,t$;function wEe(){if(t$)return pC;t$=1,xEe();var n=Qt();return pC=n.parseInt,pC}var mC,n$;function _Ee(){if(n$)return mC;n$=1;var n=wEe();return mC=n,mC}var gC,r$;function SEe(){return r$||(r$=1,gC=_Ee()),gC}var kEe=SEe(),di=Ze(kEe),i$={},s$;function CEe(){if(s$)return i$;s$=1;var n=Ve(),e=gR(),t=_R().indexOf,r=Dd(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:t(this,l,c)}}),i$}var vC,o$;function EEe(){if(o$)return vC;o$=1,CEe();var n=kn();return vC=n("Array","indexOf"),vC}var yC,a$;function TEe(){if(a$)return yC;a$=1;var n=nn(),e=EEe(),t=Array.prototype;return yC=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},yC}var bC,l$;function MEe(){if(l$)return bC;l$=1;var n=TEe();return bC=n,bC}var xC,c$;function PEe(){return c$||(c$=1,xC=MEe()),xC}var IEe=PEe(),Ut=Ze(IEe),u$={},h$;function OEe(){if(h$)return u$;h$=1;var n=Ve(),e=gQ().entries;return n({target:"Object",stat:!0},{entries:function(r){return e(r)}}),u$}var wC,d$;function REe(){if(d$)return wC;d$=1,OEe();var n=Qt();return wC=n.Object.entries,wC}var _C,f$;function DEe(){if(f$)return _C;f$=1;var n=REe();return _C=n,_C}var SC,p$;function AEe(){return p$||(p$=1,SC=DEe()),SC}var NEe=AEe(),LEe=Ze(NEe),m$={},g$;function FEe(){if(g$)return m$;g$=1;var n=Ve(),e=Nn(),t=dg();return n({target:"Object",stat:!0,sham:!e},{create:t}),m$}var kC,v$;function $Ee(){if(v$)return kC;v$=1,FEe();var n=Qt(),e=n.Object;return kC=function(r,i){return e.create(r,i)},kC}var CC,y$;function jEe(){if(y$)return CC;y$=1;var n=$Ee();return CC=n,CC}var EC,b$;function BEe(){return b$||(b$=1,EC=jEe()),EC}var zEe=BEe(),gg=Ze(zEe),x$={},TC,w$;function yQ(){if(w$)return TC;w$=1;var n=Pd(),e=Zi(),t=Ko(),r=RangeError;return TC=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},TC}var MC,_$;function qEe(){if(_$)return MC;_$=1;var n=Mt(),e=JX(),t=Zi(),r=yQ(),i=Ko(),s=n(r),o=n("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(i(u)),m=e(h),g=f.length,v=d===void 0?" ":t(d),y,b;return m<=g||v===""?f:(y=m-g,b=s(v,a(y/v.length)),b.length>y&&(b=o(b,0,y)),c?f+b:b+f)}};return MC={start:l(!1),end:l(!0)},MC}var PC,S$;function UEe(){if(S$)return PC;S$=1;var n=Mt(),e=kt(),t=qEe().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),c=n(o.getUTCDate),u=n(o.getUTCFullYear),h=n(o.getUTCHours),d=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),m=n(o.getUTCMonth),g=n(o.getUTCSeconds);return PC=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var y=this,b=u(y),w=d(y),S=b<0?"-":b>9999?"+":"";return S+t(s(b),S?6:4,0)+"-"+t(m(y)+1,2,0)+"-"+t(c(y),2,0)+"T"+t(h(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(w,3,0)+"Z"}:a,PC}var k$;function HEe(){if(k$)return x$;k$=1;var n=Ve(),e=si(),t=oi(),r=VX(),i=UEe(),s=so(),o=kt(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=r(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(i,u):u.toISOString()}}),x$}var IC,C$;function WEe(){if(C$)return IC;C$=1,HEe(),sQ();var n=Qt(),e=px();return n.JSON||(n.JSON={stringify:JSON.stringify}),IC=function(r,i,s){return e(n.JSON.stringify,null,arguments)},IC}var OC,E$;function YEe(){if(E$)return OC;E$=1;var n=WEe();return OC=n,OC}var RC,T$;function GEe(){return T$||(T$=1,RC=YEe()),RC}var VEe=GEe(),Ur=Ze(VEe),M$={},P$={},DC,I$;function bQ(){if(I$)return DC;I$=1;var n=Sn(),e=Sd(),t=so(),r=function(i){return e.slice(0,i.length)===i};return DC=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),DC}var AC,O$;function KEe(){if(O$)return AC;O$=1;var n=TypeError;return AC=function(e,t){if(e<t)throw new n("Not enough arguments");return e},AC}var NC,R$;function xQ(){if(R$)return NC;R$=1;var n=Sn(),e=px(),t=er(),r=bQ(),i=Sd(),s=Id(),o=KEe(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&function(){var c=n.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return NC=function(c,u){var h=u?2:1;return l?function(d,f){var m=o(arguments.length,1)>h,g=t(d)?d:a(d),v=m?s(arguments,h):[],y=m?function(){e(g,this,v)}:g;return u?c(y,f):c(y)}:c},NC}var D$;function XEe(){if(D$)return P$;D$=1;var n=Ve(),e=Sn(),t=xQ(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),P$}var A$={},N$;function QEe(){if(N$)return A$;N$=1;var n=Ve(),e=Sn(),t=xQ(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),A$}var L$;function wQ(){return L$||(L$=1,XEe(),QEe()),M$}var LC,F$;function JEe(){if(F$)return LC;F$=1,wQ();var n=Qt();return LC=n.setTimeout,LC}var FC,$$;function ZEe(){return $$||($$=1,FC=JEe()),FC}var eTe=ZEe(),Jr=Ze(eTe),j$={},$C,B$;function tTe(){if(B$)return $C;B$=1;var n=oi(),e=wx(),t=Ts();return $C=function(i){for(var s=n(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=c===void 0?o:e(c,o);u>l;)s[l++]=i;return s},$C}var z$;function nTe(){if(z$)return j$;z$=1;var n=Ve(),e=tTe(),t=mg();return n({target:"Array",proto:!0},{fill:e}),t("fill"),j$}var jC,q$;function rTe(){if(q$)return jC;q$=1,nTe();var n=kn();return jC=n("Array","fill"),jC}var BC,U$;function iTe(){if(U$)return BC;U$=1;var n=nn(),e=rTe(),t=Array.prototype;return BC=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},BC}var zC,H$;function sTe(){if(H$)return zC;H$=1;var n=iTe();return zC=n,zC}var qC,W$;function oTe(){return W$||(W$=1,qC=sTe()),qC}var aTe=oTe(),_Q=Ze(aTe),UC={exports:{}},Y$;function lTe(){return Y$||(Y$=1,function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(UC)),UC.exports}var cTe=lTe(),IR=Ze(cTe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ws(){return ws=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ws.apply(this,arguments)}function es(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function X0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var NP;typeof Object.assign!="function"?NP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:NP=Object.assign;var Cc=NP,G$=["","webkit","Moz","MS","ms","o"],uTe=typeof document>"u"?{style:{}}:document.createElement("div"),hTe="function",Nu=Math.round,Ec=Math.abs,OR=Date.now;function Tx(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<G$.length;){if(t=G$[s],r=t?t+i:e,r in n)return r;s++}}var jo;typeof window>"u"?jo={}:jo=window;var SQ=Tx(uTe.style,"touchAction"),kQ=SQ!==void 0;function dTe(){if(!kQ)return!1;var n={},e=jo.CSS&&jo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?jo.CSS.supports("touch-action",t):!0}),n}var CQ="compute",EQ="auto",LP="manipulation",ac="none",bm="pan-x",xm="pan-y",Q0=dTe(),fTe=/mobile|tablet|ip(ad|hone|od)|android/i,TQ="ontouchstart"in jo,pTe=Tx(jo,"PointerEvent")!==void 0,mTe=TQ&&fTe.test(navigator.userAgent),vg="touch",gTe="pen",RR="mouse",vTe="kinect",yTe=25,Nr=1,qc=2,$n=4,ni=8,Uy=1,yg=2,bg=4,xg=8,td=16,Zs=yg|bg,lc=xg|td,MQ=Zs|lc,PQ=["x","y"],Hy=["clientX","clientY"];function Bo(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Mx(n,e){return typeof n===hTe?n.apply(e&&e[0]||void 0,e):n}function zl(n,e){return n.indexOf(e)>-1}function bTe(n){if(zl(n,ac))return ac;var e=zl(n,bm),t=zl(n,xm);return e&&t?ac:e||t?e?bm:xm:zl(n,LP)?LP:EQ}var IQ=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===CQ&&(r=this.compute()),kQ&&this.manager.element.style&&Q0[r]&&(this.manager.element.style[SQ]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Bo(this.manager.recognizers,function(i){Mx(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),bTe(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=zl(o,ac)&&!Q0[ac],l=zl(o,xm)&&!Q0[xm],c=zl(o,bm)&&!Q0[bm];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&Zs||c&&s&lc))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function DR(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function OQ(n){var e=n.length;if(e===1)return{x:Nu(n[0].clientX),y:Nu(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Nu(t/e),y:Nu(r/e)}}function V$(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Nu(n.pointers[t].clientX),clientY:Nu(n.pointers[t].clientY)},t++;return{timeStamp:OR(),pointers:e,center:OQ(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Wy(n,e,t){t||(t=PQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function FP(n,e,t){t||(t=PQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function RQ(n,e){return n===e?Uy:Ec(n)>=Ec(e)?n<0?yg:bg:e<0?xg:td}function xTe(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Nr||s.eventType===$n)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function DQ(n,e,t){return{x:e/n||0,y:t/n||0}}function wTe(n,e){return Wy(e[0],e[1],Hy)/Wy(n[0],n[1],Hy)}function _Te(n,e){return FP(e[1],e[0],Hy)+FP(n[1],n[0],Hy)}function STe(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==ni&&(r>yTe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=DQ(r,l,c);s=u.x,o=u.y,i=Ec(u.x)>Ec(u.y)?u.x:u.y,a=RQ(l,c),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function kTe(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=V$(e)),i>1&&!t.firstMultiple?t.firstMultiple=V$(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=OQ(r);e.timeStamp=OR(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=FP(a,l),e.distance=Wy(a,l),xTe(t,e),e.offsetDirection=RQ(e.deltaX,e.deltaY);var c=DQ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ec(c.x)>Ec(c.y)?c.x:c.y,e.scale=o?wTe(o.pointers,r):1,e.rotation=o?_Te(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,STe(t,e);var u=n.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,DR(d,u)&&(u=d),e.target=u}function CTe(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Nr&&r-i===0,o=e&($n|ni)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,kTe(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function wm(n){return n.trim().split(/\s+/g)}function hp(n,e,t){Bo(wm(e),function(r){n.addEventListener(r,t,!1)})}function dp(n,e,t){Bo(wm(e),function(r){n.removeEventListener(r,t,!1)})}function K$(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Ad=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Mx(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&hp(this.element,this.evEl,this.domHandler),this.evTarget&&hp(this.target,this.evTarget,this.domHandler),this.evWin&&hp(K$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&dp(this.element,this.evEl,this.domHandler),this.evTarget&&dp(this.target,this.evTarget,this.domHandler),this.evWin&&dp(K$(this.element),this.evWin,this.domHandler)},n}();function Tc(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var ETe={pointerdown:Nr,pointermove:qc,pointerup:$n,pointercancel:ni,pointerout:ni},TTe={2:vg,3:gTe,4:RR,5:vTe},AQ="pointerdown",NQ="pointermove pointerup pointercancel";jo.MSPointerEvent&&!jo.PointerEvent&&(AQ="MSPointerDown",NQ="MSPointerMove MSPointerUp MSPointerCancel");var LQ=function(n){es(e,n);function e(){var r,i=e.prototype;return i.evEl=AQ,i.evWin=NQ,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=ETe[a],c=TTe[i.pointerType]||i.pointerType,u=c===vg,h=Tc(s,i.pointerId,"pointerId");l&Nr&&(i.button===0||u)?h<0&&(s.push(i),h=s.length-1):l&($n|ni)&&(o=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),o&&s.splice(h,1))},e}(Ad);function _m(n){return Array.prototype.slice.call(n,0)}function AR(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Tc(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var MTe={touchstart:Nr,touchmove:qc,touchend:$n,touchcancel:ni},PTe="touchstart touchmove touchend touchcancel",NR=function(n){es(e,n);function e(){var r;return e.prototype.evTarget=PTe,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=MTe[i.type],o=ITe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:vg,srcEvent:i})},e}(Ad);function ITe(n,e){var t=_m(n.touches),r=this.targetIds;if(e&(Nr|qc)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=_m(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return DR(c.target,l)}),e===Nr)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&($n|ni)&&delete r[o[i].identifier],i++;if(a.length)return[AR(s.concat(a),"identifier",!0),a]}var OTe={mousedown:Nr,mousemove:qc,mouseup:$n},RTe="mousedown",DTe="mousemove mouseup",LR=function(n){es(e,n);function e(){var r,i=e.prototype;return i.evEl=RTe,i.evWin=DTe,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=OTe[i.type];s&Nr&&i.button===0&&(this.pressed=!0),s&qc&&i.which!==1&&(s=$n),this.pressed&&(s&$n&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:RR,srcEvent:i}))},e}(Ad),ATe=2500,X$=25;function Q$(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,ATe)}}function NTe(n,e){n&Nr?(this.primaryTouch=e.changedPointers[0].identifier,Q$.call(this,e)):n&($n|ni)&&Q$.call(this,e)}function LTe(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=X$&&o<=X$)return!0}return!1}var FQ=function(){var n=function(e){es(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,c){var u=c.pointerType===vg,h=c.pointerType===RR;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)NTe.call(X0(X0(o)),l,c);else if(h&&LTe.call(X0(X0(o)),c))return;o.callback(a,l,c)}},o.touch=new NR(o.manager,o.handler),o.mouse=new LR(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Ad);return n}();function FTe(n){var e,t=n.options.inputClass;return t?e=t:pTe?e=LQ:mTe?e=NR:TQ?e=FQ:e=LR,new e(n,CTe)}function Lu(n,e,t){return Array.isArray(n)?(Bo(n,t[e],t),!0):!1}var Nv=1,Gi=2,nd=4,Xa=8,zo=Xa,Sm=16,Ys=32,$Te=1;function jTe(){return $Te++}function J0(n,e){var t=e.manager;return t?t.get(n):n}function J$(n){return n&Sm?"cancel":n&Xa?"end":n&nd?"move":n&Gi?"start":""}var wg=function(){function n(t){t===void 0&&(t={}),this.options=ws({enable:!0},t),this.id=jTe(),this.manager=null,this.state=Nv,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Cc(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Lu(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=J0(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Lu(r,"dropRecognizeWith",this)?this:(r=J0(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Lu(r,"requireFailure",this))return this;var i=this.requireFail;return r=J0(r,this),Tc(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Lu(r,"dropRequireFailure",this))return this;r=J0(r,this);var i=Tc(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Xa&&o(i.options.event+J$(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Xa&&o(i.options.event+J$(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Ys},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Ys|Nv)))return!1;r++}return!0},e.recognize=function(r){var i=Cc({},r);if(!Mx(this.options.enable,[this,i])){this.reset(),this.state=Ys;return}this.state&(zo|Sm|Ys)&&(this.state=Nv),this.state=this.process(i),this.state&(Gi|nd|Xa|Sm)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n}(),$P=function(n){es(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ws({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[LP]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime<o.time;if(this.reset(),i.eventType&Nr&&this.count===0)return this.failTimeout();if(l&&c&&a){if(i.eventType!==$n)return this.failTimeout();var u=this.pTime?i.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Wy(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!u?this.count=1:this.count+=1,this._input=i;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=zo,s.tryEmit()},o.interval),Gi):zo}return Ys},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ys},this.options.interval),Ys},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===zo&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(wg),rd=function(n){es(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ws({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Gi|nd),l=this.attrTest(i);return a&&(o&ni||!l)?s|Sm:a||l?o&$n?s|Xa:s&Gi?s|nd:Gi:Ys},e}(wg);function $Q(n){return n===td?"down":n===xg?"up":n===yg?"left":n===bg?"right":""}var FR=function(n){es(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ws({event:"pan",threshold:10,pointers:1,direction:MQ},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&Zs&&s.push(xm),i&lc&&s.push(bm),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,c=i.deltaX,u=i.deltaY;return l&s.direction||(s.direction&Zs?(l=c===0?Uy:c<0?yg:bg,o=c!==this.pX,a=Math.abs(i.deltaX)):(l=u===0?Uy:u<0?xg:td,o=u!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return rd.prototype.attrTest.call(this,i)&&(this.state&Gi||!(this.state&Gi)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=$Q(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e}(rd),jQ=function(n){es(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ws({event:"swipe",threshold:10,velocity:.3,direction:Zs|lc,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return FR.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(Zs|lc)?o=i.overallVelocity:s&Zs?o=i.overallVelocityX:s&lc&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ec(o)>this.options.velocity&&i.eventType&$n},t.emit=function(i){var s=$Q(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(rd),BQ=function(n){es(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ws({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ac]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Gi)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e}(rd),zQ=function(n){es(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ws({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ac]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Gi)},e}(rd),qQ=function(n){es(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ws({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[EQ]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&($n|ni)&&!c)this.reset();else if(i.eventType&Nr)this.reset(),this._timer=setTimeout(function(){s.state=zo,s.tryEmit()},o.time);else if(i.eventType&$n)return zo;return Ys},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===zo&&(i&&i.eventType&$n?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=OR(),this.manager.emit(this.options.event,this._input)))},e}(wg),UQ={domEvents:!1,touchAction:CQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Z$=[[zQ,{enable:!1}],[BQ,{enable:!1},["rotate"]],[jQ,{direction:Zs}],[FR,{direction:Zs},["swipe"]],[$P],[$P,{event:"doubletap",taps:2},["tap"]],[qQ]],BTe=1,ej=2;function tj(n,e){var t=n.element;if(t.style){var r;Bo(n.options.cssProps,function(i,s){r=Tx(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function zTe(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var nj=function(){function n(t,r){var i=this;this.options=Cc({},UQ,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=FTe(this),this.touchAction=new IQ(this,this.options.touchAction),tj(this,!0),Bo(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Cc(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?ej:BTe},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&zo)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==ej&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Gi|nd|Xa)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof wg)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(Lu(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Lu(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Tc(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Bo(wm(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Bo(wm(r),function(o){i?s[o]&&s[o].splice(Tc(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&zTe(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&tj(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),qTe={touchstart:Nr,touchmove:qc,touchend:$n,touchcancel:ni},UTe="touchstart",HTe="touchstart touchmove touchend touchcancel",WTe=function(n){es(e,n);function e(){var r,i=e.prototype;return i.evTarget=UTe,i.evWin=HTe,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=qTe[i.type];if(s===Nr&&(this.started=!0),!!this.started){var o=YTe.call(this,i,s);s&($n|ni)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:vg,srcEvent:i})}},e}(Ad);function YTe(n,e){var t=_m(n.touches),r=_m(n.changedTouches);return e&($n|ni)&&(t=AR(t.concat(r),"identifier",!0)),[t,r]}function HQ(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var WQ=HQ(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),GTe=HQ(function(n,e){return WQ(n,e,!0)},"merge","Use `assign`.");function VTe(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Cc(i,t)}function rj(n,e){return function(){return n.apply(e,arguments)}}var $R=function(){var n=function(t,r){return r===void 0&&(r={}),new nj(t,ws({recognizers:Z$.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=MQ,n.DIRECTION_DOWN=td,n.DIRECTION_LEFT=yg,n.DIRECTION_RIGHT=bg,n.DIRECTION_UP=xg,n.DIRECTION_HORIZONTAL=Zs,n.DIRECTION_VERTICAL=lc,n.DIRECTION_NONE=Uy,n.DIRECTION_DOWN=td,n.INPUT_START=Nr,n.INPUT_MOVE=qc,n.INPUT_END=$n,n.INPUT_CANCEL=ni,n.STATE_POSSIBLE=Nv,n.STATE_BEGAN=Gi,n.STATE_CHANGED=nd,n.STATE_ENDED=Xa,n.STATE_RECOGNIZED=zo,n.STATE_CANCELLED=Sm,n.STATE_FAILED=Ys,n.Manager=nj,n.Input=Ad,n.TouchAction=IQ,n.TouchInput=NR,n.MouseInput=LR,n.PointerEventInput=LQ,n.TouchMouseInput=FQ,n.SingleTouchInput=WTe,n.Recognizer=wg,n.AttrRecognizer=rd,n.Tap=$P,n.Pan=FR,n.Swipe=jQ,n.Pinch=BQ,n.Rotate=zQ,n.Press=qQ,n.on=hp,n.off=dp,n.each=Bo,n.merge=GTe,n.extend=WQ,n.bindFn=rj,n.assign=Cc,n.inherit=VTe,n.bindFn=rj,n.prefixed=Tx,n.toArray=_m,n.inArray=Tc,n.uniqueArray=AR,n.splitStr=wm,n.boolOrFn=Mx,n.hasParent=DR,n.addEventListeners=hp,n.removeEventListeners=dp,n.defaults=Cc({},UQ,{preset:Z$}),n}();$R.defaults;const jR=TCe("DELETE");function YQ(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return BR({},n,...t)}function BR(){const n=Yy(...arguments);return VQ(n),n}function Yy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Yy(BR(e[0],e[1]),...Rd(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of jCe(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===jR?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!St(r[s])&&!St(i[s])?r[s]=Yy(r[s],i[s]):r[s]=GQ(i[s]));return r}function GQ(n){return St(n)?Lt(n).call(n,e=>GQ(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Yy({},n):n}function VQ(n){for(const e of Un(n))n[e]===jR?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&VQ(n[e])}function KTe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return XTe(e.length?e:[hi()])}function XTe(n){let[e,t,r]=QTe(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function QTe(){const n=JTe();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function JTe(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function ZTe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const zR=typeof window<"u"?window.Hammer||$R:function(){return ZTe()};function Gs(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=zR(this._dom.overlay);t.on("tap",fe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Le(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{eMe(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}IR(Gs.prototype);Gs.current=null;Gs.prototype.destroy=function(){this.deactivate();for(const t of T2e(n=Or(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Gs.prototype.activate=function(){Gs.current&&Gs.current.deactivate(),Gs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Gs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Gs.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function eMe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const tMe=/^\/?Date\((-?\d+)/i,nMe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rMe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,iMe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,sMe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function fp(n){return n instanceof Number||typeof n=="number"}function KQ(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(KQ(e),n.removeChild(e))}}function fi(n){return n instanceof String||typeof n=="string"}function jP(n){return typeof n=="object"&&n!==null}function oMe(n){if(n instanceof Date)return!0;if(fi(n)){if(tMe.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function Mc(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function XQ(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Mc(n,e,r,t);else{const i=n[r],s=e[r];jP(i)&&jP(s)&&XQ(i,s,t)}}const aMe=nl;function lMe(n,e){if(!St(n))throw new Error("Array with property names expected as first argument");for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];for(const s of r)for(let o=0;o<n.length;o++){const a=n[o];s&&Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}function cMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?km(e[s],t[s],!1,r):Mc(e,t,s,r);else{if(St(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Mc(e,t,s,r)}}return e}function uMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!ed(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?km(e[i],t[i]):Mc(e,t,i,r);else if(St(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Mc(e,t,i,r);return e}function km(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&D7(e[s])===Object.prototype)n[s]===void 0?n[s]=km({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&D7(n[s])===Object.prototype?km(n[s],e[s],t):Mc(n,e,s,r);else if(St(e[s])){var i;n[s]=Rd(i=e[s]).call(i)}else Mc(n,e,s,r);return n}function hMe(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!=e[t])return!1;return!0}function qf(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":St(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Cm(n,e){return[...n,e]}function QQ(n){return Rd(n).call(n)}function dMe(n){return n.getBoundingClientRect().left}function fMe(n){return n.getBoundingClientRect().right}function pMe(n){return n.getBoundingClientRect().top}function mMe(n,e){let t=n.className.split(" ");const r=e.split(" ");t=Mn(t).call(t,ht(r).call(r,function(i){return!ed(t).call(t,i)})),n.className=t.join(" ")}function gMe(n,e){let t=n.className.split(" ");const r=e.split(" ");t=ht(t).call(t,function(i){return!ed(r).call(r,i)}),n.className=t.join(" ")}function vMe(n,e){if(St(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}const yMe=MR;function bMe(n,e,t){return n[e]!==t?(n[e]=t,!0):!1}function xMe(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function wMe(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function _Me(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function SMe(n,e){let t=n;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const kMe={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),fi(n)?n:fp(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function Px(n){let e;switch(n.length){case 3:case 4:return e=rMe.exec(n),e?{r:di(e[1]+e[1],16),g:di(e[2]+e[2],16),b:di(e[3]+e[3],16)}:null;case 6:case 7:return e=nMe.exec(n),e?{r:di(e[1],16),g:di(e[2],16),b:di(e[3],16)}:null;default:return null}}function CMe(n,e){if(ed(n).call(n,"rgba"))return n;if(ed(n).call(n,"rgb")){const t=n.substr(Ut(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Px(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function qR(n,e,t){var r;return"#"+Rd(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function EMe(n,e){if(fi(n)){let r=n;if(HR(r)){var t;const i=Lt(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return di(s)});r=qR(i[0],i[1],i[2])}if(UR(r)===!0){const i=ZQ(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=BP(o.h,o.s,o.v),l=BP(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:fi(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:fi(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:fi(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:fi(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Fu(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,l=(i-r)/i;return{h:a,s:l,v:i}}function JQ(n){const e=document.createElement("div"),t={};e.style.cssText=n;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function TMe(n,e){const t=JQ(e);for(const[r,i]of LEe(t))n.style.setProperty(r,i)}function MMe(n,e){const t=JQ(e);for(const r of Un(t))n.style.removeProperty(r)}function pp(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=u,s=l;break;case 1:r=c,i=t,s=l;break;case 2:r=l,i=t,s=u;break;case 3:r=l,i=c,s=t;break;case 4:r=u,i=l,s=t;break;case 5:r=t,i=l,s=c;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function BP(n,e,t){const r=pp(n,e,t);return qR(r.r,r.g,r.b)}function ZQ(n){const e=Px(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Fu(e.r,e.g,e.b)}function UR(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function HR(n){return iMe.test(n)}function eJ(n){return sMe.test(n)}function PMe(n,e){if(e!==null&&typeof e=="object"){const t=gg(e);for(let r=0;r<n.length;r++)Object.prototype.hasOwnProperty.call(e,n[r])&&typeof e[n[r]]=="object"&&(t[n[r]]=WR(e[n[r]]));return t}else return null}function WR(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=gg(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=WR(n[t]));return e}function IMe(n,e){for(let t=0;t<n.length;t++){const r=n[t];let i;for(i=t;i>0&&e(r,n[i-1])<0;i--)n[i]=n[i-1];n[i]=r}return n}function OMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,m,g){s(f[g])||(f[g]={});const v=m[g],y=f[g];for(const b in v)Object.prototype.hasOwnProperty.call(v,b)&&(y[b]=v[b])},l=e[t],u=s(r)&&!o(r)?r[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=l;return}if(l===null&&!s(n[t]))if(i(u))n[t]=gg(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(n,e,t),n[t].enabled=d}function RMe(n,e,t,r){let s=0,o=0,a=n.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=n[l],u=r===void 0?c[t]:c[t][r],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function DMe(n,e,t,r,i){let o=0,a=0,l=n.length-1,c,u,h,d;for(i=i??function(f,m){return f==m?0:f<m?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=n[Math.max(0,d-1)][t],u=n[d][t],h=n[Math.min(n.length-1,d+1)][t],i(u,e)==0)return d;if(i(c,e)<0&&i(u,e)>0)return r=="before"?Math.max(0,d-1):d;if(i(u,e)<0&&i(h,e)>0)return r=="before"?d:Math.min(n.length-1,d+1);i(u,e)<0?a=d+1:l=d-1,o++}return-1}const AMe={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function NMe(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const t=n.offsetWidth;e.style.overflow="scroll";let r=n.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function LMe(n,e){let t;St(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const FMe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let tJ=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return FMe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),fi(e)===!0){if(HR(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(eJ(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(UR(e)===!0){const s=Px(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ur(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=nl({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Jr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=nl({},e)),this.color=e;const r=Fu(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Fu(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=pp(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=Fu(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_Q(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=fe(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=fe(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=fe(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new zR(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=pp(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const m=u/this.r,g=Fu(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;const v=pp(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function zP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(zP(...Rd(e).call(e,1))),r}}let $Me=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},nl(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tJ(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(St(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ht(e)!==void 0&&(this.options.filter=ht(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);ht(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=ht(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ut(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Le(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(zP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Ut(e).call(e,t)!==-1&&(s=Ut(e).call(e,t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Jr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Jr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=ht(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],c=Cm(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!St(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const u=this._getValue(c);if(St(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=Cm(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(zP("pre","const options = "+Ur(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},jMe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=di(e),this.y=di(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},bf=!1,ij;const qP="background: #FFeeee; color: #dd0000";let BMe=class yn{static validate(e,t,r){bf=!1,ij=t;let i=t;return r!==void 0&&(i=t[r]),yn.parse(e,i,[]),bf}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&yn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){yn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=yn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),yn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(u){console.error("%c"+u+yn.printLocation(o,e),qP)},l=yn.getType(t[e]),c=s[l];c!==void 0?yn.getType(c)==="array"&&Ut(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+yn.print(c)+' not "'+t[e]+'". '),bf=!0):l==="object"&&i!=="__any__"&&(o=Cm(o,e),yn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+yn.print(Un(s))+". Received ["+l+'] "'+t[e]+'"'),bf=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":St(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=yn.findInOptions(e,t,r,!1),s=yn.findInOptions(e,ij,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+yn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+yn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+yn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+yn.printLocation(i.path,e):l=". Did you mean one of these: "+yn.print(Un(t))+yn.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,qP),bf=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const h in t){let d;if(t[h].__type__!==void 0&&i===!0){const f=yn.findInOptions(e,t[h],Cm(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Ut(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=yn.levenshteinDistance(e,h),s>d&&(o=h,a=QQ(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ur(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const zMe=Gs,qMe=tJ,UMe=$Me,HMe=zR,WMe=jMe,YMe=qP,GMe=BMe;var VMe=Object.freeze({__proto__:null,Activator:zMe,Alea:KTe,ColorPicker:qMe,Configurator:UMe,DELETE:jR,HSVToHex:BP,HSVToRGB:pp,Hammer:HMe,Popup:WMe,RGBToHSV:Fu,RGBToHex:qR,VALIDATOR_PRINT_STYLE:YMe,Validator:GMe,addClassName:mMe,addCssText:TMe,binarySearchCustom:RMe,binarySearchValue:DMe,bridgeObject:WR,copyAndExtendArray:Cm,copyArray:QQ,deepExtend:km,deepObjectAssign:BR,easingFunctions:AMe,equalArray:hMe,extend:aMe,fillIfDefined:XQ,forEach:vMe,getAbsoluteLeft:dMe,getAbsoluteRight:fMe,getAbsoluteTop:pMe,getScrollBarWidth:NMe,getTarget:_Me,getType:qf,hasParent:SMe,hexToHSV:ZQ,hexToRGB:Px,insertSort:IMe,isDate:oMe,isNumber:fp,isObject:jP,isString:fi,isValidHex:UR,isValidRGB:HR,isValidRGBA:eJ,mergeOptions:OMe,option:kMe,overrideOpacity:CMe,parseColor:EMe,preventDefault:wMe,pureDeepObjectAssign:YQ,recursiveDOMDelete:KQ,removeClassName:gMe,removeCssText:MMe,selectiveBridgeObject:PMe,selectiveDeepExtend:cMe,selectiveExtend:lMe,selectiveNotDeepExtend:uMe,throttle:xMe,toArray:yMe,topMost:LMe,updateProperty:bMe});function _a(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Fi(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const r=n[e];for(var t=0;t<r.redundant.length;t++)r.redundant[t].parentNode.removeChild(r.redundant[t]);r.redundant=[]}}function KMe(n){_a(n),Fi(n),_a(n)}function vs(n,e,t){var r;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(r=e[n].redundant[0],e[n].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",n),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},t.appendChild(r)),e[n].used.push(r),r}function HC(n,e,t,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElement(n),r!==void 0?t.insertBefore(i,r):t.appendChild(i)):(i=document.createElement(n),e[n]={used:[],redundant:[]},r!==void 0?t.insertBefore(i,r):t.appendChild(i)),e[n].used.push(i),i}function id(n,e,t,r,i,s){var o;if(t.style=="circle"?(o=vs("circle",r,i),o.setAttributeNS(null,"cx",n),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=vs("rect",r,i),o.setAttributeNS(null,"x",n-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=vs("text",r,i);s.xOffset&&(n=n+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",e)}return o}function UP(n,e,t,r,i,s,o,a){if(r!=0){r<0&&(r*=-1,e-=r);var l=vs("rect",s,o);l.setAttributeNS(null,"x",n-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",i),a&&l.setAttributeNS(null,"style",a)}}function XMe(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var WC,sj;function QMe(){if(sj)return WC;sj=1,oQ();var n=Qt();return WC=n.Object.getOwnPropertySymbols,WC}var YC,oj;function JMe(){if(oj)return YC;oj=1;var n=QMe();return YC=n,YC}var GC,aj;function ZMe(){return aj||(aj=1,GC=JMe()),GC}var ePe=ZMe(),Gy=Ze(ePe),VC={exports:{}},lj={},cj;function tPe(){if(cj)return lj;cj=1;var n=Ve(),e=kt(),t=Es(),r=yx().f,i=Nn(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),lj}var uj;function nPe(){if(uj)return VC.exports;uj=1,tPe();var n=Qt(),e=n.Object,t=VC.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),VC.exports}var KC,hj;function rPe(){if(hj)return KC;hj=1;var n=nPe();return KC=n,KC}var XC,dj;function iPe(){return dj||(dj=1,XC=rPe()),XC}var sPe=iPe(),Ix=Ze(sPe),fj={},pj;function oPe(){if(pj)return fj;pj=1;var n=Ve(),e=Nn(),t=pQ(),r=Es(),i=yx(),s=bx();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),c=i.f,u=t(l),h={},d=0,f,m;u.length>d;)m=c(l,f=u[d++]),m!==void 0&&s(h,f,m);return h}}),fj}var QC,mj;function aPe(){if(mj)return QC;mj=1,oPe();var n=Qt();return QC=n.Object.getOwnPropertyDescriptors,QC}var JC,gj;function lPe(){if(gj)return JC;gj=1;var n=aPe();return JC=n,JC}var ZC,vj;function cPe(){return vj||(vj=1,ZC=lPe()),ZC}var uPe=cPe(),Vy=Ze(uPe),e2={exports:{}},yj={},bj;function hPe(){if(bj)return yj;bj=1;var n=Ve(),e=Nn(),t=kR().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),yj}var xj;function dPe(){if(xj)return e2.exports;xj=1,hPe();var n=Qt(),e=n.Object,t=e2.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),e2.exports}var t2,wj;function fPe(){if(wj)return t2;wj=1;var n=dPe();return t2=n,t2}var n2,_j;function pPe(){return _j||(_j=1,n2=fPe()),n2}var mPe=pPe(),nJ=Ze(mPe),r2={exports:{}},Sj={},kj;function gPe(){if(kj)return Sj;kj=1;var n=Ve(),e=Nn(),t=Ji().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Sj}var Cj;function vPe(){if(Cj)return r2.exports;Cj=1,gPe();var n=Qt(),e=n.Object,t=r2.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),r2.exports}var i2,Ej;function rJ(){if(Ej)return i2;Ej=1;var n=vPe();return i2=n,i2}var s2,Tj;function yPe(){if(Tj)return s2;Tj=1;var n=rJ();return s2=n,s2}var o2,Mj;function bPe(){if(Mj)return o2;Mj=1;var n=yPe();return o2=n,o2}var a2,Pj;function xPe(){return Pj||(Pj=1,a2=bPe()),a2}var wPe=xPe(),_Pe=Ze(wPe),Ij={},Oj;function SPe(){if(Oj)return Ij;Oj=1;var n=jn(),e=Ji().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Ij}var Rj={},Dj;function kPe(){return Dj||(Dj=1,aQ()),Rj}var Aj={},Nj;function CPe(){return Nj||(Nj=1,lQ()),Aj}var Lj={},Fj;function EPe(){if(Fj)return Lj;Fj=1;var n=vn();return n("metadata"),Lj}var l2,$j;function TPe(){if($j)return l2;$j=1;var n=fQ();return SPe(),kPe(),CPe(),EPe(),l2=n,l2}var jj={},c2,Bj;function iJ(){if(Bj)return c2;Bj=1;var n=Ei(),e=Mt(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return c2=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},c2}var zj;function MPe(){if(zj)return jj;zj=1;var n=Ve(),e=iJ();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),jj}var qj={},u2,Uj;function sJ(){if(Uj)return u2;Uj=1;for(var n=Td(),e=Ei(),t=Mt(),r=ag(),i=jn(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=n("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];r(s[f])&&i(f)}catch{}return u2=function(g){if(o&&o(g))return!0;try{for(var v=l(g),y=0,b=a(c),w=b.length;y<w;y++)if(c[b[y]]==v)return!0}catch{}return!1},u2}var Hj;function PPe(){if(Hj)return qj;Hj=1;var n=Ve(),e=sJ();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),qj}var Wj={},Yj;function IPe(){if(Yj)return Wj;Yj=1;var n=vn();return n("customMatcher"),Wj}var Gj={},Vj;function OPe(){if(Vj)return Gj;Vj=1;var n=vn();return n("observable"),Gj}var Kj={},Xj;function RPe(){if(Xj)return Kj;Xj=1;var n=Ve(),e=iJ();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Kj}var Qj={},Jj;function DPe(){if(Jj)return Qj;Jj=1;var n=Ve(),e=sJ();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Qj}var Zj={},eB;function APe(){if(eB)return Zj;eB=1;var n=vn();return n("matcher"),Zj}var tB={},nB;function NPe(){if(nB)return tB;nB=1;var n=vn();return n("metadataKey"),tB}var rB={},iB;function LPe(){if(iB)return rB;iB=1;var n=vn();return n("patternMatch"),rB}var sB={},oB;function FPe(){if(oB)return sB;oB=1;var n=vn();return n("replaceAll"),sB}var h2,aB;function $Pe(){if(aB)return h2;aB=1;var n=TPe();return MPe(),PPe(),IPe(),OPe(),RPe(),DPe(),APe(),NPe(),LPe(),FPe(),h2=n,h2}var d2,lB;function jPe(){return lB||(lB=1,d2=$Pe()),d2}var BPe=jPe(),Z0=Ze(BPe),cB={},f2,uB;function zPe(){if(uB)return f2;uB=1;var n=Mt(),e=Pd(),t=Zi(),r=Ko(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(c,u){var h=t(r(c)),d=e(u),f=h.length,m,g;return d<0||d>=f?l?"":void 0:(m=s(h,d),m<55296||m>56319||d+1===f||(g=s(h,d+1))<56320||g>57343?l?i(h,d):m:l?o(h,d,d+2):(m-55296<<10)+(g-56320)+65536)}};return f2={codeAt:a(!1),charAt:a(!0)},f2}var hB;function Ox(){if(hB)return cB;hB=1;var n=zPe().charAt,e=Zi(),t=pg(),r=ER(),i=TR(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?i(void 0,!0):(d=n(u,h),c.index+=d.length,i(d,!1))}),cB}var p2,dB;function qPe(){if(dB)return p2;dB=1,cl(),Ox(),cQ();var n=Cx();return p2=n.f("iterator"),p2}var m2,fB;function oJ(){if(fB)return m2;fB=1;var n=qPe();return ul(),m2=n,m2}var g2,pB;function UPe(){if(pB)return g2;pB=1;var n=oJ();return g2=n,g2}var v2,mB;function HPe(){if(mB)return v2;mB=1;var n=UPe();return v2=n,v2}var y2,gB;function WPe(){return gB||(gB=1,y2=HPe()),y2}var YPe=WPe(),GPe=Ze(YPe);function Em(n){"@babel/helpers - typeof";return Em=typeof Z0=="function"&&typeof GPe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Z0=="function"&&e.constructor===Z0&&e!==Z0.prototype?"symbol":typeof e},Em(n)}var b2,vB;function VPe(){if(vB)return b2;vB=1,uQ();var n=Cx();return b2=n.f("toPrimitive"),b2}var x2,yB;function KPe(){if(yB)return x2;yB=1;var n=VPe();return x2=n,x2}var w2,bB;function XPe(){if(bB)return w2;bB=1;var n=KPe();return w2=n,w2}var _2,xB;function QPe(){if(xB)return _2;xB=1;var n=XPe();return _2=n,_2}var S2,wB;function JPe(){return wB||(wB=1,S2=QPe()),S2}var ZPe=JPe(),eIe=Ze(ZPe);function tIe(n,e){if(Em(n)!="object"||!n)return n;var t=n[eIe];if(t!==void 0){var r=t.call(n,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nIe(n){var e=tIe(n,"string");return Em(e)=="symbol"?e:e+""}function fn(n,e,t){return(e=nIe(e))in n?_Pe(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _B={},k2,SB;function rIe(){if(SB)return k2;SB=1;var n=oo(),e=oi(),t=gx(),r=Ts(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),m=r(d);if(n(c),m===0&&u<2)throw new i(s);var g=a?m-1:0,v=a?-1:1;if(u<2)for(;;){if(g in f){h=f[g],g+=v;break}if(g+=v,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=v)g in f&&(h=c(h,f[g],g,d));return h}};return k2={left:o(!1),right:o(!0)},k2}var C2,kB;function iIe(){if(kB)return C2;kB=1;var n=bQ();return C2=n==="NODE",C2}var CB;function sIe(){if(CB)return _B;CB=1;var n=Ve(),e=rIe().left,t=Dd(),r=og(),i=iIe(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),_B}var E2,EB;function oIe(){if(EB)return E2;EB=1,sIe();var n=kn();return E2=n("Array","reduce"),E2}var T2,TB;function aIe(){if(TB)return T2;TB=1;var n=nn(),e=oIe(),t=Array.prototype;return T2=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},T2}var M2,MB;function lIe(){if(MB)return M2;MB=1;var n=aIe();return M2=n,M2}var P2,PB;function cIe(){return PB||(PB=1,P2=lIe()),P2}var uIe=cIe(),Rx=Ze(uIe),IB={},I2,OB;function hIe(){if(OB)return I2;OB=1;var n=ol(),e=Ts(),t=xR(),r=lg(),i=function(s,o,a,l,c,u,h,d){for(var f=c,m=0,g=h?r(h,d):!1,v,y;m<l;)m in a&&(v=g?g(a[m],m,o):a[m],u>0&&n(v)?(y=e(v),f=i(s,o,v,y,f,u-1)-1):(t(f+1),s[f]=v),f++),m++;return f};return I2=i,I2}var RB;function dIe(){if(RB)return IB;RB=1;var n=Ve(),e=hIe(),t=oo(),r=oi(),i=Ts(),s=xx();return n({target:"Array",proto:!0},{flatMap:function(a){var l=r(this),c=i(l),u;return t(a),u=s(l,0),u.length=e(u,l,l,c,0,1,a,arguments.length>1?arguments[1]:void 0),u}}),IB}var DB={},AB;function fIe(){if(AB)return DB;AB=1;var n=mg();return n("flatMap"),DB}var O2,NB;function pIe(){if(NB)return O2;NB=1,dIe(),fIe();var n=kn();return O2=n("Array","flatMap"),O2}var R2,LB;function mIe(){if(LB)return R2;LB=1;var n=nn(),e=pIe(),t=Array.prototype;return R2=function(r){var i=r.flatMap;return r===t||n(t,r)&&i===t.flatMap?e:i},R2}var D2,FB;function gIe(){if(FB)return D2;FB=1;var n=mIe();return D2=n,D2}var A2,$B;function vIe(){return $B||($B=1,A2=gIe()),A2}var yIe=vIe(),bIe=Ze(yIe),N2,jB;function xIe(){return jB||(jB=1,N2=oJ()),N2}var wIe=xIe(),$u=Ze(wIe),BB={},zB={},L2={exports:{}},F2,qB;function _Ie(){if(qB)return F2;qB=1;var n=kt();return F2=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),F2}var $2,UB;function SIe(){if(UB)return $2;UB=1;var n=kt(),e=xr(),t=so(),r=_Ie(),i=Object.isExtensible,s=n(function(){});return $2=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,$2}var j2,HB;function kIe(){if(HB)return j2;HB=1;var n=kt();return j2=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),j2}var WB;function aJ(){if(WB)return L2.exports;WB=1;var n=Ve(),e=Mt(),t=ug(),r=xr(),i=tr(),s=Ji().f,o=Sx(),a=nQ(),l=SIe(),c=vx(),u=kIe(),h=!1,d=c("meta"),f=0,m=function(S){s(S,d,{value:{objectID:"O"+f++,weakData:{}}})},g=function(S,_){if(!r(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!i(S,d)){if(!l(S))return"F";if(!_)return"E";m(S)}return S[d].objectID},v=function(S,_){if(!i(S,d)){if(!l(S))return!0;if(!_)return!1;m(S)}return S[d].weakData},y=function(S){return u&&h&&l(S)&&!i(S,d)&&m(S),S},b=function(){w.enable=function(){},h=!0;var S=o.f,_=e([].splice),k={};k[d]=1,S(k).length&&(o.f=function(C){for(var E=S(C),O=0,R=E.length;O<R;O++)if(E[O]===d){_(E,O,1);break}return E},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},w=L2.exports={enable:b,fastKey:g,getWeakData:v,onFreeze:y};return t[d]=!0,L2.exports}var B2,YB;function CIe(){if(YB)return B2;YB=1;var n=jn(),e=Od(),t=n("iterator"),r=Array.prototype;return B2=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},B2}var z2,GB;function lJ(){if(GB)return z2;GB=1;var n=al(),e=vR(),t=sg(),r=Od(),i=jn(),s=i("iterator");return z2=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},z2}var q2,VB;function cJ(){if(VB)return q2;VB=1;var n=si(),e=oo(),t=Xo(),r=Cd(),i=lJ(),s=TypeError;return q2=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},q2}var U2,KB;function YR(){if(KB)return U2;KB=1;var n=si(),e=Xo(),t=vR();return U2=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},U2}var H2,XB;function GR(){if(XB)return H2;XB=1;var n=lg(),e=si(),t=Xo(),r=Cd(),i=CIe(),s=Ts(),o=nn(),a=cJ(),l=lJ(),c=YR(),u=TypeError,h=function(f,m){this.stopped=f,this.result=m},d=h.prototype;return H2=function(f,m,g){var v=g&&g.that,y=!!(g&&g.AS_ENTRIES),b=!!(g&&g.IS_RECORD),w=!!(g&&g.IS_ITERATOR),S=!!(g&&g.INTERRUPTED),_=n(m,v),k,C,E,O,R,D,N,L=function($){return k&&c(k,"normal"),new h(!0,$)},W=function($){return y?(t($),S?_($[0],$[1],L):_($[0],$[1])):S?_($,L):_($)};if(b)k=f.iterator;else if(w)k=f;else{if(C=l(f),!C)throw new u(r(f)+" is not iterable");if(i(C)){for(E=0,O=s(f);O>E;E++)if(R=W(f[E]),R&&o(d,R))return R;return new h(!1)}k=a(f,C)}for(D=b?f.next:k.next;!(N=e(D,k)).done;){try{R=W(N.value)}catch($){c(k,"throw",$)}if(typeof R=="object"&&R&&o(d,R))return R}return new h(!1)},H2}var W2,QB;function uJ(){if(QB)return W2;QB=1;var n=nn(),e=TypeError;return W2=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},W2}var Y2,JB;function hJ(){if(JB)return Y2;JB=1;var n=Ve(),e=Sn(),t=aJ(),r=kt(),i=Md(),s=GR(),o=uJ(),a=er(),l=xr(),c=sg(),u=zc(),h=Ji().f,d=ll().forEach,f=Nn(),m=pg(),g=m.set,v=m.getterFor;return Y2=function(y,b,w){var S=y.indexOf("Map")!==-1,_=y.indexOf("Weak")!==-1,k=S?"set":"add",C=e[y],E=C&&C.prototype,O={},R;if(!f||!a(C)||!(_||E.forEach&&!r(function(){new C().entries().next()})))R=w.getConstructor(b,y,S,k),t.enable();else{R=b(function(L,W){g(o(L,D),{type:y,collection:new C}),c(W)||s(W,L[k],{that:L,AS_ENTRIES:S})});var D=R.prototype,N=v(y);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(L){var W=L==="add"||L==="set";L in E&&!(_&&L==="clear")&&i(D,L,function($,F){var B=N(this).collection;if(!W&&_&&!l($))return L==="get"?void 0:!1;var j=B[L]($===0?0:$,F);return W?this:j})}),_||h(D,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return u(R,y,!1,!0),O[y]=R,n({global:!0,forced:!0},O),_||w.setStrong(R,y,S),R},Y2}var G2,ZB;function EIe(){if(ZB)return G2;ZB=1;var n=fg();return G2=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},G2}var V2,ez;function TIe(){if(ez)return V2;ez=1;var n=Ei(),e=CR(),t=jn(),r=Nn(),i=t("species");return V2=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},V2}var K2,tz;function dJ(){if(tz)return K2;tz=1;var n=dg(),e=CR(),t=EIe(),r=lg(),i=uJ(),s=sg(),o=GR(),a=ER(),l=TR(),c=TIe(),u=Nn(),h=aJ().fastKey,d=pg(),f=d.set,m=d.getterFor;return K2={getConstructor:function(g,v,y,b){var w=g(function(E,O){i(E,S),f(E,{type:v,index:n(null),first:null,last:null,size:0}),u||(E.size=0),s(O)||o(O,E[b],{that:E,AS_ENTRIES:y})}),S=w.prototype,_=m(v),k=function(E,O,R){var D=_(E),N=C(E,O),L,W;return N?N.value=R:(D.last=N={index:W=h(O,!0),key:O,value:R,previous:L=D.last,next:null,removed:!1},D.first||(D.first=N),L&&(L.next=N),u?D.size++:E.size++,W!=="F"&&(D.index[W]=N)),E},C=function(E,O){var R=_(E),D=h(O),N;if(D!=="F")return R.index[D];for(N=R.first;N;N=N.next)if(N.key===O)return N};return t(S,{clear:function(){for(var O=this,R=_(O),D=R.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=null),D=D.next;R.first=R.last=null,R.index=n(null),u?R.size=0:O.size=0},delete:function(E){var O=this,R=_(O),D=C(O,E);if(D){var N=D.next,L=D.previous;delete R.index[D.index],D.removed=!0,L&&(L.next=N),N&&(N.previous=L),R.first===D&&(R.first=N),R.last===D&&(R.last=L),u?R.size--:O.size--}return!!D},forEach:function(O){for(var R=_(this),D=r(O,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:R.first;)for(D(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(O){return!!C(this,O)}}),t(S,y?{get:function(O){var R=C(this,O);return R&&R.value},set:function(O,R){return k(this,O===0?0:O,R)}}:{add:function(O){return k(this,O=O===0?0:O,O)}}),u&&e(S,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(g,v,y){var b=v+" Iterator",w=m(v),S=m(b);a(g,v,function(_,k){f(this,{type:b,target:_,state:w(_),kind:k,last:null})},function(){for(var _=S(this),k=_.kind,C=_.last;C&&C.removed;)C=C.previous;return!_.target||!(_.last=C=C?C.next:_.state.first)?(_.target=null,l(void 0,!0)):l(k==="keys"?C.key:k==="values"?C.value:[C.key,C.value],!1)},y?"entries":"values",!y,!0),c(v)}},K2}var nz;function MIe(){if(nz)return zB;nz=1;var n=hJ(),e=dJ();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),zB}var rz;function PIe(){return rz||(rz=1,MIe()),BB}var iz={},X2,sz;function fJ(){return sz||(sz=1,X2=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),X2}var Q2,oz;function IIe(){if(oz)return Q2;oz=1;var n=Ei(),e=fJ(),t=n("Map");return Q2={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},Q2}var az;function OIe(){if(az)return iz;az=1;var n=Ve(),e=Mt(),t=oo(),r=Ko(),i=GR(),s=IIe(),o=Ed(),a=kt(),l=s.Map,c=s.has,u=s.get,h=s.set,d=e([].push),f=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,v){r(g),t(v);var y=new l,b=0;return i(g,function(w){var S=v(w,b++);c(y,S)?d(u(y,S),w):h(y,S,[w])}),y}}),iz}var J2,lz;function RIe(){if(lz)return J2;lz=1,cl(),PIe(),OIe(),Ox();var n=Qt();return J2=n.Map,J2}var Z2,cz;function DIe(){if(cz)return Z2;cz=1;var n=RIe();return ul(),Z2=n,Z2}var eE,uz;function AIe(){return uz||(uz=1,eE=DIe()),eE}var NIe=AIe(),pJ=Ze(NIe),hz={},dz={},fz;function LIe(){if(fz)return dz;fz=1;var n=hJ(),e=dJ();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),dz}var pz;function FIe(){return pz||(pz=1,LIe()),hz}var mz={},tE,gz;function Uc(){if(gz)return tE;gz=1;var n=Cd(),e=TypeError;return tE=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},tE}var nE,vz;function Hc(){if(vz)return nE;vz=1;var n=Ei(),e=fJ(),t=n("Set"),r=t.prototype;return nE={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},nE}var rE,yz;function Wc(){if(yz)return rE;yz=1;var n=si();return rE=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},rE}var iE,bz;function _g(){if(bz)return iE;bz=1;var n=Wc();return iE=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},iE}var sE,xz;function VR(){if(xz)return sE;xz=1;var n=Hc(),e=_g(),t=n.Set,r=n.add;return sE=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},sE}var oE,wz;function Sg(){return wz||(wz=1,oE=function(n){return n.size}),oE}var aE,_z;function $Ie(){return _z||(_z=1,aE=function(n){return{iterator:n,next:n.next,done:!1}}),aE}var lE,Sz;function Yc(){if(Sz)return lE;Sz=1;var n=oo(),e=Xo(),t=si(),r=Pd(),i=$Ie(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=n(u.has),this.keys=n(u.keys)};return c.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},lE=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=r(h);if(d<0)throw new o(s);return new c(u,d)},lE}var cE,kz;function jIe(){if(kz)return cE;kz=1;var n=Uc(),e=Hc(),t=VR(),r=Sg(),i=Yc(),s=_g(),o=Wc(),a=e.has,l=e.remove;return cE=function(u){var h=n(this),d=i(u),f=t(h);return r(h)<=d.size?s(h,function(m){d.includes(m)&&l(f,m)}):o(d.getIterator(),function(m){a(f,m)&&l(f,m)}),f},cE}var uE,Cz;function Gc(){return Cz||(Cz=1,uE=function(){return!1}),uE}var Ez;function BIe(){if(Ez)return mz;Ez=1;var n=Ve(),e=jIe(),t=kt(),r=Gc(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),mz}var Tz={},hE,Mz;function zIe(){if(Mz)return hE;Mz=1;var n=Uc(),e=Hc(),t=Sg(),r=Yc(),i=_g(),s=Wc(),o=e.Set,a=e.add,l=e.has;return hE=function(u){var h=n(this),d=r(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(m){l(h,m)&&a(f,m)}):i(h,function(m){d.includes(m)&&a(f,m)}),f},hE}var Pz;function qIe(){if(Pz)return Tz;Pz=1;var n=Ve(),e=kt(),t=zIe(),r=Gc(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),Tz}var Iz={},dE,Oz;function UIe(){if(Oz)return dE;Oz=1;var n=Uc(),e=Hc().has,t=Sg(),r=Yc(),i=_g(),s=Wc(),o=YR();return dE=function(l){var c=n(this),u=r(l);if(t(c)<=u.size)return i(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},dE}var Rz;function HIe(){if(Rz)return Iz;Rz=1;var n=Ve(),e=UIe(),t=Gc(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),Iz}var Dz={},fE,Az;function WIe(){if(Az)return fE;Az=1;var n=Uc(),e=Sg(),t=_g(),r=Yc();return fE=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},fE}var Nz;function YIe(){if(Nz)return Dz;Nz=1;var n=Ve(),e=WIe(),t=Gc(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),Dz}var Lz={},pE,Fz;function GIe(){if(Fz)return pE;Fz=1;var n=Uc(),e=Hc().has,t=Sg(),r=Yc(),i=Wc(),s=YR();return pE=function(a){var l=n(this),c=r(a);if(t(l)<c.size)return!1;var u=c.getIterator();return i(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},pE}var $z;function VIe(){if($z)return Lz;$z=1;var n=Ve(),e=GIe(),t=Gc(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),Lz}var jz={},mE,Bz;function KIe(){if(Bz)return mE;Bz=1;var n=Uc(),e=Hc(),t=VR(),r=Yc(),i=Wc(),s=e.add,o=e.has,a=e.remove;return mE=function(c){var u=n(this),h=r(c).getIterator(),d=t(u);return i(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},mE}var gE,zz;function mJ(){return zz||(zz=1,gE=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),gE}var qz;function XIe(){if(qz)return jz;qz=1;var n=Ve(),e=KIe(),t=mJ(),r=Gc(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),jz}var Uz={},vE,Hz;function QIe(){if(Hz)return vE;Hz=1;var n=Uc(),e=Hc().add,t=VR(),r=Yc(),i=Wc();return vE=function(o){var a=n(this),l=r(o).getIterator(),c=t(a);return i(l,function(u){e(c,u)}),c},vE}var Wz;function JIe(){if(Wz)return Uz;Wz=1;var n=Ve(),e=QIe(),t=mJ(),r=Gc(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),Uz}var yE,Yz;function ZIe(){if(Yz)return yE;Yz=1,cl(),FIe(),BIe(),qIe(),HIe(),YIe(),VIe(),XIe(),JIe(),Ox();var n=Qt();return yE=n.Set,yE}var bE,Gz;function eOe(){if(Gz)return bE;Gz=1;var n=ZIe();return ul(),bE=n,bE}var xE,Vz;function tOe(){return Vz||(Vz=1,xE=eOe()),xE}var nOe=tOe(),cc=Ze(nOe),wE,Kz;function rOe(){if(Kz)return wE;Kz=1,cl(),Ox();var n=cJ();return wE=n,wE}var _E,Xz;function iOe(){if(Xz)return _E;Xz=1;var n=rOe();return ul(),_E=n,_E}var SE,Qz;function sOe(){if(Qz)return SE;Qz=1;var n=iOe();return SE=n,SE}var kE,Jz;function oOe(){if(Jz)return kE;Jz=1;var n=sOe();return kE=n,kE}var CE,Zz;function aOe(){return Zz||(Zz=1,CE=oOe()),CE}var EE,eq;function lOe(){return eq||(eq=1,EE=aOe()),EE}var cOe=lOe(),TE=Ze(cOe),tq={},ME,nq;function uOe(){if(nq)return ME;nq=1;var n=Id(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var c=e(s/2),u=t(n(r,0,c),i),h=t(n(r,c),i),d=u.length,f=h.length,m=0,g=0;m<d||g<f;)r[m+g]=m<d&&g<f?i(u[m],h[g])<=0?u[m++]:h[g++]:m<d?u[m++]:h[g++];return r};return ME=t,ME}var PE,rq;function hOe(){if(rq)return PE;rq=1;var n=Sd(),e=n.match(/firefox\/(\d+)/i);return PE=!!e&&+e[1],PE}var IE,iq;function dOe(){if(iq)return IE;iq=1;var n=Sd();return IE=/MSIE|Trident/.test(n),IE}var OE,sq;function fOe(){if(sq)return OE;sq=1;var n=Sd(),e=n.match(/AppleWebKit\/(\d+)\./);return OE=!!e&&+e[1],OE}var oq;function pOe(){if(oq)return tq;oq=1;var n=Ve(),e=Mt(),t=oo(),r=oi(),i=Ts(),s=mQ(),o=Zi(),a=kt(),l=uOe(),c=Dd(),u=hOe(),h=dOe(),d=og(),f=fOe(),m=[],g=e(m.sort),v=e(m.push),y=a(function(){m.sort(void 0)}),b=a(function(){m.sort(null)}),w=c("sort"),S=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var C="",E,O,R,D;for(E=65;E<76;E++){switch(O=String.fromCharCode(E),E){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(D=0;D<47;D++)m.push({k:O+D,v:R})}for(m.sort(function(N,L){return L.v-N.v}),D=0;D<m.length;D++)O=m[D].k.charAt(0),C.charAt(C.length-1)!==O&&(C+=O);return C!=="DGBEFHACIJK"}}),_=y||!b||!w||!S,k=function(C){return function(E,O){return O===void 0?-1:E===void 0?1:C!==void 0?+C(E,O)||0:o(E)>o(O)?1:-1}};return n({target:"Array",proto:!0,forced:_},{sort:function(E){E!==void 0&&t(E);var O=r(this);if(S)return E===void 0?g(O):g(O,E);var R=[],D=i(O),N,L;for(L=0;L<D;L++)L in O&&v(R,O[L]);for(l(R,k(E)),N=i(R),L=0;L<N;)O[L]=R[L++];for(;L<D;)s(O,L++);return O}}),tq}var RE,aq;function mOe(){if(aq)return RE;aq=1,pOe();var n=kn();return RE=n("Array","sort"),RE}var DE,lq;function gOe(){if(lq)return DE;lq=1;var n=nn(),e=mOe(),t=Array.prototype;return DE=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},DE}var AE,cq;function vOe(){if(cq)return AE;cq=1;var n=gOe();return AE=n,AE}var NE,uq;function yOe(){return uq||(uq=1,NE=vOe()),NE}var bOe=yOe(),Rn=Ze(bOe),hq={},dq;function xOe(){if(dq)return hq;dq=1;var n=Ve(),e=ll().some,t=Dd(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hq}var LE,fq;function wOe(){if(fq)return LE;fq=1,xOe();var n=kn();return LE=n("Array","some"),LE}var FE,pq;function _Oe(){if(pq)return FE;pq=1;var n=nn(),e=wOe(),t=Array.prototype;return FE=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},FE}var $E,mq;function SOe(){if(mq)return $E;mq=1;var n=_Oe();return $E=n,$E}var jE,gq;function kOe(){return gq||(gq=1,jE=SOe()),jE}var COe=kOe(),KR=Ze(COe),BE,vq;function EOe(){if(vq)return BE;vq=1,cl();var n=kn();return BE=n("Array","keys"),BE}var zE,yq;function TOe(){if(yq)return zE;yq=1;var n=EOe();return zE=n,zE}var qE,bq;function MOe(){if(bq)return qE;bq=1,ul();var n=al(),e=tr(),t=nn(),r=TOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return qE=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},qE}var UE,xq;function POe(){return xq||(xq=1,UE=MOe()),UE}var IOe=POe(),hu=Ze(IOe),HE,wq;function OOe(){if(wq)return HE;wq=1,cl();var n=kn();return HE=n("Array","values"),HE}var WE,_q;function ROe(){if(_q)return WE;_q=1;var n=OOe();return WE=n,WE}var YE,Sq;function DOe(){if(Sq)return YE;Sq=1,ul();var n=al(),e=tr(),t=nn(),r=ROe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return YE=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},YE}var GE,kq;function AOe(){return kq||(kq=1,GE=DOe()),GE}var NOe=AOe(),Cq=Ze(NOe),VE,Eq;function LOe(){if(Eq)return VE;Eq=1,cl();var n=kn();return VE=n("Array","entries"),VE}var KE,Tq;function FOe(){if(Tq)return KE;Tq=1;var n=LOe();return KE=n,KE}var XE,Mq;function $Oe(){if(Mq)return XE;Mq=1,ul();var n=al(),e=tr(),t=nn(),r=FOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return XE=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},XE}var QE,Pq;function jOe(){return Pq||(Pq=1,QE=$Oe()),QE}var BOe=jOe(),zOe=Ze(BOe),JE,Iq;function qOe(){return Iq||(Iq=1,JE=rJ()),JE}var UOe=qOe(),XR=Ze(UOe);const ir=[];for(let n=0;n<256;++n)ir.push((n+256).toString(16).slice(1));function HOe(n,e=0){return(ir[n[e+0]]+ir[n[e+1]]+ir[n[e+2]]+ir[n[e+3]]+"-"+ir[n[e+4]]+ir[n[e+5]]+"-"+ir[n[e+6]]+ir[n[e+7]]+"-"+ir[n[e+8]]+ir[n[e+9]]+"-"+ir[n[e+10]]+ir[n[e+11]]+ir[n[e+12]]+ir[n[e+13]]+ir[n[e+14]]+ir[n[e+15]]).toLowerCase()}let ZE;const WOe=new Uint8Array(16);function YOe(){if(!ZE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ZE=crypto.getRandomValues.bind(crypto)}return ZE(WOe)}const GOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Oq={randomUUID:GOe};function VOe(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??YOe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,HOe(r)}function uc(n,e,t){return Oq.randomUUID&&!n?Oq.randomUUID():VOe(n)}function Rq(n,e){var t=Un(n);if(Gy){var r=Gy(n);e&&(r=ht(r).call(r,function(i){return Ix(n,i).enumerable})),t.push.apply(t,r)}return t}function Dq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Le(t=Rq(Object(i),!0)).call(t,function(s){fn(n,s,i[s])}):Vy?nJ(n,Vy(i)):Le(r=Rq(Object(i))).call(r,function(s){XR(n,s,Ix(i,s))})}return n}function KOe(n){return new QOe(n)}class XOe{constructor(e,t,r){var i,s,o;fn(this,"_source",void 0),fn(this,"_transformers",void 0),fn(this,"_target",void 0),fn(this,"_listeners",{add:fe(i=this._add).call(i,this),remove:fe(s=this._remove).call(s,this),update:fe(o=this._update).call(o,this)}),this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var t;return Rx(t=this._transformers).call(t,(r,i)=>i(r),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class QOe{constructor(e){fn(this,"_source",void 0),fn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(t=>ht(t).call(t,e)),this}map(e){return this._transformers.push(t=>Lt(t).call(t,e)),this}flatMap(e){return this._transformers.push(t=>bIe(t).call(t,e)),this}to(e){return new XOe(this._source,this._transformers,e)}}function Aq(n){return typeof n=="string"||typeof n=="number"}class QR{constructor(e){fn(this,"delay",void 0),fn(this,"max",void 0),fn(this,"_queue",[]),fn(this,"_timeout",null),fn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new QR(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Jr(()=>{this.flush()},this.delay))}flush(){var e,t;Le(e=Or(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Ky{constructor(){fn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),fn(this,"subscribe",Ky.prototype.on),fn(this,"unsubscribe",Ky.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");Le(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=ht(r=this._subscribers[e]).call(r,i=>i!==t)}}class ql{constructor(e){fn(this,"_pairs",void 0),this._pairs=e}*[$u](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=gg(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new pJ(this._pairs)}toIdSet(){return new cc(this.toIdArray())}toItemSet(){return new cc(this.toItemArray())}cache(){return new ql([...this._pairs])}distinct(e){const t=new cc;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new ql({*[$u](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new ql({*[$u](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=TE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const t=TE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new ql({[$u]:()=>{var t;return TE(Rn(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,l]=i;return e(o,l,s,a)}))}})}}function JOe(n,e){return n[e]==null&&(n[e]=uc()),n}class JR extends Ky{get idProp(){return this._idProp}constructor(e,t){super(),fn(this,"flush",void 0),fn(this,"length",void 0),fn(this,"_options",void 0),fn(this,"_data",void 0),fn(this,"_idProp",void 0),fn(this,"_queue",null),e&&!St(e)&&(t=e,e=[]),this._options=t||{},this._data=new pJ,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=QR.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(St(e)){const s=Lt(e).call(e,o=>o[this._idProp]);if(KR(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=nl({},this._data.get(u)),f=this._updateItem(h);i.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);r.push(h)}};if(St(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const c={items:i,oldData:s,data:o};this._trigger("update",c,t)}return Mn(r).call(r,i)}updateOnly(e,t){var r;St(e)||(e=[e]);const i=Lt(r=Lt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],c=YQ(o,a);return this._data.set(l,c),{id:l,oldData:o,updatedData:c}});if(i.length){const s={items:Lt(i).call(i,o=>o.id),oldData:Lt(i).call(i,o=>o.oldData),data:Lt(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;Aq(e)?(r=e,s=t):St(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&ht(s),l=[];let c,u,h;if(r!=null)c=this._data.get(r),c&&a&&!a(c)&&(c=void 0);else if(i!=null)for(let f=0,m=i.length;f<m;f++)c=this._data.get(i[f]),c!=null&&(!a||a(c))&&l.push(c);else{var d;u=[...hu(d=this._data).call(d)];for(let f=0,m=u.length;f<m;f++)h=u[f],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&c!=null)c=this._filterFields(c,f);else for(let m=0,g=l.length;m<g;m++)l[m]=this._filterFields(l[m],f)}if(o=="Object"){const f={};for(let m=0,g=l.length;m<g;m++){const v=l[m],y=v[this._idProp];f[y]=v}return f}else return r!=null?c??null:l}getIds(e){const t=this._data,r=e&&ht(e),i=e&&e.order,s=[...hu(t).call(t)],o=[];if(r)if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&r(h)&&a.push(h)}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&r(u)&&o.push(u[this._idProp])}else if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&ht(t),i=this._data,s=[...hu(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!r||r(c))&&e(c,l)}}map(e,t){const r=t&&ht(t),i=[],s=this._data,o=[...hu(s).call(s)];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!r||r(u))&&i.push(e(u,c))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&Rx(r=St(t)?t:Un(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;Rn(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Rn(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=St(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(r.push(c),i.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(Aq(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...hu(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of Cq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of Cq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...hu(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(i[d]==u){h=!0;break}!h&&u!==void 0&&(i[s]=u,s++)}return i}_addItem(e){const t=JOe(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Ur(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,Dq(Dq({},r),e)),t}stream(e){if(e){const r=this._data;return new ql({*[$u](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new ql({[$u]:fe(t=zOe(this._data)).call(t,this._data)})}}}function ZOe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Le(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function eRe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof Le(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&ZOe(n,e.getDataSet())}var tRe=Cs(),Ai=Ze(tRe);const Gr=typeof window<"u"&&window.moment||Ai;var ev={exports:{}},on={},tv={exports:{}},wl={},Nq;function gJ(){if(Nq)return wl;Nq=1;function n(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var r=/javascript\s*\:/img;function i(s,o){return r.test(o)?"":o}return wl.whiteList=n(),wl.getDefaultWhiteList=n,wl.onAttr=e,wl.onIgnoreAttr=t,wl.safeAttrValue=i,wl}var eT,Lq;function vJ(){return Lq||(Lq=1,eT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),eT}var tT,Fq;function nRe(){if(Fq)return tT;Fq=1;var n=vJ();function e(t,r){t=n.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=n.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var m=n.trim(d.slice(0,f)),g=n.trim(d.slice(f+1));if(m){var v=r(o,l.length,m,g,d);v&&(l+=v+"; ")}}}o=a+1}for(;a<i;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return n.trim(l)}return tT=e,tT}var nT,$q;function rRe(){if($q)return nT;$q=1;var n=gJ(),e=nRe();vJ();function t(s){return s==null}function r(s){var o={};for(var a in s)o[a]=s[a];return o}function i(s){s=r(s||{}),s.whiteList=s.whiteList||n.whiteList,s.onAttr=s.onAttr||n.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||n.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||n.safeAttrValue,this.options=s}return i.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,m,g,v,y){var b=l[g],w=!1;if(b===!0?w=b:typeof b=="function"?w=b(v):b instanceof RegExp&&(w=b.test(v)),w!==!0&&(w=!1),v=h(g,v),!!v){var S={position:m,sourcePosition:f,source:y,isWhite:w};if(w){var _=c(g,v,S);return t(_)?g+":"+v:_}else{var _=u(g,v,S);if(!t(_))return _}}});return d},nT=i,nT}var jq;function HP(){return jq||(jq=1,function(n,e){var t=gJ(),r=rRe();function i(o,a){var l=new r(a);return l.process(o)}e=n.exports=i,e.FilterCSS=r;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=n.exports)}(tv,tv.exports)),tv.exports}var rT,Bq;function ZR(){return Bq||(Bq=1,rT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,t=e.exec(n);return t?t.index:-1}}),rT}var zq;function yJ(){if(zq)return on;zq=1;var n=HP().FilterCSS,e=HP().getDefaultWhiteList,t=ZR();function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var i=new n;function s(F,B,j){}function o(F,B,j){}function a(F,B,j){}function l(F,B,j){}function c(F){return F.replace(h,"&lt;").replace(d,"&gt;")}function u(F,B,j,H){if(j=R(j),B==="href"||B==="src"){if(j=t.trim(j),j==="#")return"#";if(!(j.substr(0,7)==="http://"||j.substr(0,8)==="https://"||j.substr(0,7)==="mailto:"||j.substr(0,4)==="tel:"||j.substr(0,11)==="data:image/"||j.substr(0,6)==="ftp://"||j.substr(0,2)==="./"||j.substr(0,3)==="../"||j[0]==="#"||j[0]==="/"))return""}else if(B==="background"){if(b.lastIndex=0,b.test(j))return""}else if(B==="style"){if(w.lastIndex=0,w.test(j)||(S.lastIndex=0,S.test(j)&&(b.lastIndex=0,b.test(j))))return"";H!==!1&&(H=H||i,j=H.process(j))}return j=D(j),j}var h=/</g,d=/>/g,f=/"/g,m=/&quot;/g,g=/&#([a-zA-Z0-9]*);?/gim,v=/&colon;?/gim,y=/&newline;?/gim,b=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,S=/u\s*r\s*l\s*\(.*/gi;function _(F){return F.replace(f,"&quot;")}function k(F){return F.replace(m,'"')}function C(F){return F.replace(g,function(j,H){return H[0]==="x"||H[0]==="X"?String.fromCharCode(parseInt(H.substr(1),16)):String.fromCharCode(parseInt(H,10))})}function E(F){return F.replace(v,":").replace(y," ")}function O(F){for(var B="",j=0,H=F.length;j<H;j++)B+=F.charCodeAt(j)<32?" ":F.charAt(j);return t.trim(B)}function R(F){return F=k(F),F=C(F),F=E(F),F=O(F),F}function D(F){return F=_(F),F=c(F),F}function N(){return""}function L(F,B){typeof B!="function"&&(B=function(){});var j=!Array.isArray(F);function H(X){return j?!0:t.indexOf(F,X)!==-1}var V=[],K=!1;return{onIgnoreTag:function(X,ee,q){if(H(X))if(q.isClosing){var Y="[/removed]",U=q.position+Y.length;return V.push([K!==!1?K:q.position,U]),K=!1,Y}else return K||(K=q.position),"[removed]";else return B(X,ee,q)},remove:function(X){var ee="",q=0;return t.forEach(V,function(Y){ee+=X.slice(q,Y[0]),q=Y[1]}),ee+=X.slice(q),ee}}}function W(F){for(var B="",j=0;j<F.length;){var H=F.indexOf("<!--",j);if(H===-1){B+=F.slice(j);break}B+=F.slice(j,H);var V=F.indexOf("-->",H);if(V===-1)break;j=V+3}return B}function $(F){var B=F.split("");return B=B.filter(function(j){var H=j.charCodeAt(0);return H===127?!1:H<=31?H===10||H===13:!0}),B.join("")}return on.whiteList=r(),on.getDefaultWhiteList=r,on.onTag=s,on.onIgnoreTag=o,on.onTagAttr=a,on.onIgnoreTagAttr=l,on.safeAttrValue=u,on.escapeHtml=c,on.escapeQuote=_,on.unescapeQuote=k,on.escapeHtmlEntities=C,on.escapeDangerHtml5Entities=E,on.clearNonPrintableCharacter=O,on.friendlyAttrValue=R,on.escapeAttrValue=D,on.onIgnoreTagStripAll=N,on.StripTagBody=L,on.stripCommentTag=W,on.stripBlankChar=$,on.attributeWrapSign='"',on.cssFilter=i,on.getDefaultCSSWhiteList=e,on}var nv={},qq;function bJ(){if(qq)return nv;qq=1;var n=ZR();function e(h){var d=n.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=n.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function r(h,d,f){var m="",g=0,v=!1,y=!1,b=0,w=h.length,S="",_="";e:for(b=0;b<w;b++){var k=h.charAt(b);if(v===!1){if(k==="<"){v=b;continue}}else if(y===!1){if(k==="<"){m+=f(h.slice(g,b)),v=b,g=b;continue}if(k===">"||b===w-1){m+=f(h.slice(g,v)),_=h.slice(v,b+1),S=e(_),m+=d(v,m.length,S,_,t(_)),g=b+1,v=!1;continue}if(k==='"'||k==="'")for(var C=1,E=h.charAt(b-C);E.trim()===""||E==="=";){if(E==="="){y=k;continue e}E=h.charAt(b-++C)}}else if(k===y){y=!1;continue}}return g<w&&(m+=f(h.substr(g))),m}var i=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,m=0,g=[],v=!1,y=h.length;function b(C,E){if(C=n.trim(C),C=C.replace(i,"").toLowerCase(),!(C.length<1)){var O=d(C,E||"");O&&g.push(O)}}for(var w=0;w<y;w++){var S=h.charAt(w),_,k;if(v===!1&&S==="="){v=h.slice(f,w),f=w+1,m=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,w+1);continue}if(v!==!1&&w===m){if(k=h.indexOf(S,w+1),k===-1)break;_=n.trim(h.slice(m+1,k)),b(v,_),v=!1,w=k,f=w+1;continue}if(/\s|\n|\t/.test(S))if(h=h.replace(/\s|\n|\t/g," "),v===!1)if(k=o(h,w),k===-1){_=n.trim(h.slice(f,w)),b(_),v=!1,f=w+1;continue}else{w=k-1;continue}else if(k=l(h,w-1),k===-1){_=n.trim(h.slice(f,w)),_=u(_),b(v,_),v=!1,f=w+1;continue}else continue}return f<h.length&&(v===!1?b(h.slice(f)):b(v,u(n.trim(h.slice(f))))),n.trim(g.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return nv.parseTag=r,nv.parseAttr=s,nv}var iT,Uq;function iRe(){if(Uq)return iT;Uq=1;var n=HP().FilterCSS,e=yJ(),t=bJ(),r=t.parseTag,i=t.parseAttr,s=ZR();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(m){return m.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,m=f.whiteList,g=f.onTag,v=f.onIgnoreTag,y=f.onTagAttr,b=f.onIgnoreTagAttr,w=f.safeAttrValue,S=f.escapeHtml,_=d.attributeWrapSign,k=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var C=!1;f.stripIgnoreTagBody&&(C=e.StripTagBody(f.stripIgnoreTagBody,v),v=C.onIgnoreTag);var E=r(h,function(O,R,D,N,L){var W={sourcePosition:O,position:R,isClosing:L,isWhite:Object.prototype.hasOwnProperty.call(m,D)},$=g(D,N,W);if(!o($))return $;if(W.isWhite){if(W.isClosing)return"</"+D+">";var F=a(N),B=m[D],j=i(F.html,function(H,V){var K=s.indexOf(B,H)!==-1,X=y(D,H,V,K);return o(X)?K?(V=w(D,H,V,k),V?H+"="+_+V+_:H):(X=b(D,H,V,K),o(X)?void 0:X):X});return N="<"+D,j&&(N+=" "+j),F.closing&&(N+=" /"),N+=">",N}else return $=v(D,N,W),o($)?S(N):$},S);return C&&(E=C.remove(E)),E},iT=u,iT}var Hq;function sRe(){return Hq||(Hq=1,function(n,e){var t=yJ(),r=bJ(),i=iRe();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.filterXSS=s,e.FilterXSS=i,function(){for(var a in t)e[a]=t[a];for(var l in r)e[l]=r[l]}(),typeof window<"u"&&(window.filterXSS=n.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=n.exports)}(ev,ev.exports)),ev.exports}var oRe=sRe(),aRe=Ze(oRe);function Wq(n,e){var t=Un(n);if(Gy){var r=Gy(n);e&&(r=ht(r).call(r,function(i){return Ix(n,i).enumerable})),t.push.apply(t,r)}return t}function Yq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Le(t=Wq(Object(i),!0)).call(t,function(s){fn(n,s,i[s])}):Vy?nJ(n,Vy(i)):Le(r=Wq(Object(i))).call(r,function(s){XR(n,s,Ix(i,s))})}return n}function Pc(n){var e;if(!n)return!1;let t=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return t?eRe(t,n):!1}const sT=/^\/?Date\((-?\d+)/i,lRe=/^\d+$/;function eD(n,e){let t;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return fi(n)&&!isNaN(Date.parse(n))?Ai(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return eD(n,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+qf(n)+" to type "+e):r}case"Moment":if(fp(n))return Ai(n);if(n instanceof Date)return Ai(n.valueOf());if(Ai.isMoment(n))return Ai(n);if(fi(n))return t=sT.exec(n),t?Ai(Number(t[1])):(t=lRe.exec(n),Ai(t?Number(n):n));throw new TypeError("Cannot convert object of type "+qf(n)+" to type "+e);case"ISODate":if(fp(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Ai.isMoment(n))return n.toDate().toISOString();if(fi(n))return t=sT.exec(n),t?new Date(Number(t[1])).toISOString():Ai(n).format();throw new Error("Cannot convert object of type "+qf(n)+" to type ISODate");case"ASPDate":if(fp(n))return"/Date("+n+")/";if(n instanceof Date||Ai.isMoment(n))return"/Date("+n.valueOf()+")/";if(fi(n)){t=sT.exec(n);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(n).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+qf(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Xy(n){var e,t,r,i,s,o;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const l=n._idProp,c=new JR({fieldId:l}),u=Lt(e=KOe(n)).call(e,h=>{var d;return Rx(d=Un(h)).call(d,(f,m)=>(f[m]=eD(h[m],a[m]),f),{})}).to(c);return u.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:fe(t=Le(c)).call(t,c),get:fe(r=c.get).call(r,c),getIds:fe(i=c.getIds).call(i,c),off:fe(s=c.off).call(s,c),on:fe(o=c.on).call(o,c),get length(){return c.length},idProp:l,type:a,rawDS:n,coercedDS:c,dispose:()=>u.stop()}}const xJ=n=>{const e=new aRe.FilterXSS(n);return t=>typeof t=="string"?e.process(t):t},cRe=n=>n;let WP=xJ();const uRe=n=>{n&&(n.disabled===!0?(WP=cRe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(WP=xJ(n.filterOptions)))},z=Yq(Yq({},VMe),{},{convert:eD,setupXSSProtection:uRe});XR(z,"xss",{get:function(){return WP}});var Gq={},oT,Vq;function hRe(){if(Vq)return oT;Vq=1;var n=Sn(),e=kt(),t=Mt(),r=Zi(),i=vQ().trim,s=PR(),o=t("".charAt),a=n.parseFloat,l=n.Symbol,c=l&&l.iterator,u=1/a(s+"-0")!==-1/0||c&&!e(function(){a(Object(c))});return oT=u?function(d){var f=i(r(d)),m=a(f);return m===0&&o(f,0)==="-"?-0:m}:a,oT}var Kq;function dRe(){if(Kq)return Gq;Kq=1;var n=Ve(),e=hRe();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Gq}var aT,Xq;function fRe(){if(Xq)return aT;Xq=1,dRe();var n=Qt();return aT=n.parseFloat,aT}var lT,Qq;function pRe(){if(Qq)return lT;Qq=1;var n=fRe();return lT=n,lT}var cT,Jq;function mRe(){return Jq||(Jq=1,cT=pRe()),cT}var gRe=mRe(),Qy=Ze(gRe);class hl{constructor(){this.options=null,this.props=null}setOptions(e){e&&z.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var Zq={},eU;function vRe(){if(eU)return Zq;eU=1;var n=Ve(),e=yQ();return n({target:"String",proto:!0},{repeat:e}),Zq}var uT,tU;function yRe(){if(tU)return uT;tU=1,vRe();var n=kn();return uT=n("String","repeat"),uT}var hT,nU;function bRe(){if(nU)return hT;nU=1;var n=nn(),e=yRe(),t=String.prototype;return hT=function(r){var i=r.repeat;return typeof r=="string"||r===t||n(t,r)&&i===t.repeat?e:i},hT}var dT,rU;function xRe(){if(rU)return dT;rU=1;var n=bRe();return dT=n,dT}var fT,iU;function wRe(){return iU||(iU=1,fT=xRe()),fT}var _Re=wRe(),gu=Ze(_Re);function tD(n,e,t){if(t&&!St(t))return tD(n,e,[t]);if(e.hiddenDates=[],t&&St(t)==!0){var r;for(let i=0;i<t.length;i++)if(gu(t[i])===void 0){const s={};s.start=n(t[i].start).toDate().valueOf(),s.end=n(t[i].end).toDate().valueOf(),e.hiddenDates.push(s)}Rn(r=e.hiddenDates).call(r,(i,s)=>i.start-s.start)}}function Jy(n,e,t){if(t&&!St(t))return Jy(n,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){tD(n,e,t);const r=n(e.range.start),i=n(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(gu(t[h])!==void 0){let d=n(t[h].start),f=n(t[h].end);if(d._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(t[h].start));if(f._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(t[h].end));if(f-d>=4*o){let g=0,v=i.clone();switch(gu(t[h])){case"daily":d.day()!=f.day()&&(g=1),d=d.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7,"days"),f=f.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7-g,"days"),v.add(1,"weeks");break;case"weekly":{const y=f.diff(d,"days"),b=d.day();d=d.date(r.date()).month(r.month()).year(r.year()),f=d.clone(),d=d.day(b).subtract(1,"weeks"),f=f.day(b).add(y,"days").subtract(1,"weeks"),v.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(g=1),d=d.month(r.month()).year(r.year()).subtract(1,"months"),f=f.month(r.month()).year(r.year()).subtract(1,"months").add(g,"months"),v.add(1,"months");break;case"yearly":d.year()!=f.year()&&(g=1),d=d.year(r.year()).subtract(1,"years"),f=f.year(r.year()).subtract(1,"years").add(g,"years"),v.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gu(t[h]));return}for(;d<v;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),gu(t[h])){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gu(t[h]));return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}SRe(e);const a=eb(e.range.start,e.hiddenDates),l=eb(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function SRe(n){var e;const t=n.hiddenDates,r=[];for(var i=0;i<t.length;i++)for(let s=0;s<t.length;s++)i!=s&&t[s].remove!=!0&&t[i].remove!=!0&&(t[s].start>=t[i].start&&t[s].end<=t[i].end?t[s].remove=!0:t[s].start>=t[i].start&&t[s].start<=t[i].end?(t[i].end=t[s].end,t[s].remove=!0):t[s].end>=t[i].start&&t[s].end<=t[i].end&&(t[i].start=t[s].start,t[s].remove=!0));for(i=0;i<t.length;i++)t[i].remove!==!0&&r.push(t[i]);n.hiddenDates=r,Rn(e=n.hiddenDates).call(e,(s,o)=>s.start-o.start)}function kRe(n,e,t){let r=!1;const i=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(i>=a&&i<s){r=!0;break}}if(r==!0&&i<e._end.valueOf()&&i!=t){const o=n(t),a=n(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function sU(n,e,t){let r;if(n.body.hiddenDates.length==0)return r=n.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const i=eb(e,n.body.hiddenDates);i.hidden==!0&&(e=i.startDate);const s=mp(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){r=n.range.conversion(t,s);const o=CRe(n.body.hiddenDates,e,r.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+o,-(r.offset-e.valueOf())*r.scale}else if(e>n.range.end){const o={start:n.range.start,end:e};return e=aU(n.options.moment,n.body.hiddenDates,o,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}else return e=aU(n.options.moment,n.body.hiddenDates,n.range,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}}function oU(n,e,t){if(n.body.hiddenDates.length==0){const r=n.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=mp(n.body.hiddenDates,n.range.start,n.range.end),s=(n.range.end-n.range.start-r)*e/t,o=ERe(n.body.hiddenDates,n.range,s);return new Date(o+s+n.range.start)}}function mp(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<t&&(r+=o-s)}return r}function CRe(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<=t&&(r+=o-s)}return r}function aU(n,e,t,r){return r=n(r).toDate().valueOf(),r-=Zy(n,e,t,r),r}function Zy(n,e,t,r){let i=0;r=n(r).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&r>=a&&(i+=a-o)}return i}function ERe(n,e,t){let r=0,i=0,s=e.start;for(let o=0;o<n.length;o++){const a=n[o].start,l=n[o].end;if(a>=e.start&&l<e.end){if(i+=a-s,s=l,i>=t)break;r+=l-a}}return r}function Ml(n,e,t,r){const i=eb(e,n);return i.hidden==!0?t<0?r==!0?i.startDate-(i.endDate-e)-1:i.startDate-1:r==!0?i.endDate+(e-i.startDate)+1:i.endDate+1:e}function eb(n,e){for(let i=0;i<e.length;i++){var t=e[i].start,r=e[i].end;if(n>=t&&n<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}class nD extends hl{constructor(e,t){var r,i,s,o,a,l,c;super();const u=Gr().hours(0).minutes(0).seconds(0).milliseconds(0),h=u.clone().add(-3,"days").valueOf(),d=u.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=h,this.end=d):(this.start=t.start||h,this.end=t.end||d),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:Gr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=z.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",fe(r=this._onDragStart).call(r,this)),this.body.emitter.on("panmove",fe(i=this._onDrag).call(i,this)),this.body.emitter.on("panend",fe(s=this._onDragEnd).call(s,this)),this.body.emitter.on("mousewheel",fe(o=this._onMouseWheel).call(o,this)),this.body.emitter.on("touch",fe(a=this._onTouch).call(a,this)),this.body.emitter.on("pinch",fe(l=this._onPinch).call(l,this)),this.body.dom.rollingModeBtn.addEventListener("click",fe(c=this.startRolling).call(c,this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];z.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const i=z.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=i-r*s,a=i+r*(1-s),l={animation:!1};e.setRange(o,a,l),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Jr(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,i,s){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const o=this,a=e!=null?z.convert(e,"Date").valueOf():null,l=t!=null?z.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const h=this.start,d=this.end,f=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,m=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",g=z.easingFunctions[m];if(!g){var c;throw new Error(Mn(c="Unknown easing function ".concat(Ur(m),". Choose from: ")).call(c,Un(z.easingFunctions).join(", ")))}const v=hi();let y=!1;const b=()=>{if(!o.props.touch.dragging){const S=hi()-v,_=g(S/f),k=S>f,C=k||a===null?a:h+(a-h)*_,E=k||l===null?l:d+(l-d)*_;u=o._applyRange(C,E),Jy(o.options.moment,o.body,o.options.hiddenDates),y=y||u;const O={start:new Date(o.start),end:new Date(o.end),byUser:r.byUser,event:r.event};if(s&&s(_,u,k),u&&o.body.emitter.emit("rangechange",O),k){if(y&&(o.body.emitter.emit("rangechanged",O),i))return i()}else o.animationTimer=Jr(b,20)}};return b()}else{var u=this._applyRange(a,l);if(Jy(this.options.moment,this.body,this.options.hiddenDates),u){const h={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(o.timeoutID),o.timeoutID=Jr(()=>{o.body.emitter.emit("rangechanged",h)},200),i)return i()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?z.convert(e,"Date").valueOf():this.start,i=t!=null?z.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?z.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?z.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(r)||r===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(i)||i===null)throw new Error('Invalid end "'.concat(t,'"'));if(i<r&&(i=r),o!==null&&r<o&&(a=o-r,r+=a,i+=a,s!=null&&i>s&&(i=s)),s!==null&&i>s&&(a=i-s,r-=a,i-=a,o!=null&&r<o&&(r=o)),this.options.zoomMin!==null){let c=Qy(this.options.zoomMin);c<0&&(c=0),i-r<c&&(this.end-this.start===c&&r>=this.start-.5&&i<=this.end?(r=this.start,i=this.end):(a=c-(i-r),r-=a/2,i+=a/2))}if(this.options.zoomMax!==null){let c=Qy(this.options.zoomMax);c<0&&(c=0),i-r>c&&(this.end-this.start===c&&r<this.start&&i>this.end?(r=this.start,i=this.end):(a=i-r-c,r+=a/2,i-=a/2))}const l=this.start!=r||this.end!=i;return!(r>=this.start&&r<=this.end||i>=this.start&&i<=this.end)&&!(this.start>=r&&this.start<=i||this.end>=r&&this.end<=i)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return nD.conversion(this.start,this.end,e,t)}static conversion(e,t,r,i){return i===void 0&&(i=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-i)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;lU(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let i=this.props.touch.end-this.props.touch.start;const s=mp(this.body.hiddenDates,this.start,this.end);i-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=r/o*i:a=-r/o*i;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Ml(this.body.hiddenDates,l,this.previousDelta-r,!0),h=Ml(this.body.hiddenDates,c,this.previousDelta-r,!0);if(u!=l||h!=c){this.deltaDifference+=r,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=r,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let i;t<0?i=1-t/r:i=1/(1+t/r);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(i,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,z.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;z.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,i=mp(this.body.hiddenDates,this.start,this.end),s=Zy(this.options.moment,this.body.hiddenDates,this,r),o=i-s;let a=r-s+(this.props.touch.start-(r-s))*t,l=r+o+(this.props.touch.end-(r+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Ml(this.body.hiddenDates,a,1-t,!0),u=Ml(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),i=this.options.rtl?t-r.left:r.right-t,s=this.body.util.toTime(i);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(lU(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const i=this.body.domProps.center.height;return t=this.conversion(i),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,i){t==null&&(t=(this.start+this.end)/2);const s=mp(this.body.hiddenDates,this.start,this.end),o=Zy(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const u=Ml(this.body.hiddenDates,l,r,!0),h=Ml(this.body.hiddenDates,c,-r,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:i};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,i=this.end+t*e;this.start=r,this.end=i}moveTo(e){const r=(this.start+this.end)/2-e,i=this.start-r,s=this.end-r,o={animation:!1,byUser:!0,event:null};this.setRange(i,s,o)}destroy(){this.stopRolling()}}function lU(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var pT,cU;function TRe(){if(cU)return pT;cU=1,wQ();var n=Qt();return pT=n.setInterval,pT}var mT,uU;function MRe(){return uU||(uU=1,mT=TRe()),mT}var PRe=MRe(),IRe=Ze(PRe),xf=null;function YP(n,e){var t=e||{preventDefault:!1};if(n.Manager){var r=n,i=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),YP(new r(c,h),h)};return r.assign(i,r),i.Manager=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),YP(new r.Manager(c,h),h)},i}var s=Object.create(n),o=n.element;o.hammer||(o.hammer=[]),o.hammer.push(s),n.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(xf=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],n.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(n.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){xf=u.target,n.emit(c,u)},s.destroy=function(){var c=n.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete n.element.hammer,s._handlers={},n.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=xf;for(var d=xf.isConnected?xf:c.target;d&&!u;){var f=d.hammer;if(f){for(var m,g=0;g<f.length;g++)if(m=f[g]._handlers[c.type],m)for(var v=0;v<m.length&&!u;v++)m[v](c)}d=d.parentNode}}return s}function ORe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let GP;if(typeof window<"u"){const n=window.Hammer||$R;GP=YP(n,{preventDefault:"mouse"})}else GP=function(){return ORe()};var Ir=GP;function wJ(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function RRe(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}function DRe(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class Ic{constructor(e,t,r,i,s){this.moment=s&&s.moment||Gr,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,St(i)?this.hiddenDates=i:i!=null?this.hiddenDates=[i]:this.hiddenDates=[],this.format=Ic.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=z.deepExtend({},Ic.FORMAT);this.format=z.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):hi(),this._end=t!=null?this.moment(t.valueOf()):hi(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Ml(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,kRe(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,i=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),i*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),i*2>e&&(this.scale="day",this.step=2),i>e&&(this.scale="day",this.step=1),i/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){let i=Gr(e);if(t=="year"){const s=i.year()+Math.round(i.month()/12);i=i.year(Math.round(s/r)*r).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")i.date()>15?i=i.date(1).add(1,"month"):i=i.date(1),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")i.weekday()>2?i=i.weekday(0).add(1,"week"):i=i.weekday(0),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/24)*24);break;default:i=i.hours(Math.round(i.hours()/12)*12);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/12)*12);break;default:i=i.hours(Math.round(i.hours()/6)*6);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(r){case 4:i=i.minutes(Math.round(i.minutes()/60)*60);break;default:i=i.minutes(Math.round(i.minutes()/30)*30);break}i=i.seconds(0).milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:i=i.minutes(Math.round(i.minutes()/5)*5).seconds(0);break;case 5:i=i.seconds(Math.round(i.seconds()/60)*60);break;default:i=i.seconds(Math.round(i.seconds()/30)*30);break}i=i.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:i=i.seconds(Math.round(i.seconds()/5)*5).milliseconds(0);break;case 5:i=i.milliseconds(Math.round(i.milliseconds()/1e3)*1e3);break;default:i=i.milliseconds(Math.round(i.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=r>5?r/2:1;i=i.milliseconds(Math.round(i.milliseconds()/s)*s)}return i}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){var e;const t=this.moment,r=this.moment(this.current),i=r.locale?r.locale("en"):r.lang("en"),s=this.step,o=[];function a(d){return d/s%2==0?" vis-even":" vis-odd"}function l(d){return d.isSame(hi(),"day")?" vis-today":d.isSame(t().add(1,"day"),"day")?" vis-tomorrow":d.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function c(d){return d.isSame(hi(),"week")?" vis-current-week":""}function u(d){return d.isSame(hi(),"month")?" vis-current-month":""}function h(d){return d.isSame(hi(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(i)),o.push(a(i.milliseconds()));break;case"second":o.push(l(i)),o.push(a(i.seconds()));break;case"minute":o.push(l(i)),o.push(a(i.minutes()));break;case"hour":o.push(Mn(e="vis-h".concat(i.hours())).call(e,this.step==4?"-h"+(i.hours()+4):"")),o.push(l(i)),o.push(a(i.hours()));break;case"weekday":o.push("vis-".concat(i.format("dddd").toLowerCase())),o.push(l(i)),o.push(c(i)),o.push(a(i.date()));break;case"day":o.push("vis-day".concat(i.date())),o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(l(i)),o.push(u(i)),o.push(this.step<=2?l(i):""),o.push(this.step<=2?"vis-".concat(i.format("dddd").toLowerCase()):""),o.push(a(i.date()-1));break;case"week":o.push("vis-week".concat(i.format("w"))),o.push(c(i)),o.push(a(i.week()));break;case"month":o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(u(i)),o.push(a(i.month()));break;case"year":o.push("vis-year".concat(i.year())),o.push(h(i)),o.push(a(i.year()));break}return ht(o).call(o,String).join(" ")}}Ic.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class VP extends hl{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:z.extend({},Ic.FORMAT),moment:Gr,timeAxis:null},this.options=z.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(z.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),z.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof Gr.locale=="function"?Gr.locale(e.locale):Gr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,i=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==i;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height="".concat(this.props.height,"px"),this._repaintLabels(),l?i.insertBefore(t,l):i.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(r,c):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=z.convert(this.body.range.start,"Number"),r=z.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=i-Zy(this.options.moment,this.body.hiddenDates,this.body.range,i);s-=this.body.util.toTime(0).valueOf();const o=new Ic(new Date(t),new Date(r),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,m=0,g,v,y,b=0;const w=1e3;let S;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&b<w;){switch(b++,d=o.isMajor(),S=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),g=m,m=h-u,o.scale){case"week":f=!0;break;default:f=m>=g*.4;break}if(this.options.showMinorLabels&&f){var _=this._repaintMinorText(u,o.getLabelMinor(l),e,S);_.style.width="".concat(m,"px")}d&&this.options.showMajorLabels?(u>0&&(y==null&&(y=u),_=this._repaintMajorText(u,o.getLabelMajor(l),e,S)),v=this._repaintMajorLine(u,m,e,S)):f?v=this._repaintMinorLine(u,m,e,S):v&&(v.style.width="".concat(di(v.style.width)+m,"px"))}if(b===w&&!hU&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(w," lines.")),hU=!0),this.options.showMajorLabels){const k=this.body.util.toTime(0),C=o.getLabelMajor(k),E=C.length*(this.props.majorCharWidth||10)+10;(y==null||E<y)&&this._repaintMajorText(0,C,e,S)}Le(z).call(z,this.dom.redundant,k=>{for(;k.length;){const C=k.pop();C&&C.parentNode&&C.parentNode.removeChild(C)}})}_repaintMinorText(e,t,r,i){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=z.xss(t);let o=r=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className="vis-text vis-minor ".concat(i),s}_repaintMajorText(e,t,r,i){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=z.xss(t),s.className="vis-text vis-major ".concat(i);let o=r=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,r){var i;const s=this.options.rtl?t*-1:t;e.style.transform=Mn(i="translate(".concat(s,"px, ")).call(i,r,"px)")}_repaintMinorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.minorLineHeight,"px");let l=r=="top"?a.majorLabelHeight:this.body.domProps.top.height,c=e-a.minorLineWidth/2;return this._setXY(o,c,l),o.className=Mn(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(s,i),o}_repaintMajorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.majorLineHeight,"px");let l=r=="top"?0:this.body.domProps.top.height,c=e-a.majorLineWidth/2;return this._setXY(o,c,l),o.className=Mn(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(s,i),o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var hU=!1;function ARe(n){var e=window,t={},r={keydown:{},keyup:{}},i={},s;for(s=97;s<=122;s++)i[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)i[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)i[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)i["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)i["num"+s]={code:96+s,shift:!1};i["num*"]={code:106,shift:!1},i["num+"]={code:107,shift:!1},i["num-"]={code:109,shift:!1},i["num/"]={code:111,shift:!1},i["num."]={code:110,shift:!1},i.left={code:37,shift:!1},i.up={code:38,shift:!1},i.right={code:39,shift:!1},i.down={code:40,shift:!1},i.space={code:32,shift:!1},i.enter={code:13,shift:!1},i.shift={code:16,shift:void 0},i.esc={code:27,shift:!1},i.backspace={code:8,shift:!1},i.tab={code:9,shift:!1},i.ctrl={code:17,shift:!1},i.alt={code:18,shift:!1},i.delete={code:46,shift:!1},i.pageup={code:33,shift:!1},i.pagedown={code:34,shift:!1},i["="]={code:187,shift:!1},i["-"]={code:189,shift:!1},i["]"]={code:221,shift:!1},i["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(r[u][c.keyCode]!==void 0)for(var h=r[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);r[h][i[c].code]===void 0&&(r[h][i[c].code]=[]),r[h][i[c].code].push({fn:u,shift:i[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in i)i.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in i)if(i.hasOwnProperty(u)){if(c.shiftKey==!0&&i[u].shift==!0&&c.keyCode==i[u].code)return u;if(c.shiftKey==!1&&i[u].shift==!1&&c.keyCode==i[u].code)return u;if(c.keyCode==i[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=r[h][i[c].code];if(f!==void 0)for(var m=0;m<f.length;m++)f[m].fn==u&&f[m].shift==i[c].shift||d.push(r[h][i[c].code][m]);r[h][i[c].code]=d}else r[h][i[c].code]=[]},t.reset=function(){r={keydown:{},keyup:{}}},t.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}function Wi(n){var e,t;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Ir(this.dom.overlay),this.hammer.on("tap",fe(e=this._onTapOverlay).call(e,this));var r=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Le(i).call(i,function(s){r.hammer.on(s,function(o){o.stopPropagation()})}),document&&document.body&&(this.onClick=function(s){NRe(s.target,n)||r.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=ARe(),this.escListener=fe(t=this.deactivate).call(t,this)}IR(Wi.prototype);Wi.current=null;Wi.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Wi.prototype.activate=function(){var n;Wi.current&&Wi.current.deactivate(),Wi.current=this,this.active=!0,this.dom.overlay.style.display="none",z.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),fe(n=this.keycharm).call(n,"esc",this.escListener)};Wi.prototype.deactivate=function(){Wi.current===this&&(Wi.current=null),this.active=!1,this.dom.overlay.style.display="",z.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Wi.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function NRe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const rD={current:"current",time:"time",deleteSelected:"Delete selected"},LRe=rD,FRe=rD,iD={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},$Re=iD,jRe=iD,sD={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},BRe=sD,zRe=sD,oD={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},qRe=oD,URe=oD,kg={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},HRe=kg,WRe=kg,YRe=kg,GRe=kg,_J={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},VRe=_J,SJ={current:"",time:"",deleteSelected:" "},KRe=SJ,kJ={current:"",time:"",deleteSelected:" "},XRe=kJ,CJ={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},QRe=CJ,aD={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},JRe=aD,ZRe=aD,EJ={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},eDe=EJ,TJ={current:"",time:"",deleteSelected:""},tDe=TJ,MJ={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},nDe=MJ,Dx={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},rDe=Dx,iDe=Dx,sDe=Dx,PJ={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},oDe=PJ,sd={en:rD,en_EN:LRe,en_US:FRe,it:iD,it_IT:$Re,it_CH:jRe,nl:sD,nl_NL:BRe,nl_BE:zRe,de:oD,de_DE:qRe,de_CH:URe,fr:kg,fr_FR:HRe,fr_CA:WRe,fr_BE:YRe,fr_CH:GRe,es:_J,es_ES:VRe,uk:SJ,uk_UA:KRe,ru:kJ,ru_RU:XRe,pl:CJ,pl_PL:QRe,pt:aD,pt_BR:JRe,pt_PT:ZRe,tr:EJ,tr_TR:eDe,ja:TJ,ja_JP:tDe,lt:PJ,lt_LT:oDe,sv:MJ,sv_SE:nDe,nb:Dx,nn:iDe,nb_NO:rDe,nn_NO:sDe};class IJ extends hl{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={moment:Gr,locales:sd,locale:"en",id:void 0,title:void 0},this.options=z.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=z.extend({},sd,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Le(r=Un(this.options.locales)).call(r,s=>{this.options.locales[s]=z.extend({},i,this.options.locales[s])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&z.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,t,r;const i=document.createElement("div");i["custom-time"]=this,i.className="vis-custom-time ".concat(this.options.id||""),i.style.position="absolute",i.style.top="0px",i.style.height="100%",this.bar=i;const s=document.createElement("div");s.style.position="relative",s.style.top="0px",this.options.rtl?s.style.right="-10px":s.style.left="-10px",s.style.height="100%",s.style.width="20px";function o(a){this.body.range._onMouseWheel(a)}s.addEventListener?(s.addEventListener("mousewheel",fe(o).call(o,this),!1),s.addEventListener("DOMMouseScroll",fe(o).call(o,this),!1)):s.attachEvent("onmousewheel",fe(o).call(o,this)),i.appendChild(s),this.hammer=new Ir(s),this.hammer.on("panstart",fe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",fe(t=this._onDrag).call(t,this)),this.hammer.on("panend",fe(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Ir.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),r=this.options.locales.en);let i=this.options.title;if(i===void 0){var s;i=Mn(s="".concat(r.time,": ")).call(s,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),i=i.charAt(0).toUpperCase()+i.substring(1)}else typeof i=="function"&&(i=i.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=i,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=z.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=z.xss(e),this.marker.style.position="absolute",t){var r;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",fe(r=this._onMarkerChange).call(r,this)),this.marker.title=e,this.marker.addEventListener("blur",i=>{this.title!=i.target.innerHTML&&(this._onMarkerChanged(i),this.title=i.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,i=this.body.util.toTime(r),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(i,s,o):i;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}}class lD{_create(e){var t,r,i;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",fe(t=this._onTouch).call(t,this)),this.on("panmove",fe(r=this._onDrag).call(r,this));const s=this;this._origRedraw=fe(i=this._redraw).call(i,this),this._redraw=z.throttle(this._origRedraw),this.on("_change",m=>{s.itemSet&&s.itemSet.initialItemSetDrawn&&m&&m.queue==!0?s._redraw():s._origRedraw()}),this.hammer=new Ir(this.dom.root);const o=this.hammer.get("pinch").set({enable:!0});o&&DRe(o),this.hammer.get("pan").set({threshold:5,direction:Ir.DIRECTION_ALL}),this.timelineListeners={};const a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Le(a).call(a,m=>{const g=v=>{s.isActive()&&s.emit(m,v)};s.hammer.on(m,g),s.timelineListeners[m]=g}),wJ(this.hammer,m=>{s.emit("touch",m)}),RRe(this.hammer,m=>{s.emit("release",m)});function l(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let g=0,v=0;"detail"in m&&(v=m.detail*-1),"wheelDelta"in m&&(v=m.wheelDelta),"wheelDeltaY"in m&&(v=m.wheelDeltaY),"wheelDeltaX"in m&&(g=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(g=v*-1,v=0),"deltaY"in m&&(v=m.deltaY*-1),"deltaX"in m&&(g=m.deltaX);var y=40,b=800;m.deltaMode&&(m.deltaMode===1?(g*=y,v*=y):(g*=y,v*=b));const w=this.options.verticalScroll,S=Math.abs(v)>=Math.abs(g),_=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(w&&S&&!_){const k=this.props.scrollTop,C=k+v;this._setScrollTop(C)!==k&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let C=(S?v:g)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&S&&(C=-C);const E=this.range.start+C,O=this.range.end+C,R={animation:!1,byUser:!0,event:m};this.range.setRange(E,O,R),m.preventDefault();return}}const c="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(c,fe(l).call(l,this),!1),this.dom.top.addEventListener(c,fe(l).call(l,this),!1),this.dom.bottom.addEventListener(c,fe(l).call(l,this),!1);function u(m){if(s.options.verticalScroll&&(m.preventDefault(),s.isActive())){const g=-m.target.scrollTop;s._setScrollTop(g),s._redraw(),s.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",fe(u).call(u,this)),this.dom.right.parentNode.addEventListener("scroll",fe(u).call(u,this));let h=!1;function d(m){var g;if(m.preventDefault&&(s.emit("dragover",s.getEventProperties(m)),m.preventDefault()),Ut(g=m.target.className).call(g,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function f(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var g=JSON.parse(m.dataTransfer.getData("text"));if(!g||!g.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},g.target!=="item"?s.itemSet._onAddItem(m):s.itemSet._onDropObjectOnItem(m),s.emit("drop",s.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",fe(d).call(d,this),!1),this.dom.center.addEventListener("drop",fe(f).call(f,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var t;if(e){const o=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(z.selectiveExtend(o,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const a=this.timeAxis2=new VP(this.body,this.options);a.setOptions=l=>{const c=l?z.extend({},l):{};c.orientation="top",VP.prototype.setOptions.call(a,c)},this.components.push(a)}}else if(this.timeAxis2){var r;const a=Ut(r=this.components).call(r,this.timeAxis2);if(a!==-1){var i;Or(i=this.components).call(i,a,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&tD(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Wi(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(Le(t=this.components).call(t,o=>o.setOptions(e)),"configure"in e){var s;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const o=z.deepExtend({},this.options);Le(s=this.components).call(s,a=>{z.deepExtend(o,a.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const t in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,t)&&delete this.timelineListeners[t];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,Le(e=this.components).call(e,t=>t.destroy()),this.body=null}setCustomTime(e,t){var r;const i=ht(r=this.customTimes).call(r,s=>t===s.options.id);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));i.length>0&&i[0].setCustomTime(e)}getCustomTime(e){var t;const r=ht(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Ur(e)));return r[0].getCustomTime()}setCustomTimeMarker(e,t,r){var i;const s=ht(i=this.customTimes).call(i,o=>o.options.id===t);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));s.length>0&&s[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){var r;const i=ht(r=this.customTimes).call(r,s=>s.options.id===t);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));if(i.length>0)return i[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){var r;const i=e!==void 0?z.convert(e,"Date"):new Date;if(KR(r=this.customTimes).call(r,a=>a.options.id===t))throw new Error("A custom time with id ".concat(Ur(t)," already exists"));const o=new IJ(this.body,z.extend({},this.options,{time:i,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){var t;const r=ht(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Ur(e)));Le(r).call(r,i=>{var s,o,a,l;Or(s=this.customTimes).call(s,Ut(o=this.customTimes).call(o,i),1),Or(a=this.components).call(a,Ut(l=this.components).call(l,i),1),i.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const i=r.max-r.min,s=new Date(r.min.valueOf()-i*.01),o=new Date(r.max.valueOf()+i*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,i){typeof arguments[2]=="function"&&(i=arguments[2],r={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],i=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},i)):(s=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:s},i))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.range.end-this.range.start,s=z.convert(e,"Date").valueOf(),o=s-i/2,a=s+i/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,r)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const t=this.dom;if(!t||!t.container||t.root.offsetWidth==0)return;let r=!1;const i=this.options,s=this.props;Jy(this.options.moment,this.body,this.options.hiddenDates),i.orientation=="top"?(z.addClassName(t.root,"vis-top"),z.removeClassName(t.root,"vis-bottom")):(z.removeClassName(t.root,"vis-top"),z.addClassName(t.root,"vis-bottom")),i.rtl?(z.addClassName(t.root,"vis-rtl"),z.removeClassName(t.root,"vis-ltr")):(z.addClassName(t.root,"vis-ltr"),z.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=z.option.asSize(i.maxHeight,""),t.root.style.minHeight=z.option.asSize(i.minHeight,""),t.root.style.width=z.option.asSize(i.width,"");const o=t.root.offsetWidth;s.border.left=1,s.border.right=1,s.border.top=1,s.border.bottom=1,s.center.height=t.center.offsetHeight,s.left.height=t.left.offsetHeight,s.right.height=t.right.offsetHeight,s.top.height=t.top.clientHeight||-s.border.top,s.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-s.border.bottom;const a=Math.max(s.left.height,s.center.height,s.right.height),l=s.top.height+a+s.bottom.height+s.border.top+s.border.bottom;t.root.style.height=z.option.asSize(i.height,"".concat(l,"px")),s.root.height=t.root.offsetHeight,s.background.height=s.root.height;const c=s.root.height-s.top.height-s.bottom.height;s.centerContainer.height=c,s.leftContainer.height=c,s.rightContainer.height=s.leftContainer.height,s.root.width=o,s.background.width=s.root.width,this.initialDrawDone||(s.scrollbarWidth=z.getScrollBarWidth());const u=t.leftContainer.clientWidth,h=t.rightContainer.clientWidth;i.verticalScroll?i.rtl?(s.left.width=u||-s.border.left,s.right.width=h+s.scrollbarWidth||-s.border.right):(s.left.width=u+s.scrollbarWidth||-s.border.left,s.right.width=h||-s.border.right):(s.left.width=u||-s.border.left,s.right.width=h||-s.border.right),this._setDOM();let d=this._updateScrollTop();i.orientation.item!="top"&&(d+=Math.max(s.centerContainer.height-s.center.height-s.border.top-s.border.bottom,0)),t.center.style.transform="translateY(".concat(d,"px)");const f=s.scrollTop==0?"hidden":"",m=s.scrollTop==s.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=f,t.shadowBottom.style.visibility=m,t.shadowTopLeft.style.visibility=f,t.shadowBottomLeft.style.visibility=m,t.shadowTopRight.style.visibility=f,t.shadowBottomRight.style.visibility=m,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||s.center.height<s.centerContainer.height)&&(t.left.style.top="".concat(d,"px"),t.right.style.top="".concat(d,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),s.left.width=u||-s.border.left,s.right.width=h||-s.border.right,this._setDOM());const g=s.center.height>s.centerContainer.height;this.hammer.get("pan").set({direction:g?Ir.DIRECTION_ALL:Ir.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),Le(e=this.components).call(e,y=>{r=y.redraw()||r});const v=5;if(r)if(this.redrawCount<v){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height="".concat(e.background.height,"px"),t.backgroundVertical.style.height="".concat(e.background.height,"px"),t.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),t.centerContainer.style.height="".concat(e.centerContainer.height,"px"),t.leftContainer.style.height="".concat(e.leftContainer.height,"px"),t.rightContainer.style.height="".concat(e.rightContainer.height,"px"),t.background.style.width="".concat(e.background.width,"px"),t.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),t.backgroundHorizontal.style.width="".concat(e.background.width,"px"),t.centerContainer.style.width="".concat(e.center.width,"px"),t.top.style.width="".concat(e.top.width,"px"),t.bottom.style.width="".concat(e.bottom.width,"px"),t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top="".concat(e.top.height,"px"),t.centerContainer.style.left="".concat(e.left.width,"px"),t.centerContainer.style.top="".concat(e.top.height,"px"),t.leftContainer.style.left="0",t.leftContainer.style.top="".concat(e.top.height,"px"),t.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),t.rightContainer.style.top="".concat(e.top.height,"px"),t.top.style.left="".concat(e.left.width,"px"),t.top.style.top="0",t.bottom.style.left="".concat(e.left.width,"px"),t.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return oU(this,e,this.props.center.width)}_toGlobalTime(e){return oU(this,e,this.props.root.width)}_toScreen(e){return sU(this,e,this.props.center.width)}_toGlobalScreen(e){return sU(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=z.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=IRe(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}IR(lD.prototype);class aDe extends hl{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Gr,locales:sd,locale:"en"},this.options=z.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=z.extend({},sd,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Le(r=Un(this.options.locales)).call(r,s=>{this.options.locales[s]=z.extend({},i,this.options.locales[s])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&z.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,t;const r=this.body.dom.backgroundVertical;this.bar.parentNode!=r&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),r.appendChild(this.bar),this.start());let i=this.options.moment(hi()+this.offset);this.options.alignCurrentTime&&(i=i.startOf(this.options.alignCurrentTime));const s=this.body.util.toScreen(i);let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en);let a=Mn(e=Mn(t="".concat(o.current," ")).call(t,o.time,": ")).call(e,i.format("dddd, MMMM Do YYYY, H:mm:ss"));a=a.charAt(0).toUpperCase()+a.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(s*-1,"px)"):this.bar.style.transform="translateX(".concat(s,"px)"),this.bar.title=a}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let i=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Jr(t,i)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=z.convert(e,"Date").valueOf(),r=hi();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(hi()+this.offset)}}var dU={},fU;function lDe(){if(fU)return dU;fU=1;var n=Ve(),e=ll().find,t=mg(),r="find",i=!0;return r in[]&&Array(1)[r](function(){i=!1}),n({target:"Array",proto:!0,forced:i},{find:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),t(r),dU}var gT,pU;function cDe(){if(pU)return gT;pU=1,lDe();var n=kn();return gT=n("Array","find"),gT}var vT,mU;function uDe(){if(mU)return vT;mU=1;var n=nn(),e=cDe(),t=Array.prototype;return vT=function(r){var i=r.find;return r===t||n(t,r)&&i===t.find?e:i},vT}var yT,gU;function hDe(){if(gU)return yT;gU=1;var n=uDe();return yT=n,yT}var bT,vU;function dDe(){return vU||(vU=1,bT=hDe()),bT}var fDe=dDe(),pDe=Ze(fDe);const li=.001;function mDe(n){Rn(n).call(n,(e,t)=>e.data.start-t.data.start)}function gDe(n){Rn(n).call(n,(e,t)=>{const r="end"in e.data?e.data.end:e.data.start,i="end"in t.data?t.data.end:t.data.start;return r-i})}function yU(n,e,t,r){return cD(n,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,r)===null}function vDe(n,e,t){const r=cD(n,e.item,!1,i=>i.stack,()=>!0,i=>i.baseTop);t.height=r-t.top+.5*e.item.vertical}function yDe(n,e,t,r){for(let i=0;i<n.length;i++){if(n[i].data.subgroup==null){n[i].top=e.item.vertical;continue}if(n[i].data.subgroup===void 0||!r)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[n[i].data.subgroup].index||(s+=t[o].height,t[n[i].data.subgroup].top=s);n[i].top=s+.5*e.item.vertical}r||bDe(n,e,t)}function bDe(n,e,t){var r;cD(Rn(r=MR(t)).call(r,(i,s)=>i.index>s.index?1:i.index<s.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let i=0;i<n.length;i++)n[i].data.subgroup!==void 0&&(n[i].top=t[n[i].data.subgroup].top+.5*e.item.vertical)}function bU(n,e,t){let r=!1;const i=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?i[t[s].index]=s:i.push(s);for(let s=0;s<i.length;s++){let o=i[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;r=r||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=n[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));r&&t[o].stack&&vDe(n[o],e,t[o])}}function cD(n,e,t,r,i,s,o){let a=b=>b.start,l=b=>b.end;t||(!!(n[0]&&n[0].options.rtl)?a=w=>w.right:a=w=>w.left,l=w=>a(w)+w.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const b of n)if(r(b))c.push(b);else if(i(b)){const w=a(b);h!==null&&w<h-li&&(d=0),h=w,d=rv(u,S=>a(S)-li>w,d),Or(u).call(u,d,0,b),d++}h=null;let f=null;d=0;let m=0,g=0,v=0;for(;c.length>0;){var y;const b=c.shift();b.top=s(b);const w=a(b),S=l(b);h!==null&&w<h-li&&(m=0,g=0,d=0,f=null),(h===null||w>h+li)&&(m=rv(u,C=>w<l(C)-li,m)),h=w,(f===null||f<S-li)&&(g=rv(u,C=>S<a(C)-li,Math.max(m,g))),f!==null&&f-li>S&&(g=wDe(u,C=>S+li>=a(C),m,g)+1),f=S;const _=Rn(y=_De(u,C=>w<l(C)-li,m,g)).call(y,(C,E)=>C.top-E.top);for(let C=0;C<_.length;C++){const E=_[C];xDe(b,E,e)&&(b.top=E.top+E.height+e.vertical)}i(b)&&(d=rv(u,C=>a(C)-li>w,d),Or(u).call(u,d,0,b),d<m&&m++,d<=g&&g++,d++);const k=b.top+b.height;if(k>v&&(v=k),o&&o())return null}return v}function xDe(n,e,t){return n.top-t.vertical+li<e.top+e.height&&n.top+n.height+t.vertical-li>e.top}function rv(n,e,t){t||(t=0);for(let r=t;r<n.length;r++)if(e(n[r]))return r;return n.length}function wDe(n,e,t,r){t||(t=0),r||(r=n.length);for(let i=r-1;i>=t;i--)if(e(n[i]))return i;return t-1}function _De(n,e,t,r){t||(t=0),r?r=Math.min(r,n.length):r=n.length;const i=[];for(let s=t;s<r;s++)e(n[s])&&i.push(n[s]);return i}const SDe="__background__",xU={BACKGROUND:SDe};class KP{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const i=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",i),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",i)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,o)&&(this.subgroupVisibility[o]=e.subgroupVisibility[o]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var i;r=fe(i=this.itemSet.options.groupTemplate).call(i,this),t=r(e,this.dom.inner)}else t=e&&e.content;if(t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=z.xss(t):this.dom.inner.innerHTML=z.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?z.removeClassName(this.dom.inner,"vis-hidden"):z.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),z.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(z.removeClassName(this.dom.label,"collapsed"),z.addClassName(this.dom.label,"expanded")):(z.removeClassName(this.dom.label,"expanded"),z.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,z.removeClassName(this.dom.label,"collapsed"),z.removeClassName(this.dom.label,"expanded"),z.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(z.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?z.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):z.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):z.addClassName(this.dom.label,"vis-group-level-0");const s=e&&e.className||null;s!=this.className&&(this.className&&(z.removeClassName(this.dom.label,this.className),z.removeClassName(this.dom.foreground,this.className),z.removeClassName(this.dom.background,this.className),z.removeClassName(this.dom.axis,this.className)),z.addClassName(this.dom.label,s),z.addClassName(this.dom.foreground,s),z.addClassName(this.dom.background,s),z.addClassName(this.dom.axis,s),this.className=s),this.style&&(z.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(z.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(Le(z).call(z,this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),r=t[o].length)}),r>0)for(let s=0;s<r;s++)Le(z).call(z,t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let i=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(hi()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,i=!s}):e.itemSet.userContinueNotBail==!1?i=!0:i=!1)}return i}_redrawItems(e,t,r,i){if(e||this.stackDirty||this.isVisible&&!t){var o,a,l,c,u,h;const y={byEnd:ht(o=this.orderedItems.byEnd).call(o,_=>!_.isCluster),byStart:ht(a=this.orderedItems.byStart).call(a,_=>!_.isCluster)},b={byEnd:[...new cc(ht(l=Lt(c=this.orderedItems.byEnd).call(c,_=>_.cluster)).call(l,_=>!!_))],byStart:[...new cc(ht(u=Lt(h=this.orderedItems.byStart).call(h,_=>_.cluster)).call(u,_=>!!_))]},w=()=>{var _,k;const C=this._updateItemsInRange(y,ht(_=this.visibleItems).call(_,O=>!O.isCluster),i),E=this._updateClustersInRange(b,ht(k=this.visibleItems).call(k,O=>O.isCluster),i);return[...C,...E]},S=_=>{let k={};for(const E in this.subgroups){var C;if(!Object.prototype.hasOwnProperty.call(this.subgroups,E))continue;const O=ht(C=this.visibleItems).call(C,R=>R.data.subgroup===E);k[E]=_?Rn(O).call(O,(R,D)=>_(R.data,D.data)):O}return k};if(typeof this.itemSet.options.order=="function"){const _=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const k=S(this.itemSet.options.order);bU(k,r,this.subgroups),this.visibleItems=w(),this._updateSubGroupHeights(r)}else{var d,f,m,g;this.visibleItems=w(),this._updateSubGroupHeights(r);const k=Rn(d=ht(f=Rd(m=this.visibleItems).call(m)).call(f,C=>C.isCluster||!C.isCluster&&!C.cluster)).call(d,(C,E)=>_.itemSet.options.order(C.data,E.data));this.shouldBailStackItems=yU(k,r,!0,fe(g=this._shouldBailItemsRedraw).call(g,this))}}else if(this.visibleItems=w(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const _=S();bU(_,r,this.subgroups)}else{var v;this.shouldBailStackItems=yU(this.visibleItems,r,!0,fe(v=this._shouldBailItemsRedraw).call(v,this))}else yDe(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let _=0;_<this.visibleItems.length;_++)this.visibleItems[_].repositionX(),this.subgroupVisibility[this.visibleItems[_].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[_].data.subgroup]||this.visibleItems[_].hide());this.itemSet.options.cluster&&Le(z).call(z,this.items,_=>{_.cluster&&_.displayed&&_.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=z.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return e=z.updateProperty(this.props.label,"width",r)||e,e=z.updateProperty(this.props.label,"height",i)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const i=this.visibleItems[t];i.repositionY(e),!this.isVisible&&this.groupId!=xU.BACKGROUND&&i.displayed&&i.hide()}}redraw(e,t,r,i){var s,o,a,l,c;let u=!1;const h=this.isVisible;let d;const f=[()=>{r=this._didMarkerHeightChange.call(this)||r},fe(s=this._updateSubGroupHeights).call(s,this,t),fe(o=this._calculateGroupSizeAndPosition).call(o,this),()=>{var m;this.isVisible=fe(m=this._isGroupVisible).call(m,this)(e,t)},()=>{var m;fe(m=this._redrawItems).call(m,this)(r,h,t,e)},fe(a=this._updateSubgroupsSizes).call(a,this),()=>{var m;d=this.height=fe(m=this._calculateHeight).call(m,this)(t)},fe(l=this._calculateGroupSizeAndPosition).call(l,this),()=>{var m;u=fe(m=this._didResize).call(m,this)(u,d)},()=>{var m;fe(m=this._applyGroupHeight).call(m,this)(d)},()=>{var m;fe(m=this._updateItemsVerticalPosition).call(m,this)(t)},fe(c=()=>(!this.isVisible&&this.height&&(u=!1),u)).call(c,this)];if(i)return f;{let m;return Le(f).call(f,g=>{m=g()}),m}}_updateSubGroupHeights(e){if(Un(this.subgroups).length>0){const t=this;this._resetSubgroups(),Le(z).call(z,this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=z.toArray(this.items):r=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(r.length>0){let i=r[0].top,s=r[0].top+r[0].height;if(Le(z).call(z,r,o=>{i=Math.min(i,o.top),s=Math.max(s,o.top+o.height)}),i>e.axis){const o=i-e.axis;s-=o,Le(z).call(z,r,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)}add(e){var t;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!ed(t=this.visibleItems).call(t,e)){const r=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,r)}}_addToSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const r in e.subgroups){var t;if(!Object.prototype.hasOwnProperty.call(e.subgroups,r))continue;const i=e.subgroups[r].items[0].data.end||e.subgroups[r].items[0].data.start;let s=e.subgroups[r].items[0].data.start,o=i-1;Le(t=e.subgroups[r].items).call(t,a=>{new Date(a.data.start)<new Date(s)&&(s=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[r].start=s,e.subgroups[r].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});Rn(e).call(e,(t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);Rn(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var t,r;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const i=Ut(t=this.visibleItems).call(t,e);i!=-1&&Or(r=this.visibleItems).call(r,i,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(t!=null){const s=this.subgroups[t];if(s){var r;const o=Ut(r=s.items).call(r,e);if(o>=0){var i;Or(i=s.items).call(i,o,1),s.items.length?this._updateSubgroupsSizes():delete this.subgroups[t]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=z.toArray(this.items),t=[],r=[];for(let i=0;i<e.length;i++)e[i].data.end!==void 0&&r.push(e[i]),t.push(e[i]);this.orderedItems={byStart:t,byEnd:r},mDe(this.orderedItems.byStart),gDe(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const i=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=xU.BACKGROUND){for(let v=0;v<t.length;v++){var o=t[v];o.displayed&&o.hide()}return i}const a=(r.end-r.start)/4,l=r.start-a,c=r.end+a,u=v=>v<l?-1:v<=c?0:1,h=v=>{const{start:y,end:b}=v;return b<l?-1:y<=c?0:1};if(t.length>0)for(let v=0;v<t.length;v++)this._checkIfVisibleWithReference(t[v],i,s,r);const d=z.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,i,s,v=>v.data.start<l||v.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let v=0;v<e.byEnd.length;v++)this._checkIfVisibleWithReference(e.byEnd[v],i,s,r)}else{const v=z.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(v,e.byEnd,i,s,y=>y.data.end<l||y.data.start>c)}this._sortVisibleItems(e.byStart,i,s);const f={};let m=0;for(let v=0;v<i.length;v++){const y=i[v];y.displayed||(f[v]=y.redraw(!0),m=f[v].length)}if(m>0)for(let v=0;v<m;v++)Le(z).call(z,f,y=>{y[v]()});for(let v=0;v<i.length;v++)i[v].repositionX();return i}_traceVisible(e,t,r,i,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.push(a))}}}_sortVisibleItems(e,t,r){t.length=0;for(let i=0;i<e.length;i++){let s=e[i];r[s.id]&&t.push(s)}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,i){e.isVisible(i)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const i=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],i,s,r);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],i,s,r);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],i,s,r);const o={};let a=0;for(let u=0;u<i.length;u++){const h=i[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)Le(z).call(z,o,function(u){u[c]()});for(let u=0;u<i.length;u++)i[u].repositionX();return i}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class OJ extends KP{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let i=0,s=this.visibleItems.length;i<s;i++)this.visibleItems[i].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class Nd{constructor(e,t,r){var i;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:sd,locale:"en"},this.options=z.extend({},this.defaultOptions,r),this.options.locales=z.extend({},sd,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];Le(i=Un(this.options.locales)).call(i,o=>{this.options.locales[o]=z.extend({},s,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,t;const r=this,i=document.createElement("div");i.className="vis-drag-center",i.dragCenterItem=this,this.hammerDragCenter=new Ir(i),this.hammerDragCenter.on("tap",s=>{r.parent.itemSet.body.emitter.emit("click",{event:s,item:r.id})}),this.hammerDragCenter.on("doubletap",s=>{s.stopPropagation(),r.parent.itemSet._onUpdateItem(r),r.parent.itemSet.body.emitter.emit("doubleClick",{event:s,item:r.id})}),this.hammerDragCenter.on("panstart",s=>{s.stopPropagation(),r.parent.itemSet._onDragStart(s)}),this.hammerDragCenter.on("panmove",fe(e=r.parent.itemSet._onDrag).call(e,r.parent.itemSet)),this.hammerDragCenter.on("panend",fe(t=r.parent.itemSet._onDragEnd).call(t,r.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(i,this.dom.dragLeft):this.dom.box.appendChild(i):this.dom.point&&this.dom.point.appendChild(i),this.dom.dragCenter=i}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),s=this.options.locales.en),i.title=s.deleteSelected,this.hammerDeleteButton=new Ir(i).on("tap",o=>{o.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(i),this.dom.deleteButton=i}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",e.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const i=50,s=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-i<-s?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let l,c;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var r;c=fe(r=this.options.tooltipOnItemUpdateTime.template).call(r,this),l=c(this.data)}else l="start: ".concat(Gr(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(l+="<br> end: ".concat(Gr(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=z.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,i,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var u;o=fe(u=this.options.visibleFrameTemplate).call(u,this),s=z.xss(o(a,c))}else s="";if(c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),r){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=z.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=s}}if(this.options.template){var h;i=fe(h=this.options.template).call(h,this),t=i(a,e,this.data)}else t=this.data.content;if(t instanceof Object&&!(t instanceof Element))i(a,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=z.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(St(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Un(this.data);else return;for(const r of t){const i=this.data[r];i!=null?e.setAttribute("data-".concat(r),i):e.removeAttribute("data-".concat(r))}}}_updateStyle(e){this.style&&(z.removeCssText(e,this.style),this.style=null),this.data.style&&(z.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},z.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},z.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return fe(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}Nd.prototype.stack=!0;class kDe extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,i=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-i<e.end:r=="left"?t=this.data.start.getTime()+i>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+i/2>e.start&&this.data.start.getTime()-i/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var t,r,i,s;let o;const a=[fe(t=this._createDomElement).call(t,this),fe(r=this._appendDomElement).call(r,this),fe(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;fe(l=this._updateDomComponentsSizes).call(l,this)(o)}},fe(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Le(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=Mn(o="translate(".concat(l,"px, ")).call(o,s,"px)")};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,i=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-i/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-i/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-i/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height="".concat(r,"px"),t.bottom="",t.top="0"}else{const i=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height="".concat(i,"px"),t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class CDe extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(r,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var t,r,i,s;let o;const a=[fe(t=this._createDomElement).call(t,this),fe(r=this._appendDomElement).call(r,this),fe(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;fe(l=this._updateDomComponentsSizes).call(l,this)(o)}},fe(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Le(a).call(a,c=>{l=c()}),l}}repositionXY(){const e=this.options.rtl;(function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=Mn(o="translate(".concat(l,"px, ")).call(o,s,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class Oc extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var t,r,i,s;let o;const a=[fe(t=this._createDomElement).call(t,this),fe(r=this._appendDomElement).call(r,this),fe(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=fe(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;fe(l=this._updateDomComponentsSizes).call(l,this)(o)}},fe(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Le(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),i=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),i>2*t&&(i=2*t));const l=Math.max(Math.round((i-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=l,a=Math.min(i-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(l,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(l-a,0),"px)");break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((l-a)/2,0),"px)");break;default:if(this.overflow?i>0?o=Math.max(-r,0):o=-a:r<0?o=-r:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(o,"px)")}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top="".concat(this.top,"px"):t.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}Oc.prototype.baseClassName="vis-item vis-range";class Vc extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var t,r,i,s;let o;const a=[fe(t=this._createDomElement).call(t,this),fe(r=this._appendDomElement).call(r,this),fe(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=fe(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;fe(l=this._updateDomComponentsSizes).call(l,this)(o)}},fe(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Le(a).call(a,c=>{l=c()}),l}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[r].height,"px"),t=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[r].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof OJ?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Vc.prototype.baseClassName="vis-item vis-background";Vc.prototype.stack=!1;Vc.prototype.show=Oc.prototype.show;Vc.prototype.hide=Oc.prototype.hide;Vc.prototype.repositionX=Oc.prototype.repositionX;class EDe{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=di(e),this.y=di(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=z.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0)),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var wU={},_U;function TDe(){if(_U)return wU;_U=1;var n=Ve(),e=ll().every,t=Dd(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),wU}var xT,SU;function MDe(){if(SU)return xT;SU=1,TDe();var n=kn();return xT=n("Array","every"),xT}var wT,kU;function PDe(){if(kU)return wT;kU=1;var n=nn(),e=MDe(),t=Array.prototype;return wT=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},wT}var _T,CU;function IDe(){if(CU)return _T;CU=1;var n=PDe();return _T=n,_T}var ST,EU;function ODe(){return EU||(EU=1,ST=IDe()),ST}var RDe=ODe(),DDe=Ze(RDe);class Ax extends Nd{constructor(e,t,r){const i=nl({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,i),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=uc(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),i=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&i>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r,i,s,o,a,l,c=[fe(t=this._createDomElement).call(t,this),fe(r=this._appendDomElement).call(r,this),fe(i=this._updateDirtyDomComponents).call(i,this),fe(s=function(){this.dirty&&(l=this._getDomComponentsSizes())}).call(s,this),fe(o=function(){if(this.dirty){var h;fe(h=this._updateDomComponentsSizes).call(h,this)(l)}}).call(o,this),fe(a=this._repaintDomAdditionals).call(a,this)];if(e)return c;var u;return Le(c).call(c,function(h){u=h()}),u}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,i=this.dom.dot.offsetWidth;if(t){const s=r+e+(t-e)/2,o=s-i/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform="translateX(".concat(a,"px)"),this.dom.dot.style.transform="translateX(".concat(l,"px)")}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-i/2)*-1:e-i/2;this.dom.line.style.transform="translateX(".concat(s,"px)"),this.dom.dot.style.transform="translateX(".concat(o,"px)")}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,i=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-i+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let t of this.data.uiItems)t.cluster=this;this.data.items=Lt(e=this.data.uiItems).call(e,t=>t.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,t,r;const i=Lt(e=this.data.uiItems).call(e,a=>({start:a.data.start.valueOf(),end:a.data.end?a.data.end.valueOf():a.data.start.valueOf()}));this.data.min=Math.min(...Lt(i).call(i,a=>Math.min(a.start,a.end||a.start))),this.data.max=Math.max(...Lt(i).call(i,a=>Math.max(a.start,a.end||a.start)));const s=Lt(t=this.data.uiItems).call(t,a=>a.center),o=Rx(s).call(s,(a,l)=>a+l,0)/this.data.uiItems.length;KR(r=this.data.uiItems).call(r,a=>a.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(o),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return ht(e=this.data.uiItems).call(e,t=>t.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=fe(e=Ax.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}}Ax.prototype.baseClassName="vis-item vis-range vis-cluster";const ADe="__ungrouped__",NDe={UNGROUPED:ADe};class LDe{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new Ax(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:i,clusterCriteria:s}=typeof r=="boolean"?{}:r;s||(s=()=>!0),i=i||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let m=h[f],g=1,v=f-1;for(;v>=0&&m.center-h[v].center<l/2;)!h[v].cluster&&s(m.data,h[v].data)&&g++,v--;let y=f+1;for(;y<h.length&&h[y].center-m.center<l/2;)s(m.data,h[y].data)&&g++,y++;let b=c.length-1;for(;b>=0&&m.center-c[b].center<l;)m.group==c[b].group&&s(m.data,c[b].data)&&g++,b--;if(g>i){const w=g-i+1,S=[];let _=f;for(;S.length<w&&_<h.length;)s(h[f].data,h[_].data)&&S.push(h[_]),_++;const k=this.itemSet.getGroupId(m.data),C=this.itemSet.groups[k]||this.itemSet.groups[NDe.UNGROUPED];let E=this._getClusterForItems(S,C,e,r);c.push(E),f+=w}else delete m.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const r of MR(this.items)){const i=r.parent?r.parent.groupId:"";let s=e[i];s||(s=[],e[i]=s),s.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(let r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&Rn(t=e[r]).call(t,(i,s)=>i.center-s.center)}this.dataChanged=!1}_getClusterForItems(e,t,r,i){var s;const o=Lt(s=r||[]).call(s,m=>{var g;return{cluster:m,itemsIds:new cc(Lt(g=m.data.uiItems).call(g,v=>v.id))}});let a;if(o.length){for(let m of o)if(m.itemsIds.size===e.length&&DDe(e).call(e,g=>m.itemsIds.has(g.id))){a=m.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=i.titleTemplate||"";const c={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},u=l.replace(/{count}/,e.length),h='<div title="'+u+'">'+e.length+"</div>",d=nl({},i,this.itemSet.options),f={content:h,title:u,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,c,d),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const du="__ungrouped__",da="__background__";class od extends hl{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(i,s){const o=s.order;s.order=i.order,i.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Ic.snap,onDropObjectOnItem(i,s,o){o(s)},onAdd(i,s){s(i)},onUpdate(i,s){s(i)},onMove(i,s){s(i)},onRemove(i,s){s(i)},onMoving(i,s){s(i)},onAddGroup(i,s){s(i)},onMoveGroup(i,s){s(i)},onRemoveGroup(i,s){s(i)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=z.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(i,s){r._onAdd(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(i,s){r._onUpdate(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(i,s){r._onRemove(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(i,s,o){if(r._onAddGroups(s.items),r.groupsData&&r.groupsData.length>0){var a;const l=r.groupsData.getDataSet();Le(a=l.get()).call(a,c=>{if(c.nestedGroups){var u;c.showNested!=!1&&(c.showNested=!0);let h=[];Le(u=c.nestedGroups).call(u,d=>{const f=l.get(d);f&&(f.nestedInGroup=c.id,c.showNested==!1&&(f.visible=!1),h=Mn(h).call(h,f))}),l.update(h,o)}})}},update(i,s){r._onUpdateGroups(s.items)},remove(i,s){r._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){var e,t,r,i,s,o,a,l,c,u,h,d,f,m,g;const v=document.createElement("div");v.className="vis-itemset",v["vis-itemset"]=this,this.dom.frame=v;const y=document.createElement("div");y.className="vis-background",v.appendChild(y),this.dom.background=y;const b=document.createElement("div");b.className="vis-foreground",v.appendChild(b),this.dom.foreground=b;const w=document.createElement("div");w.className="vis-axis",this.dom.axis=w;const S=document.createElement("div");S.className="vis-labelset",this.dom.labelSet=S,this._updateUngrouped();const _=new OJ(da,null,this);_.show(),this.groups[da]=_,this.hammer=new Ir(this.body.dom.centerContainer),this.hammer.on("hammer.input",k=>{k.isFirst&&this._onTouch(k)}),this.hammer.on("panstart",fe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",fe(t=this._onDrag).call(t,this)),this.hammer.on("panend",fe(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Ir.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",fe(i=this._onSelectItem).call(i,this)),this.hammer.on("press",fe(s=this._onMultiSelectItem).call(s,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",fe(o=this._onAddItem).call(o,this)),this.options.rtl?this.groupHammer=new Ir(this.body.dom.rightContainer):this.groupHammer=new Ir(this.body.dom.leftContainer),this.groupHammer.on("tap",fe(a=this._onGroupClick).call(a,this)),this.groupHammer.on("panstart",fe(l=this._onGroupDragStart).call(l,this)),this.groupHammer.on("panmove",fe(c=this._onGroupDrag).call(c,this)),this.groupHammer.on("panend",fe(u=this._onGroupDragEnd).call(u,this)),this.groupHammer.get("pan").set({threshold:5,direction:Ir.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",fe(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",fe(d=this._onMouseOut).call(d,this)),this.body.dom.centerContainer.addEventListener("mousemove",fe(f=this._onMouseMove).call(f,this)),this.body.dom.centerContainer.addEventListener("contextmenu",fe(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",fe(g=this._onMouseWheel).call(g,this)),this.show()}setOptions(e){if(e){var t,r;const i=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];z.selectiveExtend(i,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(z.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(z.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&z.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),Le(t=["locale","locales"]).call(t,o=>{o in e&&(this.options[o]=e[o])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&z.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&z.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const s=o=>{const a=e[o];if(a){if(typeof a!="function"){var l;throw new Error(Mn(l="option ".concat(o," must be a function ")).call(l,o,"(item, callback)"))}this.options[o]=a}};Le(r=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(r,s),e.cluster?(nl(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new LDe(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&Le(z).call(z,this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&Le(z).call(z,this.groups,(t,r)=>{r!==da&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Jr(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var t;e==null&&(e=[]),St(e)||(e=[e]);const r=ht(t=this.selection).call(t,i=>Ut(e).call(e,i)===-1);for(let i of r){const s=this.getItemById(i);s&&s.unselect()}this.selection=[...e];for(let i of e){const s=this.getItemById(i);s&&s.select()}}getSelection(){var e;return Mn(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){var t;return this.items[e]||pDe(t=this.clusters).call(t,r=>r.id===e)}_deselect(e){const t=this.selection;for(let r=0,i=t.length;r<i;r++)if(t[r]==e){Or(t).call(t,r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=z.option.asSize,i=this.options,s=i.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=i.stack!=this.lastStack,d=i.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),g={item:e.item,axis:e.axis},v={item:e.item,axis:e.item.vertical/2};let y=0;const b=e.axis+e.item.vertical;this.groups[da].redraw(t,v,f);const w={};let S=0;if(Le(z).call(z,this.groups,(k,C)=>{if(C===da)return;const E=k==m?g:v,O=!0;w[C]=k.redraw(t,E,f,O),S=w[C].length}),S>0){const k={};for(let C=0;C<S;C++)Le(z).call(z,w,(E,O)=>{k[O]=E[C]()});Le(z).call(z,this.groups,(C,E)=>{if(E===da)return;o=k[E]||o,y+=C.height}),y=Math.max(y,b)}return y=Math.max(y,b),a.style.height=r(y),this.props.width=a.offsetWidth,this.props.height=y,this.dom.axis.style.top=r(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[du]||null}_updateUngrouped(){let e=this.groups[du],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[du];for(r in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,r))continue;t=this.items[r],t.parent&&t.parent.remove(t);const i=this.getGroupId(t.data),s=this.groups[i];s&&s.add(t)||t.hide()}}}else if(!e){e=new KP(null,null,this),this.groups[du]=e;for(r in this.items)Object.prototype.hasOwnProperty.call(this.items,r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const i=this.itemsData;if(!e)this.itemsData=null;else if(Pc(e))this.itemsData=Xy(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(Le(z).call(z,this.itemListeners,(s,o)=>{i.off(o,s)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){const s=this.id;Le(z).call(z,this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(Le(z).call(z,this.groupListeners,(s,o)=>{t.groupsData.off(o,s)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(Pc(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i;const s=this.groupsData.getDataSet();Le(i=s.get()).call(i,a=>{if(a.nestedGroups){var l;Le(l=a.nestedGroups).call(l,c=>{const u=s.get(c);u.nestedInGroup=a.id,a.showNested==!1&&(u.visible=!1),s.update(u)})}});const o=this.id;Le(z).call(z,this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?da:this.groupsData?e.group:du}_onUpdate(e){const t=this;Le(e).call(e,r=>{const i=t.itemsData.get(r);let s=t.items[r];const o=i?t._getType(i):null,a=od.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,i)),!s&&i)if(a)s=new a(i,t.conversion,t.options),s.id=r,t._addItem(s),l&&(this.selection.push(r),s.select());else throw new TypeError('Unknown item type "'.concat(o,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;Le(e).call(e,i=>{const s=r.items[i];s&&(t++,r._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){Le(z).call(z,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;Le(e).call(e,r=>{const i=t.groupsData.get(r);let s=t.groups[r];if(s)s.setData(i);else{if(r==du||r==da)throw new Error("Illegal group id. ".concat(r," is a reserved id."));const o=gg(t.options);z.extend(o,{height:null}),s=new KP(r,i,t),t.groups[r]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==r&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){Le(e).call(e,t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!z.equalArray(e,this.groupIds);if(t){const r=this.groups;Le(e).call(e,i=>{r[i].hide()}),Le(e).call(e,i=>{r[i].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(i,s){let o=[];return Le(s).call(s,a=>{if(o.push(a),i.groupsData.get(a).nestedGroups){var c;const u=Lt(c=i.groupsData.get({filter(h){return h.nestedInGroup==a},order:i.options.groupOrder})).call(c,h=>h.id);o=Mn(o).call(o,t(i,u))}}),o}const r=ht(e).call(e,i=>!this.groupsData.get(i).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var t,r;e.hide(),delete this.items[e.id];const i=Ut(t=this.selection).call(t,e.id);i!=-1&&Or(r=this.selection).call(r,i,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof Oc&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let i;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)i={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(o)i={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=Lt(l).call(l,c=>{const u=r.items[c],h=r._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),i=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=uc();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new Oc(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const m={item:f,initialX:e.center.x,data:f.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.center.x-i.left+r.offsetLeft,e.center.y-i.top+r.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var t;e.stopPropagation();const r=this,i=this.options.snap||null,s=this.body.dom.root.offsetLeft,o=this.options.rtl?s+this.body.domProps.right.width:s+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),c=this.touchParams.selectedItem,u=(this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateGroup;let h=null;if(u&&c&&c.data.group!=null){const d=r.groupFromTarget(e);d&&(h=this._getGroupIndex(d.groupId))}Le(t=this.touchParams.itemProps).call(t,d=>{const f=r.body.util.toTime(e.center.x-o),m=r.body.util.toTime(d.initialX-o);let g,v,y,b,w;this.options.rtl?g=-(f-m):g=f-m;let S=this._cloneItemData(d.item.data);if(d.item.editable!=null&&!d.item.editable.updateTime&&!d.item.editable.updateGroup&&!r.options.editable.overrideItems)return;if((this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateTime){if(d.dragLeft)this.options.rtl?S.end!=null&&(y=z.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w):S.start!=null&&(v=z.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b);else if(d.dragRight)this.options.rtl?S.start!=null&&(v=z.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b):S.end!=null&&(y=z.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w);else if(S.start!=null)if(v=z.convert(d.data.start,"Date").valueOf(),b=new Date(v+g),S.end!=null){y=z.convert(d.data.end,"Date");const k=y.valueOf()-v.valueOf();S.start=i?i(b,a,l):b,S.end=new Date(S.start.valueOf()+k)}else S.start=i?i(b,a,l):b}if(u&&!d.dragLeft&&!d.dragRight&&h!=null&&S.group!=null){let k=h-d.groupOffset;k=Math.max(0,k),k=Math.min(r.groupIds.length-1,k),S.group=r.groupIds[k]}S=this._cloneItemData(S),r.options.onMoving(S,k=>{k&&d.item.setData(this._cloneItemData(k,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const i=e.parent;i.remove(e),i.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,Le(r).call(r,i=>{const s=i.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(i.item.data,a=>{t._removeItem(i.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(i.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(i.item.setData(i.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);Jr(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let i=r.get(e.groupId);i.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let u=o;o=[];for(let h=0;h<u.length;h++){let d=r.get(u[h]);d.nestedGroups&&(o=Mn(o).call(o,d.nestedGroups))}o.length>0&&(s=Mn(s).call(s,o))}var a;if(i.showNested){var l=r.get(i.nestedGroups);for(let u=0;u<l.length;u++){let h=l[u];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&l.push(...r.get(h.nestedGroups))}a=Lt(l).call(l,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}else{var c;a=Lt(c=r.get(s)).call(c,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}r.update(Mn(a).call(a,i)),i.showNested?(z.removeClassName(e.dom.label,"collapsed"),z.addClassName(e.dom.label,"expanded")):(z.removeClassName(e.dom.label,"expanded"),z.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const i=r.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=r.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(i){if(o.top+a<s)return}else{const l=r.height;if(o.top+l-a>s)return}}if(r&&r!=this.groupTouchParams.group){const i=t.get(r.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&i&&(this.options.groupOrderSwap(s,i,t),t.update(s),t.update(i));const o=t.getIds({order:this.options.groupOrder});if(!z.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=Ut(o).call(o,a[u+d]),m=t.get(o[u+h]),g=t.get(a[u+d]);this.options.groupOrderSwap(m,g,t),t.update(m),t.update(g);const v=o[u+h];o[u+h]=a[u+d],o[f]=v,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,i=t.groupsData.getDataSet(),s=z.extend({},i.get(r));t.options.onMoveGroup(s,o=>{if(o)o[i._idProp]=r,i.update(o);else{const a=i.getIds({order:t.options.groupOrder});if(!z.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=Ut(a).call(a,l[u]),d=i.get(a[u]),f=i.get(l[u]);t.options.groupOrderSwap(d,f,i),i.update(d),i.update(f);const m=a[u];a[u]=l[u],a[h]=m,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const i=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||i.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const i=t.getTitle();if(this.options.showTooltips&&i){this.popup==null&&(this.popup=new EDe(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.clientX-i.left+r.offsetLeft,e.clientY-i.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,i=>{i&&t.itemsData.update(i)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x:e.center.x-i.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:r?r(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||uc(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c)):(u={start:r?r(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=uc(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&r.length>0&&(a=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&r.push(t.id);const l=od._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||a==o){r=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Vc)&&r.push(u.id)}}}else{const o=Ut(r).call(r,t.id);o==-1?r.push(t.id):Or(r).call(r,o,1)}const s=ht(r).call(r,o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return Le(e).call(e,i=>{(r==null||i.start<r)&&(r=i.start),i.end!=null?(t==null||i.end>t)&&(t=i.end):(t==null||i.start>t)&&(t=i.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let i=0;i<r.length;i++){const s=r[i],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(i===this.groupIds.length-1&&t>l.top)return o}else if(i===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=z.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=z.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=z.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var t;const s=new cc(Lt(e).call(e,l=>l.id)),o=ht(t=this.clusters).call(t,l=>!s.has(l.id));let a=!1;for(let l of o){var r;const c=Ut(r=this.selection).call(r,l.id);if(c!==-1){var i;l.unselect(),Or(i=this.selection).call(i,c,1),a=!0}}if(a){const l=this.getSelection();this.body.emitter.emit("select",{items:l,event})}}this.clusters=e||[]}}od.types={background:Vc,box:kDe,range:Oc,point:CDe};od.prototype._onAdd=od.prototype._onUpdate;let wf=!1,TU,XP="background: #FFeeee; color: #dd0000";class hn{constructor(){}static validate(e,t,r){wf=!1,TU=t;let i=t;return r!==void 0&&(i=t[r]),hn.parse(e,i,[]),wf}static parse(e,t,r){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&hn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){hn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=hn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),hn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){let a=function(u){console.log("%c"+u+hn.printLocation(o,e),XP)},l=hn.getType(t[e]),c=s[l];c!==void 0?hn.getType(c)==="array"&&Ut(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+hn.print(c)+' not "'+t[e]+'". '),wf=!0):l==="object"&&i!=="__any__"&&(o=z.copyAndExtendArray(o,e),hn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+hn.print(Un(s))+". Received ["+l+'] "'+t[e]+'"'),wf=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":St(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let i=hn.findInOptions(e,t,r,!1),s=hn.findInOptions(e,TU,[],!0),o=8,a=4,l;i.indexMatch!==void 0?l=" in "+hn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+hn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+hn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+hn.printLocation(i.path,e):l=". Did you mean one of these: "+hn.print(Un(t))+hn.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+l,XP),wf=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let h in t){if(!Object.prototype.hasOwnProperty.call(t,h))continue;let d;if(t[h].__type__!==void 0&&i===!0){let f=hn.findInOptions(e,t[h],z.copyAndExtendArray(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Ut(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=hn.levenshteinDistance(e,h),s>d&&(o=h,a=z.copyArray(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ur(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],i;for(i=0;i<=t.length;i++)r[i]=[i];var s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}}var FDe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class $De{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return FDe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;var i=this._isColorString(e);if(i!==void 0&&(e=i),z.isString(e)===!0){if(z.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(z.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(z.isValidHex(e)===!0){let s=z.hexToRGB(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ur(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=z.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Jr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=z.extend({},e)),this.color=e;let r=z.RGBToHSV(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=z.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=z.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=z.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_Q(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=fe(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=fe(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=fe(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Ir(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),wJ(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=z.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let m=u/this.r,g=z.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;let v=z.HSVToRGB(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class jDe{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},z.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new $De(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(St(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ht(e)!==void 0&&(this.options.filter=ht(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);ht(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=ht(this.options),t=0,r=!1;for(let i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ut(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){let s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Le(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=z.xss(e),this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?i.innerHTML=z.xss("<i><b>"+e+":</b></i>"):i.innerHTML=z.xss(e+":"),i}_makeDropdown(e,t,r){let i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Ut(e).call(e,t)!==-1&&(s=Ut(e).call(e,t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],i.appendChild(c)}let o=this;i.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){let i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let g=1.2;t<0&&t*g<s?(l.min=Math.ceil(t*g),u=l.min,c="range increased"):t/g<s&&(l.min=Math.ceil(t/g),u=l.min,c="range increased"),t*g>o&&o!==1&&(l.max=Math.ceil(t*g),u=l.max,c="range increased"),l.value=t}else l.value=i;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=z.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Jr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Jr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let s=this;i.onchange=function(){s._update(this.checked,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let s=this;i.onchange=function(){s._update(this.value,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){let i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{let s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=ht(this.options),o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;i=!0;let l=e[a],c=z.copyAndExtendArray(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!St(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;let u=this._getValue(c);if(St(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(Ut(t).call(t,"physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=z.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let m=this._makeLabel(a,c,!0);this._makeItem(c,m),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Ur(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}class BDe{constructor(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=r,this.autoScaleEnd=i,this.formattingFunction=l,r||i){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let i=0;r<0&&(i=r);let s=!1;for(let o=i;Math.abs(o)<=Math.abs(r);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?"".concat(t):typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let i=this._start+r;this._end-i>1e-5;i+=t)i!=this._start&&e.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,i=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=r,this._end=this._start+d;const f=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],g=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const v=l-f;this._end+=v/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=g/this.scale,this._end=this._start+d):(this._start+=m-g/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>i+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<i-r){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class MU extends hl{constructor(e,t,r,i){super(),this.id=uc(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return"".concat(Qy(o.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return"".concat(Qy(o.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=z.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top="".concat(s.body.domProps.scrollTop,"px")})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];z.selectiveDeepExtend(r,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){_a(this.svgElements);let e;const t=this.options.iconWidth,r=15,i=4;let s=i+.5*r;this.options.orientation==="left"?e=i:e=this.width-t-i;const o=Un(this.groups);Rn(o).call(o,(a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,r,this.framework,e,s),s+=r+i);Fi(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(_a(this.svgElements),Fi(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const r in this.groups)Object.prototype.hasOwnProperty.call(this.groups,r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const r=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=a?r.majorCharHeight:0,r.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,s==="left"?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;_a(this.DOMelements.lines),_a(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let i=!0;r.max!=null&&(this.range.end=r.max,i=!1);let s=!0;r.min!=null&&(this.range.start=r.min,s=!1),this.scale=new BDe(this.range.start,this.range.end,s,i,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const o=this.scale.getLines();Le(o).call(o,c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width="".concat(this.width,"px"),Fi(this.DOMelements.lines),Fi(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width="".concat(this.width,"px"),Fi(this.DOMelements.lines),Fi(this.DOMelements.labels),this.redraw(),e=!0):(Fi(this.DOMelements.lines),Fi(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,i,s){const o=HC("div",this.DOMelements.labels,this.dom.frame);o.className=i,o.innerHTML=z.xss(t),r==="left"?(o.style.left="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="right"):(o.style.right="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="left"),o.style.top="".concat(e-.5*s+this.options.labelOffsetY,"px"),t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,r,i,s){if(this.master===!0){const o=HC("div",this.DOMelements.lines,this.dom.lineContainer);o.className=r,o.innerHTML="",t==="left"?o.style.left="".concat(this.width-i,"px"):o.style.right="".concat(this.width-i,"px"),o.style.width="".concat(s,"px"),o.style.top="".concat(e,"px")}}_redrawTitle(e){if(_a(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=HC("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-".concat(e),t.innerHTML=z.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&z.addCssText(t,this.options[e].title.style),e==="left"?t.style.left="".concat(this.props.titleCharHeight,"px"):t.style.right="".concat(this.props.titleCharHeight,"px"),t.style.width="".concat(this.height,"px")}Fi(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Cg(){}Cg.draw=function(n,e,t,r){r=r||0;for(var i=zDe(t,e),s=0;s<n.length;s++)if(!i)id(n[s].screen_x+r,n[s].screen_y,QP(e),t.svgElements,t.svg,n[s].label);else{var o=i(n[s],e);(o===!0||typeof o=="object")&&id(n[s].screen_x+r,n[s].screen_y,QP(e,o),t.svgElements,t.svg,n[s].label)}};Cg.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=vs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),id(e+.5*r,t,QP(n),s.svgElements,s.svg)};function QP(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function zDe(n,e){var t=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(t=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function Rr(){}Rr.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=vs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*r),c=n.options.barChart.width,u=c/l,h=Math.round(.4*i),d=Math.round(.75*i),f=Math.round((r-2*l)/3);if(UP(e+.5*l+f,t+o-h-1,l,h,n.className+" vis-bar",s.svgElements,s.svg,n.style),UP(e+1.5*l+f+2,t+o-d-1,l,d,n.className+" vis-bar",s.svgElements,s.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/u,className:n.className};id(e+.5*l+f,t+o-h-1,m,s.svgElements,s.svg),id(e+1.5*l+f+2,t+o-d-1,m,s.svgElements,s.svg)}};Rr.draw=function(n,e,t){var r=[],i={},s,o,a,l,c,u,h=0;for(c=0;c<n.length;c++)if(l=t.groups[n[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[n[c]]===void 0||t.options.groups.visibility[n[c]]===!0))for(u=0;u<e[n[c]].length;u++)r.push({screen_x:e[n[c]][u].screen_x,screen_end:e[n[c]][u].screen_end,screen_y:e[n[c]][u].screen_y,x:e[n[c]][u].x,end:e[n[c]][u].end,y:e[n[c]][u].y,groupId:n[c],label:e[n[c]][u].label}),h+=1;if(h!==0)for(Rn(r).call(r,function(g,v){return g.screen_x===v.screen_x?g.groupId<v.groupId?-1:1:g.screen_x-v.screen_x}),Rr._getDataIntersections(i,r),c=0;c<r.length;c++){l=t.groups[r[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=r[c].screen_x;var f=0;if(i[o]===void 0)c+1<r.length&&(s=Math.abs(r[c+1].screen_x-o)),a=Rr._getSafeDrawData(s,l,d);else{var m=c+(i[o].amount-i[o].resolved);m<r.length&&(s=Math.abs(r[m].screen_x-o)),a=Rr._getSafeDrawData(s,l,d),i[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?r[c].screen_y<l.zeroPosition?(f=i[o].accumulatedNegative,i[o].accumulatedNegative+=l.zeroPosition-r[c].screen_y):(f=i[o].accumulatedPositive,i[o].accumulatedPositive+=l.zeroPosition-r[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/i[o].amount,a.offset+=i[o].resolved*a.width-.5*a.width*(i[o].amount+1))}let g=a.width,v=r[c].screen_x;if(r[c].screen_end!=null?(g=r[c].screen_end-r[c].screen_x,v+=g*.5):v+=a.offset,UP(v,r[c].screen_y-f,g,l.zeroPosition-r[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let y={screen_x:r[c].screen_x,screen_y:r[c].screen_y-f,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};Cg.draw([y],l,t,a.offset)}}};Rr._getDataIntersections=function(n,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(n[e[r].screen_x]===void 0&&(n[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[r].screen_x].amount+=1)};Rr._getSafeDrawData=function(n,e,t){var r,i;return n<e.options.barChart.width&&n>0?(r=n<t?t:n,i=0,e.options.barChart.align==="left"?i-=.5*n:e.options.barChart.align==="right"&&(i+=.5*n)):(r=e.options.barChart.width,i=0,e.options.barChart.align==="left"?i-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(i+=.5*e.options.barChart.width)),{width:r,offset:i}};Rr.getStackedYRange=function(n,e,t,r,i){if(n.length>0){Rn(n).call(n,function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};Rr._getDataIntersections(s,n),e[r]=Rr._getStackedYRange(s,n),e[r].yAxisOrientation=i,t.push(r)}};Rr._getStackedYRange=function(n,e){for(var t,r=e[0].screen_y,i=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,n[t]===void 0?(r=r>e[s].screen_y?e[s].screen_y:r,i=i<e[s].screen_y?e[s].screen_y:i):e[s].screen_y<0?n[t].accumulatedNegative+=e[s].screen_y:n[t].accumulatedPositive+=e[s].screen_y;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r=r>n[o].accumulatedNegative?n[o].accumulatedNegative:r,r=r>n[o].accumulatedPositive?n[o].accumulatedPositive:r,i=i<n[o].accumulatedNegative?n[o].accumulatedNegative:i,i=i<n[o].accumulatedPositive?n[o].accumulatedPositive:i);return{min:r,max:i}};function lr(){}lr.calcPath=function(n,e){if(n!=null&&n.length>0){var t=[];return e.options.interpolation.enabled==!0?t=lr._catmullRom(n,e):t=lr._linear(n),t}};lr.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a,l,c=vs("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=vs("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",n.className),n.style!==void 0&&a.setAttributeNS(null,"style",n.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),n.options.shaded.enabled==!0&&(l=vs("path",s.svgElements,s.svg),n.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+r)+","+(t+o)+"L"+(e+r)+","+t),l.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&l.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var u={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};id(e+.5*r,t,u,s.svgElements,s.svg)}};lr.drawShading=function(n,e,t,r){if(e.options.shaded.enabled==!0){var i=Number(r.svg.style.height.replace("px","")),s=vs("path",r.svgElements,r.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=i:l=Math.min(Math.max(0,e.zeroPosition),i),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" V"+l+" H"+n[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};lr.draw=function(n,e,t){if(n!=null&&n!=null){var r=vs("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var i="L";e.options.interpolation.enabled==!0&&(i="C"),r.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,i,!1))}};lr.serializePath=function(n,e,t){if(n.length<2)return"";var r=e,i;if(t)for(i=n.length-2;i>0;i--)r+=n[i][0]+","+n[i][1]+" ";else for(i=1;i<n.length;i++)r+=n[i][0]+","+n[i][1]+" ";return r};lr._catmullRomUniform=function(n){var e,t,r,i,s,o,a=[];a.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var l=1/6,c=n.length,u=0;u<c-1;u++)e=u==0?n[0]:n[u-1],t=n[u],r=n[u+1],i=u+2<c?n[u+2]:r,s={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*l},o={screen_x:(t.screen_x+6*r.screen_x-i.screen_x)*l,screen_y:(t.screen_y+6*r.screen_y-i.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([r.screen_x,r.screen_y]);return a};lr._catmullRom=function(n,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(n);var r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k=[];k.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var C=n.length,E=0;E<C-1;E++)r=E==0?n[0]:n[E-1],i=n[E],s=n[E+1],o=E+2<C?n[E+2]:s,c=Math.sqrt(Math.pow(r.screen_x-i.screen_x,2)+Math.pow(r.screen_y-i.screen_y,2)),u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),v=Math.pow(h,t),b=Math.pow(h,2*t),y=Math.pow(u,t),w=Math.pow(u,2*t),_=Math.pow(c,t),S=Math.pow(c,2*t),d=2*S+3*_*y+w,f=2*b+3*v*y+w,m=3*_*(_+y),m>0&&(m=1/m),g=3*v*(v+y),g>0&&(g=1/g),a={screen_x:(-w*r.screen_x+d*i.screen_x+S*s.screen_x)*m,screen_y:(-w*r.screen_y+d*i.screen_y+S*s.screen_y)*m},l={screen_x:(b*i.screen_x+f*s.screen_x-w*o.screen_x)*g,screen_y:(b*i.screen_y+f*s.screen_y-w*o.screen_y)*g},a.screen_x==0&&a.screen_y==0&&(a=i),l.screen_x==0&&l.screen_y==0&&(l=s),k.push([a.screen_x,a.screen_y]),k.push([l.screen_x,l.screen_y]),k.push([s.screen_x,s.screen_y]);return k};lr._linear=function(n){for(var e=[],t=0;t<n.length;t++)e.push([n[t].screen_x,n[t].screen_y]);return e};function dl(n,e,t,r){this.id=e;var i=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=z.selectiveBridgeObject(i,t),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}dl.prototype.setItems=function(n){n!=null?(this.itemsData=n,Rn(this.options)==!0&&z.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};dl.prototype.getItems=function(){return this.itemsData};dl.prototype.setZeroPosition=function(n){this.zeroPosition=n};dl.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];z.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),z.mergeOptions(this.options,n,"interpolation"),z.mergeOptions(this.options,n,"drawPoints"),z.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};dl.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};dl.prototype.getLegend=function(n,e,t,r,i){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(i==null||i==null)&&(i=.5*e),this.options.style){case"line":lr.drawIcon(this,r,i,n,e,t);break;case"points":case"point":Cg.drawIcon(this,r,i,n,e,t);break;case"bar":Rr.drawIcon(this,r,i,n,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};dl.prototype.getYRange=function(n){for(var e=n[0].y,t=n[0].y,r=0;r<n.length;r++)e=e>n[r].y?n[r].y:e,t=t<n[r].y?n[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function _i(n,e,t,r){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=z.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}_i.prototype=new hl;_i.prototype.clear=function(){this.groups={},this.amountOfGroups=0};_i.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};_i.prototype.updateGroup=function(n,e){this.groups[n]=e};_i.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};_i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};_i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};_i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};_i.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];z.selectiveDeepExtend(e,this.options,n)};_i.prototype.redraw=function(){var n=0,e=Un(this.groups);Rn(e).call(e,function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var i=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+i+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(s+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=z.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};_i.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=Un(this.groups);Rn(n).call(n,function(c,u){return c<u?-1:1}),KMe(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,i=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=i+5+t+"px";for(var a=0;a<n.length;a++){var l=n[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(i,s,this.framework,r,o),o+=s+this.options.iconSpacing)}}};var tb="__ungrouped__";function Ht(n,e){this.id=uc(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=z.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,i){t._onAdd(i.items)},update:function(r,i){t._onUpdate(i.items)},remove:function(r,i){t._onRemove(i.items)}},this.groupListeners={add:function(r,i){t._onAddGroups(i.items)},update:function(r,i){t._onUpdateGroups(i.items)},remove:function(r,i){t._onRemoveGroups(i.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=z.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Ht.prototype=new hl;Ht.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new MU(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new MU(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new _i(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new _i(this.body,this.options.legend,"right",this.options.groups),this.show()};Ht.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&di((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),z.selectiveDeepExtend(e,this.options,n),z.mergeOptions(this.options,n,"interpolation"),z.mergeOptions(this.options,n,"drawPoints"),z.mergeOptions(this.options,n,"shaded"),z.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,tb)&&this.groups[tb].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Ht.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Ht.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Ht.prototype.setItems=function(n){var e=this,t,r=this.itemsData;if(!n)this.itemsData=null;else if(Pc(n))this.itemsData=Xy(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(Le(z).call(z,this.itemListeners,function(s,o){r.off(o,s)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;Le(z).call(z,this.itemListeners,function(s,o){e.itemsData.on(o,s,i)}),t=this.itemsData.getIds(),this._onAdd(t)}};Ht.prototype.setGroups=function(n){var e=this,t;if(this.groupsData){Le(z).call(z,this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!n)this.groupsData=null;else if(Pc(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i=this.id;Le(z).call(z,this.groupListeners,function(s,o){e.groupsData.on(o,s,i)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};Ht.prototype._onUpdate=function(n){this._updateAllGroupData(n)};Ht.prototype._onAdd=function(n){this._onUpdate(n)};Ht.prototype._onRemove=function(n){this._onUpdate(n)};Ht.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};Ht.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};Ht.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Ht.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};Ht.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new dl(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Ht.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),i=this.itemsData.idProp,s={};n&&Lt(n).call(n,function(v){s[v]=v});for(var o={},a=0;a<r.length;a++){var l=r[a],c=l.group;c==null&&(c=tb),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&n){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){g=this.groups[c];var h=g.getItems();t[c]=ht(h).call(h,function(v){return u[v[i]]=v[i],v[i]!==s[v[i]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<r.length;a++)if(l=r[a],c=l.group,c==null&&(c=tb),!(!e&&n&&l[i]!==s[l[i]]&&Object.prototype.hasOwnProperty.call(u,l[i]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=z.bridgeObject(l);f.x=z.convert(l.x,"Date"),f.end=z.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[i]=l[i];var m=t[c].length-o[c]--;t[c][m]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var g=void 0;this.groupsData!=null&&(g=this.groupsData.get(c)),g==null&&(g={id:c,content:this.options.defaultGroup+c}),this._updateGroup(g,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Ht.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var r;this.svg.style.width=z.option.asSize(3*this.props.width),this.svg.style.left=z.option.asSize(-this.props.width),(Ut(r=this.options.height+"").call(r,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var i=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/s,a=i*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};Ht.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:t.options.zIndex})}z.insertSort(n,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=n[i].id;return r};Ht.prototype._updateGraph=function(){if(_a(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,t={},r=!1,i=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,i,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),r=this._updateYAxis(o,t),r==!0)return Fi(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)n=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(l!=null&&(this._stack(a[n.id],a[l.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=l.id))),l=n),this._convertYcoordinates(a[o[e]],n);var c={};for(e=0;e<o.length;e++)if(n=this.groups[o[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=lr.calcPath(u,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(Ut(o).call(o,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=lr.calcPath(a[h],this.groups[h])),lr.drawShading(c[o[e]],n,c[h],this.framework)}else lr.drawShading(c[o[e]],n,void 0,this.framework)}for(Rr.draw(o,a,this.framework),e=0;e<o.length;e++)if(n=this.groups[o[e]],a[o[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=lr.calcPath(a[o[e]],n)),lr.draw(c[o[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&Cg.draw(a[o[e]],n,this.framework);break}}}return Fi(this.svgElements),!1};Ht.prototype._stack=function(n,e){var t,r,i,s,o;t=0;for(var a=0;a<n.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===n[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>n[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),r=o.x-s.x,i=o.y-s.y,r==0?n[a].y=n[a].orginalY+o.y:n[a].y=n[a].orginalY+i/r*(n[a].x-s.x)+s.y}};Ht.prototype._getRelevantData=function(n,e,t,r){var i,s,o,a;if(n.length>0)for(s=0;s<n.length;s++){i=this.groups[n[s]];var l=i.getItems();if(Rn(i.options)==!0){var c=function(f,m){return f.getTime()==m.getTime()?0:f<m?-1:1},u=Math.max(0,z.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,z.binarySearchValue(l,r,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=i.itemsData[o],d[o-u]=a;e[n[s]]=d}else e[n[s]]=i.itemsData}};Ht.prototype._applySampling=function(n,e){var t;if(n.length>0){for(var r=0;r<n.length;r++)if(t=this.groups[n[r]],t.options.sampling==!0){var i=e[n[r]];if(i.length>0){var s=1,o=i.length,a=this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=i[u]}e[n[r]]=Or(c).call(c,0,Math.round(o/s))}}}};Ht.prototype._getYRanges=function(n,e,t){var r,i,s,o=[],a=[],l;if(n.length>0){for(s=0;s<n.length;s++)r=e[n[s]],l=this.groups[n[s]].options,r.length>0&&(i=this.groups[n[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=Mn(o).call(o,r):a=Mn(a).call(a,r):t[n[s]]=i.getYRange(r,n[s]));Rr.getStackedYRange(o,t,n,"__barStackLeft","left"),Rr.getStackedYRange(a,t,n,"__barStackRight","right")}};Ht.prototype._updateYAxis=function(n,e){var t=!1,r=!1,i=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(n.length>0){for(var h=0;h<n.length;h++){var d=this.groups[n[h]];d&&d.options.yAxisOrientation!="right"?(r=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(i=!0,o=1e9,l=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(c=e[n[h]].min,u=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(r=!0,s=s>c?c:s,a=a<u?u:a):(i=!0,o=o>c?c:o,l=l<u?u:l));r==!0&&this.yAxisLeft.setRange(s,a),i==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(i,this.yAxisRight)||t,i==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(i==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)Ut(n).call(n,f[h])!=-1&&Or(n).call(n,Ut(n).call(n,f[h]),1);return t};Ht.prototype._toggleAxisVisiblity=function(n,e){var t=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};Ht.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,t=0;t<n.length;t++)n[t].screen_x=e(n[t].x)+this.props.width,n[t].screen_y=n[t].y,n[t].end!=null?n[t].screen_end=e(n[t].end)+this.props.width:n[t].screen_end=void 0};Ht.prototype._convertYcoordinates=function(n,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var i=0;i<n.length;i++)n[i].screen_y=Math.round(t.convertValue(n[i].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let at="string",Ct="boolean",Bt="number",qDe="array",fu="date",an="object",UDe="dom",pu="moment",PU="any",HDe={configure:{enabled:{boolean:Ct},filter:{boolean:Ct,function:"function"},container:{dom:UDe},__type__:{object:an,boolean:Ct,function:"function"}},alignCurrentTime:{string:at,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:at},sort:{boolean:Ct},sampling:{boolean:Ct},stack:{boolean:Ct},graphHeight:{string:at,number:Bt},shaded:{enabled:{boolean:Ct},orientation:{string:["bottom","top","zero","group"]},groupId:{object:an},__type__:{boolean:Ct,object:an}},style:{string:["line","bar","points"]},barChart:{width:{number:Bt},minWidth:{number:Bt},sideBySide:{boolean:Ct},align:{string:["left","center","right"]},__type__:{object:an}},interpolation:{enabled:{boolean:Ct},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Bt},__type__:{object:an,boolean:Ct}},drawPoints:{enabled:{boolean:Ct},onRender:{function:"function"},size:{number:Bt},style:{string:["square","circle"]},__type__:{object:an,boolean:Ct,function:"function"}},dataAxis:{showMinorLabels:{boolean:Ct},showMajorLabels:{boolean:Ct},showWeekScale:{boolean:Ct},icons:{boolean:Ct},width:{string:at,number:Bt},visible:{boolean:Ct},alignZeros:{boolean:Ct},left:{range:{min:{number:Bt,undefined:"undefined"},max:{number:Bt,undefined:"undefined"},__type__:{object:an}},format:{function:"function"},title:{text:{string:at,number:Bt,undefined:"undefined"},style:{string:at,undefined:"undefined"},__type__:{object:an}},__type__:{object:an}},right:{range:{min:{number:Bt,undefined:"undefined"},max:{number:Bt,undefined:"undefined"},__type__:{object:an}},format:{function:"function"},title:{text:{string:at,number:Bt,undefined:"undefined"},style:{string:at,undefined:"undefined"},__type__:{object:an}},__type__:{object:an}},__type__:{object:an}},legend:{enabled:{boolean:Ct},icons:{boolean:Ct},left:{visible:{boolean:Ct},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:an}},right:{visible:{boolean:Ct},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:an}},__type__:{object:an,boolean:Ct}},groups:{visibility:{any:PU},__type__:{object:an}},autoResize:{boolean:Ct},throttleRedraw:{number:Bt},clickToUse:{boolean:Ct},end:{number:Bt,date:fu,string:at,moment:pu},format:{minorLabels:{millisecond:{string:at,undefined:"undefined"},second:{string:at,undefined:"undefined"},minute:{string:at,undefined:"undefined"},hour:{string:at,undefined:"undefined"},weekday:{string:at,undefined:"undefined"},day:{string:at,undefined:"undefined"},week:{string:at,undefined:"undefined"},month:{string:at,undefined:"undefined"},quarter:{string:at,undefined:"undefined"},year:{string:at,undefined:"undefined"},__type__:{object:an}},majorLabels:{millisecond:{string:at,undefined:"undefined"},second:{string:at,undefined:"undefined"},minute:{string:at,undefined:"undefined"},hour:{string:at,undefined:"undefined"},weekday:{string:at,undefined:"undefined"},day:{string:at,undefined:"undefined"},week:{string:at,undefined:"undefined"},month:{string:at,undefined:"undefined"},quarter:{string:at,undefined:"undefined"},year:{string:at,undefined:"undefined"},__type__:{object:an}},__type__:{object:an}},moment:{function:"function"},height:{string:at,number:Bt},hiddenDates:{start:{date:fu,number:Bt,string:at,moment:pu},end:{date:fu,number:Bt,string:at,moment:pu},repeat:{string:at},__type__:{object:an,array:qDe}},locale:{string:at},locales:{__any__:{any:PU},__type__:{object:an}},max:{date:fu,number:Bt,string:at,moment:pu},maxHeight:{number:Bt,string:at},maxMinorChars:{number:Bt},min:{date:fu,number:Bt,string:at,moment:pu},minHeight:{number:Bt,string:at},moveable:{boolean:Ct},multiselect:{boolean:Ct},orientation:{string:at},showCurrentTime:{boolean:Ct},showMajorLabels:{boolean:Ct},showMinorLabels:{boolean:Ct},showWeekScale:{boolean:Ct},snap:{function:"function",null:"null"},start:{date:fu,number:Bt,string:at,moment:pu},timeAxis:{scale:{string:at,undefined:"undefined"},step:{number:Bt,undefined:"undefined"},__type__:{object:an}},width:{string:at,number:Bt},zoomable:{boolean:Ct},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Bt},zoomMin:{number:Bt},zIndex:{number:Bt},__type__:{object:an}},WDe={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Qo(n,e,t,r){var i,s,o,a,l,c,u;if(!(St(t)||Pc(t))&&t instanceof Object){var h=r;r=t,t=h}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Gr,width:null,height:null,maxHeight:null,minHeight:null},this.options=z.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:fe(i=this.on).call(i,this),off:fe(s=this.off).call(s,this),emit:fe(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale(){return d.timeAxis.step.scale},getStep(){return d.timeAxis.step.step},toScreen:fe(a=d._toScreen).call(a,d),toGlobalScreen:fe(l=d._toGlobalScreen).call(l,d),toTime:fe(c=d._toTime).call(c,d),toGlobalTime:fe(u=d._toGlobalTime).call(u,d)}},this.range=new nD(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new VP(this.body),this.components.push(this.timeAxis),this.currentTime=new aDe(this.body),this.components.push(this.currentTime),this.linegraph=new Ht(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(f){d.emit("click",d.getEventProperties(f))}),this.on("doubletap",function(f){d.emit("doubleClick",d.getEventProperties(f))}),this.dom.root.oncontextmenu=function(f){d.emit("contextmenu",d.getEventProperties(f))},this.initialFitDone=!1,this.on("changed",function(){if(d.itemsData!=null){if(!d.initialFitDone&&!d.options.rollingMode)if(d.initialFitDone=!0,d.options.start!=null||d.options.end!=null){if(d.options.start==null||d.options.end==null)var f=d.getItemRange();var m=d.options.start!=null?d.options.start:f.min,g=d.options.end!=null?d.options.end:f.max;d.setWindow(m,g,{animation:!1})}else d.fit({animation:!1});!d.initialDrawDone&&(d.initialRangeChangeDone||!d.options.start&&!d.options.end||d.options.rollingMode)&&(d.initialDrawDone=!0,d.dom.root.style.visibility="visible",d.dom.loadingScreen.parentNode.removeChild(d.dom.loadingScreen),d.options.onInitialDrawComplete&&Jr(()=>d.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}Qo.prototype=new lD;Qo.prototype.setOptions=function(n){hn.validate(n,HDe)===!0&&console.log("%cErrors have been found in the supplied options object.",XP),lD.prototype.setOptions.call(this,n)};Qo.prototype.setItems=function(n){var e=this.itemsData==null,t;if(n?Pc(n)?t=Xy(n):t=Xy(new JR(n)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,i=this.options.end!=null?this.options.end:null;this.setWindow(r,i,{animation:!1})}else this.fit({animation:!1})};Qo.prototype.setGroups=function(n){var e;n?Pc(n)?e=n:e=new JR(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Qo.prototype.getLegend=function(n,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,t):"cannot find group:'"+n+"'"};Qo.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};Qo.prototype.getDataRange=function(){var n=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var i=this.linegraph.groups[t].itemsData[r],s=z.convert(i.x,"Date").valueOf();n=n==null||n>s?s:n,e=e==null||e<s?s:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};Qo.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,t=n.center?n.center.y:n.clientY,r=e-z.getAbsoluteLeft(this.dom.centerContainer),i=t-z.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(r),o=IJ.customTimeFromTarget(n),a=z.getTarget(n),l=null;z.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&z.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":z.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||z.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":z.hasParent(a,this.linegraph.legendLeft.dom.frame)||z.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":z.hasParent(a,this.currentTime.bar)?l="current-time":z.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(i)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(i)),{event:n,customTime:o?o.options.id:null,what:l,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:r,y:i,time:s,value:c}};Qo.prototype._createConfigurator=function(){return new jDe(this,this.dom.container,WDe)};const YDe=XMe();Gr.locale(YDe);const GDe=P.createContext(void 0),_f="onboard_mnemonic",Sf="onboard_wallet_address",VDe=({children:n})=>{const[e,t]=P.useState(null),[r,i]=P.useState(null);P.useEffect(()=>{const l=localStorage.getItem(Sf),c=localStorage.getItem(_f),u=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");l&&c?(t(l),i(c)):u&&h&&(t(u),i(h),localStorage.setItem(Sf,u),localStorage.setItem(_f,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),P.useEffect(()=>{const l=c=>{c.key===Sf?t(c.newValue):c.key===_f&&i(c.newValue)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const s=P.useCallback((l,c)=>{t(l),i(c),localStorage.setItem(Sf,l),localStorage.setItem(_f,c)},[]),o=P.useCallback(()=>{t(null),i(null),localStorage.removeItem(Sf),localStorage.removeItem(_f)},[]),a=P.useMemo(()=>({generatedAddress:e,mnemonic:r,setGeneratedData:s,clearGeneratedData:o}),[e,r,s,o]);return M.jsx(GDe.Provider,{value:a,children:n})},kr={baseURL:"https://router.morpheum.io",wsURL:"wss://router.morpheum.io/websocket",layoutConfig:ime,compactType:"vertical",allStatic:!0,orderbookEnhancement:{enabled:!0,jitter:ZG,fakePending:{maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3}},orderbookMaxDepth:20,tradingViewSymbol:"BINANCE:BTCUSDT",tradingViewInterval:"5"},KDe=30,XDe=10,QDe=12;function JDe(){var Q;const[n,e]=P.useState("--"),[t,r]=P.useState(void 0),[i,s]=P.useState(!1),[o,a]=P.useState(10),[l,c]=P.useState(!1),[u,h]=P.useState(0),[d,f]=P.useState(0),m=P.useRef(null),g=P.useRef(null),[v,y]=P.useState("lg"),[b,w]=P.useState(!1),S=P.useRef(!1),_=P.useRef([]),k=P.useMemo(()=>tp(kr.layoutConfig),[]),[C,E]=P.useState(()=>tp(kr.layoutConfig));P.useEffect(()=>{E(k),_.current=k,w(!1),S.current=!1},[k]);const[O,R]=P.useState(()=>localStorage.getItem("authToken")||""),{markets:D,selectedMarketId:N,loadingMarkets:L,getError:W}=Ym({baseURL:kr.baseURL,sessionToken:O,autoFetchMarkets:!0}),{toggleEnabled:$}=Zr(),{mnemonic:F,walletAddress:B,authToken:j,setMnemonic:H}=lde();P.useEffect(()=>{F||H(BM)},[F,H]),P.useEffect(()=>{_.current=C},[C]),P.useEffect(()=>{j&&(R(j),localStorage.setItem("authToken",j))},[j]);const{setAuthToken:V,setWalletAddress:K}=Zr();P.useEffect(()=>{V(O||void 0)},[O,V]),P.useEffect(()=>{K(B||void 0)},[B,K]);const X=P.useRef(!1);P.useEffect(()=>{O&&O.trim()!==""&&!X.current&&localStorage.getItem("authToken")!==O&&localStorage.setItem("authToken",O),X.current=!1},[O]),P.useEffect(()=>{const J=me=>{me.key==="authToken"&&me.newValue&&(X.current=!0,R(me.newValue))};window.addEventListener("storage",J);const ue=setInterval(()=>{const me=localStorage.getItem("authToken");R(Ee=>me&&me!==Ee?(X.current=!0,me):Ee)},5e3);return()=>{window.removeEventListener("storage",J),clearInterval(ue)}},[]);const ee=P.useCallback(()=>{w(!0)},[]);P.useEffect(()=>{b&&!L&&D.length>0&&N&&!S.current&&(S.current=!0,setTimeout(()=>{$()},100))},[b,L,D.length,N,$]);const q=P.useCallback((J,ue)=>{},[]);P.useEffect(()=>(document.body.classList.remove("full-width-screen"),()=>document.body.classList.remove("full-width-screen")),[]);const Y=N||"",U=P.useMemo(()=>{if(C.length===0)return{};const J={};for(let ue=0;ue<=8;ue++){const me=C.find(Ee=>Ee.i===ue.toString());if(me){const Ee=me,Pe=Ee.h*KDe+(Ee.h-1)*XDe,Ce=Ee.w/QDe*100;J[ue]={width:`${Ce}%`,height:`${Pe}px`}}}return J},[C]);P.useCallback(async()=>{try{const ue=`[
${C.slice().sort((me,Ee)=>{const Pe=me,Ce=Ee,Ne=parseInt(Pe.i,10),Qe=parseInt(Ce.i,10);return Ne-Qe}).map(me=>{const Ee=me;return`  [${Ee.x}, ${Ee.y}, ${Ee.w}, ${Ee.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(ue),alert("Layout matrix copied to clipboard!")}catch(J){console.error("Failed to copy layout matrix:",J),alert("Failed to copy layout matrix to clipboard")}},[C]),P.useMemo(()=>C.map(function(J){const ue=J;return M.jsxs("div",{className:"layoutItem",children:[M.jsx("b",{children:ue.i}),": [",ue.x,", ",ue.y,", ",ue.w,", ",ue.h,"]"]},ue.i)}),[C]);const ie=P.useCallback(J=>{g.current&&g.current.setPrice(J)},[]),re=P.useMemo(()=>{var J,ue;return[M.jsx(Ade,{baseURL:kr.baseURL,selectedMarketId:Y,height:(J=U[0])==null?void 0:J.height},`ticker-${Y}`),M.jsx(k0e,{symbol:kr.tradingViewSymbol,interval:kr.tradingViewInterval,isCollapsed:!1},"tv"),M.jsx(zde,{baseURL:kr.baseURL,marketId:Y,maxDepth:kr.orderbookMaxDepth,height:(ue=U[2])==null?void 0:ue.height,onPriceClick:ie,enhancementConfig:kr.orderbookEnhancement},`clobx-${Y}`),M.jsx(Fde,{baseURL:kr.baseURL,marketId:Y},`price-${Y}`),M.jsx(Nde,{ref:g,baseURL:kr.baseURL,mnemonic:F??BM,marketId:Y,selectedBucketBalance:t,selectedBucketId:n,authToken:O,walletAddress:B??"",onLeverageClick:()=>{g.current&&a(g.current.leverage),s(!0)},onNumberCalculatorClick:()=>{g.current&&(h(g.current.getSizeInput()),f(g.current.getAvailableTradeAmount()),c(!0))}},`trade-${Y}`),M.jsx(Rde,{baseURL:kr.baseURL,authToken:O,walletAddress:B,mnemonic:F,height:"400px",onBucketSelect:me=>e(me),selectedBucketId:n})]},[Y,U,n,t,ie,F,O,B]);if(L)return M.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:M.jsx("div",{children:"Loading markets..."})});const se=W("markets");return se?M.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:M.jsxs("div",{children:["Error loading markets: ",se]})}):D.length===0||!N?M.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:M.jsx("div",{children:"No markets available."})}):M.jsxs("div",{className:"App-content-row",children:[!1,M.jsx(VV,{ref:m,onLayoutChange:q,onBreakpointChange:y,slotContent:re,compactType:kr.compactType,allStatic:kr.allStatic,onCompactTypeChange:()=>{},onToggleStatic:()=>{},onNewLayout:()=>{},initialLayout:k,onMount:ee}),M.jsx(wde,{isOpen:i,currentLeverage:((Q=g.current)==null?void 0:Q.leverage)??10,tempLeverage:o,maxRatio:g.current?g.current.calculateMaxRatio(o):o.toFixed(2),onLeverageChange:a,onConfirm:async()=>{if(!n||n==="--"||n.trim()===""){rt.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(g.current){s(!1);try{await g.current.changeLeverage(o,{bucketId:n})}catch{g.current&&a(g.current.leverage)}}else s(!1)},onCancel:()=>{g.current&&a(g.current.leverage),s(!1)}}),M.jsx(iV,{isOpen:l,value:u,min:0,max:d,onConfirm:J=>{g.current&&g.current.setSizeInput(J),c(!1)},onCancel:()=>c(!1)})]})}function ZDe(){return M.jsx(Ehe,{defaultWsURL:kr.wsURL,children:M.jsx(JDe,{})})}function eAe(){return M.jsxs(VDe,{children:[M.jsx("div",{className:"App ADemo",children:M.jsx("main",{className:"App-main",children:M.jsx(ZDe,{})})}),M.jsx(pde,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const IU=wY({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),OU=wY({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),tAe=Poe({chains:[IU,OU],connectors:[_b()],transports:{[IU.id]:S3(),[OU.id]:S3()}}),nAe=new rse,rAe=eAe,iAe=kT.createRoot(document.getElementById("root"));iAe.render(M.jsx(ge.StrictMode,{children:M.jsx(Doe,{config:tAe,children:M.jsx(sse,{client:nAe,children:M.jsx(rAe,{})})})}));
//# sourceMappingURL=index-BtTWAgLi.js.map
