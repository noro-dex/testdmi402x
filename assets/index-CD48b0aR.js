var lne=Object.defineProperty;var eA=n=>{throw TypeError(n)};var cne=(n,e,t)=>e in n?lne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>cne(n,typeof e!="symbol"?e+"":e,t),ew=(n,e,t)=>e.has(n)||eA("Cannot "+t);var Z=(n,e,t)=>(ew(n,e,"read from private field"),t?t.call(n):e.get(n)),Ie=(n,e,t)=>e.has(n)?eA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),fe=(n,e,t,r)=>(ew(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Rt=(n,e,t)=>(ew(n,e,"access private method"),t);var $g=(n,e,t,r)=>({set _(i){fe(n,e,i,t)},get _(){return Z(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function iI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function une(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var VU={exports:{}},ib={},KU={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),hne=Symbol.for("react.portal"),dne=Symbol.for("react.fragment"),fne=Symbol.for("react.strict_mode"),pne=Symbol.for("react.profiler"),mne=Symbol.for("react.provider"),gne=Symbol.for("react.context"),vne=Symbol.for("react.forward_ref"),yne=Symbol.for("react.suspense"),bne=Symbol.for("react.memo"),xne=Symbol.for("react.lazy"),tA=Symbol.iterator;function wne(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var XU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QU=Object.assign,JU={};function od(n,e,t){this.props=n,this.context=e,this.refs=JU,this.updater=t||XU}od.prototype.isReactComponent={};od.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};od.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ZU(){}ZU.prototype=od.prototype;function sI(n,e,t){this.props=n,this.context=e,this.refs=JU,this.updater=t||XU}var oI=sI.prototype=new ZU;oI.constructor=sI;QU(oI,od.prototype);oI.isPureReactComponent=!0;var nA=Array.isArray,eW=Object.prototype.hasOwnProperty,aI={current:null},tW={key:!0,ref:!0,__self:!0,__source:!0};function nW(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)eW.call(e,r)&&!tW.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nm,type:n,key:s,ref:o,props:i,_owner:aI.current}}function _ne(n,e){return{$$typeof:Nm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lI(n){return typeof n=="object"&&n!==null&&n.$$typeof===Nm}function Sne(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var rA=/\/+/g;function tw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Sne(""+n.key):e.toString(36)}function ov(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Nm:case hne:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+tw(o,0):r,nA(i)?(t="",n!=null&&(t=n.replace(rA,"$&/")+"/"),ov(i,e,t,"",function(c){return c})):i!=null&&(lI(i)&&(i=_ne(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rA,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",nA(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+tw(s,a);o+=ov(s,e,t,l,i)}else if(l=wne(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+tw(s,a++),o+=ov(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(n,e,t){if(n==null)return n;var r=[],i=0;return ov(n,r,"","",function(s){return e.call(t,s,i++)}),r}function kne(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Nr={current:null},av={transition:null},Cne={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:av,ReactCurrentOwner:aI};function rW(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:jg,forEach:function(n,e,t){jg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return jg(n,function(){e++}),e},toArray:function(n){return jg(n,function(e){return e})||[]},only:function(n){if(!lI(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vt.Component=od;vt.Fragment=dne;vt.Profiler=pne;vt.PureComponent=sI;vt.StrictMode=fne;vt.Suspense=yne;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cne;vt.act=rW;vt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=QU({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=aI.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)eW.call(e,l)&&!tW.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nm,type:n.type,key:i,ref:s,props:r,_owner:o}};vt.createContext=function(n){return n={$$typeof:gne,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:mne,_context:n},n.Consumer=n};vt.createElement=nW;vt.createFactory=function(n){var e=nW.bind(null,n);return e.type=n,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(n){return{$$typeof:vne,render:n}};vt.isValidElement=lI;vt.lazy=function(n){return{$$typeof:xne,_payload:{_status:-1,_result:n},_init:kne}};vt.memo=function(n,e){return{$$typeof:bne,type:n,compare:e===void 0?null:e}};vt.startTransition=function(n){var e=av.transition;av.transition={};try{n()}finally{av.transition=e}};vt.unstable_act=rW;vt.useCallback=function(n,e){return Nr.current.useCallback(n,e)};vt.useContext=function(n){return Nr.current.useContext(n)};vt.useDebugValue=function(){};vt.useDeferredValue=function(n){return Nr.current.useDeferredValue(n)};vt.useEffect=function(n,e){return Nr.current.useEffect(n,e)};vt.useId=function(){return Nr.current.useId()};vt.useImperativeHandle=function(n,e,t){return Nr.current.useImperativeHandle(n,e,t)};vt.useInsertionEffect=function(n,e){return Nr.current.useInsertionEffect(n,e)};vt.useLayoutEffect=function(n,e){return Nr.current.useLayoutEffect(n,e)};vt.useMemo=function(n,e){return Nr.current.useMemo(n,e)};vt.useReducer=function(n,e,t){return Nr.current.useReducer(n,e,t)};vt.useRef=function(n){return Nr.current.useRef(n)};vt.useState=function(n){return Nr.current.useState(n)};vt.useSyncExternalStore=function(n,e,t){return Nr.current.useSyncExternalStore(n,e,t)};vt.useTransition=function(){return Nr.current.useTransition()};vt.version="18.3.1";KU.exports=vt;var M=KU.exports;const de=iI(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ene=M,Tne=Symbol.for("react.element"),Mne=Symbol.for("react.fragment"),Pne=Object.prototype.hasOwnProperty,Ine=Ene.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,One={key:!0,ref:!0,__self:!0,__source:!0};function iW(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Pne.call(e,r)&&!One.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tne,type:n,key:s,ref:o,props:i,_owner:Ine.current}}ib.Fragment=Mne;ib.jsx=iW;ib.jsxs=iW;VU.exports=ib;var P=VU.exports,MT={},sW={exports:{}},_i={},oW={exports:{}},aW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(B,q){var U=B.length;B.push(q);e:for(;0<U;){var V=U-1>>>1,K=B[V];if(0<i(K,q))B[V]=q,B[U]=K,U=V;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],U=B.pop();if(U!==q){B[0]=U;e:for(var V=0,K=B.length,X=K>>>1;V<X;){var L=2*(V+1)-1,Y=B[L],Q=L+1,ee=B[Q];if(0>i(Y,U))Q<K&&0>i(ee,Y)?(B[V]=ee,B[Q]=U,V=Q):(B[V]=Y,B[L]=U,V=L);else if(Q<K&&0>i(ee,U))B[V]=ee,B[Q]=U,V=Q;else break e}}return q}function i(B,q){var U=B.sortIndex-q.sortIndex;return U!==0?U:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var q=t(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=B)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function S(B){if(g=!1,w(B),!m)if(t(l)!==null)m=!0,$(_);else{var q=t(c);q!==null&&z(S,q.startTime-B)}}function _(B,q){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var U=d;try{for(w(q),h=t(l);h!==null&&(!(h.expirationTime>q)||B&&!D());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var K=V(h.expirationTime<=q);q=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&r(l),w(q)}else r(l);h=t(l)}if(h!==null)var X=!0;else{var L=t(c);L!==null&&z(S,L.startTime-q),X=!1}return X}finally{h=null,d=U,f=!1}}var k=!1,E=null,C=-1,O=5,R=-1;function D(){return!(n.unstable_now()-R<O)}function F(){if(E!==null){var B=n.unstable_now();R=B;var q=!0;try{q=E(!0,B)}finally{q?N():(k=!1,E=null)}}else k=!1}var N;if(typeof b=="function")N=function(){b(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,j=W.port2;W.port1.onmessage=F,N=function(){j.postMessage(null)}}else N=function(){v(F,0)};function $(B){E=B,k||(k=!0,N())}function z(B,q){C=v(function(){B(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,$(_))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var U=d;d=q;try{return B()}finally{d=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=d;d=B;try{return q()}finally{d=U}},n.unstable_scheduleCallback=function(B,q,U){var V=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,B={id:u++,callback:q,priorityLevel:B,startTime:U,expirationTime:K,sortIndex:-1},U>V?(B.sortIndex=U,e(c,B),t(l)===null&&B===t(c)&&(g?(y(C),C=-1):g=!0,z(S,U-V))):(B.sortIndex=K,e(l,B),m||f||(m=!0,$(_))),B},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(B){var q=d;return function(){var U=d;d=q;try{return B.apply(this,arguments)}finally{d=U}}}})(aW);oW.exports=aW;var Rne=oW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dne=M,bi=Rne;function me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lW=new Set,vp={};function Ic(n,e){kh(n,e),kh(n+"Capture",e)}function kh(n,e){for(vp[n]=e,n=0;n<e.length;n++)lW.add(e[n])}var Bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PT=Object.prototype.hasOwnProperty,Ane=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iA={},sA={};function Nne(n){return PT.call(sA,n)?!0:PT.call(iA,n)?!1:Ane.test(n)?sA[n]=!0:(iA[n]=!0,!1)}function Lne(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Fne(n,e,t,r){if(e===null||typeof e>"u"||Lne(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){cr[n]=new Lr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];cr[e]=new Lr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){cr[n]=new Lr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){cr[n]=new Lr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){cr[n]=new Lr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){cr[n]=new Lr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){cr[n]=new Lr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){cr[n]=new Lr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){cr[n]=new Lr(n,5,!1,n.toLowerCase(),null,!1,!1)});var cI=/[\-:]([a-z])/g;function uI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(cI,uI);cr[e]=new Lr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(cI,uI);cr[e]=new Lr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(cI,uI);cr[e]=new Lr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){cr[n]=new Lr(n,1,!1,n.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){cr[n]=new Lr(n,1,!1,n.toLowerCase(),null,!0,!0)});function hI(n,e,t,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fne(e,t,i,r)&&(t=null),r||i===null?Nne(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Yo=Dne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bg=Symbol.for("react.element"),mu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),dI=Symbol.for("react.strict_mode"),IT=Symbol.for("react.profiler"),cW=Symbol.for("react.provider"),uW=Symbol.for("react.context"),fI=Symbol.for("react.forward_ref"),OT=Symbol.for("react.suspense"),RT=Symbol.for("react.suspense_list"),pI=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),hW=Symbol.for("react.offscreen"),oA=Symbol.iterator;function qd(n){return n===null||typeof n!="object"?null:(n=oA&&n[oA]||n["@@iterator"],typeof n=="function"?n:null)}var pn=Object.assign,nw;function Cf(n){if(nw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nw=e&&e[1]||""}return`
`+nw+n}var rw=!1;function iw(n,e){if(!n||rw)return"";rw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Cf(n):""}function $ne(n){switch(n.tag){case 5:return Cf(n.type);case 16:return Cf("Lazy");case 13:return Cf("Suspense");case 19:return Cf("SuspenseList");case 0:case 2:case 15:return n=iw(n.type,!1),n;case 11:return n=iw(n.type.render,!1),n;case 1:return n=iw(n.type,!0),n;default:return""}}function DT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case gu:return"Fragment";case mu:return"Portal";case IT:return"Profiler";case dI:return"StrictMode";case OT:return"Suspense";case RT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case uW:return(n.displayName||"Context")+".Consumer";case cW:return(n._context.displayName||"Context")+".Provider";case fI:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pI:return e=n.displayName||null,e!==null?e:DT(n.type)||"Memo";case ga:e=n._payload,n=n._init;try{return DT(n(e))}catch{}}return null}function jne(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DT(e);case 8:return e===dI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dW(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bne(n){var e=dW(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zg(n){n._valueTracker||(n._valueTracker=Bne(n))}function fW(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=dW(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Fv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function AT(n,e){var t=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function aA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Xa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pW(n,e){e=e.checked,e!=null&&hI(n,"checked",e,!1)}function NT(n,e){pW(n,e);var t=Xa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?LT(n,e.type,t):e.hasOwnProperty("defaultValue")&&LT(n,e.type,Xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function lA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function LT(n,e,t){(e!=="number"||Fv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ef=Array.isArray;function Fu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Xa(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function FT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function cA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(me(92));if(Ef(t)){if(1<t.length)throw Error(me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Xa(t)}}function mW(n,e){var t=Xa(e.value),r=Xa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function uA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function gW(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $T(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?gW(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qg,vW=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function yp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zne=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(n){zne.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Uf[e]=Uf[n]})});function yW(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Uf.hasOwnProperty(n)&&Uf[n]?(""+e).trim():e+"px"}function bW(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=yW(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var qne=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jT(n,e){if(e){if(qne[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function BT(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zT=null;function mI(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qT=null,$u=null,ju=null;function hA(n){if(n=$m(n)){if(typeof qT!="function")throw Error(me(280));var e=n.stateNode;e&&(e=cb(e),qT(n.stateNode,n.type,e))}}function xW(n){$u?ju?ju.push(n):ju=[n]:$u=n}function wW(){if($u){var n=$u,e=ju;if(ju=$u=null,hA(n),e)for(n=0;n<e.length;n++)hA(e[n])}}function _W(n,e){return n(e)}function SW(){}var sw=!1;function kW(n,e,t){if(sw)return n(e,t);sw=!0;try{return _W(n,e,t)}finally{sw=!1,($u!==null||ju!==null)&&(SW(),wW())}}function bp(n,e){var t=n.stateNode;if(t===null)return null;var r=cb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(me(231,e,typeof t));return t}var UT=!1;if(Bo)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){UT=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{UT=!1}function Une(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Wf=!1,$v=null,jv=!1,WT=null,Wne={onError:function(n){Wf=!0,$v=n}};function Hne(n,e,t,r,i,s,o,a,l){Wf=!1,$v=null,Une.apply(Wne,arguments)}function Yne(n,e,t,r,i,s,o,a,l){if(Hne.apply(this,arguments),Wf){if(Wf){var c=$v;Wf=!1,$v=null}else throw Error(me(198));jv||(jv=!0,WT=c)}}function Oc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function CW(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function dA(n){if(Oc(n)!==n)throw Error(me(188))}function Gne(n){var e=n.alternate;if(!e){if(e=Oc(n),e===null)throw Error(me(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return dA(i),n;if(s===r)return dA(i),e;s=s.sibling}throw Error(me(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(me(189))}}if(t.alternate!==r)throw Error(me(190))}if(t.tag!==3)throw Error(me(188));return t.stateNode.current===t?n:e}function EW(n){return n=Gne(n),n!==null?TW(n):null}function TW(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=TW(n);if(e!==null)return e;n=n.sibling}return null}var MW=bi.unstable_scheduleCallback,fA=bi.unstable_cancelCallback,Vne=bi.unstable_shouldYield,Kne=bi.unstable_requestPaint,Tn=bi.unstable_now,Xne=bi.unstable_getCurrentPriorityLevel,gI=bi.unstable_ImmediatePriority,PW=bi.unstable_UserBlockingPriority,Bv=bi.unstable_NormalPriority,Qne=bi.unstable_LowPriority,IW=bi.unstable_IdlePriority,sb=null,Gs=null;function Jne(n){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(sb,n,void 0,(n.current.flags&128)===128)}catch{}}var ps=Math.clz32?Math.clz32:tre,Zne=Math.log,ere=Math.LN2;function tre(n){return n>>>=0,n===0?32:31-(Zne(n)/ere|0)|0}var Ug=64,Wg=4194304;function Tf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Tf(a):(s&=o,s!==0&&(r=Tf(s)))}else o=t&~i,o!==0?r=Tf(o):s!==0&&(r=Tf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ps(e),i=1<<t,r|=n[t],e&=~i;return r}function nre(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rre(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ps(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=nre(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function HT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function OW(){var n=Ug;return Ug<<=1,!(Ug&4194240)&&(Ug=64),n}function ow(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Lm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ps(e),n[e]=t}function ire(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ps(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function vI(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ps(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ft=0;function RW(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var DW,yI,AW,NW,LW,YT=!1,Hg=[],Fa=null,$a=null,ja=null,xp=new Map,wp=new Map,ba=[],sre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pA(n,e){switch(n){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":xp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wp.delete(e.pointerId)}}function Wd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$m(e),e!==null&&yI(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ore(n,e,t,r,i){switch(e){case"focusin":return Fa=Wd(Fa,n,e,t,r,i),!0;case"dragenter":return $a=Wd($a,n,e,t,r,i),!0;case"mouseover":return ja=Wd(ja,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return xp.set(s,Wd(xp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wp.set(s,Wd(wp.get(s)||null,n,e,t,r,i)),!0}return!1}function FW(n){var e=Ol(n.target);if(e!==null){var t=Oc(e);if(t!==null){if(e=t.tag,e===13){if(e=CW(t),e!==null){n.blockedOn=e,LW(n.priority,function(){AW(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=GT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);zT=r,t.target.dispatchEvent(r),zT=null}else return e=$m(t),e!==null&&yI(e),n.blockedOn=t,!1;e.shift()}return!0}function mA(n,e,t){lv(n)&&t.delete(e)}function are(){YT=!1,Fa!==null&&lv(Fa)&&(Fa=null),$a!==null&&lv($a)&&($a=null),ja!==null&&lv(ja)&&(ja=null),xp.forEach(mA),wp.forEach(mA)}function Hd(n,e){n.blockedOn===e&&(n.blockedOn=null,YT||(YT=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,are)))}function _p(n){function e(i){return Hd(i,n)}if(0<Hg.length){Hd(Hg[0],n);for(var t=1;t<Hg.length;t++){var r=Hg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Fa!==null&&Hd(Fa,n),$a!==null&&Hd($a,n),ja!==null&&Hd(ja,n),xp.forEach(e),wp.forEach(e),t=0;t<ba.length;t++)r=ba[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ba.length&&(t=ba[0],t.blockedOn===null);)FW(t),t.blockedOn===null&&ba.shift()}var Bu=Yo.ReactCurrentBatchConfig,qv=!0;function lre(n,e,t,r){var i=Ft,s=Bu.transition;Bu.transition=null;try{Ft=1,bI(n,e,t,r)}finally{Ft=i,Bu.transition=s}}function cre(n,e,t,r){var i=Ft,s=Bu.transition;Bu.transition=null;try{Ft=4,bI(n,e,t,r)}finally{Ft=i,Bu.transition=s}}function bI(n,e,t,r){if(qv){var i=GT(n,e,t,r);if(i===null)gw(n,e,r,Uv,t),pA(n,r);else if(ore(i,n,e,t,r))r.stopPropagation();else if(pA(n,r),e&4&&-1<sre.indexOf(n)){for(;i!==null;){var s=$m(i);if(s!==null&&DW(s),s=GT(n,e,t,r),s===null&&gw(n,e,r,Uv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else gw(n,e,r,null,t)}}var Uv=null;function GT(n,e,t,r){if(Uv=null,n=mI(r),n=Ol(n),n!==null)if(e=Oc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=CW(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Uv=n,null}function $W(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xne()){case gI:return 1;case PW:return 4;case Bv:case Qne:return 16;case IW:return 536870912;default:return 16}default:return 16}}var Oa=null,xI=null,cv=null;function jW(){if(cv)return cv;var n,e=xI,t=e.length,r,i="value"in Oa?Oa.value:Oa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cv=i.slice(n,1<r?1-r:void 0)}function uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Yg(){return!0}function gA(){return!1}function Si(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yg:gA,this.isPropagationStopped=gA,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),e}var ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wI=Si(ad),Fm=pn({},ad,{view:0,detail:0}),ure=Si(Fm),aw,lw,Yd,ob=pn({},Fm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_I,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yd&&(Yd&&n.type==="mousemove"?(aw=n.screenX-Yd.screenX,lw=n.screenY-Yd.screenY):lw=aw=0,Yd=n),aw)},movementY:function(n){return"movementY"in n?n.movementY:lw}}),vA=Si(ob),hre=pn({},ob,{dataTransfer:0}),dre=Si(hre),fre=pn({},Fm,{relatedTarget:0}),cw=Si(fre),pre=pn({},ad,{animationName:0,elapsedTime:0,pseudoElement:0}),mre=Si(pre),gre=pn({},ad,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vre=Si(gre),yre=pn({},ad,{data:0}),yA=Si(yre),bre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _re(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=wre[n])?!!e[n]:!1}function _I(){return _re}var Sre=pn({},Fm,{key:function(n){if(n.key){var e=bre[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xre[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_I,charCode:function(n){return n.type==="keypress"?uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kre=Si(Sre),Cre=pn({},ob,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bA=Si(Cre),Ere=pn({},Fm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_I}),Tre=Si(Ere),Mre=pn({},ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pre=Si(Mre),Ire=pn({},ob,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ore=Si(Ire),Rre=[9,13,27,32],SI=Bo&&"CompositionEvent"in window,Hf=null;Bo&&"documentMode"in document&&(Hf=document.documentMode);var Dre=Bo&&"TextEvent"in window&&!Hf,BW=Bo&&(!SI||Hf&&8<Hf&&11>=Hf),xA=" ",wA=!1;function zW(n,e){switch(n){case"keyup":return Rre.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qW(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vu=!1;function Are(n,e){switch(n){case"compositionend":return qW(e);case"keypress":return e.which!==32?null:(wA=!0,xA);case"textInput":return n=e.data,n===xA&&wA?null:n;default:return null}}function Nre(n,e){if(vu)return n==="compositionend"||!SI&&zW(n,e)?(n=jW(),cv=xI=Oa=null,vu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BW&&e.locale!=="ko"?null:e.data;default:return null}}var Lre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Lre[n.type]:e==="textarea"}function UW(n,e,t,r){xW(r),e=Wv(e,"onChange"),0<e.length&&(t=new wI("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Yf=null,Sp=null;function Fre(n){eH(n,0)}function ab(n){var e=xu(n);if(fW(e))return n}function $re(n,e){if(n==="change")return e}var WW=!1;if(Bo){var uw;if(Bo){var hw="oninput"in document;if(!hw){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),hw=typeof SA.oninput=="function"}uw=hw}else uw=!1;WW=uw&&(!document.documentMode||9<document.documentMode)}function kA(){Yf&&(Yf.detachEvent("onpropertychange",HW),Sp=Yf=null)}function HW(n){if(n.propertyName==="value"&&ab(Sp)){var e=[];UW(e,Sp,n,mI(n)),kW(Fre,e)}}function jre(n,e,t){n==="focusin"?(kA(),Yf=e,Sp=t,Yf.attachEvent("onpropertychange",HW)):n==="focusout"&&kA()}function Bre(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ab(Sp)}function zre(n,e){if(n==="click")return ab(e)}function qre(n,e){if(n==="input"||n==="change")return ab(e)}function Ure(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vs=typeof Object.is=="function"?Object.is:Ure;function kp(n,e){if(vs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!PT.call(e,i)||!vs(n[i],e[i]))return!1}return!0}function CA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function EA(n,e){var t=CA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=CA(t)}}function YW(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?YW(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function GW(){for(var n=window,e=Fv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fv(n.document)}return e}function kI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Wre(n){var e=GW(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&YW(t.ownerDocument.documentElement,t)){if(r!==null&&kI(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=EA(t,s);var o=EA(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Hre=Bo&&"documentMode"in document&&11>=document.documentMode,yu=null,VT=null,Gf=null,KT=!1;function TA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;KT||yu==null||yu!==Fv(r)||(r=yu,"selectionStart"in r&&kI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gf&&kp(Gf,r)||(Gf=r,r=Wv(VT,"onSelect"),0<r.length&&(e=new wI("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=yu)))}function Gg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bu={animationend:Gg("Animation","AnimationEnd"),animationiteration:Gg("Animation","AnimationIteration"),animationstart:Gg("Animation","AnimationStart"),transitionend:Gg("Transition","TransitionEnd")},dw={},VW={};Bo&&(VW=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function lb(n){if(dw[n])return dw[n];if(!bu[n])return n;var e=bu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in VW)return dw[n]=e[t];return n}var KW=lb("animationend"),XW=lb("animationiteration"),QW=lb("animationstart"),JW=lb("transitionend"),ZW=new Map,MA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(n,e){ZW.set(n,e),Ic(e,[n])}for(var fw=0;fw<MA.length;fw++){var pw=MA[fw],Yre=pw.toLowerCase(),Gre=pw[0].toUpperCase()+pw.slice(1);nl(Yre,"on"+Gre)}nl(KW,"onAnimationEnd");nl(XW,"onAnimationIteration");nl(QW,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(JW,"onTransitionEnd");kh("onMouseEnter",["mouseout","mouseover"]);kh("onMouseLeave",["mouseout","mouseover"]);kh("onPointerEnter",["pointerout","pointerover"]);kh("onPointerLeave",["pointerout","pointerover"]);Ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vre=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mf));function PA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Yne(r,e,void 0,n),n.currentTarget=null}function eH(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PA(i,a,c),s=l}}}if(jv)throw n=WT,jv=!1,WT=null,n}function Zt(n,e){var t=e[eM];t===void 0&&(t=e[eM]=new Set);var r=n+"__bubble";t.has(r)||(tH(e,n,2,!1),t.add(r))}function mw(n,e,t){var r=0;e&&(r|=4),tH(t,n,r,e)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function Cp(n){if(!n[Vg]){n[Vg]=!0,lW.forEach(function(t){t!=="selectionchange"&&(Vre.has(t)||mw(t,!1,n),mw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Vg]||(e[Vg]=!0,mw("selectionchange",!1,e))}}function tH(n,e,t,r){switch($W(e)){case 1:var i=lre;break;case 4:i=cre;break;default:i=bI}t=i.bind(null,e,t,n),i=void 0,!UT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function gw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ol(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kW(function(){var c=s,u=mI(t),h=[];e:{var d=ZW.get(n);if(d!==void 0){var f=wI,m=n;switch(n){case"keypress":if(uv(t)===0)break e;case"keydown":case"keyup":f=kre;break;case"focusin":m="focus",f=cw;break;case"focusout":m="blur",f=cw;break;case"beforeblur":case"afterblur":f=cw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=dre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Tre;break;case KW:case XW:case QW:f=mre;break;case JW:f=Pre;break;case"scroll":f=ure;break;case"wheel":f=Ore;break;case"copy":case"cut":case"paste":f=vre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bA}var g=(e&4)!==0,v=!g&&n==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=bp(b,y),S!=null&&g.push(Ep(b,S,w)))),v)break;b=b.return}0<g.length&&(d=new f(d,m,null,t,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==zT&&(m=t.relatedTarget||t.fromElement)&&(Ol(m)||m[zo]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=t.relatedTarget||t.toElement,f=c,m=m?Ol(m):null,m!==null&&(v=Oc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=vA,S="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=bA,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?d:xu(f),w=m==null?d:xu(m),d=new g(S,b+"leave",f,t,u),d.target=v,d.relatedTarget=w,S=null,Ol(u)===c&&(g=new g(y,b+"enter",m,t,u),g.target=w,g.relatedTarget=v,S=g),v=S,f&&m)t:{for(g=f,y=m,b=0,w=g;w;w=tu(w))b++;for(w=0,S=y;S;S=tu(S))w++;for(;0<b-w;)g=tu(g),b--;for(;0<w-b;)y=tu(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=tu(g),y=tu(y)}g=null}else g=null;f!==null&&IA(h,d,f,g,!1),m!==null&&v!==null&&IA(h,v,m,g,!0)}}e:{if(d=c?xu(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var _=$re;else if(_A(d))if(WW)_=qre;else{_=Bre;var k=jre}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=zre);if(_&&(_=_(n,c))){UW(h,_,t,u);break e}k&&k(n,d,c),n==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&LT(d,"number",d.value)}switch(k=c?xu(c):window,n){case"focusin":(_A(k)||k.contentEditable==="true")&&(yu=k,VT=c,Gf=null);break;case"focusout":Gf=VT=yu=null;break;case"mousedown":KT=!0;break;case"contextmenu":case"mouseup":case"dragend":KT=!1,TA(h,t,u);break;case"selectionchange":if(Hre)break;case"keydown":case"keyup":TA(h,t,u)}var E;if(SI)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vu?zW(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(BW&&t.locale!=="ko"&&(vu||C!=="onCompositionStart"?C==="onCompositionEnd"&&vu&&(E=jW()):(Oa=u,xI="value"in Oa?Oa.value:Oa.textContent,vu=!0)),k=Wv(c,C),0<k.length&&(C=new yA(C,n,null,t,u),h.push({event:C,listeners:k}),E?C.data=E:(E=qW(t),E!==null&&(C.data=E)))),(E=Dre?Are(n,t):Nre(n,t))&&(c=Wv(c,"onBeforeInput"),0<c.length&&(u=new yA("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=E))}eH(h,e)})}function Ep(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Wv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bp(n,t),s!=null&&r.unshift(Ep(n,s,i)),s=bp(n,e),s!=null&&r.push(Ep(n,s,i))),n=n.return}return r}function tu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function IA(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=bp(t,s),l!=null&&o.unshift(Ep(t,l,a))):i||(l=bp(t,s),l!=null&&o.push(Ep(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Kre=/\r\n?/g,Xre=/\u0000|\uFFFD/g;function OA(n){return(typeof n=="string"?n:""+n).replace(Kre,`
`).replace(Xre,"")}function Kg(n,e,t){if(e=OA(e),OA(n)!==e&&t)throw Error(me(425))}function Hv(){}var XT=null,QT=null;function JT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZT=typeof setTimeout=="function"?setTimeout:void 0,Qre=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,Jre=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(n){return RA.resolve(null).then(n).catch(Zre)}:ZT;function Zre(n){setTimeout(function(){throw n})}function vw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),_p(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);_p(e)}function Ba(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function DA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ld=Math.random().toString(36).slice(2),Us="__reactFiber$"+ld,Tp="__reactProps$"+ld,zo="__reactContainer$"+ld,eM="__reactEvents$"+ld,eie="__reactListeners$"+ld,tie="__reactHandles$"+ld;function Ol(n){var e=n[Us];if(e)return e;for(var t=n.parentNode;t;){if(e=t[zo]||t[Us]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=DA(n);n!==null;){if(t=n[Us])return t;n=DA(n)}return e}n=t,t=n.parentNode}return null}function $m(n){return n=n[Us]||n[zo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(me(33))}function cb(n){return n[Tp]||null}var tM=[],wu=-1;function rl(n){return{current:n}}function en(n){0>wu||(n.current=tM[wu],tM[wu]=null,wu--)}function Kt(n,e){wu++,tM[wu]=n.current,n.current=e}var Qa={},vr=rl(Qa),Vr=rl(!1),cc=Qa;function Ch(n,e){var t=n.type.contextTypes;if(!t)return Qa;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(n){return n=n.childContextTypes,n!=null}function Yv(){en(Vr),en(vr)}function AA(n,e,t){if(vr.current!==Qa)throw Error(me(168));Kt(vr,e),Kt(Vr,t)}function nH(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(me(108,jne(n)||"Unknown",i));return pn({},t,r)}function Gv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Qa,cc=vr.current,Kt(vr,n),Kt(Vr,Vr.current),!0}function NA(n,e,t){var r=n.stateNode;if(!r)throw Error(me(169));t?(n=nH(n,e,cc),r.__reactInternalMemoizedMergedChildContext=n,en(Vr),en(vr),Kt(vr,n)):en(Vr),Kt(Vr,t)}var wo=null,ub=!1,yw=!1;function rH(n){wo===null?wo=[n]:wo.push(n)}function nie(n){ub=!0,rH(n)}function il(){if(!yw&&wo!==null){yw=!0;var n=0,e=Ft;try{var t=wo;for(Ft=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wo=null,ub=!1}catch(i){throw wo!==null&&(wo=wo.slice(n+1)),MW(gI,il),i}finally{Ft=e,yw=!1}}return null}var _u=[],Su=0,Vv=null,Kv=0,Bi=[],zi=0,uc=null,Po=1,Io="";function wl(n,e){_u[Su++]=Kv,_u[Su++]=Vv,Vv=n,Kv=e}function iH(n,e,t){Bi[zi++]=Po,Bi[zi++]=Io,Bi[zi++]=uc,uc=n;var r=Po;n=Io;var i=32-ps(r)-1;r&=~(1<<i),t+=1;var s=32-ps(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Po=1<<32-ps(e)+i|t<<i|r,Io=s+n}else Po=1<<s|t<<i|r,Io=n}function CI(n){n.return!==null&&(wl(n,1),iH(n,1,0))}function EI(n){for(;n===Vv;)Vv=_u[--Su],_u[Su]=null,Kv=_u[--Su],_u[Su]=null;for(;n===uc;)uc=Bi[--zi],Bi[zi]=null,Io=Bi[--zi],Bi[zi]=null,Po=Bi[--zi],Bi[zi]=null}var pi=null,fi=null,an=!1,hs=null;function sH(n,e){var t=qi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function LA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,pi=n,fi=Ba(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,pi=n,fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=uc!==null?{id:Po,overflow:Io}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=qi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,pi=n,fi=null,!0):!1;default:return!1}}function nM(n){return(n.mode&1)!==0&&(n.flags&128)===0}function rM(n){if(an){var e=fi;if(e){var t=e;if(!LA(n,e)){if(nM(n))throw Error(me(418));e=Ba(t.nextSibling);var r=pi;e&&LA(n,e)?sH(r,t):(n.flags=n.flags&-4097|2,an=!1,pi=n)}}else{if(nM(n))throw Error(me(418));n.flags=n.flags&-4097|2,an=!1,pi=n}}}function FA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;pi=n}function Xg(n){if(n!==pi)return!1;if(!an)return FA(n),an=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!JT(n.type,n.memoizedProps)),e&&(e=fi)){if(nM(n))throw oH(),Error(me(418));for(;e;)sH(n,e),e=Ba(e.nextSibling)}if(FA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){fi=Ba(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}fi=null}}else fi=pi?Ba(n.stateNode.nextSibling):null;return!0}function oH(){for(var n=fi;n;)n=Ba(n.nextSibling)}function Eh(){fi=pi=null,an=!1}function TI(n){hs===null?hs=[n]:hs.push(n)}var rie=Yo.ReactCurrentBatchConfig;function Gd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(me(309));var r=t.stateNode}if(!r)throw Error(me(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(me(284));if(!t._owner)throw Error(me(290,n))}return n}function Qg(n,e){throw n=Object.prototype.toString.call(e),Error(me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function $A(n){var e=n._init;return e(n._payload)}function aH(n){function e(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Wa(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,w,S){return b===null||b.tag!==6?(b=Cw(w,y.mode,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,S){var _=w.type;return _===gu?u(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ga&&$A(_)===b.type)?(S=i(b,w.props),S.ref=Gd(y,b,w),S.return=y,S):(S=vv(w.type,w.key,w.props,null,y.mode,S),S.ref=Gd(y,b,w),S.return=y,S)}function c(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Ew(w,y.mode,S),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,S,_){return b===null||b.tag!==7?(b=Ql(w,y.mode,S,_),b.return=y,b):(b=i(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cw(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bg:return w=vv(b.type,b.key,b.props,null,y.mode,w),w.ref=Gd(y,null,b),w.return=y,w;case mu:return b=Ew(b,y.mode,w),b.return=y,b;case ga:var S=b._init;return h(y,S(b._payload),w)}if(Ef(b)||qd(b))return b=Ql(b,y.mode,w,null),b.return=y,b;Qg(y,b)}return null}function d(y,b,w,S){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bg:return w.key===_?l(y,b,w,S):null;case mu:return w.key===_?c(y,b,w,S):null;case ga:return _=w._init,d(y,b,_(w._payload),S)}if(Ef(w)||qd(w))return _!==null?null:u(y,b,w,S,null);Qg(y,w)}return null}function f(y,b,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(b,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bg:return y=y.get(S.key===null?w:S.key)||null,l(b,y,S,_);case mu:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,_);case ga:var k=S._init;return f(y,b,w,k(S._payload),_)}if(Ef(S)||qd(S))return y=y.get(w)||null,u(b,y,S,_,null);Qg(b,S)}return null}function m(y,b,w,S){for(var _=null,k=null,E=b,C=b=0,O=null;E!==null&&C<w.length;C++){E.index>C?(O=E,E=null):O=E.sibling;var R=d(y,E,w[C],S);if(R===null){E===null&&(E=O);break}n&&E&&R.alternate===null&&e(y,E),b=s(R,b,C),k===null?_=R:k.sibling=R,k=R,E=O}if(C===w.length)return t(y,E),an&&wl(y,C),_;if(E===null){for(;C<w.length;C++)E=h(y,w[C],S),E!==null&&(b=s(E,b,C),k===null?_=E:k.sibling=E,k=E);return an&&wl(y,C),_}for(E=r(y,E);C<w.length;C++)O=f(E,y,C,w[C],S),O!==null&&(n&&O.alternate!==null&&E.delete(O.key===null?C:O.key),b=s(O,b,C),k===null?_=O:k.sibling=O,k=O);return n&&E.forEach(function(D){return e(y,D)}),an&&wl(y,C),_}function g(y,b,w,S){var _=qd(w);if(typeof _!="function")throw Error(me(150));if(w=_.call(w),w==null)throw Error(me(151));for(var k=_=null,E=b,C=b=0,O=null,R=w.next();E!==null&&!R.done;C++,R=w.next()){E.index>C?(O=E,E=null):O=E.sibling;var D=d(y,E,R.value,S);if(D===null){E===null&&(E=O);break}n&&E&&D.alternate===null&&e(y,E),b=s(D,b,C),k===null?_=D:k.sibling=D,k=D,E=O}if(R.done)return t(y,E),an&&wl(y,C),_;if(E===null){for(;!R.done;C++,R=w.next())R=h(y,R.value,S),R!==null&&(b=s(R,b,C),k===null?_=R:k.sibling=R,k=R);return an&&wl(y,C),_}for(E=r(y,E);!R.done;C++,R=w.next())R=f(E,y,C,R.value,S),R!==null&&(n&&R.alternate!==null&&E.delete(R.key===null?C:R.key),b=s(R,b,C),k===null?_=R:k.sibling=R,k=R);return n&&E.forEach(function(F){return e(y,F)}),an&&wl(y,C),_}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===gu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bg:e:{for(var _=w.key,k=b;k!==null;){if(k.key===_){if(_=w.type,_===gu){if(k.tag===7){t(y,k.sibling),b=i(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ga&&$A(_)===k.type){t(y,k.sibling),b=i(k,w.props),b.ref=Gd(y,k,w),b.return=y,y=b;break e}t(y,k);break}else e(y,k);k=k.sibling}w.type===gu?(b=Ql(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=vv(w.type,w.key,w.props,null,y.mode,S),S.ref=Gd(y,b,w),S.return=y,y=S)}return o(y);case mu:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Ew(w,y.mode,S),b.return=y,y=b}return o(y);case ga:return k=w._init,v(y,b,k(w._payload),S)}if(Ef(w))return m(y,b,w,S);if(qd(w))return g(y,b,w,S);Qg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(y,b.sibling),b=i(b,w),b.return=y,y=b):(t(y,b),b=Cw(w,y.mode,S),b.return=y,y=b),o(y)):t(y,b)}return v}var Th=aH(!0),lH=aH(!1),Xv=rl(null),Qv=null,ku=null,MI=null;function PI(){MI=ku=Qv=null}function II(n){var e=Xv.current;en(Xv),n._currentValue=e}function iM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function zu(n,e){Qv=n,MI=ku=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Hr=!0),n.firstContext=null)}function Gi(n){var e=n._currentValue;if(MI!==n)if(n={context:n,memoizedValue:e,next:null},ku===null){if(Qv===null)throw Error(me(308));ku=n,Qv.dependencies={lanes:0,firstContext:n}}else ku=ku.next=n;return e}var Rl=null;function OI(n){Rl===null?Rl=[n]:Rl.push(n)}function cH(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,OI(e)):(t.next=i.next,i.next=t),e.interleaved=t,qo(n,r)}function qo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var va=!1;function RI(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uH(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Do(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function za(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qo(n,t)}return i=r.interleaved,i===null?(e.next=e,OI(r)):(e.next=i.next,i.next=e),r.interleaved=e,qo(n,t)}function hv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,vI(n,t)}}function jA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Jv(n,e,t,r){var i=n.updateQueue;va=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(d=e,f=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=pn({},h,d);break e;case 2:va=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dc|=o,n.lanes=o,n.memoizedState=h}}function BA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(me(191,i));i.call(r)}}}var jm={},Vs=rl(jm),Mp=rl(jm),Pp=rl(jm);function Dl(n){if(n===jm)throw Error(me(174));return n}function DI(n,e){switch(Kt(Pp,e),Kt(Mp,n),Kt(Vs,jm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$T(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$T(e,n)}en(Vs),Kt(Vs,e)}function Mh(){en(Vs),en(Mp),en(Pp)}function hH(n){Dl(Pp.current);var e=Dl(Vs.current),t=$T(e,n.type);e!==t&&(Kt(Mp,n),Kt(Vs,t))}function AI(n){Mp.current===n&&(en(Vs),en(Mp))}var un=rl(0);function Zv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bw=[];function NI(){for(var n=0;n<bw.length;n++)bw[n]._workInProgressVersionPrimary=null;bw.length=0}var dv=Yo.ReactCurrentDispatcher,xw=Yo.ReactCurrentBatchConfig,hc=0,fn=null,$n=null,Wn=null,ey=!1,Vf=!1,Ip=0,iie=0;function dr(){throw Error(me(321))}function LI(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vs(n[t],e[t]))return!1;return!0}function FI(n,e,t,r,i,s){if(hc=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dv.current=n===null||n.memoizedState===null?lie:cie,n=t(r,i),Vf){s=0;do{if(Vf=!1,Ip=0,25<=s)throw Error(me(301));s+=1,Wn=$n=null,e.updateQueue=null,dv.current=uie,n=t(r,i)}while(Vf)}if(dv.current=ty,e=$n!==null&&$n.next!==null,hc=0,Wn=$n=fn=null,ey=!1,e)throw Error(me(300));return n}function $I(){var n=Ip!==0;return Ip=0,n}function As(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?fn.memoizedState=Wn=n:Wn=Wn.next=n,Wn}function Vi(){if($n===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=$n.next;var e=Wn===null?fn.memoizedState:Wn.next;if(e!==null)Wn=e,$n=n;else{if(n===null)throw Error(me(310));$n=n,n={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Wn===null?fn.memoizedState=Wn=n:Wn=Wn.next=n}return Wn}function Op(n,e){return typeof e=="function"?e(n):e}function ww(n){var e=Vi(),t=e.queue;if(t===null)throw Error(me(311));t.lastRenderedReducer=n;var r=$n,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,fn.lanes|=u,dc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vs(r,e.memoizedState)||(Hr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,fn.lanes|=s,dc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _w(n){var e=Vi(),t=e.queue;if(t===null)throw Error(me(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);vs(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function dH(){}function fH(n,e){var t=fn,r=Vi(),i=e(),s=!vs(r.memoizedState,i);if(s&&(r.memoizedState=i,Hr=!0),r=r.queue,jI(gH.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(t.flags|=2048,Rp(9,mH.bind(null,t,r,i,e),void 0,null),Qn===null)throw Error(me(349));hc&30||pH(t,e,i)}return i}function pH(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function mH(n,e,t,r){e.value=t,e.getSnapshot=r,vH(e)&&yH(n)}function gH(n,e,t){return t(function(){vH(e)&&yH(n)})}function vH(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!vs(n,t)}catch{return!0}}function yH(n){var e=qo(n,1);e!==null&&ms(e,n,1,-1)}function zA(n){var e=As();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},e.queue=n,n=n.dispatch=aie.bind(null,fn,n),[e.memoizedState,n]}function Rp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function bH(){return Vi().memoizedState}function fv(n,e,t,r){var i=As();fn.flags|=n,i.memoizedState=Rp(1|e,t,void 0,r===void 0?null:r)}function hb(n,e,t,r){var i=Vi();r=r===void 0?null:r;var s=void 0;if($n!==null){var o=$n.memoizedState;if(s=o.destroy,r!==null&&LI(r,o.deps)){i.memoizedState=Rp(e,t,s,r);return}}fn.flags|=n,i.memoizedState=Rp(1|e,t,s,r)}function qA(n,e){return fv(8390656,8,n,e)}function jI(n,e){return hb(2048,8,n,e)}function xH(n,e){return hb(4,2,n,e)}function wH(n,e){return hb(4,4,n,e)}function _H(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function SH(n,e,t){return t=t!=null?t.concat([n]):null,hb(4,4,_H.bind(null,e,n),t)}function BI(){}function kH(n,e){var t=Vi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&LI(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function CH(n,e){var t=Vi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&LI(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function EH(n,e,t){return hc&21?(vs(t,e)||(t=OW(),fn.lanes|=t,dc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Hr=!0),n.memoizedState=t)}function sie(n,e){var t=Ft;Ft=t!==0&&4>t?t:4,n(!0);var r=xw.transition;xw.transition={};try{n(!1),e()}finally{Ft=t,xw.transition=r}}function TH(){return Vi().memoizedState}function oie(n,e,t){var r=Ua(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},MH(n))PH(e,t);else if(t=cH(n,e,t,r),t!==null){var i=Rr();ms(t,n,r,i),IH(t,e,r)}}function aie(n,e,t){var r=Ua(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(MH(n))PH(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,vs(a,o)){var l=e.interleaved;l===null?(i.next=i,OI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=cH(n,e,i,r),t!==null&&(i=Rr(),ms(t,n,r,i),IH(t,e,r))}}function MH(n){var e=n.alternate;return n===fn||e!==null&&e===fn}function PH(n,e){Vf=ey=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function IH(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,vI(n,t)}}var ty={readContext:Gi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},lie={readContext:Gi,useCallback:function(n,e){return As().memoizedState=[n,e===void 0?null:e],n},useContext:Gi,useEffect:qA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fv(4194308,4,_H.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fv(4194308,4,n,e)},useInsertionEffect:function(n,e){return fv(4,2,n,e)},useMemo:function(n,e){var t=As();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=As();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=oie.bind(null,fn,n),[r.memoizedState,n]},useRef:function(n){var e=As();return n={current:n},e.memoizedState=n},useState:zA,useDebugValue:BI,useDeferredValue:function(n){return As().memoizedState=n},useTransition:function(){var n=zA(!1),e=n[0];return n=sie.bind(null,n[1]),As().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=fn,i=As();if(an){if(t===void 0)throw Error(me(407));t=t()}else{if(t=e(),Qn===null)throw Error(me(349));hc&30||pH(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,qA(gH.bind(null,r,s,n),[n]),r.flags|=2048,Rp(9,mH.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=As(),e=Qn.identifierPrefix;if(an){var t=Io,r=Po;t=(r&~(1<<32-ps(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ip++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=iie++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},cie={readContext:Gi,useCallback:kH,useContext:Gi,useEffect:jI,useImperativeHandle:SH,useInsertionEffect:xH,useLayoutEffect:wH,useMemo:CH,useReducer:ww,useRef:bH,useState:function(){return ww(Op)},useDebugValue:BI,useDeferredValue:function(n){var e=Vi();return EH(e,$n.memoizedState,n)},useTransition:function(){var n=ww(Op)[0],e=Vi().memoizedState;return[n,e]},useMutableSource:dH,useSyncExternalStore:fH,useId:TH,unstable_isNewReconciler:!1},uie={readContext:Gi,useCallback:kH,useContext:Gi,useEffect:jI,useImperativeHandle:SH,useInsertionEffect:xH,useLayoutEffect:wH,useMemo:CH,useReducer:_w,useRef:bH,useState:function(){return _w(Op)},useDebugValue:BI,useDeferredValue:function(n){var e=Vi();return $n===null?e.memoizedState=n:EH(e,$n.memoizedState,n)},useTransition:function(){var n=_w(Op)[0],e=Vi().memoizedState;return[n,e]},useMutableSource:dH,useSyncExternalStore:fH,useId:TH,unstable_isNewReconciler:!1};function is(n,e){if(n&&n.defaultProps){e=pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function sM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var db={isMounted:function(n){return(n=n._reactInternals)?Oc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Rr(),i=Ua(n),s=Do(r,i);s.payload=e,t!=null&&(s.callback=t),e=za(n,s,i),e!==null&&(ms(e,n,i,r),hv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Rr(),i=Ua(n),s=Do(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=za(n,s,i),e!==null&&(ms(e,n,i,r),hv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Rr(),r=Ua(n),i=Do(t,r);i.tag=2,e!=null&&(i.callback=e),e=za(n,i,r),e!==null&&(ms(e,n,r,t),hv(e,n,r))}};function UA(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kp(t,r)||!kp(i,s):!0}function OH(n,e,t){var r=!1,i=Qa,s=e.contextType;return typeof s=="object"&&s!==null?s=Gi(s):(i=Kr(e)?cc:vr.current,r=e.contextTypes,s=(r=r!=null)?Ch(n,i):Qa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=db,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function WA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&db.enqueueReplaceState(e,e.state,null)}function oM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},RI(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gi(s):(s=Kr(e)?cc:vr.current,i.context=Ch(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&db.enqueueReplaceState(i,i.state,null),Jv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ph(n,e){try{var t="",r=e;do t+=$ne(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Sw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function aM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hie=typeof WeakMap=="function"?WeakMap:Map;function RH(n,e,t){t=Do(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ry||(ry=!0,vM=r),aM(n,e)},t}function DH(n,e,t){t=Do(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){aM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){aM(n,e),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function HA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hie;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Cie.bind(null,n,e,t),e.then(n,n))}function YA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function GA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Do(-1,1),e.tag=2,za(t,e,1))),t.lanes|=1),n)}var die=Yo.ReactCurrentOwner,Hr=!1;function Er(n,e,t,r){e.child=n===null?lH(e,null,t,r):Th(e,n.child,t,r)}function VA(n,e,t,r,i){t=t.render;var s=e.ref;return zu(e,i),r=FI(n,e,t,r,s,i),t=$I(),n!==null&&!Hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Uo(n,e,i)):(an&&t&&CI(e),e.flags|=1,Er(n,e,r,i),e.child)}function KA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!VI(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,AH(n,e,s,r,i)):(n=vv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:kp,t(o,r)&&n.ref===e.ref)return Uo(n,e,i)}return e.flags|=1,n=Wa(s,r),n.ref=e.ref,n.return=e,e.child=n}function AH(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(kp(s,r)&&n.ref===e.ref)if(Hr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Hr=!0);else return e.lanes=n.lanes,Uo(n,e,i)}return lM(n,e,t,r,i)}function NH(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Eu,li),li|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Kt(Eu,li),li|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Kt(Eu,li),li|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Kt(Eu,li),li|=r;return Er(n,e,i,t),e.child}function LH(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function lM(n,e,t,r,i){var s=Kr(t)?cc:vr.current;return s=Ch(e,s),zu(e,i),t=FI(n,e,t,r,s,i),r=$I(),n!==null&&!Hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Uo(n,e,i)):(an&&r&&CI(e),e.flags|=1,Er(n,e,t,i),e.child)}function XA(n,e,t,r,i){if(Kr(t)){var s=!0;Gv(e)}else s=!1;if(zu(e,i),e.stateNode===null)pv(n,e),OH(e,t,r),oM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Gi(c):(c=Kr(t)?cc:vr.current,c=Ch(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&WA(e,o,r,c),va=!1;var d=e.memoizedState;o.state=d,Jv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Vr.current||va?(typeof u=="function"&&(sM(e,t,u,r),l=e.memoizedState),(a=va||UA(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uH(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:is(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Gi(l):(l=Kr(t)?cc:vr.current,l=Ch(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&WA(e,o,r,l),va=!1,d=e.memoizedState,o.state=d,Jv(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||Vr.current||va?(typeof f=="function"&&(sM(e,t,f,r),m=e.memoizedState),(c=va||UA(e,t,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return cM(n,e,t,r,s,i)}function cM(n,e,t,r,i,s){LH(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NA(e,t,!1),Uo(n,e,s);r=e.stateNode,die.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Th(e,n.child,null,s),e.child=Th(e,null,a,s)):Er(n,e,a,s),e.memoizedState=r.state,i&&NA(e,t,!0),e.child}function FH(n){var e=n.stateNode;e.pendingContext?AA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&AA(n,e.context,!1),DI(n,e.containerInfo)}function QA(n,e,t,r,i){return Eh(),TI(i),e.flags|=256,Er(n,e,t,r),e.child}var uM={dehydrated:null,treeContext:null,retryLane:0};function hM(n){return{baseLanes:n,cachePool:null,transitions:null}}function $H(n,e,t){var r=e.pendingProps,i=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Kt(un,i&1),n===null)return rM(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mb(o,r,0,null),n=Ql(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=hM(t),e.memoizedState=uM,n):zI(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fie(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wa(a,s):(s=Ql(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?hM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=uM,r}return s=n.child,n=s.sibling,r=Wa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function zI(n,e){return e=mb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jg(n,e,t,r){return r!==null&&TI(r),Th(e,n.child,null,t),n=zI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function fie(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Sw(Error(me(422))),Jg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mb({mode:"visible",children:r.children},i,0,null),s=Ql(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Th(e,n.child,null,o),e.child.memoizedState=hM(o),e.memoizedState=uM,s);if(!(e.mode&1))return Jg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(me(419)),r=Sw(s,r,void 0),Jg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Hr||a){if(r=Qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qo(n,i),ms(r,n,i,-1))}return GI(),r=Sw(Error(me(421))),Jg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Eie.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,fi=Ba(i.nextSibling),pi=e,an=!0,hs=null,n!==null&&(Bi[zi++]=Po,Bi[zi++]=Io,Bi[zi++]=uc,Po=n.id,Io=n.overflow,uc=e),e=zI(e,r.children),e.flags|=4096,e)}function JA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),iM(n.return,e,t)}function kw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function jH(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Er(n,e,r.children,t),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&JA(n,t,e);else if(n.tag===19)JA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Kt(un,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Zv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),kw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Zv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}kw(e,!0,t,null,s);break;case"together":kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Uo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),dc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(me(153));if(e.child!==null){for(n=e.child,t=Wa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function pie(n,e,t){switch(e.tag){case 3:FH(e),Eh();break;case 5:hH(e);break;case 1:Kr(e.type)&&Gv(e);break;case 4:DI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Kt(Xv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Kt(un,un.current&1),e.flags|=128,null):t&e.child.childLanes?$H(n,e,t):(Kt(un,un.current&1),n=Uo(n,e,t),n!==null?n.sibling:null);Kt(un,un.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return jH(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,NH(n,e,t)}return Uo(n,e,t)}var BH,dM,zH,qH;BH=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};dM=function(){};zH=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Dl(Vs.current);var s=null;switch(t){case"input":i=AT(n,i),r=AT(n,r),s=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),s=[];break;case"textarea":i=FT(n,i),r=FT(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hv)}jT(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qH=function(n,e,t,r){t!==r&&(e.flags|=4)};function Vd(n,e){if(!an)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function fr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function mie(n,e,t){var r=e.pendingProps;switch(EI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Kr(e.type)&&Yv(),fr(e),null;case 3:return r=e.stateNode,Mh(),en(Vr),en(vr),NI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Xg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(xM(hs),hs=null))),dM(n,e),fr(e),null;case 5:AI(e);var i=Dl(Pp.current);if(t=e.type,n!==null&&e.stateNode!=null)zH(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(me(166));return fr(e),null}if(n=Dl(Vs.current),Xg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Us]=e,r[Tp]=s,n=(e.mode&1)!==0,t){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<Mf.length;i++)Zt(Mf[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":aA(r,s),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r);break;case"textarea":cA(r,s),Zt("invalid",r)}jT(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,n),i=["children",""+a]):vp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zt("scroll",r)}switch(t){case"input":zg(r),lA(r,s,!0);break;case"textarea":zg(r),uA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=gW(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Us]=e,n[Tp]=r,BH(n,e,!1,!1),e.stateNode=n;e:{switch(o=BT(t,r),t){case"dialog":Zt("cancel",n),Zt("close",n),i=r;break;case"iframe":case"object":case"embed":Zt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Mf.length;i++)Zt(Mf[i],n);i=r;break;case"source":Zt("error",n),i=r;break;case"img":case"image":case"link":Zt("error",n),Zt("load",n),i=r;break;case"details":Zt("toggle",n),i=r;break;case"input":aA(n,r),i=AT(n,r),Zt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),Zt("invalid",n);break;case"textarea":cA(n,r),i=FT(n,r),Zt("invalid",n);break;default:i=r}jT(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bW(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vW(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&yp(n,l):typeof l=="number"&&yp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",n):l!=null&&hI(n,s,l,o))}switch(t){case"input":zg(n),lA(n,r,!1);break;case"textarea":zg(n),uA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Xa(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Fu(n,!!r.multiple,s,!1):r.defaultValue!=null&&Fu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Hv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(n&&e.stateNode!=null)qH(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(me(166));if(t=Dl(Pp.current),Dl(Vs.current),Xg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Us]=e,(s=r.nodeValue!==t)&&(n=pi,n!==null))switch(n.tag){case 3:Kg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Us]=e,e.stateNode=r}return fr(e),null;case 13:if(en(un),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(an&&fi!==null&&e.mode&1&&!(e.flags&128))oH(),Eh(),e.flags|=98560,s=!1;else if(s=Xg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Us]=e}else Eh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else hs!==null&&(xM(hs),hs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||un.current&1?jn===0&&(jn=3):GI())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return Mh(),dM(n,e),n===null&&Cp(e.stateNode.containerInfo),fr(e),null;case 10:return II(e.type._context),fr(e),null;case 17:return Kr(e.type)&&Yv(),fr(e),null;case 19:if(en(un),s=e.memoizedState,s===null)return fr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vd(s,!1);else{if(jn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zv(n),o!==null){for(e.flags|=128,Vd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Kt(un,un.current&1|2),e.child}n=n.sibling}s.tail!==null&&Tn()>Ih&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Zv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Vd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return fr(e),null}else 2*Tn()-s.renderingStartTime>Ih&&t!==1073741824&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tn(),e.sibling=null,t=un.current,Kt(un,r?t&1|2:t&1),e):(fr(e),null);case 22:case 23:return YI(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?li&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function gie(n,e){switch(EI(e),e.tag){case 1:return Kr(e.type)&&Yv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mh(),en(Vr),en(vr),NI(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return AI(e),null;case 13:if(en(un),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Eh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return en(un),null;case 4:return Mh(),null;case 10:return II(e.type._context),null;case 22:case 23:return YI(),null;case 24:return null;default:return null}}var Zg=!1,gr=!1,vie=typeof WeakSet=="function"?WeakSet:Set,je=null;function Cu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){yn(n,e,r)}else t.current=null}function fM(n,e,t){try{t()}catch(r){yn(n,e,r)}}var ZA=!1;function yie(n,e){if(XT=qv,n=GW(),kI(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(QT={focusedElem:n,selectionRange:t},qv=!1,je=e;je!==null;)if(e=je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,je=n;else for(;je!==null;){e=je;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:is(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){yn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}return m=ZA,ZA=!1,m}function Kf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&fM(e,t,s)}i=i.next}while(i!==r)}}function fb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function pM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function UH(n){var e=n.alternate;e!==null&&(n.alternate=null,UH(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Us],delete e[Tp],delete e[eM],delete e[eie],delete e[tie])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function WH(n){return n.tag===5||n.tag===3||n.tag===4}function e3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||WH(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Hv));else if(r!==4&&(n=n.child,n!==null))for(mM(n,e,t),n=n.sibling;n!==null;)mM(n,e,t),n=n.sibling}function gM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(gM(n,e,t),n=n.sibling;n!==null;)gM(n,e,t),n=n.sibling}var nr=null,us=!1;function ta(n,e,t){for(t=t.child;t!==null;)HH(n,e,t),t=t.sibling}function HH(n,e,t){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(sb,t)}catch{}switch(t.tag){case 5:gr||Cu(t,e);case 6:var r=nr,i=us;nr=null,ta(n,e,t),nr=r,us=i,nr!==null&&(us?(n=nr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):nr.removeChild(t.stateNode));break;case 18:nr!==null&&(us?(n=nr,t=t.stateNode,n.nodeType===8?vw(n.parentNode,t):n.nodeType===1&&vw(n,t),_p(n)):vw(nr,t.stateNode));break;case 4:r=nr,i=us,nr=t.stateNode.containerInfo,us=!0,ta(n,e,t),nr=r,us=i;break;case 0:case 11:case 14:case 15:if(!gr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fM(t,e,o),i=i.next}while(i!==r)}ta(n,e,t);break;case 1:if(!gr&&(Cu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){yn(t,e,a)}ta(n,e,t);break;case 21:ta(n,e,t);break;case 22:t.mode&1?(gr=(r=gr)||t.memoizedState!==null,ta(n,e,t),gr=r):ta(n,e,t);break;default:ta(n,e,t)}}function t3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vie),e.forEach(function(r){var i=Tie.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ts(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,us=!1;break e;case 3:nr=a.stateNode.containerInfo,us=!0;break e;case 4:nr=a.stateNode.containerInfo,us=!0;break e}a=a.return}if(nr===null)throw Error(me(160));HH(s,o,i),nr=null,us=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YH(e,n),e=e.sibling}function YH(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ts(e,n),Ts(n),r&4){try{Kf(3,n,n.return),fb(3,n)}catch(g){yn(n,n.return,g)}try{Kf(5,n,n.return)}catch(g){yn(n,n.return,g)}}break;case 1:ts(e,n),Ts(n),r&512&&t!==null&&Cu(t,t.return);break;case 5:if(ts(e,n),Ts(n),r&512&&t!==null&&Cu(t,t.return),n.flags&32){var i=n.stateNode;try{yp(i,"")}catch(g){yn(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pW(i,s),BT(a,o);var c=BT(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?bW(i,h):u==="dangerouslySetInnerHTML"?vW(i,h):u==="children"?yp(i,h):hI(i,u,h,c)}switch(a){case"input":NT(i,s);break;case"textarea":mW(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Fu(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Fu(i,!!s.multiple,s.defaultValue,!0):Fu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tp]=s}catch(g){yn(n,n.return,g)}}break;case 6:if(ts(e,n),Ts(n),r&4){if(n.stateNode===null)throw Error(me(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){yn(n,n.return,g)}}break;case 3:if(ts(e,n),Ts(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{_p(e.containerInfo)}catch(g){yn(n,n.return,g)}break;case 4:ts(e,n),Ts(n);break;case 13:ts(e,n),Ts(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(WI=Tn())),r&4&&t3(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(gr=(c=gr)||u,ts(e,n),gr=c):ts(e,n),Ts(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(je=n,u=n.child;u!==null;){for(h=je=u;je!==null;){switch(d=je,f=d.child,d.tag){case 0:case 11:case 14:case 15:Kf(4,d,d.return);break;case 1:Cu(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){yn(r,t,g)}}break;case 5:Cu(d,d.return);break;case 22:if(d.memoizedState!==null){r3(h);continue}}f!==null?(f.return=d,je=f):r3(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yW("display",o))}catch(g){yn(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){yn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ts(e,n),Ts(n),r&4&&t3(n);break;case 21:break;default:ts(e,n),Ts(n)}}function Ts(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(WH(t)){var r=t;break e}t=t.return}throw Error(me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yp(i,""),r.flags&=-33);var s=e3(n);gM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e3(n);mM(n,a,o);break;default:throw Error(me(161))}}catch(l){yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function bie(n,e,t){je=n,GH(n)}function GH(n,e,t){for(var r=(n.mode&1)!==0;je!==null;){var i=je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gr;a=Zg;var c=gr;if(Zg=o,(gr=l)&&!c)for(je=i;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?i3(i):l!==null?(l.return=o,je=l):i3(i);for(;s!==null;)je=s,GH(s),s=s.sibling;je=i,Zg=a,gr=c}n3(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,je=s):n3(n)}}function n3(n){for(;je!==null;){var e=je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||fb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:is(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&BA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}BA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_p(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}gr||e.flags&512&&pM(e)}catch(d){yn(e,e.return,d)}}if(e===n){je=null;break}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function r3(n){for(;je!==null;){var e=je;if(e===n){je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,je=t;break}je=e.return}}function i3(n){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{fb(4,e)}catch(l){yn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var s=e.return;try{pM(e)}catch(l){yn(e,s,l)}break;case 5:var o=e.return;try{pM(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===n){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var xie=Math.ceil,ny=Yo.ReactCurrentDispatcher,qI=Yo.ReactCurrentOwner,Hi=Yo.ReactCurrentBatchConfig,Tt=0,Qn=null,Nn=null,lr=0,li=0,Eu=rl(0),jn=0,Dp=null,dc=0,pb=0,UI=0,Xf=null,qr=null,WI=0,Ih=1/0,xo=null,ry=!1,vM=null,qa=null,e0=!1,Ra=null,iy=0,Qf=0,yM=null,mv=-1,gv=0;function Rr(){return Tt&6?Tn():mv!==-1?mv:mv=Tn()}function Ua(n){return n.mode&1?Tt&2&&lr!==0?lr&-lr:rie.transition!==null?(gv===0&&(gv=OW()),gv):(n=Ft,n!==0||(n=window.event,n=n===void 0?16:$W(n.type)),n):1}function ms(n,e,t,r){if(50<Qf)throw Qf=0,yM=null,Error(me(185));Lm(n,t,r),(!(Tt&2)||n!==Qn)&&(n===Qn&&(!(Tt&2)&&(pb|=t),jn===4&&xa(n,lr)),Xr(n,r),t===1&&Tt===0&&!(e.mode&1)&&(Ih=Tn()+500,ub&&il()))}function Xr(n,e){var t=n.callbackNode;rre(n,e);var r=zv(n,n===Qn?lr:0);if(r===0)t!==null&&fA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&fA(t),e===1)n.tag===0?nie(s3.bind(null,n)):rH(s3.bind(null,n)),Jre(function(){!(Tt&6)&&il()}),t=null;else{switch(RW(r)){case 1:t=gI;break;case 4:t=PW;break;case 16:t=Bv;break;case 536870912:t=IW;break;default:t=Bv}t=tY(t,VH.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VH(n,e){if(mv=-1,gv=0,Tt&6)throw Error(me(327));var t=n.callbackNode;if(qu()&&n.callbackNode!==t)return null;var r=zv(n,n===Qn?lr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=sy(n,r);else{e=r;var i=Tt;Tt|=2;var s=XH();(Qn!==n||lr!==e)&&(xo=null,Ih=Tn()+500,Xl(n,e));do try{Sie();break}catch(a){KH(n,a)}while(!0);PI(),ny.current=s,Tt=i,Nn!==null?e=0:(Qn=null,lr=0,e=jn)}if(e!==0){if(e===2&&(i=HT(n),i!==0&&(r=i,e=bM(n,i))),e===1)throw t=Dp,Xl(n,0),xa(n,r),Xr(n,Tn()),t;if(e===6)xa(n,r);else{if(i=n.current.alternate,!(r&30)&&!wie(i)&&(e=sy(n,r),e===2&&(s=HT(n),s!==0&&(r=s,e=bM(n,s))),e===1))throw t=Dp,Xl(n,0),xa(n,r),Xr(n,Tn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(me(345));case 2:_l(n,qr,xo);break;case 3:if(xa(n,r),(r&130023424)===r&&(e=WI+500-Tn(),10<e)){if(zv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Rr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ZT(_l.bind(null,n,qr,xo),e);break}_l(n,qr,xo);break;case 4:if(xa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ps(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xie(r/1960))-r,10<r){n.timeoutHandle=ZT(_l.bind(null,n,qr,xo),r);break}_l(n,qr,xo);break;case 5:_l(n,qr,xo);break;default:throw Error(me(329))}}}return Xr(n,Tn()),n.callbackNode===t?VH.bind(null,n):null}function bM(n,e){var t=Xf;return n.current.memoizedState.isDehydrated&&(Xl(n,e).flags|=256),n=sy(n,e),n!==2&&(e=qr,qr=t,e!==null&&xM(e)),n}function xM(n){qr===null?qr=n:qr.push.apply(qr,n)}function wie(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!vs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(n,e){for(e&=~UI,e&=~pb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ps(e),r=1<<t;n[t]=-1,e&=~r}}function s3(n){if(Tt&6)throw Error(me(327));qu();var e=zv(n,0);if(!(e&1))return Xr(n,Tn()),null;var t=sy(n,e);if(n.tag!==0&&t===2){var r=HT(n);r!==0&&(e=r,t=bM(n,r))}if(t===1)throw t=Dp,Xl(n,0),xa(n,e),Xr(n,Tn()),t;if(t===6)throw Error(me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_l(n,qr,xo),Xr(n,Tn()),null}function HI(n,e){var t=Tt;Tt|=1;try{return n(e)}finally{Tt=t,Tt===0&&(Ih=Tn()+500,ub&&il())}}function fc(n){Ra!==null&&Ra.tag===0&&!(Tt&6)&&qu();var e=Tt;Tt|=1;var t=Hi.transition,r=Ft;try{if(Hi.transition=null,Ft=1,n)return n()}finally{Ft=r,Hi.transition=t,Tt=e,!(Tt&6)&&il()}}function YI(){li=Eu.current,en(Eu)}function Xl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Qre(t)),Nn!==null)for(t=Nn.return;t!==null;){var r=t;switch(EI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yv();break;case 3:Mh(),en(Vr),en(vr),NI();break;case 5:AI(r);break;case 4:Mh();break;case 13:en(un);break;case 19:en(un);break;case 10:II(r.type._context);break;case 22:case 23:YI()}t=t.return}if(Qn=n,Nn=n=Wa(n.current,null),lr=li=e,jn=0,Dp=null,UI=pb=dc=0,qr=Xf=null,Rl!==null){for(e=0;e<Rl.length;e++)if(t=Rl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Rl=null}return n}function KH(n,e){do{var t=Nn;try{if(PI(),dv.current=ty,ey){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ey=!1}if(hc=0,Wn=$n=fn=null,Vf=!1,Ip=0,qI.current=null,t===null||t.return===null){jn=1,Dp=e,Nn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=YA(o);if(f!==null){f.flags&=-257,GA(f,o,a,s,e),f.mode&1&&HA(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){HA(s,c,e),GI();break e}l=Error(me(426))}}else if(an&&a.mode&1){var v=YA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),GA(v,o,a,s,e),TI(Ph(l,a));break e}}s=l=Ph(l,a),jn!==4&&(jn=2),Xf===null?Xf=[s]:Xf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=RH(s,l,e);jA(s,y);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qa===null||!qa.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=DH(s,a,e);jA(s,S);break e}}s=s.return}while(s!==null)}JH(t)}catch(_){e=_,Nn===t&&t!==null&&(Nn=t=t.return);continue}break}while(!0)}function XH(){var n=ny.current;return ny.current=ty,n===null?ty:n}function GI(){(jn===0||jn===3||jn===2)&&(jn=4),Qn===null||!(dc&268435455)&&!(pb&268435455)||xa(Qn,lr)}function sy(n,e){var t=Tt;Tt|=2;var r=XH();(Qn!==n||lr!==e)&&(xo=null,Xl(n,e));do try{_ie();break}catch(i){KH(n,i)}while(!0);if(PI(),Tt=t,ny.current=r,Nn!==null)throw Error(me(261));return Qn=null,lr=0,jn}function _ie(){for(;Nn!==null;)QH(Nn)}function Sie(){for(;Nn!==null&&!Vne();)QH(Nn)}function QH(n){var e=eY(n.alternate,n,li);n.memoizedProps=n.pendingProps,e===null?JH(n):Nn=e,qI.current=null}function JH(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=gie(t,e),t!==null){t.flags&=32767,Nn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jn=6,Nn=null;return}}else if(t=mie(t,e,li),t!==null){Nn=t;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=n}while(e!==null);jn===0&&(jn=5)}function _l(n,e,t){var r=Ft,i=Hi.transition;try{Hi.transition=null,Ft=1,kie(n,e,t,r)}finally{Hi.transition=i,Ft=r}return null}function kie(n,e,t,r){do qu();while(Ra!==null);if(Tt&6)throw Error(me(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ire(n,s),n===Qn&&(Nn=Qn=null,lr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||e0||(e0=!0,tY(Bv,function(){return qu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Hi.transition,Hi.transition=null;var o=Ft;Ft=1;var a=Tt;Tt|=4,qI.current=null,yie(n,t),YH(t,n),Wre(QT),qv=!!XT,QT=XT=null,n.current=t,bie(t),Kne(),Tt=a,Ft=o,Hi.transition=s}else n.current=t;if(e0&&(e0=!1,Ra=n,iy=i),s=n.pendingLanes,s===0&&(qa=null),Jne(t.stateNode),Xr(n,Tn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ry)throw ry=!1,n=vM,vM=null,n;return iy&1&&n.tag!==0&&qu(),s=n.pendingLanes,s&1?n===yM?Qf++:(Qf=0,yM=n):Qf=0,il(),null}function qu(){if(Ra!==null){var n=RW(iy),e=Hi.transition,t=Ft;try{if(Hi.transition=null,Ft=16>n?16:n,Ra===null)var r=!1;else{if(n=Ra,Ra=null,iy=0,Tt&6)throw Error(me(331));var i=Tt;for(Tt|=4,je=n.current;je!==null;){var s=je,o=s.child;if(je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var u=je;switch(u.tag){case 0:case 11:case 15:Kf(8,u,s)}var h=u.child;if(h!==null)h.return=u,je=h;else for(;je!==null;){u=je;var d=u.sibling,f=u.return;if(UH(u),u===c){je=null;break}if(d!==null){d.return=f,je=d;break}je=f}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,je=y;break e}je=s.return}}var b=n.current;for(je=b;je!==null;){o=je;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,je=w;else e:for(o=b;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fb(9,a)}}catch(_){yn(a,a.return,_)}if(a===o){je=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,je=S;break e}je=a.return}}if(Tt=i,il(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(sb,n)}catch{}r=!0}return r}finally{Ft=t,Hi.transition=e}}return!1}function o3(n,e,t){e=Ph(t,e),e=RH(n,e,1),n=za(n,e,1),e=Rr(),n!==null&&(Lm(n,1,e),Xr(n,e))}function yn(n,e,t){if(n.tag===3)o3(n,n,t);else for(;e!==null;){if(e.tag===3){o3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){n=Ph(t,n),n=DH(e,n,1),e=za(e,n,1),n=Rr(),e!==null&&(Lm(e,1,n),Xr(e,n));break}}e=e.return}}function Cie(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Rr(),n.pingedLanes|=n.suspendedLanes&t,Qn===n&&(lr&t)===t&&(jn===4||jn===3&&(lr&130023424)===lr&&500>Tn()-WI?Xl(n,0):UI|=t),Xr(n,e)}function ZH(n,e){e===0&&(n.mode&1?(e=Wg,Wg<<=1,!(Wg&130023424)&&(Wg=4194304)):e=1);var t=Rr();n=qo(n,e),n!==null&&(Lm(n,e,t),Xr(n,t))}function Eie(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),ZH(n,t)}function Tie(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(e),ZH(n,t)}var eY;eY=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Vr.current)Hr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Hr=!1,pie(n,e,t);Hr=!!(n.flags&131072)}else Hr=!1,an&&e.flags&1048576&&iH(e,Kv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pv(n,e),n=e.pendingProps;var i=Ch(e,vr.current);zu(e,t),i=FI(null,e,r,n,i,t);var s=$I();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(s=!0,Gv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,RI(e),i.updater=db,e.stateNode=i,i._reactInternals=e,oM(e,r,n,t),e=cM(null,e,r,!0,s,t)):(e.tag=0,an&&s&&CI(e),Er(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(pv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pie(r),n=is(r,n),i){case 0:e=lM(null,e,r,n,t);break e;case 1:e=XA(null,e,r,n,t);break e;case 11:e=VA(null,e,r,n,t);break e;case 14:e=KA(null,e,r,is(r.type,n),t);break e}throw Error(me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),lM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),XA(n,e,r,i,t);case 3:e:{if(FH(e),n===null)throw Error(me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uH(n,e),Jv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ph(Error(me(423)),e),e=QA(n,e,r,t,i);break e}else if(r!==i){i=Ph(Error(me(424)),e),e=QA(n,e,r,t,i);break e}else for(fi=Ba(e.stateNode.containerInfo.firstChild),pi=e,an=!0,hs=null,t=lH(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Eh(),r===i){e=Uo(n,e,t);break e}Er(n,e,r,t)}e=e.child}return e;case 5:return hH(e),n===null&&rM(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,JT(r,i)?o=null:s!==null&&JT(r,s)&&(e.flags|=32),LH(n,e),Er(n,e,o,t),e.child;case 6:return n===null&&rM(e),null;case 13:return $H(n,e,t);case 4:return DI(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Th(e,null,r,t):Er(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),VA(n,e,r,i,t);case 7:return Er(n,e,e.pendingProps,t),e.child;case 8:return Er(n,e,e.pendingProps.children,t),e.child;case 12:return Er(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Kt(Xv,r._currentValue),r._currentValue=o,s!==null)if(vs(s.value,o)){if(s.children===i.children&&!Vr.current){e=Uo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Do(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),iM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),iM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Er(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zu(e,t),i=Gi(i),r=r(i),e.flags|=1,Er(n,e,r,t),e.child;case 14:return r=e.type,i=is(r,e.pendingProps),i=is(r.type,i),KA(n,e,r,i,t);case 15:return AH(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),pv(n,e),e.tag=1,Kr(r)?(n=!0,Gv(e)):n=!1,zu(e,t),OH(e,r,i),oM(e,r,i,t),cM(null,e,r,!0,n,t);case 19:return jH(n,e,t);case 22:return NH(n,e,t)}throw Error(me(156,e.tag))};function tY(n,e){return MW(n,e)}function Mie(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(n,e,t,r){return new Mie(n,e,t,r)}function VI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pie(n){if(typeof n=="function")return VI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fI)return 11;if(n===pI)return 14}return 2}function Wa(n,e){var t=n.alternate;return t===null?(t=qi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")VI(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case gu:return Ql(t.children,i,s,e);case dI:o=8,i|=8;break;case IT:return n=qi(12,t,e,i|2),n.elementType=IT,n.lanes=s,n;case OT:return n=qi(13,t,e,i),n.elementType=OT,n.lanes=s,n;case RT:return n=qi(19,t,e,i),n.elementType=RT,n.lanes=s,n;case hW:return mb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case cW:o=10;break e;case uW:o=9;break e;case fI:o=11;break e;case pI:o=14;break e;case ga:o=16,r=null;break e}throw Error(me(130,n==null?n:typeof n,""))}return e=qi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Ql(n,e,t,r){return n=qi(7,n,r,e),n.lanes=t,n}function mb(n,e,t,r){return n=qi(22,n,r,e),n.elementType=hW,n.lanes=t,n.stateNode={isHidden:!1},n}function Cw(n,e,t){return n=qi(6,n,null,e),n.lanes=t,n}function Ew(n,e,t){return e=qi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Iie(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ow(0),this.expirationTimes=ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ow(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KI(n,e,t,r,i,s,o,a,l){return n=new Iie(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},RI(s),n}function Oie(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function nY(n){if(!n)return Qa;n=n._reactInternals;e:{if(Oc(n)!==n||n.tag!==1)throw Error(me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(n.tag===1){var t=n.type;if(Kr(t))return nH(n,t,e)}return e}function rY(n,e,t,r,i,s,o,a,l){return n=KI(t,r,!0,n,i,s,o,a,l),n.context=nY(null),t=n.current,r=Rr(),i=Ua(t),s=Do(r,i),s.callback=e??null,za(t,s,i),n.current.lanes=i,Lm(n,i,r),Xr(n,r),n}function gb(n,e,t,r){var i=e.current,s=Rr(),o=Ua(i);return t=nY(t),e.context===null?e.context=t:e.pendingContext=t,e=Do(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=za(i,e,o),n!==null&&(ms(n,i,o,s),hv(n,i,o)),o}function oy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function a3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function XI(n,e){a3(n,e),(n=n.alternate)&&a3(n,e)}function Rie(){return null}var iY=typeof reportError=="function"?reportError:function(n){console.error(n)};function QI(n){this._internalRoot=n}vb.prototype.render=QI.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(me(409));gb(n,e,null,null)};vb.prototype.unmount=QI.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;fc(function(){gb(null,n,null,null)}),e[zo]=null}};function vb(n){this._internalRoot=n}vb.prototype.unstable_scheduleHydration=function(n){if(n){var e=NW();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ba.length&&e!==0&&e<ba[t].priority;t++);ba.splice(t,0,n),t===0&&FW(n)}};function JI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function l3(){}function Die(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=oy(o);s.call(c)}}var o=rY(e,r,n,0,null,!1,!1,"",l3);return n._reactRootContainer=o,n[zo]=o.current,Cp(n.nodeType===8?n.parentNode:n),fc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=oy(l);a.call(c)}}var l=KI(n,0,!1,null,null,!1,!1,"",l3);return n._reactRootContainer=l,n[zo]=l.current,Cp(n.nodeType===8?n.parentNode:n),fc(function(){gb(e,l,t,r)}),l}function bb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=oy(o);a.call(l)}}gb(e,o,n,i)}else o=Die(t,e,n,i,r);return oy(o)}DW=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Tf(e.pendingLanes);t!==0&&(vI(e,t|1),Xr(e,Tn()),!(Tt&6)&&(Ih=Tn()+500,il()))}break;case 13:fc(function(){var r=qo(n,1);if(r!==null){var i=Rr();ms(r,n,1,i)}}),XI(n,1)}};yI=function(n){if(n.tag===13){var e=qo(n,134217728);if(e!==null){var t=Rr();ms(e,n,134217728,t)}XI(n,134217728)}};AW=function(n){if(n.tag===13){var e=Ua(n),t=qo(n,e);if(t!==null){var r=Rr();ms(t,n,e,r)}XI(n,e)}};NW=function(){return Ft};LW=function(n,e){var t=Ft;try{return Ft=n,e()}finally{Ft=t}};qT=function(n,e,t){switch(e){case"input":if(NT(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=cb(r);if(!i)throw Error(me(90));fW(r),NT(r,i)}}}break;case"textarea":mW(n,t);break;case"select":e=t.value,e!=null&&Fu(n,!!t.multiple,e,!1)}};_W=HI;SW=fc;var Aie={usingClientEntryPoint:!1,Events:[$m,xu,cb,xW,wW,HI]},Kd={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nie={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=EW(n),n===null?null:n.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||Rie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{sb=t0.inject(Nie),Gs=t0}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aie;_i.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JI(e))throw Error(me(200));return Oie(n,e,null,t)};_i.createRoot=function(n,e){if(!JI(n))throw Error(me(299));var t=!1,r="",i=iY;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KI(n,1,!1,null,null,t,!1,r,i),n[zo]=e.current,Cp(n.nodeType===8?n.parentNode:n),new QI(e)};_i.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(me(188)):(n=Object.keys(n).join(","),Error(me(268,n)));return n=EW(e),n=n===null?null:n.stateNode,n};_i.flushSync=function(n){return fc(n)};_i.hydrate=function(n,e,t){if(!yb(e))throw Error(me(200));return bb(null,n,e,!0,t)};_i.hydrateRoot=function(n,e,t){if(!JI(n))throw Error(me(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=iY;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=rY(e,null,n,1,t??null,i,!1,s,o),n[zo]=e.current,Cp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new vb(e)};_i.render=function(n,e,t){if(!yb(e))throw Error(me(200));return bb(null,n,e,!1,t)};_i.unmountComponentAtNode=function(n){if(!yb(n))throw Error(me(40));return n._reactRootContainer?(fc(function(){bb(null,null,n,!1,function(){n._reactRootContainer=null,n[zo]=null})}),!0):!1};_i.unstable_batchedUpdates=HI;_i.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!yb(t))throw Error(me(200));if(n==null||n._reactInternals===void 0)throw Error(me(38));return bb(n,e,t,!1,r)};_i.version="18.3.1-next-f1338f8080-20240426";function sY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sY)}catch(n){console.error(n)}}sY(),sW.exports=_i;var Rc=sW.exports;const Lie=iI(Rc);var c3=Rc;MT.createRoot=c3.createRoot,MT.hydrateRoot=c3.hydrateRoot;var xb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fie={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},_a,rI,$U,$ie=($U=class{constructor(){Ie(this,_a,Fie);Ie(this,rI,!1)}setTimeoutProvider(n){fe(this,_a,n)}setTimeout(n,e){return Z(this,_a).setTimeout(n,e)}clearTimeout(n){Z(this,_a).clearTimeout(n)}setInterval(n,e){return Z(this,_a).setInterval(n,e)}clearInterval(n){Z(this,_a).clearInterval(n)}},_a=new WeakMap,rI=new WeakMap,$U),wM=new $ie;function jie(n){setTimeout(n,0)}var wb=typeof window>"u"||"Deno"in globalThis;function ss(){}function Bie(n,e){return typeof n=="function"?n(e):n}function zie(n){return typeof n=="number"&&n>=0&&n!==1/0}function qie(n,e){return Math.max(n+(e||0)-Date.now(),0)}function _M(n,e){return typeof n=="function"?n(e):n}function Uie(n,e){return typeof n=="function"?n(e):n}function u3(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==ZI(o,e.options))return!1}else if(!Np(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function h3(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ap(e.options.mutationKey)!==Ap(s))return!1}else if(!Np(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ZI(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ap)(n)}function Ap(n){return JSON.stringify(n,(e,t)=>SM(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Np(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Np(n[t],e[t])):!1}var Wie=Object.prototype.hasOwnProperty;function oY(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=d3(n)&&d3(e);if(!r&&!(SM(n)&&SM(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=r?u:o[u],d=n[h],f=e[h];if(d===f){l[h]=d,(r?u<s:Wie.call(n,h))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){l[h]=f;continue}const m=oY(d,f,t+1);l[h]=m,m===d&&c++}return s===a&&c===s?n:l}function d3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function SM(n){if(!f3(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!f3(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function f3(n){return Object.prototype.toString.call(n)==="[object Object]"}function Hie(n){return new Promise(e=>{wM.setTimeout(e,n)})}function Yie(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?oY(n,e):e}function Gie(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Vie(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var eO=Symbol();function aY(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===eO?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Kie(n,e,t){let r=!1,i;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?t():i.addEventListener("abort",t,{once:!0})),i)}),n}var zl,Sa,Xu,jU,Xie=(jU=class extends xb{constructor(){super();Ie(this,zl);Ie(this,Sa);Ie(this,Xu);fe(this,Xu,e=>{if(!wb&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Z(this,Sa)||this.setEventListener(Z(this,Xu))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Sa))==null||e.call(this),fe(this,Sa,void 0))}setEventListener(e){var t;fe(this,Xu,e),(t=Z(this,Sa))==null||t.call(this),fe(this,Sa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,zl)!==e&&(fe(this,zl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Z(this,zl)=="boolean"?Z(this,zl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zl=new WeakMap,Sa=new WeakMap,Xu=new WeakMap,jU),lY=new Xie;function Qie(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var Jie=jie;function Zie(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Jie;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Mr=Zie(),Qu,ka,Ju,BU,ese=(BU=class extends xb{constructor(){super();Ie(this,Qu,!0);Ie(this,ka);Ie(this,Ju);fe(this,Ju,e=>{if(!wb&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,ka)||this.setEventListener(Z(this,Ju))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,ka))==null||e.call(this),fe(this,ka,void 0))}setEventListener(e){var t;fe(this,Ju,e),(t=Z(this,ka))==null||t.call(this),fe(this,ka,e(this.setOnline.bind(this)))}setOnline(e){Z(this,Qu)!==e&&(fe(this,Qu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,Qu)}},Qu=new WeakMap,ka=new WeakMap,Ju=new WeakMap,BU),ay=new ese;function tse(n){return Math.min(1e3*2**n,3e4)}function cY(n){return(n??"online")==="online"?ay.isOnline():!0}var kM=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function uY(n){let e=!1,t=0,r;const i=Qie(),s=()=>i.status!=="pending",o=g=>{var v;if(!s()){const y=new kM(g);d(y),(v=n.onCancel)==null||v.call(n,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>lY.isFocused()&&(n.networkMode==="always"||ay.isOnline())&&n.canRun(),u=()=>cY(n.networkMode)&&n.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},d=g=>{s()||(r==null||r(),i.reject(g))},f=()=>new Promise(g=>{var v;r=y=>{(s()||c())&&g(y)},(v=n.onPause)==null||v.call(n)}).then(()=>{var g;r=void 0,s()||(g=n.onContinue)==null||g.call(n)}),m=()=>{if(s())return;let g;const v=t===0?n.initialPromise:void 0;try{g=v??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var k;if(s())return;const b=n.retry??(wb?0:3),w=n.retryDelay??tse,S=typeof w=="function"?w(t,y):w,_=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,y);if(e||!_){d(y);return}t++,(k=n.onFail)==null||k.call(n,t,y),Hie(S).then(()=>c()?void 0:f()).then(()=>{e?d(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():f().then(m),i)}}var ql,zU,hY=(zU=class{constructor(){Ie(this,ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zie(this.gcTime)&&fe(this,ql,wM.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(wb?1/0:5*60*1e3))}clearGcTimeout(){Z(this,ql)&&(wM.clearTimeout(Z(this,ql)),fe(this,ql,void 0))}},ql=new WeakMap,zU),Ul,Zu,Fi,Wl,Un,Mm,Hl,as,vo,qU,nse=(qU=class extends hY{constructor(e){super();Ie(this,as);Ie(this,Ul);Ie(this,Zu);Ie(this,Fi);Ie(this,Wl);Ie(this,Un);Ie(this,Mm);Ie(this,Hl);fe(this,Hl,!1),fe(this,Mm,e.defaultOptions),this.setOptions(e.options),this.observers=[],fe(this,Wl,e.client),fe(this,Fi,Z(this,Wl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,fe(this,Ul,m3(this.options)),this.state=e.state??Z(this,Ul),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Z(this,Un))==null?void 0:e.promise}setOptions(e){if(this.options={...Z(this,Mm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=m3(this.options);t.data!==void 0&&(this.setState(p3(t.data,t.dataUpdatedAt)),fe(this,Ul,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Fi).remove(this)}setData(e,t){const r=Yie(this.state.data,e,this.options);return Rt(this,as,vo).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Rt(this,as,vo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Z(this,Un))==null?void 0:r.promise;return(i=Z(this,Un))==null||i.cancel(e),t?t.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Ul))}isActive(){return this.observers.some(e=>Uie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_M(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qie(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Z(this,Un))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Z(this,Un))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Z(this,Fi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Z(this,Un)&&(Z(this,Hl)?Z(this,Un).cancel({revert:!0}):Z(this,Un).cancelRetry()),this.scheduleGc()),Z(this,Fi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,as,vo).call(this,{type:"invalidate"})}async fetch(e,t){var l,c,u,h,d,f,m,g,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((l=Z(this,Un))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Un))return Z(this,Un).continueRetry(),Z(this,Un).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(fe(this,Hl,!0),r.signal)})},s=()=>{const S=aY(this.options,t),k=(()=>{const E={client:Z(this,Wl),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return fe(this,Hl,!1),this.options.persister?this.options.persister(S,k,this):S(k)},a=(()=>{const S={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Z(this,Wl),state:this.state,fetchFn:s};return i(S),S})();(c=this.options.behavior)==null||c.onFetch(a,this),fe(this,Zu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Rt(this,as,vo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),fe(this,Un,uY({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof kM&&S.revert&&this.setState({...Z(this,Zu),fetchStatus:"idle"}),r.abort()},onFail:(S,_)=>{Rt(this,as,vo).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{Rt(this,as,vo).call(this,{type:"pause"})},onContinue:()=>{Rt(this,as,vo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await Z(this,Un).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(f=(d=Z(this,Fi).config).onSuccess)==null||f.call(d,S,this),(g=(m=Z(this,Fi).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof kM){if(S.silent)return Z(this,Un).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Rt(this,as,vo).call(this,{type:"error",error:S}),(y=(v=Z(this,Fi).config).onError)==null||y.call(v,S,this),(w=(b=Z(this,Fi).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ul=new WeakMap,Zu=new WeakMap,Fi=new WeakMap,Wl=new WeakMap,Un=new WeakMap,Mm=new WeakMap,Hl=new WeakMap,as=new WeakSet,vo=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rse(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...p3(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return fe(this,Zu,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,Fi).notify({query:this,type:"updated",action:e})})},qU);function rse(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cY(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function p3(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function m3(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function g3(n){return{onFetch:(e,t)=>{var u,h,d,f,m;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Kie(w,()=>e.signal,()=>g=!0)},y=aY(e.options,e.fetchOptions),b=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return v(D),D})(),C=await y(E),{maxPages:O}=e.options,R=_?Vie:Gie;return{pages:R(w.pages,C,O),pageParams:R(w.pageParams,S,O)}};if(i&&s.length){const w=i==="backward",S=w?ise:v3,_={pages:s,pageParams:o},k=S(r,_);a=await b(_,k,w)}else{const w=n??s.length;do{const S=l===0?o[0]??r.initialPageParam:v3(r,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function v3(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function ise(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Pm,$s,Cr,Yl,js,da,UU,sse=(UU=class extends hY{constructor(e){super();Ie(this,js);Ie(this,Pm);Ie(this,$s);Ie(this,Cr);Ie(this,Yl);fe(this,Pm,e.client),this.mutationId=e.mutationId,fe(this,Cr,e.mutationCache),fe(this,$s,[]),this.state=e.state||ose(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Z(this,$s).includes(e)||(Z(this,$s).push(e),this.clearGcTimeout(),Z(this,Cr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,$s,Z(this,$s).filter(t=>t!==e)),this.scheduleGc(),Z(this,Cr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Z(this,$s).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Cr).remove(this))}continue(){var e;return((e=Z(this,Yl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k,E,C,O;const t=()=>{Rt(this,js,da).call(this,{type:"continue"})},r={client:Z(this,Pm),meta:this.options.meta,mutationKey:this.options.mutationKey};fe(this,Yl,uY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{Rt(this,js,da).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{Rt(this,js,da).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Cr).canRun(this)}));const i=this.state.status==="pending",s=!Z(this,Yl).canStart();try{if(i)t();else{Rt(this,js,da).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=Z(this,Cr).config).onMutate)==null?void 0:a.call(o,e,this,r));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));D!==this.state.context&&Rt(this,js,da).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const R=await Z(this,Yl).start();return await((h=(u=Z(this,Cr).config).onSuccess)==null?void 0:h.call(u,R,e,this.state.context,this,r)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context,r)),await((g=(m=Z(this,Cr).config).onSettled)==null?void 0:g.call(m,R,null,this.state.variables,this.state.context,this,r)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,e,this.state.context,r)),Rt(this,js,da).call(this,{type:"success",data:R}),R}catch(R){try{await((w=(b=Z(this,Cr).config).onError)==null?void 0:w.call(b,R,e,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((_=(S=this.options).onError)==null?void 0:_.call(S,R,e,this.state.context,r))}catch(D){Promise.reject(D)}try{await((E=(k=Z(this,Cr).config).onSettled)==null?void 0:E.call(k,void 0,R,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((O=(C=this.options).onSettled)==null?void 0:O.call(C,void 0,R,e,this.state.context,r))}catch(D){Promise.reject(D)}throw Rt(this,js,da).call(this,{type:"error",error:R}),R}finally{Z(this,Cr).runNext(this)}}},Pm=new WeakMap,$s=new WeakMap,Cr=new WeakMap,Yl=new WeakMap,js=new WeakSet,da=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mr.batch(()=>{Z(this,$s).forEach(r=>{r.onMutationUpdate(e)}),Z(this,Cr).notify({mutation:this,type:"updated",action:e})})},UU);function ose(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Co,ls,Im,WU,ase=(WU=class extends xb{constructor(e={}){super();Ie(this,Co);Ie(this,ls);Ie(this,Im);this.config=e,fe(this,Co,new Set),fe(this,ls,new Map),fe(this,Im,0)}build(e,t,r){const i=new sse({client:e,mutationCache:this,mutationId:++$g(this,Im)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){Z(this,Co).add(e);const t=n0(e);if(typeof t=="string"){const r=Z(this,ls).get(t);r?r.push(e):Z(this,ls).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,Co).delete(e)){const t=n0(e);if(typeof t=="string"){const r=Z(this,ls).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Z(this,ls).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=n0(e);if(typeof t=="string"){const r=Z(this,ls).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=n0(e);if(typeof t=="string"){const i=(r=Z(this,ls).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mr.batch(()=>{Z(this,Co).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,Co).clear(),Z(this,ls).clear()})}getAll(){return Array.from(Z(this,Co))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>h3(t,r))}findAll(e={}){return this.getAll().filter(t=>h3(e,t))}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mr.batch(()=>Promise.all(e.map(t=>t.continue().catch(ss))))}},Co=new WeakMap,ls=new WeakMap,Im=new WeakMap,WU);function n0(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Bs,HU,lse=(HU=class extends xb{constructor(e={}){super();Ie(this,Bs);this.config=e,fe(this,Bs,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??ZI(i,t);let o=this.get(s);return o||(o=new nse({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Z(this,Bs).has(e.queryHash)||(Z(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Z(this,Bs).get(e.queryHash);t&&(e.destroy(),t===e&&Z(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Bs).get(e)}getAll(){return[...Z(this,Bs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>u3(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>u3(e,r)):t}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,HU),vn,Ca,Ea,eh,th,Ta,nh,rh,YU,cse=(YU=class{constructor(n={}){Ie(this,vn);Ie(this,Ca);Ie(this,Ea);Ie(this,eh);Ie(this,th);Ie(this,Ta);Ie(this,nh);Ie(this,rh);fe(this,vn,n.queryCache||new lse),fe(this,Ca,n.mutationCache||new ase),fe(this,Ea,n.defaultOptions||{}),fe(this,eh,new Map),fe(this,th,new Map),fe(this,Ta,0)}mount(){$g(this,Ta)._++,Z(this,Ta)===1&&(fe(this,nh,lY.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,vn).onFocus())})),fe(this,rh,ay.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,vn).onOnline())})))}unmount(){var n,e;$g(this,Ta)._--,Z(this,Ta)===0&&((n=Z(this,nh))==null||n.call(this),fe(this,nh,void 0),(e=Z(this,rh))==null||e.call(this),fe(this,rh,void 0))}isFetching(n){return Z(this,vn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Z(this,Ca).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,vn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Z(this,vn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(_M(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Z(this,vn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Z(this,vn).get(r.queryHash),s=i==null?void 0:i.state.data,o=Bie(e,s);if(o!==void 0)return Z(this,vn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Mr.batch(()=>Z(this,vn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,vn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Z(this,vn);Mr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Z(this,vn);return Mr.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Mr.batch(()=>Z(this,vn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(ss).catch(ss)}invalidateQueries(n,e={}){return Mr.batch(()=>(Z(this,vn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Mr.batch(()=>Z(this,vn).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(ss)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ss)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Z(this,vn).build(this,e);return t.isStaleByTime(_M(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ss).catch(ss)}fetchInfiniteQuery(n){return n.behavior=g3(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ss).catch(ss)}ensureInfiniteQueryData(n){return n.behavior=g3(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ay.isOnline()?Z(this,Ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,vn)}getMutationCache(){return Z(this,Ca)}getDefaultOptions(){return Z(this,Ea)}setDefaultOptions(n){fe(this,Ea,n)}setQueryDefaults(n,e){Z(this,eh).set(Ap(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Z(this,eh).values()],t={};return e.forEach(r=>{Np(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Z(this,th).set(Ap(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Z(this,th).values()],t={};return e.forEach(r=>{Np(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Z(this,Ea).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=ZI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===eO&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Z(this,Ea).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Z(this,vn).clear(),Z(this,Ca).clear()}},vn=new WeakMap,Ca=new WeakMap,Ea=new WeakMap,eh=new WeakMap,th=new WeakMap,Ta=new WeakMap,nh=new WeakMap,rh=new WeakMap,YU),use=M.createContext(void 0),hse=({client:n,children:e})=>(M.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),P.jsx(use.Provider,{value:n,children:e}));function tO(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function y3(n){return tO(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const dY="2.44.4";let Xd={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${dY}`},ws=class CM extends Error{constructor(e,t={}){var a;const r=(()=>{var l;return t.cause instanceof CM?t.cause.details:(l=t.cause)!=null&&l.message?t.cause.message:t.details})(),i=t.cause instanceof CM&&t.cause.docsPath||t.docsPath,s=(a=Xd.getDocsUrl)==null?void 0:a.call(Xd,{...t,docsPath:i}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Xd.version?[`Version: ${Xd.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=dY}walk(e){return fY(this,e)}};function fY(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?fY(n.cause,e):e?null:n}class dse extends ws{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class pY extends ws{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function Bm(n,{dir:e,size:t=32}={}){return typeof n=="string"?fse(n,{dir:e,size:t}):pse(n,{dir:e,size:t})}function fse(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new pY({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function pse(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new pY({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let i=0;i<t;i++){const s=e==="right";r[s?i:t-i-1]=n[s?i:n.length-i-1]}return r}class mse extends ws{constructor({max:e,min:t,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class gse extends ws{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function _b(n,{size:e}){if(y3(n)>e)throw new gse({givenSize:y3(n),maxSize:e})}const vse=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function yse(n,e={}){let t="";for(let i=0;i<n.length;i++)t+=vse[n[i]];const r=`0x${t}`;return typeof e.size=="number"?(_b(r,{size:e.size}),Bm(r,{dir:"right",size:e.size})):r}function EM(n,e={}){const{signed:t,size:r}=e,i=BigInt(n);let s;r?t?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<o){const l=typeof n=="bigint"?"n":"";throw new mse({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:t,size:r,value:`${n}${l}`})}const a=`0x${(t&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Bm(a,{size:r}):a}const bse=new TextEncoder;function xse(n,e={}){const t=bse.encode(n);return yse(t,e)}const wse=new TextEncoder;function _se(n,e={}){return typeof n=="number"||typeof n=="bigint"?kse(n,e):typeof n=="boolean"?Sse(n,e):tO(n)?mY(n,e):gY(n,e)}function Sse(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(_b(t,{size:e.size}),Bm(t,{size:e.size})):t}const fo={zero:48,nine:57,A:65,F:70,a:97,f:102};function b3(n){if(n>=fo.zero&&n<=fo.nine)return n-fo.zero;if(n>=fo.A&&n<=fo.F)return n-(fo.A-10);if(n>=fo.a&&n<=fo.f)return n-(fo.a-10)}function mY(n,e={}){let t=n;e.size&&(_b(t,{size:e.size}),t=Bm(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=b3(r.charCodeAt(a++)),c=b3(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new ws(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function kse(n,e){const t=EM(n,e);return mY(t)}function gY(n,e={}){const t=wse.encode(n);return typeof e.size=="number"?(_b(t,{size:e.size}),Bm(t,{dir:"right",size:e.size})):t}const r0=BigInt(2**32-1),x3=BigInt(32);function Cse(n,e=!1){return e?{h:Number(n&r0),l:Number(n>>x3&r0)}:{h:Number(n>>x3&r0)|0,l:Number(n&r0)|0}}function Ese(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=Cse(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Tse=(n,e,t)=>n<<t|e>>>32-t,Mse=(n,e,t)=>e<<t|n>>>32-t,Pse=(n,e,t)=>e<<t-32|n>>>64-t,Ise=(n,e,t)=>n<<t-32|e>>>64-t;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ose(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function w3(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ly(n,...e){if(!Ose(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function _3(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Rse(n,e){ly(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Dse(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function vY(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const Ase=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nse(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Lse(n){for(let e=0;e<n.length;e++)n[e]=Nse(n[e]);return n}const S3=Ase?n=>n:Lse;function Fse(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function yY(n){return typeof n=="string"&&(n=Fse(n)),ly(n),n}let $se=class{};function jse(n){const e=r=>n().update(yY(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}const Bse=BigInt(0),Qd=BigInt(1),zse=BigInt(2),qse=BigInt(7),Use=BigInt(256),Wse=BigInt(113),bY=[],xY=[],wY=[];for(let n=0,e=Qd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],bY.push(2*(5*r+t)),xY.push((n+1)*(n+2)/2%64);let i=Bse;for(let s=0;s<7;s++)e=(e<<Qd^(e>>qse)*Wse)%Use,e&zse&&(i^=Qd<<(Qd<<BigInt(s))-Qd);wY.push(i)}const _Y=Ese(wY,!0),Hse=_Y[0],Yse=_Y[1],k3=(n,e,t)=>t>32?Pse(n,e,t):Tse(n,e,t),C3=(n,e,t)=>t>32?Ise(n,e,t):Mse(n,e,t);function Gse(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=k3(c,u,1)^t[a],d=C3(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=xY[o],l=k3(i,s,a),c=C3(i,s,a),u=bY[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Hse[r],n[1]^=Yse[r]}vY(t)}let Vse=class SY extends $se{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,w3(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Dse(this.state)}clone(){return this._cloneInto()}keccak(){S3(this.state32),Gse(this.state32,this.rounds),S3(this.state32),this.posOut=0,this.pos=0}update(e){_3(this),e=yY(e),ly(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){_3(this,!1),ly(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return w3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Rse(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vY(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new SY(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Kse=(n,e,t)=>jse(()=>new Vse(e,n,t)),Xse=Kse(1,136,256/8);function Qse(n,e){return Xse(tO(n,{strict:!1})?_se(n):n)}class nO extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Jse=/^0x[a-fA-F0-9]{40}$/,Tw=new nO(8192);function Zse(n,e){const{strict:t=!0}=e??{},r=`${n}.${t}`;if(Tw.has(r))return Tw.get(r);const i=Jse.test(n)?n.toLowerCase()===n?!0:t?kY(n)===n:!0:!1;return Tw.set(r,i),i}const Mw=new nO(8192);function kY(n,e){if(Mw.has(`${n}.${e}`))return Mw.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=Qse(gY(t)),i=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Mw.set(`${n}.${e}`,s),s}function i0(n,e){if(!Zse(n,{strict:!1}))throw new dse({address:n});return kY(n,e)}function eoe(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const Jl=(n,e,t)=>JSON.stringify(n,(r,i)=>typeof i=="bigint"?i.toString():i,t),rO=n=>n;class Jf extends ws{constructor({body:e,cause:t,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${rO(o)}`,e&&`Request body: ${Jl(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class CY extends ws{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${rO(r)}`,`Request body: ${Jl(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class E3 extends ws{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rO(t)}`,`Request body: ${Jl(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}const toe=-1;class ni extends ws{constructor(e,{code:t,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof CY?e.code:t??toe}}class ki extends ni{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Lp extends ni{constructor(e){super(e,{code:Lp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Fp extends ni{constructor(e){super(e,{code:Fp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $p extends ni{constructor(e,{method:t}={}){super(e,{code:$p.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class jp extends ni{constructor(e){super(e,{code:jp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Oh extends ni{constructor(e){super(e,{code:Oh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Bp extends ni{constructor(e){super(e,{code:Bp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class zp extends ni{constructor(e){super(e,{code:zp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ha extends ni{constructor(e){super(e,{code:Ha.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ha,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class qp extends ni{constructor(e){super(e,{code:qp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Al extends ni{constructor(e,{method:t}={}){super(e,{code:Al.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(Al,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Rh extends ni{constructor(e){super(e,{code:Rh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Up extends ni{constructor(e){super(e,{code:Up.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Tr extends ki{constructor(e){super(e,{code:Tr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Wp extends ki{constructor(e){super(e,{code:Wp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hp extends ki{constructor(e,{method:t}={}){super(e,{code:Hp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Yp extends ki{constructor(e){super(e,{code:Yp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Gp extends ki{constructor(e){super(e,{code:Gp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class pc extends ki{constructor(e){super(e,{code:pc.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(pc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Vp extends ki{constructor(e){super(e,{code:Vp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kp extends ki{constructor(e){super(e,{code:Kp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xp extends ki{constructor(e){super(e,{code:Xp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Qp extends ki{constructor(e){super(e,{code:Qp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Jp extends ki{constructor(e){super(e,{code:Jp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Zp extends ki{constructor(e){super(e,{code:Zp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class em extends ki{constructor(e){super(e,{code:em.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class noe extends ni{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function roe(){let n=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}const Pw=new Map;function ioe({fn:n,id:e,shouldSplitBatch:t,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:d})=>d);h.length!==0&&n(h).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([d[f],d])}}).catch(d=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(d)}})},o=()=>Pw.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Pw.get(e)||[],c=u=>Pw.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:d,reject:f}=roe();return(t==null?void 0:t([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:d,reject:f}),h):(c({args:u,resolve:d,reject:f}),setTimeout(s,r),h)}}}const s0=new nO(8192);function soe(n,{enabled:e=!0,id:t}){if(!e||!t)return n();if(s0.get(t))return s0.get(t);const r=n().finally(()=>s0.delete(t));return s0.set(t,r),r}async function ooe(n){return new Promise(e=>setTimeout(e,n))}function EY(n,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await ooe(u),o({count:a+1})};try{const c=await n();i(c)}catch(c){if(a<t&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function aoe(n,e={}){return async(t,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=t;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new Al(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new Al(new Error("method not supported"),{method:c});const u=i?xse(`${l}.${Jl(t)}`):void 0;return soe(()=>EY(async()=>{try{return await n(t)}catch(d){const f=d;switch(f.code){case Lp.code:throw new Lp(f);case Fp.code:throw new Fp(f);case $p.code:throw new $p(f,{method:t.method});case jp.code:throw new jp(f);case Oh.code:throw new Oh(f);case Bp.code:throw new Bp(f);case zp.code:throw new zp(f);case Ha.code:throw new Ha(f);case qp.code:throw new qp(f);case Al.code:throw new Al(f,{method:t.method});case Rh.code:throw new Rh(f);case Up.code:throw new Up(f);case Tr.code:throw new Tr(f);case Wp.code:throw new Wp(f);case Hp.code:throw new Hp(f);case Yp.code:throw new Yp(f);case Gp.code:throw new Gp(f);case pc.code:throw new pc(f);case Vp.code:throw new Vp(f);case Kp.code:throw new Kp(f);case Xp.code:throw new Xp(f);case Qp.code:throw new Qp(f);case Jp.code:throw new Jp(f);case Zp.code:throw new Zp(f);case em.code:throw new em(f);case 5e3:throw new Tr(f);default:throw d instanceof ws?d:new noe(f)}}},{delay:({count:d,error:f})=>{var m;if(f&&f instanceof Jf){const g=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>loe(d)}),{enabled:i,id:u})}}function loe(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===Rh.code||n.code===Oh.code:n instanceof Jf&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function TY(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function t(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:t(o)})}}return Object.assign(e,{extend:t(e)})}function MY(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;t>0&&(o=setTimeout(()=>{r?a.abort():s(e)},t)),i(await n({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function coe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const T3=coe();function uoe(n,e={}){const{url:t,headers:r}=hoe(n);return{async request(i){var m;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:l=e.onResponse,timeout:c=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:h,method:d,signal:f}=u;try{const g=await MY(async({signal:y})=>{const b={...u,body:Array.isArray(s)?Jl(s.map(k=>({jsonrpc:"2.0",id:k.id??T3.take(),...k}))):Jl({jsonrpc:"2.0",id:s.id??T3.take(),...s}),headers:{...r,"Content-Type":"application/json",...h},method:d||"POST",signal:f||(c>0?y:null)},w=new Request(t,b),S=await(a==null?void 0:a(w,b))??{...b,url:t};return await o(S.url??t,S)},{errorInstance:new E3({body:s,url:t}),timeout:c,signal:!0});l&&await l(g);let v;if((m=g.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))v=await g.json();else{v=await g.text();try{v=JSON.parse(v||"{}")}catch(y){if(g.ok)throw y;v={error:v}}}if(!g.ok)throw new Jf({body:s,details:Jl(v.error)||g.statusText,headers:g.headers,status:g.status,url:t});return v}catch(g){throw g instanceof Jf||g instanceof E3?g:new Jf({body:s,cause:g,url:t})}}}}function hoe(n){try{const e=new URL(n),t=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...t}}catch{return{url:n}}}const yv="3.2.2",doe=()=>`@wagmi/core@${yv}`;var PY=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},cy,IY;class tm extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return doe()}constructor(e,t={}){var s;super(),cy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=t.cause instanceof tm?t.cause.details:(s=t.cause)!=null&&s.message?t.cause.message:t.details,i=t.cause instanceof tm&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return PY(this,cy,"m",IY).call(this,this,e)}}cy=new WeakSet,IY=function n(e,t){return t!=null&&t(e)?e:e.cause?PY(this,cy,"m",n).call(this,e.cause,t):e};class TM extends tm{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const MM=256;let o0=MM,a0;function OY(n=11){if(!a0||o0+n>MM*2){a0="",o0=0;for(let e=0;e<MM;e++)a0+=(256+Math.random()*256|0).toString(16).substring(1)}return a0.substring(o0,o0+++n)}function foe(n){const{batch:e,chain:t,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=n,a=n.experimental_blockTag??(typeof(t==null?void 0:t.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(t==null?void 0:t.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=n.pollingInterval??c,h=n.cacheTime??u,d=n.account?eoe(n.account):void 0,{config:f,request:m,value:g}=n.transport({account:d,chain:t,pollingInterval:u}),v={...f,...g},y={account:d,batch:e,cacheTime:h,ccipRead:r,chain:t,key:i,name:s,pollingInterval:u,request:m,transport:v,type:o,uid:OY(),...a?{experimental_blockTag:a}:{}};function b(w){return S=>{const _=S(w);for(const E in y)delete _[E];const k={...w,..._};return Object.assign(k,{extend:b(k)})}}return Object.assign(y,{extend:b(y)})}function poe({key:n,methods:e,name:t,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=OY();return{config:{key:n,methods:e,name:t,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:aoe(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}class moe extends ws{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function M3(n,e={}){const{batch:t,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:d,retryCount:f,timeout:m})=>{const{batchSize:g=1e3,wait:v=0}=typeof t=="object"?t:{},y=e.retryCount??f,b=m??e.timeout??1e4,w=d==null?void 0:d.rpcUrls.default.http[0];if(!w)throw new moe;const S=uoe(w,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:b});return poe({key:s,methods:o,name:a,async request({method:_,params:k}){const E={method:_,params:k},{schedule:C}=ioe({id:w,wait:v,shouldSplitBatch(F){return F.length>g},fn:F=>S.request({body:F}),sort:(F,N)=>F.id-N.id}),O=async F=>t?C(F):[await S.request({body:F})],[{error:R,result:D}]=await O(E);if(h)return{error:R,result:D};if(R)throw new CY({body:E,error:R,url:w});return D},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:w})}}let Iw=!1;async function goe(n,e={}){var c,u;if(Iw)return[];Iw=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const t=[];if((c=e.connectors)!=null&&c.length)for(const h of e.connectors){let d;typeof h=="function"?d=n._internal.connectors.setup(h):d=h,t.push(d)}else t.push(...n.connectors);let r;try{r=await((u=n.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of n.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...t].sort((h,d)=>(i[h.id]??10)-(i[d.id]??10)):t;let o=!1;const a=[],l=[];for(const h of s){const d=await h.getProvider().catch(()=>{});if(!d||l.some(g=>g===d)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(g=>{const v=new Map(o?g.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...g,current:o?g.current:h.uid,connections:v}}),a.push({accounts:m.accounts,chainId:m.chainId,connector:h}),l.push(d),o=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(o?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Iw=!1,a}class nu extends tm{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}Sb.type="injected";function Sb(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function r(){const l=n.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...voe[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let i,s,o,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Sb.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&n.target&&(o||(o=this.onConnect.bind(this),c.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u,withCapabilities:h}={}){var m,g,v,y,b,w;const d=await this.getProvider();if(!d)throw new nu;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(y=(v=(g=(m=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:g[0])==null?void 0:v.value)==null?void 0:y.map(_=>i0(_)),f.length>0&&(f=await this.getAccounts())}catch(S){const _=S;if(_.code===Tr.code)throw new Tr(_);if(_.code===Ha.code)throw _}try{!(f!=null&&f.length)&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(k=>i0(k))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let S=await this.getChainId();if(c&&S!==c){const _=await this.switchChain({chainId:c}).catch(k=>{if(k.code===Tr.code)throw k;return{id:S}});S=(_==null?void 0:_.id)??S}return e&&await((b=l.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),n.target||await((w=l.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:h?f.map(_=>({address:_,capabilities:{}})):f,chainId:S}}catch(S){const _=S;throw _.code===Tr.code?new Tr(_):_.code===Ha.code?new Ha(_):_}},async disconnect(){var u,h;const c=await this.getProvider();if(!c)throw new nu;s&&(c.removeListener("chainChanged",s),s=void 0),a&&(c.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),c.on("connect",o));try{await MY(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=l.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=l.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new nu;return(await c.request({method:"eth_accounts"})).map(h=>i0(h))},async getChainId(){const c=await this.getProvider();if(!c)throw new nu;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=bv(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,u;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!n.target&&!await((u=l.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),g=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(m()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(m()),g))]))return!0}throw new nu}return!!(await EY(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var m,g,v,y;const h=await this.getProvider();if(!h)throw new nu;const d=l.chains.find(b=>b.id===u);if(!d)throw new pc(new TM);const f=new Promise(b=>{const w=S=>{"chainId"in S&&S.chainId===u&&(l.emitter.off("change",w),b())};l.emitter.on("change",w)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:EM(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),f]),d}catch(b){const w=b;if(w.code===4902||((g=(m=w==null?void 0:w.data)==null?void 0:m.originalError)==null?void 0:g.code)===4902)try{const{default:S,..._}=d.blockExplorers??{};let k;c!=null&&c.blockExplorerUrls?k=c.blockExplorerUrls:S&&(k=[S.url,...Object.values(_).map(O=>O.url)]);let E;(v=c==null?void 0:c.rpcUrls)!=null&&v.length?E=c.rpcUrls:E=[((y=d.rpcUrls.default)==null?void 0:y.http[0])??""];const C={blockExplorerUrls:k,chainId:EM(u),chainName:(c==null?void 0:c.chainName)??d.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??d.nativeCurrency,rpcUrls:E};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[C]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Tr(new Error("User rejected switch after adding network."))}),f]),d}catch(S){throw new Tr(S)}throw w.code===Tr.code?new Tr(w):new pc(w)}},async onAccountsChanged(c){var u;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=l.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(h=>i0(h))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const h=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:h});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const voe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:bv(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return bv(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of t)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,t;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(t=n.phantom)==null?void 0:t.ethereum:bv(n,"isPhantom")}}};function bv(n,e){function t(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=n.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>t(i));if(r&&t(r))return r}function yoe(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function boe(){const n=new Set;let e=[];const t=()=>yoe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],n.forEach(s=>s(e,{added:[i]})))});let r=t();return{_listeners(){return n},clear(){n.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=t()},subscribe(i,{emitImmediately:s}={}){return n.add(i),s&&i(e,{added:e}),()=>n.delete(i)}}}const xoe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=d=>{const f=o(d);if(!u(h,f)){const m=h;a(h=f,m)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)},woe=xoe;function _oe(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const PM=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return PM(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return PM(r)(t)}}}},Soe=(n,e)=>(t,r,i)=>{let s={storage:_oe(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return c.setItem(s.name,{state:g,version:s.version})},h=i.setState;i.setState=(g,v)=>{h(g,v),u()};const d=n((...g)=>{t(...g),u()},r,i);i.getInitialState=()=>d;let f;const m=()=>{var g,v;if(!c)return;o=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:d)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=r())!=null?g:d))||void 0;return PM(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[S,_]=b;if(f=s.merge(_,(w=r())!=null?w:d),t(f,!0),S)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,l.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||m(),f||d},koe=Soe,P3=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},Ow=n=>n?P3(n):P3;var RY={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||l,d),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,m=new Array(f);d<f;d++)m[d]=h[d].fn;return m},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,m){var g=t?t+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,d),!0;case 5:return v.fn.call(v.context,u,h,d,f),!0;case 6:return v.fn.call(v.context,u,h,d,f,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,_;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,h);break;case 4:v[w].fn.call(v[w].context,u,h,d);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===u&&(!d||m.once)&&(!h||m.context===h)&&o(this,f);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||d&&!m[g].once||h&&m[g].context!==h)&&v.push(m[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(RY);var Coe=RY.exports;const Eoe=iI(Coe);let Toe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Eoe})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}};function Moe(n){return new Toe(n)}function Poe(n,e){return JSON.parse(n,(t,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(t,i))??i})}function I3(n,e){return n.slice(0,e).join(".")||"."}function O3(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function Ioe(n,e){const t=typeof n=="function",r=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const c=O3(i,this);c===0?i[i.length]=this:(i.splice(c),s.splice(c)),s[s.length]=a;const u=O3(i,l);if(u!==0)return r?e.call(this,a,l,I3(s,u)):`[ref=${I3(s,u)}]`}else i[0]=l,s[0]=a;return t?n.call(this,a,l):l}}function Ooe(n,e,t,r){return JSON.stringify(n,Ioe((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),t??void 0)}function Roe(n){const{deserialize:e=Poe,key:t="wagmi",serialize:r=Ooe,storage:i=DY}=n;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:t,async getItem(o,a){const l=i.getItem(`${t}.${o}`),c=await s(l);return c?e(c)??null:a??null},async setItem(o,a){const l=`${t}.${o}`;a===null?await s(i.removeItem(l)):await s(i.setItem(l,r(a)))},async removeItem(o){await s(i.removeItem(`${t}.${o}`))}}}const DY={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Doe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:DY;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const IM=256;let l0=IM,c0;function Aoe(n=11){if(!c0||l0+n>IM*2){c0="",l0=0;for(let e=0;e<IM;e++)c0+=(256+Math.random()*256|0).toString(16).substring(1)}return c0.substring(l0,l0+++n)}function Noe(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=Roe({storage:Doe()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=n,o=typeof window<"u"&&e?boe():void 0,a=Ow(()=>s.chains),l=Ow(()=>{const _=[],k=new Set;for(const E of s.connectors??[]){const C=c(E);if(_.push(C),!i&&C.rdns){const O=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const R of O)k.add(R)}}if(!i&&o){const E=o.getProviders();for(const C of E)k.has(C.info.rdns)||_.push(c(u(C)))}return _});function c(_){var C;const k=Moe(Aoe()),E={..._({emitter:k,chains:a.getState(),storage:t,transports:s.transports}),emitter:k,uid:k.uid};return k.on("connect",w),(C=E.setup)==null||C.call(E),E}function u(_){const{info:k}=_,E=_.provider;return Sb({target:{...k,id:k.rdns,provider:E}})}const h=new Map;function d(_={}){const k=_.chainId??v.getState().chainId,E=a.getState().find(O=>O.id===k);if(_.chainId&&!E)throw new TM;{const O=h.get(v.getState().chainId);if(O&&!E)return O;if(!E)throw new TM}{const O=h.get(k);if(O)return O}let C;if(s.client)C=s.client({chain:E});else{const O=E.id,R=a.getState().map(N=>N.id),D={},F=Object.entries(s);for(const[N,W]of F)if(!(N==="chains"||N==="client"||N==="connectors"||N==="transports"))if(typeof W=="object")if(O in W)D[N]=W[O];else{if(R.some($=>$ in W))continue;D[N]=W}else D[N]=W;C=foe({...D,chain:E,batch:D.batch??{multicall:!0},transport:N=>s.transports[O]({...N,connectors:l})})}return h.set(k,C),C}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const g="0.0.0-canary-";yv.startsWith(g)?m=Number.parseInt(yv.replace(g,""),10):m=Number.parseInt(yv.split(".")[0]??"0",10);const v=Ow(woe(t?koe(f,{migrate(_,k){if(k===m)return _;const E=f(),C=y(_,E.chainId);return{...E,chainId:C}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([k,E])=>{const{id:C,name:O,type:R,uid:D}=E.connector;return[k,{...E,connector:{id:C,name:O,type:R,uid:D}}]})},chainId:_.chainId,current:_.current}},merge(_,k){typeof _=="object"&&_&&"status"in _&&delete _.status;const E=y(_,k.chainId);return{...k,..._,chainId:E}},skipHydration:i,storage:t,version:m}):f));v.setState(f());function y(_,k){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(E=>E.id===_.chainId)?_.chainId:k}r&&v.subscribe(({connections:_,current:k})=>{var E;return k?(E=_.get(k))==null?void 0:E.chainId:void 0},_=>{if(a.getState().some(E=>E.id===_))return v.setState(E=>({...E,chainId:_??E.chainId}))}),o==null||o.subscribe(_=>{const k=new Set,E=new Set;for(const O of l.getState())if(k.add(O.id),O.rdns){const R=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const D of R)E.add(D)}const C=[];for(const O of _){if(E.has(O.info.rdns))continue;const R=c(u(O));k.has(R.id)||C.push(R)}t&&!v.persist.hasHydrated()||l.setState(O=>[...O,...C],!0)});function b(_){v.setState(k=>{const E=k.connections.get(_.uid);return E?{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts??E.accounts,chainId:_.chainId??E.chainId,connector:E.connector})}:k})}function w(_){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(k=>{const E=l.getState().find(C=>C.uid===_.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",b),E.emitter.listenerCount("change")||E.emitter.on("change",b),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",S),{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:E}),current:_.uid,status:"connected"}):k})}function S(_){v.setState(k=>{const E=k.connections.get(_.uid);if(E){const O=E.connector;O.emitter.listenerCount("change")&&E.connector.emitter.off("change",b),O.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",S),O.emitter.listenerCount("connect")||E.connector.emitter.on("connect",w)}if(k.connections.delete(_.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const C=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:C.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:t,getClient:d,get state(){return v.getState()},setState(_){let k;typeof _=="function"?k=_(v.getState()):k=_;const E=f();typeof k!="object"&&(k=E),Object.keys(E).some(O=>!(O in k))&&(k=E),v.setState(k,!0)},subscribe(_,k,E){return v.subscribe(_,k,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const _=v.getState(),k=_.connections;let E=_.current;for(const[,C]of k){const O=C.connector;O.isAuthorized&&await O.isAuthorized()||(k.delete(O.uid),E===O.uid&&(E=null))}v.setState(C=>({...C,connections:k,current:E}))},store:v,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(_){const k=typeof _=="function"?_(a.getState()):_;if(k.length!==0)return a.setState(k,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:c,setState(_){return l.setState(typeof _=="function"?_(l.getState()):_,!0)},subscribe(_){return l.subscribe(_)}},events:{change:b,connect:w,disconnect:S}}}}function Loe(n,e){const{initialState:t,reconnectOnMount:r}=e;return t&&!n._internal.store.persist.hasHydrated()&&n.setState({...t,chainId:n.chains.some(i=>i.id===t.chainId)?t.chainId:n.chains[0].id,connections:r?t.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(i=>{var l;const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)s.add(h)}const o=[],a=((l=n._internal.mipd)==null?void 0:l.getProviders())??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=n._internal.connectors.providerDetailToConnector(c),h=n._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),r?goe(n):n.storage&&n.setState(i=>({...i,connections:new Map}))}}}function Foe(n){const{children:e,config:t,initialState:r,reconnectOnMount:i=!0}=n,{onMount:s}=Loe(t,{initialState:r,reconnectOnMount:i});t._internal.ssr||s();const o=M.useRef(!0);return M.useEffect(()=>{if(o.current&&t._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const $oe=M.createContext(void 0);function joe(n){const{children:e,config:t}=n,r={value:t};return M.createElement(Foe,n,M.createElement($oe.Provider,r,e))}function Boe(n){return n.replace(/_([a-z])/g,(e,t)=>t.toUpperCase())}function zoe(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&n.constructor===Object}function Dh(n){if(n==null)return n;if(Array.isArray(n))return n.map(e=>Dh(e));if(zoe(n)){const e={};for(const[t,r]of Object.entries(n)){const i=Boe(t);e[i]=Dh(r)}return e}return n}class iO{constructor(e,t=3,r=3e4){le(this,"baseURL");le(this,"timeout");le(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=t,this.timeout=r}async do(e){var o,a,l,c,u,h,d,f,m;const t=Date.now();let r=null,i=null;for(let g=1;g<=this.maxRetries;g++)try{return{...await this.doRequest(e),duration:Date.now()-t}}catch(v){if(r=v,this.isNonceError(v))throw v;const y=this.parseErrorBody(v);if(i=y,this.isServiceUnavailable(y)){const b=(o=y==null?void 0:y.details)==null?void 0:o.retryAfterSeconds,w=(a=y==null?void 0:y.details)==null?void 0:a.circuitBreakerState,S=(l=y==null?void 0:y.details)==null?void 0:l.readsAllowed,_=(c=y==null?void 0:y.details)==null?void 0:c.requestType;if(w==="OPEN"){const k=((u=y==null?void 0:y.details)==null?void 0:u.serviceStatus)||"UNAVAILABLE",E=[];S&&E.push("reads"),(h=y==null?void 0:y.details)!=null&&h.writesAllowed&&E.push("writes"),(d=y==null?void 0:y.details)!=null&&d.streamsAllowed&&E.push("streams");const C=E.length>0?` (Allowed: ${E.join(", ")})`:" (No operations allowed)";throw new Error(`Service temporarily unavailable: Circuit breaker is OPEN. Service status: ${k}.${C} Retry after ${b||30} seconds. Request type: ${_||"unknown"}. Details: ${(y==null?void 0:y.message)||"Service unavailable"}`)}if(b&&g<this.maxRetries){await this.delay(b*1e3);continue}}if(g<this.maxRetries){const b=g*1e3;await this.delay(b)}}let s=`Request failed after ${this.maxRetries} attempts: ${r==null?void 0:r.message}`;throw(f=i==null?void 0:i.details)!=null&&f.retryAfterSeconds&&(s+=` (Service requested retry after ${i.details.retryAfterSeconds} seconds)`),(m=i==null?void 0:i.details)!=null&&m.circuitBreakerState&&(s+=` (Circuit breaker: ${i.details.circuitBreakerState})`),new Error(s)}async doRequest(e){const t=`${this.baseURL}${e.path}`,r={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},i={method:e.method,headers:r,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?i.body=JSON.stringify(e.body):e.method==="GET"&&(i.body=void 0);const s=await fetch(t,i);let o;const a=s.headers.get("content-type");if(a!=null&&a.includes("application/json"))try{const l=await s.json();o=Dh(l)}catch{o=await s.text()}else o=await s.text();if(s.status>=400)throw new Error(`HTTP ${s.status}: ${JSON.stringify(o)}`);return{statusCode:s.status,body:o,headers:s.headers}}isNonceError(e){const t=(e==null?void 0:e.message)||"";return t.toLowerCase().includes("nonce")||t.includes("InvalidNonce")||t.includes("NonceError")}parseErrorBody(e){try{const r=((e==null?void 0:e.message)||"").match(/HTTP \d+: (.+)$/);if(r&&r[1]){const i=JSON.parse(r[1]);if(i&&typeof i=="object"&&(i.error===503||i.code==="SERVICE_UNAVAILABLE"))return Dh(i)}}catch{}return null}isServiceUnavailable(e){var t;return e?e.error===503||e.code==="SERVICE_UNAVAILABLE"||((t=e.details)==null?void 0:t.circuitBreakerState)==="OPEN":!1}delay(e){return new Promise(t=>setTimeout(t,e))}async get(e,t){return this.do({method:"GET",path:e,headers:t})}async post(e,t,r){return this.do({method:"POST",path:e,body:t,headers:r})}async put(e,t,r){return this.do({method:"PUT",path:e,body:t,headers:r})}async delete(e,t){return this.do({method:"DELETE",path:e,headers:t})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}let Jd={instance:null,module:null},qoe=null;async function Uoe(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const a=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let l=!1,c=null;for(const u of a)try{console.log(`Trying to load wasm_exec.js from: ${u}`),await new Promise((h,d)=>{const f=document.createElement("script");f.src=u,f.async=!0,f.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${u}`),h()},f.onerror=()=>{d(new Error(`Failed to load from ${u}`))},document.head.appendChild(f)}),l=!0;break}catch(h){console.warn(`Failed to load from ${u}:`,h==null?void 0:h.message),c=h,document.head.querySelectorAll(`script[src="${u}"]`).forEach(f=>f.remove())}if(!l)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(c==null?void 0:c.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;qoe=e,console.log("Go instance created");const t="/morm_signer.wasm";console.log("Loading WASM from:",t);let r;try{const a=await fetch(t);if(console.log("WASM fetch response:",{status:a.status,statusText:a.statusText,ok:a.ok,url:a.url}),!a.ok){const l=await a.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${t}: ${a.status} ${a.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}r=await a.arrayBuffer(),console.log("WASM file loaded successfully, size:",r.byteLength,"bytes")}catch(a){throw console.error("WASM fetch failed:",a),new Error(`Failed to fetch WASM file: ${(a==null?void 0:a.message)||a}. The file should be accessible at ${window.location.origin}${t}`)}console.log("Instantiating WASM module...");let i;try{i=await WebAssembly.instantiate(r,e.importObject),console.log("WASM module instantiated successfully")}catch(a){throw console.error("Failed to instantiate WASM:",a),new Error(`Failed to instantiate WASM module: ${(a==null?void 0:a.message)||a}. The WASM file may be corrupted or incompatible.`)}Jd.instance=i.instance,Jd.module=i.module,console.log("Running Go program..."),console.log("Window object before Go run:",Object.keys(window).filter(a=>typeof window[a]=="function"&&(a.startsWith("morm")||a.startsWith("derive")||a.startsWith("generate")||a==="Go")));try{e.run(Jd.instance),console.log("Go program started (run() completed)")}catch(a){throw console.error("Failed to run Go program:",a),new Error(`Failed to run Go program: ${(a==null?void 0:a.message)||a}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const s=10;let o=[];for(let a=1;a<=s;a++){const l=Math.min(a*200,2e3);await new Promise(u=>setTimeout(u,l));const c=Object.keys(window).filter(u=>typeof window[u]=="function");if(o=c.filter(u=>u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u.startsWith("verify")||u.startsWith("map")||u.startsWith("validate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"),console.log(`Attempt ${a}/${s}:`,{waitTime:`${l}ms`,allWindowFunctions:c.length,exportedFunctions:o,sampleWindowKeys:c.slice(0,20)}),o.length>0){console.log(" Go functions found!",o);break}a===s&&(console.warn(" No expected functions found. All window functions:",c.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(o.length===0){const a=[],l=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:l.length,allFunctions:l.filter(c=>typeof window[c]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Jd.instance!==null,wasmModule:Jd.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(u=>setTimeout(u,500));const c=Object.keys(window).filter(u=>typeof window[u]=="function"&&(u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"));c.length>0&&(console.log(" Functions found after InitWASMSigner!",c),o=c)}catch(c){console.error("Failed to call InitWASMSigner:",c)}}if(o.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class Woe{constructor(){le(this,"isInitialized",!1);le(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await Uoe(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"}async generateAddress(e,t=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.deriveAddress(e,t);return typeof r=="string"?{success:!0,address:r,index:t,mnemonic:e.substring(0,20)+"..."}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to derive address"}}catch(r){return console.error("Failed to generate address:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.generateMnemonic(e);return typeof t=="string"?{success:!0,mnemonic:t}:t&&t.error?{success:!1,error:t.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,t,r={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=(r.useEIP712,"ECDSA_LEGACY"),s=window.generateSignature(i,e,t);return typeof s=="string"?{success:!0,signature:s,message:t,options:r}:s&&s.error?{success:!1,error:s.error}:{success:!1,error:"Failed to generate signature"}}catch(i){return console.error("Failed to sign message:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async signDeposit(e,t,r,i={}){const s={...i,depositMode:!0,walletAddress:t,amount:r},o=JSON.stringify({action:"deposit",owner:t,amount:r,nonce:i.nonce||Date.now(),deadline:i.deadline||Date.now()+36e5}),a=await this.signMessage(e,o,s);return{success:a.success,signature:a.signature,message:a.message,address:t,options:a.options,error:a.error}}async signEIP712(e,t,r={}){const i={...r,useEIP712:!0};return this.signMessage(e,t,i)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return t&&t.error?{success:!1,error:t.error}:{success:!0,typedData:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async signAgentApproval(e,t){const r=await this.prepareAgentSign(t);if(!r.success||!r.typedData)return r;const i=JSON.stringify({action:"agent::approve",wallet:t.owner,agent:t.agent,agentName:t.agentName||"",expiresInDays:t.expiresInDays,permissions:t.permissions,nonce:t.nonce,deadline:Date.now()+t.expiresInDays*24*60*60*1e3}),s=await this.signMessage(e,i,{useEIP712:!0});return s.success?{success:!0,typedData:r.typedData,signature:s.signature}:{success:!1,error:s.error}}async verifySignature(e,t,r){if(!this.isReady())throw new Error("MormSigner not initialized");try{const i=window.verifySignature(e,t,r);return typeof i=="boolean"?i:!1}catch(i){return console.error("Failed to verify signature:",i),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(t){return console.error("Failed to map algorithm:",t),"ECDSA_LEGACY"}}validateNonce(e,t){if(!this.isReady())return!1;try{return window.validateNonce(e,t)}catch(r){return console.error("Failed to validate nonce:",r),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,t,r){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateSingleSignature(e,t,r);return i.error?{success:!1,error:i.error}:{success:!0,signature:i.signature}}catch(i){return console.error("Failed to generate single signature:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateMultisignSignatures(e,t,r=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateMultisignSignatures(e,t,r);if(i.error)return{success:!1,error:i.error};let s=null;if(i.tx)try{s=JSON.parse(i.tx)}catch(o){console.warn("Failed to parse updated transaction JSON:",o)}return{success:!0,tx:s,txJSON:i.tx}}catch(i){return console.error("Failed to generate multisign signatures:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(t){return console.error("Failed to check signature type support:",t),!1}}}const Ks=new Woe,Hoe=6e4,R3=100,Rw=24*60*60*1e3,Dw=1;class AY{constructor(e,t){le(this,"infoClient");le(this,"storage");le(this,"onChainState",new Map);le(this,"offChainNonces",new Map);le(this,"syncTimers",new Map);this.infoClient=e,this.storage=t}persistState(e,t){var r;(r=this.storage)==null||r.setSnapshot(e,{confirmed:t.confirmed,pending:[...t.pending],lastSync:t.lastSync})}getOrCreateState(e){var i;const t=e.toLowerCase();let r=this.onChainState.get(t);if(!r){const s=(i=this.storage)==null?void 0:i.getSnapshot(t);r=s?{confirmed:s.confirmed,pending:[...s.pending],lastSync:s.lastSync,mu:!1}:{confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(t,r)}return r}async acquireLock(e){for(;e.mu;)await new Promise(t=>setTimeout(t,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e){const t=this.getOrCreateState(e),r=Date.now();if(!(r-t.lastSync<Hoe))try{const s=(await this.infoClient.getNonceStatus(e,!1)).nextNonce;t.confirmed=s,t.lastSync=r,this.persistState(e,t)}catch(i){console.warn(`[NonceManager] Failed to sync with core for ${e}:`,i)}}async getNonce(e,t="latest"){const r=e.toLowerCase(),i=this.getOrCreateState(r);if(await this.syncWithCore(r),t==="latest")return i.confirmed;{const s=i.pending.length>0?Math.max(...i.pending):i.confirmed;return Math.max(i.confirmed,s)}}async validateNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{if(r||await this.syncWithCore(i),s.confirmed===0&&t<Dw)throw new Error(`nonce too low for new account: got ${t}, minimum ${Dw}`);if(s.confirmed>0&&t<=s.confirmed)throw new Error(`nonce too low: got ${t}, confirmed ${s.confirmed}`);if(s.pending.includes(t))throw new Error(`nonce already pending: ${t}`);if(s.pending.length>=R3)throw new Error(`pending nonce limit reached: max ${R3} pending nonces`);if(r){const o=this.offChainNonces.get(i);if(o){const a=o.get(t);if(a){const l=Date.now();if(l-a<Rw)throw new Error(`nonce already used (off-chain): ${t}, expires in ${Math.floor((Rw-(l-a))/1e3)}s`);o.delete(t)}}}s.pending.push(t),s.pending.sort((o,a)=>o-a),this.persistState(i,s)}finally{this.releaseLock(s)}}async commitNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){let a=this.offChainNonces.get(i);a||(a=new Map,this.offChainNonces.set(i,a)),a.set(t,Date.now())}else if(t===s.confirmed+1)for(s.confirmed=t;s.pending.length>0&&s.pending[0]===s.confirmed+1;){const a=s.pending.shift();s.confirmed=a}this.persistState(i,s)}finally{this.releaseLock(s)}}async rejectNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){const a=this.offChainNonces.get(i);a&&a.delete(t)}this.persistState(i,s)}finally{this.releaseLock(s)}}async getExpectedNextNonce(e,t=!1){const r=e.toLowerCase();await this.syncWithCore(r);const i=this.getOrCreateState(r),s=i.pending.length>0?Math.max(...i.pending):i.confirmed,o=Math.max(i.confirmed+1,s+1),a=o===0?Dw:o;if(t)try{await this.validateNonce(r,a,!1)}catch(l){console.warn(`[NonceManager] Failed to reserve nonce ${a}:`,l.message)}return{next_nonce:a,reserved:t,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[t,r]of this.offChainNonces.entries()){for(const[i,s]of r.entries())e-s>=Rw&&r.delete(i);r.size===0&&this.offChainNonces.delete(t)}}resetNonce(e){var i,s;const t=e.toLowerCase();this.onChainState.delete(t),this.offChainNonces.delete(t),(s=(i=this.storage)==null?void 0:i.clearOwner)==null||s.call(i,t);const r=this.syncTimers.get(t);r&&(clearInterval(r),this.syncTimers.delete(t))}getState(e){const t=e.toLowerCase();return this.onChainState.get(t)}}const uy=1e8;function Cn(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*uy)).toString()}function An(n){const e=BigInt(n),t=BigInt(uy),r=e/t,i=e%t;return Number(r)+Number(i)/uy}function Yoe(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*uy)}function D3(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function lt(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return An(typeof n=="string"?n:String(n))}catch{return 0}return 0}function Goe(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function hy(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function Voe(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}class Go{constructor(e){le(this,"httpClient");le(this,"sessionToken");this.httpClient=new iO(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){var r;const t=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;if(t&&typeof t=="object"&&"markets"in t){const i=t.count??t.total??((r=t.markets)==null?void 0:r.length)??0;return{markets:t.markets??[],total:i,count:t.count}}return{markets:[],total:0}}async getMarketsWithFilters(e,t){var a;let r="/market/v1/all";const i=[];e&&i.push(`filter=${e}`),t&&i.push("active_only=true"),i.length>0&&(r+="?"+i.join("&"));const o=(await this.httpClient.get(r,this.getHeaders())).body;if(o&&typeof o=="object"&&"markets"in o){const l=o.count??o.total??((a=o.markets)==null?void 0:a.length)??0;return{markets:o.markets??[],total:l,count:o.count}}return{markets:[],total:0}}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketBySymbol(e){return(await this.httpClient.get(`/market/v1/market/by-symbol/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByTicker(e){return(await this.httpClient.get(`/market/v1/market/by-ticker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,t=!0,r=20){let i=`/clob/v1/orderbook/${e}`,s=20;r>0&&r<100&&(s=r),i+=`?depth=${s}`;const a=(await this.httpClient.get(i,this.getHeaders())).body;return t&&a&&(a.bids&&Array.isArray(a.bids)&&(a.bids=a.bids.map(([l,c])=>[An(l),An(c)])),a.asks&&Array.isArray(a.asks)&&(a.asks=a.asks.map(([l,c])=>[An(l),An(c)]))),a}async getMarketTrades(e,t){let r=`/clob/v1/trades?market_id=${e}`;t&&t>0&&(r+=`&limit=${t}`);const i=await this.httpClient.get(r,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",i.body);const s=i.body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",i.body),[])}async getTrades(e,t){let r=`/clob/v1/trades?symbol=${e}`;t&&t>0&&(r+=`&limit=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getAggTrades(e,t,r,i){let s=`/market/v1/aggTrades?symbol=${e}`;return t&&t>0&&(s+=`&limit=${t}`),r&&r>0&&(s+=`&startTime=${r}`),i&&i>0&&(s+=`&endTime=${i}`),(await this.httpClient.get(s,this.getHeaders())).body}async getKlines(e,t,r,i,s){let o=`/clob/v1/klines?symbol=${e}&interval=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l)?l:[]}async getContinuousKlines(e,t,r,i,s,o){let a=`/market/v1/continuousKlines?pair=${e}&contractType=${t}&interval=${r}`;return i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`),(await this.httpClient.get(a,this.getHeaders())).body}async getPremiumIndex(e){let t="/market/v1/premiumIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getFundingRate(e,t,r,i){let s="/market/v1/fundingRate";const o=[];e&&o.push(`symbol=${e}`),t&&t>0&&o.push(`limit=${t}`),r&&r>0&&o.push(`startTime=${r}`),i&&i>0&&o.push(`endTime=${i}`),o.length>0&&(s+="?"+o.join("&"));const l=(await this.httpClient.get(s,this.getHeaders())).body;return Array.isArray(l)?l:l&&typeof l=="object"&&"data"in l&&Array.isArray(l.data)?l.data:l?[l]:[]}async getFundingInfo(){const t=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(t)?t:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,t,r,i,s){let o=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getGlobalLongShortAccountRatio(e,t,r,i,s){let o=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getTicker24hr(e){let t="/market/v1/ticker/24hr";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getTickerPrice(e){let t="/market/v1/ticker/price";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookTicker(e){let t="/market/v1/ticker/bookTicker";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookMoniker(e){return this.getOrderbookTicker(e)}async getBasis(e,t,r,i,s){let o=`/market/v1/basis?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getIndexInfo(e){let t="/market/v1/indexInfo";return e&&(t+=`?symbol=${e}`),(await this.httpClient.get(t,this.getHeaders())).body}async getAssetIndex(e){let t="/market/v1/assetIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,t){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${t}`,this.getHeaders())).body}async getTransactionHistory(e){const t=new URLSearchParams({address:e.address});return e.txType&&t.set("txType",e.txType),e.limit&&t.set("limit",e.limit.toString()),e.offset&&t.set("offset",e.offset.toString()),(await this.httpClient.get(`/bank/v1/transactions/history?${t.toString()}`,this.getHeaders())).body}async getBucketMetrics(){return(await this.httpClient.get("/bucket/v1/metrics",this.getHeaders())).body}async getBucketEfficiencyMetrics(){return(await this.httpClient.get("/bucket/v1/metrics/efficiency",this.getHeaders())).body}async getAddressPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/address/${encodeURIComponent(e)}`,this.getHeaders())).body}async getBucketPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/bucket/${encodeURIComponent(e)}`,this.getHeaders())).body}async getPositions(e,t){if(!e)throw new Error("walletAddress is required for getPositions");let r=`/bucket/v1/address/${e}/positions`;t!==void 0&&(r+=`?active_only=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s)?s:s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBalance(e,t){var o;const r=`/bank/v1/balance/${encodeURIComponent(e)}?asset=${encodeURIComponent(t)}`,s=(await this.httpClient.get(r,this.getHeaders())).body;if(!s.asset&&s.collateralAssetIndex){const a=((o=s.collateralAssetIndex)==null?void 0:o.ticker)??s.collateralAssetIndex;if(typeof a=="string")return{...s,asset:a}}return s}async getBalances(e){const r=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return r&&typeof r=="object"&&"balances"in r&&Array.isArray(r.balances)?r.balances.map(i=>{var o;if(i.asset)return i;const s=((o=i.collateralAssetIndex)==null?void 0:o.ticker)??i.collateralAssetIndex;return s&&typeof s=="string"?{...i,asset:s}:i}):[]}async getBalanceDecimal(e,t){const r=await this.getBalance(e,t);if(r&&typeof r=="object"){const i={...r};return i.balance&&(i.balance=An(i.balance)),i.availableBalance&&(i.available=An(i.availableBalance)),i.available&&typeof i.available=="string"&&(i.available=An(i.available)),i.lockedBalance&&(i.locked=An(i.lockedBalance)),i.locked&&typeof i.locked=="string"&&(i.locked=An(i.locked)),i}return r}async getOrders(e,t){return this.getOrdersByAddress(e,t?{marketIndex:t}:void 0)}async getOrdersByMarket(e,t){const r=new URLSearchParams;t!=null&&t.symbol&&r.set("symbol",t.symbol),t!=null&&t.status&&r.set("status",t.status),(t==null?void 0:t.offset)!=null&&r.set("paginationRequest.offset",String(t.offset)),(t==null?void 0:t.limit)!=null&&r.set("paginationRequest.limit",String(t.limit));const i=r.toString(),s=`/clob/v1/market/${encodeURIComponent(e)}/orders${i?`?${i}`:""}`;return(await this.httpClient.get(s,this.getHeaders())).body??{orders:[],totalCount:0,timestamp:Date.now()}}async getOrdersByAddress(e,t){const r=`/clob/v1/address/${encodeURIComponent(e)}/orders`,i=new URLSearchParams;t!=null&&t.marketIndex&&i.set("marketIndex",t.marketIndex),t!=null&&t.status&&i.set("status",t.status),(t==null?void 0:t.limit)!=null&&i.set("paginationRequest.limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&i.set("paginationRequest.offset",String(t.offset));const s=i.toString(),o=s?`${r}?${s}`:r;return(await this.httpClient.get(o,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return this.getOrdersByAddress(e)}async getAddressLiquidations(e){const t=new URLSearchParams;return e.limit!=null&&t.set("limit",e.limit.toString()),e.offset!=null&&t.set("offset",e.offset.toString()),e.start_time!=null&&t.set("start_time",e.start_time.toString()),e.end_time!=null&&t.set("end_time",e.end_time.toString()),(await this.httpClient.get(`/clob/v1/address/${encodeURIComponent(e.address)}/liquidations${t.toString()?`?${t.toString()}`:""}`,this.getHeaders())).body}async getUserTrades(e,t){let r=`/clob/v1/address/trades?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getTradeHistory(e,t){return this.getUserTrades(e,t)}async getPosition(e,t){let r=`/clob/v1/address/position?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBuckets(e){var r;const t=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(r=t.body)!=null&&r.buckets&&Array.isArray(t.body.buckets)?t.body.buckets:[]}async getBucket(e){const t=await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders()),r=t.body;return(r==null?void 0:r.bucket)!=null?r.bucket:t.body}async getMarketData(e){var u,h;const t=`/clob/v1/orderbook/${encodeURIComponent(e)}/snapshot?depth=1`,i=(await this.httpClient.get(t,this.getHeaders())).body,s=(i==null?void 0:i.bids)??[],o=(i==null?void 0:i.asks)??[],a=(u=s[0])==null?void 0:u.price,l=(h=o[0])==null?void 0:h.price;let c;return a!=null&&l!=null?c=(parseFloat(a)+parseFloat(l))/2:a!=null?c=parseFloat(a):l!=null&&(c=parseFloat(l)),{...i??{},symbol:i==null?void 0:i.symbol,assetPair:i==null?void 0:i.symbol,lastPrice:c!=null?String(c):void 0,last_price:c,markPrice:c!=null?String(c):void 0,mark_price:c}}async getMarketCandles(e,t,r){const i=new URLSearchParams({interval:t,limit:String(r)}),s=`/clob/v1/market/${encodeURIComponent(e)}/klines?${i.toString()}`,a=(await this.httpClient.get(s,this.getHeaders())).body;if(Array.isArray(a))return a;const l=a==null?void 0:a.klines;return Array.isArray(l)?l:[]}async getOrderbookSnapshot(e,t=100){const r=`/v1/stream/orderbook/${encodeURIComponent(e)}/snapshot?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getLocalChecksum(e,t=25){const r=`/v1/stream/local-checksum/${encodeURIComponent(e)}?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getStreamStats(){return(await this.httpClient.get("/v1/stream/stats",this.getHeaders())).body}async getChecksum(e,t,r,i){const s=new URLSearchParams({stream_type:e,stream_key:t});return r!=null&&s.set("depth",String(r)),i&&s.set("address",i),(await this.httpClient.get(`/v1/stream/checksum?${s.toString()}`,this.getHeaders())).body}async getOrderbookChecksum(e,t=25){var o;const r=`/clob/v1/market/${encodeURIComponent(e)}/checksum?depth=${t}`,i=await this.httpClient.get(r,this.getHeaders()),s=i.body;return{market_index:String((s==null?void 0:s.marketIndex)??e),checksum:(s==null?void 0:s.checksum)??"",sequence_id:s==null?void 0:s.sequenceId,depth:t,timestamp:(o=i.body)==null?void 0:o.timestamp}}async resyncOrderbookIfMismatch(e,t,r=25){const i=await this.getLocalChecksum(e,r);return t!=null&&i.checksum!==t?{mismatch:!0,snapshot:await this.getOrderbookSnapshot(e,r)}:{mismatch:!1}}async getNonceStatus(e,t=!1){let r=`/router/v1/nonce/status/${encodeURIComponent(e)}`;return t&&(r+="?reserve=true"),(await this.httpClient.get(r,this.getHeaders())).body}async getAuthNonce(e){const t=`/auth/v1/nonce?owner=${encodeURIComponent(e)}`;return(await this.httpClient.get(t,this.getHeaders())).body}async nonceRollback(e,t){return(await this.httpClient.post("/router/v1/nonce/rollback",{address:e,nonce:t},this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthRisk(){return(await this.httpClient.get("/router/v1/health/risk",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getHealthCircuitBreaker(){return(await this.httpClient.get("/router/v1/health/circuit-breaker",this.getHeaders())).body}async getHealthCoredaemon(){return(await this.httpClient.get("/router/v1/health/coredaemon",this.getHeaders())).body}async getHealthLive(){return(await this.httpClient.get("/health/live",this.getHeaders())).body}async getHealthReady(e,t){const r=new URLSearchParams;e&&r.set("verbose","true"),t&&r.set("strict","true");const i=r.toString(),s=i?`/health/ready?${i}`:"/health/ready";return(await this.httpClient.get(s,this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}const NY="6.16.0";async function sO(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function mi(n,e,t){for(let r in e){let i=e[r];Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Tu(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>Tu(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Tu(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${Tu(r,e)}: ${Tu(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Koe(n,e,t){let r=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Tu(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];s.push(o+"="+Tu(a))}}s.push(`code=${e}`),s.push(`version=${NY}`),s.length&&(n+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return mi(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&mi(i,{shortMessage:r}),i}function Et(n,e,t,r){if(!n)throw Koe(e,t,r)}function se(n,e,t,r){Et(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}const Xoe=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function LY(n){Et(Xoe.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function kb(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),Et(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function FY(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(n.substring(i,i+2),16),i+=2;return r}se(!1,"invalid BytesLike value",e||"value",n)}function qe(n,e){return FY(n,e,!1)}function fu(n,e){return FY(n,e,!0)}function Zs(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Cb(n){return Zs(n,!0)||n instanceof Uint8Array}const A3="0123456789abcdef";function De(n){const e=qe(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=A3[(i&240)>>4]+A3[i&15]}return t}function On(n){return"0x"+n.map(e=>De(e).substring(2)).join("")}function Zf(n){return Zs(n,!0)?(n.length-2)/2:qe(n).length}function oO(n,e,t){const r=qe(n);return t>r.length&&Et(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),De(r.slice(e,t))}function Qoe(n,e,t){const r=qe(n);Et(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(r,e-r.length),De(i)}function Ja(n,e){return Qoe(n,e)}const Eb=BigInt(0),Ml=BigInt(1),Mu=9007199254740991;function Joe(n,e){let t=Vt(n,"value");const r=BigInt(gi(e,"width")),i=Ml<<r-Ml;if(t<Eb){t=-t,Et(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(Ml<<r)-Ml;return(~t&s)+Ml}else Et(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Zoe(n,e){const t=aO(n,"value"),r=BigInt(gi(e,"bits"));return t&(Ml<<r)-Ml}function Vt(n,e){switch(typeof n){case"bigint":return n;case"number":return se(Number.isInteger(n),"underflow",e||"value",n),se(n>=-Mu&&n<=Mu,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){se(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}se(!1,"invalid BigNumberish value",e||"value",n)}function aO(n,e){const t=Vt(n,e);return Et(t>=Eb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const N3="0123456789abcdef";function $Y(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=N3[t>>4],e+=N3[t&15];return BigInt(e)}return Vt(n)}function gi(n,e){switch(typeof n){case"bigint":return se(n>=-Mu&&n<=Mu,"overflow",e||"value",n),Number(n);case"number":return se(Number.isInteger(n),"underflow",e||"value",n),se(n>=-Mu&&n<=Mu,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return gi(BigInt(n),e)}catch(t){se(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}se(!1,"invalid numeric value",e||"value",n)}function Ah(n,e){const t=aO(n,"value");let r=t.toString(16);{const i=gi(e,"width");if(i===0&&t===Eb)return"0x";for(Et(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function Pn(n,e){const t=aO(n,"value");if(t===Eb)return new Uint8Array(0);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(r.substring(o,o+2),16)}return i}function eae(n){let e=De(Cb(n)?n:Pn(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const dy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let u0=null;function tae(n){if(u0==null){u0={};for(let t=0;t<dy.length;t++)u0[dy[t]]=BigInt(t)}const e=u0[n];return se(e!=null,"invalid base58 value","letter",n),e}const nae=BigInt(0),OM=BigInt(58);function rae(n){const e=qe(n);let t=$Y(e),r="";for(;t;)r=dy[Number(t%OM)]+r,t/=OM;for(let i=0;i<e.length&&!e[i];i++)r=dy[0]+r;return r}function iae(n){let e=nae;for(let t=0;t<n.length;t++)e*=OM,e+=tae(n[t]);return e}function Zl(n,e){se(typeof n=="string","invalid string value","str",n),e!=null&&(LY(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);se(r<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function sae(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function L3(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function F3(n,e,t,r){const i=[];for(;t<e+1+r;){const s=jY(n,t);i.push(s.result),t+=s.consumed,Et(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function jY(n,e){Et(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{Et(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=L3(n,e+1,r);return t(e+1+r+i),F3(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),F3(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=L3(n,e+1,r);t(e+1+r+i);const s=De(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=De(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:sae(n[e])}}function zm(n){const e=qe(n,"data"),t=jY(e,0);return se(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function $3(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function BY(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(BY(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=$3(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(qe(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=$3(e.length);return t.unshift(183+t.length),t.concat(e)}const j3="0123456789abcdef";function Ao(n){let e="0x";for(const t of BY(n))e+=j3[t>>4],e+=j3[t&15];return e}function oae(n){const e=qe(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=De(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}function ci(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function lO(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function zY(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ci(n.outputLen),ci(n.blockLen)}function Nh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qY(n,e){lO(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Aw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UY=n=>n instanceof Uint8Array,xv=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),wv=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ms=(n,e)=>n<<32-e|n>>>e,aae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!aae)throw new Error("Non little-endian hardware is not supported");const lae=async()=>{};async function B3(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);const s=Date.now()-r;s>=0&&s<e||(await lae(),r+=s)}}function cae(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Lh(n){if(typeof n=="string"&&(n=cae(n)),!UY(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function uae(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!UY(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class cO{clone(){return this._cloneInto()}}const hae={}.toString;function WY(n,e){if(e!==void 0&&hae.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function Tb(n){const e=r=>n().update(Lh(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function dae(n=32){if(Aw&&typeof Aw.getRandomValues=="function")return Aw.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class HY extends cO{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,zY(e);const r=Lh(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Nh(this),this.iHash.update(e),this}digestInto(e){Nh(this),lO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mb=(n,e,t)=>new HY(n,e).update(t).digest();Mb.create=(n,e)=>new HY(n,e);function fae(n,e,t,r){zY(n);const i=WY({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(ci(s),ci(o),ci(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Lh(e),c=Lh(t),u=new Uint8Array(o),h=Mb.create(n,l),d=h._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}function pae(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function uO(n,e,t,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=fae(n,e,t,r);let c;const u=new Uint8Array(4),h=wv(u),d=new Uint8Array(a.outputLen);for(let f=1,m=0;m<s;f++,m+=a.outputLen){const g=o.subarray(m,m+a.outputLen);h.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(d),g.set(d.subarray(0,g.length));for(let v=1;v<i;v++){a._cloneInto(c).update(d).digestInto(d);for(let y=0;y<g.length;y++)g[y]^=d[y]}}return pae(a,l,o,c,d)}function mae(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),l=r?4:0,c=r?0:4;n.setUint32(e+l,o,r),n.setUint32(e+c,a,r)}class hO extends cO{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wv(this.buffer)}update(e){Nh(this);const{view:t,buffer:r,blockLen:i}=this;e=Lh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=wv(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nh(this),qY(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)t[h]=0;mae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=wv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}const gae=(n,e,t)=>n&e^~n&t,vae=(n,e,t)=>n&e^n&t^e&t,yae=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),na=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ra=new Uint32Array(64);class bae extends hO{constructor(){super(64,32,8,!1),this.A=na[0]|0,this.B=na[1]|0,this.C=na[2]|0,this.D=na[3]|0,this.E=na[4]|0,this.F=na[5]|0,this.G=na[6]|0,this.H=na[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,t,r,i,s,o,a,l]}set(e,t,r,i,s,o,a,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let h=0;h<16;h++,t+=4)ra[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const d=ra[h-15],f=ra[h-2],m=Ms(d,7)^Ms(d,18)^d>>>3,g=Ms(f,17)^Ms(f,19)^f>>>10;ra[h]=g+ra[h-7]+m+ra[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const d=Ms(a,6)^Ms(a,11)^Ms(a,25),f=u+d+gae(a,l,c)+yae[h]+ra[h]|0,g=(Ms(r,2)^Ms(r,13)^Ms(r,22))+vae(r,i,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ra.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const cd=Tb(()=>new bae),h0=BigInt(2**32-1),RM=BigInt(32);function YY(n,e=!1){return e?{h:Number(n&h0),l:Number(n>>RM&h0)}:{h:Number(n>>RM&h0)|0,l:Number(n&h0)|0}}function GY(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:o}=YY(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}const xae=(n,e)=>BigInt(n>>>0)<<RM|BigInt(e>>>0),wae=(n,e,t)=>n>>>t,_ae=(n,e,t)=>n<<32-t|e>>>t,Sae=(n,e,t)=>n>>>t|e<<32-t,kae=(n,e,t)=>n<<32-t|e>>>t,Cae=(n,e,t)=>n<<64-t|e>>>t-32,Eae=(n,e,t)=>n>>>t-32|e<<64-t,Tae=(n,e)=>e,Mae=(n,e)=>n,VY=(n,e,t)=>n<<t|e>>>32-t,KY=(n,e,t)=>e<<t|n>>>32-t,XY=(n,e,t)=>e<<t-32|n>>>64-t,QY=(n,e,t)=>n<<t-32|e>>>64-t;function Pae(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const Iae=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Oae=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Rae=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Dae=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Aae=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Nae=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,ut={fromBig:YY,split:GY,toBig:xae,shrSH:wae,shrSL:_ae,rotrSH:Sae,rotrSL:kae,rotrBH:Cae,rotrBL:Eae,rotr32H:Tae,rotr32L:Mae,rotlSH:VY,rotlSL:KY,rotlBH:XY,rotlBL:QY,add:Pae,add3L:Iae,add3H:Oae,add4L:Rae,add4H:Dae,add5H:Nae,add5L:Aae},[Lae,Fae]=ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ia=new Uint32Array(80),sa=new Uint32Array(80);class $ae extends hO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:d,Gh:f,Gl:m,Hh:g,Hl:v}=this;return[e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v]}set(e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=f|0,this.Gl=m|0,this.Hh=g|0,this.Hl=v|0}process(e,t){for(let w=0;w<16;w++,t+=4)ia[w]=e.getUint32(t),sa[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const S=ia[w-15]|0,_=sa[w-15]|0,k=ut.rotrSH(S,_,1)^ut.rotrSH(S,_,8)^ut.shrSH(S,_,7),E=ut.rotrSL(S,_,1)^ut.rotrSL(S,_,8)^ut.shrSL(S,_,7),C=ia[w-2]|0,O=sa[w-2]|0,R=ut.rotrSH(C,O,19)^ut.rotrBH(C,O,61)^ut.shrSH(C,O,6),D=ut.rotrSL(C,O,19)^ut.rotrBL(C,O,61)^ut.shrSL(C,O,6),F=ut.add4L(E,D,sa[w-7],sa[w-16]),N=ut.add4H(F,k,R,ia[w-7],ia[w-16]);ia[w]=N|0,sa[w]=F|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:d,Fh:f,Fl:m,Gh:g,Gl:v,Hh:y,Hl:b}=this;for(let w=0;w<80;w++){const S=ut.rotrSH(h,d,14)^ut.rotrSH(h,d,18)^ut.rotrBH(h,d,41),_=ut.rotrSL(h,d,14)^ut.rotrSL(h,d,18)^ut.rotrBL(h,d,41),k=h&f^~h&g,E=d&m^~d&v,C=ut.add5L(b,_,E,Fae[w],sa[w]),O=ut.add5H(C,y,S,k,Lae[w],ia[w]),R=C|0,D=ut.rotrSH(r,i,28)^ut.rotrBH(r,i,34)^ut.rotrBH(r,i,39),F=ut.rotrSL(r,i,28)^ut.rotrBL(r,i,34)^ut.rotrBL(r,i,39),N=r&s^r&a^s&a,W=i&o^i&l^o&l;y=g|0,b=v|0,g=f|0,v=m|0,f=h|0,m=d|0,{h,l:d}=ut.add(c|0,u|0,O|0,R|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const j=ut.add3L(R,F,W);r=ut.add3H(j,O,D,N),i=j|0}({h:r,l:i}=ut.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ut.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=ut.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=ut.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:d}=ut.add(this.Eh|0,this.El|0,h|0,d|0),{h:f,l:m}=ut.add(this.Fh|0,this.Fl|0,f|0,m|0),{h:g,l:v}=ut.add(this.Gh|0,this.Gl|0,g|0,v|0),{h:y,l:b}=ut.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b)}roundClean(){ia.fill(0),sa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dO=Tb(()=>new $ae);function jae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const z3=jae(),q3=z3.crypto||z3.msCrypto;function Bae(n){switch(n){case"sha256":return cd.create();case"sha512":return dO.create()}se(!1,"invalid hashing algorithm name","algorithm",n)}function zae(n,e){const t={sha256:cd,sha512:dO}[n];return se(t!=null,"invalid hmac algorithm","algorithm",n),Mb.create(t,e)}function qae(n,e,t,r,i){const s={sha256:cd,sha512:dO}[i];return se(s!=null,"invalid pbkdf2 algorithm","algorithm",i),uO(s,n,e,{c:t,dkLen:r})}function Uae(n){Et(q3!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),se(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return q3.getRandomValues(e),e}let JY=!1;const ZY=function(n,e,t){return zae(n,e).update(t).digest()};let eG=ZY;function ud(n,e,t){const r=qe(e,"key"),i=qe(t,"data");return De(eG(n,r,i))}ud._=ZY;ud.lock=function(){JY=!0};ud.register=function(n){if(JY)throw new Error("computeHmac is locked");eG=n};Object.freeze(ud);const[tG,nG,rG]=[[],[],[]],Wae=BigInt(0),Zd=BigInt(1),Hae=BigInt(2),Yae=BigInt(7),Gae=BigInt(256),Vae=BigInt(113);for(let n=0,e=Zd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],tG.push(2*(5*r+t)),nG.push((n+1)*(n+2)/2%64);let i=Wae;for(let s=0;s<7;s++)e=(e<<Zd^(e>>Yae)*Vae)%Gae,e&Hae&&(i^=Zd<<(Zd<<BigInt(s))-Zd);rG.push(i)}const[Kae,Xae]=GY(rG,!0),U3=(n,e,t)=>t>32?XY(n,e,t):VY(n,e,t),W3=(n,e,t)=>t>32?QY(n,e,t):KY(n,e,t);function Qae(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=U3(c,u,1)^t[a],d=W3(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=nG[o],l=U3(i,s,a),c=W3(i,s,a),u=tG[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Kae[r],n[1]^=Xae[r]}t.fill(0)}class fO extends cO{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ci(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xv(this.state)}keccak(){Qae(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Nh(this);const{blockLen:t,state:r}=this;e=Lh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Nh(this,!1),lO(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ci(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new fO(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Jae=(n,e,t)=>Tb(()=>new fO(e,n,t)),Zae=Jae(1,136,256/8);let iG=!1;const sG=function(n){return Zae(n)};let oG=sG;function Vn(n){const e=qe(n,"data");return De(oG(e))}Vn._=sG;Vn.lock=function(){iG=!0};Vn.register=function(n){if(iG)throw new TypeError("keccak256 is locked");oG=n};Object.freeze(Vn);const ele=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),aG=Uint8Array.from({length:16},(n,e)=>e),tle=aG.map(n=>(9*n+5)%16);let pO=[aG],mO=[tle];for(let n=0;n<4;n++)for(let e of[pO,mO])e.push(e[n].map(t=>ele[t]));const lG=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),nle=pO.map((n,e)=>n.map(t=>lG[e][t])),rle=mO.map((n,e)=>n.map(t=>lG[e][t])),ile=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),sle=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),d0=(n,e)=>n<<e|n>>>32-e;function H3(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}const f0=new Uint32Array(16);class ole extends hO{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:s}=this;return[e,t,r,i,s]}set(e,t,r,i,s){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let f=0;f<16;f++,t+=4)f0[f]=e.getUint32(t,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,u=c,h=this.h4|0,d=h;for(let f=0;f<5;f++){const m=4-f,g=ile[f],v=sle[f],y=pO[f],b=mO[f],w=nle[f],S=rle[f];for(let _=0;_<16;_++){const k=d0(r+H3(f,s,a,c)+f0[y[_]]+g,w[_])+h|0;r=h,h=c,c=d0(a,10)|0,a=s,s=k}for(let _=0;_<16;_++){const k=d0(i+H3(m,o,l,u)+f0[b[_]]+v,S[_])+d|0;i=d,d=u,u=d0(l,10)|0,l=o,o=k}}this.set(this.h1+a+u|0,this.h2+c+d|0,this.h3+h+i|0,this.h4+r+o|0,this.h0+s+l|0)}roundClean(){f0.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ale=Tb(()=>new ole);let cG=!1;const uG=function(n){return ale(n)};let hG=uG;function hd(n){const e=qe(n,"data");return De(hG(e))}hd._=uG;hd.lock=function(){cG=!0};hd.register=function(n){if(cG)throw new TypeError("ripemd160 is locked");hG=n};Object.freeze(hd);let dG=!1;const fG=function(n,e,t,r,i){return qae(n,e,t,r,i)};let pG=fG;function qm(n,e,t,r,i){const s=qe(n,"password"),o=qe(e,"salt");return De(pG(s,o,t,r,i))}qm._=fG;qm.lock=function(){dG=!0};qm.register=function(n){if(dG)throw new Error("pbkdf2 is locked");pG=n};Object.freeze(qm);let mG=!1;const gG=function(n){return new Uint8Array(Uae(n))};let vG=gG;function No(n){return vG(n)}No._=gG;No.lock=function(){mG=!0};No.register=function(n){if(mG)throw new Error("randomBytes is locked");vG=n};Object.freeze(No);const Ot=(n,e)=>n<<e|n>>>32-e;function Y3(n,e,t,r,i,s){let o=n[e++]^t[r++],a=n[e++]^t[r++],l=n[e++]^t[r++],c=n[e++]^t[r++],u=n[e++]^t[r++],h=n[e++]^t[r++],d=n[e++]^t[r++],f=n[e++]^t[r++],m=n[e++]^t[r++],g=n[e++]^t[r++],v=n[e++]^t[r++],y=n[e++]^t[r++],b=n[e++]^t[r++],w=n[e++]^t[r++],S=n[e++]^t[r++],_=n[e++]^t[r++],k=o,E=a,C=l,O=c,R=u,D=h,F=d,N=f,W=m,j=g,$=v,z=y,B=b,q=w,U=S,V=_;for(let K=0;K<8;K+=2)R^=Ot(k+B|0,7),W^=Ot(R+k|0,9),B^=Ot(W+R|0,13),k^=Ot(B+W|0,18),j^=Ot(D+E|0,7),q^=Ot(j+D|0,9),E^=Ot(q+j|0,13),D^=Ot(E+q|0,18),U^=Ot($+F|0,7),C^=Ot(U+$|0,9),F^=Ot(C+U|0,13),$^=Ot(F+C|0,18),O^=Ot(V+z|0,7),N^=Ot(O+V|0,9),z^=Ot(N+O|0,13),V^=Ot(z+N|0,18),E^=Ot(k+O|0,7),C^=Ot(E+k|0,9),O^=Ot(C+E|0,13),k^=Ot(O+C|0,18),F^=Ot(D+R|0,7),N^=Ot(F+D|0,9),R^=Ot(N+F|0,13),D^=Ot(R+N|0,18),z^=Ot($+j|0,7),W^=Ot(z+$|0,9),j^=Ot(W+z|0,13),$^=Ot(j+W|0,18),B^=Ot(V+U|0,7),q^=Ot(B+V|0,9),U^=Ot(q+B|0,13),V^=Ot(U+q|0,18);i[s++]=o+k|0,i[s++]=a+E|0,i[s++]=l+C|0,i[s++]=c+O|0,i[s++]=u+R|0,i[s++]=h+D|0,i[s++]=d+F|0,i[s++]=f+N|0,i[s++]=m+W|0,i[s++]=g+j|0,i[s++]=v+$|0,i[s++]=y+z|0,i[s++]=b+B|0,i[s++]=w+q|0,i[s++]=S+U|0,i[s++]=_+V|0}function Uu(n,e,t,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)t[o+a]=n[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)Y3(t,o,n,e,t,s),a>0&&(o+=16),Y3(t,s,n,e+=16,t,o)}function yG(n,e,t){const r=WY({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if(ci(i),ci(s),ci(o),ci(a),ci(l),ci(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const h=128*s,d=h/4;if(i<=1||i&i-1||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(i+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);const m=uO(cd,n,e,{c:1,dkLen:h*o}),g=xv(m),v=xv(new Uint8Array(h*i)),y=xv(new Uint8Array(h));let b=()=>{};if(u){const w=2*i*o,S=Math.max(Math.floor(w/1e4),1);let _=0;b=()=>{_++,u&&(!(_%S)||_===w)&&u(_/w)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:d,V:v,B32:g,B:m,tmp:y,blockMixCb:b,asyncTick:l}}function bG(n,e,t,r,i){const s=uO(cd,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),s}function lle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d}=yG(n,e,t);for(let f=0;f<s;f++){const m=a*f;for(let g=0;g<a;g++)l[g]=c[m+g];for(let g=0,v=0;g<r-1;g++)Uu(l,v,l,v+=a,i),d();Uu(l,(r-1)*a,c,m,i),d();for(let g=0;g<r;g++){const v=c[m+a-16]%r;for(let y=0;y<a;y++)h[y]=c[m+y]^l[v*a+y];Uu(h,0,c,m,i),d()}}return bG(n,o,u,l,h)}async function cle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d,asyncTick:f}=yG(n,e,t);for(let m=0;m<s;m++){const g=a*m;for(let y=0;y<a;y++)l[y]=c[g+y];let v=0;await B3(r-1,f,()=>{Uu(l,v,l,v+=a,i),d()}),Uu(l,(r-1)*a,c,g,i),d(),await B3(r,f,()=>{const y=c[g+a-16]%r;for(let b=0;b<a;b++)h[b]=c[g+b]^l[y*a+b];Uu(h,0,c,g,i),d()})}return bG(n,o,u,l,h)}let xG=!1,wG=!1;const _G=async function(n,e,t,r,i,s,o){return await cle(n,e,{N:t,r,p:i,dkLen:s,onProgress:o})},SG=function(n,e,t,r,i,s){return lle(n,e,{N:t,r,p:i,dkLen:s})};let kG=_G,CG=SG;async function Um(n,e,t,r,i,s,o){const a=qe(n,"passwd"),l=qe(e,"salt");return De(await kG(a,l,t,r,i,s,o))}Um._=_G;Um.lock=function(){wG=!0};Um.register=function(n){if(wG)throw new Error("scrypt is locked");kG=n};Object.freeze(Um);function Wm(n,e,t,r,i,s){const o=qe(n,"passwd"),a=qe(e,"salt");return De(CG(o,a,t,r,i,s))}Wm._=SG;Wm.lock=function(){xG=!0};Wm.register=function(n){if(xG)throw new Error("scryptSync is locked");CG=n};Object.freeze(Wm);const EG=function(n){return Bae("sha256").update(n).digest()};let TG=EG,MG=!1;function Ki(n){const e=qe(n,"data");return De(TG(e))}Ki._=EG;Ki.lock=function(){MG=!0};Ki.register=function(n){if(MG)throw new Error("sha256 is locked");TG=n};Object.freeze(Ki);Object.freeze(Ki);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PG=BigInt(0),Pb=BigInt(1),ule=BigInt(2),Ib=n=>n instanceof Uint8Array,hle=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Fh(n){if(!Ib(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=hle[n[t]];return e}function IG(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function gO(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function $h(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,s=n.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function ec(n){return gO(Fh(n))}function vO(n){if(!Ib(n))throw new Error("Uint8Array expected");return gO(Fh(Uint8Array.from(n).reverse()))}function jh(n,e){return $h(n.toString(16).padStart(e*2,"0"))}function yO(n,e){return jh(n,e).reverse()}function dle(n){return $h(IG(n))}function os(n,e,t){let r;if(typeof e=="string")try{r=$h(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Ib(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function nm(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!Ib(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function fle(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function ple(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function mle(n){let e;for(e=0;n>PG;n>>=Pb,e+=1);return e}function gle(n,e){return n>>BigInt(e)&Pb}const vle=(n,e,t)=>n|(t?Pb:PG)<<BigInt(e),bO=n=>(ule<<BigInt(n-1))-Pb,Nw=n=>new Uint8Array(n),G3=n=>Uint8Array.from(n);function OG(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Nw(n),i=Nw(n),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>t(i,r,...h),l=(h=Nw())=>{i=a(G3([0]),h),r=a(),h.length!==0&&(i=a(G3([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<e;){r=a();const f=r.slice();d.push(f),h+=r.length}return nm(...d)};return(h,d)=>{o(),l(h);let f;for(;!(f=d(c()));)l();return o(),f}}const yle={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Hm(n,e,t={}){const r=(i,s,o)=>{const a=yle[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=n[i];if(!(o&&l===void 0)&&!a(l,n))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const ble=Object.freeze(Object.defineProperty({__proto__:null,bitGet:gle,bitLen:mle,bitMask:bO,bitSet:vle,bytesToHex:Fh,bytesToNumberBE:ec,bytesToNumberLE:vO,concatBytes:nm,createHmacDrbg:OG,ensureBytes:os,equalBytes:fle,hexToBytes:$h,hexToNumber:gO,numberToBytesBE:jh,numberToBytesLE:yO,numberToHexUnpadded:IG,numberToVarBytesBE:dle,utf8ToBytes:ple,validateObject:Hm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kn=BigInt(0),Mn=BigInt(1),Pl=BigInt(2),xle=BigInt(3),DM=BigInt(4),V3=BigInt(5),K3=BigInt(8);BigInt(9);BigInt(16);function zr(n,e){const t=n%e;return t>=Kn?t:e+t}function wle(n,e,t){if(t<=Kn||e<Kn)throw new Error("Expected power/modulo > 0");if(t===Mn)return Kn;let r=Mn;for(;e>Kn;)e&Mn&&(r=r*n%t),n=n*n%t,e>>=Mn;return r}function Ei(n,e,t){let r=n;for(;e-- >Kn;)r*=r,r%=t;return r}function AM(n,e){if(n===Kn||e<=Kn)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=zr(n,e),r=e,i=Kn,s=Mn;for(;t!==Kn;){const a=r/t,l=r%t,c=i-s*a;r=t,t=l,i=s,s=c}if(r!==Mn)throw new Error("invert: does not exist");return zr(i,e)}function _le(n){const e=(n-Mn)/Pl;let t,r,i;for(t=n-Mn,r=0;t%Pl===Kn;t/=Pl,r++);for(i=Pl;i<n&&wle(i,e,n)!==n-Mn;i++);if(r===1){const o=(n+Mn)/DM;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(t+Mn)/Pl;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),t),h=a.pow(l,s),d=a.pow(l,t);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(d);f<c&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const m=a.pow(u,Mn<<BigInt(c-f-1));u=a.sqr(m),h=a.mul(h,m),d=a.mul(d,u),c=f}return h}}function Sle(n){if(n%DM===xle){const e=(n+Mn)/DM;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%K3===V3){const e=(n-V3)/K3;return function(r,i){const s=r.mul(i,Pl),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Pl),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return _le(n)}const kle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cle(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=kle.reduce((r,i)=>(r[i]="function",r),e);return Hm(n,t)}function Ele(n,e,t){if(t<Kn)throw new Error("Expected power > 0");if(t===Kn)return n.ONE;if(t===Mn)return e;let r=n.ONE,i=e;for(;t>Kn;)t&Mn&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Mn;return r}function Tle(n,e){const t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function RG(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Mle(n,e,t=!1,r={}){if(n<=Kn)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=RG(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Sle(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:bO(i),ZERO:Kn,ONE:Mn,create:l=>zr(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Kn<=l&&l<n},is0:l=>l===Kn,isOdd:l=>(l&Mn)===Mn,neg:l=>zr(-l,n),eql:(l,c)=>l===c,sqr:l=>zr(l*l,n),add:(l,c)=>zr(l+c,n),sub:(l,c)=>zr(l-c,n),mul:(l,c)=>zr(l*c,n),pow:(l,c)=>Ele(a,l,c),div:(l,c)=>zr(l*AM(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>AM(l,n),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>Tle(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>t?yO(l,s):jh(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?vO(l):ec(l)}});return Object.freeze(a)}function DG(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function AG(n){const e=DG(n);return e+Math.ceil(e/2)}function Ple(n,e,t=!1){const r=n.length,i=DG(e),s=AG(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=t?ec(n):vO(n),a=zr(o,e-Mn)+Mn;return t?yO(a,i):jh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ile=BigInt(0),Lw=BigInt(1);function Ole(n,e){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>Ile;)s&Lw&&(o=o.add(a)),a=a.double(),s>>=Lw;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=n.ZERO,u=n.BASE;const h=BigInt(2**i-1),d=2**i,f=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let v=Number(o&h);o>>=f,v>l&&(v-=d,o+=Lw);const y=g,b=g+Math.abs(v)-1,w=m%2!==0,S=v<0;v===0?u=u.add(t(w,s[y])):c=c.add(t(S,s[b]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function NG(n){return Cle(n.Fp),Hm(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RG(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rle(n){const e=NG(n);Hm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Dle,hexToBytes:Ale}=ble,Nl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Nl;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Dle(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Nl,t=typeof n=="string"?Ale(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Nl._parseInt(t.subarray(2)),{d:o,l:a}=Nl._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),l=t(o);return`30${t(o+s+4)}02${l}${i}02${a}${r}`}},Mo=BigInt(0),$i=BigInt(1);BigInt(2);const X3=BigInt(3);BigInt(4);function Nle(n){const e=Rle(n),{Fp:t}=e,r=e.toBytes||((m,g,v)=>{const y=g.toAffine();return nm(Uint8Array.from([4]),t.toBytes(y.x),t.toBytes(y.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),v=t.fromBytes(g.subarray(0,t.BYTES)),y=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:v,y}});function s(m){const{a:g,b:v}=e,y=t.sqr(m),b=t.mul(y,m);return t.add(t.add(b,t.mul(m,g)),v)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Mo<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:y,n:b}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Fh(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(v*2,"0")}let w;try{w=typeof m=="bigint"?m:ec(os("private key",m,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof m}`)}return y&&(w=zr(w,b)),a(w),w}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,v,y){if(this.px=g,this.py=v,this.pz=y,g==null||!t.isValid(g))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(y==null||!t.isValid(y))throw new Error("z required")}static fromAffine(g){const{x:v,y}=g||{};if(!g||!t.isValid(v)||!t.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const b=w=>t.eql(w,t.ZERO);return b(v)&&b(y)?h.ZERO:new h(v,y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=t.invertBatch(g.map(y=>y.pz));return g.map((y,b)=>y.toAffine(v[b])).map(h.fromAffine)}static fromHex(g){const v=h.fromAffine(i(os("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=this.toAffine();if(!t.isValid(g)||!t.isValid(v))throw new Error("bad point: x or y not FE");const y=t.sqr(v),b=s(g);if(!t.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g,k=t.eql(t.mul(v,_),t.mul(w,b)),E=t.eql(t.mul(y,_),t.mul(S,b));return k&&E}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:v}=e,y=t.mul(v,X3),{px:b,py:w,pz:S}=this;let _=t.ZERO,k=t.ZERO,E=t.ZERO,C=t.mul(b,b),O=t.mul(w,w),R=t.mul(S,S),D=t.mul(b,w);return D=t.add(D,D),E=t.mul(b,S),E=t.add(E,E),_=t.mul(g,E),k=t.mul(y,R),k=t.add(_,k),_=t.sub(O,k),k=t.add(O,k),k=t.mul(_,k),_=t.mul(D,_),E=t.mul(y,E),R=t.mul(g,R),D=t.sub(C,R),D=t.mul(g,D),D=t.add(D,E),E=t.add(C,C),C=t.add(E,C),C=t.add(C,R),C=t.mul(C,D),k=t.add(k,C),R=t.mul(w,S),R=t.add(R,R),C=t.mul(R,D),_=t.sub(_,C),E=t.mul(R,O),E=t.add(E,E),E=t.add(E,E),new h(_,k,E)}add(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g;let k=t.ZERO,E=t.ZERO,C=t.ZERO;const O=e.a,R=t.mul(e.b,X3);let D=t.mul(v,w),F=t.mul(y,S),N=t.mul(b,_),W=t.add(v,y),j=t.add(w,S);W=t.mul(W,j),j=t.add(D,F),W=t.sub(W,j),j=t.add(v,b);let $=t.add(w,_);return j=t.mul(j,$),$=t.add(D,N),j=t.sub(j,$),$=t.add(y,b),k=t.add(S,_),$=t.mul($,k),k=t.add(F,N),$=t.sub($,k),C=t.mul(O,j),k=t.mul(R,N),C=t.add(k,C),k=t.sub(F,C),C=t.add(F,C),E=t.mul(k,C),F=t.add(D,D),F=t.add(F,D),N=t.mul(O,N),j=t.mul(R,j),F=t.add(F,N),N=t.sub(D,N),N=t.mul(O,N),j=t.add(j,N),D=t.mul(F,j),E=t.add(E,D),D=t.mul($,j),k=t.mul(W,k),k=t.sub(k,D),D=t.mul(W,F),C=t.mul($,C),C=t.add(C,D),new h(k,E,C)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return f.wNAFCached(this,c,g,v=>{const y=t.invertBatch(v.map(b=>b.pz));return v.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)})}multiplyUnsafe(g){const v=h.ZERO;if(g===Mo)return v;if(a(g),g===$i)return this;const{endo:y}=e;if(!y)return f.unsafeLadder(this,g);let{k1neg:b,k1:w,k2neg:S,k2:_}=y.splitScalar(g),k=v,E=v,C=this;for(;w>Mo||_>Mo;)w&$i&&(k=k.add(C)),_&$i&&(E=E.add(C)),C=C.double(),w>>=$i,_>>=$i;return b&&(k=k.negate()),S&&(E=E.negate()),E=new h(t.mul(E.px,y.beta),E.py,E.pz),k.add(E)}multiply(g){a(g);let v=g,y,b;const{endo:w}=e;if(w){const{k1neg:S,k1:_,k2neg:k,k2:E}=w.splitScalar(v);let{p:C,f:O}=this.wNAF(_),{p:R,f:D}=this.wNAF(E);C=f.constTimeNegate(S,C),R=f.constTimeNegate(k,R),R=new h(t.mul(R.px,w.beta),R.py,R.pz),y=C.add(R),b=O.add(D)}else{const{p:S,f:_}=this.wNAF(v);y=S,b=_}return h.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(g,v,y){const b=h.BASE,w=(_,k)=>k===Mo||k===$i||!_.equals(b)?_.multiplyUnsafe(k):_.multiply(k),S=w(this,v).add(w(g,y));return S.is0()?void 0:S}toAffine(g){const{px:v,py:y,pz:b}=this,w=this.is0();g==null&&(g=w?t.ONE:t.inv(b));const S=t.mul(v,g),_=t.mul(y,g),k=t.mul(b,g);if(w)return{x:t.ZERO,y:t.ZERO};if(!t.eql(k,t.ONE))throw new Error("invZ was invalid");return{x:S,y:_}}isTorsionFree(){const{h:g,isTorsionFree:v}=e;if(g===$i)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=e;return g===$i?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return Fh(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,f=Ole(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Lle(n){const e=NG(n);return Hm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Fle(n){const e=Lle(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(j){return Mo<j&&j<t.ORDER}function a(j){return zr(j,r)}function l(j){return AM(j,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=Nle({...e,toBytes(j,$,z){const B=$.toAffine(),q=t.toBytes(B.x),U=nm;return z?U(Uint8Array.from([$.hasEvenY()?2:3]),q):U(Uint8Array.from([4]),q,t.toBytes(B.y))},fromBytes(j){const $=j.length,z=j[0],B=j.subarray(1);if($===i&&(z===2||z===3)){const q=ec(B);if(!o(q))throw new Error("Point is not on curve");const U=h(q);let V=t.sqrt(U);const K=(V&$i)===$i;return(z&1)===1!==K&&(V=t.neg(V)),{x:q,y:V}}else if($===s&&z===4){const q=t.fromBytes(B.subarray(0,t.BYTES)),U=t.fromBytes(B.subarray(t.BYTES,2*t.BYTES));return{x:q,y:U}}else throw new Error(`Point of length ${$} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),f=j=>Fh(jh(j,e.nByteLength));function m(j){const $=r>>$i;return j>$}function g(j){return m(j)?a(-j):j}const v=(j,$,z)=>ec(j.slice($,z));class y{constructor($,z,B){this.r=$,this.s=z,this.recovery=B,this.assertValidity()}static fromCompact($){const z=e.nByteLength;return $=os("compactSignature",$,z*2),new y(v($,0,z),v($,z,2*z))}static fromDER($){const{r:z,s:B}=Nl.toSig(os("DER",$));return new y(z,B)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($){return new y(this.r,this.s,$)}recoverPublicKey($){const{r:z,s:B,recovery:q}=this,U=E(os("msgHash",$));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const V=q===2||q===3?z+e.n:z;if(V>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=q&1?"03":"02",X=c.fromHex(K+f(V)),L=l(V),Y=a(-U*L),Q=a(B*L),ee=c.BASE.multiplyAndAddUnsafe(X,Y,Q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return $h(this.toDERHex())}toDERHex(){return Nl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $h(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(j){try{return u(j),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const j=AG(e.n);return Ple(e.randomBytes(j),e.n)},precompute(j=8,$=c.BASE){return $._setWindowSize(j),$.multiply(BigInt(3)),$}};function w(j,$=!0){return c.fromPrivateKey(j).toRawBytes($)}function S(j){const $=j instanceof Uint8Array,z=typeof j=="string",B=($||z)&&j.length;return $?B===i||B===s:z?B===2*i||B===2*s:j instanceof c}function _(j,$,z=!0){if(S(j))throw new Error("first arg must be private key");if(!S($))throw new Error("second arg must be public key");return c.fromHex($).multiply(u(j)).toRawBytes(z)}const k=e.bits2int||function(j){const $=ec(j),z=j.length*8-e.nBitLength;return z>0?$>>BigInt(z):$},E=e.bits2int_modN||function(j){return a(k(j))},C=bO(e.nBitLength);function O(j){if(typeof j!="bigint")throw new Error("bigint expected");if(!(Mo<=j&&j<C))throw new Error(`bigint expected < 2^${e.nBitLength}`);return jh(j,e.nByteLength)}function R(j,$,z=D){if(["recovered","canonical"].some(re=>re in z))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:q}=e;let{lowS:U,prehash:V,extraEntropy:K}=z;U==null&&(U=!0),j=os("msgHash",j),V&&(j=os("prehashed msgHash",B(j)));const X=E(j),L=u($),Y=[O(L),O(X)];if(K!=null){const re=K===!0?q(t.BYTES):K;Y.push(os("extraEntropy",re))}const Q=nm(...Y),ee=X;function te(re){const ae=k(re);if(!d(ae))return;const he=l(ae),J=c.BASE.multiply(ae).toAffine(),ne=a(J.x);if(ne===Mo)return;const ye=a(he*a(ee+ne*L));if(ye===Mo)return;let oe=(J.x===ne?0:2)|Number(J.y&$i),be=ye;return U&&m(ye)&&(be=g(ye),oe^=1),new y(ne,be,oe)}return{seed:Q,k2sig:te}}const D={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function N(j,$,z=D){const{seed:B,k2sig:q}=R(j,$,z),U=e;return OG(U.hash.outputLen,U.nByteLength,U.hmac)(B,q)}c.BASE._setWindowSize(8);function W(j,$,z,B=F){var J;const q=j;if($=os("msgHash",$),z=os("publicKey",z),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:V}=B;let K,X;try{if(typeof q=="string"||q instanceof Uint8Array)try{K=y.fromDER(q)}catch(ne){if(!(ne instanceof Nl.Err))throw ne;K=y.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:ne,s:ye}=q;K=new y(ne,ye)}else throw new Error("PARSE");X=c.fromHex(z)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&K.hasHighS())return!1;V&&($=e.hash($));const{r:L,s:Y}=K,Q=E($),ee=l(Y),te=a(Q*ee),re=a(L*ee),ae=(J=c.BASE.multiplyAndAddUnsafe(X,te,re))==null?void 0:J.toAffine();return ae?a(ae.x)===L:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:_,sign:N,verify:W,ProjectivePoint:c,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $le(n){return{hash:n,hmac:(e,...t)=>Mb(n,e,uae(...t)),randomBytes:dae}}function jle(n,e){const t=r=>Fle({...n,...$le(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const LG=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Q3=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ble=BigInt(1),NM=BigInt(2),J3=(n,e)=>(n+e/NM)/e;function zle(n){const e=LG,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=n*n*n%e,u=c*c*n%e,h=Ei(u,t,e)*u%e,d=Ei(h,t,e)*u%e,f=Ei(d,NM,e)*c%e,m=Ei(f,i,e)*f%e,g=Ei(m,s,e)*m%e,v=Ei(g,a,e)*g%e,y=Ei(v,l,e)*v%e,b=Ei(y,a,e)*g%e,w=Ei(b,t,e)*u%e,S=Ei(w,o,e)*m%e,_=Ei(S,r,e)*c%e,k=Ei(_,NM,e);if(!LM.eql(LM.sqr(k),n))throw new Error("Cannot find square root");return k}const LM=Mle(LG,void 0,void 0,{sqrt:zle}),fa=jle({a:BigInt(0),b:BigInt(7),Fp:LM,n:Q3,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Q3,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ble*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=J3(s*n,e),l=J3(-r*n,e);let c=zr(n-a*t-l*i,e),u=zr(-a*r-l*s,e);const h=c>o,d=u>o;if(h&&(c=e-c),d&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},cd);BigInt(0);fa.ProjectivePoint;const FG="0x0000000000000000000000000000000000000000",Z3="0x0000000000000000000000000000000000000000000000000000000000000000",qle=`Ethereum Signed Message:
`,eN=BigInt(0),tN=BigInt(1),FM=BigInt(2),nN=BigInt(27),rN=BigInt(28),p0=BigInt(35),$G=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ule=$G/FM,Wle=Symbol.for("nodejs.util.inspect.custom"),ml={};function Fw(n){return Ja(Pn(n),32)}var ih,zs,sh,Ma;const Ai=class Ai{constructor(e,t,r,i){Ie(this,ih);Ie(this,zs);Ie(this,sh);Ie(this,Ma);kb(e,ml,"Signature"),fe(this,ih,t),fe(this,zs,r),fe(this,sh,i),fe(this,Ma,null)}get r(){return Z(this,ih)}set r(e){se(Zf(e)===32,"invalid r","value",e),fe(this,ih,De(e))}get s(){return se(parseInt(Z(this,zs).substring(0,3))<8,"non-canonical s; use ._s","s",Z(this,zs)),Z(this,zs)}set s(e){se(Zf(e)===32,"invalid s","value",e),fe(this,zs,De(e))}get _s(){return Z(this,zs)}isValid(){return BigInt(Z(this,zs))<=Ule}get v(){return Z(this,sh)}set v(e){const t=gi(e,"value");se(t===27||t===28,"invalid v","v",e),fe(this,sh,t)}get networkV(){return Z(this,Ma)}get legacyChainId(){const e=this.networkV;return e==null?null:Ai.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=qe(this.s);return this.yParity&&(e[0]|=128),De(e)}get compactSerialized(){return On([this.r,this.yParityAndS])}get serialized(){return On([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=$G-BigInt(this._s),t=55-this.v,r=new Ai(ml,this.r,Fw(e),t);return this.networkV&&fe(r,Ma,this.networkV),r}clone(){const e=new Ai(ml,this.r,this._s,this.v);return this.networkV&&fe(e,Ma,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[Wle](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=Vt(e,"v");return t==nN||t==rN?eN:(se(t>=p0,"invalid EIP-155 v","v",e),(t-p0)/FM)}static getChainIdV(e,t){return Vt(e)*FM+BigInt(35+t-27)}static getNormalizedV(e){const t=Vt(e);return t===eN||t===nN?27:t===tN||t===rN?28:(se(t>=p0,"invalid v","v",e),t&tN?27:28)}static from(e){function t(c,u){se(c,u,"signature",e)}if(e==null)return new Ai(ml,Z3,Z3,27);if(typeof e=="string"){const c=qe(e,"signature");if(c.length===64){const u=De(c.slice(0,32)),h=c.slice(32,64),d=h[0]&128?28:27;return h[0]&=127,new Ai(ml,u,De(h),d)}if(c.length===65){const u=De(c.slice(0,32)),h=De(c.slice(32,64)),d=Ai.getNormalizedV(c[64]);return new Ai(ml,u,h,d)}t(!1,"invalid raw signature length")}if(e instanceof Ai)return e.clone();const r=e.r;t(r!=null,"missing r");const i=Fw(r),s=function(c,u){if(c!=null)return Fw(c);if(u!=null){t(Zs(u,32),"invalid yParityAndS");const h=qe(u);return h[0]&=127,De(h)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const d=Vt(c);return{networkV:d>=p0?d:void 0,v:Ai.getNormalizedV(d)}}if(u!=null)return t(Zs(u,32),"invalid yParityAndS"),{v:qe(u)[0]&128?28:27};if(h!=null){switch(gi(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Ai(ml,i,s,a);return o&&fe(l,Ma,o),t(e.yParity==null||gi(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};ih=new WeakMap,zs=new WeakMap,sh=new WeakMap,Ma=new WeakMap;let ys=Ai;var Eo;const Il=class Il{constructor(e){Ie(this,Eo);se(Zf(e)===32,"invalid private key","privateKey","[REDACTED]"),fe(this,Eo,De(e))}get privateKey(){return Z(this,Eo)}get publicKey(){return Il.computePublicKey(Z(this,Eo))}get compressedPublicKey(){return Il.computePublicKey(Z(this,Eo),!0)}sign(e){se(Zf(e)===32,"invalid digest length","digest",e);const t=fa.sign(fu(e),fu(Z(this,Eo)),{lowS:!0});return ys.from({r:Ah(t.r,32),s:Ah(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Il.computePublicKey(e);return De(fa.getSharedSecret(fu(Z(this,Eo)),qe(t),!1))}static computePublicKey(e,t){let r=qe(e,"key");if(r.length===32){const s=fa.getPublicKey(r,!!t);return De(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=fa.ProjectivePoint.fromHex(r);return De(i.toRawBytes(t))}static recoverPublicKey(e,t){se(Zf(e)===32,"invalid digest length","digest",e);const r=ys.from(t);let i=fa.Signature.fromCompact(fu(On([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(fu(e));return se(s!=null,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,r){const i=fa.ProjectivePoint.fromHex(Il.computePublicKey(e).substring(2)),s=fa.ProjectivePoint.fromHex(Il.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}};Eo=new WeakMap;let Xs=Il;const Hle=BigInt(0),Yle=BigInt(36);function iN(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=qe(Vn(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xO={};for(let n=0;n<10;n++)xO[String(n)]=String(n);for(let n=0;n<26;n++)xO[String.fromCharCode(65+n)]=String(10+n);const sN=15;function Gle(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>xO[r]).join("");for(;e.length>=sN;){let r=e.substring(0,sN);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Vle=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Kle(n){n=n.toLowerCase();let e=Hle;for(let t=0;t<n.length;t++)e=e*Yle+Vle[n[t]];return e}function Xi(n){if(se(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=iN(n);return se(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){se(n.substring(2,4)===Gle(n),"bad icap checksum","address",n);let e=Kle(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return iN("0x"+e)}se(!1,"invalid address","address",n)}function Xle(n){return n&&typeof n.getAddress=="function"}async function $w(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(Et(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),se(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Xi(t)}function ep(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Xi(n):(Et(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$w(n,e.resolveName(n)));if(Xle(n))return $w(n,n.getAddress());if(n&&typeof n.then=="function")return $w(n,n);se(!1,"unsupported addressable value","target",n)}function jw(n,e){return{address:Xi(n),storageKeys:e.map((t,r)=>(se(Zs(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Ob(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(se(t.length===2,"invalid slot set",`value[${r}]`,t),jw(t[0],t[1])):(se(t!=null&&typeof t=="object","invalid address-slot set","value",n),jw(t.address,t.storageKeys)));se(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return jw(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Qle(n){return{address:Xi(n.address),nonce:Vt(n.nonce!=null?n.nonce:0),chainId:Vt(n.chainId!=null?n.chainId:0),signature:ys.from(n.signature)}}function Ym(n){let e;return typeof n=="string"?e=Xs.computePublicKey(n,!1):e=n.publicKey,Xi(Vn("0x"+e.substring(4)).substring(26))}function Jle(n,e){return Ym(Xs.recoverPublicKey(n,e))}const Hn=BigInt(0),Zle=BigInt(2),ece=BigInt(27),tce=BigInt(28),nce=BigInt(35),rce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ice=Symbol.for("nodejs.util.inspect.custom"),Bw=4096*32,_v=128;function sce(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return qe(n.blobToKzgCommitment(De(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return qe(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return qe(n.blobToKZGCommitment(De(r)));se(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return qe(n.computeBlobProof(De(r),De(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return qe(n.computeBlobKZGProof(De(r),De(i)));se(!1,"unsupported KZG library","kzg",n)}}}function oN(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Ki(e).substring(4),"0x"+t}function dd(n){return n==="0x"?null:Xi(n)}function Rb(n,e){try{return Ob(n)}catch(t){se(!1,t.message,e,n)}}function oce(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:dd(i[1]),nonce:qt(i[2],"nonce"),chainId:qt(i[0],"chainId"),signature:ys.from({yParity:Dc(i[3],"yParity"),r:Ja(i[4],32),s:Ja(i[5],32)})})}return t}catch(t){se(!1,t.message,e,n)}}function Dc(n,e){return n==="0x"?0:gi(n,e)}function qt(n,e){if(n==="0x")return Hn;const t=Vt(n,e);return se(t<=rce,"value exceeds uint size",e,t),t}function wt(n,e){const t=Vt(n,"value"),r=Pn(t);return se(r.length<=32,"value too large",`tx.${e}`,t),r}function Db(n){return Ob(n).map(e=>[e.address,e.storageKeys])}function ace(n){return n.map(e=>[wt(e.chainId,"chainId"),e.address,wt(e.nonce,"nonce"),wt(e.signature.yParity,"yParity"),Pn(e.signature.r),Pn(e.signature._s)])}function lce(n,e){se(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)se(Zs(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function cce(n){const e=zm(n);se(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Dc(e[0],"nonce"),gasPrice:qt(e[1],"gasPrice"),gasLimit:qt(e[2],"gasLimit"),to:dd(e[3]),value:qt(e[4],"value"),data:De(e[5]),chainId:Hn};if(e.length===6)return t;const r=qt(e[6],"v"),i=qt(e[7],"r"),s=qt(e[8],"s");if(i===Hn&&s===Hn)t.chainId=r;else{let o=(r-nce)/Zle;o<Hn&&(o=Hn),t.chainId=o,se(o!==Hn||r===ece||r===tce,"non-canonical legacy v","v",e[6]),t.signature=ys.from({r:Ja(e[7],32),s:Ja(e[8],32),v:r})}return t}function uce(n,e){const t=[wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data];let r=Hn;if(n.chainId!=Hn)r=Vt(n.chainId,"tx.chainId"),se(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const s=n.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Hn&&(t.push(Pn(r)),t.push("0x"),t.push("0x")),Ao(t);let i=BigInt(27+e.yParity);return r!==Hn?i=ys.getChainIdV(r,e.v):BigInt(e.v)!==i&&se(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Pn(i)),t.push(Pn(e.r)),t.push(Pn(e._s)),Ao(t)}function Ab(n,e){let t;try{if(t=Dc(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{se(!1,"invalid yParity","yParity",e[0])}const r=Ja(e[1],32),i=Ja(e[2],32),s=ys.from({r,s:i,yParity:t});n.signature=s}function hce(n){const e=zm(qe(n).slice(1));se(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",De(n));const t={type:2,chainId:qt(e[0],"chainId"),nonce:Dc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:dd(e[5]),value:qt(e[6],"value"),data:De(e[7]),accessList:Rb(e[8],"accessList")};return e.length===9||Ab(t,e.slice(9)),t}function dce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Db(n.accessList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(Pn(e.r)),t.push(Pn(e.s))),On(["0x02",Ao(t)])}function fce(n){const e=zm(qe(n).slice(1));se(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",De(n));const t={type:1,chainId:qt(e[0],"chainId"),nonce:Dc(e[1],"nonce"),gasPrice:qt(e[2],"gasPrice"),gasLimit:qt(e[3],"gasLimit"),to:dd(e[4]),value:qt(e[5],"value"),data:De(e[6]),accessList:Rb(e[7],"accessList")};return e.length===8||Ab(t,e.slice(8)),t}function pce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Db(n.accessList||[])];return e&&(t.push(wt(e.yParity,"recoveryParam")),t.push(Pn(e.r)),t.push(Pn(e.s))),On(["0x01",Ao(t)])}function mce(n){let e=zm(qe(n).slice(1)),t="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const o=e[1],a=e[2],l=e[3];se(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),se(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),se(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),se(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),se(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:o[c],commitment:a[c],proof:l[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=gi(e[1]);const o=e[2],a=e[3],l=e[4];se(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),se(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),se(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),se(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),se(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),se(o.length*_v===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<o.length;c++){const u=[];for(let h=0;h<_v;h++)u.push(l[c*_v+h]);i.push({data:o[c],commitment:a[c],proof:On(u)})}e=e[0]}se(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",De(n));const s={type:3,chainId:qt(e[0],"chainId"),nonce:Dc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:dd(e[5]),value:qt(e[6],"value"),data:De(e[7]),accessList:Rb(e[8],"accessList"),maxFeePerBlobGas:qt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),se(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),se(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let o=0;o<s.blobVersionedHashes.length;o++)se(Zs(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",n);return e.length===11||Ab(s,e.slice(11)),s}function gce(n,e,t){const r=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||FG,wt(n.value,"value"),n.data,Db(n.accessList||[]),wt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),lce(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(wt(e.yParity,"yParity")),r.push(Pn(e.r)),r.push(Pn(e.s)),t)){if(n.blobWrapperVersion!=null){const i=Pn(n.blobWrapperVersion),s=[];for(const{proof:o}of t){const a=qe(o),l=a.length/_v;for(let c=0;c<a.length;c+=l)s.push(a.subarray(c,c+l))}return On(["0x03",Ao([r,i,t.map(o=>o.data),t.map(o=>o.commitment),s])])}return On(["0x03",Ao([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])])}return On(["0x03",Ao(r)])}function vce(n){const e=zm(qe(n).slice(1));se(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",De(n));const t={type:4,chainId:qt(e[0],"chainId"),nonce:Dc(e[1],"nonce"),maxPriorityFeePerGas:qt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:qt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:qt(e[4],"gasLimit"),to:dd(e[5]),value:qt(e[6],"value"),data:De(e[7]),accessList:Rb(e[8],"accessList"),authorizationList:oce(e[9],"authorizationList")};return e.length===10||Ab(t,e.slice(10)),t}function yce(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,Db(n.accessList||[]),ace(n.authorizationList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(Pn(e.r)),t.push(Pn(e.s))),On(["0x04",Ao(t)])}var cs,oh,ah,lh,ch,uh,hh,dh,fh,ph,mh,gh,Gl,Pa,qs,Ia,vh,yh,bh,Sv;const Ls=class Ls{constructor(){Ie(this,bh);Ie(this,cs);Ie(this,oh);Ie(this,ah);Ie(this,lh);Ie(this,ch);Ie(this,uh);Ie(this,hh);Ie(this,dh);Ie(this,fh);Ie(this,ph);Ie(this,mh);Ie(this,gh);Ie(this,Gl);Ie(this,Pa);Ie(this,qs);Ie(this,Ia);Ie(this,vh);Ie(this,yh);fe(this,cs,null),fe(this,oh,null),fe(this,lh,0),fe(this,ch,Hn),fe(this,uh,null),fe(this,hh,null),fe(this,dh,null),fe(this,ah,"0x"),fe(this,fh,Hn),fe(this,ph,Hn),fe(this,mh,null),fe(this,gh,null),fe(this,Gl,null),fe(this,Pa,null),fe(this,qs,null),fe(this,Ia,null),fe(this,vh,null),fe(this,yh,null)}get type(){return Z(this,cs)}set type(e){switch(e){case null:fe(this,cs,null);break;case 0:case"legacy":fe(this,cs,0);break;case 1:case"berlin":case"eip-2930":fe(this,cs,1);break;case 2:case"london":case"eip-1559":fe(this,cs,2);break;case 3:case"cancun":case"eip-4844":fe(this,cs,3);break;case 4:case"pectra":case"eip-7702":fe(this,cs,4);break;default:se(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=Z(this,oh);return e==null&&this.type===3?FG:e}set to(e){fe(this,oh,e==null?null:Xi(e))}get nonce(){return Z(this,lh)}set nonce(e){fe(this,lh,gi(e,"value"))}get gasLimit(){return Z(this,ch)}set gasLimit(e){fe(this,ch,Vt(e))}get gasPrice(){const e=Z(this,uh);return e==null&&(this.type===0||this.type===1)?Hn:e}set gasPrice(e){fe(this,uh,e==null?null:Vt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Z(this,hh);return e??(this.type===2||this.type===3?Hn:null)}set maxPriorityFeePerGas(e){fe(this,hh,e==null?null:Vt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Z(this,dh);return e??(this.type===2||this.type===3?Hn:null)}set maxFeePerGas(e){fe(this,dh,e==null?null:Vt(e,"maxFeePerGas"))}get data(){return Z(this,ah)}set data(e){fe(this,ah,De(e))}get value(){return Z(this,fh)}set value(e){fe(this,fh,Vt(e,"value"))}get chainId(){return Z(this,ph)}set chainId(e){fe(this,ph,Vt(e))}get signature(){return Z(this,mh)||null}set signature(e){fe(this,mh,e==null?null:ys.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t){for(const r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=Z(this,gh)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){fe(this,gh,e==null?null:Ob(e))}get authorizationList(){const e=Z(this,vh)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){fe(this,vh,e==null?null:e.map(t=>Qle(t)))}get maxFeePerBlobGas(){const e=Z(this,Gl);return e==null&&this.type===3?Hn:e}set maxFeePerBlobGas(e){fe(this,Gl,e==null?null:Vt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Z(this,Pa);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){se(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)se(Zs(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}fe(this,Pa,e)}get blobs(){return Z(this,Ia)==null?null:Z(this,Ia).map(e=>Object.assign({},e))}set blobs(e){if(e==null){fe(this,Ia,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(Cb(s)){Et(Z(this,qs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=qe(s);if(se(o.length<=Bw,"blob is too large",`blobs[${i}]`,s),o.length!==Bw){const c=new Uint8Array(Bw);c.set(o),o=c}const a=Z(this,qs).blobToKzgCommitment(o),l=De(Z(this,qs).computeBlobKzgProof(o,a));t.push({data:De(o),commitment:De(a),proof:l}),r.push(oN(1,a))}else{const o=De(s.data),a=De(s.commitment),l=De(s.proof);t.push({data:o,commitment:a,proof:l}),r.push(oN(1,a))}}fe(this,Ia,t),fe(this,Pa,r)}get kzg(){return Z(this,qs)}set kzg(e){e==null?fe(this,qs,null):fe(this,qs,sce(e))}get blobWrapperVersion(){return Z(this,yh)}set blobWrapperVersion(e){fe(this,yh,e)}get hash(){return this.signature==null?null:Vn(Rt(this,bh,Sv).call(this,!0,!1))}get unsignedHash(){return Vn(this.unsignedSerialized)}get from(){return this.signature==null?null:Jle(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Xs.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Rt(this,bh,Sv).call(this,!0,!0)}get unsignedSerialized(){return Rt(this,bh,Sv).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=Z(this,Gl)!=null||Z(this,Pa);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Et(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Et(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Et(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ls.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[ice](){return this.toString()}toString(){const e=[],t=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const o=[];o.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&o.push(`nonce: ${s.nonce}`),s.chainId!=null&&o.push(`chainId: ${s.chainId}`),s.signature&&o.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new Ls;if(typeof e=="string"){const r=qe(e);if(r[0]>=127)return Ls.from(cce(r));switch(r[0]){case 1:return Ls.from(fce(r));case 2:return Ls.from(hce(r));case 3:return Ls.from(mce(r));case 4:return Ls.from(vce(r))}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ls;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ys.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(se(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),se(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(se(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),se(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};cs=new WeakMap,oh=new WeakMap,ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,Gl=new WeakMap,Pa=new WeakMap,qs=new WeakMap,Ia=new WeakMap,vh=new WeakMap,yh=new WeakMap,bh=new WeakSet,Sv=function(e,t){Et(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return uce(this,r);case 1:return pce(this,r);case 2:return dce(this,r);case 3:return gce(this,r,t?this.blobs:null);case 4:return yce(this,r)}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let fy=Ls;function bce(n){return se(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),Vn(On(["0x05",Ao([n.chainId!=null?Pn(n.chainId):"0x",Xi(n.address),n.nonce!=null?Pn(n.nonce):"0x"])]))}function wO(n){return Vn(Zl(n))}function xce(n){return typeof n=="string"&&(n=Zl(n)),Vn(On([Zl(qle),Zl(String(n.length)),n]))}const jG=new Uint8Array(32);jG.fill(0);const wce=BigInt(-1),BG=BigInt(0),zG=BigInt(1),_ce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Sce(n){const e=qe(n),t=e.length%32;return t?On([e,jG.slice(t)]):De(e)}const kce=Ah(zG,32),Cce=Ah(BG,32),aN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zw=["name","version","chainId","verifyingContract","salt"];function lN(n){return function(e){return se(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const Ece={name:lN("name"),version:lN("version"),chainId:function(n){const e=Vt(n,"domain.chainId");return se(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):eae(e)},verifyingContract:function(n){try{return Xi(n).toLowerCase()}catch{}se(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=qe(n,"domain.salt");return se(e.length===32,'invalid domain value "salt"',"domain.salt",n),De(e)}};function qw(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);se(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=Zoe(_ce,t?r-1:r),s=t?(i+zG)*wce:BG;return function(o){const a=Vt(o,"value");return se(a>=s&&a<=i,`value out-of-bounds for ${n}`,"value",a),Ah(t?Joe(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return se(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=qe(r);return se(i.length===t,`invalid length for ${n}`,"value",r),Sce(r)}}}switch(n){case"address":return function(e){return Ja(Xi(e),32)};case"bool":return function(e){return e?kce:Cce};case"bytes":return function(e){return Vn(e)};case"string":return function(e){return wO(e)}}return null}function cN(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function m0(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Om,To,xh,rb,qG;const Ni=class Ni{constructor(e){Ie(this,rb);le(this,"primaryType");Ie(this,Om);Ie(this,To);Ie(this,xh);fe(this,To,new Map),fe(this,xh,new Map);const t=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:d}=m0(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(d||"")}}),t.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),fe(this,Om,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){se(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=m0(u.type).base;se(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!qw(h)&&(se(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),t.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);se(o.length!==0,"missing primary type","types",e),se(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),mi(this,{primaryType:o[0]});function a(l,c){se(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of t.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),Z(this,To).set(l,cN(l,s[l])+u.map(h=>cN(h,s[h])).join(""))}}get types(){return JSON.parse(Z(this,Om))}getEncoder(e){let t=Z(this,xh).get(e);return t||(t=Rt(this,rb,qG).call(this,e),Z(this,xh).set(e,t)),t}encodeType(e){const t=Z(this,To).get(e);return se(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Vn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(qw(e))return r(e,t);const i=m0(e).array;if(i)return se(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{});se(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ni(e)}static getPrimaryType(e){return Ni.from(e).primaryType}static hashStruct(e,t,r){return Ni.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=aN[r];se(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>zw.indexOf(r.name)-zw.indexOf(i.name)),Ni.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return On(["0x1901",Ni.hashDomain(e),Ni.from(t).hash(r)])}static hash(e,t,r){return Vn(Ni.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Zs(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ni.from(t);o.visit(r,(a,l)=>(a==="address"&&!Zs(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,t,r){Ni.hashDomain(e);const i={},s=[];zw.forEach(l=>{const c=e[l];c!=null&&(i[l]=Ece[l](c),s.push({name:l,type:aN[l]}))});const o=Ni.from(t);t=o.types;const a=Object.assign({},t);return se(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return De(qe(c));if(l.match(/^u?int/))return Vt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return se(typeof c=="string","invalid string","value",c),c}se(!1,"unsupported type","type",l)})}}};Om=new WeakMap,To=new WeakMap,xh=new WeakMap,rb=new WeakSet,qG=function(e){{const i=qw(e);if(i)return i}const t=m0(e).array;if(t){const i=t.prefix,s=this.getEncoder(i);return o=>{se(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(s);return Z(this,To).has(i)&&(a=a.map(Vn)),Vn(On(a))}}const r=this.types[e];if(r){const i=wO(Z(this,To).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return Z(this,To).has(l)?Vn(c):c});return o.unshift(i),On(o)}}se(!1,`unknown type: ${e}`,"type",e)};let py=Ni;BigInt(0);function UG(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=De(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=Vt(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=gi(n[i],`request.${i}`));return n.accessList&&(e.accessList=Ob(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>Cb(i)?De(i):Object.assign({},i))),e}function gl(n,e){if(n.provider)return n.provider;Et(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function uN(n,e){let t=UG(e);if(t.to!=null&&(t.to=ep(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),ep(r,n)]).then(([i,s])=>(se(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=n.getAddress();return await sO(t)}class WG{constructor(e){le(this,"provider");mi(this,{provider:e||null})}async getNonce(e){return gl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await uN(this,e)}async populateTransaction(e){const t=gl(this,"populateTransaction"),r=await uN(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Vt(r.chainId);se(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?se(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&se(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await t.getFeeData();Et(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Et(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Et(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await sO(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await gl(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return gl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return gl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await gl(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=gl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=fy.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){Et(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var wh,kv;const mD=class mD extends WG{constructor(t,r){super(r);Ie(this,wh);le(this,"address");mi(this,{address:t})}async getAddress(){return this.address}connect(t){return new mD(this.address,t)}async signTransaction(t){Rt(this,wh,kv).call(this,"transactions","signTransaction")}async signMessage(t){Rt(this,wh,kv).call(this,"messages","signMessage")}async signTypedData(t,r,i){Rt(this,wh,kv).call(this,"typed-data","signTypedData")}};wh=new WeakSet,kv=function(t,r){Et(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:r})};let $M=mD;var _h;const gD=class gD extends WG{constructor(t,r){super(r);le(this,"address");Ie(this,_h);se(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),fe(this,_h,t);const i=Ym(this.signingKey.publicKey);mi(this,{address:i})}get signingKey(){return Z(this,_h)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new gD(Z(this,_h),t)}async signTransaction(t){t=UG(t);const{to:r,from:i}=await sO({to:t.to?ep(t.to,this):void 0,from:t.from?ep(t.from,this):void 0});r!=null&&(t.to=r),i!=null&&(t.from=i),t.from!=null&&(se(Xi(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=fy.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(xce(t)).serialized}authorizeSync(t){se(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const r=this.signingKey.sign(bce(t));return Object.assign({},{address:Xi(t.address),nonce:Vt(t.nonce||0),chainId:Vt(t.chainId||0)},{signature:r})}async authorize(t){return t=Object.assign({},t,{address:await ep(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,r,i){const s=await py.resolveNames(t,r,i,async o=>{Et(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return Et(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(py.hash(s.domain,r,s.value)).serialized}};_h=new WeakMap;let jM=gD;const my=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Tce=/^[a-z]*$/i;function hN(n,e){let t=97;return n.reduce((r,i)=>(i===e?t++:i.match(Tce)?r.push(String.fromCharCode(t)+i):(t=97,r.push(i)),r),[])}function Mce(n,e){for(let i=my.length-1;i>=0;i--)n=n.split(my[i]).join(e.substring(2*i,2*i+2));const t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let l=parseInt(o);l>=0;l--)t.push(";");else t.push(s.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return hN(hN(t,";"),":")}function Pce(n){return se(n[0]==="0","unsupported auwl data","data",n),Mce(n.substring(1+2*my.length),n.substring(1,1+2*my.length))}class Ice{constructor(e){le(this,"locale");mi(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Sh,Rm,Vl,Dm,BM;class Oce extends Ice{constructor(t,r,i){super(t);Ie(this,Dm);Ie(this,Sh);Ie(this,Rm);Ie(this,Vl);fe(this,Sh,r),fe(this,Rm,i),fe(this,Vl,null)}get _data(){return Z(this,Sh)}_decodeWords(){return Pce(Z(this,Sh))}getWord(t){const r=Rt(this,Dm,BM).call(this);return se(t>=0&&t<r.length,`invalid word index: ${t}`,"index",t),r[t]}getWordIndex(t){return Rt(this,Dm,BM).call(this).indexOf(t)}}Sh=new WeakMap,Rm=new WeakMap,Vl=new WeakMap,Dm=new WeakSet,BM=function(){if(Z(this,Vl)==null){const t=this._decodeWords();if(wO(t.join(`
`)+`
`)!==Z(this,Rm))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);fe(this,Vl,t)}return Z(this,Vl)};const Rce="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Dce="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Uw=null;class mc extends Oce{constructor(){super("en",Rce,Dce)}static wordlist(){return Uw==null&&(Uw=new mc),Uw}}function HG(n){return(1<<n)-1<<8-n&255}function Ace(n){return(1<<n)-1&255}function Ww(n,e){LY("NFKD"),e==null&&(e=mc.wordlist());const t=e.split(n);se(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));se(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)u&1<<10-h&&(r[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=HG(o),l=qe(Ki(r.slice(0,s/8)))[0]&a;return se(l===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),De(r.slice(0,s/8))}function Hw(n,e){se(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=mc.wordlist());const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&Ace(8-r)),r+=3);const i=n.length/4,s=parseInt(Ki(n).substring(2,4),16)&HG(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}const Yw={};class rm{constructor(e,t,r,i,s){le(this,"phrase");le(this,"password");le(this,"wordlist");le(this,"entropy");i==null&&(i=""),s==null&&(s=mc.wordlist()),kb(e,Yw,"Mnemonic"),mi(this,{phrase:r,password:i,wordlist:s,entropy:t})}computeSeed(){const e=Zl("mnemonic"+this.password,"NFKD");return qm(Zl(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const i=Ww(e,r);return e=Hw(qe(i),r),new rm(Yw,i,e,t,r)}static fromEntropy(e,t,r){const i=qe(e,"entropy"),s=Hw(i,r);return new rm(Yw,De(i),s,t,r)}static entropyToPhrase(e,t){const r=qe(e,"entropy");return Hw(r,t)}static phraseToEntropy(e,t){return Ww(e,t)}static isValidMnemonic(e,t){try{return Ww(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var er=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Gw=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Cv,Oi,Rs;const Nce={16:10,24:12,32:14},Lce=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ti=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g0=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Fce=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],$ce=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],jce=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Bce=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],zce=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],qce=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Uce=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Wce=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Hce=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Yce=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Gce=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Vce=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Vw(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class _O{get key(){return er(this,Cv,"f").slice()}constructor(e){if(Cv.set(this,void 0),Oi.set(this,void 0),Rs.set(this,void 0),!(this instanceof _O))throw Error("AES must be instanitated with `new`");Gw(this,Cv,new Uint8Array(e),"f");const t=Nce[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Gw(this,Rs,[],"f"),Gw(this,Oi,[],"f");for(let u=0;u<=t;u++)er(this,Rs,"f").push([0,0,0,0]),er(this,Oi,"f").push([0,0,0,0]);const r=(t+1)*4,i=this.key.length/4,s=Vw(this.key);let o;for(let u=0;u<i;u++)o=u>>2,er(this,Rs,"f")[o][u%4]=s[u],er(this,Oi,"f")[t-o][u%4]=s[u];let a=0,l=i,c;for(;l<r;){if(c=s[i-1],s[0]^=Ti[c>>16&255]<<24^Ti[c>>8&255]<<16^Ti[c&255]<<8^Ti[c>>24&255]^Lce[a]<<24,a+=1,i!=8)for(let f=1;f<i;f++)s[f]^=s[f-1];else{for(let f=1;f<i/2;f++)s[f]^=s[f-1];c=s[i/2-1],s[i/2]^=Ti[c&255]^Ti[c>>8&255]<<8^Ti[c>>16&255]<<16^Ti[c>>24&255]<<24;for(let f=i/2+1;f<i;f++)s[f]^=s[f-1]}let u=0,h,d;for(;u<i&&l<r;)h=l>>2,d=l%4,er(this,Rs,"f")[h][d]=s[u],er(this,Oi,"f")[t-h][d]=s[u++],l++}for(let u=1;u<t;u++)for(let h=0;h<4;h++)c=er(this,Oi,"f")[u][h],er(this,Oi,"f")[u][h]=Hce[c>>24&255]^Yce[c>>16&255]^Gce[c>>8&255]^Vce[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=er(this,Rs,"f").length-1,r=[0,0,0,0];let i=Vw(e);for(let a=0;a<4;a++)i[a]^=er(this,Rs,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=Fce[i[l]>>24&255]^$ce[i[(l+1)%4]>>16&255]^jce[i[(l+2)%4]>>8&255]^Bce[i[(l+3)%4]&255]^er(this,Rs,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=er(this,Rs,"f")[t][a],s[4*a]=(Ti[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(Ti[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Ti[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Ti[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=er(this,Oi,"f").length-1,r=[0,0,0,0];let i=Vw(e);for(let a=0;a<4;a++)i[a]^=er(this,Oi,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=zce[i[l]>>24&255]^qce[i[(l+3)%4]>>16&255]^Uce[i[(l+2)%4]>>8&255]^Wce[i[(l+1)%4]&255]^er(this,Oi,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=er(this,Oi,"f")[t][a],s[4*a]=(g0[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(g0[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(g0[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(g0[i[(a+1)%4]&255]^o)&255;return s}}Cv=new WeakMap,Oi=new WeakMap,Rs=new WeakMap;class Kce{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new _O(t)},name:{enumerable:!0,value:e}})}}var ru=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Mi=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Pf,Sl,Ri;class gy extends Kce{constructor(e,t){super("CTR",e,gy),Pf.set(this,void 0),Sl.set(this,void 0),Ri.set(this,void 0),ru(this,Ri,new Uint8Array(16),"f"),Mi(this,Ri,"f").fill(0),ru(this,Pf,Mi(this,Ri,"f"),"f"),ru(this,Sl,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Mi(this,Ri,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Mi(this,Ri,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Mi(this,Ri,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Mi(this,Ri,"f")[e]===255)Mi(this,Ri,"f")[e]=0;else{Mi(this,Ri,"f")[e]++;break}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)Mi(this,Sl,"f")===16&&(ru(this,Pf,this.aes.encrypt(Mi(this,Ri,"f")),"f"),ru(this,Sl,0,"f"),this.increment()),i[s]^=Mi(this,Pf,"f")[ru(this,Sl,(r=Mi(this,Sl,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Pf=new WeakMap,Sl=new WeakMap,Ri=new WeakMap;function ef(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function YG(n){return typeof n=="string"?Zl(n,"NFKC"):fu(n)}const Xce="m/44'/60'/0'/0/0";function GG(n){const e=n.salt!=null?qe(n.salt,"options.salt"):No(32);let t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),se(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),se(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),se(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function VG(n,e,t,r){const i=qe(t.privateKey,"privateKey"),s=r.iv!=null?qe(r.iv,"options.iv"):No(16);se(s.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?qe(r.uuid,"options.uuid"):No(16);se(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=n.slice(0,16),l=n.slice(16,32),c=new gy(a,s),u=qe(c.encrypt(i)),h=Vn(On([l,u])),d={address:t.address.substring(2).toLowerCase(),id:oae(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:De(s).substring(2)},ciphertext:De(u).substring(2),kdf:"scrypt",kdfparams:{salt:De(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(t.mnemonic){const f=r.client!=null?r.client:`ethers/${NY}`,m=t.mnemonic.path||Xce,g=t.mnemonic.locale||"en",v=n.slice(32,64),y=qe(t.mnemonic.entropy,"account.mnemonic.entropy"),b=No(16),w=new gy(v,b),S=qe(w.encrypt(y)),_=new Date,E="UTC--"+(_.getUTCFullYear()+"-"+ef(_.getUTCMonth()+1,2)+"-"+ef(_.getUTCDate(),2)+"T"+ef(_.getUTCHours(),2)+"-"+ef(_.getUTCMinutes(),2)+"-"+ef(_.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:f,gethFilename:E,path:m,locale:g,mnemonicCounter:De(b).substring(2),mnemonicCiphertext:De(S).substring(2),version:"0.1"}}return JSON.stringify(d)}function Qce(n,e,t){t==null&&(t={});const r=YG(e),i=GG(t),s=Wm(r,i.salt,i.N,i.r,i.p,64);return VG(qe(s),i,n,t)}async function Jce(n,e,t){t==null&&(t={});const r=YG(e),i=GG(t),s=await Um(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return VG(qe(s),i,n,t)}const Kw="m/44'/60'/0'/0/0",Zce=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ya=2147483648,eue=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tue="0123456789abcdef";function vy(n,e){let t="";for(;n;)t=tue[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function zM(n){const e=qe(n),t=oO(Ki(Ki(e)),0,4),r=On([e,t]);return rae(r)}const Fs={};function KG(n,e,t,r){const i=new Uint8Array(37);n&Ya?(Et(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(qe(r),1)):i.set(qe(t));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=n>>24-o&255;const s=qe(ud("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function XG(n,e){const t=e.split("/");se(t.length>0,"invalid path","path",e),t[0]==="m"&&(se(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));se(o<Ya,"invalid path index",`path[${i}]`,s),r=r.deriveChild(Ya+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);se(o<Ya,"invalid path index",`path[${i}]`,s),r=r.deriveChild(o)}else se(!1,"invalid path component",`path[${i}]`,s)}return r}var Am,qM,Kl,If;const rs=class rs extends jM{constructor(t,r,i,s,o,a,l,c,u){super(r,u);Ie(this,Am);le(this,"publicKey");le(this,"fingerprint");le(this,"parentFingerprint");le(this,"mnemonic");le(this,"chainCode");le(this,"path");le(this,"index");le(this,"depth");kb(t,Fs,"HDNodeWallet"),mi(this,{publicKey:r.compressedPublicKey});const h=oO(hd(Ki(this.publicKey)),0,4);mi(this,{parentFingerprint:i,fingerprint:h,chainCode:s,path:o,index:a,depth:l}),mi(this,{mnemonic:c})}connect(t){return new rs(Fs,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,r){return await Jce(Rt(this,Am,qM).call(this),t,{progressCallback:r})}encryptSync(t){return Qce(Rt(this,Am,qM).call(this),t)}get extendedKey(){return Et(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),zM(On(["0x0488ADE4",vy(this.depth,1),this.parentFingerprint,vy(this.index,4),this.chainCode,On(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new sm(Fs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const r=gi(t,"index");se(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ya),r&Ya&&(i+="'"));const{IR:s,IL:o}=KG(r,this.chainCode,this.publicKey,this.privateKey),a=new Xs(Ah(($Y(o)+BigInt(this.privateKey))%eue,32));return new rs(Fs,a,this.fingerprint,De(s),i,r,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return XG(this,t)}static fromExtendedKey(t){const r=Pn(iae(t));se(r.length===82||zM(r.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=r[4],s=De(r.slice(5,9)),o=parseInt(De(r.slice(9,13)).substring(2),16),a=De(r.slice(13,45)),l=r.slice(45,78);switch(De(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=De(l);return new sm(Fs,Ym(c),c,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(l[0]!==0)break;return new rs(Fs,new Xs(l.slice(1)),s,a,null,o,i,null,null)}se(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,r,i){var o;t==null&&(t=""),r==null&&(r=Kw),i==null&&(i=mc.wordlist());const s=rm.fromEntropy(No(16),t,i);return Rt(o=rs,Kl,If).call(o,s.computeSeed(),s).derivePath(r)}static fromMnemonic(t,r){var i;return r||(r=Kw),Rt(i=rs,Kl,If).call(i,t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,i,s){var a;r==null&&(r=""),i==null&&(i=Kw),s==null&&(s=mc.wordlist());const o=rm.fromPhrase(t,r,s);return Rt(a=rs,Kl,If).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(t){var r;return Rt(r=rs,Kl,If).call(r,t,null)}};Am=new WeakSet,qM=function(){const t={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),t},Kl=new WeakSet,If=function(t,r){se(Cb(t),"invalid seed","seed","[REDACTED]");const i=qe(t,"seed");se(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=qe(ud("sha512",Zce,i)),o=new Xs(De(s.slice(0,32)));return new rs(Fs,o,"0x00000000",De(s.slice(32)),"m",0,0,r,null)},Ie(rs,Kl);let im=rs;class sm extends $M{constructor(t,r,i,s,o,a,l,c,u){super(r,u);le(this,"publicKey");le(this,"fingerprint");le(this,"parentFingerprint");le(this,"chainCode");le(this,"path");le(this,"index");le(this,"depth");kb(t,Fs,"HDNodeVoidWallet"),mi(this,{publicKey:i});const h=oO(hd(Ki(i)),0,4);mi(this,{publicKey:i,fingerprint:h,parentFingerprint:s,chainCode:o,path:a,index:l,depth:c})}connect(t){return new sm(Fs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return Et(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),zM(On(["0x0488B21E",vy(this.depth,1),this.parentFingerprint,vy(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const r=gi(t,"index");se(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ya),r&Ya&&(i+="'"));const{IR:s,IL:o}=KG(r,this.chainCode,this.publicKey,null),a=Xs.addPoints(o,this.publicKey,!0),l=Ym(a);return new sm(Fs,l,a,this.fingerprint,De(s),i,r,this.depth+1,this.provider)}derivePath(t){return XG(this,t)}}class dN{constructor(e){le(this,"mnemonic");le(this,"walletAddress");le(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),t=Math.floor(Math.random()*1e6);return`tx-${e}-${t}`}async getPrivateKeyHex(){const e=im.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const t=BigInt(e.privateKey),r=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(t===0n||t>=r)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const s=t.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(s))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return s}async signPayload(e){const t=await this.getPrivateKeyHex(),r=Math.floor(Date.now()/1e3);let i;e.deadline&&(i=parseInt(e.deadline,10));const s={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:e};i!==void 0&&(s.deadline=i);const o=await Ks.generateSingleSignature(JSON.stringify(s),t,this.walletAddress.toLowerCase());if(!o.success||!o.signature)throw new Error(o.error||"Failed to generate signature");return o.signature}async buildCompleteMessage(e,t,r=3600){const s=Math.floor(Date.now()/1e3)+r,o=await t.getNextNonce();return{...e,owner:this.walletAddress,nonce:o,deadline:s.toString()}}buildEIP712Tx(e,t,r){const i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const a={txhash:r||this.generateTxID(),sigType:1,threshold:1,timestamp:i,payload:e,signatures:[{signer:this.walletAddress,signature:t}]};return s!==void 0&&(a.deadline=s),a}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}class nue{constructor(e){le(this,"httpClient");le(this,"infoClient");le(this,"nonceManager");le(this,"mnemonic");le(this,"chainID");le(this,"walletAddress");le(this,"nonceCounter",null);le(this,"signatureBuilder");this.httpClient=new iO(e.baseURL,e.maxRetries??3),this.infoClient=new Go({baseURL:e.baseURL,sessionToken:e.sessionToken}),this.chainID=e.chainID??10900,this.mnemonic=e.mnemonic,e.mnemonic&&(this.nonceManager=new AY(this.infoClient))}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");this.signatureBuilder=new dN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNotInitializedMessage(){return"Client not initialized. Call initialize() first."}getNonceManager(){if(!this.nonceManager)throw new Error("NonceManager not initialized. Mnemonic required.");return this.nonceManager}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");await Ks.initialize();const e=await Ks.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new dN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());return this.walletAddress}async refreshNonceFromServer(){const e=this.getNonceManager(),t=this.getWalletAddress(),r=await e.getExpectedNextNonce(t,!1);this.nonceCounter=r.next_nonce,console.log("[BaseSignedClient] Refreshed nonce from server",{walletAddress:t,newNonce:this.nonceCounter})}async getNextNonce(){return this.getNonceManager(),this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}hexSignatureToBase64(e){const t=e.replace(/^0x/i,"");if(/^[0-9a-fA-F]+$/.test(t)&&(t.length===128||t.length===130)){const r=t.length/2,i=new Uint8Array(r);for(let s=0;s<r;s++)i[s]=parseInt(t.slice(s*2,s*2+2),16);return btoa(String.fromCharCode(...i))}return e}}function rue(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function iue(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function sue(n){if(!n)return[!1,!1];const e=rue(n),t=iue(n);return[e,t]}function QG(n){const[e,t]=sue(n);return e||t}function Xw(n){if(n==null||typeof n!="string")return!1;const e=n.toLowerCase();return e.includes("duplicate transaction")||e.includes("duplicate tranaction")}function UM(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const r=n.seconds,i=n.nanos||0;return r*1e3+Math.floor(i/1e6)}const t=typeof n=="string"?Number(n):n;return typeof t=="number"&&!isNaN(t)&&t>0?t<9466848e5?t*1e3:t:e}function _o(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function fN(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,t=n.nanos||0,r=e*1e3+Math.floor(t/1e6),s=new Date(r).toISOString();if(t>0){const o=t.toString().padStart(9,"0");return s.replace(/\.\d{3}Z$/,`.${o}Z`)}return s}return""}function Pi(n){const t=new Date().toISOString(),r=t.match(/\.(\d{3})Z$/);if(r){const s=(parseInt(r[1])*1e6).toString().padStart(9,"0");return t.replace(/\.\d{3}Z$/,`.${s}Z`)}return t.replace(/Z$/,".000000000Z")}const JG="sys::onboard",oue="market::change_marginRatio",pN="clob::submit_order",aue="clob::cancel_order",mN="bucket::close_position",lue="bucket::update_position_leverage",cue="clob::modify_order",uue="clob::inter_transfer",hue="bucket::create_margin_bucket",due="clob::swap",fue="bank::mint",pue="bank::transfer_to_bucket",mue="bank::withdraw_from_bucket",gue="bank::bucket_transfer",vue="bank::transfer";var nt=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(nt||{});function yue(n){return n.subChannel==="price_feed"}const fd="http://localhost:8080",bue="300px",xue="300px",wue="270px",ZG="630px",SO=5e3,_ue="1",Sue=100,eV=20,WM="legal winner thank year wave sausage worth useful legal winner thank yellow",Qw=1,gN=100,kue=1,v0=0,Jw=100,Zw=1,Cue=.01,vN=0,Eue="BINANCE:BTCUSDT",Tue="5",Mue="https://s3.tradingview.com/tv.js",oa=2,Pue=2,Da="asc",Wu="desc",HM="market",e1="limit",om="CROSS",Iue="ISOLATED",Oue="ONE_WAY",am="LONG",YM="SHORT",yN="symbol",bN="leverage",xN="size",wN="liquidationPrice",_N="unrealizedPnL",SN="entryPrice",kN="margin",t1="all",y0="byBucket",CN="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",Rue="#51cf66",Due="#ff6b6b",Aue="Loading positions...",Nue="No open positions",Lue="POSITIONS",Fue="All",$ue="By Bucket",n1="--",EN="symbol",TN="side",MN="quantity",PN="price",IN="filledQuantity",ON="status",aa="pending",RN="history",jue="ORDER_STATUS_PENDING",Bue="ORDER_STATUS_OPEN",zue="ORDER_STATUS_PARTIAL",que="PARTIALLY_FILLED",DN=[jue,Bue,zue,"PENDING","OPEN","NEW","PARTIAL",que],AN="#ffc107",Uue="#17a2b8",Wue="#28a745",Hue="#dc3545",Yue="#6c757d",Gue="#51cf66",Vue="#ff6b6b",NN="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",Kue="Loading pending orders...",Xue="No pending orders",Que="No historical orders",Jue="OPEN ORDERS",Zue="ORDER HISTORY",ehe="Wallet address required to view pending orders",the="Pending",nhe="History",rhe="--",ihe="Unknown",she={1:"USDC",2:"USDT"};function LN(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((t,r)=>{const i=_o(t.timestamp);return _o(r.timestamp)-i}).map(t=>{const r=_o(t.timestamp),i=lt(t.quantity),s=lt(t.price);return{time:r,size:i,price:s,isBuyerMaker:!1}})}function FN(n){let e;"positionId"in n&&n.positionId?e=n.positionId:e=`${n.marketIndex}-${n.bucketId||"default"}-${n.address}`;const t="averageEntryPrice"in n?n.averageEntryPrice:n.entryPrice;let r;"positionSide"in n&&n.positionSide?r=n.positionSide:"side"in n&&n.side?r=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?am:YM:r=lt(n.size)>=0?am:YM;const i=lt(n.size),s=lt(t),o=lt(n.markPrice),a=n.leverage?lt(n.leverage):0;let l=0;if(n.unrealizedProfit!==void 0||n.unrealizedLoss!==void 0){const d=hy(n.unrealizedProfit),f=hy(n.unrealizedLoss),m=d-f;l=lt(m.toString())}else"unrealizedPnl"in n&&n.unrealizedPnl!==void 0&&(l=lt(n.unrealizedPnl));const u=lt(n.marginBalance)||(a&&s&&i!==0?Math.abs(Math.abs(i)*s/a):0),h="marginMode"in n&&n.marginMode||"marginType"in n&&n.marginType||om;return{positionId:e,marketId:String(n.marketIndex),symbol:n.symbol||`m-${n.marketIndex}`,size:Math.abs(i),entryPrice:s,markPrice:o,liquidationPrice:n.liquidationPrice?lt(n.liquidationPrice):0,unrealizedPnL:l,leverage:a,margin:u,side:r,marginMode:h,bucketId:n.bucketId?String(n.bucketId):"",raw:n}}function $N(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let t=n.status||"ORDER_STATUS_PENDING";t.includes("ORDER_STATUS_")&&(t=t.replace("ORDER_STATUS_",""));const r=n.timeInForce;let i=r;r&&r.includes("TIME_IN_FORCE_")&&(i=r.replace("TIME_IN_FORCE_",""));const s=f=>lt(f),o=s(n.quantity),a=s(n.price),l=s(n.filledQuantity),c=o-l,u=n.orderId??"",h=n.marketIndex??"",d=UM(n.timestamp,Date.now());return{id:u,orderId:u,marketId:h,side:e,type:n.type,quantity:o,price:a,filledQuantity:l,remainingQuantity:c,status:t,timeInForce:i,createdAt:d,updatedAt:d,raw:n}}function ohe(n){const e=new Date().toISOString();return{bucketId:n.bucketId,address:n.address,bucketType:n.marginType,collateralAssetIndex:"1",depositedMargin:"0",totalEquity:n.totalEquity,availableMargin:n.availableMargin,usedMargin:n.usedMargin,unrealizedProfit:n.unrealizedProfit,unrealizedLoss:n.unrealizedLoss,realizedProfit:"0",realizedLoss:"0",marginRatio:"0",imr:"0",totalNotionalValue:"0",riskLevel:"low",maxLeverage:"0",correlationOffset:0,status:"active",createdAt:e,updatedAt:e,sequenceId:"0"}}function jN(n){const e=n.bucketId??"---",t=hy(n.unrealizedProfit??"0"),r=hy(n.unrealizedLoss??"0"),i=t-r,s=An(i.toString()),o=lt(n.unrealizedProfit??"0"),a=lt(n.unrealizedLoss??"0"),l=Goe(n.maxLeverage),c=n.bucketType??"cross",u=n.collateralAssetIndex??"1",h=she[u]??"USDC";return{bucketId:e,address:n.address||"",marginType:c.toLowerCase().includes("isolated")?"isolated":"cross",collateralAssetIndex:u,collateralAsset:h,depositedMargin:lt(n.depositedMargin??"0"),totalEquity:lt(n.totalEquity??"0"),availableMargin:lt(n.availableMargin??"0"),usedMargin:lt(n.usedMargin??"0"),unrealizedProfit:o,unrealizedLoss:a,realizedProfit:lt(n.realizedProfit??"0"),realizedLoss:lt(n.realizedLoss??"0"),unrealizedPnL:s,marginRatio:lt(n.marginRatio??"0"),imr:lt(n.imr??"0"),totalNotionalValue:lt(n.totalNotionalValue??"0"),riskLevel:n.riskLevel||"",maxLeverage:l,correlationOffset:n.correlationOffset??0,status:n.status||"",createdAt:fN(n.createdAt),updatedAt:fN(n.updatedAt),leverage:l,marginMode:c,raw:n}}function r1(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function Of(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function ahe(n){return"collateralAssetIndex"in n}function tf(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.marketIndex=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.isBuyerMaker=="boolean"&&typeof n.tradeId=="string"}function i1(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.markPrice=="number"&&typeof n.timestamp=="number"}class lhe extends nue{constructor(e){super(e)}getNotInitializedMessage(){return"FiClient not initialized. Call initialize() first."}async refreshNonceFromServer(){await super.refreshNonceFromServer(),console.log("[FiClient] Refreshed nonce from server",{walletAddress:this.getWalletAddress(),newNonce:this.nonceCounter})}buildOrderPayload(e){const t=Cn(e.price),r=Cn(e.quantity),i={action:pN,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:t,quantity:r};return e.leverage&&(i.leverage=e.leverage),e.takeProfit&&(i.takeProfit=e.takeProfit),e.stopLoss&&(i.stopLoss=e.stopLoss),i}buildOrderPayloadForTx(e){const t=Cn(e.price),r=Cn(e.quantity),i=e.orderType.toUpperCase(),s=(e.timeInForce||"GTC").toUpperCase(),o=i==="MARKET"?"IOC":"GTC",a=e.bucketId?"isolated":"cross",l=[];e.stopLoss&&l.push(`sl:${e.stopLoss}`),e.takeProfit&&l.push(`tp:${e.takeProfit}`);const c=l.length?l.join(","):"",u=e.leverage||"100000000";return{action:pN,address:this.getWalletAddress(),marketIndex:e.marketId,side:e.side.toUpperCase(),orderType:i==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",price:t,stopPrice:"0",quantity:r,leverage:u,fillType:o,marginMode:a,bucketId:e.bucketId,metadata:"",sltp:c,timeInForce:s}}async placeOrderViaTx(e,t=!1){const r=this.getWalletAddress(),i=this.buildOrderPayloadForTx(e),s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=parseInt(String(o.deadline),10),c=new Date(l*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),u=Pi(),h=o.price,d=o.quantity,f=e.orderType.toUpperCase()==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",m=e.side.toUpperCase()==="BUY"?"SIDE_BUY":"SIDE_SELL",g=(e.timeInForce||"GTC").toUpperCase(),v=g==="IOC"?"TIME_IN_FORCE_IOC":g==="FOK"?"TIME_IN_FORCE_FOK":g==="GTT"||g==="GTD"?"TIME_IN_FORCE_GTT":"TIME_IN_FORCE_GTC",y={"@type":"/clob.v1.MsgPlaceOrderRequest",type:2,fromAddress:r,address:r,marketIndex:parseInt(e.marketId,10)||e.marketId,symbol:e.marketId,price:h,quantity:d,size:d,side:m,orderType:f,bucketId:e.bucketId,timeInForce:v,is_buy:e.side.toUpperCase()==="BUY",timestamp:u};e.leverage&&(y.leverage=e.leverage),e.takeProfit&&(y.takeProfit=e.takeProfit),e.stopLoss&&(y.stopLoss=e.stopLoss),e.postOnly&&(y.postOnly=!0),e.hidden&&(y.hidden=!0),e.displayQuantity&&(y.displayQuantity=e.displayQuantity);const b=this.hexSignatureToBase64(a),w={tx:{body:{messages:[y],memo:`place_order_${Math.floor(Date.now()/1e3)}_${o.nonce}`,timeoutTimestamp:c},auth_info:{signer_infos:[{nonce:parseInt(String(o.nonce),10),deadline:l,timestamp:u}]},signatures:[b]}},_=(await this.httpClient.post("/tx/v1/submit",w)).body??{},k=_.tx_hash??_.txhash??void 0,E=_.orderId??void 0,C=_.accepted===!0,O=_.errorMessage??"";if(C&&this.walletAddress){const R=parseInt(String(o.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,R,!1)}else this.walletAddress&&(_.tx_hash??_.txhash)&&await this.refreshNonceFromServer();return!t&&!C&&Xw(O)&&this.walletAddress?(await this.refreshNonceFromServer(),this.placeOrderViaTx(e,!0)):{success:C,orderId:E??"",errorMessage:C?"":O,...k!=null&&{txHash:k}}}async placeOrderLegacy(e){const t=this.buildOrderPayload(e),r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=Math.floor(Date.now()/1e3)-5,a=e.side.toUpperCase()==="BUY",l=e.orderType.toUpperCase(),c=l==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",u={address:this.getWalletAddress(),market_index:e.marketId,bucket_id:e.bucketId,price:i.price,quantity:i.quantity,type:c,signature:s,nonce:i.nonce,deadline:i.deadline,timestamp:o,asset_pair:e.marketId,market_id:e.marketId,size:i.quantity,is_buy:a,order_type:l,client_order_id:`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,time_in_force:e.timeInForce||"GTC"};e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0);const d=(await this.httpClient.post("/clob/v1/order",u)).body,f=d.orderId,m=d.txhash!=null?String(d.txhash):d.txHash;return{...d,orderId:f??d.orderId,...m!=null&&{txHash:m}}}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");return this.walletAddress||await this.initialize(),e.useLegacyClobOrder?this.placeOrderLegacy(e):this.placeOrderViaTx(e)}async placeBatchOrders(e){if(!e.orders||!Array.isArray(e.orders))throw new Error("orders must be a non-empty array");if(e.orders.length===0)throw new Error("At least one order is required");if(e.orders.length>100)throw new Error("Maximum 100 orders per batch");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3)-5,i=await Promise.all(e.orders.map(async(o,a)=>{if(!o.marketId||o.marketId.trim()==="")throw new Error(`Order ${a}: marketId cannot be empty`);if(!o.bucketId||o.bucketId.trim()==="")throw new Error(`Order ${a}: bucketId cannot be empty`);if(!o.side||o.side.toUpperCase()!=="BUY"&&o.side.toUpperCase()!=="SELL")throw new Error(`Order ${a}: side must be BUY or SELL`);if(!o.orderType||o.orderType.toUpperCase()!=="LIMIT"&&o.orderType.toUpperCase()!=="MARKET")throw new Error(`Order ${a}: orderType must be LIMIT or MARKET`);if(!o.price||o.price<=0)throw new Error(`Order ${a}: price must be positive`);if(!o.quantity||o.quantity<=0)throw new Error(`Order ${a}: quantity must be positive`);const l=this.buildOrderPayload(o),c=this.getSignatureBuilder(),u=await c.buildCompleteMessage(l,this.getNonceProvider()),h=await c.signPayload(u),d=o.side.toUpperCase()==="BUY",f=o.orderType.toUpperCase(),m=f==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",g=`batch-${Date.now()}-${a}-${Math.floor(Math.random()*1e6)}`,v=u.quantity,y=d?"BUY":"SELL",b={address:t,symbol:o.marketId,bucketId:o.bucketId,price:u.price,size:v,quantity:v,is_buy:d,side:y,orderType:f,type:m,signature:h,nonce:u.nonce,deadline:u.deadline,timestamp:r,client_order_id:g};return o.leverage&&(b.leverage=o.leverage),o.takeProfit&&(b.take_profit=o.takeProfit),o.stopLoss&&(b.stop_loss=o.stopLoss),o.postOnly&&(b.post_only=!0,b.postOnly=!0),o.hidden&&(b.hidden=!0),o.displayQuantity&&(b.display_quantity=o.displayQuantity,b.displayQuantity=o.displayQuantity),o.reduceOnly&&(b.reduce_only=!0),b}));return(await this.httpClient.post("/clob/v1/orders/batch",{orders:i})).body}async cancelOrderRESTful(e,t){if(!e||e==="")throw new Error("orderId cannot be empty");!this.walletAddress&&!t&&await this.initialize();const r=t||this.getWalletAddress();return(await this.httpClient.delete(`/clob/v1/order/${encodeURIComponent(e)}?address=${encodeURIComponent(r)}`)).body}async cancelOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r={action:aue,owner:t,address:t,orderId:e.orderId,marketIndex:e.marketId},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Pi(),l=parseInt(String(s.deadline),10),c=new Date(l*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),u={"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:a},h=this.hexSignatureToBase64(o),d={tx:{body:{messages:[u],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:c},auth_info:{signer_infos:[{nonce:parseInt(String(s.nonce),10),deadline:l,timestamp:a}]},signatures:[h]}};try{const m=(await this.httpClient.post("/tx/v1/submit",d)).body??{},g=this.mapSubmitTxToCancelOrderResponse(m,e.orderId);if(g.success&&this.walletAddress){const v=parseInt(String(s.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,v,!1)}else this.walletAddress&&(m.txhash??m.tx_hash??m.Txhash)&&await this.refreshNonceFromServer();if(!g.success&&Xw(g.errorMessage)&&this.walletAddress){await this.refreshNonceFromServer();const v=await i.buildCompleteMessage(r,this.getNonceProvider()),y=await i.signPayload(v),b=parseInt(String(v.deadline),10),w=new Date(b*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),_={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Pi()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:w},auth_info:{signer_infos:[{nonce:parseInt(String(v.nonce),10),deadline:b,timestamp:Pi()}]},signatures:[this.hexSignatureToBase64(y)]}},E=(await this.httpClient.post("/tx/v1/submit",_)).body??{},C=this.mapSubmitTxToCancelOrderResponse(E,e.orderId);if(C.success&&this.walletAddress){const O=parseInt(String(v.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,O,!1)}else this.walletAddress&&(E.txhash??E.tx_hash??E.Txhash)&&await this.refreshNonceFromServer();return C}return g}catch(f){if(QG(f)){await this.refreshNonceFromServer();const m=await i.buildCompleteMessage(r,this.getNonceProvider()),g=await i.signPayload(m),v=parseInt(String(m.deadline),10),y=new Date(v*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),w={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Pi()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:y},auth_info:{signer_infos:[{nonce:parseInt(String(m.nonce),10),deadline:v,timestamp:Pi()}]},signatures:[this.hexSignatureToBase64(g)]}},_=(await this.httpClient.post("/tx/v1/submit",w)).body??{},k=this.mapSubmitTxToCancelOrderResponse(_,e.orderId);if(k.success&&this.walletAddress){const E=parseInt(String(m.nonce),10);await this.getNonceManager().commitNonce(this.walletAddress,E,!1)}else this.walletAddress&&(_.txhash??_.tx_hash??_.Txhash)&&await this.refreshNonceFromServer();return k}throw f}}mapSubmitTxToCancelOrderResponse(e,t){const r=e.accepted===!0,i=e.txhash!=null?String(e.txhash):e.tx_hash!=null?String(e.tx_hash):e.Txhash!=null?String(e.Txhash):"",s=Date.now(),o={seconds:Math.floor(s/1e3),nanos:s%1e3*1e6};return{...e,success:r,txhash:i,result:{orderId:t,success:r,timestamp:o},timestamp:o,...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)}}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const t={action:cue,orderId:e.orderId,marketIndex:e.marketId,newPrice:Cn(e.newPrice),newQuantity:Cn(e.newQuantity)},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeLeverage(e){if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(!(e.marketIndex!==void 0||e.marketId!=null&&e.marketId.trim()!==""))throw new Error("marketIndex or marketId must be provided");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=e.marketIndex!==void 0?String(e.marketIndex):String(parseInt(e.marketId.trim(),10)),s={action:lue,address:r,positionId:e.positionId??"",bucketId:e.bucketId,marketIndex:i,newLeverage:Cn(e.newLeverage)},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3),i=r+300,s=await this.getNextNonce();let o;if(e.marketPrice&&e.marketPrice>0)o=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.lastPrice)throw new Error("marketPrice is required and could not be fetched from ticker");o=An(m.lastPrice)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const a=Cn(o).toString(),l=e.quantity&&e.quantity>0?Cn(e.quantity).toString():"0",c={action:mN,address:t,marketId:e.marketId,closeSize:l,marketPrice:a,nonce:s,deadline:i},h=await this.getSignatureBuilder().signPayload(c),d={address:t,position_id:e.positionId,market_id:e.marketId,close_size:l,market_price:a,timestamp:r,sign_type:1,nonce:s.toString(),chain_id:this.chainID.toString(),deadline:i.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",d)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=parseInt(e.marketId,10);if(Number.isNaN(t)||t<0)throw new Error("marketId must be a non-negative numeric string");const r=e.quantity!=null&&e.quantity>0?e.quantity:0;let i;if(e.marketPrice!=null&&e.marketPrice>0)i=e.marketPrice;else try{const v=await this.infoClient.getMarketStats(e.marketId);if(!(v!=null&&v.lastPrice))throw new Error("marketPrice is required and could not be fetched from ticker");i=An(v.lastPrice)}catch(v){throw new Error(`Failed to resolve market price: ${v instanceof Error?v.message:String(v)}`)}const s=Math.floor(Date.now()/1e3),o={action:mN,address:this.getWalletAddress(),positionId:e.positionId,marketIndex:t,closeSize:r,marketPrice:i,timestamp:s},a=this.getSignatureBuilder(),l=await a.buildCompleteMessage(o,this.getNonceProvider()),c=await a.signPayload(l),u=a.buildEIP712Tx(l,c),d=(await this.httpClient.post("/router/v1/tx",u)).body,f=(d==null?void 0:d.accepted)===!0,m=(d==null?void 0:d.txhash)??(d==null?void 0:d.tx_hash)??"",g=(d==null?void 0:d.errorMessage)??(d==null?void 0:d.error_message)??"";return{...d,success:f,txhash:m,errorMessage:g||void 0}}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const t={action:due,fromToken:e.fromToken,toToken:e.toToken,amountIn:Cn(e.amountIn),minAmountOut:Cn(e.minAmountOut)};e.path&&e.path.length>0&&(t.path=e.path);const r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.reason===void 0||e.reason.trim()==="")throw new Error("reason cannot be empty");const t=typeof e.newInitialMarginRatio=="number"?e.newInitialMarginRatio:parseFloat(String(e.newInitialMarginRatio)),r=typeof e.newMaintenanceMarginRatio=="number"?e.newMaintenanceMarginRatio:parseFloat(String(e.newMaintenanceMarginRatio));if(Number.isNaN(t)||t<0)throw new Error("newInitialMarginRatio must be a non-negative number");if(Number.isNaN(r)||r<0)throw new Error("newMaintenanceMarginRatio must be a non-negative number");this.walletAddress||await this.initialize();const i={action:oue,marketIndex:e.marketId,newInitialMarginRatio:Cn(t),newMaintenanceMarginRatio:Cn(r),reason:e.reason},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t={action:uue,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:Cn(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Cn(e.amount),i={action:gue,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=Math.floor(Date.now()/1e3),c={address:t,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r,reason:"sdk_transfer",timestamp:l,nonce:o.nonce,deadline:o.deadline,signature:a,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",c)).body}async extractToBucket(e){var b;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((b=e.assetId)==null?void 0:b.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Cn(e.amount),s={action:pue,bucketId:e.bucketId,assetIndex:Number(t),amount:i},o=this.getSignatureBuilder(),a=300,l=await o.buildCompleteMessage(s,this.getNonceProvider(),a),c=await o.signPayload(l),u=Pi(),h=parseInt(String(l.deadline),10),d={"@type":"/bank.v1.MsgTransferToBucketRequest",operation:"transfer_to_bucket",address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:u},f=this.hexSignatureToBase64(c),m={tx:{body:{messages:[d],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${l.nonce}`,timeoutTimestamp:new Date(h*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(l.nonce),10),deadline:h,timestamp:u}]},signatures:[f]}},v=(await this.httpClient.post("/tx/v1/submit",m)).body??{},y=this.mapSubmitTxToExtractToBucketResponse(v);if(!y.success&&Xw(y.errorMessage)&&this.walletAddress){await this.refreshNonceFromServer();const w=await o.buildCompleteMessage(s,this.getNonceProvider(),a),S=await o.signPayload(w),_=parseInt(String(w.deadline),10),k={tx:{body:{messages:[{"@type":"/bank.v1.MsgTransferToBucketRequest",operation:"transfer_to_bucket",address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:Pi()}],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${w.nonce}`,timeoutTimestamp:new Date(_*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(w.nonce),10),deadline:_,timestamp:Pi()}]},signatures:[this.hexSignatureToBase64(S)]}},C=(await this.httpClient.post("/tx/v1/submit",k)).body??{};return this.mapSubmitTxToExtractToBucketResponse(C)}return y}mapSubmitTxToExtractToBucketResponse(e){const t=e.accepted===!0,r=e.txhash!=null?String(e.txhash):void 0,i=Pi();return{success:t,...r!=null&&{txHash:r},...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)},timestamp:i,...e}}async createBucket(e){if(e.collateralAssetIndex===void 0||typeof e.collateralAssetIndex!="number"||e.collateralAssetIndex<0)throw new Error("collateralAssetIndex must be a non-negative number");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const t=e.marginType.toLowerCase();if(t!=="cross"&&t!=="isolated")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Pi(),s=e.initialMargin??"0",o={action:hue,collateralAssetIndex:String(e.collateralAssetIndex),initialMargin:s,marginType:t};await this.getSignatureBuilder().buildCompleteMessage(o,this.getNonceProvider(),3600);const c={address:r,bucketType:t==="isolated"?"BUCKET_TYPE_ISOLATED":"BUCKET_TYPE_CROSS",collateralAssetIndex:e.collateralAssetIndex,initialMargin:s,timestamp:i};return e.bucketId!=null&&e.bucketId!==""&&(c.bucketId=e.bucketId),(await this.httpClient.post("/bucket/v1/bucket",c)).body}async withdrawFromBucket(e){var u;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((u=e.assetId)==null?void 0:u.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Cn(e.amount),s={action:mue,bucketId:e.bucketId,assetIndex:Number(t),amount:i};await this.getSignatureBuilder().buildCompleteMessage(s,this.getNonceProvider());const a=Pi(),l={address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:a};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",l)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Cn(e.amount),r={action:fue,address:this.getWalletAddress(),asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Cn(e.amount),r={action:vue,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async checkPositionRisk(e){if(!e.address||e.address.trim()==="")throw new Error("address cannot be empty");if(!e.market_index||e.market_index.trim()==="")throw new Error("market_index cannot be empty");if(!e.side||e.side.toUpperCase()!=="LONG"&&e.side.toUpperCase()!=="SHORT")throw new Error("side must be LONG or SHORT");if(!e.size||e.size.trim()==="")throw new Error("size cannot be empty");if(!e.leverage||e.leverage.trim()==="")throw new Error("leverage cannot be empty");return(await this.httpClient.post("/bucket/v1/position/check-risk",{address:e.address,market_index:e.market_index,side:e.side.toUpperCase(),size:e.size,leverage:e.leverage})).body}}class che{constructor(e){le(this,"ws",null);le(this,"state",nt.Disconnected);le(this,"handlers",new Map);le(this,"reconnectTimer",null);le(this,"reconnectAttempts",0);le(this,"config");le(this,"originalConfig");le(this,"pingInterval",null);le(this,"stateChangeHandlers",new Set);le(this,"authState","not_required");le(this,"pendingSubscriptions",new Map);this.originalConfig=e;const t=this.convertHTTPToWebSocketURL(e.url);this.config={url:t,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const t=new URL(e);if(!t.pathname||t.pathname==="/")return t.pathname="/websocket",t.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const t=e.match(/:(\d+)/);return`ws://localhost:${t?t[1]:"8080"}/websocket`}if(e.startsWith("http://")){const t=e.replace("http://","ws://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(e.startsWith("https://")){const t=e.replace("https://","wss://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const t=new URL(e.startsWith("http")?e:`https://${e}`),r=t.protocol==="https:"?"wss:":"ws:",i=t.pathname&&t.pathname!=="/"?t.pathname:"",s=i.endsWith("/websocket")?i:`${i}/websocket`;return`${r}//${t.host}${s}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const t=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${t}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===nt.Connected||this.state===nt.Connecting))return this.setState(nt.Connecting),new Promise((e,t)=>{let r=!1,i=!1,s=null;const o=a=>{i||(i=!0,s!==null&&(clearTimeout(s),s=null),this.setState(nt.Disconnected),t(a))};try{const a=this.getConnectionURL();console.log("Connecting to WebSocket:",a);const l=new WebSocket(a);s=window.setTimeout(()=>{!r&&!i&&(l.close(),o(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${a}. Check if the server is running and accessible.`)))},1e4),l.onopen=async()=>{s!==null&&(clearTimeout(s),s=null),r=!0,this.ws=l,this.setState(nt.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},l.onmessage=c=>{try{const u=JSON.parse(c.data);this.handleMessage(u)}catch(u){console.error("Failed to parse WebSocket message:",u)}},l.onerror=c=>{console.error("WebSocket error event:",c)},l.onclose=c=>{if(s!==null&&(clearTimeout(s),s=null),this.ws=null,this.stopPing(),this.authState="not_required",!r&&!i){const u=c.code,h=c.reason||"Unknown reason",d=c.wasClean;let f=`WebSocket connection failed. Close code: ${u}`;u===1006?f=`WebSocket connection failed (abnormal closure, code ${u}). Unable to connect to ${a}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:u===1002?f=`WebSocket protocol error (code ${u}). The server may not support WebSocket protocol or there's a protocol mismatch.`:u===1003?f=`WebSocket unsupported data type (code ${u}).`:u===1008?f=`WebSocket connection closed due to policy violation (code ${u}): ${h}`:u===1011?f=`WebSocket server error (code ${u}): ${h}`:u===1e3?f=`WebSocket connection closed normally (code ${u}) but before opening.`:h&&h!=="Unknown reason"&&(f+=` Reason: ${h}`),!d&&u===1006&&(f+=" This usually indicates the connection was refused or the server is unreachable."),o(new Error(f))}else r&&(this.setState(nt.Disconnected),this.scheduleReconnect())}}catch(a){s!==null&&(clearTimeout(s),s=null);const l=a instanceof Error?a.message:String(a);o(new Error(`Failed to create WebSocket connection: ${l}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(nt.Disconnected)}send(e){var t;if(this.state!==nt.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const r=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${r}), updating connection state`),this.setState(nt.Disconnected),new Error(`WebSocket not open (state: ${r})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const r=JSON.stringify(e);this.ws.send(r)}catch(r){throw console.error("[WebSocketClient] Failed to send message:",r),((t=this.ws)==null?void 0:t.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(nt.Disconnected),this.scheduleReconnect()),r}}on(e,t){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(t)}off(e,t){if(!t){this.handlers.delete(e);return}const r=this.handlers.get(e);if(r){const i=r.indexOf(t);i>-1&&r.splice(i,1)}}getState(){return this.state}isConnected(){const e=this.state===nt.Connected,t=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!t?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(nt.Disconnected),!1):e&&t}setState(e){const t=this.state;this.state=e,t!==e&&this.stateChangeHandlers.forEach(r=>{try{r(e)}catch(i){console.error("Error in state change handler:",i)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s={type:"pong"};e.id&&(s.id=e.id),this.send(s)}}catch(s){console.error("[WebSocketClient] Failed to send pong:",s),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(nt.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in stale data handler:",a)}}));let t;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?t=e.channel:t="subscribed";else if(e.action==="error")t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")t="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")t=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else t=e.action;else typeof e.type=="string"?e.type==="data"?typeof e.channel=="string"?t=e.channel:t="message":e.type==="error"?(t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?t=e.channel:t="ack":e.type==="pong"?t="pong":t=e.type:typeof e.event=="string"?t=e.event:typeof e.channel=="string"?t=e.channel:t="message";const r=this.handlers.get(t)||[],i=this.handlers.get("*")||[];r.forEach(s=>{try{s(e)}catch(o){console.error(`[WebSocketClient] Error in handler for ${t}:`,o)}}),t!=="error"&&i.forEach(s=>{try{s(e)}catch(o){console.error("[WebSocketClient] Error in wildcard handler:",o)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(nt.Disconnected);return}this.reconnectAttempts++,this.setState(nt.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===nt.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(nt.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(nt.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,t,r){this.config.authToken=e,this.config.walletAddress=t,this.config.deviceID=r,this.originalConfig.authToken=e,this.originalConfig.walletAddress=t,this.originalConfig.deviceID=r,console.log(`Auth set: address=${t}, device=${r}`)}async updateAuth(e,t,r){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),t!==void 0&&(this.config.walletAddress=t,this.originalConfig.walletAddress=t),r!==void 0&&(this.config.deviceID=r,this.originalConfig.deviceID=r),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,t=5e3){return new Promise((r,i)=>{if(!this.pendingSubscriptions.has(e)){r();return}const s=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),i(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},t),o=this.pendingSubscriptions.get(e);o?(o.timeout=s,o.resolve=r,o.reject=i):(clearTimeout(s),r())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===nt.Connected,r=!this.config.authToken||this.authState==="authenticated";return e&&r}getAuthState(){return this.authState}getAuthToken(){return this.config.authToken}}function uhe(n){const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function hhe(n){try{const e=new TextDecoder("utf-8",{fatal:!1}).decode(n);return JSON.parse(e)}catch{return null}}function dhe(n){if(n==null||typeof n!="object")return n;const e=n,t=e.payload,r=t==null?void 0:t.value;if(typeof r!="string")return n;let i,s;try{const a=uhe(r);s=a;const l=hhe(a);l!==null&&typeof l=="object"&&(i=Dh(l))}catch(a){console.warn("[streamPayload] decode failed:",a)}const o={...e,version:e.version??void 0,messageType:e.message_type??e.messageType,timestamp:e.timestamp??void 0,firstSequenceId:e.first_sequence_id??e.firstSequenceId,lastSequenceId:e.last_sequence_id??e.lastSequenceId,typeUrl:(t==null?void 0:t.type_url)??(t==null?void 0:t.typeUrl)};return i!==void 0&&(o.decodedPayload=i),s!==void 0&&(o.decodedPayloadRaw=s),o}const s1="multiplex";function fhe(n){return n==="priceFeed"?"price_feed":n}function BN(n){return n==="price_feed"?"priceFeed":n}const phe="init-multiplex";class mhe{constructor(e){le(this,"wsClient");le(this,"dataCallbacks",new Map);le(this,"pendingById",new Map);le(this,"pingPendingById",new Map);le(this,"wildcardHandler",null);le(this,"channelSubscribed",!1);this.wsClient=e}async subscribeToChannel(e=5e3){if(!this.wsClient.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.channelSubscribed||(this.wsClient.registerPendingSubscription(s1),this.wsClient.send({type:"subscribe",channel:s1,id:phe}),await this.wsClient.waitForSubscription(s1,e),this.channelSubscribed=!0,this.attachMessageHandler())}async subscribeStreams(e,t=5e3){await this.ensureChannelAndHandler();const r=`sub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((i,s)=>{const o=setTimeout(()=>{const u=this.pendingById.get(r);u&&this.pendingById.delete(r)&&u.reject(new Error(`Multiplex subscribe timeout (id: ${r})`))},t),a=()=>{clearTimeout(o),this.pendingById.delete(r)&&i()},l=u=>{clearTimeout(o),this.pendingById.delete(r)&&s(u)};this.pendingById.set(r,{resolve:a,reject:l});const c=e.map(u=>({streamType:BN(u.stream_type),filter:u.filter}));this.wsClient.send({action:"subscribe",id:r,subscriptions:c})})}unsubscribeStreams(e){if(!this.channelSubscribed||!this.wsClient.isConnected())return;const t=`unsub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,r=e.map(i=>({streamType:BN(i.stream_type),filter:i.filter}));this.wsClient.send({action:"unsubscribe",id:t,subscriptions:r})}onStreamData(e,t){return this.dataCallbacks.has(e)||this.dataCallbacks.set(e,[]),this.dataCallbacks.get(e).push(t),()=>{const r=this.dataCallbacks.get(e);if(r){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}async ping(e=5e3){await this.ensureChannelAndHandler();const t=`ping-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((r,i)=>{const s=setTimeout(()=>{this.pingPendingById.delete(t)&&i(new Error(`Multiplex pong timeout (id: ${t})`))},e);this.pingPendingById.set(t,{resolve:()=>{clearTimeout(s),this.pingPendingById.delete(t),r()},reject:o=>{clearTimeout(s),this.pingPendingById.delete(t),i(o)}}),this.wsClient.send({action:"ping",id:t})})}detach(){this.wildcardHandler&&(this.wsClient.off("*",this.wildcardHandler),this.wildcardHandler=null),this.channelSubscribed=!1,this.dataCallbacks.clear(),this.pendingById.clear(),this.pingPendingById.clear()}async ensureChannelAndHandler(){this.channelSubscribed||await this.subscribeToChannel()}attachMessageHandler(){this.wildcardHandler||(this.wildcardHandler=e=>{const t=e.type,r=e.id,i=e.stream_type??e.streamType,s=i?fhe(i):void 0;if(t==="data"&&s){const o=this.dataCallbacks.get(s);if(o!=null&&o.length){const a=e.data;let l=a!=null&&typeof a=="object"?dhe(a):a;const c=l;(c==null?void 0:c.decodedPayload)!=null?l=c.decodedPayload:l!=null&&typeof l=="object"&&!("decodedPayload"in l)&&!("payload"in l)&&(l=Dh(l));const u={type:"data",id:e.id,stream_type:s,symbol:e.symbol,marketIndex:e.marketIndex,data:l,error:e.error,U:e.U,u:e.u,ts:e.ts};o.forEach(h=>{try{h(u)}catch(d){console.error(`[MultiplexStreamClient] callback error for ${s}:`,d)}})}return}if(t==="ack"&&r){const o=this.pendingById.get(r);o&&o.resolve();return}if(t==="error"&&r){const o=this.pendingById.get(r);if(o){const a=e.error;let l="Multiplex error";if(a!=null&&typeof a=="object"){const c=a;typeof c.message=="string"?l=c.message:typeof c.code=="string"&&(l=c.code)}o.reject(new Error(l))}return}if(t==="pong"&&r){const o=this.pingPendingById.get(r);o&&o.resolve()}},this.wsClient.on("*",this.wildcardHandler))}}class zN{constructor(e){le(this,"wsClient");le(this,"subscriptions",new Map);le(this,"lastPriceWrappedCallbacks",new Map);le(this,"wrappedCallbacks",new Map);le(this,"multiplexStreamClient");le(this,"multiFeedSubscriptions",new Map);le(this,"multiFeedWrappedCallbacks",new Map);this.wsClient=new che({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexStreamClient=new mhe(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiFeedSubscriptions.clear(),this.multiFeedWrappedCallbacks.clear(),this.multiplexStreamClient.detach()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,t,r){this.wsClient.setAuthToken(e,t,r)}async updateAuth(e,t,r){return this.wsClient.updateAuth(e,t,r)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,t=5e3){return this.wsClient.waitForSubscription(e,t)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.error("Failed to parse router data field:",t),null}return e}extractRouterData(e){if(e==null||typeof e!="object")return null;const t=e;if(typeof t.action=="string"){if((t.action==="data"||t.action==="update")&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse action-based data:",t.data),r??null}if(t.action==="data"||t.action==="update"){const{action:r,channel:i,...s}=t;return Object.keys(s).length>0?s:null}if(t.action==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.action==="subscribed")return null}if(t.type==="data"&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse router data:",t.data),r??null}if(t.type==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.type==="ack")return null;if(t.channel!==void 0&&t.action===void 0&&t.type===void 0){const{channel:r,...i}=t;return Object.keys(i).length>0?i:null}return typeof t.action=="string"&&t.action!=="data"&&t.action!=="update"&&t.action!=="subscribed"&&t.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",t.action,"Full message:",e):typeof t.type=="string"&&t.type!=="data"&&t.type!=="ack"&&t.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",t.type,"Full message:",e):(t.action==="data"||t.action==="update"||t.type==="data")&&t.data===void 0&&t.channel===void 0&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");if(!this.wsClient.getAuthToken())throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}getMultiplexStreamClient(){return this.multiplexStreamClient}subscribeMultiFeedSubChannel(e,t,r,i){var c;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(t))throw new Error(`Invalid market ID: ${t}. Market ID must be a non-empty string.`);const s=["buckets","orders","positions"];s.includes(e)&&this.validatePrivateChannelAuth(),this.multiFeedSubscriptions.set(e,[...this.multiFeedSubscriptions.get(e)||[],r]);const o=u=>{const h=this.extractRouterData(u);h!=null&&r(h)};this.multiFeedWrappedCallbacks.has(e)||this.multiFeedWrappedCallbacks.set(e,new Map),this.multiFeedWrappedCallbacks.get(e).set(r,o),this.wsClient.on(e,o);const a=this.wsClient.getAuthToken(),l={market_id:t,...i};s.includes(e)&&a&&!l.auth_token&&(l.auth_token=a);try{this.wsClient.send({type:"subscribe",channel:e,params:l})}catch(u){(c=this.multiFeedWrappedCallbacks.get(e))==null||c.delete(r);const h=this.multiFeedSubscriptions.get(e)||[],d=h.indexOf(r);throw d>-1&&(h.splice(d,1),this.multiFeedSubscriptions.set(e,h)),u}}unsubscribeMultiFeedSubChannel(e,t){var i,s;const r=this.multiFeedSubscriptions.get(e)||[];if(t){const o=r.indexOf(t);if(o>-1){r.splice(o,1),this.multiFeedSubscriptions.set(e,r);const a=(i=this.multiFeedWrappedCallbacks.get(e))==null?void 0:i.get(t);a&&(this.wsClient.off(e,a),this.multiFeedWrappedCallbacks.get(e).delete(t))}}else{const o=this.multiFeedWrappedCallbacks.get(e);o&&(o.forEach(a=>{this.wsClient.off(e,a)}),this.multiFeedWrappedCallbacks.delete(e)),this.multiFeedSubscriptions.delete(e)}if((((s=this.multiFeedSubscriptions.get(e))==null?void 0:s.length)??0)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:e})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeTicker(e,t){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const r="moniker",i="ticker";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=a=>{const l=this.extractRouterData(a);l!=null&&t(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(t,s),this.wsClient.on(r,s);try{this.wsClient.send({type:"subscribe",channel:r,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(t);const l=this.subscriptions.get(i)||[],c=l.indexOf(t);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTicker(e,t){var o,a;const r="ticker",i="moniker",s=this.subscriptions.get(r)||[];if(t){const l=s.indexOf(t);if(l>-1){s.splice(l,1),this.subscriptions.set(r,s);const c=(o=this.wrappedCallbacks.get(r))==null?void 0:o.get(t);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(r).delete(t))}}else{const l=this.wrappedCallbacks.get(r);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((a=this.subscriptions.get(r))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:i})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeLastPrice(e,t,r=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="lastPrice";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=o=>{const a=this.extractRouterData(o);if(a==null||typeof a!="object"){console.warn("[SubscriptionClient] Failed to extract trade data from message:",o);return}const l=a;if(l.price===void 0||l.price===null){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}r&&(l.price!=null&&(l.price=An(typeof l.price=="string"?l.price:String(l.price))),l.quantity!=null&&(l.quantity=An(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),t(l)};this.lastPriceWrappedCallbacks.set(t,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"lastPrice",params:{market_id:e}})}catch(o){this.lastPriceWrappedCallbacks.delete(t);const a=this.subscriptions.get(i)||[],l=a.indexOf(t);throw l>-1&&(a.splice(l,1),this.subscriptions.set(i,a)),o}}unsubscribeLastPrice(e,t){var s;const r="lastPrice",i=this.subscriptions.get(r)||[];if(t){const o=i.indexOf(t);if(o>-1){i.splice(o,1),this.subscriptions.set(r,i);const a=this.lastPriceWrappedCallbacks.get(t);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(t))}}else i.forEach(o=>{const a=this.lastPriceWrappedCallbacks.get(o);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(o))}),this.subscriptions.delete(r);if(((s=this.subscriptions.get(r))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"lastPrice"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeBuckets(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="buckets";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a!=null&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"buckets",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBuckets(e){var i,s;const t="buckets",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeKline(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(t))throw new Error(`Invalid interval: ${t}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const i="kline";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeKline(e,t,r){var o,a;const i="kline",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(t))throw new Error(`Invalid window size: ${t}. Window size must be a positive number.`);const i="twap";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTWAP(e,t,r){var o,a;const i="twap",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBalances(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="balances";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"balances",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBalances(e){var i,s;const t="balances",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeOrders(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="orders";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"orders",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeOrders(e){var i,s;const t="orders",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}}async function ghe(n,e,t,r,i){const s=im.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(s.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${s.address} does not match provided ${e}`);let o;try{o=new Xs(s.privateKey)}catch(S){throw new Error(`Invalid private key: cannot create signing key - ${S.message}`)}const a=Ym(o.publicKey);if(a.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${a} does not match ${e}`);const l=BigInt(s.privateKey),c=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(l===0n||l>=c)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=l.toString(16).toLowerCase().padStart(64,"0"),d=qe("0x"+h);if(d.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${d.length}`);if(d.every(S=>S===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==l)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${l.toString(16)}, Reconstructed: ${m.toString(16)}`);const g=h;if(g.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${g.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(g))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const v=g,y={action:JG,owner:e.toLowerCase(),nonce:t,timestamp:r,deadline:i},b={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:y,deadline:parseInt(i,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",b),console.log("[Onboard] Private key format validated:",{length:v.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${v.substring(0,8)}...${v.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:l<c,notZero:l!==0n,bytesLength:d.length,fullHex:v,firstByte:v.substring(0,2),lastByte:v.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(b).length,privateKeyHexLength:v.length,privateKeyHexPreview:v,signerAddress:e.toLowerCase()});const w=await Ks.generateSingleSignature(JSON.stringify(b),v,e.toLowerCase());if(console.log(w),!w.success||!w.signature)throw new Error(w.error||"Failed to generate signature");return console.log("[Onboard] signature:",w.signature),w.signature}async function vhe(n){var e,t;try{const r=await ghe(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",r.length);const i={address:n.walletAddress,signature:r,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline};console.log("[Onboard] Request body:",{...i,signature:r.substring(0,20)+"..."});const o=await new iO(n.baseURL).post("/auth/v1/onboard",i);if(o.statusCode===200&&o.body){const a=o.body.access_token||o.body.authToken||o.body.token||o.body.accessToken,l=o.body.refresh_token||o.body.refreshToken,c=o.body.expires_at||o.body.expiresAt||(o.body.expires_in?n.timestamp+o.body.expires_in:void 0);return a?{success:!0,authToken:a,refreshToken:l,expiresAt:c}:{success:!1,error:"Response missing authToken field"}}else{const a=((e=o.body)==null?void 0:e.message)||((t=o.body)==null?void 0:t.error)||`HTTP ${o.statusCode}: ${o.body}`,l=new Error(a);throw l.responseBody=o.body,l.statusCode=o.statusCode,l}}catch(r){throw r}}const kO={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function yhe(n,e){let t=n.baseDelay*Math.pow(n.multiplier,e);if(t>n.maxDelay&&(t=n.maxDelay),n.jitter){const r=t*.25*Math.random();t+=r}return Math.floor(t)}function bhe(n){return new Promise(e=>setTimeout(e,n))}async function CO(n,e,t=()=>!0){let r;for(let i=0;i<=n.maxRetries;i++)try{return await e()}catch(s){if(r=s,!await Promise.resolve(t(s)))throw s;if(i>=n.maxRetries)break;const a=yhe(n,i);await bhe(a)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(r==null?void 0:r.message)||r}`)}async function xhe(n,e,t,r){try{Ks.isReady()||await Ks.initialize();const i=await Ks.generateAddress(n,0);if(!i.success||!i.address)return{success:!1,error:`Failed to generate address: ${i.error}`};const s=i.address.toLowerCase(),o=new Go({baseURL:e}),a=new AY(o);let l=null;try{return await CO(kO.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${l}`),l===null?(l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${l}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${l} from previous failure`);let u=0;const h=10;for(;u<h;)try{await a.validateNonce(s,l,!0);break}catch(v){if(u++,v.message.includes("already pending")||v.message.includes("already used")){if(l=l+1,console.log(`[Onboard] Nonce ${l-1} already pending, incrementing to ${l}`),u>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw v}const d=Math.floor(Date.now()/1e3),f=d+3600,m={action:JG,owner:s,nonce:D3(l),timestamp:d,deadline:D3(f)};let g;try{g=await vhe({mnemonic:n,walletAddress:s,message:m,baseURL:e,username:t,referralCode:r,timestamp:d})}catch(v){if(l!==null){const y=l;try{await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Rejected nonce ${y}, incremented to nonce ${l} (will use on retry)`)}catch(b){console.warn("[Onboard] Failed to reject nonce after thrown error:",b),l=l+1,console.log(`[Onboard] Incremented nonce to ${l} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw v.currentNonce=l,v}if(!g.success){if(l!==null){const y=l;await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Request failed with nonce ${y}, rejected and incremented to ${l} (will keep incrementing until it works)`)}const v=new Error(g.error||"Onboarding failed");throw v.onboardResult=g,v}return l!==null&&await a.commitNonce(s,l,!0),g},async u=>{var y,b,w;const h=String(u).toLowerCase(),d=((y=u==null?void 0:u.message)==null?void 0:y.toLowerCase())||h,f=(u==null?void 0:u.responseBody)||(u==null?void 0:u.onboardResult),m=((b=f==null?void 0:f.error)==null?void 0:b.toLowerCase())||((w=f==null?void 0:f.message)==null?void 0:w.toLowerCase())||"";if(`${d} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(l!==null){const S=l;l=l+1,console.log(`[Onboard] Off-chain operation: nonce ${S} already pending/used, incrementing to ${l} (server will validate)`)}else try{l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${l}`)}catch(S){console.warn("[Onboard] Failed to query server nonce:",S),l=1}return!0}return QG(u)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),l=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(S=>h.includes(S))})}catch(c){if(l!==null)try{await a.rejectNonce(s,l,!0)}catch(u){console.warn("[Onboard] Failed to reject nonce during cleanup:",u)}return{success:!1,error:(c==null?void 0:c.message)||"Unknown error during onboarding"}}}catch(i){return{success:!1,error:(i==null?void 0:i.message)||"Unknown error during onboarding"}}}const qN=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},whe=n=>n?qN(n):qN,_he=n=>n;function She(n,e=_he){const t=de.useSyncExternalStore(n.subscribe,de.useCallback(()=>e(n.getState()),[n,e]),de.useCallback(()=>e(n.getInitialState()),[n,e]));return de.useDebugValue(t),t}const UN=n=>{const e=whe(n),t=r=>She(e,r);return Object.assign(t,e),t},tV=n=>n?UN(n):UN,Ht=tV((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:t=>{const r=new Map,i=new Map;t.forEach(a=>{r.set(a.index,a),a.moniker&&i.set(a.moniker,a),a.symbol&&i.set(a.symbol,a),a.name&&i.set(a.name,a)});let o=e().selectedMarketId;if(!o&&t.length>0){const c=(t.find(u=>u.active)||t[0]).index;c&&(o=c)}n({markets:t,marketsById:r,marketsBySymbol:i,selectedMarketId:o,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:t=>{const r=e(),i=new Map(r.marketsById),s=new Map(r.marketsBySymbol);i.set(t.index,t),t.moniker&&s.set(t.moniker,t),t.symbol&&s.set(t.symbol,t),t.name&&s.set(t.name,t);const o=r.markets.find(a=>a.index===t.index)?r.markets.map(a=>a.index===t.index?t:a):[...r.markets,t];n({markets:o,marketsById:i,marketsBySymbol:s})},getMarket:t=>e().marketsById.get(t),getMarketBySymbol:t=>e().marketsBySymbol.get(t),setSelectedMarketId:t=>{n({selectedMarketId:t})},setOrderbook:(t,r)=>{const i=e(),s=new Map(i.orderbooks);s.set(t,{...r,timestamp:Date.now()}),n({orderbooks:s,lastUpdated:new Map(i.lastUpdated).set(t,Date.now())})},getOrderbook:t=>e().orderbooks.get(t),updateOrderbook:(t,r)=>{const i=e(),s=i.orderbooks.get(t);if(s){const o={...s,...r,timestamp:Date.now()};i.setOrderbook(t,o)}else i.setOrderbook(t,{bids:r.bids||[],asks:r.asks||[],timestamp:Date.now()})},setTicker:(t,r)=>{const i=e(),s=new Map(i.tickers);s.set(t,{...r,marketId:t,timestamp:Date.now()}),n({tickers:s,lastUpdated:new Map(i.lastUpdated).set(`ticker_${t}`,Date.now())})},getTicker:t=>e().tickers.get(t),setRecentTrades:(t,r)=>{const i=e(),s=new Map(i.recentTrades);s.set(t,r),n({recentTrades:s,lastUpdated:new Map(i.lastUpdated).set(`trades_${t}`,Date.now())})},getRecentTrades:t=>e().recentTrades.get(t),setLoading:(t,r)=>{const i=e();if(t==="markets")n({loadingMarkets:r});else if(t.startsWith("orderbook_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingOrderbooks);r?o.add(s):o.delete(s),n({loadingOrderbooks:o})}else if(t.startsWith("ticker_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTickers);r?o.add(s):o.delete(s),n({loadingTickers:o})}else if(t.startsWith("trades_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTrades);r?o.add(s):o.delete(s),n({loadingTrades:o})}},setError:(t,r)=>{const i=e(),s=new Map(i.errors);r?s.set(t,r):s.delete(t),n({errors:s})},clearError:t=>{e().setError(t,null)},clearCache:t=>{const r=e();if(t){const i=new Map(r.orderbooks),s=new Map(r.tickers),o=new Map(r.recentTrades),a=new Map(r.lastUpdated);i.delete(t),s.delete(t),o.delete(t),a.delete(t),a.delete(`ticker_${t}`),a.delete(`trades_${t}`),n({orderbooks:i,tickers:s,recentTrades:o,lastUpdated:a})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),nV="mormlayer-nonce-store";function o1(n){return n.toLowerCase()}function khe(){if(typeof window>"u"||!window.localStorage)return{};try{const n=window.localStorage.getItem(nV);if(!n)return{};const e=JSON.parse(n);if(typeof e!="object"||e===null)return{};const t={};for(const[r,i]of Object.entries(e))i&&typeof i.confirmed=="number"&&Array.isArray(i.pending)&&typeof i.lastSync=="number"&&(t[r]={confirmed:i.confirmed,pending:i.pending,lastSync:i.lastSync});return t}catch{return{}}}function a1(n){if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(nV,JSON.stringify(n))}catch{}}tV((n,e)=>({byOwner:khe(),getNonceState:t=>e().byOwner[o1(t)],setNonceState:(t,r)=>{const i=o1(t);n(s=>{const o={...s.byOwner,[i]:r};return a1(o),{byOwner:o}})},clearOwner:t=>{const r=o1(t);n(i=>{const{[r]:s,...o}=i.byOwner,a=o;return a1(a),{byOwner:a}})},clearAll:()=>{a1({}),n({byOwner:{}})},getSnapshot:()=>e().byOwner}));function l1(n){const e=n.status==="MARKET_STATUS_ACTIVE";return{...n,index:n.marketIndex,active:e,maxSizeLimit:n.maxSizeLimit??0,minSizeLimit:n.minSizeLimit??0,moniker:n.moniker??n.symbol??"",baseAsset:n.baseAsset??"",quoteAsset:n.quoteAsset??""}}function Che(n,e){var i,s;const t=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),r=(i=n.tradeType)!=null&&i.toLowerCase().includes("buy")||n.buyOrderId?"buy":(s=n.tradeType)!=null&&s.toLowerCase().includes("sell")||n.sellOrderId?"sell":"buy";return{...n,id:n.tradeId,marketId:n.marketIndex||e,price:n.price,size:n.quantity,side:r,timestamp:t}}function WN(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function HN(n,e="-"){return n.moniker?n.moniker:n.symbol?n.symbol:n.baseAsset&&n.quoteAsset?`${n.baseAsset}${e}${n.quoteAsset}`:null}function c1(n,e){return n.startsWith(e)&&n.slice(e.length)||null}function pd(n){const e=M.useRef(null),t=Ht(L=>L.markets),r=Ht(L=>L.marketsById),i=Ht(L=>L.orderbooks),s=Ht(L=>L.tickers),o=Ht(L=>L.recentTrades),a=Ht(L=>L.selectedMarketId),l=Ht(L=>L.loadingMarkets),c=Ht(L=>L.loadingOrderbooks),u=Ht(L=>L.loadingTickers),h=Ht(L=>L.loadingTrades),d=Ht(L=>L.errors),f=Ht(L=>L.setMarkets),m=Ht(L=>L.setMarket),g=Ht(L=>L.getMarket),v=Ht(L=>L.getMarketBySymbol),y=Ht(L=>L.setSelectedMarketId),b=Ht(L=>L.setOrderbook),w=Ht(L=>L.getOrderbook),S=Ht(L=>L.updateOrderbook),_=Ht(L=>L.setTicker),k=Ht(L=>L.getTicker),E=Ht(L=>L.setRecentTrades),C=Ht(L=>L.getRecentTrades),O=Ht(L=>L.setLoading),R=Ht(L=>L.setError),D=Ht(L=>L.clearError),F=Ht(L=>L.clearCache),N=M.useCallback(()=>{const L=e.current;if(!L)throw new Error("InfoClient not initialized");return L},[]);async function W(L,Y,Q){O(L,!0),R(L,null);try{return await Q()}catch(ee){const te=ee instanceof Error?ee.message:Y;throw R(L,te),ee}finally{O(L,!1)}}M.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new Go({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const j=M.useCallback(async()=>{const L=N();return W("markets","Failed to fetch markets",async()=>{const Q=((await L.getMarkets()).markets??[]).map(l1);return f(Q),Q})},[N,f]),$=M.useCallback(async L=>{const Y=g(L);if(Y)return Y;const Q=N();try{const ee=await Q.getMarketByID(L);if(ee){const te=l1(ee);return m(te),te}return null}catch(ee){const te=ee instanceof Error?ee.message:`Failed to fetch market ${L}`;throw R(`market_${L}`,te),ee}},[g,N,m,R]),z=M.useCallback(async L=>{const Y=v(L);if(Y)return Y;const Q=N();try{let ee;try{ee=await Q.getMarketByTicker(L)}catch{ee=await Q.getMarketByMoniker(L)}if(ee){const te=l1(ee);return m(te),te}return null}catch(ee){const te=ee instanceof Error?ee.message:`Failed to fetch market ${L}`;throw R(`market_${L}`,te),ee}},[v,N,m,R]),B=M.useCallback(async(L,Y=!0,Q=20)=>{const ee=N(),te=`orderbook_${L}`;return W(te,`Failed to fetch orderbook for market ${L}`,async()=>{const re=await ee.getOrderbook(L,Y,Q);if(re&&(re.bids||re.asks)){const ae={bids:WN(re.bids||[]),asks:WN(re.asks||[]),timestamp:Date.now()};return b(L,ae),ae}return null})},[N,b]),q=M.useCallback(async L=>{const Y=N(),Q=`ticker_${L}`;return W(Q,`Failed to fetch ticker for market ${L}`,async()=>{const ee=await Y.getMarketStats(L);if(ee){const te={marketId:L,...ee,timestamp:Date.now()};return _(L,te),te}return null})},[N,_]),U=M.useCallback(async(L,Y=100)=>{const Q=N(),ee=`trades_${L}`;return W(ee,`Failed to fetch trades for market ${L}`,async()=>{const te=await Q.getMarketTrades(L,Y);if(te){const ae=(Array.isArray(te)?te:[]).map(he=>Che(he,L));return E(L,ae),ae}return null})},[N,E]);M.useEffect(()=>{n.autoFetchMarkets&&t.length===0&&!l&&j().catch(console.error)},[n.autoFetchMarkets,t.length,l,j]);const V=a?t.find(L=>L.index===a||L.marketIndex===a):null,K=V?HN(V,"-"):null,X=M.useCallback(L=>{const Y=t.find(Q=>Q.index===L||Q.marketIndex===L);return Y?HN(Y,"/"):null},[t]);return{markets:t,marketsById:r,orderbooks:i,tickers:s,recentTrades:o,selectedMarketId:a,selectedMarket:V,selectedMarketSymbol:K,loadingMarkets:l,loadingOrderbooks:c,loadingTickers:u,loadingTrades:h,isLoading:L=>{if(L==="markets")return l;const Y=c1(L,"orderbook_");if(Y!=null)return c.has(Y);const Q=c1(L,"ticker_");if(Q!=null)return u.has(Q);const ee=c1(L,"trades_");return ee!=null?h.has(ee):!1},errors:d,getError:L=>d.get(L),getMarket:g,getMarketBySymbol:v,getSymbolByMarketId:X,getOrderbook:w,getTicker:k,getRecentTrades:C,fetchMarkets:j,fetchMarket:$,fetchMarketBySymbol:z,fetchOrderbook:B,fetchTicker:q,fetchRecentTrades:U,updateOrderbook:S,clearCache:F,clearError:D,setSelectedMarketId:y,getInfoClient:N}}function Nb(n){const{baseURL:e,mnemonic:t,chainID:r,maxRetries:i}=n,[s,o]=M.useState(null),[a,l]=M.useState(!1),[c,u]=M.useState(null),h=M.useRef(0);return M.useEffect(()=>{if(!e||!t||t.trim()===""){o(null),l(!1),u(null);return}const d={baseURL:e,mnemonic:t.trim()};r!==void 0&&(d.chainID=r),i!==void 0&&(d.maxRetries=i);const f=new lhe(d),m=++h.current;return o(null),l(!1),u(null),f.initialize().then(()=>{m===h.current&&(o(f),l(!0),u(null))}).catch(g=>{m===h.current&&(u(g instanceof Error?g:new Error(String(g))),o(null),l(!1))}),()=>{h.current=m+1}},[e,t,r,i]),{client:s,isReady:a,error:c}}function Ehe(n){const{client:e,isReady:t,error:r}=Nb({baseURL:n.baseURL,mnemonic:n.mnemonic}),[i,s]=M.useState(null),[o,a]=M.useState(!1),[l,c]=M.useState(null);M.useEffect(()=>{s(new Go({baseURL:n.baseURL}))},[n.baseURL]),M.useEffect(()=>{r&&c({success:!1,error:`Initialization failed: ${r.message}`})},[r]);const[u,h]=M.useState(HM),[d,f]=M.useState(0),[m,g]=M.useState(0),[v,y]=M.useState(0),[b,w]=M.useState(kue),[S,_]=M.useState(Oue),[k,E]=M.useState(om),[C,O]=M.useState(0),[R,D]=M.useState(0),[F,N]=M.useState(n.marketId?String(n.marketId):"1");M.useEffect(()=>{n.marketId?N(String(n.marketId)):N("1")},[n.marketId]);const{markets:W}=pd({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:j,minSizeLimit:$}=M.useMemo(()=>{if(!F)return{maxSizeLimit:void 0,minSizeLimit:void 0};const ae=W.find(he=>he.marketIndex===F);return ae?{maxSizeLimit:ae.maxSizeLimit||40,minSizeLimit:ae.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[F,W]);M.useEffect(()=>{n.selectedBucketBalance!==void 0&&O(n.selectedBucketBalance)},[n.selectedBucketBalance]);const z=M.useCallback(async()=>{if(!(!i||!e||!t)&&n.selectedBucketBalance===void 0)try{const ae=e.getWalletAddress(),he=await i.getBalanceDecimal(ae,"MORM");he&&he.availableBalance!==void 0&&O(lt(he.availableBalance))}catch(ae){console.error("Failed to load balance:",ae)}},[i,e,t,n.selectedBucketBalance]);M.useEffect(()=>{t&&i&&e&&n.selectedBucketBalance===void 0&&z()},[t,i,e,n.selectedBucketBalance,z]);const B=M.useCallback(async()=>{if(i)try{const ae=await i.getMarketStats(F);if(ae&&ae.lastPrice){const he=lt(ae.lastPrice);D(he)}}catch(ae){console.error("Failed to load market price:",ae)}},[i,F]);M.useEffect(()=>{t&&i&&B()},[t,i,B]);const q=M.useCallback(()=>u==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:R:v||0,[u,v,R,n.tradePrice]),U=M.useCallback(()=>C*b,[C,b]),V=M.useCallback(()=>{let ae;if(m>0)ae=m;else{const J=U()*d/100,ne=q();if(ne<=0)return 0;ae=J/ne}return $!==void 0&&$>0&&ae<$?0:j!==void 0&&j>0&&ae>j?j:ae},[m,d,U,q,j,$]),K=M.useCallback(()=>{const ae=V(),he=q();return ae*he},[V,q]),X=M.useCallback(()=>{const ae=V(),he=q(),J=ae*he;return Yoe(J)},[V,q]),L=M.useCallback(()=>{const ae=X();return b<=0?0:Math.floor(ae/b)},[X,b]),Y=M.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const ae=V();if(ae<=0){c({success:!1,error:"Invalid order size"});return}const he=q();if(he<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const J=Cn(b.toString()),ne=await e.placeOrder({marketId:F,bucketId:n.selectedBucketId,side:"BUY",orderType:u,price:he,quantity:ae,leverage:J});c({success:!0,orderId:ne.orderId,message:"Buy order placed successfully"}),await z()}catch(J){c({success:!1,error:J instanceof Error?J.message:"Unknown error"})}finally{a(!1)}},[e,t,V,q,u,v,b,F,n.selectedBucketId,z]),Q=M.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const ae=V();if(ae<=0){c({success:!1,error:"Invalid order size"});return}const he=q();if(he<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const J=Cn(b.toString()),ne=await e.placeOrder({marketId:F,bucketId:n.selectedBucketId,side:"SELL",orderType:u,price:he,quantity:ae,leverage:J});c({success:!0,orderId:ne.orderId,message:"Sell order placed successfully"}),await z()}catch(J){c({success:!1,error:J instanceof Error?J.message:"Unknown error"})}finally{a(!1)}},[e,t,V,q,u,v,b,F,n.selectedBucketId,z]),ee=M.useCallback(async(ae,he)=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}if(!F||F.trim()===""){c({success:!1,error:"Market ID is required"});return}if(ae<=0){c({success:!1,error:"Leverage must be greater than 0"});return}if(!he.bucketId||he.bucketId.trim()===""){c({success:!1,error:"Bucket ID is required"});return}a(!0),c(null);try{const J=await e.changeLeverage({marketId:F,newLeverage:ae,bucketId:he.bucketId,leverageType:he.leverageType,reason:he.reason});w(ae),c({success:!0,message:"Leverage changed successfully",orderId:J.txhash}),await z()}catch(J){c({success:!1,error:J instanceof Error?J.message:"Unknown error"})}finally{a(!1)}},[e,t,F,z]),te=M.useCallback(ae=>{const he=U(),J=he*ae/100,ne=q();let oe=ne>0?J/ne:0;if($!==void 0&&$>0&&oe<$&&(oe=0),j!==void 0&&j>0&&oe>j)if(oe=j,oe>0&&he>0&&ne>0){const xe=oe*ne/he*100;f(Math.min(100,Math.max(0,xe)))}else f(ae);else f(ae);g(oe)},[U,q,j,$]),re=M.useCallback(ae=>{let he=isNaN(ae)||ae<0?0:ae;j!==void 0&&j>0&&he>j&&(he=j),g(he);const J=U(),ne=q();if(he>0&&J>0&&ne>0){const oe=he*ne/J*100;f(Math.min(100,Math.max(0,oe)))}else f(0)},[U,q,j]);return{orderType:u,setOrderType:h,fundPercent:d,sizeInput:m,price:v,leverage:b,positionMode:S,marginMode:k,availableBalance:C,currentPrice:R,marketId:F,isReady:t,loading:o,result:l,setFundPercent:te,setSizeInput:re,setPrice:y,setLeverage:w,setPositionMode:_,setMarginMode:E,setMarketId:N,placeBuyOrder:Y,placeSellOrder:Q,changeLeverage:ee,loadBalance:z,loadMarketPrice:B,calculateSize:V,calculateSizeUSD:K,calculateValue:X,calculateMargin:L,getOrderPrice:q,getAvailableTradeAmount:U}}function YN(n,e){return{asks:[],bids:[],spread:0,midPrice:0,marketIndex:n.marketIndex||e||"",sequenceId:n.sequenceId||"",firstUpdateId:n.firstUpdateId||0,lastUpdateId:n.lastUpdateId||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function b0(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function iu(n){const e=[...n].sort((r,i)=>i[0]-r[0]);let t=0;return e.map(([r,i])=>(t+=i,{price:r,size:i,cumulative:t,flash:null}))}function rV(n){const e=n.useWebSocket!==!1,[t,r]=M.useState([]),[i,s]=M.useState([]),[o,a]=M.useState(0),[l,c]=M.useState(0),[u,h]=M.useState(""),[d,f]=M.useState(""),[m,g]=M.useState(0),[v,y]=M.useState(0),[b,w]=M.useState(""),[S,_]=M.useState(""),[k,E]=M.useState(!0),[C,O]=M.useState(null),[R,D]=M.useState(!1),[F,N]=M.useState(null),W=M.useRef(null),j=M.useRef(null),$=M.useRef(!1),z=M.useRef(null),B=M.useRef(null),q=M.useRef(null),U=M.useRef(new Map),V=M.useRef(null),K=M.useRef(null),X=M.useRef(null),L=M.useRef({asks:[],bids:[],spread:0,midPrice:0,marketIndex:"",sequenceId:"",firstUpdateId:0,lastUpdateId:0,checksum:"",timestamp:""});M.useEffect(()=>{L.current={asks:t,bids:i,spread:o,midPrice:l,marketIndex:u,sequenceId:d,firstUpdateId:m,lastUpdateId:v,checksum:b,timestamp:S}},[t,i,o,l,u,d,m,v,b,S]);const Y=M.useCallback((J,ne)=>{const ye=new Map,oe=new Map,be=new Map,xe=new Map;J.asks.forEach(pe=>{pe.size>0&&ye.set(pe.price,pe.size)}),J.bids.forEach(pe=>{pe.size>0&&oe.set(pe.price,pe.size)}),ne.asks&&ne.asks.forEach(([pe,Ce])=>{if(typeof pe!="number"||typeof Ce!="number"||isNaN(pe)||isNaN(Ce)||pe<=0||Ce<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:pe,size:Ce});return}const Se=ye.get(pe)??0,Fe=ye.has(pe);Ce===0?Fe&&ye.delete(pe):Fe?Se!==Ce&&(ye.set(pe,Ce),be.set(pe,Ce>Se?"up":"down")):(ye.set(pe,Ce),be.set(pe,"up"))}),ne.bids&&ne.bids.forEach(([pe,Ce])=>{if(typeof pe!="number"||typeof Ce!="number"||isNaN(pe)||isNaN(Ce)||pe<=0||Ce<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:pe,size:Ce});return}const Se=oe.get(pe)??0,Fe=oe.has(pe);Ce===0?Fe&&oe.delete(pe):Fe?Se!==Ce&&(oe.set(pe,Ce),xe.set(pe,Ce>Se?"up":"down")):(oe.set(pe,Ce),xe.set(pe,"up"))});const Me=Array.from(ye.entries()),we=Array.from(oe.entries()),_e=iu(Me),Ze=iu(we),Ge=Date.now();if(_e.forEach(pe=>{const Ce=be.get(pe.price);Ce?(pe.flash=Ce,U.current.set(`ask-${pe.price}`,Ge)):pe.flash=null}),Ze.forEach(pe=>{const Ce=xe.get(pe.price);Ce?(pe.flash=Ce,U.current.set(`bid-${pe.price}`,Ge)):pe.flash=null}),be.size>0||xe.size>0){const pe=_e.filter(Se=>Se.flash!==null).length,Ce=Ze.filter(Se=>Se.flash!==null).length;(pe!==be.size||Ce!==xe.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:be.size,appliedAskFlashes:pe,bidChangesCount:xe.size,appliedBidFlashes:Ce})}const ot=n.maxDepth||100,Ee=_e.slice(0,ot),Be=Ze.slice(0,ot);let Oe=0,We=0;if(Ee.length>0&&Be.length>0){const pe=Ee[Ee.length-1].price,Ce=Be[0].price;Oe=pe-Ce,We=(pe+Ce)/2}return{asks:Ee,bids:Be,spread:Oe,midPrice:We,marketIndex:J.marketIndex,sequenceId:J.sequenceId,firstUpdateId:J.firstUpdateId,lastUpdateId:J.lastUpdateId,checksum:J.checksum,timestamp:J.timestamp}},[n.maxDepth]),Q=M.useCallback(async(J,ne={})=>{if(!W.current){ne.errorMessage&&console.error(ne.errorMessage);return}const{setLoadingState:ye=!1,updateMarketIdRef:oe=!1}=ne;ye&&(E(!0),O(null));try{const be=await W.current.getOrderbook(J,!0);if(be&&(be.bids||be.asks)){const xe=b0(be.asks||[]),Me=b0(be.bids||[]),we=iu(xe),_e=iu(Me),Ze=n.maxDepth||100,Ge=we.slice(0,Ze),ot=_e.slice(0,Ze);let Ee=0,Be=0;if(Ge.length>0&&ot.length>0){const pe=Ge[Ge.length-1].price,Ce=ot[0].price;Ee=pe-Ce,Be=(pe+Ce)/2}oe&&(z.current=J);const Oe=L.current,We={asks:Ge,bids:ot,spread:Ee,midPrice:Be,marketIndex:J,sequenceId:Oe.sequenceId||"",firstUpdateId:Oe.firstUpdateId||0,lastUpdateId:Oe.lastUpdateId||0,checksum:Oe.checksum||"",timestamp:Oe.timestamp||new Date().toISOString()};return r(Ge),s(ot),a(Ee),c(Be),h(J),f(We.sequenceId),g(We.firstUpdateId),y(We.lastUpdateId),w(We.checksum),_(We.timestamp),We}}catch(be){const xe=ne.errorMessage||(be instanceof Error?be.message:"Failed to load orderbook");ye?O(xe):console.error(xe)}finally{ye&&E(!1)}},[n.maxDepth]),ee=M.useCallback(async()=>{const J=L.current,ne=YN(J);r(ne.asks),s(ne.bids),a(ne.spread),c(ne.midPrice),await Q(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,Q]),te=M.useCallback(async()=>{const J=L.current,ne=YN(J,n.marketId);r(ne.asks),s(ne.bids),a(ne.spread),c(ne.midPrice),h(ne.marketIndex),await Q(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,Q]),re=M.useCallback(async J=>{const ne=await Q(J,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${J}`});return ne&&console.log(`[useOrderbook] Fetched snapshot for market ${J} and updated orderbook`),ne},[Q]),ae=M.useCallback((J,ne)=>{if(J.snapshot===!0||J.type==="snapshot"){const oe=b0(J.asks||[]),be=b0(J.bids||[]),xe=iu(oe),Me=iu(be),we=n.maxDepth||100,_e=xe.slice(0,we),Ze=Me.slice(0,we);let Ge=0,ot=0;if(_e.length>0&&Ze.length>0){const Ee=_e[_e.length-1].price,Be=Ze[0].price;Ge=Ee-Be,ot=(Ee+Be)/2}return{asks:_e,bids:Ze,spread:Ge,midPrice:ot,marketIndex:J.marketIndex??ne.marketIndex,sequenceId:J.sequenceId||ne.sequenceId,firstUpdateId:J.firstUpdateId??ne.firstUpdateId,lastUpdateId:J.lastUpdateId??ne.lastUpdateId,checksum:J.checksum||ne.checksum,timestamp:J.timestamp||ne.timestamp,snapshot:J.snapshot}}else{const oe=Y(ne,{bids:J.bids,asks:J.asks});return{...oe,marketIndex:J.marketIndex??oe.marketIndex,sequenceId:J.sequenceId||oe.sequenceId,firstUpdateId:J.firstUpdateId??oe.firstUpdateId,lastUpdateId:J.lastUpdateId??oe.lastUpdateId,checksum:J.checksum||oe.checksum,timestamp:J.timestamp||oe.timestamp}}},[Y,n.maxDepth]),he=M.useCallback(async J=>{if(!J||!J.bids&&!J.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}const ne=J.sequenceId??J.sequence_id;if(!J.marketIndex||ne===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing marketIndex or sequenceId)",{hasMarketId:!!J.marketIndex,hasSequenceId:ne!==void 0});return}const ye=z.current||n.marketId;let oe=L.current;if(J.marketIndex!==ye){console.log(`[useOrderbook] Received update for market ${J.marketIndex}, current market is ${ye}. Fetching snapshot...`);const we=await re(J.marketIndex);we&&(oe=we)}const be=J,xe={marketIndex:J.marketIndex??"",sequenceId:J.sequenceId??be.sequence_id??"",firstUpdateId:J.firstUpdateId??be.first_update_id??0,lastUpdateId:J.lastUpdateId??be.last_update_id??0,checksum:J.checksum??"",timestamp:J.timestamp??"",bids:(J.bids??[]).map(([we,_e])=>[lt(we),lt(_e)]),asks:(J.asks??[]).map(([we,_e])=>[lt(we),lt(_e)]),spread:0,midPrice:0,snapshot:J.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:xe.marketIndex,sequenceId:xe.sequenceId,bidsCount:xe.bids.length,asksCount:xe.asks.length,isSnapshot:xe.snapshot});const Me=ae(xe,oe);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:xe.sequenceId,bidsCount:Me.bids.length,asksCount:Me.asks.length,spread:Me.spread,midPrice:Me.midPrice,bestBid:Me.bids.length>0?Me.bids[0].price:null,bestAsk:Me.asks.length>0?Me.asks[Me.asks.length-1].price:null}),r(Me.asks),s(Me.bids),a(Me.spread),c(Me.midPrice),h(Me.marketIndex),f(Me.sequenceId),g(Me.firstUpdateId),y(Me.lastUpdateId),w(Me.checksum),_(Me.timestamp)},[ae,re,n.marketId]);return V.current=he,M.useEffect(()=>{const J=new Go({baseURL:n.baseURL});W.current=J,j.current=n.subscriptionClient,z.current===null&&(z.current=n.marketId);const ne=()=>{const oe=j.current;if(oe&&oe.isConnected()){const be=z.current!==null?z.current:n.marketId,xe=Number(be);if(Number.isNaN(xe))return;const Me=oe.getMultiplexStreamClient();if(!$.current||z.current!==be){X.current&&(Me.unsubscribeStreams([X.current]),X.current=null);const we={stream_type:"orderbook",filter:{marketIndices:[xe],depth:20}};Me.subscribeStreams([we]).catch(console.error),X.current=we,$.current=!0,z.current=be}}},ye=n.subscriptionClient;if(e){const oe=ye.getMultiplexStreamClient();K.current=oe.onStreamData("orderbook",we=>{var _e;we.type==="data"&&we.data!=null&&((_e=V.current)==null||_e.call(V,we.data))}),ye.isConnected()?(D(!0),N(null),ne()):(N("WebSocket not connected. Using HTTP polling."),D(!1),W.current&&B.current===null&&(ee(),B.current=window.setInterval(()=>{ee()},5e3)));const Me=ye.onStateChange(we=>{we===nt.Connected?(D(!0),N(null),B.current!==null&&(clearInterval(B.current),B.current=null),$.current&&ne()):(we===nt.Disconnected||we===nt.Reconnecting)&&(D(!1),$.current=!1,N("WebSocket disconnected. Using static data."))});return()=>{var we;if(q.current!==null&&(clearTimeout(q.current),q.current=null),$.current=!1,z.current=null,Me&&Me(),j.current){const _e=j.current.getMultiplexStreamClient();X.current&&(_e.unsubscribeStreams([X.current]),X.current=null)}(we=K.current)==null||we.call(K),K.current=null}}else return D(!1),N(null),W.current&&B.current===null&&(ee(),B.current=window.setInterval(()=>{ee()},5e3)),()=>{B.current!==null&&(clearInterval(B.current),B.current=null),$.current=!1,z.current=null}},[n.baseURL,n.subscriptionClient,e]),M.useEffect(()=>{if(!W.current)return;const J=z.current;if(e&&j.current&&J!==null&&J!==n.marketId&&j.current.isConnected()){const ne=j.current.getMultiplexStreamClient();X.current&&(ne.unsubscribeStreams([X.current]),X.current=null),$.current=!1}if(r([]),s([]),a(0),c(0),h(n.marketId),f(""),g(0),y(0),w(""),_(""),E(!0),O(null),N(null),te(),e&&j.current&&j.current.isConnected()){const ne=Number(n.marketId);if(!Number.isNaN(ne)){const ye=j.current.getMultiplexStreamClient(),oe={stream_type:"orderbook",filter:{marketIndices:[ne],depth:20}};ye.subscribeStreams([oe]).catch(console.error),X.current=oe,$.current=!0}}return z.current=n.marketId,()=>{if(e&&j.current&&j.current.isConnected()&&z.current===n.marketId){const ne=j.current.getMultiplexStreamClient();X.current&&(ne.unsubscribeStreams([X.current]),X.current=null),$.current=!1}}},[n.marketId,e,te]),M.useEffect(()=>(B.current!==null&&(clearInterval(B.current),B.current=null),(!e||!R&&e)&&W.current&&!n.disablePolling&&(ee(),B.current=window.setInterval(()=>{ee()},3e4)),()=>{B.current!==null&&(clearInterval(B.current),B.current=null)}),[R,e,n.marketId,n.disablePolling,ee]),M.useEffect(()=>{const J=setInterval(()=>{const ne=Date.now(),ye=500;let oe=!1;const be=t.map(Me=>{const we=`ask-${Me.price}`,_e=U.current.get(we);return Me.flash&&_e&&ne-_e>=ye?(oe=!0,U.current.delete(we),{...Me,flash:null}):Me}),xe=i.map(Me=>{const we=`bid-${Me.price}`,_e=U.current.get(we);return Me.flash&&_e&&ne-_e>=ye?(oe=!0,U.current.delete(we),{...Me,flash:null}):Me});oe&&(r(be),s(xe))},100);return()=>clearInterval(J)},[t,i]),{asks:t,bids:i,spread:o,midPrice:l,market_id:u,sequence_id:d,first_update_id:m,last_update_id:v,checksum:b,timestamp:S,loading:k,error:C,isConnected:R,wsError:F,refresh:te}}const iV={amountPct:.411,intervalMs:100,amountChangeThresholdPct:1.304,defaultMidPrice:7e4,defaultLevelsCount:20};function The(n,e=5){const t=Math.max(n*.001,1e-4),r=.1,i=[],s=[];for(let u=0;u<e;u++){const h=n+(e-u)*t,d=n-(u+1)*t;i.push({price:h,size:r*(1+u*.2),cumulative:0,flash:null}),s.push({price:d,size:r*(1+u*.2),cumulative:0,flash:null})}i.sort((u,h)=>h.price-u.price),s.sort((u,h)=>h.price-u.price);let o=0,a=0;const l=i.map(u=>(o+=u.size,{...u,cumulative:o})),c=s.map(u=>(a+=u.size,{...u,cumulative:a}));return{asks:l,bids:c}}const Mhe={maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3},u1={enabled:!1,jitter:iV,fakePending:Mhe},Phe=1e-6;function sV(n,e,t){if(n===0||e<=0)return n;const r=n*e,s=((Math.sin(t*1e3)+1)/2-.5)*2*r;return Math.max(0,n+s)}function Ihe(n,e,t,r,i){const s=sV(n,e,t);if(r===void 0||i===void 0||i<=0)return s;const o=Math.max(i*Phe,.01);return r==="ask"?Math.max(s,i+o):Math.min(s,i-o)}function x0(n,e,t,r){if(n.length===0)return[];const i=e.amountPct,s=r==null?void 0:r.side,o=r==null?void 0:r.midPrice,a=n.map((c,u)=>{const h=t+c.price*1e6+u,d=t+c.size*1e3+u*7;return{...c,price:Ihe(c.price,i,h,s,o),size:sV(c.size,i,d),cumulative:0}});a.sort((c,u)=>u.price-c.price);let l=0;return a.map(c=>(l+=c.size,{...c,cumulative:l}))}const h1=5e-4,d1=.0025;function GN(n,e,t,r,i){const s=Date.now(),o=r.minLifetimeMs+Math.random()*(r.maxLifetimeMs-r.minLifetimeMs),a=h1+Math.pow(Math.random(),1.6)*(d1-h1),l=e*a*(n==="ask"?1:-1),c=e+l,u=t*r.volumeScalePct*(.7+Math.random()*.6),d=1+.5*((d1-a)/(d1-h1)),f=Math.max(.01,u*d);return{price:c,size:f,cumulative:f,flash:null,isPending:!0,id:i,createdAt:s,expiresAt:s+o}}function VN(n,e,t){const r=[...n,...e];r.sort((o,a)=>a.price-o.price);const i=r.slice(0,t);let s=0;return i.map(o=>(s+=o.size,{...o,cumulative:s}))}function Ohe(n,e=u1,t=100){const r=e.enabled===!0,i=e.jitter??u1.jitter,s=e.fakePending??u1.fakePending,[o,a]=M.useState(n.asks),[l,c]=M.useState(n.bids),[u,h]=M.useState([]),[d,f]=M.useState([]),m=M.useRef(0),g=M.useRef(null),v=M.useRef(0),y=M.useRef(n),b=M.useRef(s),w=M.useRef(null);y.current=n,b.current=s;const S=(i==null?void 0:i.defaultMidPrice)??1,_=(i==null?void 0:i.defaultLevelsCount)??5,k=M.useMemo(()=>The(S,_),[S,_]),E=M.useMemo(()=>{const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids;if(R.length===0||D.length===0)return S;const F=Math.min(...R.map(W=>W.price)),N=Math.max(...D.map(W=>W.price));return(F+N)/2},[n.asks,n.bids,k,S]);M.useEffect(()=>{if(!r||!i)return;const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids,F=R.reduce((K,X)=>K+X.size,0),N=D.reduce((K,X)=>K+X.size,0),W=w.current,j=i.amountChangeThresholdPct??0;if(W!==null&&j>0){const K=W.askTotal>0?Math.abs(F-W.askTotal)/W.askTotal:1,X=W.bidTotal>0?Math.abs(N-W.bidTotal)/W.bidTotal:1;if(K<j&&X<j)return}w.current={askTotal:F,bidTotal:N};const $=m.current,z={midPrice:E},B=x0(R,i,$,{...z,side:"ask"}),q=x0(D,i,$,{...z,side:"bid"}),U=B.length?Math.min(...B.map(K=>K.price)):1/0,V=q.length?Math.max(...q.map(K=>K.price)):-1/0;U<=V?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(R.map(K=>({...K}))),c(D.map(K=>({...K})))):(a(B),c(q))},[r,i,n.asks,n.bids,k,E]),M.useEffect(()=>{if(!r||!i)return;const R=i.intervalMs??500,D=setInterval(()=>{m.current+=1;const F=m.current,N=n.asks.length>0?n.asks:k.asks,W=n.bids.length>0?n.bids:k.bids,j={midPrice:E},$=x0(N,i,F,{...j,side:"ask"}),z=x0(W,i,F,{...j,side:"bid"}),B=$.length?Math.min(...$.map(U=>U.price)):1/0,q=z.length?Math.max(...z.map(U=>U.price)):-1/0;B<=q?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(N.map(U=>({...U}))),c(W.map(U=>({...U})))):(a($),c(z))},R);return()=>clearInterval(D)},[r,i,n.asks,n.bids,k,E]);const C=M.useRef(()=>{const R=b.current;if(!R)return;const D=R.minAddDelayMs+Math.random()*(R.maxAddDelayMs-R.minAddDelayMs);g.current=setTimeout(()=>{var B,q;g.current=null;const F=y.current,N=F.asks.length>0&&F.bids.length>0?(F.asks[F.asks.length-1].price+F.bids[0].price)/2:0,W=(((B=F.asks[F.asks.length-1])==null?void 0:B.size)??0)||(((q=F.bids[0])==null?void 0:q.size)??0)||1;if(N<=0){C.current();return}const j=b.current;if(!j)return;v.current+=1;const $=`fake-ask-${v.current}`,z=`fake-bid-${v.current}`;h(U=>[...U,GN("ask",N,W,j,$)].slice(-j.maxFakeLevelsPerSide)),f(U=>[...U,GN("bid",N,W,j,z)].slice(-j.maxFakeLevelsPerSide)),C.current()},D)});return M.useEffect(()=>{if(!(!r||!s))return C.current(),()=>{g.current&&(clearTimeout(g.current),g.current=null)}},[r]),M.useEffect(()=>{if(!r)return;const R=setInterval(()=>{const D=Date.now();h(F=>F.filter(N=>N.expiresAt>D)),f(F=>F.filter(N=>N.expiresAt>D))},500);return()=>clearInterval(R)},[r]),M.useEffect(()=>{r||(w.current=null,h([]),f([]),a(n.asks.map(R=>({...R}))),c(n.bids.map(R=>({...R}))))},[r,n.asks,n.bids]),M.useMemo(()=>{const R=n.isConnected?!1:n.loading??!1;if(!r)return{...n,loading:R,asks:n.asks.map(W=>({...W})),bids:n.bids.map(W=>({...W}))};const D=VN(o,u,t),F=VN(l,d,t);let N=n.spread;if(D.length>0&&F.length>0){const W=D[D.length-1].price,j=F[0].price;N=W-j}return{...n,loading:R,asks:D,bids:F,spread:N}},[r,n,o,l,u,d,t])}function oV(n){const{getSymbolByMarketId:e}=pd({baseURL:n.baseURL,autoFetchMarkets:!0}),[t,r]=M.useState(null),[i,s]=M.useState(null),[o,a]=M.useState([]),[l,c]=M.useState(!0),[u,h]=M.useState(null),[d,f]=M.useState(!1),[m,g]=M.useState(null),v=M.useRef(null),y=M.useRef(null),b=M.useRef(!1),w=M.useRef(!1),S=M.useRef(null),_=M.useRef(null),k=M.useRef(null),E=M.useRef(null),C=M.useRef(null),O=M.useRef([]),R=M.useCallback(async()=>{if(!v.current){console.warn("[useTradePrice] pollRecentTrades called but infoClientRef.current is null");return}if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] pollRecentTrades called but marketId is empty"),h("Market ID is required but was not provided");return}try{const z=n.limit||100,B=await v.current.getMarketTrades(n.marketId,z);if(B&&Array.isArray(B)&&B.length>0){const q=LN(B);a(q);const V=[...B].sort((X,L)=>{const Y=_o(X.timestamp);return _o(L.timestamp)-Y})[0],K={marketIndex:n.marketId||V.marketIndex||"",price:lt(V.price),quantity:lt(V.quantity),timestamp:_o(V.timestamp),isBuyerMaker:!1,tradeId:V.tradeId||""};r(X=>(X&&typeof X.price=="number"&&(K.price>X.price?g("up"):K.price<X.price&&g("down")),setTimeout(()=>g(null),500),K))}else console.warn("[useTradePrice] Polling returned no trades or invalid data:",B),a([])}catch(z){h(z instanceof Error?z.message:"Failed to load recent trades"),console.error("[useTradePrice] Failed to poll recent trades:",z)}},[n.marketId,n.limit]),D=M.useCallback(async()=>{if(v.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] initializeRecentTrades called but marketId is empty"),c(!1),h("Market ID is required but was not provided");return}c(!0),h(null);try{const z=n.limit||100,B=await v.current.getMarketTrades(n.marketId,z);if(B&&Array.isArray(B)&&B.length>0){const q=LN(B);a(q);const V=[...B].sort((X,L)=>{const Y=_o(X.timestamp);return _o(L.timestamp)-Y})[0],K={marketIndex:n.marketId||V.marketIndex||"",price:lt(V.price),quantity:lt(V.quantity),timestamp:_o(V.timestamp),isBuyerMaker:!1,tradeId:V.tradeId||""};r(K)}else console.warn("[useTradePrice] Initialization returned no trades or invalid data:",B),a([])}catch(z){h(z instanceof Error?z.message:"Failed to load recent trades"),console.error("Failed to initialize recent trades:",z),a([])}finally{c(!1)}}},[n.marketId,n.limit]),F=M.useCallback(z=>{if(console.debug("[useTradePrice] handleLastPriceUpdate called with data:",z),!z){console.warn("[useTradePrice] handleLastPriceUpdate received null/undefined data");return}if(!z.price||z.price===""){console.warn("[useTradePrice] handleLastPriceUpdate received data without price field:",z);return}z.derived===!0&&console.debug("[useTradePrice] Received derived price update (not an actual trade), will update lastPrice but not recentTrades");const B=lt(z.price),q=lt(z.quantity);if(isNaN(B)){console.warn("[useTradePrice] Invalid price value:",z.price);return}const U=UM(z.timestamp);r(V=>{tf(V)&&typeof V.price=="number"&&(B>V.price?g("up"):B<V.price&&g("down")),setTimeout(()=>g(null),500);const K={marketIndex:n.marketId||z.marketIndex||"",price:B,quantity:q,timestamp:U,isBuyerMaker:z.isBuyerMaker??!1,tradeId:z.tradeId??""};return tf(K)||console.error("[useTradePrice] Invalid LastPriceData structure:",K),console.debug("[useTradePrice] Setting lastPrice to:",K),console.debug("[useTradePrice] Type check - isLastPriceData:",tf(K)),K}),z.derived||a(V=>{const K={time:U,size:q,price:B,is_buyer_maker:z.is_buyer_maker||!1};if(V.some(ee=>ee.time===U&&ee.price===B&&ee.size===q))return console.debug("[useTradePrice] Trade already exists in recentTrades, skipping duplicate"),V;const L=[K,...V],Y=n.limit||100,Q=L.slice(0,Y);return console.debug("[useTradePrice] Added new trade to recentTrades:",K),Q})},[n.marketId,n.limit,e]),N=M.useCallback(z=>{if(!z){console.warn("[useTradePrice] handleMarkPriceUpdate received null/undefined data");return}if(z.mark_price===void 0||z.mark_price===null){console.warn("[useTradePrice] handleMarkPriceUpdate received data without mark_price field:",z);return}const B=lt(z.mark_price);if(isNaN(B)){console.warn("[useTradePrice] Invalid mark_price value:",z.mark_price);return}const q=e(n.marketId)||"",U={symbol:z.symbol||q,mark_price:B,timestamp:UM(z.timestamp)};i1(U)||console.error("[useTradePrice] Invalid MarkPriceData structure:",U),s(U)},[n.marketId,e]),W=M.useCallback(()=>{var q,U;const z=y.current;if(!z)return;const B=z.getMultiplexStreamClient();(q=E.current)==null||q.call(E),E.current=null,(U=C.current)==null||U.call(C),C.current=null,O.current.length>0&&(B.unsubscribeStreams(O.current),O.current=[]),b.current=!1,w.current=!1},[]);M.useEffect(()=>{const z=new Go({baseURL:n.baseURL});v.current=z;const B=n.subscriptionClient;D(),y.current=B;const q=async()=>{if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot subscribe: marketId is empty"),h("Market ID is required but was not provided");return}if(!B.isReadyForSubscriptions()){if(B.isConnected()&&!B.isReadyForSubscriptions()){const K=B.getAuthState();K==="pending"?console.debug("[useTradePrice] Waiting for authentication to complete..."):K==="failed"&&(console.error("[useTradePrice] Authentication failed - cannot subscribe to trade price"),h("Authentication failed - cannot subscribe to trade price"))}return}if(!b.current||!w.current){W();try{const K=B.getMultiplexStreamClient();await K.subscribeToChannel();const X=Number(n.marketId),L=[{stream_type:"price_feed",filter:{marketIndices:[Number.isNaN(X)?0:X]}},{stream_type:"markPrice",filter:{marketIndices:[Number.isNaN(X)?0:X]}}];await K.subscribeStreams(L),O.current=L,E.current=K.onStreamData("price_feed",Y=>{const Q=Y.data;Q!=null&&typeof Q=="object"&&F(Q)}),C.current=K.onStreamData("markPrice",Y=>{const Q=Y.data;Q!=null&&typeof Q=="object"&&N(Q)}),b.current=!0,w.current=!0,console.debug("[useTradePrice] Subscribed to multiplex price_feed and markPrice:",n.marketId),c(!1)}catch(K){console.error("[useTradePrice] Failed to subscribe:",K),h(K instanceof Error?K.message:"Failed to subscribe to trade price data"),b.current=!1,w.current=!1,c(!1)}}};f(B.isConnected()),c(!1),B.isReadyForSubscriptions()&&q();const U=B.onStateChange(V=>{console.debug("[useTradePrice] WebSocket state changed to:",V),f(V===nt.Connected),V===nt.Connected?(console.debug("[useTradePrice] WebSocket connected - stopping polling if active"),q()):(V===nt.Disconnected||V===nt.Reconnecting)&&console.debug("[useTradePrice] WebSocket disconnected/reconnecting - polling effect should start polling")});return()=>{U&&U(),W()}},[n.subscriptionClient,n.baseURL,n.marketId,F,N,W]),M.useEffect(()=>{const z=n.subscriptionClient;if(v.current&&z&&y.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot re-initialize: marketId is empty"),h("Market ID is required but was not provided");return}const B=e(n.marketId)||"BTC/USDC",q=_.current,U=k.current;z.isConnected()&&q!==null&&(q!==n.marketId||U!==B)&&W(),D(),z.isReadyForSubscriptions()&&(async()=>{var K;try{const X=(K=y.current)==null?void 0:K.getMultiplexStreamClient();if(!X)return;await X.subscribeToChannel();const L=Number(n.marketId),Y=Number.isNaN(L)?0:L,Q=[{stream_type:"price_feed",filter:{marketIndices:[Y]}},{stream_type:"markPrice",filter:{marketIndices:[Y]}}];await X.subscribeStreams(Q),O.current=Q,E.current=X.onStreamData("price_feed",ee=>{const te=ee.data;te!=null&&typeof te=="object"&&F(te)}),C.current=X.onStreamData("markPrice",ee=>{const te=ee.data;te!=null&&typeof te=="object"&&N(te)}),b.current=!0,w.current=!0}catch(X){console.error("[useTradePrice] Failed to re-subscribe:",X),h(X instanceof Error?X.message:"Failed to subscribe to trade price data"),b.current=!1,w.current=!1}})(),_.current=n.marketId,k.current=B}},[n.subscriptionClient,n.marketId]),M.useEffect(()=>(console.debug("[useTradePrice] Polling effect triggered - isConnected:",d,"marketId:",n.marketId,"disablePolling:",n.disablePolling),S.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (polling effect)"),clearInterval(S.current),S.current=null),!d&&v.current&&n.disablePolling===!1?(console.debug("[useTradePrice] Starting HTTP polling (WebSocket disconnected, marketId:",n.marketId,")"),R(),S.current=window.setInterval(()=>{R()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):!d&&!v.current?console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null (isConnected:",d,")"):d?console.debug("[useTradePrice] WebSocket connected, polling not needed"):n.disablePolling!==!1&&console.debug("[useTradePrice] Polling disabled by config (default behavior)"),()=>{S.current!==null&&(console.debug("[useTradePrice] Cleaning up polling interval (polling effect cleanup)"),clearInterval(S.current),S.current=null)}),[d,n.marketId,n.disablePolling]);const{displayPrice:j,displayTimestamp:$}=M.useMemo(()=>{const z=tf(t)&&t.price!=null,B=i1(i)&&i.mark_price!=null;if(z&&B){const q=t.timestamp||0,U=i.timestamp||0;return q>=U?{displayPrice:t.price,displayTimestamp:q}:{displayPrice:i.mark_price,displayTimestamp:U}}return z?{displayPrice:t.price,displayTimestamp:t.timestamp||0}:B?{displayPrice:i.mark_price,displayTimestamp:i.timestamp||0}:{displayPrice:null,displayTimestamp:null}},[t,i]);return{lastPrice:t,markPrice:i,displayPrice:j,displayTimestamp:$,recentTrades:o,loading:l,error:u,isConnected:d,priceChange:m,refresh:D,infoClient:v.current,isLastPriceData:tf,isMarkPriceData:i1}}const w0=["funding_rate","deviation","twap"],f1=n=>{if(n)return Array.isArray(n)?n[0]:n},p1=(n,e)=>`${n}-${e}`,m1=n=>(n==null?void 0:n.isReadyForSubscriptions())??!1;function Rhe(n){const e=n.historyDepth??10,t=n.marketId,[r,i]=M.useState(void 0),[s,o]=M.useState(void 0),[a,l]=M.useState(void 0),[c,u]=M.useState(!0),[h,d]=M.useState(null),[f,m]=M.useState(!1),g=M.useRef(null),v=M.useRef(new Map),y=M.useRef(null),b=M.useRef(null),w=(O,R,D)=>F=>{console.debug(`[useRates] Received ${O} message for market ${t}:`,F),D(N=>{if(R===1)return F;{const W=Array.isArray(N)?N:N?[N]:[];return[F,...W].slice(0,R)}})},S=M.useCallback(()=>{if(!t){console.warn("[useRates] Cannot subscribe: marketId not provided");return}const O=g.current;if(!O){console.warn("[useRates] Cannot subscribe: client not available");return}if(!m1(O)){console.warn(`[useRates] Cannot subscribe to market ${t}: client not ready`);return}if(y.current===t&&w0.every(N=>{const W=p1(N,t);return v.current.has(W)})){console.debug(`[useRates] Already subscribed to all rate channels for market ${t}`);return}y.current&&y.current!==t&&_(!0);const R=[];for(const F of w0){const N=p1(F,t);if(v.current.has(N))continue;let W;switch(F){case"funding_rate":W=w(F,e,i);break;case"deviation":W=w(F,e,o);break;case"twap":W=w(F,e,l);break}R.push({subChannel:F,callback:W,key:N})}const D=[];for(const{subChannel:F,callback:N,key:W}of R)try{v.current.set(W,N),O.subscribeMultiFeedSubChannel(F,t,N),console.debug(`[useRates] Subscribed to ${F} for market ${t}`)}catch(j){console.error(`[useRates] Failed to subscribe to ${F} for market ${t}:`,j),v.current.delete(W),D.push(j instanceof Error?j.message:`Failed to subscribe to ${F}`)}D.length>0?d(`Failed to subscribe to some rate channels: ${D.join(", ")}`):R.length>0&&(d(null),console.debug(`[useRates] Successfully subscribed to all rate channels (${w0.join(", ")}) for market ${t}`)),y.current=t},[t,e]),_=M.useCallback((O=!1)=>{const R=y.current;if(!R)return;const D=g.current;D&&(w0.forEach(F=>{const N=p1(F,R),W=v.current.get(N);if(W){try{D.unsubscribeMultiFeedSubChannel(F,W)}catch(j){console.error(`[useRates] Failed to unsubscribe ${F} for ${R}:`,j)}v.current.delete(N)}}),y.current=null,O&&(i(void 0),o(void 0),l(void 0),d(null)))},[]);M.useEffect(()=>{const O=n.subscriptionClient,R=t;g.current=O,u(!1),m(O.isConnected());const D=b.current;b.current=R,D&&D!==R&&(i(void 0),o(void 0),l(void 0),d(null));const F=()=>{if(!m1(O)){O.getAuthState()==="failed"&&d("Authentication failed - cannot subscribe to rates");return}S()};m1(O)&&R&&F();const N=O.onStateChange(W=>{m(W===nt.Connected),W===nt.Connected&&R&&F()});return()=>{N==null||N(),_(!0)}},[n.subscriptionClient,n.baseURL,t,S,_]);const k=M.useMemo(()=>f1(r),[r]),E=M.useMemo(()=>f1(s),[s]),C=M.useMemo(()=>f1(a),[a]);return{fundingRate:r,deviation:s,twap:a,latestFundingRate:k,latestDeviation:E,latestTWAP:C,getFundingRate:M.useCallback(()=>r,[r]),getLatestFundingRate:M.useCallback(()=>k,[k]),getDeviation:M.useCallback(()=>s,[s]),getLatestDeviation:M.useCallback(()=>E,[E]),getTWAP:M.useCallback(()=>a,[a]),getLatestTWAP:M.useCallback(()=>C,[C]),loading:c,error:h,isConnected:f}}function Dhe(n){const e=n.useWebSocket!==!1,[t,r]=M.useState([]),[i,s]=M.useState(!0),[o,a]=M.useState(""),[l,c]=M.useState(!1),u=M.useRef(null),h=M.useRef(null),d=M.useRef(0),f=M.useRef(!1),m=M.useRef(null),g=M.useRef(null),v=M.useRef(n);v.current=n;const y=M.useCallback(async()=>{if(!u.current)return;const w=v.current;if(!w.walletAddress||w.walletAddress.trim()===""){a(""),r([]),s(!1);return}a("");try{const S=await CO(kO.http,()=>u.current.getPositions(w.walletAddress));if(Array.isArray(S)){const _=S.map(FN);r(k=>{if(k.length!==_.length)return _;const E=JSON.stringify(k),C=JSON.stringify(_);return E===C?k:_})}else r(_=>_.length===0?_:[])}catch(S){a(S instanceof Error?S.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",S)}finally{s(!1)}},[]),b=M.useCallback(w=>{if(w.market_id&&w.symbol){const S=FN(w);r(_=>{const k=_.findIndex(E=>E.positionId===S.positionId);if(k>=0){const E=[..._];E[k]=S;const C=JSON.stringify(_),O=JSON.stringify(E);return C===O?_:E}else return[..._,S]})}},[]);return M.useEffect(()=>{const w=new Go({baseURL:n.baseURL,sessionToken:n.authToken});u.current=w,y();const S=n.subscriptionClient;if(e){h.current=S;const _=()=>{if(!S.isReadyForSubscriptions()){if(S.isConnected()&&!S.isReadyForSubscriptions()){const R=S.getAuthState();R==="pending"?console.debug("[usePositions] Waiting for authentication to complete..."):R==="failed"&&(console.error("[usePositions] Authentication failed - cannot subscribe to positions"),a("Authentication failed - cannot subscribe to positions"))}return}const E=n.marketId??"0",C=n.symbol??"USDC/USDC";if(!f.current||m.current!==E||g.current!==C){if(f.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",b)}catch(R){console.warn("[usePositions] Error unsubscribing from previous positions subscription:",R)}try{S.subscribeMultiFeedSubChannel("positions",E,b,{symbol:C}),f.current=!0,m.current=E,g.current=C,s(!1),console.debug("[usePositions] Subscribed to positions:",{marketId:E,symbol:C})}catch(R){console.error("[usePositions] Failed to subscribe to positions:",R),a(R instanceof Error?R.message:"Failed to subscribe to positions"),f.current=!1,s(!1)}}};c(S.isConnected()),s(!1),S.isReadyForSubscriptions()&&_();const k=S.onStateChange(E=>{console.debug("[usePositions] WebSocket state changed to:",E),c(E===nt.Connected),E===nt.Connected?(_(),d.current!==null&&(clearInterval(d.current),d.current=0)):(E===nt.Disconnected||E===nt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&d.current===null&&(d.current=window.setInterval(()=>{y()},n.refreshInterval))});return()=>{if(k&&k(),d.current!==null&&(clearInterval(d.current),d.current=0),h.current&&f.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",b)}catch(E){console.warn("[usePositions] Error unsubscribing during cleanup:",E)}f.current=!1,m.current=null,g.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(d.current=window.setInterval(()=>{y()},n.refreshInterval)),()=>{d.current!==null&&(clearInterval(d.current),d.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{positions:t,loading:i,error:o,isConnected:l,refresh:y}}function Ahe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Nhe=n=>{switch(n){case"success":return $he;case"info":return Bhe;case"warning":return jhe;case"error":return zhe;default:return null}},Lhe=Array(12).fill(0),Fhe=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},Lhe.map((t,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$he=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jhe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bhe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zhe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qhe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Uhe=()=>{const[n,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let GM=1;class Whe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:GM++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async c=>{if(o=["resolve",c],de.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Yhe(c)&&!c.ok){s=!1;const h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description,m=typeof h=="object"&&!de.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(c instanceof Error){s=!1;const h=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!de.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(t.success!==void 0){s=!1;const h=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!de.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:d,...m})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;const u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description,f=typeof u=="object"&&!de.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...f})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||GM++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Br=new Whe,Hhe=(n,e)=>{const t=(e==null?void 0:e.id)||GM++;return Br.addToast({title:n,...e,id:t}),t},Yhe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Ghe=Hhe,Vhe=()=>Br.toasts,Khe=()=>Br.getActiveToasts(),tt=Object.assign(Ghe,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:Vhe,getToasts:Khe});Ahe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _0(n){return n.label!==void 0}const Xhe=3,Qhe="24px",Jhe="16px",KN=4e3,Zhe=356,ede=14,tde=45,nde=200;function Ps(...n){return n.filter(Boolean).join(" ")}function rde(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const ide=n=>{var e,t,r,i,s,o,a,l,c;const{invert:u,toast:h,unstyled:d,interacting:f,setHeights:m,visibleToasts:g,heights:v,index:y,toasts:b,expanded:w,removeToast:S,defaultRichColors:_,closeButton:k,style:E,cancelButtonStyle:C,actionButtonStyle:O,className:R="",descriptionClassName:D="",duration:F,position:N,gap:W,expandByDefault:j,classNames:$,icons:z,closeButtonAriaLabel:B="Close toast"}=n,[q,U]=de.useState(null),[V,K]=de.useState(null),[X,L]=de.useState(!1),[Y,Q]=de.useState(!1),[ee,te]=de.useState(!1),[re,ae]=de.useState(!1),[he,J]=de.useState(!1),[ne,ye]=de.useState(0),[oe,be]=de.useState(0),xe=de.useRef(h.duration||F||KN),Me=de.useRef(null),we=de.useRef(null),_e=y===0,Ze=y+1<=g,Ge=h.type,ot=h.dismissible!==!1,Ee=h.className||"",Be=h.descriptionClassName||"",Oe=de.useMemo(()=>v.findIndex(Pe=>Pe.toastId===h.id)||0,[v,h.id]),We=de.useMemo(()=>{var Pe;return(Pe=h.closeButton)!=null?Pe:k},[h.closeButton,k]),pe=de.useMemo(()=>h.duration||F||KN,[h.duration,F]),Ce=de.useRef(0),Se=de.useRef(0),Fe=de.useRef(0),ke=de.useRef(null),[Ue,He]=N.split("-"),Ve=de.useMemo(()=>v.reduce((Pe,ue,ct)=>ct>=Oe?Pe:Pe+ue.height,0),[v,Oe]),gt=Uhe(),Qt=h.invert||u,$r=Ge==="loading";Se.current=de.useMemo(()=>Oe*W+Ve,[Oe,Ve]),de.useEffect(()=>{xe.current=pe},[pe]),de.useEffect(()=>{L(!0)},[]),de.useEffect(()=>{const Pe=we.current;if(Pe){const ue=Pe.getBoundingClientRect().height;return be(ue),m(ct=>[{toastId:h.id,height:ue,position:h.position},...ct]),()=>m(ct=>ct.filter(yt=>yt.toastId!==h.id))}},[m,h.id]),de.useLayoutEffect(()=>{if(!X)return;const Pe=we.current,ue=Pe.style.height;Pe.style.height="auto";const ct=Pe.getBoundingClientRect().height;Pe.style.height=ue,be(ct),m(yt=>yt.find(Le=>Le.toastId===h.id)?yt.map(Le=>Le.toastId===h.id?{...Le,height:ct}:Le):[{toastId:h.id,height:ct,position:h.position},...yt])},[X,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const Sn=de.useCallback(()=>{Q(!0),ye(Se.current),m(Pe=>Pe.filter(ue=>ue.toastId!==h.id)),setTimeout(()=>{S(h)},nde)},[h,S,m,Se]);de.useEffect(()=>{if(h.promise&&Ge==="loading"||h.duration===1/0||h.type==="loading")return;let Pe;return w||f||gt?(()=>{if(Fe.current<Ce.current){const yt=new Date().getTime()-Ce.current;xe.current=xe.current-yt}Fe.current=new Date().getTime()})():(()=>{xe.current!==1/0&&(Ce.current=new Date().getTime(),Pe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Sn()},xe.current))})(),()=>clearTimeout(Pe)},[w,f,h,Ge,gt,Sn]),de.useEffect(()=>{h.delete&&(Sn(),h.onDismiss==null||h.onDismiss.call(h,h))},[Sn,h.delete]);function ur(){var Pe;if(z!=null&&z.loading){var ue;return de.createElement("div",{className:Ps($==null?void 0:$.loader,h==null||(ue=h.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Ge==="loading"},z.loading)}return de.createElement(Fhe,{className:Ps($==null?void 0:$.loader,h==null||(Pe=h.classNames)==null?void 0:Pe.loader),visible:Ge==="loading"})}const hr=h.icon||(z==null?void 0:z[Ge])||Nhe(Ge);var rt,ft;return de.createElement("li",{tabIndex:0,ref:we,className:Ps(R,Ee,$==null?void 0:$.toast,h==null||(e=h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Ge],h==null||(t=h.classNames)==null?void 0:t[Ge]),"data-sonner-toast":"","data-rich-colors":(rt=h.richColors)!=null?rt:_,"data-styled":!(h.jsx||h.unstyled||d),"data-mounted":X,"data-promise":!!h.promise,"data-swiped":he,"data-removed":Y,"data-visible":Ze,"data-y-position":Ue,"data-x-position":He,"data-index":y,"data-front":_e,"data-swiping":ee,"data-dismissible":ot,"data-type":Ge,"data-invert":Qt,"data-swipe-out":re,"data-swipe-direction":V,"data-expanded":!!(w||j&&X),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${Y?ne:Se.current}px`,"--initial-height":j?"auto":`${oe}px`,...E,...h.style},onDragEnd:()=>{te(!1),U(null),ke.current=null},onPointerDown:Pe=>{Pe.button!==2&&($r||!ot||(Me.current=new Date,ye(Se.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(te(!0),ke.current={x:Pe.clientX,y:Pe.clientY})))},onPointerUp:()=>{var Pe,ue,ct;if(re||!ot)return;ke.current=null;const yt=Number(((Pe=we.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ae=Number(((ue=we.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-((ct=Me.current)==null?void 0:ct.getTime()),Te=q==="x"?yt:Ae,$t=Math.abs(Te)/Le;if(Math.abs(Te)>=tde||$t>.11){ye(Se.current),h.onDismiss==null||h.onDismiss.call(h,h),K(q==="x"?yt>0?"right":"left":Ae>0?"down":"up"),Sn(),ae(!0);return}else{var Ke,Gt;(Ke=we.current)==null||Ke.style.setProperty("--swipe-amount-x","0px"),(Gt=we.current)==null||Gt.style.setProperty("--swipe-amount-y","0px")}J(!1),te(!1),U(null)},onPointerMove:Pe=>{var ue,ct,yt;if(!ke.current||!ot||((ue=window.getSelection())==null?void 0:ue.toString().length)>0)return;const Le=Pe.clientY-ke.current.y,Te=Pe.clientX-ke.current.x;var $t;const Ke=($t=n.swipeDirections)!=null?$t:rde(N);!q&&(Math.abs(Te)>1||Math.abs(Le)>1)&&U(Math.abs(Te)>Math.abs(Le)?"x":"y");let Gt={x:0,y:0};const ze=Xe=>1/(1.5+Math.abs(Xe)/20);if(q==="y"){if(Ke.includes("top")||Ke.includes("bottom"))if(Ke.includes("top")&&Le<0||Ke.includes("bottom")&&Le>0)Gt.y=Le;else{const Xe=Le*ze(Le);Gt.y=Math.abs(Xe)<Math.abs(Le)?Xe:Le}}else if(q==="x"&&(Ke.includes("left")||Ke.includes("right")))if(Ke.includes("left")&&Te<0||Ke.includes("right")&&Te>0)Gt.x=Te;else{const Xe=Te*ze(Te);Gt.x=Math.abs(Xe)<Math.abs(Te)?Xe:Te}(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&J(!0),(ct=we.current)==null||ct.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(yt=we.current)==null||yt.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},We&&!h.jsx&&Ge!=="loading"?de.createElement("button",{"aria-label":B,"data-disabled":$r,"data-close-button":!0,onClick:$r||!ot?()=>{}:()=>{Sn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Ps($==null?void 0:$.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ft=z==null?void 0:z.close)!=null?ft:qhe):null,(Ge||h.icon||h.promise)&&h.icon!==null&&((z==null?void 0:z[Ge])!==null||h.icon)?de.createElement("div",{"data-icon":"",className:Ps($==null?void 0:$.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ur():null,h.type!=="loading"?hr:null):null,de.createElement("div",{"data-content":"",className:Ps($==null?void 0:$.content,h==null||(s=h.classNames)==null?void 0:s.content)},de.createElement("div",{"data-title":"",className:Ps($==null?void 0:$.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?de.createElement("div",{"data-description":"",className:Ps(D,Be,$==null?void 0:$.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),de.isValidElement(h.cancel)?h.cancel:h.cancel&&_0(h.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:Pe=>{_0(h.cancel)&&ot&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Pe),Sn())},className:Ps($==null?void 0:$.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,de.isValidElement(h.action)?h.action:h.action&&_0(h.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:Pe=>{_0(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Pe),!Pe.defaultPrevented&&Sn())},className:Ps($==null?void 0:$.actionButton,h==null||(c=h.classNames)==null?void 0:c.actionButton)},h.action.label):null)};function XN(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function sde(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Jhe:Qhe;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}const ode=de.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:u,mobileOffset:h,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:v=Xhe,toastOptions:y,dir:b=XN(),gap:w=ede,icons:S,containerAriaLabel:_="Notifications"}=e,[k,E]=de.useState([]),C=de.useMemo(()=>r?k.filter(X=>X.toasterId===r):k.filter(X=>!X.toasterId),[k,r]),O=de.useMemo(()=>Array.from(new Set([s].concat(C.filter(X=>X.position).map(X=>X.position)))),[C,s]),[R,D]=de.useState([]),[F,N]=de.useState(!1),[W,j]=de.useState(!1),[$,z]=de.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=de.useRef(null),q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=de.useRef(null),V=de.useRef(!1),K=de.useCallback(X=>{E(L=>{var Y;return(Y=L.find(Q=>Q.id===X.id))!=null&&Y.delete||Br.dismiss(X.id),L.filter(({id:Q})=>Q!==X.id)})},[]);return de.useEffect(()=>Br.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{E(L=>L.map(Y=>Y.id===X.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{Lie.flushSync(()=>{E(L=>{const Y=L.findIndex(Q=>Q.id===X.id);return Y!==-1?[...L.slice(0,Y),{...L[Y],...X},...L.slice(Y+1)]:[X,...L]})})})}),[k]),de.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:L})=>{z(L?"dark":"light")})}catch{X.addListener(({matches:Y})=>{try{z(Y?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),de.useEffect(()=>{k.length<=1&&N(!1)},[k]),de.useEffect(()=>{const X=L=>{var Y;if(o.every(te=>L[te]||L.code===te)){var ee;N(!0),(ee=B.current)==null||ee.focus()}L.code==="Escape"&&(document.activeElement===B.current||(Y=B.current)!=null&&Y.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[o]),de.useEffect(()=>{if(B.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,V.current=!1)}},[B.current]),de.createElement("section",{ref:t,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((X,L)=>{var Y;const[Q,ee]=X.split("-");return C.length?de.createElement("ol",{key:X,dir:b==="auto"?XN():b,tabIndex:-1,ref:B,className:c,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":Q,"data-x-position":ee,style:{"--front-toast-height":`${((Y=R[0])==null?void 0:Y.height)||0}px`,"--width":`${Zhe}px`,"--gap":`${w}px`,...g,...sde(u,h)},onBlur:te=>{V.current&&!te.currentTarget.contains(te.relatedTarget)&&(V.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V.current||(V.current=!0,U.current=te.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{W||N(!1)},onDragEnd:()=>N(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},C.filter(te=>!te.position&&L===0||te.position===X).map((te,re)=>{var ae,he;return de.createElement(ide,{key:te.id,icons:S,index:re,toast:te,defaultRichColors:f,duration:(ae=y==null?void 0:y.duration)!=null?ae:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:i,visibleToasts:v,closeButton:(he=y==null?void 0:y.closeButton)!=null?he:l,interacting:W,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:K,toasts:C.filter(J=>J.position==te.position),heights:R.filter(J=>J.position==te.position),setHeights:D,expandByDefault:a,gap:w,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),nf="onboard_mnemonic",su="onboard_wallet_address",rf="onboard_auth_token",sf="onboard_refresh_token",of="onboard_expires_at";function ade(n){const[e,t]=M.useState(""),[r,i]=M.useState(""),[s,o]=M.useState(!1),[a,l]=M.useState(""),[c,u]=M.useState(void 0),[h,d]=M.useState(void 0),[f,m]=M.useState(!1),[g,v]=M.useState(null);M.useEffect(()=>{const R=localStorage.getItem(nf),D=localStorage.getItem(su),F=localStorage.getItem(rf),N=localStorage.getItem(sf),W=localStorage.getItem(of);if(t(R||""),i(D||""),F&&l(F),N&&u(N),W){const j=parseInt(W,10);isNaN(j)||d(j)}},[]);const y=M.useCallback(async R=>{if(!R||R.trim()==="")return null;o(!0);try{Ks.isReady()||await Ks.initialize();const D=await Ks.generateAddress(R.trim(),0);return D.success&&D.address?D.address:(console.error("Failed to generate address:",D.error),null)}catch(D){return console.error("Error generating address:",D),null}finally{o(!1)}},[]),b=M.useCallback(async R=>{const D=R.trim();if(D===""){t(""),i(""),localStorage.removeItem(nf),localStorage.removeItem(su);return}t(D),localStorage.setItem(nf,D);const F=await y(D);F?(i(F),localStorage.setItem(su,F)):(i(""),localStorage.removeItem(su))},[y]),w=M.useCallback((R,D)=>{const F=R.trim(),N=D.trim().toLowerCase();t(F),i(N),localStorage.setItem(nf,F),localStorage.setItem(su,N)},[]),S=M.useCallback(()=>{t(""),i(""),localStorage.removeItem(nf),localStorage.removeItem(su)},[]),_=M.useMemo(()=>{if(e==="")return"";const R=e.trim();if(R==="")return"";try{const D=im.fromPhrase(R,"","m/44'/60'/0'/0/0");if(r&&D.address.toLowerCase()!==r.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const F=BigInt(D.privateKey),N=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(F===0n||F>=N)return console.error("Invalid private key: out of secp256k1 curve order"),"";const j=F.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test(j)?j:(console.error("Invalid private key format"),"")}catch(D){return console.error("Error computing private key:",D),""}},[e,r]),k=M.useCallback(async(R,D,F,N)=>{m(!0),v(null);try{await b(R);const W=await xhe(R,D,F,N);if(W.success&&W.authToken)l(W.authToken),u(W.refreshToken),d(W.expiresAt),localStorage.setItem(rf,W.authToken),W.refreshToken&&localStorage.setItem(sf,W.refreshToken),W.expiresAt&&localStorage.setItem(of,W.expiresAt.toString()),tt.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const j=W.error||"Onboarding failed";v(j),l(""),u(void 0),d(void 0),localStorage.removeItem(rf),localStorage.removeItem(sf),localStorage.removeItem(of),tt.error("Onboarding failed",{description:j,duration:6e3})}}catch(W){const j=(W==null?void 0:W.message)||"Unknown error during onboarding";v(j),l(""),u(void 0),d(void 0),localStorage.removeItem(rf),localStorage.removeItem(sf),localStorage.removeItem(of),tt.error("Onboarding error",{description:j,duration:6e3})}finally{m(!1)}},[b]),E=M.useCallback(()=>{v(null)},[]),C=M.useCallback(()=>{l(""),u(void 0),d(void 0),v(null),m(!1),localStorage.removeItem(rf),localStorage.removeItem(sf),localStorage.removeItem(of)},[]),O=M.useCallback(()=>{S(),C()},[S,C]);return{mnemonic:e,walletAddress:r,privateKey:_,authToken:a,refreshToken:c,expiresAt:h,loading:f,error:g,addressLoading:s,onboard:k,setMnemonic:b,setAccountData:w,clearAccountData:S,clearError:E,reset:C,resetAll:O}}function Ac(n,e=2,t=2,r="0.00"){return n==null||isNaN(n)?r:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:t})}function yy(n){return n==null||isNaN(n)?"--":Ac(n,2,2,"--")}function Hu(n){return n==null||isNaN(n)?"--":Ac(n,2,8,"--")}function by(n){return n==null||isNaN(n)?"0.000":Ac(n,3,3,"0.000")}function lde(n){return n==null||isNaN(n)?"0":Ac(n,3,8,"0")}function cde(n){return n==null||isNaN(n)?"0.00":Ac(n,2,2,"0.00")}function ude(n){return n==null||isNaN(n)?"0.00":Ac(n,2,2,"0.00")}function on(n){return n==null||isNaN(n)?"0.00":Ac(n,2,2,"0.00")}function VM(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function hde(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?An(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function QN(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function dde(n,e=6,t=4,r="--"){return!n||typeof n!="string"?r:n.length<=e+t?n:`${n.slice(0,e)}...${n.slice(-t)}`}const fde="wss://router.morpheum.io/websocket",pde=({...n})=>P.jsx(ode,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),mde=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const t=document.createElement("textarea");return t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(t){return console.error("Failed to copy to clipboard:",t),!1}}},Gn=n=>({label:"Copy",onClick:async()=>{await mde(n)?tt.success("Error message copied to clipboard"):tt.error("Failed to copy error message")}});function aV(n){const e=n.useWebSocket!==!1,[t,r]=M.useState([]),[i,s]=M.useState(!0),[o,a]=M.useState(""),[l,c]=M.useState(0),[u,h]=M.useState(!1),d=M.useRef(null),f=M.useRef(null),m=M.useRef(0),g=M.useRef(!0),v=M.useRef(!1),y=M.useRef(n);y.current=n;const b=M.useCallback(k=>{const E=ahe(k)?k:ohe(k);return jN(E)},[]),w=M.useCallback(async()=>{if(!d.current)return;const k=y.current;if(!k.walletAddress||k.walletAddress.trim()===""){c(0);return}try{const E=await d.current.getBalanceDecimal(k.walletAddress,"USDC"),C=typeof E.available=="number"?E.available:E.availableBalance?lt(E.availableBalance):0;c(C)}catch(E){console.warn("Failed to fetch spot wallet balance (USDC):",E),c(0)}},[]),S=M.useCallback(async()=>{if(!d.current)return;const k=y.current;if(!k.walletAddress||k.walletAddress.trim()===""){a("Wallet address is required"),r([]),s(!1),g.current=!1;return}a(""),g.current&&s(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:k.walletAddress,useWebSocket:e,isSubscribed:v.current}),w(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const E=await d.current.getBuckets(k.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:E,responseType:typeof E,isArray:Array.isArray(E),responseLength:Array.isArray(E)?E.length:"N/A"});const C=Array.isArray(E)?E:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:C,bucketsDataLength:C.length,bucketsDataTypes:C.map((R,D)=>({index:D,type:typeof R,hasBucketId:!!(R!=null&&R.bucketId),bucketId:R.bucketId??""}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${C.length} buckets:`,C);const O=C.map(jN);r(O),(!e||!v.current)&&(g.current=!1,s(!1))}catch(E){const C=E instanceof Error?E.message:"Failed to load bucket collections";a(C),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:E,errorMessage:C,walletAddress:k.walletAddress,stack:E instanceof Error?E.stack:void 0}),(!e||!v.current)&&(g.current=!1,s(!1))}},[w,e]),_=M.useCallback(k=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:k,hasBuckets:!!k.buckets,bucketsIsArray:Array.isArray(k.buckets),bucketsLength:Array.isArray(k.buckets)?k.buckets.length:0}),k.buckets&&Array.isArray(k.buckets)){console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",k.buckets);const E=k.buckets.map(b);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",E);const C=E.filter(O=>O.bucketId&&O.bucketId.trim()!==""&&O.status!=="dormant");if(C.length!==E.length){const O=E.length-C.length,R=E.filter(F=>!F.bucketId||F.bucketId.trim()===""),D=E.filter(F=>F.bucketId&&F.bucketId.trim()!==""&&F.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${O} collections (${R.length} with empty bucketId, ${D.length} with status "dormant")`,{filteredByBucketId:R,filteredByStatus:D})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:C.length,validCollections:C}),r(O=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:O.length,prev:O}),O.length!==C.length)return C;const R=JSON.stringify(O),D=JSON.stringify(C);return R===D?O:C}),g.current&&(g.current=!1,s(!1))}},[b]);return M.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){if(s(!1),a("Wallet address is required"),r([]),f.current&&v.current){try{f.current.unsubscribeMultiFeedSubChannel("buckets",_)}catch(C){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",C)}v.current=!1}m.current!==null&&(clearInterval(m.current),m.current=0);return}const k=new Go({baseURL:n.baseURL,sessionToken:n.authToken});d.current=k,g.current=!0,v.current=!1,console.log("[useBucketCollections] [useEffect] Initializing, calling fetchCollections..."),S();const E=n.subscriptionClient;if(e){f.current=E;const C=()=>{if(!E.isReadyForSubscriptions()){if(E.isConnected()&&!E.isReadyForSubscriptions()){const N=E.getAuthState();N==="pending"?console.debug("[useBucketCollections] Waiting for authentication to complete..."):N==="failed"&&(console.error("[useBucketCollections] Authentication failed - cannot subscribe to buckets"),a("Authentication failed. Please re-authenticate."))}return}const R=String(n.marketId??"0"),D=n.symbol??"USDC/USDC";if(!v.current){if(v.current&&f.current)try{f.current.unsubscribeMultiFeedSubChannel("buckets",_)}catch(N){console.warn("[useBucketCollections] Error unsubscribing from previous buckets subscription:",N)}try{E.subscribeMultiFeedSubChannel("buckets",R,_,{symbol:D}),v.current=!0,s(!1),console.debug("[useBucketCollections] Subscribed to buckets:",{marketId:R,symbol:D})}catch(N){console.error("[useBucketCollections] Failed to subscribe to buckets:",N),a(N instanceof Error?N.message:"Failed to subscribe to buckets"),v.current=!1,s(!1)}}};h(E.isConnected()),s(!1),E.isReadyForSubscriptions()&&C();const O=E.onStateChange(R=>{console.debug("[useBucketCollections] WebSocket state changed to:",R),h(R===nt.Connected),R===nt.Connected?(C(),m.current!==null&&(clearInterval(m.current),m.current=0)):R===nt.Disconnected&&n.refreshInterval&&n.refreshInterval>0&&m.current===null&&(m.current=window.setInterval(()=>{S()},n.refreshInterval))});return()=>{if(O&&O(),f.current&&v.current)try{f.current.unsubscribeMultiFeedSubChannel("buckets",_)}catch(R){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",R)}m.current!==null&&(clearInterval(m.current),m.current=0),v.current=!1}}else return n.refreshInterval&&n.refreshInterval>0&&(m.current=window.setInterval(()=>{S()},n.refreshInterval)),()=>{m.current!==null&&(clearInterval(m.current),m.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,_]),M.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:t.length,collections:t,loading:i,error:o,spotWalletBalance:l})},[t,i,o,l]),{collections:t,loading:i,error:o,refreshBucketBalance:S,refreshSpotWalletBalance:w,spotWalletBalance:l,isConnected:u}}function gde(n,e,t){return e!==n?P.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):P.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:t==="asc"?"":""})}function md({message:n="Loading..."}){return P.jsx("div",{className:"message loading",children:n})}function gd({error:n}){return P.jsxs("div",{className:"message error",children:["Error: ",n]})}function Lo({message:n}){return P.jsx("div",{className:"message empty",children:n})}function lV({message:n}){return P.jsx("div",{className:"message warning",children:n})}function EO({isConnected:n,connectedText:e=" LIVE",disconnectedText:t=" OFFLINE"}){return P.jsx("div",{className:"status-indicator",children:P.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:t})})}function vd({title:n,children:e}){return P.jsxs("div",{className:"layout-header",children:[P.jsx("div",{className:"layout-header-title",children:n}),e&&P.jsx("div",{className:"layout-header-actions",children:e})]})}function vde({tabs:n,activeTabId:e,onTabChange:t,children:r}){return P.jsxs("div",{className:"layout-header",children:[P.jsx("div",{className:"layout-header-title",children:P.jsx("div",{className:"tab-section-tabs",children:n.map(i=>P.jsx("button",{type:"button",className:`btn-tab ${e===i.id?"active":""}`,onClick:()=>t(i.id),children:i.label},i.id))})}),r&&P.jsx("div",{className:"layout-header-actions",children:r})]})}function Yn({field:n,currentSortField:e,sortDirection:t,onSort:r,children:i,center:s=!1}){return P.jsxs("div",{className:`table-header-cell ${s?"left":"right"}`,onClick:()=>r(n),children:[i,gde(n,e,t)]})}function KM({children:n,center:e=!1}){return P.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function yde({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),P.jsx("button",{onClick:t=>{console.log("[CancelButton] Button clicked",{disabled:e,event:t}),!e&&n?n(t):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:t=>{console.log("[CancelButton] Mouse down",{disabled:e,event:t})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function bde({onClick:n}){return P.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function xde({onConfirm:n,label:e="Slide to confirm",confirmThreshold:t=90,disabled:r=!1,icon:i}){const[s,o]=M.useState(0),[a,l]=M.useState(!1),c=M.useRef(null),u=M.useRef(null),h=f=>{r||(f.preventDefault(),l(!0))};M.useEffect(()=>{if(!a)return;const f=g=>{if(!c.current||r)return;const v=c.current.getBoundingClientRect(),y=g.clientX-v.left,b=v.width,w=Math.max(0,Math.min(100,y/b*100));o(w)},m=()=>{r||(s>=t?(n(),setTimeout(()=>{o(0)},200)):o(0),l(!1))};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[a,s,t,n,r]);const d=s>=t;return P.jsxs("div",{ref:c,className:`slider-confirm-bar ${r?"disabled":""} ${a?"dragging":""}`,children:[P.jsx("div",{className:`slider-confirm-bar-progress ${d?"confirmed":"default"} ${a?"no-transition":""}`,style:{width:`${s}%`}}),P.jsx("div",{className:"slider-confirm-bar-label",children:d?"Release to confirm":e}),P.jsx("div",{ref:u,onMouseDown:h,className:`slider-confirm-bar-thumb ${r?"disabled":""} ${a?"dragging":""} ${d?"confirmed":""}`,style:{left:`${s}%`},children:i?P.jsx("span",{className:`slider-confirm-bar-thumb-icon ${d?"confirmed":""}`,children:i}):P.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${d?"confirmed":""}`,children:""})})]})}function cV({isOpen:n,value:e,min:t,max:r,onConfirm:i,onCancel:s}){const[o,a]=M.useState("");if(M.useEffect(()=>{n&&a(e.toString())},[n,e]),!n)return null;const l=v=>{const y=o==="0"?v:o+v;parseFloat(y)<=r&&a(y)},c=()=>{o.includes(".")||a(o+".")},u=()=>{o.length>1?a(o.slice(0,-1)):a("0")},h=()=>{a("0")},d=()=>{const v=parseFloat(o)||0,y=Math.max(t,Math.min(r,v));i(y)},f=parseFloat(o)||0,m=f>=t&&f<=r,g=P.jsx("div",{className:"modal-overlay",onClick:s,style:{zIndex:1e4},children:P.jsxs("div",{className:"modal-content number-pad-content",onClick:v=>v.stopPropagation(),children:[P.jsx("div",{className:"modal-header",children:P.jsx("h3",{children:"Enter Amount"})}),P.jsxs("div",{className:"modal-body",children:[P.jsxs("div",{className:"number-pad-display",children:[P.jsx("div",{className:"number-pad-display-value",children:on(f)}),P.jsxs("div",{className:"number-pad-display-range",children:["Min: ",on(t)," | Max: ",on(r)]}),!m&&f>0&&P.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",on(t)," and"," ",on(r)]})]}),P.jsxs("div",{className:"number-pad-grid",children:[P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"1"),children:"1"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"2"),children:"2"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"3"),children:"3"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"4"),children:"4"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"5"),children:"5"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"6"),children:"6"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"7"),children:"7"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"8"),children:"8"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"9"),children:"9"}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:c,children:"."}),P.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"0"),children:"0"}),P.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:u,children:""})]}),P.jsxs("div",{className:"number-pad-actions",children:[P.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),P.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{a(r.toString())},children:"Max"})]})]}),P.jsxs("div",{className:"modal-footer",children:[P.jsx("button",{onClick:s,className:"btn btn-secondary",children:"Cancel"}),P.jsx("button",{onClick:d,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?Rc.createPortal(g,document.body):null}function wde({isOpen:n,currentLeverage:e,tempLeverage:t,maxRatio:r,onLeverageChange:i,onConfirm:s,onCancel:o}){if(!n)return null;const a=P.jsx("div",{className:"modal-overlay",onClick:o,children:P.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[P.jsx("div",{className:"modal-header",children:P.jsx("h3",{children:"Select Leverage"})}),P.jsxs("div",{className:"modal-body",children:[P.jsxs("div",{className:"leverage-max-ratio",children:[P.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),P.jsxs("div",{className:"leverage-max-ratio-value",children:[r,"x"]})]}),P.jsxs("div",{className:"leverage-slider-container",children:[P.jsx("input",{type:"range",min:Qw,max:gN,value:t,onChange:l=>i(parseInt(l.target.value)),className:"filled-slider",style:{"--slider-progress":`${(t-Qw)/(gN-Qw)*100}%`}}),P.jsxs("div",{className:"leverage-slider-labels",children:[P.jsx("span",{children:"1x"}),P.jsxs("span",{className:"leverage-current-value",children:[t,"x"]}),P.jsx("span",{children:"100x"})]})]})]}),P.jsxs("div",{className:"modal-footer",children:[P.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),P.jsx("button",{onClick:s,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?Rc.createPortal(a,document.body):null}function _de({isOpen:n,fromValue:e,toValue:t,options:r,bucketsData:i,transferAmount:s,createBucketAmount:o,createBucketType:a,createMarginType:l,transferMarginType:c,onFromChange:u,onToChange:h,onTransferAmountChange:d,onCreateBucketAmountChange:f,onCreateBucketTypeChange:m,onCreateMarginTypeChange:g,onTransferMarginTypeChange:v,onConfirm:y,onCancel:b,spotWalletBalance:w=0,activeTab:S,onActiveTabChange:_,isTransferring:k=!1,onOpen:E,collections:C}){const[O,R]=M.useState("transfer"),D=S??O,F=_??R,N=M.useRef(!1),[W,j]=M.useState(!1),[$,z]=M.useState("transfer"),[B,q]=M.useState(!1);M.useEffect(()=>{n&&!N.current&&E&&E(),N.current=n,n||q(!1)},[n,E,D]);const U=M.useMemo(()=>e==="spot-wallet"?null:i.find(re=>re.bucketId===e),[i,e]);M.useMemo(()=>{var ae;if(e==="spot-wallet"||!C)return null;const re=C.find(he=>he.bucketId===e);return((ae=re==null?void 0:re.marginType)==null?void 0:ae.toLowerCase())||null},[C,e]);const V=M.useMemo(()=>e==="spot-wallet"?w:(U==null?void 0:U.totalEquity)||0,[e,w,U]),K=10,X=Math.max(K,V);if(de.useEffect(()=>{if(e&&X>0){const re=D==="transfer"?s:o;re>X?D==="transfer"?d(X):f(X):re<K&&X>=K&&(D==="transfer"?d(K):f(K))}},[e,X,D,s,o,d,f]),!n)return null;const L=e&&t&&s>=K&&s<=X,Y=e&&o>=K&&o<=X&&a&&l,Q=P.jsx("div",{className:"modal-overlay",onClick:b,children:P.jsxs("div",{className:"modal-content transfer-modal-content",onClick:re=>re.stopPropagation(),children:[P.jsx("div",{className:"modal-header",children:P.jsx("h3",{children:"Transfer Funds"})}),P.jsxs("div",{className:"transfer-modal-tabs",children:[P.jsx("button",{className:`transfer-tab ${D==="transfer"?"active":""}`,onClick:()=>F("transfer"),type:"button",disabled:k,children:"Transfer"}),P.jsx("button",{className:`transfer-tab ${D==="create"?"active":""}`,onClick:()=>F("create"),type:"button",disabled:k,children:"Create Bucket"})]}),P.jsx("div",{className:"modal-body",children:D==="transfer"?P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"transfer-field-group",children:[P.jsx("label",{className:"transfer-field-label",children:"From"}),P.jsxs("select",{value:e,onChange:re=>u(re.target.value),className:"transfer-select",children:[P.jsx("option",{value:"",children:"Select source bucket"}),r.map(re=>P.jsx("option",{value:re.value,children:re.label},re.value))]})]}),e&&P.jsxs("div",{className:"transfer-field-group",children:[P.jsx("label",{className:"transfer-field-label",children:"To"}),P.jsxs("select",{value:t,onChange:re=>h(re.target.value),className:"transfer-select",disabled:!e,children:[P.jsx("option",{value:"",children:"Select destination bucket"}),r.filter(re=>re.value!==e).map(re=>P.jsx("option",{value:re.value,children:re.label},re.value))]})]}),e&&X>=K?P.jsxs("div",{className:"transfer-field-group",children:[P.jsxs("div",{className:"transfer-amount-header",children:[P.jsx("label",{className:"transfer-field-label",children:"Amount"}),P.jsxs("div",{className:"transfer-available-balance",children:["Available: ",on(V)]})]}),P.jsx("div",{className:"transfer-amount-display",onClick:()=>{z("transfer"),j(!0)},style:{cursor:"pointer"},children:P.jsx("span",{className:"transfer-amount-value",children:on(s)})}),P.jsxs("div",{className:"transfer-amount-container",children:[P.jsx("input",{type:"range",min:K,max:X,step:.01,value:s,onChange:re=>d(parseFloat(re.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(s-K)/(X-K)*100}%`}}),P.jsxs("div",{className:"transfer-amount-labels",children:[P.jsx("span",{children:on(K)}),P.jsx("span",{children:on(X)})]})]})]}):e?P.jsx("div",{className:"transfer-field-group",children:P.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",on(K)]})}):null]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"transfer-field-group",children:[P.jsx("label",{className:"transfer-field-label",children:"From"}),P.jsxs("select",{value:e,onChange:re=>u(re.target.value),className:"transfer-select",children:[P.jsx("option",{value:"",children:"Select source bucket"}),r.map(re=>P.jsx("option",{value:re.value,children:re.label},re.value))]})]}),P.jsxs("div",{className:"transfer-field-group",children:[P.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),P.jsxs("select",{value:a,onChange:re=>m(re.target.value),className:"transfer-select",children:[P.jsx("option",{value:"",children:"Select bucket type"}),P.jsx("option",{value:"USDC",children:"USDC"}),P.jsx("option",{value:"USDT",children:"USDT"})]})]}),P.jsxs("div",{className:"transfer-field-group",children:[P.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),P.jsxs("select",{value:l,onChange:re=>g(re.target.value),className:"transfer-select",children:[P.jsx("option",{value:"",children:"Select margin type"}),P.jsx("option",{value:"cross",children:"Cross Margin"}),P.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&X>=K?P.jsxs("div",{className:"transfer-field-group",children:[P.jsxs("div",{className:"transfer-amount-header",children:[P.jsx("label",{className:"transfer-field-label",children:"Amount"}),P.jsxs("div",{className:"transfer-available-balance",children:["Available: ",on(V)]})]}),P.jsx("div",{className:"transfer-amount-display",onClick:()=>{z("create"),j(!0)},style:{cursor:"pointer"},children:P.jsx("span",{className:"transfer-amount-value",children:on(o)})}),P.jsxs("div",{className:"transfer-amount-container",children:[P.jsx("input",{type:"range",min:K,max:X,step:.01,value:o,onChange:re=>f(parseFloat(re.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-K)/(X-K)*100}%`}}),P.jsxs("div",{className:"transfer-amount-labels",children:[P.jsx("span",{children:on(K)}),P.jsx("span",{children:on(X)})]})]})]}):e?P.jsx("div",{className:"transfer-field-group",children:P.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",on(K)]})}):null]})}),P.jsxs("div",{className:"modal-footer",children:[P.jsx("button",{onClick:b,className:"btn btn-secondary",disabled:k,children:"Cancel"}),P.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[P.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:B?0:1,visibility:B?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:B?"none":"auto"},children:P.jsx(xde,{onConfirm:()=>{q(!0)},label:"Slide to confirm",disabled:k||(D==="transfer"?!L:!Y),icon:P.jsx("img",{src:"/bconfirm.svg"})})}),P.jsx("button",{onClick:()=>{y(D==="transfer"?{type:"transfer",from:e,to:t,amount:s}:{type:"create",from:e,bucketType:a,marginType:l,amount:o})},className:"btn btn-primary",disabled:k||(D==="transfer"?!L:!Y),style:{position:"absolute",top:0,right:0,opacity:B?1:0,visibility:B?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:B?"auto":"none",width:"100%",height:"100%",color:"black"},children:k?"Processing...":"Confirm"})]})]})]})}),ee=$==="transfer"?s:o,te=re=>{$==="transfer"?d(re):f(re),j(!1)};return P.jsxs(P.Fragment,{children:[typeof document<"u"?Rc.createPortal(Q,document.body):null,P.jsx(cV,{isOpen:W,value:ee,min:K,max:X,onConfirm:te,onCancel:()=>j(!1)})]})}function Sde({baseURL:n=fd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=bue,refreshInterval:o=SO,onBucketSelect:a,hide_header:l=!1,onRequestHeaderActions:c}){const{collections:u,loading:h,error:d,spotWalletBalance:f,isConnected:m,refreshBucketBalance:g}=aV({subscriptionClient:e,baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),[v,y]=M.useState(null),[b,w]=M.useState("desc"),[S,_]=M.useState(""),[k,E]=M.useState(!1),[C,O]=M.useState(""),[R,D]=M.useState(""),[F,N]=M.useState(10),[W,j]=M.useState(10),[$,z]=M.useState(""),[B,q]=M.useState("cross"),[U,V]=M.useState("cross"),[K,X]=M.useState("transfer"),[L,Y]=M.useState(!1),[Q,ee]=M.useState("non-zero"),{client:te,isReady:re,error:ae}=Nb({baseURL:n,mnemonic:i??""}),he=M.useRef(0);M.useEffect(()=>{if(ae){const Ee=ae.message;console.error("Failed to initialize FiClient:",ae),tt.error("Exchange client initialization failed",{description:Ee,action:Gn(Ee)})}},[ae]);const J=M.useMemo(()=>{let Ee=u.filter(Be=>Be&&Be.bucketId&&typeof Be.bucketId=="string"&&Be.bucketId.trim()!=="");return Q==="non-zero"?Ee=Ee.filter(Be=>(Be.totalEquity||0)>0):Q==="dormant"?Ee=Ee.filter(Be=>{var Oe;return((Oe=Be.status)==null?void 0:Oe.toLowerCase())==="dormant"}):Q==="active"&&(Ee=Ee.filter(Be=>{var Oe;return((Oe=Be.status)==null?void 0:Oe.toLowerCase())==="active"})),v?[...Ee].sort((Be,Oe)=>{let We=0,pe=0;switch(v){case"marginType":We=Of(Be),pe=Of(Oe);break;case"usedMargin":We=Be.usedMargin||0,pe=Oe.usedMargin||0;break;case"totalEquity":We=Be.totalEquity||0,pe=Oe.totalEquity||0;break;case"riskRatio":We=r1(Be),pe=r1(Oe);break;case"bucketId":We=Be.bucketId||"",pe=Oe.bucketId||"";break}if(typeof We=="string"&&typeof pe=="string")return b==="asc"?We.localeCompare(pe):pe.localeCompare(We);const Ce=Number(We),Se=Number(pe);return b==="asc"?Ce-Se:Se-Ce}):Ee},[u,v,b,Q]),ne=Ee=>({USDC:1,USDT:2})[Ee==null?void 0:Ee.toUpperCase()]??1,ye=(Ee,Be)=>{const Oe=Ee.toLowerCase(),We=Be.toUpperCase(),pe=We&&String(ne(We));return J.find(Ce=>{var Ve;const Se=(Ve=Of(Ce))==null?void 0:Ve.toLowerCase(),Fe=Ce.status.toLowerCase()==="dormant",ke=Number(Ce.totalEquity||0)<=0,Ue=Se===Oe,He=pe?Ce.collateralAssetIndex===pe:!0;return(Fe||ke)&&Ue&&He})||null},oe=Ee=>{v===Ee?w(b==="asc"?"desc":"asc"):(y(Ee),w("desc"))},be=(Ee,Be)=>{a&&a(Ee,Be),_(Ee)},xe=()=>{E(!0),O(""),D(""),N(10),j(10),z(""),q("cross"),V("cross"),X("transfer")},Me=()=>{E(!1),O(""),D(""),N(10),j(10),z(""),q("cross"),V("cross"),X("transfer")},we=()=>{ee(Ee=>{switch(Ee){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})},_e=async Ee=>{if(!i){const Oe="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";tt.error("Mnemonic required",{description:Oe,action:Gn(Oe)});return}if(!te||!re){const Oe="Exchange client is still initializing. Please wait a moment and try again.";tt.error("Exchange client not ready",{description:Oe,action:Gn(Oe)});return}Y(!0);const Be=tt.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});he.current=typeof Be=="number"?Be:0;try{const Oe="USDC";let We,pe="";if(Ee.type==="transfer"){const{from:Ce,to:Se,amount:Fe}=Ee;if(Ce==="spot-wallet"&&Se==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(Ce==="spot-wallet"){if(!Se||Se==="spot-wallet")throw new Error("Please select a destination bucket");if(We=await te.extractToBucket({bucketId:Se,assetId:Oe,amount:Fe}),!We.success){const Ue=We.error_message||"Failed to transfer to bucket";he.current!==0&&(tt.dismiss(he.current),he.current=0),tt.error("Transfer failed",{description:Ue,action:Gn(Ue)});return}const ke=We.txhash||"";pe=`Successfully transferred ${on(Fe)} from Spot Wallet to ${Se}${ke?`
TxHash: ${ke}`:""}`}else if(Se==="spot-wallet"){We=await te.withdrawFromBucket({bucketId:Ce,assetId:Oe,amount:Fe});const ke=We.txhash||"";pe=`Successfully transferred ${on(Fe)} from ${Ce} to Spot Wallet${ke?`
TxHash: ${ke}`:""}`}else{if(!Se)throw new Error("Please select a destination bucket");We=await te.bucketTransfer({fromBucketId:Ce,toBucketId:Se,assetId:Oe,amount:Fe});const ke=We.txhash||"";pe=`Successfully transferred ${on(Fe)} from ${Ce} to ${Se}${ke?`
TxHash: ${ke}`:""}`}}else{const{from:Ce,bucketType:Se,marginType:Fe,amount:ke}=Ee,Ue=ye(Fe,Se);let He;if(Ue)He=Ue.bucketId,console.log(`[BucketCollection] Using existing ${Fe} ${Se} bucket: ${He}`),pe=`Using existing ${Fe} margin bucket (${Se}): ${He}`;else{const Ve=await te.createBucket({collateralAssetIndex:ne(Se),marginType:Fe,initialMargin:"0"});if(!Ve.success)throw new Error(Ve.message||"Failed to create bucket");He=Ve.bucketId??"",console.log(`[BucketCollection] Created new ${Fe} ${Se} bucket: ${He}`),pe=`Successfully created ${Fe} margin bucket (${Se})`}if(ke>0&&Ce==="spot-wallet"){const Ve=await te.extractToBucket({bucketId:He,assetId:Se,amount:ke});if(!Ve.success)throw new Error(`${Ue?"Bucket found":"Bucket created"} but failed to transfer funds: ${Ve.error_message||"Unknown error"}`);const gt=Ve.txhash||"";pe=`${Ue?"Using existing":"Successfully created"} ${Fe} margin bucket (${Se}) and transferred ${on(ke)}${gt?`
TxHash: ${gt}`:""}`}else if(ke>0&&Ce!=="spot-wallet"){const Ve=await te.bucketTransfer({fromBucketId:Ce,toBucketId:He,assetId:Se,amount:ke});if(!Ve.success)throw new Error(`${Ue?"Bucket found":"Bucket created"} but failed to transfer funds: ${Ve.message||"Unknown error"}`);const gt=Ve.txhash||"";pe=`${Ue?"Using existing":"Successfully created"} ${Fe} margin bucket (${Se}) and transferred ${on(ke)}${gt?`
TxHash: ${gt}`:""}`}}console.log("Transfer successful:",We),he.current!==0&&(tt.dismiss(he.current),he.current=0),tt.success("Transfer completed",{description:pe}),E(!1),O(""),D(""),N(10),j(10),z(""),q("cross"),V("cross"),await new Promise(Ce=>setTimeout(Ce,1e3)),g()}catch(Oe){he.current!==0&&(tt.dismiss(he.current),he.current=0);const We=Oe instanceof Error?Oe.message:"Transfer failed";tt.error("Transfer failed",{description:We,action:Gn(We)}),console.error("Transfer error:",Oe)}finally{Y(!1)}},Ze=M.useMemo(()=>{const Ee=J.map(Be=>({value:Be.bucketId,label:`${Be.bucketId} (${on(Be.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${on(f)})`},...Ee]},[J,f]),Ge=M.useMemo(()=>J.map(Ee=>({bucketId:Ee.bucketId,totalEquity:Ee.totalEquity})),[J]),ot=M.useMemo(()=>P.jsxs(P.Fragment,{children:[P.jsx("div",{onClick:we,className:"btn-tab",title:Q==="non-zero"?"Click to show active buckets":Q==="active"?"Click to show dormant buckets":Q==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:P.jsx("span",{children:Q==="all"?"All":Q==="non-zero"?"Non-Zero":Q==="dormant"?"Dormant":"Active"})}),P.jsxs("div",{onClick:xe,className:"btn-tab",children:[P.jsx("img",{src:"/transfer-repu.svg"}),P.jsx("span",{children:"Transfer"})]}),!m&&P.jsxs("div",{onClick:async()=>{g&&await g()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[P.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),P.jsx("span",{children:"Refresh"})]})]}),[Q,we,xe,m,g]);return M.useEffect(()=>{if(c){if(l&&!h&&!d)return c(ot),()=>c(null);c(null)}},[l,c,h,d,ot]),!r||r.trim()===""?P.jsx(lV,{message:"Wallet address required to view bucket collections"}):h&&!k&&u.length===0?P.jsx(md,{message:"Loading bucket collections..."}):d?P.jsx(gd,{error:d}):P.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&P.jsx(vd,{title:"BUCKET COLLECTIONS",children:ot}),P.jsxs("div",{className:"table-container shrinkable",children:[P.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[P.jsx(Yn,{field:"bucketId",currentSortField:v,sortDirection:b,onSort:oe,left:!0,children:"Bucket ID"}),P.jsx(Yn,{field:"marginType",currentSortField:v,sortDirection:b,onSort:oe,children:"Margin Type"}),P.jsx(Yn,{field:"usedMargin",currentSortField:v,sortDirection:b,onSort:oe,children:"Used Margin"}),P.jsx(Yn,{field:"totalEquity",currentSortField:v,sortDirection:b,onSort:oe,children:"Total Equity"}),P.jsx(Yn,{field:"riskRatio",currentSortField:v,sortDirection:b,onSort:oe,left:!1,children:"Risk Ratio"})]}),J.length===0?P.jsx(Lo,{message:u.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${u.length} collections (invalid data structure)`}):J.map((Ee,Be)=>{const Oe=r1(Ee),We=Of(Ee);return P.jsxs("div",{onClick:()=>be(Ee.bucketId,Ee.availableMargin),className:`table-row clickable ${Be%2===0?"even":""} ${S===Ee.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[P.jsx("div",{className:"table-cell primary",children:Ee.bucketId||"---"}),P.jsx("div",{className:"table-cell",children:We.toUpperCase()}),P.jsx("div",{className:"table-cell right monospace",children:on(Ee.usedMargin||0)}),P.jsx("div",{className:"table-cell right monospace",children:on(Ee.totalEquity||0)}),P.jsx("div",{className:"table-cell right monospace",style:{color:Oe>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:VM(Oe)})]},`collection-${Ee.bucketId}-${Be}`)})]}),P.jsx(_de,{isOpen:k,fromValue:C,toValue:R,options:Ze,bucketsData:Ge,transferAmount:F,createBucketAmount:W,createBucketType:$,createMarginType:B,transferMarginType:U,onFromChange:O,onToChange:D,onTransferAmountChange:N,onCreateBucketAmountChange:j,onCreateBucketTypeChange:z,onCreateMarginTypeChange:q,onTransferMarginTypeChange:V,onConfirm:_e,onCancel:Me,spotWalletBalance:f,activeTab:K,onActiveTabChange:X,isTransferring:L,onOpen:g,collections:J.map(Ee=>({bucketId:Ee.bucketId,marginType:Ee.marginType}))})]})}const kde=de.memo(Sde);function Cde({title:n="Dummy Component",message:e="This is a dummy component",height:t}){const[r,i]=M.useState(0);return P.jsxs("div",{className:"layout-container",style:{height:t},children:[P.jsx("div",{className:"layout-header",children:P.jsx("div",{className:"layout-header-title",children:n})}),P.jsxs("div",{style:{padding:"1rem",flex:1},children:[P.jsx("p",{className:"color-text-secondary",children:e}),P.jsxs("div",{style:{marginTop:"1rem"},children:[P.jsxs("p",{className:"color-text-primary",children:["Count: ",r]}),P.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[P.jsx("button",{className:"btn btn-success",onClick:()=>i(r+1),children:"Increment"}),P.jsx("button",{className:"btn btn-danger",onClick:()=>i(0),children:"Reset"})]})]})]})]})}de.memo(Cde);function g1(n){return n.orderId}function Ede(n){const e=n.useWebSocket!==!1,[t,r]=M.useState([]),[i,s]=M.useState(!0),[o,a]=M.useState(null),[l,c]=M.useState(!1),u=M.useRef(null),h=M.useRef(null),d=M.useRef(!1),f=M.useRef(!1),m=M.useRef(n.walletAddress),g=M.useRef(n);g.current=n;const v=M.useCallback(async()=>{if(!u.current)return;const b=g.current;if(!b.walletAddress||b.walletAddress.trim()===""){a(null),r([]),s(!1);return}a(null);try{const S=(await CO(kO.http,()=>u.current.getOrders(b.walletAddress))).orders||[];if(S.length>0){const _=S.map($N);r(k=>{if(k.length!==_.length)return _;const E=JSON.stringify(k),C=JSON.stringify(_);return E===C?k:_})}else r(_=>_.length===0?_:[])}catch(w){const S=w instanceof Error?w.message:"Failed to load orders";a(S),console.error("Failed to fetch orders after retries:",w)}finally{s(!1)}},[]),y=M.useCallback(b=>{let w=[];if("orders"in b&&Array.isArray(b.orders))w=b.orders;else if("order_id"in b)w=[b];else{console.warn("Received invalid order data, skipping:",b);return}r(S=>{const _=new Map;S.forEach(O=>{const R=g1(O);R&&_.set(R,O)});for(const O of w){if(!O||typeof O!="object"||!("orderId"in O)||typeof O.orderId!="string"||O.orderId.length===0){console.warn("Received invalid order data, skipping:",O);continue}const R=$N(O),D=g1(R);if(!D){console.warn("Received order without ID, skipping:",R);continue}const F=R.status.toUpperCase();F==="FILLED"||F==="CANCELLED"||F==="REJECTED"||F==="EXPIRED"||F==="CLOSED"||F==="DONE"?_.delete(D):_.set(D,R)}const k=Array.from(_.values()).filter(O=>g1(O)!==void 0);if(S.length!==k.length)return k;const E=JSON.stringify(S),C=JSON.stringify(k);return E===C?S:k})},[]);return M.useEffect(()=>{if(n.walletAddress!==m.current&&(f.current=!1,m.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){s(!1),a(null),r([]),h.current&&(h.current.disconnect(),h.current=null),f.current=!1;return}const b=new Go({baseURL:n.baseURL,sessionToken:n.authToken});u.current=b,f.current||v().finally(()=>{f.current=!0});const w=n.subscriptionClient;if(e){h.current=w;const S=()=>{if(!w.isReadyForSubscriptions()){if(w.isConnected()&&!w.isReadyForSubscriptions()){const O=w.getAuthState();O==="pending"?console.debug("[usePendingOrders] Waiting for authentication to complete..."):O==="failed"&&(console.error("[usePendingOrders] Authentication failed - cannot subscribe to orders"),a("Authentication failed - cannot subscribe to orders"))}return}const k=n.marketId??"0",E="USDC/USDC";if(!d.current||n.marketId!==void 0&&n.marketId!==k){if(d.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",y)}catch(O){console.warn("[usePendingOrders] Error unsubscribing from previous orders subscription:",O)}try{w.subscribeMultiFeedSubChannel("orders",k,y,{symbol:E}),d.current=!0,s(!1),console.debug("[usePendingOrders] Subscribed to orders:",{marketId:k,symbol:E})}catch(O){console.error("[usePendingOrders] Failed to subscribe to orders:",O),a(O instanceof Error?O.message:"Failed to subscribe to orders"),d.current=!1,s(!1)}}};c(w.isConnected()),s(!1),w.isReadyForSubscriptions()&&S();const _=w.onStateChange(k=>{console.debug("[usePendingOrders] WebSocket state changed to:",k),c(k===nt.Connected),k===nt.Connected?S():k===nt.Disconnected||nt.Reconnecting});return()=>{if(_&&_(),h.current&&d.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",y)}catch(k){console.warn("[usePendingOrders] Error unsubscribing during cleanup:",k)}d.current=!1}}else return()=>{}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.marketId,e]),{orders:t,loading:i,error:o,isConnected:l,refresh:v}}function Tde({baseURL:n=fd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=wue,refreshInterval:o=SO,hide_header:a=!1,onRequestHeaderActions:l}){const{orders:c,loading:u,error:h,isConnected:d,refresh:f}=Ede({subscriptionClient:e,baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{client:m,isReady:g}=Nb({baseURL:n,mnemonic:i??""}),v=M.useRef(0),[y,b]=M.useState(null),{getSymbolByMarketId:w}=pd({baseURL:n,sessionToken:t,autoFetchMarkets:!1}),[S,_]=M.useState(aa),[k,E]=M.useState(null),[C,O]=M.useState(Wu),R=M.useMemo(()=>c.filter(q=>{const U=q.status.toUpperCase(),V=U.startsWith("ORDER_STATUS_")?U:`ORDER_STATUS_${U}`;return S===aa?DN.some(K=>U===K.toUpperCase()||V===K.toUpperCase()):!DN.some(K=>U===K.toUpperCase()||V===K.toUpperCase())}),[c,S]),D=M.useMemo(()=>k?[...R].sort((q,U)=>{let V=0,K=0;switch(k){case EN:V=w(q.marketId)||`m-${q.marketId}`,K=w(U.marketId)||`m-${U.marketId}`;break;case TN:V=q.side,K=U.side;break;case MN:V=q.quantity,K=U.quantity;break;case PN:V=q.price,K=U.price;break;case IN:V=q.filledQuantity||0,K=U.filledQuantity||0;break;case ON:V=q.status,K=U.status;break}if(typeof V=="string"&&typeof K=="string")return C===Da?V.localeCompare(K):K.localeCompare(V);const X=Number(V),L=Number(K);return isNaN(X)||isNaN(L)?0:C===Da?X-L:L-X}):R,[R,k,C]),F=q=>{k===q?O(C===Da?Wu:Da):(E(q),O(Wu))},N=q=>q.side,W=q=>{const U=(q||"").toUpperCase(),V={PENDING:{short:"P",full:"Pending",color:AN},OPEN:{short:"O",full:"Open",color:Uue},FILLED:{short:"F",full:"Filled",color:Wue},CANCELLED:{short:"C",full:"Canceled",color:Hue},PARTIAL:{short:"PF",full:"Partially Filled",color:AN}};return V[U]?V[U]:{short:"?",full:q||ihe,color:Yue}},j=q=>q===am||q==="BUY"?Gue:Vue,$=q=>!q||typeof q!="string"?rhe:q.replace("ORDER_TYPE_",""),z=async q=>{var X;const U=q.orderId,V=q.marketId;if(!U){const L="Cannot cancel order without a valid order ID.";tt.error("Order ID is missing",{description:L,action:Gn(L)});return}if(!V){const L="Cannot cancel order without a valid market ID.";tt.error("Market ID is missing",{description:L,action:Gn(L)});return}if(!i){const L=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${U}`;tt.error("Mnemonic required",{description:L,duration:5e3,action:Gn(L)});return}if(typeof i!="string"||i.trim()===""){const L=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${U}`;tt.error("Invalid mnemonic",{description:L,duration:5e3,action:Gn(L)});return}if(y){tt.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}b(U);const K=tt.loading("Canceling order...",{description:`Canceling order ${U}`});v.current=typeof K=="number"?K:0;try{if(!m||!g){tt.error("Exchange client not ready",{description:"Please wait for the exchange client to initialize.",action:Gn("Exchange client not ready")});return}const L=await m.cancelOrder({orderId:U,marketId:V}),Y=L.success===!0||L.result.success===!0||L&&!L.error&&!L.message;v.current!==0&&(tt.dismiss(v.current),v.current=0);const Q=L.txhash;if(Y)tt.success("Order canceled successfully",{description:`Order ${U} has been canceled. TX: ${Q}`}),f&&await f();else{const ee=(L==null?void 0:L.error)||(L==null?void 0:L.message)||((X=L==null?void 0:L.response)==null?void 0:X.error)||"Failed to cancel order";throw new Error(ee)}}catch(L){v.current!==0&&(tt.dismiss(v.current),v.current=0);const Q=`${L instanceof Error?L.message:"Unknown error occurred"}. Order ID: ${U}`;tt.error("Failed to cancel order",{description:Q,duration:6e3,action:Gn(Q)})}finally{b(null)}},B=M.useMemo(()=>P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"btn-tab",children:[P.jsx("span",{style:{fontSize:"0.7rem"},children:""}),P.jsx("span",{children:"Current Symbol"})]}),P.jsxs("div",{onClick:()=>_(S===aa?RN:aa),className:`btn-tab ${S===RN?"active":""}`,children:[P.jsx("img",{src:"/transfer-net.svg"}),P.jsx("span",{children:S===aa?nhe:the})]}),!d&&P.jsxs("div",{onClick:async()=>{f&&await f()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[P.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),P.jsx("span",{children:"Refresh"})]})]}),[S,d,f]);return M.useEffect(()=>{if(l){if(a&&!u&&!h)return l(B),()=>l(null);l(null)}},[a,l,u,h,B]),!r||r.trim()===""?P.jsx(lV,{message:ehe}):u?P.jsx(md,{message:Kue}):h?P.jsx(gd,{error:h}):P.jsxs("div",{className:"layout-container",style:{height:s,...a?{borderRadius:0,background:"transparent"}:{}},children:[!a&&P.jsx(vd,{title:S===aa?Jue:Zue,children:B}),P.jsxs("div",{className:"table-container shrinkable",children:[P.jsxs("div",{className:"table-header",style:{gridTemplateColumns:NN},children:[P.jsx(Yn,{field:EN,currentSortField:k,sortDirection:C,onSort:F,children:"Symbol"}),P.jsx(Yn,{field:TN,currentSortField:k,sortDirection:C,onSort:F,children:"Side"}),P.jsx(KM,{center:!0,children:"Type"}),P.jsx(Yn,{field:MN,currentSortField:k,sortDirection:C,onSort:F,children:"Quantity"}),P.jsx(Yn,{field:PN,currentSortField:k,sortDirection:C,onSort:F,children:"Price"}),P.jsx(Yn,{field:IN,currentSortField:k,sortDirection:C,onSort:F,children:"Filled"}),P.jsx(Yn,{field:ON,currentSortField:k,sortDirection:C,onSort:F,children:"Status"}),P.jsx(KM,{center:!0,children:"Actions"})]}),D.length===0?P.jsx(Lo,{message:S===aa?Xue:Que}):D.map((q,U)=>{const V=N(q),K=j(V),{short:X,full:L,color:Y}=W(q.status),Q=w(q.marketId)||`m-${q.marketId}`;return P.jsxs("div",{className:`table-row ${U%2===0?"even":""}`,style:{gridTemplateColumns:NN},children:[P.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:P.jsx("span",{children:Q})}),P.jsx("div",{className:"table-cell center",style:{color:K,fontWeight:500},children:V}),P.jsx("div",{className:"table-cell center",children:$(q.type)}),P.jsx("div",{className:"table-cell right monospace",children:q.quantity}),P.jsx("div",{className:"table-cell right monospace",children:q.price}),P.jsxs("div",{className:"table-cell right monospace",children:[q.filledQuantity," / ",q.quantity]}),P.jsx("div",{className:"table-cell center",style:{color:Y,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:L,children:X}),P.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:S===aa?P.jsxs(P.Fragment,{children:[(!i||i.trim()==="")&&P.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),P.jsx(yde,{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),!i||i.trim()===""||y===q.orderId||!!y||z(q)},disabled:!i||i.trim()===""||y===q.orderId||!!y})]}):P.jsx("span",{className:"color-text-dim",children:""})})]},`order-${q.orderId}`)})]})]})}const Mde=de.memo(Tde);function Pde({baseURL:n=fd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=xue,refreshInterval:o=SO,selectedBucketId:a=null,hide_header:l=!1,onRequestHeaderActions:c}){const{positions:u,loading:h,error:d,isConnected:f,refresh:m}=Dhe({subscriptionClient:e,baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{client:g,isReady:v,error:y}=Nb({baseURL:n,mnemonic:i??""});M.useEffect(()=>{if(y){const N=y.message;console.error("Failed to initialize FiClient:",y),tt.error("Exchange client initialization failed",{description:N,action:Gn(N)})}},[y]);const[b,w]=M.useState(t1),[S,_]=M.useState(null),[k,E]=M.useState(Wu),C=M.useMemo(()=>{let N=[...u];return b===y0&&a&&(N=N.filter(W=>{const j=W.bucketId.toString(),$=a.toString();return j===$})),S?N.sort((W,j)=>{let $=0,z=0;switch(S){case yN:$=W.symbol||"",z=j.symbol||"";break;case bN:try{$=W.leverage??0,z=j.leverage??0}catch{$=0,z=0}break;case xN:$=W.size||0,z=j.size||0;break;case wN:$=W.liquidationPrice||0,z=j.liquidationPrice||0;break;case _N:$=W.unrealizedPnL||0,z=j.unrealizedPnL||0;break;case SN:$=W.entryPrice||0,z=j.entryPrice||0;break;case kN:$=W.margin||0,z=j.margin||0;break}if(typeof $=="string"&&typeof z=="string")return k===Da?$.localeCompare(z):z.localeCompare($);const B=Number($),q=Number(z);return k===Da?B-q:q-B}):N},[u,S,k,a,b]),O=N=>{S===N?E(k===Da?Wu:Da):(_(N),E(Wu))},R=M.useRef(0),D=async N=>{if(!i){const j="Please provide the 'mnemonic' prop to enable position closing.";tt.error("Mnemonic required",{description:j,action:Gn(j)});return}if(!g||!v){const j="Please wait for the exchange client to initialize.";tt.error("Exchange client not ready",{description:j,action:Gn(j)});return}const W=tt.loading("Closing position...",{description:`Closing ${N.side} position for ${N.symbol} (Size: ${by(N.size)})`});R.current=typeof W=="number"?W:0;try{const j=await g.closePosition({positionId:N.positionId,marketId:N.marketId,marketPrice:N.markPrice,quantity:N.size});R.current!==0&&(tt.dismiss(R.current),R.current=0),tt.success("Position closed successfully",{description:`${N.side} position for ${N.symbol} has been closed. tx: ${j.txhash}`,duration:5e3}),m&&await m()}catch(j){R.current!==0&&(tt.dismiss(R.current),R.current=0);const $=j instanceof Error?j.message:"Unknown error occurred";tt.error("Failed to close position",{description:$,duration:6e3,action:Gn($)}),console.error("Failed to close position:",j)}},F=M.useMemo(()=>P.jsxs(P.Fragment,{children:[P.jsx("div",{onClick:()=>{w(t1),_(null)},className:`btn-tab ${b===t1?"active":""}`,children:Fue}),P.jsxs("div",{onClick:()=>{w(y0),_(null)},className:`btn-tab ${b===y0?"active":""}`,children:[P.jsx("img",{src:"/bucket-g.svg"}),P.jsx("span",{children:$ue})]}),!f&&P.jsxs("div",{onClick:async()=>{m&&await m()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[P.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),P.jsx("span",{children:"Refresh"})]})]}),[b,f,m]);return M.useEffect(()=>{if(c){if(l&&!h&&!d)return c(F),()=>c(null);c(null)}},[l,c,h,d,F]),h?P.jsx(md,{message:Aue}):d?P.jsx(gd,{error:d}):P.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&P.jsx(vd,{title:`${Lue} ${b===y0&&a?`(Bucket ${a})`:""}`,children:F}),P.jsxs("div",{className:"table-container",children:[P.jsxs("div",{className:"table-header",style:{gridTemplateColumns:CN},children:[P.jsx(Yn,{field:yN,currentSortField:S,sortDirection:k,onSort:O,left:!0,children:"Symbol"}),P.jsx(Yn,{field:bN,currentSortField:S,sortDirection:k,onSort:O,children:"Leverage"}),P.jsx(Yn,{field:xN,currentSortField:S,sortDirection:k,onSort:O,children:"Size"}),P.jsx(Yn,{field:wN,currentSortField:S,sortDirection:k,onSort:O,children:"Liq. Price"}),P.jsx(Yn,{field:_N,currentSortField:S,sortDirection:k,onSort:O,children:"P/L"}),P.jsx(Yn,{field:SN,currentSortField:S,sortDirection:k,onSort:O,children:"Entry Price"}),P.jsx(Yn,{field:kN,currentSortField:S,sortDirection:k,onSort:O,children:"Margin"}),P.jsx(KM,{center:!0,children:"Actions"})]}),C.length===0?P.jsx(Lo,{message:Nue}):C.map((N,W)=>{const j=N.side===am,$=(N.unrealizedPnL||0)>=0?Rue:Due,z=hde(N.leverage,n1);return P.jsxs("div",{className:`table-row ${W%2===0?"even":""}`,style:{gridTemplateColumns:CN},children:[P.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:P.jsx("span",{children:N.symbol})}),P.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${j?am:YM}  ${z===n1?n1:z}x @ ${N.marginMode||om}`}),P.jsx("div",{className:"color-buy right monospace",children:by(N.size)}),P.jsx("div",{className:"table-cell right monospace",children:yy(N.liquidationPrice)}),P.jsx("div",{className:"table-cell right monospace",style:{color:$,fontWeight:500},children:ude(N.unrealizedPnL)}),P.jsx("div",{className:"table-cell right monospace",children:yy(N.entryPrice)}),P.jsx("div",{className:"table-cell right monospace",children:cde(N.margin)}),P.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:P.jsx(bde,{onClick:()=>D(N)})})]},`position-${N.marketId}-${W}`)})]})]})}const Ide=de.memo(Pde),JN={orders:"Orders",positions:"Positions",buckets:"Buckets"};function Ode({baseURL:n,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s="400px",refreshInterval:o,selectedBucketId:a=null,onBucketSelect:l}){const[c,u]=M.useState("orders"),[h,d]=M.useState(null),f=Object.keys(JN).map(m=>({id:m,label:JN[m]}));return P.jsxs("div",{className:"layout-container tab-section-root",style:{height:s},children:[P.jsx(vde,{tabs:f,activeTabId:c,onTabChange:m=>u(m),children:h}),P.jsxs("div",{className:"tab-section-content",children:[c==="orders"&&P.jsx(Mde,{baseURL:n,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,hide_header:!0,onRequestHeaderActions:d}),c==="positions"&&P.jsx(Ide,{baseURL:n,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,selectedBucketId:a,hide_header:!0,onRequestHeaderActions:d}),c==="buckets"&&P.jsx(kde,{baseURL:n,subscriptionClient:e,walletAddress:r,mnemonic:i??"",authToken:t,height:"100%",refreshInterval:o,onBucketSelect:l,hide_header:!0,onRequestHeaderActions:d})]})]})}const Rde=de.memo(Ode),uV=M.createContext(null),Dde=({children:n,defaultWsURL:e=fde,defaultAuthToken:t,defaultWalletAddress:r,defaultDeviceID:i})=>{const[s,o]=M.useState(!1),[a,l]=M.useState(!1),[c,u]=M.useState(nt.Disconnected),[h,d]=M.useState(null),[f,m]=M.useState(e),[g,v]=M.useState(t),[y,b]=M.useState(r),[w,S]=M.useState(i),_=M.useRef(new zN({url:e,authToken:t,walletAddress:r,deviceID:i})),k=M.useRef(e),E=M.useRef(null),C=M.useRef(new Map),O=M.useRef(new Map),R=M.useRef([]),D=M.useRef([]),F=M.useRef(null),N=M.useRef(new Map);M.useEffect(()=>{if(k.current!==f){E.current&&(E.current(),E.current=null),_.current.disconnect(),C.current.clear();const ee=new zN({url:f,authToken:g,walletAddress:y,deviceID:w});_.current=ee,k.current=f}if(s){if(!E.current){const ee=_.current.onStateChange(te=>{u(te),l(te===nt.Connected),te===nt.Connected&&d(null)});E.current=ee}_.current.isConnected()||_.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),d(null)}).catch(ee=>{const te=ee instanceof Error?ee:new Error(String(ee));console.error("[SubscriptionContext] Failed to connect:",te),d(te)})}else E.current&&(E.current(),E.current=null),_.current.isConnected()&&_.current.disconnect(),C.current.clear(),O.current.clear(),u(nt.Disconnected),l(!1),d(null);return()=>{E.current&&(E.current(),E.current=null),_.current.isConnected()&&_.current.disconnect()}},[s,f,g,y,w]),M.useEffect(()=>{_.current&&s&&g&&y&&w&&_.current.setAuthToken(g,y,w)},[s,g,y,w]);const W=M.useCallback((Y,Q,ee,te)=>{if(!_.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!Y||typeof Y!="string"){console.warn("[SubscriptionContext] Invalid marketId:",Y);return}if(F.current=ee,R.current.length>0)return;const re=Number(Y),ae=Number.isNaN(re)?0:re,he=[{stream_type:"price_feed",filter:{marketIndices:[ae]}},{stream_type:"markPrice",filter:{marketIndices:[ae]}},{stream_type:"orderbook",filter:{marketIndices:[ae],includeSnapshot:!0}},{stream_type:"trades",filter:{marketIndices:[ae]}}];R.current=he;const J=_.current.getMultiplexStreamClient(),ne=[],ye=(oe,be)=>{var Me;const xe={type:"data",channel:"multiplex",subChannel:oe,data:be};C.current.set(oe,xe),(Me=F.current)==null||Me.call(F,xe)};J.subscribeToChannel().then(()=>J.subscribeStreams(he)).then(()=>{ne.push(J.onStreamData("price_feed",oe=>{oe.data!=null&&ye("price_feed",oe.data)})),ne.push(J.onStreamData("markPrice",oe=>{oe.data!=null&&ye("markPrice",oe.data)})),ne.push(J.onStreamData("orderbook",oe=>{oe.data!=null&&ye("orderbook",oe.data)})),ne.push(J.onStreamData("trades",oe=>{oe.data!=null&&ye("trades",oe.data)})),D.current=ne}).catch(oe=>{const be=oe instanceof Error?oe:new Error(String(oe));console.error("[SubscriptionContext] Multiplex subscription error:",be),d(be),R.current=[]})},[]),j=M.useCallback((Y,Q,ee,te,re)=>{if(!_.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!Y||typeof Y!="string"){console.warn("[SubscriptionContext] Invalid marketId:",Y);return}if(Q!=null&&Q!==""&&(typeof Q!="string"||!Q.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty or BASE/QUOTE):",Q);return}if(!ee||typeof ee!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",ee);return}if(N.current.has(ee))return;const ae=Number(Y),he=Number.isNaN(ae)?0:ae,J={stream_type:ee,filter:ee==="orderbook"?{marketIndices:[he],includeSnapshot:!0}:{marketIndices:[he]}},ne=_.current.getMultiplexStreamClient();ne.subscribeToChannel().then(()=>ne.subscribeStreams([J])).then(()=>{const ye=ne.onStreamData(ee,oe=>{if(oe.data==null)return;const be={type:"data",channel:"multiplex",subChannel:ee,data:oe.data};C.current.set(ee,be),te(oe.data)});N.current.set(ee,{unsubFn:ye,sub:J})}).catch(ye=>{const oe=ye instanceof Error?ye:new Error(String(ye));console.error("[SubscriptionContext] Sub-channel subscription error:",oe),d(oe)})},[]),$=M.useCallback((Y,Q,ee)=>{if(_.current)try{D.current.forEach(te=>te()),D.current=[],R.current.length>0&&(_.current.getMultiplexStreamClient().unsubscribeStreams(R.current),R.current=[]),F.current=null}catch(te){const re=te instanceof Error?te:new Error(String(te));console.error("[SubscriptionContext] Unsubscribe error:",re),d(re)}},[]),z=M.useCallback((Y,Q)=>{if(!_.current)return;const ee=N.current.get(Y);if(ee)try{ee.unsubFn(),_.current.getMultiplexStreamClient().unsubscribeStreams([ee.sub]),N.current.delete(Y)}catch(te){const re=te instanceof Error?te:new Error(String(te));console.error("[SubscriptionContext] Unsubscribe error:",re),d(re)}},[]),B=M.useCallback(()=>{o(Y=>!Y)},[]),q=M.useCallback(Y=>{o(Y)},[]),U=M.useCallback(Y=>C.current.get(Y)||null,[]),V=M.useCallback(()=>new Map(C.current),[]),K=M.useCallback(Y=>{Y?C.current.delete(Y):C.current.clear()},[]),X=M.useCallback(()=>{d(null)},[]),L=M.useMemo(()=>({client:_.current,isEnabled:s,isConnected:a,connectionState:c,error:h,toggleEnabled:B,setEnabled:q,clearError:X,getRetainedData:U,getAllRetainedData:V,clearRetainedData:K,wsURL:f,setWsURL:m,authToken:g,setAuthToken:v,walletAddress:y,setWalletAddress:b,deviceID:w,setDeviceID:S,subscribeMultiFeedWithRetention:W,subscribeSubChannelWithRetention:j,unsubscribeMultiFeed:$,unsubscribeSubChannel:z}),[s,a,c,h,B,q,X,U,V,K,f,g,y,w,W,j,$,z]);return P.jsx(uV.Provider,{value:L,children:n})},tp=()=>{const n=M.useContext(uV);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function Ade({baseURL:n=fd,selectedMarketId:e,height:t,onMarketSelect:r,favorites:i=[],onFavoriteToggle:s}){const{markets:o,tickers:a,selectedMarketId:l,setSelectedMarketId:c,getSymbolByMarketId:u}=pd({baseURL:n,autoFetchMarkets:!0}),{subscribeSubChannelWithRetention:h,unsubscribeSubChannel:d,isConnected:f,getRetainedData:m,client:g}=tp(),[v,y]=M.useState(new Set(i)),[b,w]=M.useState("1H"),[S,_]=M.useState(null),k=M.useRef(null),E=M.useRef(null),C=e||l||null,{latestFundingRate:O}=Rhe({subscriptionClient:g,baseURL:n,marketId:C||"",historyDepth:1}),R=M.useMemo(()=>{if(!(O!=null&&O.fundingRate))return null;try{return lt(O.fundingRate)}catch(L){return console.error("[TickerBar] Error converting funding rate:",L),null}},[O]),D=M.useMemo(()=>{if(!(O!=null&&O.markPrice))return null;try{return lt(O.markPrice)}catch(L){return console.error("[TickerBar] Error converting mark_price:",L),null}},[O]),F=M.useMemo(()=>S!==null?S:D,[S,D]),N=M.useMemo(()=>{const L=new Set(v);return i.forEach(Y=>L.add(Y)),L},[i,v]),W=M.useMemo(()=>o.map(L=>{const Y=L.index??L.marketIndex??"",Q=a.get(Y),ee=L.moniker||L.symbol||(L.baseAsset&&L.quoteAsset?`${L.baseAsset}/${L.quoteAsset}`:"Unknown"),te=!L.active||!(Q!=null&&Q.lastPrice)||typeof Q.lastPrice=="string"&&Q.lastPrice==="0";let re=null;Q!=null&&Q.lastPrice&&(typeof Q.lastPrice=="string"?re=parseFloat(Q.lastPrice):re=Q.lastPrice);let ae=null;return Q!=null&&Q.priceChangePercent24h&&(typeof Q.priceChangePercent24h=="string"?ae=parseFloat(Q.priceChangePercent24h):ae=Q.priceChangePercent24h),{marketId:Y,symbol:ee,price:re,priceChangePercent:ae,isClosed:te,isFavorite:N.has(Y)}}).filter(L=>L.marketId),[o,a,N]),j=M.useMemo(()=>C?o.find(L=>L.index===C||L.marketIndex===C):null,[o,C]),$=M.useMemo(()=>C?a.get(C):null,[a,C]),z=M.useMemo(()=>j?j.moniker||j.symbol||(j.baseAsset&&j.quoteAsset?`${j.baseAsset}/${j.quoteAsset}`:"Unknown"):"Select Market",[j]),B=M.useMemo(()=>{if(!j)return"";const L=j.baseAsset||"",Y=j.quoteAsset||"";return L&&Y?`${L} to ${Y}`:j.moniker||j.symbol||""},[j]),q=M.useMemo(()=>$!=null&&$.lastPrice?typeof $.lastPrice=="string"?parseFloat($.lastPrice):$.lastPrice:null,[$]),U=M.useMemo(()=>$!=null&&$.priceChangePercent24h?typeof $.priceChangePercent24h=="string"?parseFloat($.priceChangePercent24h):$.priceChangePercent24h:null,[$]);M.useEffect(()=>{var ee;if(!C||!f){_(null);return}const L=u(C);if(!L){_(null);return}const Y=m("price_feed");if(Y&&yue(Y)&&((ee=Y.data)!=null&&ee.price))try{const te=lt(Y.data.price);_(te)}catch(te){console.error("[TickerBar] Error processing retained price_feed:",te)}const Q=te=>{try{if(te&&typeof te=="object"&&te.price){const re=lt(te.price);_(re)}}catch(re){console.error("[TickerBar] Error processing price_feed update:",re)}};E.current=Q;try{h(C,L,"price_feed",Q)}catch(te){console.error("[TickerBar] Failed to subscribe to price_feed:",te)}return()=>{if(E.current){try{d("price_feed",E.current)}catch(te){console.error("[TickerBar] Failed to unsubscribe from price_feed:",te)}E.current=null}}},[C,f,u,h,d,m]);const V=L=>{r?r(L):c(L)},K=(L,Y)=>{Y.stopPropagation();const Q=new Set(N);Q.has(L)?Q.delete(L):Q.add(L),y(Q),s&&s(L)},X=L=>{var ee;const Y=((ee=L.split("/")[0])==null?void 0:ee.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[Y]||Y.charAt(0)||"?"};return P.jsxs("div",{className:"ticker-bar-container",style:t?{height:t}:void 0,children:[P.jsx("div",{className:"ticker-bar-top",ref:k,children:P.jsx("div",{className:"ticker-bar-scroll",children:W.map((L,Y)=>P.jsxs(de.Fragment,{children:[P.jsxs("div",{className:`ticker-item ${L.marketId===C?"active":""}`,onClick:()=>V(L.marketId),children:[P.jsx("span",{className:"ticker-favorite-star",onClick:Q=>K(L.marketId,Q),style:{cursor:"pointer",opacity:L.isFavorite?1:.3},children:""}),P.jsx("span",{className:"ticker-asset-icon",children:X(L.symbol)}),P.jsx("span",{className:"ticker-symbol",children:L.symbol}),P.jsx("span",{className:"ticker-value",children:L.isClosed?P.jsx("span",{className:"ticker-closed",children:"CLOSED"}):L.price!==null?Hu(L.price):"--"})]}),Y<W.length-1&&P.jsx("div",{className:"ticker-separator"})]},L.marketId))})}),P.jsxs("div",{className:"ticker-bar-bottom",children:[P.jsxs("div",{className:"ticker-detail-left",children:[P.jsx("div",{className:"ticker-detail-icon-large",children:j?X(z):"?"}),P.jsxs("div",{className:"ticker-detail-symbol-group",children:[P.jsx("div",{className:"ticker-detail-symbol-row",children:P.jsx("span",{className:"ticker-detail-symbol",children:z})}),P.jsx("div",{className:"ticker-detail-description",children:B})]}),P.jsxs("div",{className:"ticker-detail-price-group",children:[P.jsx("div",{className:"ticker-detail-price",children:q!==null?Hu(q):"--"}),U!==null&&P.jsxs("div",{className:`ticker-detail-change ${U>=0?"positive":"negative"}`,children:[U>=0?"+":"",VM(U/100)]})]})]}),P.jsxs("div",{className:"ticker-detail-metrics",children:[P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),P.jsx("span",{className:"ticker-metric-value",children:F!==null?Hu(F):"--"})]}),P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),P.jsx("span",{className:"ticker-metric-value",children:$!=null&&$.volume?(()=>{const L=typeof $.volume=="string"?parseFloat($.volume):$.volume;return`${QN(L)} / 20.0M USDC`})():"--"})]}),P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),P.jsx("span",{className:"ticker-metric-value",children:$!=null&&$.volume?(()=>{const L=typeof $.volume=="string"?parseFloat($.volume):$.volume;return`${QN(L)} / 20.0M USDC`})():"--"})]}),P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),P.jsx("span",{className:"ticker-metric-value",children:"50%/50%"})]}),P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),P.jsx("span",{className:`ticker-metric-value ${R!==null&&R<0?"negative":R!==null&&R>0?"positive":""}`,children:R!==null?VM(R):"--"})]})]}),P.jsxs("div",{className:"ticker-detail-right",children:[P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),P.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),P.jsxs("div",{className:"ticker-metric",children:[P.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),P.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),P.jsx("div",{className:"ticker-timeframe-selector",children:P.jsxs("select",{className:"ticker-timeframe-select",value:b,onChange:L=>w(L.target.value),children:[P.jsx("option",{value:"1H",children:"1H"}),P.jsx("option",{value:"4H",children:"4H"}),P.jsx("option",{value:"1D",children:"1D"}),P.jsx("option",{value:"1W",children:"1W"}),P.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const Nde=de.memo(Ade),Lde=M.forwardRef(function({baseURL:e=fd,mnemonic:t=WM,marketId:r,marketSymbol:i,selectedBucketBalance:s,selectedBucketId:o,onLeverageClick:a,onNumberCalculatorClick:l,authToken:c,walletAddress:u},h){const{client:d}=tp(),{selectedMarketId:f,selectedMarketSymbol:m}=pd({baseURL:e,autoFetchMarkets:!0}),g=r||f||"",v=i||m||"",{lastPrice:y}=oV({subscriptionClient:d,baseURL:e,marketId:g}),b=(y==null?void 0:y.price)||0,w=M.useRef(0),S=M.useRef(0),_=M.useRef(!1),{collections:k,spotWalletBalance:E}=aV({subscriptionClient:d,baseURL:e,walletAddress:u||"",authToken:c||"",useWebSocket:!!u&&!!c}),C=M.useMemo(()=>!o||!k.length?null:k.find(Ae=>Ae.bucketId===o)||null,[k,o]),{orderType:O,setOrderType:R,fundPercent:D,sizeInput:F,price:N,leverage:W,marginMode:j,availableBalance:$,currentPrice:z,isReady:B,loading:q,result:U,setFundPercent:V,setSizeInput:K,setPrice:X,setMarginMode:L,setLeverage:Y,placeBuyOrder:Q,placeSellOrder:ee,changeLeverage:te,calculateValue:re,calculateMargin:ae,calculateSizeUSD:he,getOrderPrice:J,getAvailableTradeAmount:ne}=Ehe({baseURL:e,mnemonic:t,marketId:g,marketSymbol:v,selectedBucketBalance:s,selectedBucketId:o||void 0,tradePrice:b}),ye=M.useMemo(()=>J(),[J,O,N,z]),oe=M.useMemo(()=>ne(),[ne,$,W]),be=M.useMemo(()=>re(),[re,F,D,$,ye,W]),xe=M.useMemo(()=>ae(),[ae,W,be]),Me=M.useMemo(()=>An(String(be)),[be]),we=M.useMemo(()=>An(String(xe)),[xe]),_e=M.useMemo(()=>({minimumFractionDigits:oa,maximumFractionDigits:Pue}),[]),Ze=M.useMemo(()=>z.toFixed(oa),[z]),Ge=M.useMemo(()=>{const Ae=k.reduce((Le,Te)=>Le+Te.totalEquity,0);return E+Ae},[k,E]),ot=M.useMemo(()=>Ge.toLocaleString("en-US",_e),[Ge,_e]),Ee=M.useMemo(()=>E.toLocaleString("en-US",_e),[E,_e]),Be=M.useMemo(()=>C?C.totalEquity.toLocaleString("en-US",_e):"--",[C,_e]),Oe=M.useMemo(()=>C?C.totalEquity.toLocaleString("en-US",_e):"--",[C,_e]),We=M.useMemo(()=>C?C.unrealizedPnL.toLocaleString("en-US",_e):"--",[C,_e]),pe=M.useMemo(()=>C?(C.marginRatio*100).toFixed(oa)+"%":"--",[C]),Ce=M.useMemo(()=>C?C.usedMargin.toLocaleString("en-US",_e):"--",[C,_e]),Se=M.useMemo(()=>C?`${C.leverage.toFixed(oa)}x`:"--",[C]),Fe=M.useMemo(()=>dde(o||null),[o]);M.useEffect(()=>{if(C){const Ae=Of(C);(Ae===om||Ae===Iue)&&L(Ae)}},[C,L]);const ke=M.useCallback(()=>{R(HM)},[R]),Ue=M.useCallback(()=>{R(e1)},[R]),He=M.useCallback(()=>{V(Math.min(Jw,D+Zw))},[D,V]),Ve=M.useCallback(()=>{V(Math.max(v0,D-Zw))},[D,V]),gt=M.useCallback(Ae=>{const Le=parseInt(Ae.target.value);V(Le)},[V]),Qt=M.useCallback(Ae=>{X(parseFloat(Ae.target.value))},[X]),[$r,Sn]=M.useState(!1),[ur,hr]=M.useState(""),rt=M.useCallback(Ae=>{const Le=Ae.target.value;hr(Le);const Te=parseFloat(Le),$t=isNaN(Te)?0:Math.round(Te*1e6)/1e6;K($t)},[K]),ft=M.useCallback(()=>{Sn(!0),hr(Voe(F))},[F]),Pe=M.useCallback(()=>{Sn(!1);const Ae=parseFloat(ur);K(Ae),hr("")},[ur,K]),ue=M.useCallback(()=>{const Ae=tt.loading("Submit transaction...",{description:"Placing buy order"});w.current=typeof Ae=="number"?Ae:0,Q()},[Q]),ct=M.useCallback(()=>{const Ae=tt.loading("Submit transaction...",{description:"Placing sell order"});w.current=typeof Ae=="number"?Ae:0,ee()},[ee]),yt=M.useCallback(async(Ae,Le)=>{_.current=!0;const Te=tt.loading("Changing leverage...",{description:`Updating leverage to ${Ae}x`});S.current=typeof Te=="number"?Te:0;try{const $t=(Le==null?void 0:Le.leverageType)||(j===om?"cross":"isolated"),Ke=(Le==null?void 0:Le.bucketId)||o||"";await te(Ae,{...Le,bucketId:Ke,leverageType:$t})}catch($t){_.current=!1,S.current!==0&&(tt.dismiss(S.current),S.current=0);const Ke=$t instanceof Error?$t.message:"Unknown error";tt.error("Leverage Change Failed",{description:Ke,action:Gn(Ke)})}},[te,j,o]);return M.useImperativeHandle(h,()=>({leverage:W,setLeverage:Y,calculateMaxRatio:Ae=>{const Te=he();return $>0&&Te>0?(Te/$).toFixed(oa):Ae.toFixed(oa)},changeLeverage:yt,setPrice:Ae=>{const Le=typeof Ae=="number"?Ae:parseFloat(Ae);isNaN(Le)||X(Le)},setSizeInput:Ae=>{K(Ae)},getSizeInput:()=>F,getAvailableTradeAmount:()=>oe}),[W,Y,he,J,$,yt,X,K,F,oe]),M.useEffect(()=>{if(U)if(_.current)if(_.current=!1,S.current!==0&&(tt.dismiss(S.current),S.current=0),U.success){const Ae=U.orderId?`Transaction: ${U.orderId}`:U.message||"Leverage changed successfully";tt.success("Leverage Changed Successfully",{description:Ae})}else U.error&&tt.error("Leverage Change Failed",{description:U.error,action:Gn(U.error||"")});else if(w.current!==0&&(tt.dismiss(w.current),w.current=0),U.success){const Ae=U.orderId?`Order ID: ${U.orderId}`:U.message||"Order placed successfully";tt.success("Order Placed Successfully",{description:Ae})}else U.error&&tt.error("Order Failed",{description:U.error,action:Gn(U.error||"")})},[U]),P.jsxs("div",{className:"component",children:[P.jsx("h2",{children:v}),P.jsxs("div",{className:"trade-op-config",children:[P.jsxs("div",{className:"trade-op-badge",children:[P.jsx("span",{className:"trade-op-badge-label",children:j}),P.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),P.jsxs("div",{className:"trade-op-badge",onClick:a,style:{cursor:"pointer"},children:[P.jsxs("span",{className:"trade-op-badge-label",children:[W,"x"]}),P.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),P.jsxs("div",{className:"trade-op-order-type-selector",children:[P.jsx("button",{onClick:ke,className:`btn-toggle ${O===HM?"active":""}`,children:"MARKET"}),P.jsx("button",{onClick:Ue,className:`btn-toggle ${O===e1?"active":""}`,children:"LIMIT"})]}),O===e1&&P.jsx("div",{className:"trade-op-form-group",children:P.jsxs("div",{className:"trade-op-form-row",children:[P.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),P.jsx("input",{id:"price",type:"number",value:N,onChange:Qt,placeholder:Ze,step:Cue,min:vN})]})}),P.jsxs("div",{className:"trade-op-form-group",children:[P.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[P.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),P.jsx("span",{className:"trade-op-icon",onClick:l,children:P.jsx("img",{src:"cal.svg"})}),P.jsxs("div",{className:"trade-op-size-controls",children:[P.jsx("input",{id:"size",type:"number",step:"0.000001",value:$r?ur:F,onChange:rt,onFocus:ft,onBlur:Pe,placeholder:"0",min:vN,max:oe,className:"trade-op-input"}),P.jsxs("div",{className:"trade-op-size-buttons",children:[P.jsx("button",{onClick:He,className:"btn-small",children:""}),P.jsx("button",{onClick:Ve,className:"btn-small",children:""})]})]})]}),P.jsx("input",{type:"range",min:v0,max:Jw,value:D,onChange:gt,step:Zw,style:{width:"100%","--slider-progress":`${(D-v0)/(Jw-v0)*100}%`},className:"filled-slider"}),P.jsxs("div",{className:"trade-op-slider-labels",children:[P.jsx("span",{children:"0"}),P.jsx("span",{children:"20"}),P.jsx("span",{children:"40"}),P.jsx("span",{children:"60"}),P.jsx("span",{children:"80"}),P.jsx("span",{children:"100"})]})]}),P.jsxs("div",{className:"trade-op-action-panel",children:[P.jsxs("div",{children:[P.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),P.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),P.jsx("button",{onClick:ue,disabled:q||!B||be<=0,className:"btn-buy",children:q?"PLACING...":"BUY LONG"}),P.jsxs("div",{className:"trade-op-panel-details",children:[P.jsxs("div",{children:["Value ",Me.toFixed(2)]}),P.jsxs("div",{children:["Margin ",we.toFixed(2)]})]})]}),P.jsxs("div",{children:[P.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),P.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),P.jsx("button",{onClick:ct,disabled:q||!B||be<=0,className:"btn-sell",children:q?"PLACING...":"SELL SHORT"}),P.jsxs("div",{className:"trade-op-panel-details",children:[P.jsxs("div",{children:["Value ",Me.toFixed(oa)]}),P.jsxs("div",{children:["Margin ",we.toFixed(oa)]})]})]})]}),P.jsxs("div",{className:"trade-op-info-panel",children:[P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),P.jsxs("span",{className:"trade-op-info-value",children:[ot," USDC"]})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),P.jsxs("span",{className:"trade-op-info-value",children:[Ee," USDC"]})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsxs("span",{className:"trade-op-info-label",children:[o||"Bucket",":"]}),P.jsxs("span",{className:"trade-op-info-value",children:[Be," USDC"]})]}),P.jsx("div",{className:"trade-op-info-row",children:P.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",Fe]})}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),P.jsxs("span",{className:"trade-op-info-value",children:[Oe," USDC"]})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),P.jsxs("span",{className:"trade-op-info-value",children:[We," USDC"]})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),P.jsx("span",{className:"trade-op-info-value",children:pe})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),P.jsxs("span",{className:"trade-op-info-value",children:[Ce," USDC"]})]}),P.jsxs("div",{className:"trade-op-info-row",children:[P.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),P.jsx("span",{className:"trade-op-info-value",children:Se})]})]})]})});function Fde({baseURL:n=fd,subscriptionClient:e,marketId:t=_ue,limit:r=Sue}){const{lastPrice:i,displayPrice:s,recentTrades:o,loading:a,error:l,isConnected:c,priceChange:u}=oV({subscriptionClient:e,baseURL:n,marketId:t,limit:r}),h=M.useRef(null),d=M.useRef(""),f=M.useRef(null),m=M.useCallback(()=>{const C=h.current;if(!C)return;const O=C.parentElement;if(!O)return;const R=C.textContent||"";if(!R)return;const D=window.getComputedStyle(O),F=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight),N=O.clientWidth-F;let W=12,j=48,$=W;const z=document.createElement("div");for(z.style.position="absolute",z.style.visibility="hidden",z.style.whiteSpace="nowrap",z.style.fontFamily=window.getComputedStyle(C).fontFamily,z.style.fontWeight=window.getComputedStyle(C).fontWeight,document.body.appendChild(z);W<=j;){const q=Math.floor((W+j)/2);z.style.fontSize=`${q}px`,z.textContent=R,z.offsetWidth<=N?($=q,W=q+1):j=q-1}document.body.removeChild(z);const B=parseFloat(window.getComputedStyle(C).fontSize);Math.abs(B-$)>.5&&(C.style.fontSize=`${$}px`)},[]);M.useEffect(()=>{if(s==null)return;const C=Hu(s);if(C===d.current)return;d.current=C,f.current!==null&&clearTimeout(f.current),f.current=window.setTimeout(()=>{m()},150);let O;const R=()=>{clearTimeout(O),O=window.setTimeout(()=>{f.current!==null&&clearTimeout(f.current),f.current=window.setTimeout(()=>{m()},150)},100)};return window.addEventListener("resize",R),()=>{f.current!==null&&clearTimeout(f.current),clearTimeout(O),window.removeEventListener("resize",R)}},[s,m]);const g=M.useCallback(C=>{if(!C||isNaN(C)||C<=0)return"Invalid";let O=C;O<9466848e5&&(O=O*1e3);const R=new Date(O);return isNaN(R.getTime())?"Invalid":R.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),v=M.useCallback(C=>C?"#51cf66":"#ff6b6b",[]),y=M.useCallback(C=>C?"BUY":"SELL",[]),b=M.useCallback(C=>C?"":"",[]);if(a)return P.jsx(md,{message:"Loading trade price..."});if(l)return P.jsx(gd,{error:l});if(s==null)return P.jsx(Lo,{message:"No trade data available"});const w=i&&i.isBuyerMaker!==void 0,S=w?v(i.isBuyerMaker):"#888",_=w?y(i.isBuyerMaker):"N/A",k=w?b(i.isBuyerMaker):"",E=u==="up"?"flash-price-up":u==="down"?"flash-price-down":"";return P.jsxs("div",{className:"layout-container trade-price-container",children:[P.jsx(vd,{title:P.jsx(EO,{isConnected:c}),children:P.jsx("div",{children:"Last Trade Price"})}),P.jsxs("div",{className:`trade-price-main ${E}`,children:[P.jsx("div",{ref:h,className:"trade-price-value",style:{color:S},children:Hu(s)}),P.jsxs("div",{className:"trade-price-side",style:{color:S},children:[P.jsx("span",{children:k}),P.jsx("span",{children:_})]})]}),P.jsx("div",{className:"trade-price-trades-table",children:a?P.jsx("div",{className:"message",children:"Loading trades..."}):o.length===0?P.jsx("div",{className:"message",children:"No trades available"}):P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Time"}),P.jsx("th",{className:"right",children:"Size"}),P.jsx("th",{className:"right",children:"Price"})]})}),P.jsx("tbody",{children:o.map(C=>{const O=C.isBuyerMaker?"#51cf66":"#ff6b6b";return P.jsxs("tr",{children:[P.jsx("td",{children:g(C.time)}),P.jsx("td",{className:"right",children:lde(C.size)}),P.jsx("td",{className:"right price",style:{color:O},children:Hu(C.price)})]},`${C.time}-${C.price}-${C.size}`)})})]})})]})}const $de=de.memo(Fde),hV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return P.jsxs("div",{className:`orderbook-level ask${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[P.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${r}%`}}),P.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),P.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),P.jsx("div",{className:"orderbook-depth-indicator",children:P.jsx("div",{className:"orderbook-depth-line ask"})})]})},dV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return P.jsxs("div",{className:`orderbook-level bid${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[P.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${r}%`}}),P.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),P.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),P.jsx("div",{className:"orderbook-depth-indicator",children:P.jsx("div",{className:"orderbook-depth-line bid"})})]})};function jde({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=eV,height:i=ZG,onPriceClick:s}){var O,R;const{asks:o,bids:a,spread:l,midPrice:c,loading:u,error:h,isConnected:d,wsError:f}=rV({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r}),m=M.useRef(null),g=M.useRef(null),v=M.useRef(null),y=M.useRef(0),b=M.useRef(0);M.useEffect(()=>{const D=o.length!==y.current,F=a.length!==b.current;if(!(!D&&!F))return y.current=o.length,b.current=a.length,v.current!==null&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(m.current&&D){const N=m.current;N.scrollTop=N.scrollHeight}if(g.current&&F){const N=g.current;N.scrollTop=0}v.current=null}),()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)}},[o.length,a.length]);const w=o.length>0?((O=o[o.length-1])==null?void 0:O.cumulative)??0:0,S=a.length>0?((R=a[a.length-1])==null?void 0:R.cumulative)??0:0,_=M.useMemo(()=>Math.max(w,S),[w,S]),k=yy,E=by,C=M.useCallback(D=>_===0?0:D/_*100,[_]);return u?P.jsx(md,{message:"Loading orderbook..."}):h?P.jsx(gd,{error:h}):P.jsxs("div",{className:"layout-container",style:{height:i},children:[f&&(o.length>0||a.length>0)&&P.jsxs("div",{className:"orderbook-ws-warning",children:[P.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),P.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),P.jsx(vd,{title:P.jsx(EO,{isConnected:d}),children:P.jsxs("div",{children:["Depth: ",r]})}),c&&P.jsxs("div",{className:"orderbook-mid-price",children:[P.jsx("div",{className:"orderbook-mid-price-value",children:k(c)}),l!==void 0&&P.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",k(l)]})]}),P.jsxs("div",{className:"orderbook-content",children:[P.jsxs("div",{className:"orderbook-section",ref:m,children:[o.map((D,F)=>{const N=w-D.cumulative+D.size,W=C(N);return P.jsx(hV,{level:D,index:F,isLast:F===o.length-1,depthPercent:W,formatPrice:k,formatSize:E,onPriceClick:s},`ask-${D.price}-${F}`)}),o.length===0&&P.jsx(Lo,{message:"No ask orders"})]}),P.jsxs("div",{className:"orderbook-section bids",ref:g,children:[a.map((D,F)=>{const N=C(D.cumulative);return P.jsx(dV,{level:D,index:F,isLast:F===a.length-1,depthPercent:N,formatPrice:k,formatSize:E,onPriceClick:s},`bid-${D.price}-${F}`)}),a.length===0&&P.jsx(Lo,{message:"No bid orders"})]})]}),P.jsx(fV,{totalBids:S,totalAsks:w})]})}const fV=de.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return P.jsxs("div",{className:"orderbook-footer",children:[P.jsxs("div",{className:"orderbook-footer-legend",children:[P.jsx("div",{className:"orderbook-footer-bar bid"}),P.jsx("span",{className:"color-text-muted",children:r})]}),P.jsxs("div",{className:"orderbook-footer-legend",children:[P.jsx("div",{className:"orderbook-footer-bar ask"}),P.jsx("span",{className:"color-text-muted",children:i})]})]})});fV.displayName="FooterSummary";de.memo(jde);function Bde(n,e,t,r){const i=o=>{const a=1-o;return 3*a*a*o*n+3*a*o*o*t+o*o*o},s=o=>{const a=1-o;return 3*a*a*o*e+3*a*o*o*r+o*o*o};return o=>{if(o<=0)return 0;if(o>=1)return 1;let a=0,l=1,c=.5;for(let u=0;u<12;u++){const h=i(c);if(Math.abs(h-o)<1e-4)break;h<o?a=c:l=c,c=(a+l)/2}return s(c)}}function zde({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=eV,height:i=ZG,onPriceClick:s,enhancementConfig:o}){var V,K;const a=rV({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r}),{asks:l,bids:c,spread:u,loading:h,error:d,isConnected:f,wsError:m}=Ohe({asks:a.asks,bids:a.bids,spread:a.spread,loading:a.loading,error:a.error,isConnected:a.isConnected,wsError:a.wsError},o??{enabled:!1},r),g=M.useRef(null),v=M.useRef(null),y=M.useRef(null),b=M.useRef(null),w=M.useRef(!1),S=M.useRef(null),_=M.useRef(null),k=M.useRef(!1),E=M.useRef(0),C=l.length>0?((V=l[l.length-1])==null?void 0:V.cumulative)??0:0,O=c.length>0?((K=c[c.length-1])==null?void 0:K.cumulative)??0:0,R=M.useMemo(()=>Math.max(C,O),[C,O]),D=yy,F=by,N=M.useCallback(X=>R===0?0:X/R*100,[R]),W=M.useCallback((X,L,Y)=>{if(w.current)return;w.current=!0;const Q=Y,ee=L-Q,te=300,re=performance.now(),ae=re+te,he=Bde(.57,.4,.55,1.17),J=ne=>{if(ne>=ae){X.scrollTop=Math.max(0,L),w.current=!1,E.current=performance.now(),b.current&&(cancelAnimationFrame(b.current),b.current=null);return}const ye=ne-re,oe=Math.min(ye/te,1),be=he(oe),xe=Q+ee*be;X.scrollTop=Math.max(0,xe),b.current=requestAnimationFrame(J)};b.current=requestAnimationFrame(J)},[]),j=M.useCallback((X=0)=>{if(w.current||performance.now()-E.current<500||!g.current||!v.current)return;const Q=g.current,te=v.current.clientHeight;if(te===0)return;const re=te/2,ae=20.83333;if(l.length*ae<=re||u<=0||l.length===0||c.length===0)return;if(!y.current){if(X<3){_.current&&clearTimeout(_.current);const _e=50*(X+1);_.current=window.setTimeout(()=>{_.current=null,j(X+1)},_e)}return}const J=y.current,ne=J.offsetTop,ye=J.offsetHeight;if(ye===0){if(X<3){_.current&&clearTimeout(_.current);const _e=50*(X+1);_.current=window.setTimeout(()=>{_.current=null,j(X+1)},_e)}return}const oe=ne+ye/2,be=te/2,xe=oe-be-ae,Me=Q.scrollTop;Math.abs(xe-Me)>1&&W(Q,Math.max(0,xe),Me)},[l.length,u,W]);M.useEffect(()=>{const X=()=>{k.current&&(k.current=!1,j())};return window.addEventListener("mouseup",X),()=>{window.removeEventListener("mouseup",X)}},[j]),M.useEffect(()=>{if(!g.current||!v.current)return;const X=requestAnimationFrame(()=>{requestAnimationFrame(()=>{j()})});return()=>{cancelAnimationFrame(X),b.current&&(cancelAnimationFrame(b.current),b.current=null),S.current&&(clearTimeout(S.current),S.current=null),_.current&&(clearTimeout(_.current),_.current=null),w.current=!1}},[l.length,c.length,u,R,j]);const $=M.useCallback(()=>{w.current&&b.current&&(cancelAnimationFrame(b.current),b.current=null,w.current=!1),S.current&&(clearTimeout(S.current),S.current=null)},[]),z=M.useCallback(X=>{const L=X.currentTarget,Y=L.offsetWidth-L.clientWidth;if(Y>0){const Q=L.getBoundingClientRect();X.clientX-Q.left>L.clientWidth-Y-5&&(k.current=!0,$())}},[$]),B=M.useCallback(()=>{k.current&&$()},[$]),q=M.useCallback(()=>{k.current&&(k.current=!1,j())},[j]),U=M.useCallback(()=>{$(),S.current&&clearTimeout(S.current),k.current||(S.current=window.setTimeout(()=>{S.current=null,j()},150))},[j,$]);return h?P.jsx(md,{message:"Loading orderbook..."}):d?P.jsx(gd,{error:d}):P.jsxs("div",{className:"layout-container",style:{height:i},children:[m&&(l.length>0||c.length>0)&&P.jsxs("div",{className:"orderbook-ws-warning",children:[P.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),P.jsx("span",{className:"orderbook-ws-warning-text",children:m})]}),P.jsx(vd,{title:P.jsx(EO,{isConnected:f??!1}),children:P.jsxs("div",{children:["Depth: ",r]})}),P.jsx("div",{className:"orderbook-content",ref:v,children:P.jsxs("div",{className:"orderbook-section",ref:g,onScroll:U,onMouseDown:z,onMouseMove:B,onMouseUp:q,onMouseLeave:q,children:[l.map((X,L)=>{const Y=C-X.cumulative+X.size,Q=N(Y);return P.jsx(hV,{level:X,index:L,isLast:L===l.length-1&&c.length===0,depthPercent:Q,formatPrice:D,formatSize:F,onPriceClick:s},`ask-${X.price}-${L}`)}),u>0&&l.length>0&&c.length>0&&P.jsxs("div",{className:"orderbook-mid-price-spread",ref:y,children:["Spread: ",D(u)]}),c.map((X,L)=>{const Y=N(X.cumulative);return P.jsx(dV,{level:X,index:L,isLast:L===c.length-1,depthPercent:Y,formatPrice:D,formatSize:F,onPriceClick:s},`bid-${X.price}-${L}`)}),l.length===0&&c.length===0&&P.jsx(Lo,{message:"No orders"}),l.length===0&&c.length>0&&P.jsx(Lo,{message:"No ask orders"}),c.length===0&&l.length>0&&P.jsx(Lo,{message:"No bid orders"})]})}),P.jsx(pV,{totalBids:O,totalAsks:C})]})}const pV=de.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return P.jsxs("div",{className:"orderbook-footer",children:[P.jsxs("div",{className:"orderbook-footer-legend",children:[P.jsx("div",{className:"orderbook-footer-bar bid"}),P.jsx("span",{className:"color-text-muted",children:r})]}),P.jsxs("div",{className:"orderbook-footer-legend",children:[P.jsx("div",{className:"orderbook-footer-bar ask"}),P.jsx("span",{className:"color-text-muted",children:i})]})]})});pV.displayName="FooterSummary";const qde=de.memo(zde);function yd(n){const{margin:e,containerPadding:t,containerWidth:r,cols:i}=n;return(r-e[0]*(i-1)-t[0]*2)/i}function Bh(n,e,t){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*t):n}function af(n,e,t,r,i,s,o){const{margin:a,containerPadding:l,rowHeight:c}=n,u=yd(n);let h,d,f,m;if(o?(h=Math.round(o.width),d=Math.round(o.height)):(h=Bh(r,u,a[0]),d=Bh(i,c,a[1])),s?(f=Math.round(s.top),m=Math.round(s.left)):o?(f=Math.round(o.top),m=Math.round(o.left)):(f=Math.round((c+a[1])*t+l[1]),m=Math.round((u+a[0])*e+l[0])),!s&&!o){if(Number.isFinite(r)){const v=Math.round((u+a[0])*(e+r)+l[0])-m-h;v!==a[0]&&(h+=v-a[0])}if(Number.isFinite(i)){const v=Math.round((c+a[1])*(t+i)+l[1])-f-d;v!==a[1]&&(d+=v-a[1])}}return{top:f,left:m,width:h,height:d}}function Ude(n,e,t,r,i){const{margin:s,containerPadding:o,cols:a,rowHeight:l,maxRows:c}=n,u=yd(n);let h=Math.round((t-o[0])/(u+s[0])),d=Math.round((e-o[1])/(l+s[1]));return h=xy(h,0,a-r),d=xy(d,0,c-i),{x:h,y:d}}function S0(n,e,t){const{margin:r,containerPadding:i,rowHeight:s}=n,o=yd(n),a=Math.round((t-i[0])/(o+r[0])),l=Math.round((e-i[1])/(s+r[1]));return{x:a,y:l}}function Wde(n,e,t){const{margin:r,rowHeight:i}=n,s=yd(n),o=Math.max(1,Math.round((e+r[0])/(s+r[0]))),a=Math.max(1,Math.round((t+r[1])/(i+r[1])));return{w:o,h:a}}function xy(n,e,t){return Math.max(Math.min(n,t),e)}function TO(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function tc(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&TO(r,e))return r}}function mV(n,e){return n.filter(t=>TO(t,e))}function Hde(n,e){return e==="horizontal"?gV(n):e==="vertical"||e==="wrap"?XM(n):[...n]}function XM(n){return[...n].sort((e,t)=>e.y!==t.y?e.y-t.y:e.x-t.x)}function gV(n){return[...n].sort((e,t)=>e.x!==t.x?e.x-t.x:e.y-t.y)}function Lb(n){let e=0;for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0){const i=r.y+r.h;i>e&&(e=i)}}return e}function kl(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&r.i===e)return r}}function Fb(n){return n.filter(e=>e.static===!0)}function gc(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,constraints:n.constraints,isBounded:n.isBounded}}function Za(n){const e=new Array(n.length);for(let t=0;t<n.length;t++){const r=n[t];r!==void 0&&(e[t]=gc(r))}return e}function Yde(n,e){const t=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e.i===i.i?t[r]=e:t[r]=i)}return t}function Gde(n,e,t){let r=kl(n,e);return r?(r=t(gc(r)),[Yde(n,r),r]):[[...n],null]}function MO(n,e){const t=Fb(n);for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0)if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)t.push(i);else for(;tc(t,i);)i.y++}return n}function Ll(n,e,t,r,i,s,o,a,l){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===r&&e.x===t)return[...n];const c=e.x,u=e.y;typeof t=="number"&&(e.x=t),typeof r=="number"&&(e.y=r),e.moved=!0;let h=Hde(n,o);(o==="vertical"&&typeof r=="number"?u>=r:o==="horizontal"&&typeof t=="number"?c>=t:!1)&&(h=h.reverse());const f=mV(h,e),m=f.length>0;if(m&&l)return Za(n);if(m&&s)return e.x=c,e.y=u,e.moved=!1,n;let g=[...n];for(let v=0;v<f.length;v++){const y=f[v];y!==void 0&&(y.moved||(y.static?g=ZN(g,y,e,i,o):g=ZN(g,e,y,i,o)))}return g}function ZN(n,e,t,r,i,s){const o=i==="horizontal",a=i==="vertical",l=e.static;if(r){r=!1;const h={x:o?Math.max(e.x-t.w,0):t.x,y:a?Math.max(e.y-t.h,0):t.y,w:t.w,h:t.h,i:"-1"},d=tc(n,h),f=d!==void 0&&d.y+d.h>e.y,m=d!==void 0&&e.x+e.w>d.x;if(!d)return Ll(n,t,o?h.x:void 0,a?h.y:void 0,r,l,i);if(f&&a)return Ll(n,t,void 0,t.y+1,r,l,i);if(f&&i===null)return e.y=t.y,t.y=t.y+t.h,[...n];if(m&&o)return Ll(n,e,t.x,void 0,r,l,i)}const c=o?t.x+1:void 0,u=a?t.y+1:void 0;return c===void 0&&u===void 0?[...n]:Ll(n,t,c,u,r,l,i)}function Pu(n,e,t){return Math.max(e,Math.min(t,n))}var Vde={name:"gridBounds",constrainPosition(n,e,t,{cols:r,maxRows:i}){return{x:Pu(e,0,Math.max(0,r-n.w)),y:Pu(t,0,Math.max(0,i-n.h))}},constrainSize(n,e,t,r,{cols:i,maxRows:s}){const o=r==="w"||r==="nw"||r==="sw"?n.x+n.w:i-n.x,a=r==="n"||r==="nw"||r==="ne"?n.y+n.h:s-n.y;return{w:Pu(e,1,Math.max(1,o)),h:Pu(t,1,Math.max(1,a))}}},Kde={name:"minMaxSize",constrainSize(n,e,t){return{w:Pu(e,n.minW??1,n.maxW??1/0),h:Pu(t,n.minH??1,n.maxH??1/0)}}},vV=[Vde,Kde];function k0(n,e,t,r,i){let s={x:t,y:r};for(const o of n)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));if(e.constraints)for(const o of e.constraints)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));return s}function Xde(n,e,t,r,i,s){let o={w:t,h:r};for(const a of n)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));if(e.constraints)for(const a of e.constraints)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));return o}function PO({top:n,left:e,width:t,height:r}){const i=`translate(${e}px,${n}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${t}px`,height:`${r}px`,position:"absolute"}}function yV({top:n,left:e,width:t,height:r}){return{top:`${n}px`,left:`${e}px`,width:`${t}px`,height:`${r}px`,position:"absolute"}}function e5(n){return n*100+"%"}function Qde(n,e,t,r){return n+t>r?e:t}function bV(n,e,t){return n<0?e:t}function Jde(n){return Math.max(0,n)}function wy(n){return Math.max(0,n)}var IO=(n,e,t)=>{const{left:r,height:i,width:s}=e,o=n.top-(i-n.height);return{left:r,width:s,height:bV(o,n.height,i),top:wy(o)}},OO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{top:r,height:s,width:Qde(n.left,n.width,o,t),left:Jde(i)}},RO=(n,e,t)=>{const{top:r,height:i,width:s}=e,o=n.left+n.width-s;return o<0?{height:i,width:n.left+n.width,top:wy(r),left:0}:{height:i,width:s,top:wy(r),left:o}},DO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{width:o,left:i,height:bV(r,n.height,s),top:wy(r)}},Zde=(n,e,t)=>IO(n,OO(n,e,t)),efe=(n,e,t)=>IO(n,RO(n,e)),tfe=(n,e,t)=>DO(n,OO(n,e,t)),nfe=(n,e,t)=>DO(n,RO(n,e)),rfe={n:IO,ne:Zde,e:OO,se:tfe,s:DO,sw:nfe,w:RO,nw:efe};function ife(n,e,t,r){const i=rfe[n];return i?i(e,{...e,...t},r):t}var xV={type:"transform",scale:1,calcStyle(n){return PO(n)}},sfe={type:"absolute",scale:1,calcStyle(n){return yV(n)}};function ofe(n){return{type:"transform",scale:n,calcStyle(e){return PO(e)},calcDragPosition(e,t,r,i){return{left:(e-r)/n,top:(t-i)/n}}}}var afe=xV,lfe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},cfe={enabled:!0,bounded:!1,threshold:3},ufe={enabled:!0,handles:["se"]},hfe={enabled:!1,defaultItem:{w:1,h:1}};function AO(n,e,t,r,i){const s=r==="x"?"w":"h";e[r]+=1;const o=n.findIndex(l=>l.i===e.i),a=i??Fb(n).length>0;for(let l=o+1;l<n.length;l++){const c=n[l];if(c!==void 0&&!c.static){if(!a&&c.y>e.y+e.h)break;TO(e,c)&&AO(n,c,t+e[s],r,a)}}e[r]=t}function dfe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),e.y=Math.min(r,e.y);e.y>0&&!tc(n,e);)e.y--;let i;for(;(i=tc(n,e))!==void 0;)AO(t,e,i.y+i.h,"y");return e.y=Math.max(e.y,0),e}function ffe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0);e.x>0&&!tc(n,e);)e.x--;let i;for(;(i=tc(n,e))!==void 0;)if(AO(r,e,i.x+i.w,"x"),e.x+e.w>t)for(e.x=t-e.w,e.y++;e.x>0&&!tc(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var wV={type:"vertical",allowOverlap:!1,compact(n,e){const t=Fb(n);let r=Lb(t);const i=XM(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=gc(a);l.static||(l=dfe(t,l,i,r),r=Math.max(r,l.y+l.h),t.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s}},_V={type:"horizontal",allowOverlap:!1,compact(n,e){const t=Fb(n),r=gV(n),i=new Array(n.length);for(let s=0;s<r.length;s++){const o=r[s];if(o===void 0)continue;let a=gc(o);a.static||(a=ffe(t,a,e,r),t.push(a));const l=n.indexOf(o);i[l]=a,a.moved=!1}return i}},SV={type:null,allowOverlap:!1,compact(n,e){return Za(n)}},pfe={...wV,allowOverlap:!0,compact(n,e){return Za(n)}},mfe={..._V,allowOverlap:!0,compact(n,e){return Za(n)}},gfe={...SV,allowOverlap:!0};function $b(n,e=!1,t=!1){let r;return e?n==="vertical"?r=pfe:n==="horizontal"?r=mfe:r=gfe:n==="vertical"?r=wV:n==="horizontal"?r=_V:r=SV,t?{...r,preventCollision:t}:r}function kV(n){return Object.keys(n).sort((t,r)=>n[t]-n[r])}function t5(n,e){const t=kV(n);let r=t[0];if(r===void 0)throw new Error("No breakpoints defined");for(let i=1;i<t.length;i++){const s=t[i];if(s===void 0)continue;const o=n[s];e>o&&(r=s)}return r}function n5(n,e){const t=e[n];if(t===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return t}function v1(n,e,t,r,i,s){const o=n[t];if(o)return Za(o);let a=n[r];const l=kV(e),c=l.slice(l.indexOf(t));for(let f=0;f<c.length;f++){const m=c[f];if(m===void 0)continue;const g=n[m];if(g){a=g;break}}const u=Za(a||[]),h=MO(u,{cols:i});return(typeof s=="object"&&s!==null?s:$b(s)).compact(h,i)}function C0(n,e){if(Array.isArray(n))return n;const t=n,r=t[e];if(r!==void 0)return r;const i=Object.keys(t);for(const s of i){const o=t[s];if(o!==void 0)return o}return[10,10]}var jb={exports:{}},CV={},EV={exports:{}},vfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yfe=vfe,bfe=yfe;function TV(){}function MV(){}MV.resetWarningCache=TV;var xfe=function(){function n(r,i,s,o,a,l){if(l!==bfe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MV,resetWarningCache:TV};return t.PropTypes=t,t};EV.exports=xfe();var Bb=EV.exports;function PV(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PV(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function lm(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PV(n))&&(r&&(r+=" "),r+=e);return r}const wfe=Object.freeze(Object.defineProperty({__proto__:null,clsx:lm,default:lm},Symbol.toStringTag,{value:"Module"})),_fe=une(wfe);var xn={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.dontSetMe=Tfe;eo.findInArray=Sfe;eo.int=Efe;eo.isFunction=kfe;eo.isNum=Cfe;function Sfe(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function kfe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Cfe(n){return typeof n=="number"&&!isNaN(n)}function Efe(n){return parseInt(n,10)}function Tfe(n,e,t){if(n[e])return new Error(`Invalid prop ${e} passed to ${t} - do not set this, set it on the child.`)}var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.browserPrefixToKey=OV;Nc.browserPrefixToStyle=Mfe;Nc.default=void 0;Nc.getPrefix=IV;const y1=["Moz","Webkit","O","ms"];function IV(){var t,r;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(r=(t=window.document)==null?void 0:t.documentElement)==null?void 0:r.style;if(!e||n in e)return"";for(let i=0;i<y1.length;i++)if(OV(n,y1[i])in e)return y1[i];return""}function OV(n,e){return e?`${e}${Pfe(n)}`:n}function Mfe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function Pfe(n){let e="",t=!0;for(let r=0;r<n.length;r++)t?(e+=n[r].toUpperCase(),t=!1):n[r]==="-"?t=!0:e+=n[r];return e}Nc.default=IV();Object.defineProperty(xn,"__esModule",{value:!0});xn.addClassName=AV;xn.addEvent=Ofe;xn.addUserSelectStyles=qfe;xn.createCSSTransform=$fe;xn.createSVGTransform=jfe;xn.getTouch=Bfe;xn.getTouchIdentifier=zfe;xn.getTranslation=NO;xn.innerHeight=Nfe;xn.innerWidth=Lfe;xn.matchesSelector=DV;xn.matchesSelectorAndParentsTo=Ife;xn.offsetXYFromParent=Ffe;xn.outerHeight=Dfe;xn.outerWidth=Afe;xn.removeClassName=NV;xn.removeEvent=Rfe;xn.scheduleRemoveUserSelectStyles=Ufe;var vi=eo,r5=RV(Nc);function RV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(RV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}let E0="";function DV(n,e){return E0||(E0=(0,vi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,vi.isFunction)(n[t])})),(0,vi.isFunction)(n[E0])?n[E0](e):!1}function Ife(n,e,t){let r=n;do{if(DV(r,e))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function Ofe(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.addEventListener?n.addEventListener(e,t,i):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function Rfe(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.removeEventListener?n.removeEventListener(e,t,i):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function Dfe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,vi.int)(t.borderTopWidth),e+=(0,vi.int)(t.borderBottomWidth),e}function Afe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,vi.int)(t.borderLeftWidth),e+=(0,vi.int)(t.borderRightWidth),e}function Nfe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,vi.int)(t.paddingTop),e-=(0,vi.int)(t.paddingBottom),e}function Lfe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,vi.int)(t.paddingLeft),e-=(0,vi.int)(t.paddingRight),e}function Ffe(n,e,t){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-i.left)/t,o=(n.clientY+e.scrollTop-i.top)/t;return{x:s,y:o}}function $fe(n,e){const t=NO(n,e,"px");return{[(0,r5.browserPrefixToKey)("transform",r5.default)]:t}}function jfe(n,e){return NO(n,e,"")}function NO(n,e,t){let{x:r,y:i}=n,s=`translate(${r}${t},${i}${t})`;if(e){const o=`${typeof e.x=="string"?e.x:e.x+t}`,a=`${typeof e.y=="string"?e.y:e.y+t}`;s=`translate(${o}, ${a})`+s}return s}function Bfe(n,e){return n.targetTouches&&(0,vi.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,vi.findInArray)(n.changedTouches,t=>e===t.identifier)}function zfe(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function qfe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&AV(n.body,"react-draggable-transparent-selection")}function Ufe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{i5(n)}):i5(n)}function i5(n){if(n)try{if(n.body&&NV(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function AV(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function NV(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var to={};Object.defineProperty(to,"__esModule",{value:!0});to.canDragX=Yfe;to.canDragY=Gfe;to.createCoreData=Kfe;to.createDraggableData=Xfe;to.getBoundPosition=Wfe;to.getControlPosition=Vfe;to.snapToGrid=Hfe;var oi=eo,Iu=xn;function Wfe(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:r}=n.props;r=typeof r=="string"?r:Qfe(r);const i=LO(n);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=i.getRootNode().querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=o.getComputedStyle(i),u=o.getComputedStyle(l);r={left:-i.offsetLeft+(0,oi.int)(u.paddingLeft)+(0,oi.int)(c.marginLeft),top:-i.offsetTop+(0,oi.int)(u.paddingTop)+(0,oi.int)(c.marginTop),right:(0,Iu.innerWidth)(l)-(0,Iu.outerWidth)(i)-i.offsetLeft+(0,oi.int)(u.paddingRight)-(0,oi.int)(c.marginRight),bottom:(0,Iu.innerHeight)(l)-(0,Iu.outerHeight)(i)-i.offsetTop+(0,oi.int)(u.paddingBottom)-(0,oi.int)(c.marginBottom)}}return(0,oi.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,oi.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,oi.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,oi.isNum)(r.top)&&(t=Math.max(t,r.top)),[e,t]}function Hfe(n,e,t){const r=Math.round(e/n[0])*n[0],i=Math.round(t/n[1])*n[1];return[r,i]}function Yfe(n){return n.props.axis==="both"||n.props.axis==="x"}function Gfe(n){return n.props.axis==="both"||n.props.axis==="y"}function Vfe(n,e,t){const r=typeof e=="number"?(0,Iu.getTouch)(n,e):null;if(typeof e=="number"&&!r)return null;const i=LO(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Iu.offsetXYFromParent)(r||n,s,t.props.scale)}function Kfe(n,e,t){const r=!(0,oi.isNum)(n.lastX),i=LO(n);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:i,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function Xfe(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Qfe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function LO(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var zb={},qb={};Object.defineProperty(qb,"__esModule",{value:!0});qb.default=Jfe;function Jfe(){}Object.defineProperty(zb,"__esModule",{value:!0});zb.default=void 0;var b1=LV(M),_r=FO(Bb),Zfe=FO(Rc),pr=xn,la=to,x1=eo,lf=FO(qb);function FO(n){return n&&n.__esModule?n:{default:n}}function LV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(LV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}function kr(n,e,t){return(e=epe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function epe(n){var e=tpe(n,"string");return typeof e=="symbol"?e:e+""}function tpe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const ns={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ca=ns.mouse,Ub=class extends b1.Component{constructor(){super(...arguments),kr(this,"dragging",!1),kr(this,"lastX",NaN),kr(this,"lastY",NaN),kr(this,"touchIdentifier",null),kr(this,"mounted",!1),kr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,pr.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,pr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const i=(0,pr.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,la.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,la.createCoreData)(this,o,a);(0,lf.default)("DraggableCore: handleDragStart: %j",l),(0,lf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,pr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,pr.addEvent)(r,ca.move,this.handleDrag),(0,pr.addEvent)(r,ca.stop,this.handleDragStop))}),kr(this,"handleDrag",e=>{const t=(0,la.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,la.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const s=(0,la.createCoreData)(this,r,i);if((0,lf.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),kr(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,la.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,la.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const s=(0,la.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,pr.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,lf.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,lf.default)("DraggableCore: Removing handlers"),(0,pr.removeEvent)(a.ownerDocument,ca.move,this.handleDrag),(0,pr.removeEvent)(a.ownerDocument,ca.stop,this.handleDragStop))}),kr(this,"onMouseDown",e=>(ca=ns.mouse,this.handleDragStart(e))),kr(this,"onMouseUp",e=>(ca=ns.mouse,this.handleDragStop(e))),kr(this,"onTouchStart",e=>(ca=ns.touch,this.handleDragStart(e))),kr(this,"onTouchEnd",e=>(ca=ns.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,pr.addEvent)(e,ns.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,pr.removeEvent)(t,ns.mouse.move,this.handleDrag),(0,pr.removeEvent)(t,ns.touch.move,this.handleDrag),(0,pr.removeEvent)(t,ns.mouse.stop,this.handleDragStop),(0,pr.removeEvent)(t,ns.touch.stop,this.handleDragStop),(0,pr.removeEvent)(e,ns.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,pr.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){var e,t,r;return(e=this.props)!=null&&e.nodeRef?(r=(t=this.props)==null?void 0:t.nodeRef)==null?void 0:r.current:Zfe.default.findDOMNode(this)}render(){return b1.cloneElement(b1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};zb.default=Ub;kr(Ub,"displayName","DraggableCore");kr(Ub,"propTypes",{allowAnyClick:_r.default.bool,allowMobileScroll:_r.default.bool,children:_r.default.node.isRequired,disabled:_r.default.bool,enableUserSelectHack:_r.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_r.default.arrayOf(_r.default.number),handle:_r.default.string,cancel:_r.default.string,nodeRef:_r.default.object,onStart:_r.default.func,onDrag:_r.default.func,onStop:_r.default.func,onMouseDown:_r.default.func,scale:_r.default.number,className:x1.dontSetMe,style:x1.dontSetMe,transform:x1.dontSetMe});kr(Ub,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),n.default=void 0;var e=h(M),t=u(Bb),r=u(Rc),i=_fe,s=xn,o=to,a=eo,l=u(zb),c=u(qb);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(typeof WeakMap=="function")var w=new WeakMap,S=new WeakMap;return(h=function(_,k){if(!k&&_&&_.__esModule)return _;var E,C,O={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return O;if(E=k?S:w){if(E.has(_))return E.get(_);E.set(_,O)}for(const R in _)R!=="default"&&{}.hasOwnProperty.call(_,R)&&((C=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,R))&&(C.get||C.set)?E(O,R,C):O[R]=_[R]);return O})(y,b)}function d(){return d=Object.assign?Object.assign.bind():function(y){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var S in w)({}).hasOwnProperty.call(w,S)&&(y[S]=w[S])}return y},d.apply(null,arguments)}function f(y,b,w){return(b=m(b))in y?Object.defineProperty(y,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[b]=w,y}function m(y){var b=g(y,"string");return typeof b=="symbol"?b:b+""}function g(y,b){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var S=w.call(y,b);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}class v extends e.Component{static getDerivedStateFromProps(b,w){let{position:S}=b,{prevPropsPosition:_}=w;return S&&(!_||S.x!==_.x||S.y!==_.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:_}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(b){super(b),f(this,"onDragStart",(w,S)=>{if((0,c.default)("Draggable: onDragStart: %j",S),this.props.onStart(w,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(w,S)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",S);const _=(0,o.createDraggableData)(this,S),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:O}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[R,D]=(0,o.getBoundPosition)(this,k.x,k.y);k.x=R,k.y=D,k.slackX=this.state.slackX+(C-k.x),k.slackY=this.state.slackY+(O-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(w,_)===!1)return!1;this.setState(k)}),f(this,"onDragStop",(w,S)=>{if(!this.state.dragging||this.props.onStop(w,(0,o.createDraggableData)(this,S))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",S);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:O}=this.props.position;k.x=C,k.y=O}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var b,w;return((w=(b=this.props)==null?void 0:b.nodeRef)==null?void 0:w.current)??r.default.findDOMNode(this)}render(){const{axis:b,bounds:w,children:S,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:E,defaultClassNameDragged:C,position:O,positionOffset:R,scale:D,...F}=this.props;let N={},W=null;const $=!!!O||this.state.dragging,z=O||_,B={x:(0,o.canDragX)(this)&&$?this.state.x:z.x,y:(0,o.canDragY)(this)&&$?this.state.y:z.y};this.state.isElementSVG?W=(0,s.createSVGTransform)(B,R):N=(0,s.createCSSTransform)(B,R);const q=(0,i.clsx)(S.props.className||"",k,{[E]:this.state.dragging,[C]:this.state.dragged});return e.createElement(l.default,d({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:q,style:{...S.props.style,...N},transform:W}))}}n.default=v,f(v,"displayName","Draggable"),f(v,"propTypes",{...l.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),f(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(CV);const{default:FV,DraggableCore:npe}=CV;jb.exports=FV;jb.exports.default=FV;var rpe=jb.exports.DraggableCore=npe,ipe=jb.exports,$O={exports:{}},Gm={},jO={};jO.__esModule=!0;jO.cloneElement=upe;var spe=ope(M);function ope(n){return n&&n.__esModule?n:{default:n}}function s5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function o5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(t),!0).forEach(function(r){ape(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ape(n,e,t){return e=lpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lpe(n){var e=cpe(n,"string");return typeof e=="symbol"?e:String(e)}function cpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function upe(n,e){return e.style&&n.props.style&&(e.style=o5(o5({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),spe.default.cloneElement(n,e)}var Vm={};Vm.__esModule=!0;Vm.resizableProps=void 0;var at=hpe(Bb);function hpe(n){return n&&n.__esModule?n:{default:n}}var dpe={axis:at.default.oneOf(["both","x","y","none"]),className:at.default.string,children:at.default.element.isRequired,draggableOpts:at.default.shape({allowAnyClick:at.default.bool,cancel:at.default.string,children:at.default.node,disabled:at.default.bool,enableUserSelectHack:at.default.bool,offsetParent:at.default.node,grid:at.default.arrayOf(at.default.number),handle:at.default.string,nodeRef:at.default.object,onStart:at.default.func,onDrag:at.default.func,onStop:at.default.func,onMouseDown:at.default.func,scale:at.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="y"){var s;return(s=at.default.number).isRequired.apply(s,t)}return at.default.number.apply(at.default,t)},handle:at.default.oneOfType([at.default.node,at.default.func]),handleSize:at.default.arrayOf(at.default.number),lockAspectRatio:at.default.bool,maxConstraints:at.default.arrayOf(at.default.number),minConstraints:at.default.arrayOf(at.default.number),onResizeStop:at.default.func,onResizeStart:at.default.func,onResize:at.default.func,resizeHandles:at.default.arrayOf(at.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:at.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="x"){var s;return(s=at.default.number).isRequired.apply(s,t)}return at.default.number.apply(at.default,t)}};Vm.resizableProps=dpe;Gm.__esModule=!0;Gm.default=void 0;var cf=vpe(M),fpe=ipe,ppe=jO,mpe=Vm,gpe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function $V(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return($V=function(i){return i?t:e})(n)}function vpe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=$V(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function QM(){return QM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QM.apply(this,arguments)}function ype(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function a5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(t),!0).forEach(function(r){bpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bpe(n,e,t){return e=xpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xpe(n){var e=wpe(n,"string");return typeof e=="symbol"?e:String(e)}function wpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _pe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,JM(n,e)}function JM(n,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JM(n,e)}var BO=function(n){_pe(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var t=e.prototype;return t.componentWillUnmount=function(){this.resetData()},t.resetData=function(){this.lastHandleRect=this.slack=null},t.runConstraints=function(i,s){var o=this.props,a=o.minConstraints,l=o.maxConstraints,c=o.lockAspectRatio;if(!a&&!l&&!c)return[i,s];if(c){var u=this.props.width/this.props.height,h=i-this.props.width,d=s-this.props.height;Math.abs(h)>Math.abs(d*u)?s=i/u:i=s*u}var f=i,m=s,g=this.slack||[0,0],v=g[0],y=g[1];return i+=v,s+=y,a&&(i=Math.max(a[0],i),s=Math.max(a[1],s)),l&&(i=Math.min(l[0],i),s=Math.min(l[1],s)),this.slack=[v+(f-i),y+(m-s)],[i,s]},t.resizeHandler=function(i,s){var o=this;return function(a,l){var c=l.node,u=l.deltaX,h=l.deltaY;i==="onResizeStart"&&o.resetData();var d=(o.props.axis==="both"||o.props.axis==="x")&&s!=="n"&&s!=="s",f=(o.props.axis==="both"||o.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!d&&!f)){var m=s[0],g=s[s.length-1],v=c.getBoundingClientRect();if(o.lastHandleRect!=null){if(g==="w"){var y=v.left-o.lastHandleRect.left;u+=y}if(m==="n"){var b=v.top-o.lastHandleRect.top;h+=b}}o.lastHandleRect=v,g==="w"&&(u=-u),m==="n"&&(h=-h);var w=o.props.width+(d?u/o.props.transformScale:0),S=o.props.height+(f?h/o.props.transformScale:0),_=o.runConstraints(w,S);w=_[0],S=_[1];var k=w!==o.props.width||S!==o.props.height,E=typeof o.props[i]=="function"?o.props[i]:null,C=i==="onResize"&&!k;E&&!C&&(a.persist==null||a.persist(),E(a,{node:c,size:{width:w,height:S},handle:s})),i==="onResizeStop"&&o.resetData()}}},t.renderResizeHandle=function(i,s){var o=this.props.handle;if(!o)return cf.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:s});if(typeof o=="function")return o(i,s);var a=typeof o.type=="string",l=w1({ref:s},a?{}:{handleAxis:i});return cf.cloneElement(o,l)},t.render=function(){var i=this,s=this.props,o=s.children,a=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var c=s.resizeHandles;s.transformScale;var u=ype(s,gpe);return(0,ppe.cloneElement)(o,w1(w1({},u),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(o.props.children,c.map(function(h){var d,f=(d=i.handleRefs[h])!=null?d:i.handleRefs[h]=cf.createRef();return cf.createElement(fpe.DraggableCore,QM({},l,{nodeRef:f,key:"resizableHandle-"+h,onStop:i.resizeHandler("onResizeStop",h),onStart:i.resizeHandler("onResizeStart",h),onDrag:i.resizeHandler("onResize",h)}),i.renderResizeHandle(h,f))}))}))},e}(cf.Component);Gm.default=BO;BO.propTypes=mpe.resizableProps;BO.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Wb={};Wb.__esModule=!0;Wb.default=void 0;var _1=Tpe(M),Spe=jV(Bb),kpe=jV(Gm),Cpe=Vm,Epe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function jV(n){return n&&n.__esModule?n:{default:n}}function BV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(BV=function(i){return i?t:e})(n)}function Tpe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=BV(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function ZM(){return ZM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZM.apply(this,arguments)}function l5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _y(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(t),!0).forEach(function(r){Mpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mpe(n,e,t){return e=Ppe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ppe(n){var e=Ipe(n,"string");return typeof e=="symbol"?e:String(e)}function Ipe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ope(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Rpe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,eP(n,e)}function eP(n,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eP(n,e)}var zV=function(n){Rpe(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var c=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(c,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(c)},r}e.getDerivedStateFromProps=function(i,s){return s.propsWidth!==i.width||s.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var t=e.prototype;return t.render=function(){var i=this.props,s=i.handle,o=i.handleSize;i.onResize;var a=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,h=i.maxConstraints,d=i.lockAspectRatio,f=i.axis;i.width,i.height;var m=i.resizeHandles,g=i.style,v=i.transformScale,y=Ope(i,Epe);return _1.createElement(kpe.default,{axis:f,draggableOpts:c,handle:s,handleSize:o,height:this.state.height,lockAspectRatio:d,maxConstraints:h,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:v,width:this.state.width},_1.createElement("div",ZM({},y,{style:_y(_y({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(_1.Component);Wb.default=zV;zV.propTypes=_y(_y({},Cpe.resizableProps),{},{children:Spe.default.element});$O.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Dpe=$O.exports.Resizable=Gm.default;$O.exports.ResizableBox=Wb.default;function qV(n){return function(t,r,i,s,o,a,l){return n(t,r,l)}}function Hb(n){return function(t,r,i,s){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i,s);var o=s.get(t),a=s.get(r);if(o&&a)return o===r&&a===t;s.set(t,r),s.set(r,t);var l=n(t,r,i,s);return s.delete(t),s.delete(r),l}}function UV(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function c5(n){return n.constructor===Object||n.constructor==null}function u5(n){return typeof n.then=="function"}function Yb(n,e){return n===e||n!==n&&e!==e}var Ape="[object Arguments]",Npe="[object Boolean]",Lpe="[object Date]",Fpe="[object RegExp]",$pe="[object Map]",jpe="[object Number]",Bpe="[object Object]",zpe="[object Set]",qpe="[object String]",h5=Object.prototype.toString;function Gb(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areMapsEqual,i=n.areObjectsEqual,s=n.areRegExpsEqual,o=n.areSetsEqual,a=n.createIsNestedEqual,l=a(c);function c(u,h,d){if(u===h)return!0;if(!u||!h||typeof u!="object"||typeof h!="object")return u!==u&&h!==h;if(c5(u)&&c5(h))return i(u,h,l,d);var f=Array.isArray(u),m=Array.isArray(h);if(f||m)return f===m&&e(u,h,l,d);var g=h5.call(u);return g!==h5.call(h)?!1:g===Lpe?t(u,h,l,d):g===Fpe?s(u,h,l,d):g===$pe?r(u,h,l,d):g===zpe?o(u,h,l,d):g===Bpe||g===Ape?u5(u)||u5(h)?!1:i(u,h,l,d):g===Npe||g===jpe||g===qpe?Yb(u.valueOf(),h.valueOf()):!1}return c}function WV(n,e,t,r){var i=n.length;if(e.length!==i)return!1;for(;i-- >0;)if(!t(n[i],e[i],i,i,n,e,r))return!1;return!0}var Upe=Hb(WV);function HV(n,e){return Yb(n.valueOf(),e.valueOf())}function YV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={},o=0;return n.forEach(function(a,l){if(i){var c=!1,u=0;e.forEach(function(h,d){!c&&!s[u]&&(c=t(l,d,o,u,n,e,r)&&t(a,h,l,d,n,e,r))&&(s[u]=!0),u++}),o++,i=c}}),i}var Wpe=Hb(YV),Hpe="_owner",Ype=Object.prototype.hasOwnProperty;function GV(n,e,t,r){var i=Object.keys(n),s=i.length;if(Object.keys(e).length!==s)return!1;for(var o;s-- >0;){if(o=i[s],o===Hpe){var a=!!n.$$typeof,l=!!e.$$typeof;if((a||l)&&a!==l)return!1}if(!Ype.call(e,o)||!t(n[o],e[o],o,o,n,e,r))return!1}return!0}var Gpe=Hb(GV);function VV(n,e){return n.source===e.source&&n.flags===e.flags}function KV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={};return n.forEach(function(o,a){if(i){var l=!1,c=0;e.forEach(function(u,h){!l&&!s[c]&&(l=t(o,u,a,h,n,e,r))&&(s[c]=!0),c++}),i=l}}),i}var Vpe=Hb(KV),XV=Object.freeze({areArraysEqual:WV,areDatesEqual:HV,areMapsEqual:YV,areObjectsEqual:GV,areRegExpsEqual:VV,areSetsEqual:KV,createIsNestedEqual:qV}),QV=Object.freeze({areArraysEqual:Upe,areDatesEqual:HV,areMapsEqual:Wpe,areObjectsEqual:Gpe,areRegExpsEqual:VV,areSetsEqual:Vpe,createIsNestedEqual:qV}),Kpe=Gb(XV);function So(n,e){return Kpe(n,e,void 0)}Gb(UV(XV,{createIsNestedEqual:function(){return Yb}}));Gb(QV);Gb(UV(QV,{createIsNestedEqual:function(){return Yb}}));function d5(n){const{children:e,cols:t,containerWidth:r,margin:i,containerPadding:s,rowHeight:o,maxRows:a,isDraggable:l,isResizable:c,isBounded:u,static:h,useCSSTransforms:d=!0,usePercentages:f=!1,transformScale:m=1,positionStrategy:g,dragThreshold:v=0,droppingPosition:y,className:b="",style:w,handle:S="",cancel:_="",x:k,y:E,w:C,h:O,minW:R=1,maxW:D=1/0,minH:F=1,maxH:N=1/0,i:W,resizeHandles:j,resizeHandle:$,constraints:z=vV,layoutItem:B,layout:q=[],onDragStart:U,onDrag:V,onDragStop:K,onResizeStart:X,onResize:L,onResizeStop:Y}=n,[Q,ee]=M.useState(!1),[te,re]=M.useState(!1),ae=M.useRef(null),he=M.useRef({left:0,top:0}),J=M.useRef({top:0,left:0,width:0,height:0}),ne=M.useRef(void 0),ye=M.useRef(q);ye.current=q;const oe=M.useRef(null),be=M.useRef(null),xe=M.useRef(!1),Me=M.useRef({x:0,y:0}),we=M.useRef(!1),_e=M.useMemo(()=>({cols:t,containerPadding:s,containerWidth:r,margin:i,maxRows:a,rowHeight:o}),[t,s,r,i,a,o]),Ze=M.useMemo(()=>({cols:t,maxRows:a,containerWidth:r,containerHeight:0,rowHeight:o,margin:i,layout:[]}),[t,a,r,o,i]),Ge=M.useCallback(()=>({...Ze,layout:ye.current}),[Ze]),ot=M.useMemo(()=>B??{i:W,x:k,y:E,w:C,h:O,minW:R,maxW:D,minH:F,maxH:N},[B,W,k,E,C,O,R,D,F,N]),Ee=M.useCallback(rt=>{if(g!=null&&g.calcStyle)return g.calcStyle(rt);if(d)return PO(rt);const ft=yV(rt);return f?{...ft,left:e5(rt.left/r),width:e5(rt.width/r)}:ft},[g,d,f,r]),Be=M.useCallback((rt,{node:ft})=>{if(!U)return;const{offsetParent:Pe}=ft;if(!Pe)return;const ue=Pe.getBoundingClientRect(),ct=ft.getBoundingClientRect(),yt=ct.left/m,Ae=ue.left/m,Le=ct.top/m,Te=ue.top/m;let $t;if(g!=null&&g.calcDragPosition){const Xe=rt;$t=g.calcDragPosition(Xe.clientX,Xe.clientY,Xe.clientX-ct.left,Xe.clientY-ct.top)}else $t={left:yt-Ae+Pe.scrollLeft,top:Le-Te+Pe.scrollTop};if(he.current=$t,v>0){const Xe=rt;Me.current={x:Xe.clientX,y:Xe.clientY},xe.current=!0,we.current=!1,ee(!0);return}ee(!0);const Ke=S0(_e,$t.top,$t.left),{x:Gt,y:ze}=k0(z,ot,Ke.x,Ke.y,Ge());U(W,Gt,ze,{e:rt,node:ft,newPosition:$t})},[U,m,_e,g,v,z,ot,Ge,W]),Oe=M.useCallback((rt,{node:ft,deltaX:Pe,deltaY:ue})=>{if(!V||!Q)return;const ct=rt;if(xe.current&&!we.current){const Gt=ct.clientX-Me.current.x,ze=ct.clientY-Me.current.y;if(Math.hypot(Gt,ze)<v)return;if(we.current=!0,xe.current=!1,U){const $e=S0(_e,he.current.top,he.current.left),{x:it,y:pt}=k0(z,ot,$e.x,$e.y,Ge());U(W,it,pt,{e:rt,node:ft,newPosition:he.current})}}let yt=he.current.top+ue,Ae=he.current.left+Pe;if(u){const{offsetParent:Gt}=ft;if(Gt){const ze=Gt.clientHeight-Bh(O,o,i[1]);yt=xy(yt,0,ze);const Xe=yd(_e),$e=r-Bh(C,Xe,i[0]);Ae=xy(Ae,0,$e)}}const Le={top:yt,left:Ae};he.current=Le;const Te=S0(_e,yt,Ae),{x:$t,y:Ke}=k0(z,ot,Te.x,Te.y,Ge());V(W,$t,Ke,{e:rt,node:ft,newPosition:Le})},[V,U,Q,v,u,O,o,i,_e,r,C,W,z,ot,Ge]),We=M.useCallback((rt,{node:ft})=>{if(!K||!Q)return;const Pe=xe.current;if(xe.current=!1,we.current=!1,Me.current={x:0,y:0},Pe){ee(!1),he.current={left:0,top:0};return}const{left:ue,top:ct}=he.current,yt={top:ct,left:ue};ee(!1),he.current={left:0,top:0};const Ae=S0(_e,ct,ue),{x:Le,y:Te}=k0(z,ot,Ae.x,Ae.y,Ge());K(W,Le,Te,{e:rt,node:ft,newPosition:yt})},[K,Q,_e,z,ot,Ge,W]);oe.current=Be,be.current=Oe;const pe=M.useCallback((rt,{node:ft,size:Pe,handle:ue},ct,yt)=>{const Ae=yt==="onResizeStart"?X:yt==="onResize"?L:Y;if(!Ae)return;let Le;ft?Le=ife(ue,ct,Pe,r):Le={...Pe,top:ct.top,left:ct.left},J.current=Le;const Te=Wde(_e,Le.width,Le.height),{w:$t,h:Ke}=Xde(z,ot,Te.w,Te.h,ue,Ge());Ae(W,$t,Ke,{e:rt.nativeEvent,node:ft,size:Le,handle:ue})},[X,L,Y,r,_e,W,z,ot,Ge]),Ce=M.useCallback((rt,ft)=>{re(!0);const Pe=af(_e,k,E,C,O),ue={...ft,handle:ft.handle};pe(rt,ue,Pe,"onResizeStart")},[pe,_e,k,E,C,O]),Se=M.useCallback((rt,ft)=>{const Pe=af(_e,k,E,C,O),ue={...ft,handle:ft.handle};pe(rt,ue,Pe,"onResize")},[pe,_e,k,E,C,O]),Fe=M.useCallback((rt,ft)=>{re(!1),J.current={top:0,left:0,width:0,height:0};const Pe=af(_e,k,E,C,O),ue={...ft,handle:ft.handle};pe(rt,ue,Pe,"onResizeStop")},[pe,_e,k,E,C,O]);M.useEffect(()=>{var ue,ct;if(!y)return;const rt=ae.current;if(!rt)return;const ft=ne.current||{left:0,top:0},Pe=Q&&(y.left!==ft.left||y.top!==ft.top);if(Q){if(Pe){const yt=y.left-he.current.left,Ae=y.top-he.current.top,Le={node:rt,deltaX:yt,deltaY:Ae,lastX:he.current.left,lastY:he.current.top,x:y.left,y:y.top};(ct=be.current)==null||ct.call(be,y.e,Le)}}else{const yt={node:rt,deltaX:y.left,deltaY:y.top,lastX:0,lastY:0,x:y.left,y:y.top};(ue=oe.current)==null||ue.call(oe,y.e,yt)}ne.current=y},[y,Q,W]);const ke=af(_e,k,E,C,O,Q?he.current:null,te?J.current:null),Ue=de.Children.only(e),He=af(_e,0,0,1,1),Ve=[He.width,He.height],gt=[1/0,1/0],Qt=Ue.props,$r=Qt.className,Sn=Qt.style;let ur=de.cloneElement(Ue,{ref:ae,className:lm("react-grid-item",$r,b,{static:h,resizing:te,"react-draggable":l,"react-draggable-dragging":Q,dropping:!!y,cssTransforms:d}),style:{...w,...Sn,...Ee(ke)}});const hr=$;return ur=P.jsx(Dpe,{draggableOpts:{disabled:!c},className:c?void 0:"react-resizable-hide",width:ke.width,height:ke.height,minConstraints:Ve,maxConstraints:gt,onResizeStart:Ce,onResize:Se,onResizeStop:Fe,transformScale:m,resizeHandles:j,handle:hr,children:ur}),ur=P.jsx(rpe,{disabled:!l,onStart:Be,onDrag:Oe,onStop:We,handle:S,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:ae,children:ur}),ur}var po=()=>{},f5="react-grid-layout",JV=!1;try{JV=/firefox/i.test(navigator.userAgent)}catch{}function Xpe(n,e){const t=de.Children.toArray(n),r=de.Children.toArray(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],o=r[i];if((s==null?void 0:s.key)!==(o==null?void 0:o.key))return!1}return!0}function p5(n,e,t,r){const i=[],s=new Set;de.Children.forEach(e,a=>{if(!de.isValidElement(a)||a.key===null)return;const l=String(a.key);s.add(l);const c=n.find(u=>u.i===l);if(c)i.push(gc(c));else{const h=a.props["data-grid"];h?i.push({i:l,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):i.push({i:l,x:0,y:Lb(i),w:1,h:1})}});const o=MO(i,{cols:t});return r.compact(o,t)}function Qpe(n){const{children:e,width:t,gridConfig:r,dragConfig:i,resizeConfig:s,dropConfig:o,positionStrategy:a=afe,compactor:l,constraints:c=vV,layout:u=[],droppingItem:h,autoSize:d=!0,className:f="",style:m={},innerRef:g,onLayoutChange:v=po,onDragStart:y=po,onDrag:b=po,onDragStop:w=po,onResizeStart:S=po,onResize:_=po,onResizeStop:k=po,onDrop:E=po,onDropDragOver:C=po}=n,O=M.useMemo(()=>({...lfe,...r}),[r]),R=M.useMemo(()=>({...cfe,...i}),[i]),D=M.useMemo(()=>({...ufe,...s}),[s]),F=M.useMemo(()=>({...hfe,...o}),[o]),{cols:N,rowHeight:W,maxRows:j,margin:$,containerPadding:z}=O,{enabled:B,bounded:q,handle:U,cancel:V,threshold:K}=R,{enabled:X,handles:L,handleComponent:Y}=D,{enabled:Q,defaultItem:ee,onDragOver:te}=F,re=l??$b("vertical"),ae=re.type,he=re.allowOverlap,J=re.preventCollision??!1,ne=M.useMemo(()=>h??{i:"__dropping-elem__",...ee},[h,ee]),ye=a.type==="transform",oe=a.scale,be=z??$,[xe,Me]=M.useState(!1),[we,_e]=M.useState(()=>p5(u,e,N,re)),[Ze,Ge]=M.useState(null),[ot,Ee]=M.useState(!1),[Be,Oe]=M.useState(null),[We,pe]=M.useState(),Ce=M.useRef(null),Se=M.useRef(null),Fe=M.useRef(null),ke=M.useRef(0),Ue=M.useRef(we),He=M.useRef(u),Ve=M.useRef(e),gt=M.useRef(ae),Qt=M.useRef(we);Qt.current=we,M.useEffect(()=>{Me(!0),So(we,u)||v(we)},[]),M.useEffect(()=>{if(Ze||Be)return;const ze=!So(u,He.current),Xe=!Xpe(e,Ve.current),$e=ae!==gt.current;if(ze||Xe||$e){const pt=p5(ze?u:we,e,N,re);So(pt,we)||_e(pt)}He.current=u,Ve.current=e,gt.current=ae},[u,e,N,ae,re,Ze,Be,we]),M.useEffect(()=>{if(!Ze&&!So(we,Ue.current)){Ue.current=we;const ze=we.filter(Xe=>Xe.i!==ne.i);v(ze)}},[we,Ze,v,ne.i]);const $r=M.useMemo(()=>{if(!d)return;const ze=Lb(we),Xe=be[1];return ze*W+(ze-1)*$[1]+Xe*2+"px"},[d,we,W,$,be]),Sn=M.useCallback((ze,Xe,$e,it)=>{const pt=Qt.current,Je=kl(pt,ze);if(!Je)return;const bt={w:Je.w,h:Je.h,x:Je.x,y:Je.y,i:ze};Ce.current=gc(Je),Fe.current=pt,Ge(bt),y(pt,Je,Je,null,it.e,it.node)},[y]),ur=M.useCallback((ze,Xe,$e,it)=>{const pt=Qt.current,Je=Ce.current,bt=kl(pt,ze);if(!bt)return;const jt={w:bt.w,h:bt.h,x:bt.x,y:bt.y,i:ze},Pt=Ll(pt,bt,Xe,$e,!0,J,ae,N,he);b(Pt,Je,bt,jt,it.e,it.node),_e(re.compact(Pt,N)),Ge(jt)},[J,ae,N,he,re,b]),hr=M.useCallback((ze,Xe,$e,it)=>{if(!Ze)return;const pt=Qt.current,Je=Ce.current,bt=kl(pt,ze);if(!bt)return;const jt=Ll(pt,bt,Xe,$e,!0,J,ae,N,he),Pt=re.compact(jt,N);w(Pt,Je,bt,null,it.e,it.node);const qn=Fe.current;Ce.current=null,Fe.current=null,Ge(null),_e(Pt),qn&&!So(qn,Pt)&&v(Pt)},[Ze,J,ae,N,he,re,w,v]),rt=M.useCallback((ze,Xe,$e,it)=>{const pt=Qt.current,Je=kl(pt,ze);Je&&(Se.current=gc(Je),Fe.current=pt,Ee(!0),S(pt,Je,Je,null,it.e,it.node))},[S]),ft=M.useCallback((ze,Xe,$e,it)=>{const pt=Qt.current,Je=Se.current,{handle:bt}=it;let jt=!1,Pt,qn;const[Gc,xr]=Gde(pt,ze,At=>(Pt=At.x,qn=At.y,["sw","w","nw","n","ne"].includes(bt)&&(["sw","nw","w"].includes(bt)&&(Pt=At.x+(At.w-Xe),Xe=At.x!==Pt&&Pt<0?At.w:Xe,Pt=Pt<0?0:Pt),["ne","n","nw"].includes(bt)&&(qn=At.y+(At.h-$e),$e=At.y!==qn&&qn<0?At.h:$e,qn=qn<0?0:qn),jt=!0),J&&!he&&mV(pt,{...At,w:Xe,h:$e,x:Pt??At.x,y:qn??At.y}).filter(dl=>dl.i!==At.i).length>0&&(qn=At.y,$e=At.h,Pt=At.x,Xe=At.w,jt=!1),At.w=Xe,At.h=$e,At));if(!xr)return;let Qo=Gc;jt&&Pt!==void 0&&qn!==void 0&&(Qo=Ll(Gc,xr,Pt,qn,!0,J,ae,N,he));const Vc={w:xr.w,h:xr.h,x:xr.x,y:xr.y,i:ze,static:!0};_(Qo,Je,xr,Vc,it.e,it.node),_e(re.compact(Qo,N)),Ge(Vc)},[J,ae,N,he,re,_]),Pe=M.useCallback((ze,Xe,$e,it)=>{const pt=Qt.current,Je=Se.current,bt=kl(pt,ze),jt=re.compact(pt,N);k(jt,Je,bt??null,null,it.e,it.node);const Pt=Fe.current;Se.current=null,Fe.current=null,Ge(null),Ee(!1),_e(jt),Pt&&!So(Pt,jt)&&v(jt)},[N,re,k,v]),ue=M.useCallback(()=>{const ze=Qt.current;if(!ze.some(it=>it.i===ne.i)){Oe(null),Ge(null),pe(void 0);return}const $e=re.compact(ze.filter(it=>it.i!==ne.i),N);_e($e),Oe(null),Ge(null),pe(void 0)},[ne.i,N,re]),ct=M.useCallback(ze=>{var Eg;if(ze.preventDefault(),ze.stopPropagation(),JV&&!((Eg=ze.nativeEvent.target)!=null&&Eg.classList.contains(f5)))return!1;const Xe=te?te(ze.nativeEvent):C(ze);if(Xe===!1)return Be&&ue(),!1;const{dragOffsetX:$e=0,dragOffsetY:it=0,...pt}=Xe??{},Je={...ne,...pt},bt=ze.currentTarget.getBoundingClientRect(),jt={cols:N,margin:$,maxRows:j,rowHeight:W,containerWidth:t,containerPadding:be},Pt=yd(jt),qn=Bh(Je.w,Pt,$[0]),Gc=Bh(Je.h,W,$[1]),xr=qn/2,Qo=Gc/2,Vc=ze.clientX-bt.left+$e-xr,At=ze.clientY-bt.top+it-Qo,so=Math.max(0,Vc),dl=Math.max(0,At),Kc={left:so/oe,top:dl/oe,e:ze.nativeEvent};if(Be)We&&(We.left!==Kc.left||We.top!==Kc.top)&&pe(Kc);else{const Ld=Ude(jt,dl,so,Je.w,Je.h);Oe(P.jsx("div",{},Je.i)),pe(Kc),_e([...Qt.current,{...Je,x:Ld.x,y:Ld.y,static:!1,isDraggable:!0}])}},[Be,We,ne,te,C,ue,oe,N,$,j,W,t,be]),yt=M.useCallback(ze=>{ze.preventDefault(),ze.stopPropagation(),ke.current--,ke.current<0&&(ke.current=0),ke.current===0&&ue()},[ue]),Ae=M.useCallback(ze=>{ze.preventDefault(),ze.stopPropagation(),ke.current++},[]),Le=M.useCallback(ze=>{ze.preventDefault(),ze.stopPropagation();const Xe=Qt.current,$e=Xe.find(it=>it.i===ne.i);ke.current=0,ue(),E(Xe,$e,ze.nativeEvent)},[ne.i,ue,E]),Te=M.useCallback((ze,Xe)=>{if(!ze||!ze.key)return null;const $e=kl(we,String(ze.key));if(!$e)return null;const it=typeof $e.isDraggable=="boolean"?$e.isDraggable:!$e.static&&B,pt=typeof $e.isResizable=="boolean"?$e.isResizable:!$e.static&&X,Je=$e.resizeHandles||[...L],bt=it&&q&&$e.isBounded!==!1,jt=Y;return P.jsx(d5,{containerWidth:t,cols:N,margin:$,containerPadding:be,maxRows:j,rowHeight:W,cancel:V,handle:U,onDragStart:Sn,onDrag:ur,onDragStop:hr,onResizeStart:rt,onResize:ft,onResizeStop:Pe,isDraggable:it,isResizable:pt,isBounded:bt,useCSSTransforms:ye&&xe,usePercentages:!xe,transformScale:oe,positionStrategy:a,dragThreshold:K,w:$e.w,h:$e.h,x:$e.x,y:$e.y,i:$e.i,minH:$e.minH,minW:$e.minW,maxH:$e.maxH,maxW:$e.maxW,static:$e.static,droppingPosition:Xe?We:void 0,resizeHandles:Je,resizeHandle:jt,constraints:c,layoutItem:$e,layout:we,children:ze},$e.i)},[we,t,N,$,be,j,W,V,U,Sn,ur,hr,rt,ft,Pe,B,X,q,ye,xe,oe,a,K,We,L,Y,c]),$t=()=>Ze?P.jsx(d5,{w:Ze.w,h:Ze.h,x:Ze.x,y:Ze.y,i:Ze.i,className:`react-grid-placeholder ${ot?"placeholder-resizing":""}`,containerWidth:t,cols:N,margin:$,containerPadding:be,maxRows:j,rowHeight:W,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:ye,transformScale:oe,constraints:c,layout:we,children:P.jsx("div",{})}):null,Ke=lm(f5,f),Gt={height:$r,...m};return P.jsxs("div",{ref:g,className:Ke,style:Gt,onDrop:Q?Le:void 0,onDragLeave:Q?yt:void 0,onDragEnter:Q?Ae:void 0,onDragOver:Q?ct:void 0,children:[de.Children.map(e,ze=>de.isValidElement(ze)?Te(ze):null),Q&&Be&&Te(Be,!0),$t()]})}var Jpe={lg:1200,md:996,sm:768,xs:480,xxs:0},Zpe={lg:12,md:10,sm:6,xs:4,xxs:2},S1=()=>{};function eme(n,e,t,r){const i=[];de.Children.forEach(e,o=>{if(!de.isValidElement(o)||o.key===null)return;const a=String(o.key),l=n.find(c=>c.i===a);if(l)i.push({...l,i:a});else{const u=o.props["data-grid"];u?i.push({i:a,x:u.x??0,y:u.y??0,w:u.w??1,h:u.h??1,minW:u.minW,maxW:u.maxW,minH:u.minH,maxH:u.maxH,static:u.static,isDraggable:u.isDraggable,isResizable:u.isResizable,resizeHandles:u.resizeHandles,isBounded:u.isBounded}):i.push({i:a,x:0,y:Lb(i),w:1,h:1})}});const s=MO(i,{cols:t});return r.compact(s,t)}function tme(n){const{children:e,width:t,breakpoint:r,breakpoints:i=Jpe,cols:s=Zpe,layouts:o={},rowHeight:a=150,maxRows:l=1/0,margin:c=[10,10],containerPadding:u=null,compactor:h,onBreakpointChange:d=S1,onLayoutChange:f=S1,onWidthChange:m=S1,...g}=n,v=h??$b("vertical"),y=v.type,b=v.allowOverlap,w=M.useMemo(()=>r??t5(i,t),[]),S=M.useMemo(()=>n5(w,s),[w,s]),_=M.useMemo(()=>v1(o,i,w,w,S,y),[]),[k,E]=M.useState(w),[C,O]=M.useState(S),[R,D]=M.useState(_),[F,N]=M.useState(o),W=M.useRef(t),j=M.useRef(r),$=M.useRef(i),z=M.useRef(s),B=M.useRef(o),q=M.useRef(y),U=M.useRef(F);M.useEffect(()=>{U.current=F},[F]);const V=M.useMemo(()=>So(o,B.current)?null:v1(o,i,k,k,C,v),[o,i,k,C,v]),K=V??R;M.useEffect(()=>{V!==null&&(D(V),N(o),U.current=o,B.current=o)},[V,o]),M.useEffect(()=>{if(y!==q.current){const ee=v.compact(Za(K),C),te={...U.current,[k]:ee};D(ee),N(te),U.current=te,f(ee,te),q.current=y}},[y,v,K,C,b,k,f]),M.useEffect(()=>{const ee=t!==W.current,te=r!==j.current,re=!So(i,$.current),ae=!So(s,z.current);if(ee||te||re||ae){const he=r??t5(i,t),J=n5(he,s),ne=k;if(ne!==he||re||ae){const be={...U.current};be[ne]||(be[ne]=Za(R));let xe=v1(be,i,he,ne,J,v);xe=eme(xe,e,J,v),be[he]=xe,E(he),O(J),D(xe),N(be),U.current=be,d(he,J),f(xe,be)}const ye=C0(c,he),oe=u?C0(u,he):null;m(t,ye,J,oe),W.current=t,j.current=r,$.current=i,z.current=s}},[t,r,i,s,k,C,R,e,v,y,b,c,u,d,f,m]);const X=M.useCallback(ee=>{const re={...U.current,[k]:ee};D(ee),N(re),U.current=re,f(ee,re)},[k,f]),L=M.useMemo(()=>C0(c,k),[c,k]),Y=M.useMemo(()=>u===null?null:C0(u,k),[u,k]),Q=M.useMemo(()=>({cols:C,rowHeight:a,maxRows:l,margin:L,containerPadding:Y}),[C,a,l,L,Y]);return P.jsx(Qpe,{...g,width:t,gridConfig:Q,compactor:v,onLayoutChange:X,layout:K,children:e})}function ZV(n){const{children:e,width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,rowHeight:u,maxRows:h,margin:d,containerPadding:f,droppingItem:m,compactType:g,preventCollision:v=!1,allowOverlap:y=!1,verticalCompact:b,isDraggable:w=!0,isBounded:S=!1,draggableHandle:_,draggableCancel:k,isResizable:E=!0,resizeHandles:C=["se"],resizeHandle:O,isDroppable:R=!1,useCSSTransforms:D=!0,transformScale:F=1,autoSize:N,className:W,style:j,innerRef:$,onDragStart:z,onDrag:B,onDragStop:q,onResizeStart:U,onResize:V,onResizeStop:K,onDrop:X,onDropDragOver:L}=n;let Y=g===void 0?"vertical":g;b===!1&&(Y=null);const Q={enabled:w,bounded:S,handle:_,cancel:k},ee={enabled:E,handles:C,handleComponent:O},te={enabled:R};let re;D?F!==1?re=ofe(F):re=xV:re=sfe;const ae=$b(Y,y,v);return P.jsx(tme,{width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,rowHeight:u,maxRows:h,margin:d,containerPadding:f,compactor:ae,dragConfig:Q,resizeConfig:ee,dropConfig:te,positionStrategy:re,droppingItem:m,autoSize:N,className:W,style:j,innerRef:$,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,onDragStart:z,onDrag:B,onDragStop:q,onResizeStart:U,onResize:V,onResizeStop:K,onDrop:X,onDropDragOver:L,children:e})}ZV.displayName="ResponsiveReactGridLayout";var nme=ZV,rme="react-grid-layout";function ime(n){function e(t){const{measureBeforeMount:r=!1,className:i,style:s,...o}=t,[a,l]=M.useState(1280),[c,u]=M.useState(!1),h=M.useRef(null),d=M.useRef(null);return M.useEffect(()=>{u(!0)},[]),M.useEffect(()=>{const f=h.current;if(!(f instanceof HTMLElement))return;const m=new ResizeObserver(g=>{if(g[0]){const v=g[0].contentRect.width;l(v)}});return m.observe(f),d.current=m,()=>{m.unobserve(f),m.disconnect()}},[c]),r&&!c?P.jsx("div",{className:lm(i,rme),style:s,ref:h}):P.jsx(n,{innerRef:h,className:i,style:s,...o,width:a})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const k1=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],sme=[[0,0,10,4],[0,4,8,16],[8,4,2,16],[0,43,3,10],[0,20,3,23],[3,20,7,23],[3,98,7,24],[3,78,7,20],[0,53,10,25]],m5=0,ome=8;function ame(n,e){return Math.floor(Math.random()*(e-n+1))+n}function lme(n){const e=Math.ceil(Math.random()*4)+1;return{x:ame(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function cme(n,e){const[t,r,i,s]=e;return{x:t,y:r,w:i,h:s,i:n.toString(),static:!0}}function np(n,e){const t=n.length,r=[];for(let i=0;i<t;i++)i<n.length?r.push(cme(i,n[i])):r.push(lme(i));return r}function ume(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i],o=e[i];if(!s||!o){if(s!==o)return!1;continue}if(s.length!==o.length)return!1;for(let a=0;a<s.length;a++){const l=s[a],c=o[a];if(l.x!==c.x||l.y!==c.y||l.w!==c.w||l.h!==c.h)return!1}}return!0}function C1(n,e){const t={};for(const r in n){const i=n[r];i&&(t[r]=i.map(s=>({...s,static:e})))}return t}const hme=ime(nme);class eK extends de.Component{constructor(t){super(t);le(this,"isUpdatingLayout",!1);le(this,"domCache",null);le(this,"lastLayoutKey","");le(this,"handleResponsiveLayoutChange",(t,r)=>{const i=Array.isArray(t)?t:[t],s=r;this.onLayoutChange(i,s)});le(this,"generateNewLayout",()=>{const t=np(k1),r=this.props.allStatic??this.state.allStatic,i=t.map(s=>({...s,static:r}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:i}})});this.state={currentBreakpoint:"lg",compactType:t.compactType??"vertical",mounted:!1,layouts:{lg:t.initialLayout||np(k1)},allStatic:t.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const t=this.state.layouts.lg||[],{slotContent:r=[]}=this.props,i=this.props.allStatic??this.state.allStatic,s=`${t.length}-${i}-${r.length}`;if(this.domCache&&this.lastLayoutKey===s)return this.domCache;const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=a>=m5&&a<=ome,u=a-m5,h=c&&r[u]?r[u]:null,d=l.static??i;o.push(P.jsx("div",{className:d?"static":"",children:h?P.jsx("div",{className:"external-slot-content",children:h}):d?P.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["Static - ",a]}):P.jsx("span",{className:"text",children:a})},l.i||a.toString()))}return this.domCache=o,this.lastLayoutKey=s,o}onBreakpointChange(t){var r,i;this.setState({currentBreakpoint:t}),(i=(r=this.props).onBreakpointChange)==null||i.call(r,t)}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:t}=this.state,r=t==="horizontal"?"vertical":t==="vertical"?null:"horizontal";this.setState({compactType:r})}}onLayoutChange(t,r){if(this.isUpdatingLayout){this.props.onLayoutChange(t,r);return}const i=this.props.allStatic??this.state.allStatic;if(i){this.props.onLayoutChange(t,r);return}const s=C1(r,i);!ume(this.state.layouts,s)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:s},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(t,s)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const t=!this.state.allStatic,r=C1(this.state.layouts,t);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:t,layouts:r})}}componentDidUpdate(t){if(t.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),t.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const r=C1(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:r})}t.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const t=this.props.compactType??this.state.compactType;return P.jsx("div",{children:P.jsx(hme,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:t,preventCollision:!t,children:this.generateDOM()})})}}le(eK,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:np(k1)});function Yt(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function nc(n,e){return n.width===e.width&&n.height===e.height}var dme=function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){t._observers=t._observers.filter(function(i){return i!==r})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function fme(n){return new dme(n)}var pme=function(){function n(e,t,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Yt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return Yt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Yt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;nc(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,r=Yt(this._transformBitmapSize(e,this._canvasElementClientSize)),i=nc(this.bitmapSize,r)?null:r;t===null&&i===null||t!==null&&i!==null&&nc(t,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(t,i))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}gme().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=g5(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=fme(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var r=g5(this._canvasElement);if(r!==null){var i=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?vme(s[0],i):Yt({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var r=t.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=Yt({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function mme(n,e){return new pme(n,e.transform,e.options)}function g5(n){return n.ownerDocument.defaultView}function gme(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function vme(n,e){return Yt({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var yme=function(){function n(e,t,r){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function vc(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var r=n.bitmapSize;if(r.width===0||r.height===0)return null;var i=n.canvasElement.getContext("2d",e);return i===null?null:new yme(i,t,r)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const tK={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var v5,y5;function zh(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function nK(n,e,t,r){n.beginPath();const i=n.lineWidth%2?.5:0;n.moveTo(t,e+i),n.lineTo(r,e+i),n.stroke()}function ir(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function Zr(n){if(n===void 0)throw new Error("Value is undefined");return n}function ve(n){if(n===null)throw new Error("Value is null");return n}function Aa(n){return ve(Zr(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(v5||(v5={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(y5||(y5={}));class Rn{constructor(){this.t=[]}i(e,t,r){const i={h:e,l:t,o:r===!0};this.t.push(i)}_(e){const t=this.t.findIndex(r=>e===r.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,r){const i=[...this.t];this.t=this.t.filter(s=>!s.o),i.forEach(s=>s.h(e,t,r))}v(){return this.t.length>0}m(){this.t=[]}}function yi(n,...e){for(const t of e)for(const r in t)t[r]!==void 0&&Object.prototype.hasOwnProperty.call(t,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof t[r]!="object"||n[r]===void 0||Array.isArray(t[r])?n[r]=t[r]:yi(n[r],t[r]));return n}function qh(n){return typeof n=="number"&&isFinite(n)}function cm(n){return typeof n=="number"&&n%1==0}function Km(n){return typeof n=="string"}function T0(n){return typeof n=="boolean"}function Oo(n){const e=n;if(!e||typeof e!="object")return e;let t,r,i;for(r in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],t[r]=i&&typeof i=="object"?Oo(i):i);return t}function b5(n){return n!==null}function bme(n){return n===null?void 0:n}const rK="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Sy(n,e,t){return e===void 0&&(e=rK),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class xme{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),r=this.W();return e.k===t&&e.T===r||(e.k=t,e.T=r,e.P=Sy(t,r),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function E1(n){return n<0?0:n>255?255:Math.round(n)||0}function x5(n){return .199*n[0]+.687*n[1]+.114*n[2]}class wme{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e==="transparent")return e;const r=this.K(e),i=r[3];return`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${t*i})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:x5(t)>160?"black":"white"}}J(e){return x5(this.K(e))}tt(e,t,r){const[i,s,o,a]=this.K(e),[l,c,u,h]=this.K(t),d=[E1(i+r*(l-i)),E1(s+r*(c-s)),E1(o+r*(u-o)),(f=a+r*(h-a),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const r=function(o){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=o;const l=window.getComputedStyle(a).color;return document.body.removeChild(a),l}(e),i=r.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const o of this.j){const a=o(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}}class _me{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,r){this.it.forEach(i=>{i.nt(e,t,r)})}}class Xm{nt(e,t,r){e.useBitmapCoordinateSpace(i=>this.et(i,t,r))}}class Sme extends Xm{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(t))%2/2,a=l=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const u=s.ot[c],h=Math.round(u._t*t)+o,d=u.ut*r,f=l*r+o;e.moveTo(h,d),e.arc(h,d,f,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,a(s.ft+s.ct)),e.fillStyle=s.vt,a(s.ft)}}function kme(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Cme={from:0,to:1};class Eme{constructor(e,t,r){this.Mt=new _me,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=r,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(kme),this.bt=this.St.map(t=>{const r=new Sme;return r.ht(t),r}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),r=this.Ct.Bt(),i=this.O.Et();this.Pt(),t.forEach((s,o)=>{const a=this.St[o],l=s.At(r),c=s.Lt();!e&&l!==null&&s.It()&&c!==null?(a.vt=l.zt,a.ft=l.ft,a.ct=l.Ot,a.ot[0].gt=l.gt,a.ot[0].ut=s.Ft().Nt(l.gt,c.Wt),a.dt=l.Ht??this.O.Ut(a.ot[0].ut/s.Ft().$t()),a.ot[0].wt=r,a.ot[0]._t=i.qt(r),a.lt=Cme):a.lt=null})}}class Tme extends Xm{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=this.jt.Yt.It,o=this.jt.Kt.It;if(!s&&!o)return;const a=Math.round(this.jt._t*r),l=Math.round(this.jt.ut*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*r),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,zh(e,this.jt.Yt.Zt),function(c,u,h,d){c.beginPath();const f=c.lineWidth%2?.5:0;c.moveTo(u+f,h),c.lineTo(u+f,d),c.stroke()}(e,a,0,t.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,zh(e,this.jt.Kt.Zt),nK(e,l,0,t.width))}}class Mme{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Tme(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,r=this.Gt;if(t.mode===2)return r.Kt.It=!1,void(r.Yt.It=!1);r.Kt.It=e&&this.Jt.ti(this.yt),r.Yt.It=e&&this.Jt.ii(),r.Kt.ct=t.horzLine.width,r.Kt.Zt=t.horzLine.style,r.Kt.R=t.horzLine.color,r.Yt.ct=t.vertLine.width,r.Yt.Zt=t.vertLine.style,r.Yt.R=t.vertLine.color,r._t=this.Jt.si(),r.ut=this.Jt.ni()}}function Vb(n,e,t,r,i,s){n.save(),n.globalCompositeOperation="copy",n.fillStyle=s,n.fillRect(e,t,r,i),n.restore()}function w5(n,e,t,r,i,s){n.beginPath(),n.roundRect?n.roundRect(e,t,r,i,s):(n.lineTo(e+r-s[1],t),s[1]!==0&&n.arcTo(e+r,t,e+r,t+s[1],s[1]),n.lineTo(e+r,t+i-s[2]),s[2]!==0&&n.arcTo(e+r,t+i,e+r-s[2],t+i,s[2]),n.lineTo(e+s[3],t+i),s[3]!==0&&n.arcTo(e,t+i,e,t+i-s[3],s[3]),n.lineTo(e,t+s[0]),s[0]!==0&&n.arcTo(e,t,e+s[0],t,s[0]))}function _5(n,e,t,r,i,s,o=0,a=[0,0,0,0],l=""){if(n.save(),!o||!l||l===s)return w5(n,e,t,r,i,a),n.fillStyle=s,n.fill(),void n.restore();const c=o/2;var u;w5(n,e+c,t+c,r-o,i-o,(u=-c,a.map(h=>h===0?h:h+u))),s!=="transparent"&&(n.fillStyle=s,n.fill()),l!=="transparent"&&(n.lineWidth=o,n.strokeStyle=l,n.closePath(),n.stroke()),n.restore()}function iK(n,e,t,r,i,s,o){n.save(),n.globalCompositeOperation="copy";const a=n.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),n.fillStyle=a,n.fillRect(e,t,r,i),n.restore()}class S5{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,r,i){if(!this.jt.It||this.jt.ri.length===0)return;const s=this.jt.R,o=this.ei.G,a=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=t.P;const u=this.hi(l,t,r,i),h=u.ai;return u.li?_5(c,h.oi,h._i,h.ui,h.ci,o,h.di,[h.ft,0,0,h.ft],o):_5(c,h.fi,h._i,h.ui,h.ci,o,h.di,[0,h.ft,h.ft,0],o),this.jt.pi&&(c.fillStyle=s,c.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.jt.Mi&&(c.fillStyle=t.D,c.fillRect(u.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=a.xi;l.font=t.P,l.textAlign=a.li?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,t,r,i){const{context:s,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.jt.pi||!this.jt.ki?t.C:0,h=this.jt.Pi?t.S:0,d=t.A+this.ei.Ti,f=t.I+this.ei.Ri,m=t.V,g=t.B,v=this.jt.ri,y=t.k,b=r.Di(s,v),w=Math.ceil(r.Ii(s,v)),S=y+d+f,_=t.S+m+g+w+u,k=Math.max(1,Math.floor(c));let E=Math.round(S*c);E%2!=k%2&&(E+=1);const C=h>0?Math.max(1,Math.floor(h*l)):0,O=Math.round(_*l),R=Math.round(u*l),D=this.ei.Vi??this.ei.Bi??this.ei.Ei,F=Math.round(D*c)-Math.floor(.5*c),N=Math.floor(F+k/2-E/2),W=N+E,j=i==="right",$=j?a.width-h:h,z=j?o.width-C:C;let B,q,U;return j?(B=z-O,q=z-R,U=$-u-m-h):(B=z+O,q=z+R,U=$+u+m),{li:j,ai:{_i:N,mi:F,Si:W,ui:O,ci:E,ft:2*l,di:C,oi:B,fi:z,wi:q,gi:k,bi:o.width},xi:{_i:N/c,Si:W/c,Ci:U,yi:b}}}}class Kb{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||S5)(this.Li,this.Ai),this.Ni=new(e||S5)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Pme extends Kb{constructor(e,t,r){super(),this.Jt=e,this.Ki=t,this.Zi=r}Yi(e,t,r){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||s===null)return;const o=this.Ki.Xi().Z(i.labelBackgroundColor);r.G=o.G,e.R=o.X;const a=2/12*this.Ki.k();r.Ti=a,r.Ri=a;const l=this.Zi(this.Ki);r.Ei=l.Ei,e.ri=this.Ki.Ji(l.gt,s),e.It=!0}}const Ime=/[1-9]/g;class sK{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const r=e.useMediaCoordinateSpace(({context:d})=>(d.font=t.P,Math.round(t.Qi.Ii(d,ve(this.jt).ri,Ime))));if(r<=0)return;const i=t.ts,s=r+2*i,o=s/2,a=this.jt.ss;let l=this.jt.Ei,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+s>a&&(l-=Math.abs(a-(c+s)),c=Math.floor(l-o)+.5);const u=c+s,h=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:m})=>{const g=ve(this.jt);d.fillStyle=g.G;const v=Math.round(c*f),y=Math.round(0*m),b=Math.round(u*f),w=Math.round(h*m),S=Math.round(2*f);if(d.beginPath(),d.moveTo(v,y),d.lineTo(v,w-S),d.arcTo(v,w,v+S,w,S),d.lineTo(b-S,w),d.arcTo(b,w,b,w-S,S),d.lineTo(b,y),d.fill(),g.pi){const _=Math.round(g.Ei*f),k=y,E=Math.round((k+t.C)*m);d.fillStyle=g.R;const C=Math.max(1,Math.floor(f)),O=Math.floor(.5*f);d.fillRect(_-O,k,C,E-k)}}),e.useMediaCoordinateSpace(({context:d})=>{const f=ve(this.jt),m=0+t.S+t.C+t.A+t.k/2;d.font=t.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const g=t.Qi.Di(d,"Apr0");d.translate(c+i,m+g),d.fillText(f.ri,0,0)})}}class Ome{constructor(e,t,r){this.xt=!0,this.Xt=new sK,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=r}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const r=this.ns.Et();if(r.Gi())return;e.ss=r.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const s=r.es(this.Ct.Bt());e.ri=r.rs(ve(s)),e.It=!0;const o=this.ns.Xi().Z(t.labelBackgroundColor);e.G=o.G,e.R=o.X,e.pi=r.N().ticksVisible}}class oK{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var k5;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(k5||(k5={}));class Rme extends oK{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((i,s)=>o=>{const a=s(),l=i();if(o===ve(this.yt).Rs())return{gt:l,Ei:a};{const c=ve(o.Lt());return{gt:o.Ds(a,c),Ei:a}}})(()=>this.ps,()=>this.Cs);const r=((i,s)=>()=>{const o=this.ns.Et().Is(i()),a=s();return o&&Number.isFinite(a)?{wt:o,Ei:a}:null})(()=>this.vs,()=>this.si());this.Vs=new Ome(this,e,r)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,r){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,r)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,r=t.Et();let i=null,s=null;for(const c of t.Us()){const u=c.qs().$s(e,-1);if(u){if(u.js===e)return e;(i===null||u.js>i)&&(i=u.js)}const h=c.qs().$s(e,1);if(h){if(h.js===e)return e;(s===null||h.js<s)&&(s=h.js)}}const o=[i,s].filter(b5);if(o.length===0)return e;const a=r.qt(e),l=o.map(c=>Math.abs(a-r.qt(c)));return o[l.indexOf(Math.min(...l))]}Ys(e){let t=this.bs.get(e);t||(t=new Mme(this,e),this.bs.set(e,t));let r=this.Ss.get(e);return r||(r=new Eme(this.ns,this,e),this.Ss.set(e,r)),[t,r]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const r=[];return this.yt===e&&r.push(this.Zs(this.gs,t,this.Ts)),r}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var t,r;(t=this.bs.get(e))==null||t.kt(),(r=this.Ss.get(e))==null||r.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,r){this.Qs(e,t,r)&&this.Ws()}Qs(e,t,r){const i=this.xs,s=this.Cs,o=this.ps,a=this.vs,l=this.yt,c=this.Js(r);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=r;const u=c!==null?c.Lt():null;return c!==null&&u!==null?(this.ps=t,this.Cs=c.Nt(t,u)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||s!==this.Cs||a!==this.vs||o!==this.ps||l!==this.yt}Fs(){const e=this.ns.tn().map(r=>r.qs().sn()).filter(b5),t=e.length===0?null:Math.max(...e);this.vs=t!==null?t:NaN}Zs(e,t,r){let i=e.get(t);return i===void 0&&(i=new Pme(this,t,r),e.set(t,i)),i}}function Xb(n){return n==="left"||n==="right"}class rr{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const r=function(i,s){return i===void 0?s:{an:Math.max(i.an,s.an),ln:i.ln||s.ln}}(this.nn.get(e),t);this.nn.set(e,r)}_n(){return this.rn}un(e){const t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((t,r)=>{this.hn(r,t)})}static Cn(){return new rr(2)}static yn(){return new rr(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(t=>t.fn===5);e!==-1&&this.en.splice(e,1)}}class aK{formatTickmarks(e){return e.map(t=>this.format(t))}}const C5=".";function Ro(n,e){if(!qh(n))return"n/a";if(!cm(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let Qb=class extends aK{constructor(e,t){if(super(),t||(t=1),qh(e)&&cm(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let r=Math.floor(e),i="";const s=this.Rn!==void 0?this.Rn:NaN;if(t>1){let o=+(Math.round(e*t)-r*t).toFixed(this.Rn);o>=t&&(o-=t,r+=1),i=C5+Ro(+o.toFixed(this.Rn)*this.kn,s)}else r=Math.round(r*t)/t,s>0&&(i=C5+Ro(0,s));return r.toFixed(0)+i}};class lK extends Qb{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Dme extends aK{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const r=Math.pow(10,this.Dn);return t=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}const Ame=/[2-9]/g;class ky{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,r){return this.Nn(e,t,r).width}Di(e,t,r){const i=this.Nn(e,t,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,t,r){const i=r||Ame,s=String(t).replace(i,"0");if(this.Ln.has(s))return Zr(this.Ln.get(s)).Fn;if(this.Vn===this.zn){const a=this.An[this.En];delete this.An[this.En],this.Ln.delete(a),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&t.length||(this.Ln.set(s,{Fn:o,Wn:this.Bn}),this.An[this.Bn]=s,this.Vn++,this.Bn++),o}}class Nme{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,r){this.Hn=e,this.M=t,this.Un=r}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class cK{constructor(e,t,r){this.jn=e,this.$n=new ky(50),this.Yn=t,this.O=r,this.F=-1,this.Xt=new Nme(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;const r=e.Xn(t);if(r==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,r),this.Xt}}let Lme=class extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){var o;if(!((o=this.jt)!=null&&o.It))return null;const{ut:r,ct:i,te:s}=this.jt;return t>=r-i-7&&t<=r+i+7?{ie:this.jt,te:s}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const s=Math.round(this.jt.ut*i);s<0||s>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*r),zh(e,this.jt.Zt),nK(e,s,0,t.width))}};class zO{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new Lme,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Fme extends zO{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;const r=this.ee.N();if(!r.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=r.baseLineColor,this.se.ct=r.baseLineWidth,this.se.Zt=r.baseLineStyle)}}class $me extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){const i=this.jt;if(i===null)return;const s=Math.max(1,Math.floor(t)),o=s%2/2,a=Math.round(i.oe.x*t)+o,l=i.oe.y*r;e.fillStyle=i._e,e.beginPath();const c=Math.max(2,1.5*i.ue)*t;e.arc(a,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(a,l,i.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.de,e.beginPath(),e.arc(a,l,i.ft*t+s/2,0,2*Math.PI,!1),e.stroke()}}const jme=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class Bme{constructor(e){this.Xt=new $me,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),r=this.ye.Lt();if(t===null||r===null)return;const i=this.ye.Ve(!0);if(i.Be||!t.Ee(i.js))return;const s={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,r.Wt)},o=i.R,a=this.ye.N().lineWidth,l=this.Ae(this.Le(),o);this.Xt.ht({_e:o,ue:a,ce:l.ce,de:l.de,ft:l.ft,oe:s})}De(){const e=this.Xt.le();if(e!==null){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,r,i){const s=r+(i-r)*t;return this.ye.Qt().Xi().Y(e,s)}Ae(e,t){const r=e%2600/2600;let i;for(const c of jme)if(r>=c.fe&&r<=c.pe){i=c;break}ir(i!==void 0,"Last price animation internal logic error");const s=(r-i.fe)/(i.pe-i.fe);return{ce:this.ze(t,s,i.we,i.ge),de:this.ze(t,s,i.Me,i.be),ft:(o=s,a=i.ve,l=i.me,a+(l-a)*o)};var o,a,l}}class zme extends zO{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const r=this.ee.Ve(t.priceLineSource===0);r.Be||(e.It=!0,e.ut=r.Ei,e.R=this.ee.Oe(r.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}let qme=class extends Kb{constructor(e){super(),this.Jt=e}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.Jt;if(!i.It())return;const s=i.N(),o=s.lastValueVisible,a=i.Ne()!=="",l=s.seriesLastValueMode===0,c=i.Ve(!1);if(c.Be)return;o&&(e.ri=this.Fe(c,o,l),e.It=e.ri.length!==0),(a||l)&&(t.ri=this.We(c,o,a,l),t.It=t.ri.length>0);const u=i.Oe(c.R),h=this.Jt.Qt().Xi().Z(u);r.G=h.G,r.Ei=c.Ei,t.Ht=i.Qt().Ut(c.Ei/i.Ft().$t()),e.Ht=u,e.R=h.X,t.R=h.X}We(e,t,r,i){let s="";const o=this.Jt.Ne();return r&&o.length!==0&&(s+=`${o} `),t&&i&&(s+=this.Jt.Ft().He()?e.Ue:e.$e),s.trim()}Fe(e,t,r){return t?r?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}};function E5(n,e,t,r){const i=Number.isFinite(e),s=Number.isFinite(t);return i&&s?n(e,t):i||s?i?e:t:r}class Dr{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Dr(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Dr(E5(Math.min,this.Ze(),e.Ze(),-1/0),E5(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!qh(e)||this.je-this.qe===0)return;const t=.5*(this.je+this.qe);let r=this.je-t,i=this.qe-t;r*=e,i*=e,this.je=t+r,this.qe=t+i}Qe(e){qh(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Dr(e.minValue,e.maxValue)}}class Cy{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Cy(Dr.ir(e.priceRange),e.margins)}}const Ume=[2,4,8,16,32,64,128,256,512],Wme="Custom series with conflation reducer must have a priceValueBuilder method";class Hme extends zO{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const r=this.hr.ar();r!==null&&(e.It=!0,e.ut=r,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class Yme extends Kb{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.hr.N(),s=i.axisLabelVisible,o=i.title!=="",a=this.ye;if(!s||!a.It())return;const l=this.hr.ar();if(l===null)return;o&&(t.ri=i.title,t.It=!0),t.Ht=a.Qt().Ut(l/a.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const c=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);r.G=c.G;const u=i.axisLabelTextColor||c.X;e.R=u,t.R=u,r.Ei=l}lr(e){const t=this.ye.Lt();return t===null?"":this.ye.Ft().Ji(e,t.Wt)}}class Gme{constructor(e,t){this.ye=e,this.Ps=t,this._r=new Hme(e,this),this.jn=new Yme(e,this),this.ur=new cK(this.jn,e,e.Qt())}cr(e){yi(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const r=e.Lt();return r===null?null:t.Nt(this.Ps.price,r.Wt)}}class Vme{constructor(){this.wr=new WeakMap}gr(e,t,r){const i=1/t*r;if(e>=i)return 1;const s=i/e,o=Math.pow(2,Math.floor(Math.log2(s)));return Math.min(o,512)}Mr(e,t,r,i=!1,s){if(e.length===0||t<=1)return e;const o=this.br(t);if(o<=1)return e;const a=this.Sr(e);let l=a.Cr.get(o);return l!==void 0||(l=this.yr(e,o,r,i,s,a.Cr),a.Cr.set(o,l)),l}kr(e,t,r,i,s=!1,o){if(r<1||e.length===0)return e;const a=this.Sr(e),l=a.Cr.get(r);if(!l)return this.Mr(e,r,i,s,o);const c=this.Pr(e,t,r,l,s,i,o);return a.Cr.set(r,c),c}br(e){if(e<=2)return 2;for(const t of Ume)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;const t=e[0],r=e[e.length-1];return 31*e.length+17*t.js+13*r.js}yr(e,t,r,i=!1,s,o=new Map){if(t===2)return this.Rr(e,2,r,i,s);const a=t/2;let l=o.get(a);return l||(l=this.yr(e,a,r,i,s,o),o.set(a,l)),this.Dr(l,r,i,s)}Rr(e,t,r,i=!1,s){const o=this.Ir(e,t,r,i,s);return this.Vr(o,i)}Dr(e,t,r=!1,i){const s=this.Ir(e,2,t,r,i);return this.Vr(s,r)}Ir(e,t,r,i=!1,s){const o=[];for(let a=0;a<e.length;a+=t)if(e.length-a>=t){const l=this.Br(e[a],e[a+1],r,i,s);l.Er=!1,o.push(l)}else if(o.length===0)o.push(this.Ar(e[a],!0));else{const l=o[o.length-1];o[o.length-1]=this.Lr(l,e[a],r,i,s)}return o}zr(e,t){return(e??1)+(t??1)}Br(e,t,r,i=!1,s){if(!i||!r||!s){const c=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],u=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:c,$r:u,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const o=r(this.Kr(e,s),this.Kr(t,s)),a=s(o),l=a.length?a[a.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],l),$r:Math.min(e.Wt[2],l),qr:l,jr:this.zr(e.jr,t.jr),Yr:o,Er:!1}}Lr(e,t,r,i=!1,s){if(!i||!r||!s)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const o=e.Yr,a=this.Kr(t,s),l=o?{data:o,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:s(o)}:null,c=l?r(l,a):a.data,u=l?s(c):a.priceValues,h=u.length?u[u.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,h),$r:Math.min(e.$r,h),qr:h,jr:e.jr+(t.jr??1),Yr:c,Er:!1}}Zr(e,t,r,i,s,o,a=!1,l){const c=t===i?s:e[t];if(r-t==1)return this.Ar(c,!0);const u=t+1===i?s:e[t+1];let h=this.Br(c,u,o,a,l);for(let d=t+2;d<r;d++){const f=d===i?s:e[d];h=this.Lr(h,f,o,a,l)}return h}Kr(e,t){const r=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(r)}}Xr(e,t=!1){const r=t===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[r?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:r?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map(r=>this.Xr(r,t))}Pr(e,t,r,i,s=!1,o,a){if(i.length===0)return i;const l=e.length-1,c=Math.floor(l/r)*r;if(Math.min(c+r,e.length)-c<r&&e.length>r){const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}if(Math.floor((l-1)/r)===Math.floor(l/r)||i.length===1){const u=Math.min(c+r,e.length),h=u-c;if(h<=0)return i;const d=h===1?this.Ar(c===l?t:e[c],!0):this.Zr(e,c,u,l,t,o,s,a);return i[i.length-1]=this.Xr(d,s),i}{const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),r=this.Tr(e);return t.Qr!==r&&(t.Cr.clear(),t.Qr=r),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class Kme extends oK{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const Xme={Bar:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=ve(n(t,r)),a=Aa(o.Wt[0])<=Aa(o.Wt[3]);return{th:o.R??(a?i:s)}},Candlestick:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=e.borderUpColor,a=e.borderDownColor,l=e.wickUpColor,c=e.wickDownColor,u=ve(n(t,r)),h=Aa(u.Wt[0])<=Aa(u.Wt[3]);return{th:u.R??(h?i:s),ih:u.Ht??(h?o:a),sh:u.nh??(h?l:c)}},Custom:(n,e,t,r)=>({th:ve(n(t,r)).R??e.color}),Area:(n,e,t,r)=>{const i=ve(n(t,r));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(n,e,t,r)=>{const i=ve(n(t,r));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(n,e,t,r)=>{const i=ve(n(t,r));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(n,e,t,r)=>({th:ve(n(t,r)).R??e.color})};class Qme{constructor(e){this.fh=(t,r)=>r!==void 0?r.Wt:this.ye.qs().ph(t),this.ye=e,this.mh=Xme[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function uK(n,e,t,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],t)===n?(i=l+1,o-=a+1):o=a}return i}const Uh=uK.bind(null,!0),hK=uK.bind(null,!1);var T5;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(T5||(T5={}));const ua=30;class Jme{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){const r=this.Th(e,t);return r===null?null:{...this.Rh(r),js:this.Ph(r)}}Dh(){return this.Mh}Ih(e,t,r){if(this.Gi())return null;let i=null;for(const s of r)i=M0(i,this.Vh(e,t,s));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(t=>t.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const r=this.Eh(e);if(r===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return r}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return Uh(this.Mh,e,(t,r)=>t.js<r)}Oh(e){return hK(this.Mh,e,(t,r)=>t.js>r)}Nh(e,t,r){let i=null;for(let s=e;s<t;s++){const o=this.Mh[s].Wt[r];Number.isNaN(o)||(i===null?i={Fh:o,Wh:o}:(o<i.Fh&&(i.Fh=o),o>i.Wh&&(i.Wh=o)))}return i}Vh(e,t,r){if(this.Gi())return null;let i=null;const s=ve(this.kh()),o=ve(this.sn()),a=Math.max(e,s),l=Math.min(t,o),c=Math.ceil(a/ua)*ua,u=Math.max(c,Math.floor(l/ua)*ua);{const d=this.zh(a),f=this.Oh(Math.min(l,c,t));i=M0(i,this.Nh(d,f,r))}let h=this.bh.get(r);h===void 0&&(h=new Map,this.bh.set(r,h));for(let d=Math.max(c+1,a);d<u;d+=ua){const f=Math.floor(d/ua);let m=h.get(f);if(m===void 0){const g=this.zh(f*ua),v=this.Oh((f+1)*ua-1);m=this.Nh(g,v,r),h.set(f,m)}i=M0(i,m)}{const d=this.zh(u),f=this.Oh(l);i=M0(i,this.Nh(d,f,r))}return i}}function M0(n,e){return n===null?e:e===null?n:{Fh:Math.min(n.Fh,e.Fh),Wh:Math.max(n.Wh,e.Wh)}}function T1(){return new Jme}const Ey={setLineStyle:zh};class Zme{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Ey)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Ey)}}class ege{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new Zme(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}class dK{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,t;(t=(e=this.Zh).updateAllViews)==null||t.call(e)}Ys(){var r,i,s;const e=((i=(r=this.Zh).paneViews)==null?void 0:i.call(r))??[];if(((s=this.Kh)==null?void 0:s.qh)===e)return this.Kh.jh;const t=e.map(o=>new ege(o));return this.Kh={qh:e,jh:t},t}Qn(e,t){var r,i;return((i=(r=this.Zh).hitTest)==null?void 0:i.call(r,e,t))??null}}let tge=class extends dK{ds(){return[]}};class nge{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Ey)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Ey)}}class M5{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new nge(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}function fK(n){var e,t,r;return{ri:n.text(),Ei:n.coordinate(),Vi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),G:n.backColor(),It:((t=n.visible)==null?void 0:t.call(n))??!0,pi:((r=n.tickVisible)==null?void 0:r.call(n))??!0}}class rge{constructor(e,t){this.Xt=new sK,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...fK(this.Xh)}),this.Xt}}class ige extends Kb{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,r){const i=fK(this.Xh);r.G=i.G,e.R=i.R;const s=2/12*this.Ki.k();r.Ti=s,r.Ri=s,r.Ei=i.Ei,r.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class sge extends dK{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){var i,s,o;const e=((s=(i=this.Zh).timeAxisViews)==null?void 0:s.call(i))??[];if(((o=this.Qh)==null?void 0:o.qh)===e)return this.Qh.jh;const t=this.ye.Qt().Et(),r=e.map(a=>new rge(a,t));return this.Qh={qh:e,jh:r},r}Ks(){var i,s,o;const e=((s=(i=this.Zh).priceAxisViews)==null?void 0:s.call(i))??[];if(((o=this.ta)==null?void 0:o.qh)===e)return this.ta.jh;const t=this.ye.Ft(),r=e.map(a=>new ige(a,t));return this.ta={qh:e,jh:r},r}na(){var r,i,s;const e=((i=(r=this.Zh).priceAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.ia)==null?void 0:s.qh)===e)return this.ia.jh;const t=e.map(o=>new M5(o));return this.ia={qh:e,jh:t},t}ea(){var r,i,s;const e=((i=(r=this.Zh).timeAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.sa)==null?void 0:s.qh)===e)return this.sa.jh;const t=e.map(o=>new M5(o));return this.sa={qh:e,jh:t},t}ra(e,t){var r,i;return((i=(r=this.Zh).autoscaleInfo)==null?void 0:i.call(r,e,t))??null}}function M1(n,e,t,r){n.forEach(i=>{e(i).forEach(s=>{s.Yh()===t&&r.push(s)})})}function P1(n){return n.Ys()}function oge(n){return n.na()}function age(n){return n.ea()}const lge=["Area","Line","Baseline"];class Jb extends Kme{constructor(e,t,r,i,s){super(e),this.jt=T1(),this._r=new zme(this),this.ha=[],this.aa=new Fme(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new Vme,this.da=new Map,this.fa=null,this.Ps=r,this.pa=t;const o=new qme(this);if(this.gs=[o],this.ur=new cK(o,this,e),lge.includes(this.pa)&&(this.la=new Bme(this)),this.va(),this.$h=i(this,this.Qt(),s),this.pa==="Custom"){const a=this.$h;a.ma&&this.wa(a.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},r=this.Ft();if(this.Qt().Et().Gi()||r.Gi()||this.jt.Gi())return t;const i=this.Qt().Et().Ie(),s=this.Lt();if(i===null||s===null)return t;let o,a;if(e){const h=this.jt.Ch();if(h===null)return t;o=h,a=h.js}else{const h=this.jt.$s(i.bi(),-1);if(h===null||(o=this.jt.ph(h.js),o===null))return t;a=h.js}const l=o.Wt[3],c=this.ga().gh(a,{Wt:o}),u=r.Nt(l,s.Wt);return{Be:!1,gt:l,ri:r.Ji(l,s.Wt),Ue:r.Ma(l),$e:r.ba(l,s.Wt),R:c.th,Ei:u,js:a}}ga(){return this.oa!==null||(this.oa=new Qme(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:r,visible:i,priceFormat:s}=e;r!==void 0&&r!==this.Ps.priceScaleId&&t.Sa(this,r),i!==void 0&&i!==this.Ps.visible&&t.xa();const o=e.conflationThresholdFactor!==void 0;yi(this.Ps,e),o&&(this.da.clear(),this.Qt().dr()),s!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const r=this.Qt().Et().N();r.enableConflation&&r.precomputeConflationOnInit&&this.Pa(r.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new Gme(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const r=this.pa==="Custom",i=r&&this.fa||void 0,s=r&&this.$h.Oa?l=>{const c=l,u=this.$h.Oa(c);return Array.isArray(u)?u:[typeof u=="number"?u:0]}:void 0,o=this.ca.kr(this.jt.Dh(),e,t,i,r,s),a=T1();a.ht(o),this.da.set(t,a)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const t=this.za(),r=this.da.get(t);return r||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return t===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];M1(this.ua,P1,"top",t);const r=this.la;return r!==null&&r.It()&&(this._a===null&&r.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),r.Te(),t.unshift(r)),t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map(r=>r.pr());return e.push(...t),M1(this.ua,P1,"normal",e),e}qa(){return this.ja(P1,"bottom")}Ya(e){return this.ja(oge,e)}Ka(e){return this.ja(age,e)}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const r=[...this.gs];for(const i of this.ha)r.push(i.mr());return this.ua.forEach(i=>{r.push(...i.Ks())}),r}fs(){const e=[];return this.ua.forEach(t=>{e.push(...t.fs())}),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){const r=this.Ps.autoscaleInfoProvider(()=>{const i=this.Ga(e,t);return i===null?null:i.tr()});return Cy.ir(r)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const t of this.gs)t.kt();for(const t of this.ha)t.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(t=>t.Ws())}Ft(){return ve(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new sge(e,this))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Xb(this.Ft().ol())}Ga(e,t){if(!cm(e)||!cm(t)||this.jt.Gi())return null;const r=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,t,r);let s=i!==null?new Dr(i.Fh,i.Wh):null,o=null;if(this.wh()==="Histogram"){const a=this.Ps.base,l=new Dr(a,a);s=s!==null?s.Sn(l):l}return this.ua.forEach(a=>{const l=a.ra(e,t);if(l!=null&&l.priceRange){const c=new Dr(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.Sn(c):c}l!=null&&l.margins&&(o=l.margins)}),new Cy(s,o)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new Dme(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new lK(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Qb(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){const r=[];return M1(this.ua,e,t,r),r}za(){const{ul:e,cl:t,dl:r}=this.fl();return this.ca.gr(e,t,r)}fl(){const e=this.Qt().Et(),t=e.ul(),r=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:t,cl:r,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const t=this.jt.Dh();let r;if(this.pa==="Custom"&&this.fa!==null){const s=this.rl();if(!s)throw new Error(Wme);r=this.ca.Mr(t,e,this.fa,!0,o=>s(o))}else r=this.ca.Mr(t,e);const i=T1();return i.ht(r),i}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){var r;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const i of t){const s=()=>{this.ml(i)},o=typeof window=="object"&&window||typeof self=="object"&&self;(r=o==null?void 0:o.gl)!=null&&r.wl?o.gl.wl(()=>{s()},{Ml:e}):Promise.resolve().then(()=>s())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const t=this.pl(e);this.da.set(e,t)}}const cge=[3],uge=[0,1,2,3];class hge{constructor(e){this.Ps=e}bl(e,t,r){let i=e;if(this.Ps.mode===0)return i;const s=r.Rs(),o=s.Lt();if(o===null)return i;const a=s.Nt(e,o),l=r.Sl().filter(u=>u instanceof Jb).reduce((u,h)=>{if(r.Zn(h)||!h.It())return u;const d=h.Ft(),f=h.qs();if(d.Gi()||!f.Ee(t))return u;const m=f.ph(t);if(m===null)return u;const g=Aa(h.Lt()),v=this.Ps.mode===3?uge:cge;return u.concat(v.map(y=>d.Nt(m.Wt[y],g.Wt)))},[]);if(l.length===0)return i;l.sort((u,h)=>Math.abs(u-a)-Math.abs(h-a));const c=l[0];return i=s.Ds(c,o),i}}function rp(n,e,t){return Math.min(Math.max(n,e),t)}function P0(n,e,t){return e-n<=t}class dge extends Xm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=ve(this.jt);if(o.xl){e.strokeStyle=o.Cl,zh(e,o.yl),e.beginPath();for(const a of o.kl){const l=Math.round(a.Pl*r);e.moveTo(l,-s),e.lineTo(l,t.height+s)}e.stroke()}if(o.Tl){e.strokeStyle=o.Rl,zh(e,o.Dl),e.beginPath();for(const a of o.Il){const l=Math.round(a.Pl*i);e.moveTo(-s,l),e.lineTo(t.width+s,l)}e.stroke()}})}}class fge{constructor(e){this.Xt=new dge,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(r=>({Pl:r.coord}))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class pge{constructor(e){this.$h=new fge(e)}pr(){return this.$h}}const I1={Bl:4,El:1e-4};function Ou(n,e){const t=100*(n-e)/e;return e<0?-t:t}function mge(n,e){const t=Ou(n.Ze(),e),r=Ou(n.Ge(),e);return new Dr(t,r)}function ip(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function gge(n,e){const t=ip(n.Ze(),e),r=ip(n.Ge(),e);return new Dr(t,r)}function Ty(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.log10(t+e.El)+e.Bl;return n<0?-r:r}function sp(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.pow(10,t-e.Bl)-e.El;return n<0?-r:r}function uf(n,e){if(n===null)return null;const t=Ty(n.Ze(),e),r=Ty(n.Ge(),e);return new Dr(t,r)}function Ru(n,e){if(n===null)return null;const t=sp(n.Ze(),e),r=sp(n.Ge(),e);return new Dr(t,r)}function O1(n){if(n===null)return I1;const e=Math.abs(n.Ge()-n.Ze());if(e>=1||e<1e-15)return I1;const t=Math.ceil(Math.abs(Math.log10(e))),r=I1.Bl+t;return{Bl:r,El:1/Math.pow(10,r)}}class R1{constructor(e,t){if(this.Al=e,this.Ll=t,function(r){if(r<0)return!1;if(r>1e18)return!0;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let r=this.Al;r!==1;){if(r%2==0)this.zl.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),r/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,r){const i=this.Al===0?0:1/this.Al;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),o=0,a=this.Ll[0];for(;;){const h=P0(s,i,1e-14)&&s>i+1e-14,d=P0(s,r*a,1e-14),f=P0(s,1,1e-14);if(!(h&&d&&f))break;s/=a,a=this.Ll[++o%this.Ll.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.zl.length>0&&(l=s,c=1,u=1e-14,Math.abs(l-c)<u))for(o=0,a=this.zl[0];P0(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.zl[++o%this.zl.length];var l,c,u;return s}}class P5{constructor(e,t,r,i){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=r,this.Wl=i}Ol(e,t){if(e<t)throw new Error("high < low");const r=this.Ki.$t(),i=(e-t)*this.Hl()/r,s=new R1(this.Al,[2,2.5,2]),o=new R1(this.Al,[2,2,2.5]),a=new R1(this.Al,[2.5,2,2]),l=[];return l.push(s.Ol(e,t,i),o.Ol(e,t,i),a.Ol(e,t,i)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let h=1;h<c.length;++h)c[h]<u&&(u=c[h]);return u}(l)}Ul(){const e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);const r=e.$t(),i=this.Fl(r-1,t),s=this.Fl(0,t),o=this.Ki.N().entireTextOnly?this.$l()/2:0,a=o,l=r-1-o,c=Math.max(i,s),u=Math.min(i,s);if(c===u)return void(this.Nl=[]);const h=this.Ol(c,u);if(this.ql(t,h,c,u,a,l),e.jl()&&this.Yl(h,u,c)){const m=this.Ki.Kl();this.Zl(t,h,a,l,m,2*m)}const d=this.Nl.map(m=>m.Gl),f=this.Ki.Xl(d);for(let m=0;m<this.Nl.length;m++)this.Nl[m].Jl=f[m]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,r,i,s,o){const a=this.Nl,l=this.Ki;let c=r%t;c+=c<0?t:0;const u=r>=i?1:-1;let h=null,d=0;for(let f=r-c;f>i;f-=t){const m=this.Wl(f,e,!0);h!==null&&Math.abs(m-h)<this.Hl()||m<s||m>o||(d<a.length?(a[d].Pl=m,a[d].Jl=l.Ql(f),a[d].Gl=f):a.push({Pl:m,Jl:l.Ql(f),Gl:f}),d++,h=m,l.io()&&(t=this.Ol(f*u,i)))}a.length=d}Zl(e,t,r,i,s,o){const a=this.Nl,l=this.so(e,r,s,o),c=this.so(e,i,-o,-s),u=this.Wl(0,e,!0)-this.Wl(t,e,!0);a.length>0&&a[0].Pl-l.Pl<u/2&&a.shift(),a.length>0&&c.Pl-a[a.length-1].Pl<u/2&&a.pop(),a.unshift(l),a.push(c)}so(e,t,r,i){const s=(r+i)/2,o=this.Fl(t+r,e),a=this.Fl(t+i,e),l=Math.min(o,a),c=Math.max(o,a),u=Math.max(.1,this.Ol(c,l)),h=this.Fl(t+s,e),d=h-h%u,f=this.Wl(d,e,!0);return{Jl:this.Ki.Ql(d),Pl:f,Gl:d}}Yl(e,t,r){let i=Aa(this.Ki.er());return this.Ki.io()&&(i=Ru(i,this.Ki.no())),i.Ze()-t<e&&r-i.Ge()<e}}function pK(n){return n.slice().sort((e,t)=>ve(e._s())-ve(t._s()))}var I5;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(I5||(I5={}));const O5=new lK,R5=new Qb(100,1);class vge{constructor(e,t,r,i,s){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Rn,this.fo=new Rn,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=R5,this.So=O1(null),this.xo=e,this.Ps=t,this.Co=r,this.yo=i,this.ko=s,this.Po=new P5(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(yi(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const t=Zr(e.scaleMargins.top),r=Zr(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(t+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+r}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let r=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&(function(s,o){if(s===null)return!1;const a=sp(s.Ze(),o),l=sp(s.Ge(),o);return isFinite(a)&&isFinite(l)}(this.sr,this.So)?(r=Ru(this.sr,this.So),r!==null&&this.Lo(r)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(r=uf(this.sr,this.So),r!==null&&this.Lo(r));const i=t.ae!==this.Ps.mode;i&&(t.ae===2||this.He())&&this._l(),i&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const r=this.sr;(t||r===null&&e!==null||r!==null&&!r.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Ou(e,t):this.Eo()&&(e=ip(e,t)),this.Ro(e,t)}Yo(e,t,r){this.Uo();const i=this.Ho(),s=ve(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m],v=g.gt;if(isNaN(v))continue;let y=v;f!==null&&(y=f(g.gt,t));const b=i+u*(y-o),w=c?b:this.eo-1-b;g.ut=w}}Zo(e,t,r){this.Uo();const i=this.Ho(),s=ve(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m];let v=g.Hr,y=g.Ur,b=g.$r,w=g.qr;f!==null&&(v=f(g.Hr,t),y=f(g.Ur,t),b=f(g.$r,t),w=f(g.qr,t));let S=i+u*(v-o),_=c?S:this.eo-1-S;g.Go=_,S=i+u*(y-o),_=c?S:this.eo-1-S,g.Xo=_,S=i+u*(b-o),_=c?S:this.eo-1-S,g.Jo=_,S=i+u*(w-o),_=c?S:this.eo-1-S,g.Qo=_}}Ds(e,t){const r=this.To(e,t);return this.t_(r,t)}t_(e,t){let r=e;return this.He()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,t):this.Eo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,t)),r}Sl(){return this.po}Dt(){return this.mo||(this.mo=pK(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const r=t.Lt();r!==null&&(e===null||r.Ea<e.Ea)&&(e=r)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=ve(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const r=ve(this.ho).Ke();t=Math.max(t,.1),r.Je(t),this.Lo(r)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=ve(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const t=ve(this.er()).Xe()/(this.Fo()-1);let r=e-this.bo;this.Ao()&&(r*=-1);const i=r*t,s=ve(this.ho).Ke();s.Qe(i),this.Lo(s,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Ou(e,t));case 3:return this.Xa().format(ip(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,ve(this.vo).Xa())}ba(e,t){return e=Ou(e,t),this.c_(e,O5)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const r of this.po)r._s()<e&&(e=r._s(),this.vo=r);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=R5,this.He()?(this.Ja=O5,t=100):this.Eo()?(this.Ja=new Qb(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new P5(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Ty(e,this.So):e;const r=ve(this.er()),i=this.Ho()+(this.Fo()-1)*(e-r.Ze())/r.Xe();return this.jo(i)}To(e,t){if(this.Uo(),this.Gi())return 0;const r=this.jo(e),i=ve(this.er()),s=i.Ze()+i.Xe()*((r-this.Ho())/(this.Fo()-1));return this.io()?sp(s,this.So):s}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let t=null;const r=this.p_();let i=0,s=0;for(const l of r){if(!l.It())continue;const c=l.Lt();if(c===null)continue;const u=l.ra(e.Aa(),e.bi());let h=u&&u.er();if(h!==null){switch(this.Ps.mode){case 1:h=uf(h,this.So);break;case 2:h=mge(h,c.Wt);break;case 3:h=gge(h,c.Wt)}if(t=t===null?h:t.Sn(ve(h)),u!==null){const d=u.rr();d!==null&&(i=Math.max(i,d.above),s=Math.max(s,d.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),s=Math.max(s,this.Kl())),i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){const l=5*this.m_();this.io()&&(t=Ru(t,this.So)),t=new Dr(t.Ze()-l,t.Ge()+l),this.io()&&(t=uf(t,this.So))}if(this.io()){const l=Ru(t,this.So),c=O1(l);if(o=c,a=this.So,o.Bl!==a.Bl||o.El!==a.El){const u=this.ho!==null?Ru(this.ho,this.So):null;this.So=c,t=uf(l,c),u!==null&&(this.ho=uf(u,c))}}this.Lo(t)}else this.sr===null&&(this.Lo(new Dr(-.5,.5)),this.So=O1(null));var o,a}Ko(){return this.He()?Ou:this.Eo()?ip:this.io()?e=>Ty(e,this.So):null}g_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.format(e)):t(e)}M_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const r=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(r?i=>i.map(r):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const r=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(r?i=>i.map(r):void 0),t)}}function D5(n){return n instanceof Jb}class A5{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Rn,this.ua=[],this.Jh=e,this.ns=t,this.k_=new pge(this);const r=t.N();this.P_=this.T_("left",r.leftPriceScale),this.R_=this.T_("right",r.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(r)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const r of t){const i=ve(r[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?Zr(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const t=e.Gh();return t.detached&&t.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(t=>{if(this.Zn(t)){const r=t.Ft();r!==null&&r.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(D5)}Sl(){return this.po}Zn(e){const t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,r){this.W_(e,t,r?e._s():this.po.length)}n_(e,t){const r=this.po.indexOf(e);ir(r!==-1,"removeDataSource: invalid data source"),this.po.splice(r,1),t||this.po.forEach((o,a)=>o.us(a));const i=ve(e.Ft()).ol();if(this.b_.has(i)){const o=Zr(this.b_.get(i)),a=o.indexOf(e);a!==-1&&(o.splice(a,1),o.length===0&&this.b_.delete(i))}const s=e.Ft();s&&s.Sl().indexOf(e)>=0&&(s.n_(e),this.H_(s)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=pK(this.po)),this.mo}su(e,t){t=rp(t,0,this.po.length-1);const r=this.po.indexOf(e);ir(r!==-1,"setSeriesOrder: invalid data source"),this.po.splice(r,1),this.po.splice(t,0,e),this.po.forEach((i,s)=>i.us(s)),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(D5)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new tge(e))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const r=this.Jh.Ie();r!==null&&e.v_(r)}e.Ws()}W_(e,t,r){let i=this.V_(t);if(i===null&&(i=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(r,0,e),!Xb(t)){const s=this.b_.get(t)||[];s.push(e),this.b_.set(t,s)}e.us(r),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,t,r){t.ae!==r.ae&&this.J_(e)}T_(e,t){const r={visible:!0,autoScale:!0,...Oo(t)},i=new vge(e,r,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function I0(n){return{hu:n.hu,au:{te:n.lu.externalId},ou:n.lu.cursorStyle}}function yge(n,e,t,r){for(const i of n){const s=i.Tt(r);if(s!==null&&s.Qn){const o=s.Qn(e,t);if(o!==null)return{_u:i,au:o}}}return null}function bge(n){return n.Ys!==void 0}function mK(n,e,t){const r=[n,...n.Dt()],i=function(s,o,a){var d;let l,c;for(const f of s){const m=((d=f.Za)==null?void 0:d.call(f,o,a))??[];for(const g of m)u=g.zOrder,h=l==null?void 0:l.zOrder,(!h||u==="top"&&h!=="top"||u==="normal"&&h==="bottom")&&(l=g,c=f)}var u,h;return l&&c?{lu:l,hu:c}:null}(r,e,t);if((i==null?void 0:i.lu.zOrder)==="top")return I0(i);for(const s of r){if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return I0(i);if(bge(s)){const o=yge(s.Ys(n),e,t,n);if(o!==null)return{hu:s,_u:o._u,au:o.au}}if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return I0(i)}return i!=null&&i.lu?I0(i):null}class xge{constructor(e,t,r=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=r}du(e){const t=e.time,r=this.cu.cacheKey(t),i=this.Ln.get(r);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const o=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(Zr(o)),this.En++,this.Vn--}const s=this.uu(e);return this.Ln.set(r,{fu:s,Wn:this.Bn}),this.An.set(this.Bn,r),this.Vn++,this.Bn++,s}}class op{constructor(e,t){ir(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function N5(n,e){return n===null||e===null?n===e:n.Ye(e)}class wge{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let r=t;r<e.length;++r){const i=e[r];let s=this.wu.get(i.timeWeight);s===void 0&&(s=[],this.wu.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,t,r,i,s){const o=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===o&&s===this.Ln.yu&&r===this.Ln.ku||(this.Ln={yu:s,ku:r,Vl:this.Pu(o,r,i),Cu:o}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const t=[];this.wu.forEach((r,i)=>{e<=r[0].index?t.push(i):r.splice(Uh(r,e,s=>s.index<e),1/0)});for(const r of t)this.wu.delete(r)}Pu(e,t,r){let i=[];const s=o=>!t||r.has(o.index);for(const o of Array.from(this.wu.keys()).sort((a,l)=>l-a)){if(!this.wu.get(o))continue;const a=i;i=[];const l=a.length;let c=0;const u=Zr(this.wu.get(o)),h=u.length;let d=1/0,f=-1/0;for(let m=0;m<h;m++){const g=u[m],v=g.index;for(;c<l;){const y=a[c],b=y.index;if(!(b<v&&s(y))){d=b;break}c++,i.push(y),f=b,d=1/0}if(d-v>=e&&v-f>=e&&s(g))i.push(g),f=v;else if(this.gu)return a}for(;c<l;c++)s(a[c])&&i.push(a[c])}return i}}class Yu{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new op(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Yu(null)}}function _ge(n,e){return n.weight>e.weight?n:e}class Sge{constructor(e,t,r,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new wge,this.Au=new Map,this.Lu=Yu.Iu(),this.zu=!0,this.Ou=new Rn,this.Nu=new Rn,this.Fu=new Rn,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=r,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=i,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){yi(this.yo,e),this.tc(),this.Gu()}cr(e,t){yi(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var t;return((t=this.Bu[e])==null?void 0:t.time)??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const r=Uh(this.Bu,this.cu.key(e),(i,s)=>this.cu.key(i.time)<s);return this.cu.key(e)<this.cu.key(this.Bu[r].time)?t?r:null:r}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),r=Math.round(e.to),i=ve(this._c()),s=ve(this.uc());return{from:ve(this.es(Math.max(i,t))),to:ve(this.es(Math.min(s,r)))}}cc(e){return{from:ve(this.ec(e.from,!0)),to:ve(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const t=this.ac(),r=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Ku*e/r;this.Ku=i}if(this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){const i=r-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!cm(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const r=this.vc(),i=t===void 0?0:t.from,s=t===void 0?e.length:t.to;for(let o=i;o<s;o++){const a=e[o].wt,l=r+this.Yu-a,c=this.S_-(l+.5)*this.Ku-1;e[o]._t=c}}wc(e,t){const r=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(r)?this.bc(r):r}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0){const r=this.Yu*t/this.Ku;this.Yu=r}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),r=Math.round(t/e),i=ve(this.Ie()),s=Math.max(i.Aa(),i.Aa()-r),o=Math.max(i.bi(),i.bi()-r),a=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+r,c=this.uc()-r,u=this.yc(),h=this.Ps.fixLeftEdge||u,d=this.Ps.fixRightEdge||u;let f=0;for(const m of a){if(!(s<=m.index&&m.index<=o))continue;let g;f<this.qu.length?(g=this.qu[f],g.coord=this.qt(m.index),g.label=this.kc(m),g.weight=m.weight):(g={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.kc(m),weight:m.weight},this.qu.push(g)),this.Ku>t/2&&!u?g.needAlignCoordinate=!1:g.needAlignCoordinate=h&&m.index<=l||d&&m.index>=c,f++}return this.qu.length=f,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const r=this.gc(e),i=this.ul(),s=i+t*(i/10);this.gn(s),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(r-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const t=rp(this.S_-e,0,this.S_),r=rp(this.S_-ve(this.Mo),0,this.S_);t!==0&&r!==0&&this.gn(this.Wu.ul*t/r)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const t=(this.bo-e)/this.ul();this.Yu=ve(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.Yu,i=performance.now();this.ns.vn({Ec:s=>(s-i)/t>=1,Ac:s=>{const o=(s-i)/t;return o>=1?e:r+(e-r)*o}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const r=e.mu(),i=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/r),this.Yu=e.bi()-this.vc(),t&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(e===null||t===null)return;const r=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new op(e,t+r),!0)}Wc(e){const t=new op(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const r of t.ll())this.Uu.set(r,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const r=[1];let i=2;for(;i<=512;)t<e/i&&r.push(i),i*=2;return r}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),r=this.vc()+this.Yu-t;return Math.round(1e6*r)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Yu.Iu());const e=this.vc(),t=this.S_/this.Ku,r=this.Yu+e,i=new op(r-t+1,r);this.qc(new Yu(i))}dc(){const e=rp(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,r=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(r,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new xge(r=>this.Gc(r),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,N5(t.Ru(),this.Lu.Ru())||this.Ou.p(),N5(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const t=this.Ie();if(t===null)return;const r=t.Aa()-e;if(r<0){const i=this.Yu-r-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=function*(i){const s=Math.round(i),o=s<i;let a=1;for(;;)o?(yield s+a,yield s-a):(yield s-a,yield s+a),a++}(e),r=this.uc();for(;r;){const i=t.next().value;if(this.Uu.get(i))return i;if(i<0||i>r)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var L5,F5,$5,j5,B5;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(L5||(L5={}));class kge{constructor(e,t,r){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Rn,this.nd=new Rn,this.ed=null,this.rd=e,this.Ps=t,this.cu=r,this.ko=new wme(this.Ps.layout.colorParsers),this.hd=new xme(this),this.Jh=new Sge(this,t.timeScale,this.Ps.localization,r),this.Ct=new Rme(this,t.crosshair),this.ad=new hge(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(rr.yn())}dr(){this.dd(rr.Cn())}Ua(){this.dd(new rr(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){var r,i,s,o;if(((r=this.td)==null?void 0:r.hu)===(e==null?void 0:e.hu)&&((s=(i=this.td)==null?void 0:i.au)==null?void 0:s.te)===((o=e==null?void 0:e.au)==null?void 0:o.te))return;const t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==(t==null?void 0:t.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){yi(this.Ps,e),this.Xc.forEach(t=>t.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,r=0){const i=this.Xc[r];if(i===void 0)return;if(e==="left")return yi(this.Ps,{leftPriceScale:t}),i.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e==="right")return yi(this.Ps,{rightPriceScale:t}),i.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const s=this.wd(e,r);s!==null&&(s.Ft.cr(t),this.sd.p())}wd(e,t){const r=this.Xc[t];if(r===void 0)return null;const i=r.V_(e);return i!==null?{Gs:r,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(t=>t.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(ir(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;ir(e>=0&&e<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc.reduce((h,d)=>h+d.E_(),0),s=this.Xc.reduce((h,d)=>h+d.$t(),0),o=s-30*(this.Xc.length-1);t=Math.min(o,Math.max(30,t));const a=i/s,l=r.$t();r.A_(t*a);let c=t-l,u=this.Xc.length-1;for(const h of this.Xc)if(h!==r){const d=Math.min(o,Math.max(30,h.$t()-c/u));c-=h.$t()-d,u-=1;const f=d*a;h.A_(f)}this.Ca()}Cd(e,t){ir(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc[t];this.Xc[e]=i,this.Xc[t]=r,this.Ca()}yd(e,t){if(ir(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[r]=this.Xc.splice(e,1);this.Xc.splice(t,0,r),this.Ca()}j_(e,t,r){e.j_(t,r)}Y_(e,t,r){e.Y_(t,r),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,r){t.Vo()||e.Z_(t,r)}G_(e,t,r){t.Vo()||(e.G_(t,r),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const r=this.Et();if(r.Gi()||t===0)return;const i=r.ss();e=Math.max(1,Math.min(e,i)),r.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,t,r,i,s){this.Ct.Bs(e,t);let o=NaN,a=this.Jh.wc(e,!0);const l=this.Jh.Ie();l!==null&&(a=Math.min(Math.max(l.Aa(),a),l.bi())),a=this.Ct.Hs(a);const c=i.Rs(),u=c.Lt();if(u!==null&&(o=c.Ds(t,u)),o=this.ad.bl(o,a,i),this.Ct.zs(a,o,i),this.Ua(),!s){const h=mK(i,e,t);this.vd(h&&{hu:h.hu,au:h.au,ou:h.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},r)}}Ld(e,t,r){const i=r.Rs(),s=i.Lt(),o=i.Nt(e,ve(s)),a=this.Jh.ec(t,!0),l=this.Jh.qt(ve(a));this.Ad(l,o,null,r,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const t=this.Ct.As(),r=this.Ct.Ls();this.Ad(t,r,null,e)}this.Ct.Ws()}Od(e,t,r){const i=this.Jh.Is(0);t!==void 0&&r!==void 0&&this.Jh.kt(t,r);const s=this.Jh.Is(0),o=this.Jh.vc(),a=this.Jh.Ie();if(a!==null&&i!==null&&s!==null){const l=a.Ee(o),c=this.cu.key(i)>this.cu.key(s),u=e!==null&&e>o&&!c,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=l&&(r!==void 0||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(u&&!d){const f=e-o;this.Jh.Mn(this.Jh.Cc()-f)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(r){return r instanceof A5}(e))return e;const t=this.Xc.find(r=>r.Dt().includes(e));return t===void 0?null:t}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const r=this.ld(t);this.Wd(e,r),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),r=this.Jc.indexOf(e);ir(r!==-1,"Series not found");const i=ve(t);this.Jc.splice(r,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,t){const r=ve(this.Kn(e));r.n_(e,!0),r.i_(e,t,!0)}Fc(){const e=rr.Cn();e.cn(),this.dd(e)}$d(e){const t=rr.Cn();t.pn(e),this.dd(t)}wn(){const e=rr.Cn();e.wn(),this.dd(e)}gn(e){const t=rr.Cn();t.gn(e),this.dd(t)}Mn(e){const t=rr.Cn();t.Mn(e),this.dd(t)}vn(e){const t=rr.Cn();t.vn(e),this.dd(t)}dn(){const e=rr.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(ir(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const r=ve(this.Kn(e));r.n_(e);const i=this.ld(t);this.Wd(e,i),r.Sl().length===0&&this.Ud(r),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,r=this.od;if(t===r)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==r||this.ed.rh!==t)this.ed={eh:r,rh:t,Zd:new Map};else{const s=this.ed.Zd.get(e);if(s!==void 0)return s}const i=this.ko.tt(r,t,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new A5(this.Jh,this);this.Xc.push(t);const r=e??this.Xc.length-1,i=rr.yn();return i.hn(r,{an:0,ln:!0}),this.dd(i),t}ld(e){return ir(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(t=>t.F_().includes(e))}kd(e,t){const r=new rr(t);if(e!==null){const i=this.Xc.indexOf(e);r.hn(i,{an:t})}return r}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(t=>t.eu().pr().kt())}Wd(e,t){const r=e.N().priceScaleId,i=r!==void 0?r:this.qd();t.i_(e,i),Xb(i)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function gK(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const t=Math.round(n);if(Math.abs(t-n)<1e-8)return e;n*=10}return e}function tP(n){return!qh(n)&&!Km(n)}function vK(n){return qh(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(F5||(F5={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}($5||($5={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(j5||(j5={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(B5||(B5={}));const z5=n=>n.getUTCFullYear();function Cge(n,e,t){return e.replace(/yyyy/g,(r=>Ro(z5(r),4))(n)).replace(/yy/g,(r=>Ro(z5(r)%100,2))(n)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(n,t)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(n,t)).replace(/MM/g,(r=>Ro((i=>i.getUTCMonth()+1)(r),2))(n)).replace(/dd/g,(r=>Ro((i=>i.getUTCDate())(r),2))(n))}class yK{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return Cge(e,this.Qd,this.tf)}}class Ege{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Ro(e.getUTCHours(),2)).replace("%m",Ro(e.getUTCMinutes(),2)).replace("%s",Ro(e.getUTCSeconds(),2))}}const Tge={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Mge{constructor(e={}){const t={...Tge,...e};this.hf=new yK(t.sf,t.rf),this.af=new Ege(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function O0(n){return 60*n*60*1e3}function D1(n){return 60*n*1e3}const R0=[{_f:(q5=1,1e3*q5),uf:10},{_f:D1(1),uf:20},{_f:D1(5),uf:21},{_f:D1(30),uf:22},{_f:O0(1),uf:30},{_f:O0(3),uf:31},{_f:O0(6),uf:32},{_f:O0(12),uf:33}];var q5;function U5(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=R0.length-1;t>=0;--t)if(Math.floor(e.getTime()/R0[t]._f)!==Math.floor(n.getTime()/R0[t]._f))return R0[t].uf;return 0}function A1(n){let e=n;if(Km(n)&&(e=qO(n)),!tP(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(t.getTime()/1e3),df:e}}function W5(n){if(!vK(n))throw new Error("time must be of type isUTCTimestamp");return{cf:n}}function qO(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function H5(n){Km(n.time)&&(n.time=qO(n.time))}class Y5{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(t){t.forEach(H5)}(e):H5(e)}createConverterToInternalObj(e){return ve(function(t){return t.length===0?null:tP(t[0].time)||Km(t[0].time)?A1:W5}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return vK(t=e)?W5(t):tP(t)?A1(t):A1(qO(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Mge({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new yK(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,t.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=s.df===void 0?new Date(1e3*s.cf):new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,t.locale)}maxTickMarkWeight(e){let t=e.reduce(_ge,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.cf,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const c=r[l],u=new Date(1e3*c.time.cf);o!==null&&(c.timeWeight=U5(u,o)),a+=c.time.cf-(s||c.time.cf),s=c.time.cf,o=u}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),c=new Date(1e3*(r[0].time.cf-l));r[0].timeWeight=U5(new Date(1e3*r[0].time.cf),c)}})(e,t)}static pf(e){return yi({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Wh=typeof window<"u";function G5(){return!!Wh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function N1(){return!!Wh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function nP(n){return n+n%2}function Pge(n){Wh&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Zb{constructor(e,t,r){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!N1(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const s=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:o}=this.Zf(Is(i),this.bf);o<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}}else{const s=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:o}=this.Zf(Is(i),this.wf);o<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=r,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=L1(e.changedTouches,ve(this.Wf));if(t===null||(this.Ff=D0(e),this.Af!==null)||this.Of)return;this.zf=!0;const r=this.Zf(Is(t),ve(this.yf)),{up:i,cp:s,Kf:o}=r;if(this.kf||!(o<5)){if(!this.kf){const a=.5*i,l=s>=a&&!this.Ps.dp(),c=a>s&&!this.Ps.fp();l||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const a=this.Yf(e,t);this.Gf(a,this.Jf.pp),ou(e)}}}vp(e){if(e.button!==0)return;const t=this.Zf(Is(e),ve(this.Cf)),{Kf:r}=t;if(r>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,t){const r=Math.abs(t._t-e._t),i=Math.abs(t.ut-e.ut);return{up:r,cp:i,Kf:r+i}}wp(e){let t=L1(e.changedTouches,ve(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=D0(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const r=this.Yf(e,t);if(this.Gf(r,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Is(t),this.bf);i<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(r,this.Jf.Mp),this.Jf.Mp&&ou(e));this.gf===0&&ou(e),e.touches.length===0&&this.xf&&(this.xf=!1,ou(e))}$f(e){if(e.button!==0)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),G5()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:r}=this.Zf(Is(e),this.wf);r<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=D0(e);const r=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Is(t),this.Ef&&(this.Ef(),this.Ef=null);{const s=this._p.bind(this),o=this.wp.bind(this);this.Ef=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,t);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Is(t))}kp(e){if(e.button!==0)return;const t=this.np.ownerDocument.documentElement;G5()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Is(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),s=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",s)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s)}if(this.Nf=!0,this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Is(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=r=>{this.Jf.Tp&&(r.composed&&this.np.contains(r.composedPath()[0])||r.target&&this.np.contains(r.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}N1()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Pge(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const t=V5(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),ou(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=V5(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!N1()}Cp(e){const t=L1(e.touches,ve(this.Wf));if(t===null)return;const r=this.Yf(e,t);this.Gf(r,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:D0(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const r=t||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:r.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&ou(e)}}}}function V5(n,e){const t=n.clientX-e.clientX,r=n.clientY-e.clientY;return Math.sqrt(t*t+r*r)}function ou(n){n.cancelable&&n.preventDefault()}function Is(n){return{_t:n.pageX,ut:n.pageY}}function D0(n){return n.timeStamp||performance.now()}function L1(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}class Ige{constructor(e,t,r){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[r],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Yt({width:this.Kp.sv().width,height:1})}nv(){return Yt({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,r){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,r,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const r=document.createElement("div"),i=r.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(r);const s={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Zb(r,s,{dp:()=>!1,fp:()=>!0}),this.Up={hv:r,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),r=t/(this.Kp.sv().height+this.Gp.sv().height),i=30*r;t<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-i,vv:t,mv:r,wv:i},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(t===null)return;const r=(e.pageY-t.dv)*t.mv,i=rp(t.fv+r,t.wv,t.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(t.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function F1(n,e){return n.gv-e.gv}function $1(n,e,t){const r=(n.gv-e.gv)/(n.wt-e.wt);return Math.sign(r)*Math.min(Math.abs(r),t)}class Oge{constructor(e,t,r,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=r,this.kn=i}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let r=0;const i=$1(this.Mv,this.bv,this.Tv),s=F1(this.Mv,this.bv),o=[i],a=[s];if(r+=s,this.Sv!==null){const c=$1(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(i)){const u=F1(this.bv,this.Sv);if(o.push(c),a.push(u),r+=u,this.xv!==null){const h=$1(this.Sv,this.xv,this.Tv);if(Math.sign(h)===Math.sign(i)){const d=F1(this.Sv,this.xv);o.push(h),a.push(d),r+=d}}}}let l=0;for(let c=0;c<o.length;++c)l+=a[c]/r*o[c];Math.abs(l)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=l,this.yv=function(c,u){const h=Math.log(u);return Math.log(1*h/-c)/h}(Math.abs(l),this.Rv))}Ac(e){const t=ve(this.Cv),r=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,r)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const t=e-ve(this.Cv).wt;return Math.min(t,this.yv)}}class Rge{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function yc(n,e){const t=ve(n.ownerDocument).createElement("canvas");n.appendChild(t);const r=mme(t,{options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function bc(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function rP(n,e,t,r){n.Uh&&n.Uh(e,t,r)}function Ev(n,e,t,r){n.nt(e,t,r)}function iP(n,e,t,r){const i=n(t,r);for(const s of i){const o=s.Tt(r);o!==null&&e(o)}}function j1(n,e){return t=>{var r,i;return function(s){return s.Ft!==void 0}(t)?(((r=t.Ft())==null?void 0:r.ol())??"")!==e?[]:((i=t.Ya)==null?void 0:i.call(t,n))??[]:[]}}function K5(n,e,t,r){if(!n.length)return;let i=0;const s=n[0].$t(r,!0);let o=e===1?t/2-(n[0].Hi()-s/2):n[0].Hi()-s/2-t/2;o=Math.max(0,o);for(let a=1;a<n.length;a++){const l=n[a],c=n[a-1],u=c.$t(r,!1),h=l.Hi(),d=c.Hi();if(e===1?h>d-u:h<d+u){const f=d-u*e;l.Ui(f);const m=f-e*u/2;if((e===1?m<0:m>t)&&o>0){const g=e===1?-1-m:m-t,v=Math.min(g,o);for(let y=i;y<n.length;y++)n[y].Ui(n[y].Hi()+e*v);o-=v}}else i=a,o=e===1?d-u-h:h-(d+u)}}class X5{constructor(e,t,r,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new ky(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=r,this.Jv=i==="left",this.Qv=j1("normal",i),this.tm=j1("top",i),this.im=j1("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=yc(this.Jp,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=yc(this.Jp,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Zb(this.nm.canvasElement,a,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bc(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const t=this.lm(),r=ve(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));r.save();const i=this.Ki.Vl();r.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(r,i[0].Jl),this.qv.Ii(r,i[i.length-1].Jl)));const s=this.um();for(let c=s.length;c--;){const u=this.qv.Ii(r,s[c].ri());u>e&&(e=u)}const o=this.Ki.Lt();if(o!==null&&this.Uv!==null&&(a=this.Ps.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const c=this.Ki.Ds(1,o),u=this.Ki.Ds(this.Uv.height-2,o);e=Math.max(e,this.qv.Ii(r,this.Ki.Ji(Math.floor(Math.min(c,u))+.11111111111111,o)),this.qv.Ii(r,this.Ki.Ji(Math.ceil(Math.max(c,u))-.11111111111111,o)))}var a;r.restore();const l=e||34;return nP(Math.ceil(t.S+t.C+t.V+t.B+5+l))}dm(e){this.Uv!==null&&nc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return ve(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,ve(this.Ft()))}pm(e){if(this.Uv===null)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=vc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s)}),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const r=vc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.xm(r),this.yt.Mm(r,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!0,t.j_(r,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv(),i=this.Ki;t.Y_(r,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),r=this.Ki;this.$v&&(this.$v=!1,e.K_(t,r))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!1,t.K_(r,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=this.Ki===null?void 0:this.Ki;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Ks(this.yt.cv(),t);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.yt.cv().Qt(),o=s.$(),a=s.Kd();o===a?Vb(e,0,0,r,i,o):iK(e,0,0,r,i,o,a)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*r));let s;s=this.Jv?t.width-i:0,e.fillRect(s,0,i,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const t=this.Ki.Vl(),r=this.Ki.N(),i=this.lm(),s=this.Jv?this.Uv.width-i.C:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),h=Math.round(i.C*a);o.beginPath();for(const d of t)o.rect(Math.floor(s*a),Math.round(d.Pl*l)-u,h,c);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this._m(),o.fillStyle=r.textColor??this.Co.textColor,o.textAlign=this.Jv?"right":"left",o.textBaseline="middle";const a=this.Jv?Math.round(s-i.V):Math.round(s+i.C+i.V),l=t.map(c=>this.qv.Di(o,c.Jl));for(let c=t.length;c--;){const u=t[c];o.fillText(u.Jl,a,u.Pl+l[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const t=[],r=this.Ki.Dt().slice(),i=this.yt.cv(),s=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach(l=>{i.Zn(l)&&r.push(l)});const o=this.Ki.Sl()[0],a=this.Ki;r.forEach(l=>{const c=l.Ks(i,a);c.forEach(u=>{u.$i()&&u.Wi()===null&&(u.Ui(null),t.push(u))}),o===l&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(t,s,e)}ym(e,t,r){if(this.Uv===null)return;const i=e.filter(o=>o.Ei()<=r),s=e.filter(o=>o.Ei()>r);i.sort((o,a)=>a.Ei()-o.Ei()),i.length&&s.length&&s.push(i[0]),s.sort((o,a)=>o.Ei()-a.Ei());for(const o of e){const a=Math.floor(o.$t(t)/2),l=o.Ei();l>-a&&l<a&&o.Ui(a),l>this.Uv.height-a&&l<this.Uv.height+a&&o.Ui(this.Uv.height-a)}K5(i,1,this.Uv.height,t),K5(s,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;const t=this.um(),r=this.lm(),i=this.Jv?"right":"left";t.forEach(s=>{s.qi()&&s.Tt(ve(this.Ki)).nt(e,r,this.qv,i)})}xm(e){if(this.Uv===null||this.Ki===null)return;const t=this.yt.Gv().Qt(),r=[],i=this.yt.cv(),s=t.gd().Ks(i,this.Ki);s.length&&r.push(s);const o=this.lm(),a=this.Jv?"right":"left";r.forEach(l=>{l.forEach(c=>{c.Tt(ve(this.Ki)).nt(e,o,this.qv,a)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return Sy(this.Co.fontSize,this.Co.fontFamily)}}function Dge(n,e){var t;return((t=n.qa)==null?void 0:t.call(n,e))??[]}function Q5(n,e){var t;return((t=n.Ys)==null?void 0:t.call(n,e))??[]}function J5(n,e){var t;return((t=n.ds)==null?void 0:t.call(n,e))??[]}function Age(n,e){var t;return((t=n.Ha)==null?void 0:t.call(n,e))??[]}class UO{constructor(e,t){this.Uv=Yt({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Rn,this.Vm=new Rn,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(r),this.sm=yc(r,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=yc(r,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Zb(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bc(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return ve(this.Nm)}qm(e){var t;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(UO.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Rge(this.Wm,this.Lv),this.Tm.kt()):((t=this.Tm)==null||t.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(ve(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(ve(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const r=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,r)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const t=e.localX,r=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=ve(this.zm),s=i.x+(t-this.Am.x),o=i.y+(r-this.Am.y);this.Zm(s,o,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const r=this.Nm;return r===null?null:mK(r,e,t)}hw(e,t){ve(t==="left"?this.km:this.Pm).dm(Yt({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){nc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=ve(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const r=t.Ft();r!==null&&e.H_(r),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e!==null&&e.drawImage(o,t,r)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=vc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s)}),this.Nm&&(this.lw(i,Dge),this.ow(i),this.lw(i,Q5),this.lw(i,J5)))}this.nm.applySuggestedBitmapSize();const r=vc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this._w(r),this.lw(r,Age),this.lw(r,J5))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const r=t.localX,i=t.localY;e.v()&&e.p(this.ns().Et().wc(r),{x:r,y:i},t)}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.ns(),o=s.$(),a=s.Kd();o===a?Vb(e,0,0,r,i,a):iK(e,0,0,r,i,o,a)}ow(e){const t=ve(this.Nm),r=t.eu().pr().Tt(t);r!==null&&r.nt(e,!1)}_w(e){this.dw(e,Q5,Ev,this.ns().gd())}lw(e,t){const r=ve(this.Nm),i=r.Dt(),s=r.ru();for(const o of s)this.dw(e,t,rP,o);for(const o of i)this.dw(e,t,rP,o);for(const o of s)this.dw(e,t,Ev,o);for(const o of i)this.dw(e,t,Ev,o)}dw(e,t,r,i){const s=ve(this.Nm),o=s.Qt().pd(),a=o!==null&&o.hu===i,l=o!==null&&a&&o.au!==void 0?o.au.ie:void 0;iP(t,c=>r(c,e,a,l),i,s)}jm(){if(this.Nm===null)return;const e=this.Lv,t=this.Nm.U_().N().visible,r=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),r||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();t&&this.km===null&&(this.km=new X5(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),r&&this.Pm===null&&(this.Pm=new X5(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,r){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,r,ve(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,r){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,r);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),r=this.cv();if(t.X_(r,r.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){const i=performance.now(),s=t.Et();this.Om.fe(s.Cc(),i),this.Om.Ec(i)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ve(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const t=this.ns(),r=t.Et();if(r.Gi())return;const i=this.Lv.N(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Np)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Np))return;const a=this.Nm.Rs(),l=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:l,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&o.touch||!e.Np&&o.mouse){const c=r.ul();this.Om=new Oge(.2/c,7/c,.997,15/c),this.Om.Dv(r.Cc(),this.Rm.cf)}else this.Om=null;a.Gi()||t.Z_(this.Nm,a,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(a.Gi()||t.G_(this.Nm,a,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(r.Cc(),l))}}class Z5{constructor(e,t,r,i,s){this.xt=!0,this.Uv=Yt({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=r.Nd,this.Ps=t,this.ww=i,this.gw=s,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=yc(this.Jp,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){nc(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=vc(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)})}nv(){return this.sm.bitmapSize}ev(e,t,r){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,t,r)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*r),o=Math.floor(this.hd.N().S*i),a=this.Jv?t.width-s:0;e.fillRect(a,0,s,o)}wm({context:e,bitmapSize:t}){Vb(e,0,0,t.width,t.height,this.gw())}}function WO(n){return e=>{var t;return((t=e.Ka)==null?void 0:t.call(e,n))??[]}}const Nge=WO("normal"),Lge=WO("top"),Fge=WO("bottom");class $ge{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Yt({width:0,height:0}),this.xw=new Rn,this.qv=new ky(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=yc(this.kw,Yt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=yc(this.kw,Yt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Zb(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,r){nc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Yt({width:t,height:e.height})),this.bw!==null&&this.bw.dm(Yt({width:r,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}pm(e){if(e===0)return;const t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=vc(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s),this.Aw(i,Fge)}),this.bm(i),this.Aw(i,Nge)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const r=vc(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],r),this.Aw(r,Lge))}Aw(e,t){const r=this.Lv.Qt().tn();for(const i of r)iP(t,s=>rP(s,e,!1,void 0),i,void 0);for(const i of r)iP(t,s=>Ev(s,e,!1,void 0),i,void 0)}wm({context:e,bitmapSize:t}){Vb(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:r}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*r));e.fillRect(0,0,t.width,i)}}bm(e){const t=this.Lv.Qt().Et(),r=t.Vl();if(!r||r.length===0)return;const i=this.cu.maxTickMarkWeight(r),s=this.Bw(),o=t.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.strokeStyle=this.zw(),a.fillStyle=this.zw();const u=Math.max(1,Math.floor(l)),h=Math.floor(.5*l);a.beginPath();const d=Math.round(s.C*c);for(let f=r.length;f--;){const m=Math.round(r[f].coord*l);a.rect(m-h,0,u,d)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.S+s.C+s.A+s.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this._m();for(const c of r)if(c.weight<i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}this.Lv.N().timeScale.allowBoldLabels&&(a.font=this.Nw());for(const c of r)if(c.weight>=i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}})}Ow(e,t,r){const i=this.qv.Ii(e,r),s=i/2,o=Math.floor(t-s)+.5;return o<0?t+=Math.abs(0-o):o+i>this.Uv.width&&(t-=Math.abs(this.Uv.width-(o+i))),t}Lw(e,t){const r=this.Bw();for(const i of e)for(const s of i.fs())s.Tt().nt(t,r)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return Sy(this.F(),this.Ps.fontFamily)}Nw(){return Sy(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new ky,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const r=this.F();e.k=r,e.P=t,e.A=3*r/12,e.I=3*r/12,e.ts=9*r/12,e.L=0,e.Ew=4*r/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const r={Nd:this.Lv.Qt().Nd()},i=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,s=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new Z5("left",t,r,i,s),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new Z5("right",t,r,i,s),this.yw.appendChild(this.bw.iv()))}}var GU;const jge=!!Wh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!Wh&&((GU=navigator==null?void 0:navigator.userAgentData)!=null&&GU.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Bge{constructor(e,t,r){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Rn,this.Vm=new Rn,this.nd=new Rn,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=r,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),B1(this.Ps)&&this.Jw(!0),this.ns=new kge(this.rd.bind(this),this.Ps,r),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new $ge(this,this.cu),this.Zw.appendChild(this.tg.iv());const s=t.autoSize&&this.ig();let o=this.Ps.width,a=this.Ps.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this.sg(o,a),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],ve(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,r=!1){if(this.eo===t&&this.S_===e)return;const i=function(a){const l=Math.floor(a.width),c=Math.floor(a.height);return Yt({width:l-l%2,height:c-c%2})}(Yt({width:e,height:t}));this.eo=i.height,this.S_=i.width;const s=this.eo+"px",o=this.S_+"px";ve(this.Vv).style.height=s,ve(this.Vv).style.width=o,this.Zw.style.height=s,this.Zw.style.width=o,r?this.lg(rr.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=rr.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const t=B1(this.Ps);this.ns.cr(e);const r=B1(this.Ps);r!==t&&this.Jw(r),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),r=document.createElement("canvas");r.width=t.width,r.height=t.height;const i=ve(r.getContext("2d"));return this.cg(i,e),r}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:ve(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return Zr(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let r=0,i=0;const s=this.Fw[0],o=(l,c)=>{let u=0;for(let h=0;h<this.Fw.length;h++){const d=this.Fw[h],f=ve(l==="left"?d.uw():d.cw()),m=f.nv();if(e!==null&&f.ev(e,c,u,t),u+=m.height,h<this.Fw.length-1){const g=this.Ww[h],v=g.nv();e!==null&&g.ev(e,c,u),u+=v.height}}};this.fg()&&(o("left",0),r+=ve(s.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const c=this.Fw[l],u=c.nv();if(e!==null&&c.ev(e,r,i,t),i+=u.height,l<this.Fw.length-1){const h=this.Ww[l],d=h.nv();e!==null&&h.ev(e,r,i),i+=d.height}}r+=s.nv().width,this.pg()&&(o("right",r),r+=ve(s.cw()).nv().width);const a=(l,c,u)=>{ve(l==="left"?this.tg.Tw():this.tg.Rw()).ev(ve(e),c,u)};if(this.Ps.timeScale.visible){const l=this.tg.nv();if(e!==null){let c=0;this.fg()&&(a("left",c,i),c=ve(s.uw()).nv().width),this.tg.ev(e,c,i,t),c+=l.width,this.pg()&&a("right",c,i)}i+=l.height}return Yt({width:r,height:i})}Mg(){let e=0,t=0,r=0;for(const v of this.Fw)this.fg()&&(t=Math.max(t,ve(v.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(r=Math.max(r,ve(v.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=v.E_();t=nP(t),r=nP(r);const i=this.S_,s=this.eo,o=Math.max(i-t-r,0),a=1*this.Ww.length,l=this.Ps.timeScale.visible;let c=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var u;c=(u=c)+u%2;const h=a+c,d=s<h?0:s-h,f=d/e;let m=0;const g=window.devicePixelRatio||1;for(let v=0;v<this.Fw.length;++v){const y=this.Fw[v];y.qm(this.ns.Xs()[v]);let b=0,w=0;w=v===this.Fw.length-1?Math.ceil((d-m)*g)/g:Math.round(y.E_()*f*g)/g,b=Math.max(w,2),m+=b,y.dm(Yt({width:o,height:b})),this.fg()&&y.hw(t,"left"),this.pg()&&y.hw(r,"right"),y.cv()&&this.ns.bd(y.cv(),b)}this.tg.Iw(Yt({width:l?o:0,height:c}),l?t:0,l?r:0),this.ns.L_(o),this.Uw!==t&&(this.Uw=t),this.$w!==r&&(this.$w=r)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return jge?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),r=t*e.deltaX/100,i=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(o,s)}r!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*r)}lg(e,t){var i;const r=e._n();r===3&&this.Sg(),r!==3&&r!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach(s=>{s.Ym()}),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const r of e.bn())this.xn(r,t)}xg(e){const t=this.ns.Xs();for(let r=0;r<t.length;r++)e.un(r).ln&&t[r].tu()}xn(e,t){const r=this.ns.Et();switch(e.fn){case 0:r.Fc();break;case 1:r.Wc(e.Wt);break;case 2:r.gn(e.Wt);break;case 3:r.Mn(e.Wt);break;case 4:r.Pc();break;case 5:e.Wt.Ec(t)||r.Mn(e.Wt.Ac(t))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(t=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const r=this.qw;this.qw=null,this.lg(r,t);for(const i of r.bn())if(i.fn===5&&!i.Wt.Ec(t)){this.Qt().vn(i.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,r=this.Fw.length;for(let i=t;i<r;i++){const s=Zr(this.Fw.pop());this.Zw.removeChild(s.iv()),s.nw().u(this),s.ew().u(this),s.m();const o=this.Ww.pop();o!==void 0&&this.hg(o)}for(let i=r;i<t;i++){const s=new UO(this,e[i]);if(s.nw().i(this.yg.bind(this,s),this),s.ew().i(this.kg.bind(this,s),this),this.Fw.push(s),i>0){const o=new Ige(this,i-1,i);this.Ww.push(o),this.Zw.insertBefore(o.iv(),this.tg.iv())}this.Zw.insertBefore(s.iv(),this.tg.iv())}for(let i=0;i<t;i++){const s=e[i],o=this.Fw[i];o.cv()!==s?o.qm(s):o.$m()}this.eg(),this.Mg()}Pg(e,t,r,i){var h;const s=new Map;e!==null&&this.ns.tn().forEach(d=>{const f=d.qs().$s(e);f!==null&&s.set(d,f)});let o;if(e!==null){const d=(h=this.ns.Et().es(e))==null?void 0:h.originalTime;d!==void 0&&(o=d)}const a=this.Qt().pd(),l=a!==null&&a.hu instanceof Jb?a.hu:void 0,c=a!==null&&a.au!==void 0?a.au.te:void 0,u=this.Tg(i);return{Gr:o,js:e??void 0,Rg:t??void 0,Dg:u!==-1?u:void 0,Ig:l,Vg:s,Bg:c,Eg:r??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const r=this.Qt().gd().Gs();r!==null&&(t=this.Qt().Xs().indexOf(r))}return t}yg(e,t,r,i){this.Im.p(()=>this.Pg(t,r,i,e))}kg(e,t,r,i){this.Vm.p(()=>this.Pg(t,r,i,e))}Qw(e,t,r){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p(()=>this.Pg(e,t,r))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function B1(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function zge(n){return n.open===void 0&&n.value===void 0}function qge(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function e4(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.color!==void 0&&(s.R=t.color),s}function Uge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.lineColor!==void 0&&(s.vt=t.lineColor),t.topColor!==void 0&&(s.eh=t.topColor),t.bottomColor!==void 0&&(s.rh=t.bottomColor),s}function Wge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.topLineColor!==void 0&&(s.hh=t.topLineColor),t.bottomLineColor!==void 0&&(s.ah=t.bottomLineColor),t.topFillColor1!==void 0&&(s.oh=t.topFillColor1),t.topFillColor2!==void 0&&(s._h=t.topFillColor2),t.bottomFillColor1!==void 0&&(s.uh=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(s.dh=t.bottomFillColor2),s}function Hge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),i}function Yge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),t.borderColor!==void 0&&(i.Ht=t.borderColor),t.wickColor!==void 0&&(i.nh=t.wickColor),i}function Gge(n,e,t,r,i){const s=Zr(i)(t),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],c=[l,o,a,l],{time:u,color:h,...d}=t;return{js:e,wt:n,Wt:c,Gr:r,le:d,R:h}}function au(n){return n.Wt!==void 0}function t4(n,e){return e.customValues!==void 0&&(n.Ag=e.customValues),n}function vl(n){return(e,t,r,i,s,o)=>function(a,l){return l?l(a):zge(a)}(r,o)?t4({wt:e,js:t,Gr:i},r):t4(n(e,t,r,i,s),r)}function n4(n){return{Candlestick:vl(Yge),Bar:vl(Hge),Area:vl(Uge),Baseline:vl(Wge),Histogram:vl(e4),Line:vl(e4),Custom:vl(Gge)}[n]}function r4(n){return{js:0,Lg:new Map,Ea:n}}function i4(n,e){if(n!==void 0&&n.length!==0)return{zg:e.key(n[0].wt),Og:e.key(n[n.length-1].wt)}}function s4(n){let e;return n.forEach(t=>{e===void 0&&(e=t.Gr)}),Zr(e)}class Vge{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let r=this.Ng.size!==0,i=!1;const s=this.Fg.get(e);if(s!==void 0)if(this.Fg.size===1)r=!1,i=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(e)&&(i=!0);let o=[];if(t.length!==0){const l=t.map(f=>f.time),c=this.cu.createConverterToInternalObj(t),u=n4(e.wh()),h=e.rl(),d=e.hl();o=t.map((f,m)=>{const g=c(f.time),v=this.cu.key(g);let y=this.Ng.get(v);y===void 0&&(y=r4(g),this.Ng.set(v,y),i=!0);const b=u(g,y.js,f,l[m],h,d);return y.Lg.set(e,b),b})}r&&this.$g(),this.qg(e,o);let a=-1;if(i){const l=[];this.Ng.forEach(c=>{l.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:s4(c.Lg)})}),l.sort((c,u)=>this.cu.key(c.time)-this.cu.key(u.time)),a=this.jg(l)}return this.Yg(e,a,function(l,c,u){const h=i4(l,u),d=i4(c,u);if(h!==void 0&&d!==void 0)return{Kg:!1,Ta:h.Og>=d.Og&&h.zg>=d.zg}}(this.Fg.get(e),s,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,r){if(r&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=t;(function(y){y.Gr===void 0&&(y.Gr=y.time)})(i),this.cu.preprocessData(t);const s=this.cu.createConverterToInternalObj([t])(t.time),o=this.Wg.get(e);if(!r&&o!==void 0&&this.cu.key(s)<this.cu.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let a=this.Ng.get(this.cu.key(s));if(r&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=a===void 0;a===void 0&&(a=r4(s),this.Ng.set(this.cu.key(s),a));const c=n4(e.wh()),u=e.rl(),h=e.hl(),d=c(s,a.js,t,i.Gr,u,h),f=!r&&!l&&o!==void 0&&this.cu.key(s)===this.cu.key(o);a.Lg.set(e,d),r?this.Gg(e,d,a.js):f&&e.La()&&au(d)?(e.kr(d),this.Xg(e,d)):this.Xg(e,d);const m={Ta:au(d),Kg:r};if(!l)return this.Yg(e,-1,m);const g={timeWeight:0,time:a.Ea,pointData:a,originalTime:s4(a.Lg)},v=Uh(this.Hg,this.cu.key(g.time),(y,b)=>this.cu.key(y.time)<b);this.Hg.splice(v,0,g);for(let y=v;y<this.Hg.length;++y)A0(this.Hg[y].pointData,y);return this.cu.fillWeightsForPoints(this.Hg,v),this.Yg(e,v,m)}Jg(e,t){const r=this.Fg.get(e);if(r===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,r.length);const i=r.splice(-t).reverse();r.length===0?this.Wg.delete(e):this.Wg.set(e,r[r.length-1].wt);for(const s of i){const o=this.Ng.get(this.cu.key(s.wt));if(o&&(o.Lg.delete(e),o.Lg.size===0)){this.Ng.delete(this.cu.key(o.Ea)),this.Hg.splice(o.js,1);for(let a=o.js;a<this.Hg.length;++a)A0(this.Hg[a].pointData,a)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let r=this.Fg.get(e);r===void 0&&(r=[],this.Fg.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.cu.key(t.wt)>this.cu.key(i.wt)?au(t)&&r.push(t):au(t)?r[r.length-1]=t:r.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,r){const i=this.Fg.get(e);if(i===void 0)return;const s=Uh(i,r,(o,a)=>o.js<a);au(t)?i[s]=t:i.splice(s,1)}qg(e,t){t.length!==0?(this.Fg.set(e,t.filter(au)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let r=0;r<this.Hg.length&&r<e.length;++r){const i=this.Hg[r],s=e[r];if(this.cu.key(i.time)!==this.cu.key(s.time)){t=r;break}s.timeWeight=i.timeWeight,A0(s.pointData,r)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let r=t;r<e.length;++r)A0(e[r].pointData,r);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))}),e}Yg(e,t,r){const i=this.Qg();if(t!==-1)this.Fg.forEach((s,o)=>{i.F_.set(o,{le:s,iM:o===e?r:void 0})}),this.Fg.has(e)||i.F_.set(e,{le:[],iM:r}),i.Et.sM=this.Hg,i.Et.nM=t;else{const s=this.Fg.get(e);i.F_.set(e,{le:s||[],iM:r})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function A0(n,e){n.js=e,n.Lg.forEach(t=>{t.js=e})}function Kge(n,e){return n.wt<e}function Xge(n,e){return e<n.wt}function Qge(n,e,t){const r=e.Aa(),i=e.bi(),s=Uh(n,r,Kge),o=hK(n,i,Xge);if(!t)return{from:s,to:o};let a=s,l=o;return s>0&&s<n.length&&n[s].wt>=r&&(a=s-1),o>0&&o<n.length&&n[o-1].wt<=i&&(l=o+1),{from:a,to:l}}class Jge{constructor(e,t,r){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=r}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const r=t.Ie();if(r===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=Qge(this.aM,r,this._M),this.mM(e,t,i.Wt),this.wM())}}class Zge{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,r){this.gM.draw(e,this.Ki,t,r)}}class e0e extends Jge{constructor(e,t,r){super(e,t,!1),this.$h=r,this.cM=new Zge(this.$h.renderer(),i=>{const s=e.Lt();return s===null?null:e.Ft().Nt(i,s.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le}))}mM(e,t){t.mc(this.aM,bme(this.lM))}wM(){this.$h.update({bars:this.aM.map(t0e),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function t0e(n){return{x:n._t,time:n.wt,originalData:n.MM,barColor:n.th}}const n0e={color:"#2196f3"},r0e=(n,e,t)=>{const r=Aa(t);return new e0e(n,e,r)};function HO(n){const e={value:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function o4(n){const e=HO(n);return n.R!==void 0&&(e.color=n.R),e}function i0e(n){const e=HO(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.eh!==void 0&&(e.topColor=n.eh),n.rh!==void 0&&(e.bottomColor=n.rh),e}function s0e(n){const e=HO(n);return n.hh!==void 0&&(e.topLineColor=n.hh),n.ah!==void 0&&(e.bottomLineColor=n.ah),n.oh!==void 0&&(e.topFillColor1=n.oh),n._h!==void 0&&(e.topFillColor2=n._h),n.uh!==void 0&&(e.bottomFillColor1=n.uh),n.dh!==void 0&&(e.bottomFillColor2=n.dh),e}function bK(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function o0e(n){const e=bK(n);return n.R!==void 0&&(e.color=n.R),e}function a0e(n){const e=bK(n),{R:t,Ht:r,nh:i}=n;return t!==void 0&&(e.color=t),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Tv(n){return{Area:i0e,Line:o4,Baseline:s0e,Histogram:o4,Bar:o0e,Candlestick:a0e,Custom:l0e}[n]}function l0e(n){const e=n.Gr;return{...n.le,time:e}}const c0e={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},u0e={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},h0e={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:rK,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},z1={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},d0e={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function a4(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:h0e,crosshair:c0e,grid:u0e,overlayPriceScales:{...z1},leftPriceScale:{...z1,visible:!1},rightPriceScale:{...z1,visible:!0},timeScale:d0e,localization:{locale:Wh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class xK{constructor(e,t,r){this.Yp=e,this.bM=t,this.SM=r??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Xb(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Dr(e.from,e.to))}getVisibleRange(){let e,t,r=this.Ki().er();if(r===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),s=gK(i);r=Ru(r,this.Ki().no()),e=Number((Math.round(r.Ze()/i)*i).toFixed(s)),t=Number((Math.round(r.Ge()/i)*i).toFixed(s))}else e=r.Ze(),t=r.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return ve(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class f0e{constructor(e,t,r,i){this.Yp=e,this.yt=r,this.xM=t,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),r=t.Gd(this.yt);t.xd(r,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(ir(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new xK(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},r=0){return this.CM.addCustomSeries(e,t,r)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const p0e={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class l4{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class m0e{constructor(e,t,r,i,s,o){this.kM=new Rn,this.ee=e,this.PM=t,this.TM=r,this.cu=s,this.CM=i,this.RM=o}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;const t=new Yu(new op(e.from,e.to)).Ru(),r=this.ee.qs();if(r.Gi())return null;const i=r.$s(t.Aa(),1),s=r.$s(t.bi(),-1),o=ve(r.kh()),a=ve(r.sn());if(i!==null&&s!==null&&i.js>s.js)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.js===o?e.from-o:i.js-o,barsAfter:s===null||s.js===a?a-e.to:a-s.js};return i!==null&&s!==null&&(l.from=i.Gr,l.to=s.Gr),l}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);t.length!==0&&this.IM("update");const r=Tv(this.seriesType());return t.map(i=>r(i))}dataByIndex(e,t){const r=this.ee.qs().$s(e,t);return r===null?null:Tv(this.seriesType())(r)}data(){const e=Tv(this.seriesType());return this.ee.qs().Dh().map(t=>e(t))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Oo(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=yi(Oo(p0e),e),r=this.ee.Da(t);return new l4(r)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new l4(e))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=ve(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class g0e{constructor(e,t,r){this.EM=new Rn,this.Nu=new Rn,this.xw=new Rn,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=r}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},r=this.Jh.cc(t);this.ns.$d(r)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){ir(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const r=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(r,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),r=t.wc(e),i=t.es(r);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Oo(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function c4(n){return function(e){if(T0(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;T0(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),T0(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const t=e.handleScroll;T0(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(n),n}class v0e{constructor(e,t,r){this.OM=new Map,this.NM=new Map,this.FM=new Rn,this.WM=new Rn,this.HM=new Rn,this.Xc=new WeakMap,this.UM=new Vge(t);const i=r===void 0?Oo(a4()):yi(Oo(a4()),c4(r));this.$M=t,this.Yp=new Bge(e,i,t),this.Yp.nw().i(o=>{this.FM.v()&&this.FM.p(this.qM(o()))},this),this.Yp.ew().i(o=>{this.WM.v()&&this.WM.p(this.qM(o()))},this),this.Yp.Md().i(o=>{this.HM.v()&&this.HM.p(this.qM(o()))},this);const s=this.Yp.Qt();this.jM=new g0e(s,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,r){this.autoSizeActive()||this.Yp.sg(e,t,r)}addCustomSeries(e,t={},r=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...n0e,...s.defaultOptions()},YM:r0e,KM:s}))(Aa(e));return this.ZM(i,t,r)}addSeries(e,t={},r=0){return this.ZM(e,t,r)}removeSeries(e){const t=Zr(this.OM.get(e)),r=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(r),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,r){this.GM(this.UM.Zg(e,t,r))}BM(e,t){const[r,i]=this.UM.Jg(e,t);return r.length!==0&&this.GM(i),r}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new xK(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(c4(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let r,i;try{t||(r=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{t||r===void 0||this.Yp.Qt().cr({crosshair:{mode:r}})}return i}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,r){const i=this.OM.get(r);if(i===void 0)return;const s=this.Yp.Qt().Kn(i);s!==null&&this.Yp.Qt().Ld(e,t,s)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},r=0){ir(e.YM!==void 0),function(l){if(l===void 0||l.type==="custom")return;const c=l;c.minMove!==void 0&&c.precision===void 0&&(c.precision=gK(c.minMove))}(t.priceFormat),e.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(t);const i=yi(Oo(tK),Oo(e.defaultOptions),t),s=e.YM,o=new Jb(this.Yp.Qt(),e.type,i,s,e.KM);this.Yp.Qt().Fd(o,r);const a=new m0e(o,this,this,this,this.$M,l=>this.XM(l));return this.OM.set(a,o),this.NM.set(o,a),a}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((r,i)=>i.ht(r.le,r.iM)),t.Et().Ju(),t.Sc()}JM(e){return Zr(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach((i,s)=>{const o=s.wh(),a=Tv(o)(i);if(o!=="Custom")ir(qge(a));else{const l=s.hl();ir(!l||l(a)===!1)}t.set(this.JM(s),a)});const r=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:r,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new f0e(this.Yp,r=>this.JM(r),e,this),this.Xc.set(e,t)),t}}function y0e(n){if(Km(n)){const e=document.getElementById(n);return ir(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function b0e(n,e,t){const r=y0e(n),i=new v0e(r,e,t);return e.setOptions(i.options()),i}function x0e(n,e){return b0e(n,new Y5,Y5.pf(e))}({...tK});const w0e=M.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:t=500,showVolume:r=!0},i)=>{const s=M.useRef(null),o=M.useRef(null),a=M.useRef(null),l=M.useRef(null),[c,u]=M.useState(null),h=g=>{if(g==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof g=="number")return isNaN(g)||!isFinite(g)||g<0?(console.warn("[KlineChart] Invalid price number:",g),0):g;if(typeof g=="string"){if(g.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const v=An(g);return isNaN(v)||!isFinite(v)||v<0?(console.warn("[KlineChart] Invalid price after conversion:",g,"->",v),0):v}catch(v){return console.error("[KlineChart] Error parsing price:",g,v),0}}return console.warn("[KlineChart] Invalid price type:",typeof g,g),0},d=g=>{if(g.open===void 0||g.open===null||g.high===void 0||g.high===null||g.low===void 0||g.low===null||g.close===void 0||g.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",g),null;const v=Math.floor((g.open_time||g.close_time||Date.now())/1e3),y=h(g.open),b=h(g.high),w=h(g.low),S=h(g.close);if(y<=0||b<=0||w<=0||S<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:g,parsed:{open:y,high:b,low:w,close:S}}),null;const _=Math.max(y,b,w,S),k=Math.min(y,b,w,S);return(b!==_||w!==k)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:b,low:w},corrected:{high:_,low:k}}),{time:v,open:y,high:_,low:k,close:S}},f=g=>{if(!g.volume)return null;const v=Math.floor((g.open_time||g.close_time||Date.now())/1e3);let y;if(typeof g.volume=="number"){if(isNaN(g.volume)||!isFinite(g.volume)||g.volume<0)return console.warn("[KlineChart] Invalid volume number:",g.volume),null;y=g.volume}else if(typeof g.volume=="string"&&g.volume.trim()!=="")try{if(y=An(g.volume),isNaN(y)||!isFinite(y)||y<0)return console.warn("[KlineChart] Invalid volume after conversion:",g.volume,"->",y),null}catch(_){return console.error("[KlineChart] Error converting volume from satoshi:",g.volume,_),null}else return console.warn("[KlineChart] Invalid volume type:",typeof g.volume,g.volume),null;const b=h(g.close),w=h(g.open);if(b<=0||w<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:w,close:b}),null;const S=b>=w;return{time:v,value:y,color:S?"#26a69a80":"#ef535080"}},m=g=>{if(!a.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!g||typeof g!="object"){console.warn("[KlineChart] Invalid kline update data:",g);return}try{const v=d(g);if(!v){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const y=r?f(g):null;a.current.update(v),u(v.close),r&&l.current&&y&&l.current.update(y)}catch(v){console.error("[KlineChart] Error updating chart:",v)}};return M.useImperativeHandle(i,()=>({updateChart:m})),M.useEffect(()=>{if(!s.current)return;if(o.current){try{o.current.remove()}catch(w){console.warn("[KlineChart] Error removing existing chart:",w)}o.current=null,a.current=null,l.current=null}let g=null,v=null,y=null;const b=()=>{if(!s.current)return;const w=s.current,S=w.clientWidth||w.offsetWidth,_=t||500;if(!S||S<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:w.clientWidth,offsetWidth:w.offsetWidth}),v=requestAnimationFrame(b);return}if(_<=0){console.warn("[KlineChart] Invalid height:",_);return}let k,E=null;try{g=x0e(w,{width:S,height:_,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof g.addCandlestickSeries=="function"?k=g.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):k=g.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),r&&(typeof g.addHistogramSeries=="function"?E=g.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):E=g.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(C){console.error("[KlineChart] Error creating chart or series:",C);return}if(n.length>0&&k)try{k.setData(n),u(n[n.length-1].close)}catch(C){console.error("[KlineChart] Error setting initial data:",C)}o.current=g,a.current=k,l.current=E,y=()=>{if(s.current&&o.current){const C=s.current.clientWidth||s.current.offsetWidth;C>0&&o.current.applyOptions({width:C})}},window.addEventListener("resize",y)};return b(),()=>{if(v!==null&&cancelAnimationFrame(v),y&&window.removeEventListener("resize",y),g)try{g.remove()}catch(w){console.error("[KlineChart] Error removing chart:",w)}o.current=null,a.current=null,l.current=null}},[t,r]),M.useEffect(()=>{if(a.current&&n.length>0)try{a.current.setData(n),u(n[n.length-1].close)}catch(g){console.error("[KlineChart] Error setting initial data:",g)}},[n]),P.jsxs("div",{style:{position:"relative",width:"100%"},children:[P.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:P.jsxs("span",{children:[e," Live Kline Chart",c!==null&&` - Current: $${c.toFixed(2)}`]})}),P.jsx("div",{ref:s,style:{position:"relative",width:"100%"}})]})});w0e.displayName="KlineChart";function wK(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function _0e(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}wK();const t=document.createElement("script");t.id="tradingview-widget-script",t.src=Mue,t.async=!0,t.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},t.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(t)})}function S0e(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function k0e(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function C0e({symbol:n=Eue,interval:e=Tue,isCollapsed:t=!1,className:r=""}){const i=M.useRef(null),s=M.useRef(null),o=M.useRef(k0e());return M.useEffect(()=>{if(t||!i.current)return;i.current&&(i.current.id=o.current);let a=!0;return _0e().then(()=>{if(!a||!i.current)return;const l={symbol:n,interval:e,containerId:o.current};s.current=S0e(l)}).catch(l=>{console.error("Failed to load TradingView widget:",l)}),()=>{a=!1,s.current&&(s.current=null)}},[n,e,t]),M.useEffect(()=>()=>{wK()},[]),t?P.jsx("div",{className:`tradingview-widget-container ${r}`}):P.jsx("div",{className:`tradingview-widget-wrapper ${r}`,children:P.jsx("div",{ref:i,id:o.current,className:"tradingview-widget-container"})})}const Sr={baseURL:"https://router.morpheum.io",wsURL:"wss://router.morpheum.io/websocket",layoutConfig:sme,compactType:"vertical",allStatic:!0,orderbookEnhancement:{enabled:!0,jitter:iV,fakePending:{maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3}},orderbookMaxDepth:20,tradingViewSymbol:"BINANCE:BTCUSDT",tradingViewInterval:"5"},E0e=30,T0e=10,M0e=12;function P0e(){var he;const[n,e]=M.useState("--"),[t,r]=M.useState(void 0),[i,s]=M.useState(!1),[o,a]=M.useState(10),[l,c]=M.useState(!1),[u,h]=M.useState(0),[d,f]=M.useState(0),m=M.useRef(null),g=M.useRef(null),[v,y]=M.useState("lg"),[b,w]=M.useState(!1),S=M.useRef(!1),_=M.useRef([]),k=M.useMemo(()=>np(Sr.layoutConfig),[]),[E,C]=M.useState(()=>np(Sr.layoutConfig));M.useEffect(()=>{C(k),_.current=k,w(!1),S.current=!1},[k]);const[O,R]=M.useState(()=>localStorage.getItem("authToken")||""),{markets:D,selectedMarketId:F,loadingMarkets:N,getError:W}=pd({baseURL:Sr.baseURL,sessionToken:O,autoFetchMarkets:!0}),{toggleEnabled:j}=tp(),{mnemonic:$,walletAddress:z,authToken:B,setMnemonic:q}=ade();M.useEffect(()=>{$||q(WM)},[$,q]),M.useEffect(()=>{_.current=E},[E]),M.useEffect(()=>{B&&(R(B),localStorage.setItem("authToken",B))},[B]);const{setAuthToken:U,setWalletAddress:V}=tp();M.useEffect(()=>{U(O||void 0)},[O,U]),M.useEffect(()=>{V(z||void 0)},[z,V]);const K=M.useRef(!1);M.useEffect(()=>{O&&O.trim()!==""&&!K.current&&localStorage.getItem("authToken")!==O&&localStorage.setItem("authToken",O),K.current=!1},[O]),M.useEffect(()=>{const J=ye=>{ye.key==="authToken"&&ye.newValue&&(K.current=!0,R(ye.newValue))};window.addEventListener("storage",J);const ne=setInterval(()=>{const ye=localStorage.getItem("authToken");R(oe=>ye&&ye!==oe?(K.current=!0,ye):oe)},5e3);return()=>{window.removeEventListener("storage",J),clearInterval(ne)}},[]);const X=M.useCallback(()=>{w(!0)},[]);M.useEffect(()=>{b&&!N&&D.length>0&&F&&!S.current&&(S.current=!0,setTimeout(()=>{j()},100))},[b,N,D.length,F,j]);const L=M.useCallback((J,ne)=>{},[]);M.useEffect(()=>(document.body.classList.remove("full-width-screen"),()=>document.body.classList.remove("full-width-screen")),[]);const Y=F||"",Q=M.useMemo(()=>{if(E.length===0)return{};const J={};for(let ne=0;ne<=8;ne++){const ye=E.find(oe=>oe.i===ne.toString());if(ye){const oe=ye,be=oe.h*E0e+(oe.h-1)*T0e,xe=oe.w/M0e*100;J[ne]={width:`${xe}%`,height:`${be}px`}}}return J},[E]);M.useCallback(async()=>{try{const ne=`[
${E.slice().sort((ye,oe)=>{const be=ye,xe=oe,Me=parseInt(be.i,10),we=parseInt(xe.i,10);return Me-we}).map(ye=>{const oe=ye;return`  [${oe.x}, ${oe.y}, ${oe.w}, ${oe.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(ne),alert("Layout matrix copied to clipboard!")}catch(J){console.error("Failed to copy layout matrix:",J),alert("Failed to copy layout matrix to clipboard")}},[E]),M.useMemo(()=>E.map(function(J){const ne=J;return P.jsxs("div",{className:"layoutItem",children:[P.jsx("b",{children:ne.i}),": [",ne.x,", ",ne.y,", ",ne.w,", ",ne.h,"]"]},ne.i)}),[E]);const ee=M.useCallback(J=>{g.current&&g.current.setPrice(J)},[]),{client:te}=tp(),re=M.useMemo(()=>{var J,ne;return[P.jsx(Nde,{baseURL:Sr.baseURL,selectedMarketId:Y,height:(J=Q[0])==null?void 0:J.height},`ticker-${Y}`),P.jsx(C0e,{symbol:Sr.tradingViewSymbol,interval:Sr.tradingViewInterval,isCollapsed:!1},"tv"),P.jsx(qde,{baseURL:Sr.baseURL,subscriptionClient:te,marketId:Y,maxDepth:Sr.orderbookMaxDepth,height:(ne=Q[2])==null?void 0:ne.height,onPriceClick:ee,enhancementConfig:Sr.orderbookEnhancement},`clobx-${Y}`),P.jsx($de,{baseURL:Sr.baseURL,subscriptionClient:te,marketId:Y},`price-${Y}`),P.jsx(Lde,{ref:g,baseURL:Sr.baseURL,mnemonic:$??WM,marketId:Y,selectedBucketBalance:t,selectedBucketId:n,authToken:O,walletAddress:z??"",onLeverageClick:()=>{g.current&&a(g.current.leverage),s(!0)},onNumberCalculatorClick:()=>{g.current&&(h(g.current.getSizeInput()),f(g.current.getAvailableTradeAmount()),c(!0))}},`trade-${Y}`),P.jsx(Rde,{baseURL:Sr.baseURL,subscriptionClient:te,authToken:O,walletAddress:z,mnemonic:$,height:"400px",onBucketSelect:ye=>e(ye),selectedBucketId:n})]},[Y,Q,n,t,ee,te,$,O,z]);if(N)return P.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:P.jsx("div",{children:"Loading markets..."})});const ae=W("markets");return ae?P.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:P.jsxs("div",{children:["Error loading markets: ",ae]})}):D.length===0||!F?P.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:P.jsx("div",{children:"No markets available."})}):P.jsxs("div",{className:"App-content-row",children:[!1,P.jsx(eK,{ref:m,onLayoutChange:L,onBreakpointChange:y,slotContent:re,compactType:Sr.compactType,allStatic:Sr.allStatic,onCompactTypeChange:()=>{},onToggleStatic:()=>{},onNewLayout:()=>{},initialLayout:k,onMount:X}),P.jsx(wde,{isOpen:i,currentLeverage:((he=g.current)==null?void 0:he.leverage)??10,tempLeverage:o,maxRatio:g.current?g.current.calculateMaxRatio(o):o.toFixed(2),onLeverageChange:a,onConfirm:async()=>{if(!n||n==="--"||n.trim()===""){tt.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(g.current){s(!1);try{await g.current.changeLeverage(o,{bucketId:n})}catch{g.current&&a(g.current.leverage)}}else s(!1)},onCancel:()=>{g.current&&a(g.current.leverage),s(!1)}}),P.jsx(cV,{isOpen:l,value:u,min:0,max:d,onConfirm:J=>{g.current&&g.current.setSizeInput(J),c(!1)},onCancel:()=>c(!1)})]})}function I0e(){return P.jsx(Dde,{defaultWsURL:Sr.wsURL,children:P.jsx(P0e,{})})}var O0e={value:()=>{}};function _K(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Mv(t)}function Mv(n){this._=n}function R0e(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Mv.prototype=_K.prototype={constructor:Mv,on:function(n,e){var t=this._,r=R0e(n+"",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=D0e(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=u4(t[i],n.name,e);else if(e==null)for(i in t)t[i]=u4(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Mv(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function D0e(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function u4(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=O0e,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var sP="http://www.w3.org/1999/xhtml";const h4={svg:"http://www.w3.org/2000/svg",xhtml:sP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ex(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),h4.hasOwnProperty(e)?{space:h4[e],local:n}:n}function A0e(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===sP&&e.documentElement.namespaceURI===sP?e.createElement(n):e.createElementNS(t,n)}}function N0e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function SK(n){var e=ex(n);return(e.local?N0e:A0e)(e)}function L0e(){}function YO(n){return n==null?L0e:function(){return this.querySelector(n)}}function F0e(n){typeof n!="function"&&(n=YO(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new bs(r,this._parents)}function $0e(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function j0e(){return[]}function kK(n){return n==null?j0e:function(){return this.querySelectorAll(n)}}function B0e(n){return function(){return $0e(n.apply(this,arguments))}}function z0e(n){typeof n=="function"?n=B0e(n):n=kK(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(n.call(l,l.__data__,c,o)),i.push(l));return new bs(r,i)}function CK(n){return function(){return this.matches(n)}}function EK(n){return function(e){return e.matches(n)}}var q0e=Array.prototype.find;function U0e(n){return function(){return q0e.call(this.children,n)}}function W0e(){return this.firstElementChild}function H0e(n){return this.select(n==null?W0e:U0e(typeof n=="function"?n:EK(n)))}var Y0e=Array.prototype.filter;function G0e(){return Array.from(this.children)}function V0e(n){return function(){return Y0e.call(this.children,n)}}function K0e(n){return this.selectAll(n==null?G0e:V0e(typeof n=="function"?n:EK(n)))}function X0e(n){typeof n!="function"&&(n=CK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new bs(r,this._parents)}function TK(n){return new Array(n.length)}function Q0e(){return new bs(this._enter||this._groups.map(TK),this._parents)}function My(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}My.prototype={constructor:My,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function J0e(n){return function(){return n}}function Z0e(n,e,t,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new My(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function eve(n,e,t,r,i,s,o){var a,l,c=new Map,u=e.length,h=s.length,d=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(d[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?i[a]=l:c.set(f,l));for(a=0;a<h;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(r[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new My(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(d[a])===l&&(i[a]=l)}function tve(n){return n.__data__}function nve(n,e){if(!arguments.length)return Array.from(this,tve);var t=e?eve:Z0e,r=this._parents,i=this._groups;typeof n!="function"&&(n=J0e(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],h=i[c],d=h.length,f=rve(n.call(u,u&&u.__data__,c,r)),m=f.length,g=a[c]=new Array(m),v=o[c]=new Array(m),y=l[c]=new Array(d);t(u,h,g,v,y,f,e);for(var b=0,w=0,S,_;b<m;++b)if(S=g[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<m;);S._next=_||null}}return o=new bs(o,r),o._enter=a,o._exit=l,o}function rve(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ive(){return new bs(this._exit||this._groups.map(TK),this._parents)}function sve(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function ove(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=t[l],u=r[l],h=c.length,d=a[l]=new Array(h),f,m=0;m<h;++m)(f=c[m]||u[m])&&(d[m]=f);for(;l<i;++l)a[l]=t[l];return new bs(a,this._parents)}function ave(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function lve(n){n||(n=cve);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new bs(i,this._parents).order()}function cve(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function uve(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function hve(){return Array.from(this)}function dve(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function fve(){let n=0;for(const e of this)++n;return n}function pve(){return!this.node()}function mve(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,a;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this}function gve(n){return function(){this.removeAttribute(n)}}function vve(n){return function(){this.removeAttributeNS(n.space,n.local)}}function yve(n,e){return function(){this.setAttribute(n,e)}}function bve(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function xve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function wve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function _ve(n,e){var t=ex(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?vve:gve:typeof e=="function"?t.local?wve:xve:t.local?bve:yve)(t,e))}function MK(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Sve(n){return function(){this.style.removeProperty(n)}}function kve(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Cve(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function Eve(n,e,t){return arguments.length>1?this.each((e==null?Sve:typeof e=="function"?Cve:kve)(n,e,t??"")):Hh(this.node(),n)}function Hh(n,e){return n.style.getPropertyValue(e)||MK(n).getComputedStyle(n,null).getPropertyValue(e)}function Tve(n){return function(){delete this[n]}}function Mve(n,e){return function(){this[n]=e}}function Pve(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function Ive(n,e){return arguments.length>1?this.each((e==null?Tve:typeof e=="function"?Pve:Mve)(n,e)):this.node()[n]}function PK(n){return n.trim().split(/^|\s+/)}function GO(n){return n.classList||new IK(n)}function IK(n){this._node=n,this._names=PK(n.getAttribute("class")||"")}IK.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function OK(n,e){for(var t=GO(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function RK(n,e){for(var t=GO(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Ove(n){return function(){OK(this,n)}}function Rve(n){return function(){RK(this,n)}}function Dve(n,e){return function(){(e.apply(this,arguments)?OK:RK)(this,n)}}function Ave(n,e){var t=PK(n+"");if(arguments.length<2){for(var r=GO(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?Dve:e?Ove:Rve)(t,e))}function Nve(){this.textContent=""}function Lve(n){return function(){this.textContent=n}}function Fve(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function $ve(n){return arguments.length?this.each(n==null?Nve:(typeof n=="function"?Fve:Lve)(n)):this.node().textContent}function jve(){this.innerHTML=""}function Bve(n){return function(){this.innerHTML=n}}function zve(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function qve(n){return arguments.length?this.each(n==null?jve:(typeof n=="function"?zve:Bve)(n)):this.node().innerHTML}function Uve(){this.nextSibling&&this.parentNode.appendChild(this)}function Wve(){return this.each(Uve)}function Hve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yve(){return this.each(Hve)}function Gve(n){var e=typeof n=="function"?n:SK(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Vve(){return null}function Kve(n,e){var t=typeof n=="function"?n:SK(n),r=e==null?Vve:typeof e=="function"?e:YO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Xve(){var n=this.parentNode;n&&n.removeChild(this)}function Qve(){return this.each(Xve)}function Jve(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Zve(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function eye(n){return this.select(n?Zve:Jve)}function tye(n){return arguments.length?this.property("__data__",n):this.node().__data__}function nye(n){return function(e){n.call(this,e,this.__data__)}}function rye(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function iye(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function sye(n,e,t){return function(){var r=this.__on,i,s=nye(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function oye(n,e,t){var r=rye(n+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?sye:iye,i=0;i<s;++i)this.each(a(r[i],e,t));return this}function DK(n,e,t){var r=MK(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function aye(n,e){return function(){return DK(this,n,e)}}function lye(n,e){return function(){return DK(this,n,e.apply(this,arguments))}}function cye(n,e){return this.each((typeof e=="function"?lye:aye)(n,e))}function*uye(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var hye=[null];function bs(n,e){this._groups=n,this._parents=e}function Qm(){return new bs([[document.documentElement]],hye)}function dye(){return this}bs.prototype=Qm.prototype={constructor:bs,select:F0e,selectAll:z0e,selectChild:H0e,selectChildren:K0e,filter:X0e,data:nve,enter:Q0e,exit:ive,join:sve,merge:ove,selection:dye,order:ave,sort:lve,call:uve,nodes:hve,node:dve,size:fve,empty:pve,each:mve,attr:_ve,style:Eve,property:Ive,classed:Ave,text:$ve,html:qve,raise:Wve,lower:Yve,append:Gve,insert:Kve,remove:Qve,clone:eye,datum:tye,on:oye,dispatch:cye,[Symbol.iterator]:uye};function VO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function AK(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Jm(){}var um=.7,Py=1/um,Gu="\\s*([+-]?\\d+)\\s*",hm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fye=/^#([0-9a-f]{3,8})$/,pye=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),mye=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),gye=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${hm}\\)$`),vye=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${hm}\\)$`),yye=new RegExp(`^hsl\\(${hm},${Qs},${Qs}\\)$`),bye=new RegExp(`^hsla\\(${hm},${Qs},${Qs},${hm}\\)$`),d4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VO(Jm,dm,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:f4,formatHex:f4,formatHex8:xye,formatHsl:wye,formatRgb:p4,toString:p4});function f4(){return this.rgb().formatHex()}function xye(){return this.rgb().formatHex8()}function wye(){return NK(this).formatHsl()}function p4(){return this.rgb().formatRgb()}function dm(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=fye.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?m4(e):t===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?N0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?N0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pye.exec(n))?new Yr(e[1],e[2],e[3],1):(e=mye.exec(n))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gye.exec(n))?N0(e[1],e[2],e[3],e[4]):(e=vye.exec(n))?N0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yye.exec(n))?y4(e[1],e[2]/100,e[3]/100,1):(e=bye.exec(n))?y4(e[1],e[2]/100,e[3]/100,e[4]):d4.hasOwnProperty(n)?m4(d4[n]):n==="transparent"?new Yr(NaN,NaN,NaN,0):null}function m4(n){return new Yr(n>>16&255,n>>8&255,n&255,1)}function N0(n,e,t,r){return r<=0&&(n=e=t=NaN),new Yr(n,e,t,r)}function _ye(n){return n instanceof Jm||(n=dm(n)),n?(n=n.rgb(),new Yr(n.r,n.g,n.b,n.opacity)):new Yr}function oP(n,e,t,r){return arguments.length===1?_ye(n):new Yr(n,e,t,r??1)}function Yr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}VO(Yr,oP,AK(Jm,{brighter(n){return n=n==null?Py:Math.pow(Py,n),new Yr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?um:Math.pow(um,n),new Yr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yr(rc(this.r),rc(this.g),rc(this.b),Iy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g4,formatHex:g4,formatHex8:Sye,formatRgb:v4,toString:v4}));function g4(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function Sye(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function v4(){const n=Iy(this.opacity);return`${n===1?"rgb(":"rgba("}${rc(this.r)}, ${rc(this.g)}, ${rc(this.b)}${n===1?")":`, ${n})`}`}function Iy(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function rc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Fl(n){return n=rc(n),(n<16?"0":"")+n.toString(16)}function y4(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new fs(n,e,t,r)}function NK(n){if(n instanceof fs)return new fs(n.h,n.s,n.l,n.opacity);if(n instanceof Jm||(n=dm(n)),!n)return new fs;if(n instanceof fs)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new fs(o,a,l,n.opacity)}function kye(n,e,t,r){return arguments.length===1?NK(n):new fs(n,e,t,r??1)}function fs(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}VO(fs,kye,AK(Jm,{brighter(n){return n=n==null?Py:Math.pow(Py,n),new fs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?um:Math.pow(um,n),new fs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Yr(q1(n>=240?n-240:n+120,i,r),q1(n,i,r),q1(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new fs(b4(this.h),L0(this.s),L0(this.l),Iy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Iy(this.opacity);return`${n===1?"hsl(":"hsla("}${b4(this.h)}, ${L0(this.s)*100}%, ${L0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function b4(n){return n=(n||0)%360,n<0?n+360:n}function L0(n){return Math.max(0,Math.min(1,n||0))}function q1(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const LK=n=>()=>n;function Cye(n,e){return function(t){return n+t*e}}function Eye(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Tye(n){return(n=+n)==1?FK:function(e,t){return t-e?Eye(e,t,n):LK(isNaN(e)?t:e)}}function FK(n,e){var t=e-n;return t?Cye(n,t):LK(isNaN(n)?e:n)}const x4=function n(e){var t=Tye(e);function r(i,s){var o=t((i=oP(i)).r,(s=oP(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),c=FK(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function ya(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var aP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U1=new RegExp(aP.source,"g");function Mye(n){return function(){return n}}function Pye(n){return function(e){return n(e)+""}}function Iye(n,e){var t=aP.lastIndex=U1.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=aP.exec(n))&&(i=U1.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ya(r,i)})),t=U1.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Pye(l[0].x):Mye(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var w4=180/Math.PI,lP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $K(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*w4,skewX:Math.atan(l)*w4,scaleX:o,scaleY:a}}var F0;function Oye(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?lP:$K(e.a,e.b,e.c,e.d,e.e,e.f)}function Rye(n){return n==null||(F0||(F0=document.createElementNS("http://www.w3.org/2000/svg","g")),F0.setAttribute("transform",n),!(n=F0.transform.baseVal.consolidate()))?lP:(n=n.matrix,$K(n.a,n.b,n.c,n.d,n.e,n.f))}function jK(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push("translate(",null,e,null,t);m.push({i:g-4,x:ya(c,h)},{i:g-2,x:ya(u,d)})}else(h||d)&&f.push("translate("+h+e+d+t)}function o(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ya(c,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(c,u,h,d){c!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ya(c,u)}):u&&h.push(i(h)+"skewX("+u+r)}function l(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push(i(f)+"scale(",null,",",null,")");m.push({i:g-4,x:ya(c,h)},{i:g-2,x:ya(u,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,d),o(c.rotate,u.rotate,h,d),a(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(f){for(var m=-1,g=d.length,v;++m<g;)h[(v=d[m]).i]=v.x(f);return h.join("")}}}var Dye=jK(Oye,"px, ","px)","deg)"),Aye=jK(Rye,", ",")",")"),Yh=0,Rf=0,hf=0,BK=1e3,Oy,Df,Ry=0,xc=0,tx=0,fm=typeof performance=="object"&&performance.now?performance:Date,zK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function KO(){return xc||(zK(Nye),xc=fm.now()+tx)}function Nye(){xc=0}function Dy(){this._call=this._time=this._next=null}Dy.prototype=qK.prototype={constructor:Dy,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?KO():+t)+(e==null?0:+e),!this._next&&Df!==this&&(Df?Df._next=this:Oy=this,Df=this),this._call=n,this._time=t,cP()},stop:function(){this._call&&(this._call=null,this._time=1/0,cP())}};function qK(n,e,t){var r=new Dy;return r.restart(n,e,t),r}function Lye(){KO(),++Yh;for(var n=Oy,e;n;)(e=xc-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Yh}function _4(){xc=(Ry=fm.now())+tx,Yh=Rf=0;try{Lye()}finally{Yh=0,$ye(),xc=0}}function Fye(){var n=fm.now(),e=n-Ry;e>BK&&(tx-=e,Ry=n)}function $ye(){for(var n,e=Oy,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Oy=t);Df=n,cP(r)}function cP(n){if(!Yh){Rf&&(Rf=clearTimeout(Rf));var e=n-xc;e>24?(n<1/0&&(Rf=setTimeout(_4,n-fm.now()-tx)),hf&&(hf=clearInterval(hf))):(hf||(Ry=fm.now(),hf=setInterval(Fye,BK)),Yh=1,zK(_4))}}function S4(n,e,t){var r=new Dy;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var jye=_K("start","end","cancel","interrupt"),Bye=[],UK=0,k4=1,uP=2,Pv=3,C4=4,hP=5,Iv=6;function nx(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;zye(n,t,{name:e,index:r,group:i,on:jye,tween:Bye,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:UK})}function XO(n,e){var t=_s(n,e);if(t.state>UK)throw new Error("too late; already scheduled");return t}function no(n,e){var t=_s(n,e);if(t.state>Pv)throw new Error("too late; already running");return t}function _s(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function zye(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=qK(s,0,t.time);function s(c){t.state=k4,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,h,d,f;if(t.state!==k4)return l();for(u in r)if(f=r[u],f.name===t.name){if(f.state===Pv)return S4(o);f.state===C4?(f.state=Iv,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Iv,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete r[u])}if(S4(function(){t.state===Pv&&(t.state=C4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=uP,t.on.call("start",n,n.__data__,t.index,t.group),t.state===uP){for(t.state=Pv,i=new Array(d=t.tween.length),u=0,h=-1;u<d;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(i[++h]=f);i.length=h+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=hP,1),h=-1,d=i.length;++h<d;)i[h].call(n,u);t.state===hP&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Iv,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function qye(n,e){var t=n.__transition,r,i,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>uP&&r.state<hP,r.state=Iv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function Uye(n){return this.each(function(){qye(this,n)})}function Wye(n,e){var t,r;return function(){var i=no(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Hye(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=no(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Yye(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=_s(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?Wye:Hye)(t,n,e))}function QO(n,e,t){var r=n._id;return n.each(function(){var i=no(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return _s(i,r).value[e]}}function WK(n,e){var t;return(typeof e=="number"?ya:e instanceof dm?x4:(t=dm(e))?(e=t,x4):Iye)(n,e)}function Gye(n){return function(){this.removeAttribute(n)}}function Vye(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Kye(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function Xye(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function Qye(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Jye(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Zye(n,e){var t=ex(n),r=t==="transform"?Aye:WK;return this.attrTween(n,typeof e=="function"?(t.local?Jye:Qye)(t,r,QO(this,"attr."+n,e)):e==null?(t.local?Vye:Gye)(t):(t.local?Xye:Kye)(t,r,e))}function ebe(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function tbe(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function nbe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&tbe(n,s)),t}return i._value=e,i}function rbe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&ebe(n,s)),t}return i._value=e,i}function ibe(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=ex(n);return this.tween(t,(r.local?nbe:rbe)(r,e))}function sbe(n,e){return function(){XO(this,n).delay=+e.apply(this,arguments)}}function obe(n,e){return e=+e,function(){XO(this,n).delay=e}}function abe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?sbe:obe)(e,n)):_s(this.node(),e).delay}function lbe(n,e){return function(){no(this,n).duration=+e.apply(this,arguments)}}function cbe(n,e){return e=+e,function(){no(this,n).duration=e}}function ube(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?lbe:cbe)(e,n)):_s(this.node(),e).duration}function hbe(n,e){if(typeof e!="function")throw new Error;return function(){no(this,n).ease=e}}function dbe(n){var e=this._id;return arguments.length?this.each(hbe(e,n)):_s(this.node(),e).ease}function fbe(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;no(this,n).ease=t}}function pbe(n){if(typeof n!="function")throw new Error;return this.each(fbe(this._id,n))}function mbe(n){typeof n!="function"&&(n=CK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Wo(r,this._parents,this._name,this._id)}function gbe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,h=o[a]=new Array(u),d,f=0;f<u;++f)(d=l[f]||c[f])&&(h[f]=d);for(;a<r;++a)o[a]=e[a];return new Wo(o,this._parents,this._name,this._id)}function vbe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function ybe(n,e,t){var r,i,s=vbe(e)?XO:no;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}function bbe(n,e){var t=this._id;return arguments.length<2?_s(this.node(),t).on.on(n):this.each(ybe(t,n,e))}function xbe(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function wbe(){return this.on("end.remove",xbe(this._id))}function _be(n){var e=this._name,t=this._id;typeof n!="function"&&(n=YO(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,h,d=0;d<l;++d)(u=a[d])&&(h=n.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,nx(c[d],e,t,d,c,_s(u,t)));return new Wo(s,this._parents,e,t)}function Sbe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=kK(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=n.call(u,u.__data__,h,l),f,m=_s(u,t),g=0,v=d.length;g<v;++g)(f=d[g])&&nx(f,e,t,g,d,m);s.push(d),o.push(u)}return new Wo(s,o,e,t)}var kbe=Qm.prototype.constructor;function Cbe(){return new kbe(this._groups,this._parents)}function Ebe(n,e){var t,r,i;return function(){var s=Hh(this,n),o=(this.style.removeProperty(n),Hh(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function HK(n){return function(){this.style.removeProperty(n)}}function Tbe(n,e,t){var r,i=t+"",s;return function(){var o=Hh(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function Mbe(n,e,t){var r,i,s;return function(){var o=Hh(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Hh(this,n))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function Pbe(n,e){var t,r,i,s="style."+e,o="end."+s,a;return function(){var l=no(this,n),c=l.on,u=l.value[s]==null?a||(a=HK(e)):void 0;(c!==t||i!==u)&&(r=(t=c).copy()).on(o,i=u),l.on=r}}function Ibe(n,e,t){var r=(n+="")=="transform"?Dye:WK;return e==null?this.styleTween(n,Ebe(n,r)).on("end.style."+n,HK(n)):typeof e=="function"?this.styleTween(n,Mbe(n,r,QO(this,"style."+n,e))).each(Pbe(this._id,n)):this.styleTween(n,Tbe(n,r,e),t).on("end.style."+n,null)}function Obe(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Rbe(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Obe(n,o,t)),r}return s._value=e,s}function Dbe(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Rbe(n,e,t??""))}function Abe(n){return function(){this.textContent=n}}function Nbe(n){return function(){var e=n(this);this.textContent=e??""}}function Lbe(n){return this.tween("text",typeof n=="function"?Nbe(QO(this,"text",n)):Abe(n==null?"":n+""))}function Fbe(n){return function(e){this.textContent=n.call(this,e)}}function $be(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&Fbe(i)),e}return r._value=n,r}function jbe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,$be(n))}function Bbe(){for(var n=this._name,e=this._id,t=YK(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=_s(l,e);nx(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wo(r,this._parents,n,t)}function zbe(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};t.each(function(){var c=no(this,r),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var qbe=0;function Wo(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function YK(){return++qbe}var mo=Qm.prototype;Wo.prototype={constructor:Wo,select:_be,selectAll:Sbe,selectChild:mo.selectChild,selectChildren:mo.selectChildren,filter:mbe,merge:gbe,selection:Cbe,transition:Bbe,call:mo.call,nodes:mo.nodes,node:mo.node,size:mo.size,empty:mo.empty,each:mo.each,on:bbe,attr:Zye,attrTween:ibe,style:Ibe,styleTween:Dbe,text:Lbe,textTween:jbe,remove:wbe,tween:Yye,delay:abe,duration:ube,ease:dbe,easeVarying:pbe,end:zbe,[Symbol.iterator]:mo[Symbol.iterator]};function Ube(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Wbe={time:null,delay:0,duration:250,ease:Ube};function Hbe(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Ybe(n){var e,t;n instanceof Wo?(e=n._id,n=n._name):(e=YK(),(t=Wbe).time=KO(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&nx(l,n,e,c,o,t||Hbe(l,e));return new Wo(r,this._parents,n,e)}Qm.prototype.interrupt=Uye;Qm.prototype.transition=Ybe;function Af(n,e,t){this.k=n,this.x=e,this.y=t}Af.prototype={constructor:Af,scale:function(n){return n===1?this:new Af(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Af(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Af.prototype;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zm(n){return n+.5|0}const Na=(n,e,t)=>Math.max(Math.min(n,t),e);function Nf(n){return Na(Zm(n*2.55),0,255)}function Ga(n){return Na(Zm(n*255),0,255)}function ko(n){return Na(Zm(n/2.55)/100,0,1)}function E4(n){return Na(Zm(n*100),0,100)}const Ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dP=[..."0123456789ABCDEF"],Gbe=n=>dP[n&15],Vbe=n=>dP[(n&240)>>4]+dP[n&15],$0=n=>(n&240)>>4===(n&15),Kbe=n=>$0(n.r)&&$0(n.g)&&$0(n.b)&&$0(n.a);function Xbe(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ii[n[1]]*17,g:255&Ii[n[2]]*17,b:255&Ii[n[3]]*17,a:e===5?Ii[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ii[n[1]]<<4|Ii[n[2]],g:Ii[n[3]]<<4|Ii[n[4]],b:Ii[n[5]]<<4|Ii[n[6]],a:e===9?Ii[n[7]]<<4|Ii[n[8]]:255})),t}const Qbe=(n,e)=>n<255?e(n):"";function Jbe(n){var e=Kbe(n)?Gbe:Vbe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Qbe(n.a,e):void 0}const Zbe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GK(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function exe(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function txe(n,e,t){const r=GK(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function nxe(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function JO(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=nxe(t,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function ZO(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ga)}function eR(n,e,t){return ZO(GK,n,e,t)}function rxe(n,e,t){return ZO(txe,n,e,t)}function ixe(n,e,t){return ZO(exe,n,e,t)}function VK(n){return(n%360+360)%360}function sxe(n){const e=Zbe.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Nf(+e[5]):Ga(+e[5]));const i=VK(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=rxe(i,s,o):e[1]==="hsv"?r=ixe(i,s,o):r=eR(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function oxe(n,e){var t=JO(n);t[0]=VK(t[0]+e),t=eR(t),n.r=t[0],n.g=t[1],n.b=t[2]}function axe(n){if(!n)return;const e=JO(n),t=e[0],r=E4(e[1]),i=E4(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${ko(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const T4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},M4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lxe(){const n={},e=Object.keys(M4),t=Object.keys(T4);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,T4[s]);s=parseInt(M4[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let j0;function cxe(n){j0||(j0=lxe(),j0.transparent=[0,0,0,0]);const e=j0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hxe(n){const e=uxe.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Nf(o):Na(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Nf(r):Na(r,0,255)),i=255&(e[4]?Nf(i):Na(i,0,255)),s=255&(e[6]?Nf(s):Na(s,0,255)),{r,g:i,b:s,a:t}}}function dxe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ko(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const W1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,lu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function fxe(n,e,t){const r=lu(ko(n.r)),i=lu(ko(n.g)),s=lu(ko(n.b));return{r:Ga(W1(r+t*(lu(ko(e.r))-r))),g:Ga(W1(i+t*(lu(ko(e.g))-i))),b:Ga(W1(s+t*(lu(ko(e.b))-s))),a:n.a+t*(e.a-n.a)}}function B0(n,e,t){if(n){let r=JO(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=eR(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function KK(n,e){return n&&Object.assign(e||{},n)}function P4(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ga(n[3]))):(e=KK(n,{r:0,g:0,b:0,a:1}),e.a=Ga(e.a)),e}function pxe(n){return n.charAt(0)==="r"?hxe(n):sxe(n)}class pm{constructor(e){if(e instanceof pm)return e;const t=typeof e;let r;t==="object"?r=P4(e):t==="string"&&(r=Xbe(e)||cxe(e)||pxe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=KK(this._rgb);return e&&(e.a=ko(e.a)),e}set rgb(e){this._rgb=P4(e)}rgbString(){return this._valid?dxe(this._rgb):void 0}hexString(){return this._valid?Jbe(this._rgb):void 0}hslString(){return this._valid?axe(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=fxe(this._rgb,e._rgb,t)),this}clone(){return new pm(this.rgb)}alpha(e){return this._rgb.a=Ga(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Zm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return B0(this._rgb,2,e),this}darken(e){return B0(this._rgb,2,-e),this}saturate(e){return B0(this._rgb,1,e),this}desaturate(e){return B0(this._rgb,1,-e),this}rotate(e){return oxe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function go(){}const mxe=(()=>{let n=0;return()=>n++})();function dn(n){return n==null}function ln(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ei(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Os(n,e){return ei(n)?n:e}function dt(n,e){return typeof n>"u"?e:n}const gxe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,XK=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function zt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Nt(n,e,t,r){let i,s,o;if(ln(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(mt(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Ay(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Ny(n){if(ln(n))return n.map(Ny);if(mt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Ny(n[t[i]]);return e}return n}function QK(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function vxe(n,e,t,r){if(!QK(n))return;const i=e[n],s=t[n];mt(i)&&mt(s)?mm(i,s,r):e[n]=Ny(s)}function mm(n,e,t){const r=ln(e)?e:[e],i=r.length;if(!mt(n))return n;t=t||{};const s=t.merger||vxe;let o;for(let a=0;a<i;++a){if(o=r[a],!mt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function ap(n,e){return mm(n,e,{merger:yxe})}function yxe(n,e,t){if(!QK(n))return;const r=e[n],i=t[n];mt(r)&&mt(i)?ap(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ny(i))}const I4={"":n=>n,x:n=>n.x,y:n=>n.y};function bxe(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function xxe(n){const e=bxe(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function gm(n,e){return(I4[e]||(I4[e]=xxe(e)))(n)}function tR(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xi=n=>typeof n<"u",Qr=n=>typeof n=="function",O4=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function wxe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Dt=Math.PI,or=2*Dt,_xe=or+Dt,Ly=Number.POSITIVE_INFINITY,nR=Dt/180,ar=Dt/2,ji=Dt/4,Fy=Dt*2/3,JK=Math.log10,Gh=Math.sign;function lp(n,e,t){return Math.abs(n-e)<t}function R4(n){const e=Math.round(n);n=lp(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(JK(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function Sxe(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function kxe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Vh(n){return!kxe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Cxe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Exe(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Xn(n){return n*(Dt/180)}function ZK(n){return n*(180/Dt)}function D4(n){if(!ei(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function fP(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Dt&&(s+=or),{angle:s,distance:i}}function Kh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Txe(n,e){return(n-e+_xe)%or-Dt}function pa(n){return(n%or+or)%or}function $y(n,e,t,r){const i=pa(n),s=pa(e),o=pa(t),a=pa(s-i),l=pa(o-i),c=pa(i-s),u=pa(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Ws(n,e,t){return Math.max(e,Math.min(t,n))}function Mxe(n){return Ws(n,-32768,32767)}function Lf(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function rR(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const pP=(n,e,t,r)=>rR(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),Pxe=(n,e,t)=>rR(n,t,r=>n[r][e]>=t);function Ixe(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const eX=["push","pop","shift","splice","unshift"];function Oxe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),eX.forEach(t=>{const r="_onData"+tR(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function A4(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(eX.forEach(s=>{delete n[s]}),delete n._chartjs)}function Rxe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const tX=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function nX(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,tX.call(window,()=>{r=!1,n.apply(e,t)}))}}function Dxe(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const iR=n=>n==="start"?"left":n==="end"?"right":"center",mr=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Axe=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,z0=n=>n===0||n===1,N4=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*or/t)),L4=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*or/t)+1,cp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ar)+1,easeOutSine:n=>Math.sin(n*ar),easeInOutSine:n=>-.5*(Math.cos(Dt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>z0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>z0(n)?n:N4(n,.075,.3),easeOutElastic:n=>z0(n)?n:L4(n,.075,.3),easeInOutElastic(n){return z0(n)?n:n<.5?.5*N4(n*2,.1125,.45):.5+.5*L4(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-cp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?cp.easeInBounce(n*2)*.5:cp.easeOutBounce(n*2-1)*.5+.5};function sR(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function F4(n){return sR(n)?n:new pm(n)}function H1(n){return sR(n)?n:new pm(n).saturate(.5).darken(.1).hexString()}const Nxe=["x","y","borderWidth","radius","tension"],Lxe=["color","borderColor","backgroundColor"];function Fxe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Lxe},numbers:{type:"number",properties:Nxe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $xe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $4=new Map;function jxe(n,e){e=e||{};const t=n+JSON.stringify(e);let r=$4.get(t);return r||(r=new Intl.NumberFormat(n,e),$4.set(t,r)),r}function oR(n,e,t){return jxe(e,t).format(n)}const Bxe={values(n){return ln(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=zxe(n,t)}const o=JK(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),oR(n,r,l)}};function zxe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var rX={formatters:Bxe};function qxe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rX.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wc=Object.create(null),mP=Object.create(null);function up(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Y1(n,e,t){return typeof e=="string"?mm(up(n,e),t):mm(up(n,""),e)}class Uxe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>H1(i.backgroundColor),this.hoverBorderColor=(r,i)=>H1(i.borderColor),this.hoverColor=(r,i)=>H1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Y1(this,e,t)}get(e){return up(this,e)}describe(e,t){return Y1(mP,e,t)}override(e,t){return Y1(wc,e,t)}route(e,t,r,i){const s=up(this,e),o=up(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return mt(l)?Object.assign({},c,l):dt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var bn=new Uxe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Fxe,$xe,qxe]);function Wxe(n){return!n||dn(n.size)||dn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function j4(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function yl(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function B4(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function gP(n,e,t,r){iX(n,e,t,r,null)}function iX(n,e,t,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,m=e.rotation,g=e.radius;let v=(m||0)*nR;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,g,0,0,or):n.arc(t,r,g,0,or),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Fy,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Fy,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+ji)*l,h=Math.cos(v+ji)*(i?i/2-c:l),a=Math.sin(v+ji)*l,d=Math.sin(v+ji)*(i?i/2-c:l),n.arc(t-h,r-a,c,v-Dt,v-ar),n.arc(t+d,r-o,c,v-ar,v),n.arc(t+h,r+a,c,v,v+ar),n.arc(t-d,r+o,c,v+ar,v+Dt),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=ji;case"rectRot":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+d,r-o),n.lineTo(t+h,r+a),n.lineTo(t-d,r+o),n.closePath();break;case"crossRot":v+=ji;case"cross":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"star":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o),v+=ji,h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"line":o=i?i/2:Math.cos(v)*g,a=Math.sin(v)*g,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(i?i/2:g),r+Math.sin(v)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vm(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function rx(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ix(n){n.restore()}function Hxe(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Yxe(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Gxe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),dn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Vxe(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function Kxe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ym(n,e,t,r,i,s={}){const o=ln(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,Gxe(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Kxe(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),dn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),Vxe(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function jy(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dt,Dt,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Dt,ar,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ar,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-ar,!0),n.lineTo(t+o.topLeft,r)}const Xxe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Qxe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jxe(n,e){const t=(""+n).match(Xxe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Zxe=n=>+n||0;function sX(n,e){const t={},r=mt(e),i=r?Object.keys(e):e,s=mt(n)?r?o=>dt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=Zxe(s(o));return t}function ewe(n){return sX(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Vu(n){return sX(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yr(n){const e=ewe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Bn(n,e){n=n||{},e=e||bn.font;let t=dt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=dt(n.style,e.style);r&&!(""+r).match(Qxe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dt(n.family,e.family),lineHeight:Jxe(dt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:dt(n.weight,e.weight),string:""};return i.string=Wxe(i),i}function q0(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function twe(n,e,t){const{min:r,max:i}=n,s=XK(e,(i-r)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Lc(n,e){return Object.assign(Object.create(n),e)}function aR(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=cX("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>aR([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return aX(a,l,()=>cwe(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return q4(a).includes(l)},ownKeys(a){return q4(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Xh(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:oX(n,r),setContext:s=>Xh(n,s,t,r),override:s=>Xh(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return aX(s,o,()=>rwe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function oX(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Qr(t)?t:()=>t,isIndexable:Qr(r)?r:()=>r}}const nwe=(n,e)=>n?n+tR(e):e,lR=(n,e)=>mt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function aX(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function rwe(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return Qr(a)&&o.isScriptable(e)&&(a=iwe(e,a,n,t)),ln(a)&&a.length&&(a=swe(e,a,n,o.isIndexable)),lR(e,a)&&(a=Xh(a,i,s&&s[e],o)),a}function iwe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||r);return a.delete(n),lR(n,l)&&(l=cR(i._scopes,i,n,l)),l}function swe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(mt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=cR(c,i,n,u);e.push(Xh(h,s,o&&o[n],a))}}return e}function lX(n,e,t){return Qr(n)?n(e,t):n}const owe=(n,e)=>n===!0?e:typeof n=="string"?gm(e,n):void 0;function awe(n,e,t,r,i){for(const s of e){const o=owe(t,s);if(o){n.add(o);const a=lX(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function cR(n,e,t,r){const i=e._rootScopes,s=lX(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let l=z4(a,o,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=z4(a,o,s,l,r),l===null)?!1:aR(Array.from(a),[""],i,s,()=>lwe(e,t,r))}function z4(n,e,t,r,i){for(;t;)t=awe(n,e,t,r,i);return t}function lwe(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return ln(i)&&mt(t)?t:i||{}}function cwe(n,e,t,r){let i;for(const s of e)if(i=cX(nwe(s,n),t),typeof i<"u")return lR(n,i)?cR(t,r,n,i):i}function cX(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function q4(n){let e=n._keys;return e||(e=n._keys=uwe(n._scopes)),e}function uwe(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const hwe=Number.EPSILON||1e-14,Qh=(n,e)=>e<n.length&&!n[e].skip&&n[e],uX=n=>n==="x"?"y":"x";function dwe(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=Kh(s,i),l=Kh(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function fwe(n,e,t){const r=n.length;let i,s,o,a,l,c=Qh(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Qh(n,u+1),!(!l||!c)){if(lp(e[u],0,hwe)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function pwe(n,e,t="x"){const r=uX(t),i=n.length;let s,o,a,l=Qh(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Qh(n,c+1),!a)continue;const u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function mwe(n,e="x"){const t=uX(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Qh(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=Qh(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?Gh(i[o-1])!==Gh(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}fwe(n,i,s),pwe(n,s,e)}function U0(n,e,t){return Math.max(Math.min(n,t),e)}function gwe(n,e){let t,r,i,s,o,a=vm(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&vm(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=U0(i.cp1x,e.left,e.right),i.cp1y=U0(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=U0(i.cp2x,e.left,e.right),i.cp2y=U0(i.cp2y,e.top,e.bottom)))}function vwe(n,e,t,r,i){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")mwe(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=dwe(c,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&gwe(n,t)}function uR(){return typeof window<"u"&&typeof document<"u"}function hR(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function By(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const sx=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ywe(n,e){return sx(n).getPropertyValue(e)}const bwe=["top","right","bottom","left"];function ic(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=bwe[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const xwe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function wwe(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(xwe(i,s,n.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Cl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=sx(t),s=i.boxSizing==="border-box",o=ic(i,"padding"),a=ic(i,"border","width"),{x:l,y:c,box:u}=wwe(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*t.width/r),y:Math.round((c-d)/m*t.height/r)}}function _we(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&hR(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=sx(s),l=ic(a,"border","width"),c=ic(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=By(a.maxWidth,s,"clientWidth"),i=By(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Ly,maxHeight:i||Ly}}const La=n=>Math.round(n*10)/10;function Swe(n,e,t,r){const i=sx(n),s=ic(i,"margin"),o=By(i.maxWidth,n,"clientWidth")||Ly,a=By(i.maxHeight,n,"clientHeight")||Ly,l=_we(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=ic(i,"border","width"),f=ic(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=La(Math.min(c,o,l.maxWidth)),u=La(Math.min(u,a,l.maxHeight)),c&&!u&&(u=La(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=La(Math.floor(u*r))),{width:c,height:u}}function U4(n,e,t){const r=e||1,i=La(n.height*r),s=La(n.width*r);n.height=La(n.height),n.width=La(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const kwe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};uR()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function W4(n,e){const t=ywe(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function El(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Cwe(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Ewe(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=El(n,i,t),a=El(i,s,t),l=El(s,e,t),c=El(o,a,t),u=El(a,l,t);return El(c,u,t)}const Twe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Mwe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ku(n,e,t){return n?Twe(e,t):Mwe()}function hX(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function dX(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function fX(n){return n==="angle"?{between:$y,compare:Txe,normalize:pa}:{between:Lf,compare:(e,t)=>e-t,normalize:e=>e}}function H4({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function Pwe(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=fX(r),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Iwe(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=fX(r),{start:u,end:h,loop:d,style:f}=Pwe(n,e,t),m=[];let g=!1,v=null,y,b,w;const S=()=>l(i,w,y)&&a(i,w)!==0,_=()=>a(s,y)===0||l(s,w,y),k=()=>g||S(),E=()=>!g||_();for(let C=u,O=u;C<=h;++C)b=e[C%o],!b.skip&&(y=c(b[r]),y!==w&&(g=l(y,i,s),v===null&&k()&&(v=a(y,i)===0?C:O),v!==null&&E()&&(m.push(H4({start:v,end:C,loop:d,count:o,style:f})),v=null),O=C,w=y));return v!==null&&m.push(H4({start:v,end:h,loop:d,count:o,style:f})),m}function Owe(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Iwe(r[i],n.points,e);s.length&&t.push(...s)}return t}function Rwe(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Dwe(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function Awe(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=Rwe(t,i,s,r);if(r===!0)return Y4(n,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Y4(n,Dwe(t,o,l,c),t,e)}function Y4(n,e,t,r){return!r||!r.setContext||!t?e:Nwe(n,e,t,r)}function Nwe(n,e,t,r){const i=n._chart.getContext(),s=G4(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,h=e[0].start,d=h;function f(m,g,v,y){const b=a?-1:1;if(m!==g){for(m+=l;t[m%l].skip;)m-=b;for(;t[g%l].skip;)g+=b;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const m of e){h=a?h:m.start;let g=t[h%l],v;for(d=h+1;d<=m.end;d++){const y=t[d%l];v=G4(r.setContext(Lc(i,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Lwe(v,u)&&f(h,d-1,m.loop,u),g=y,u=v}h<d-1&&f(h,d-1,m.loop,u)}return c}function G4(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Lwe(n,e){if(!e)return!1;const t=[],r=function(i,s){return sR(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function W0(n,e,t){return n.options.clip?n[t]:e[t]}function Fwe(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:W0(t,e,"left"),right:W0(t,e,"right"),top:W0(r,e,"top"),bottom:W0(r,e,"bottom")}:e}function $we(n,e){const t=e._clip;if(t.disabled)return!1;const r=Fwe(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class jwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tX.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yo=new jwe;const V4="transparent",Bwe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=F4(n||V4),i=r.valid&&F4(e||V4);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class zwe{constructor(e,t,r,i){const s=t[r];i=q0([e.to,i,s,e.from]);const o=q0([e.from,s,i]);this._active=!0,this._fn=e.fn||Bwe[e.type||typeof o],this._easing=cp[e.easing]||cp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=q0([e.to,t,i,e.from]),this._from=q0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class dR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!mt(e))return;const t=Object.keys(bn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!mt(s))return;const o={};for(const a of t)o[a]=s[a];(ln(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=Uwe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&qwe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new zwe(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return yo.add(this._chart,r),!0}}function qwe(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Uwe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function K4(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Wwe(n,e,t){if(t===!1)return!1;const r=K4(n,t),i=K4(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Hwe(n){let e,t,r,i;return mt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function pX(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function X4(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,r.all)continue;break}c=n.values[l],ei(c)&&(s||e===0||Gh(e)===Gh(c))&&(e+=c)}return!u&&!r.all?0:e}function Ywe(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:n[u]};return a}function G1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Gwe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Vwe(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function Kwe(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Q4(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function J4(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Gwe(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const m=e[f],{[l]:g,[c]:v}=m,y=m._stacks||(m._stacks={});d=y[c]=Kwe(i,u,g),d[a]=v,d._top=Q4(d,o,!0,r.type),d._bottom=Q4(d,o,!1,r.type);const b=d._visualValues||(d._visualValues={});b[a]=v}}function V1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Xwe(n,e){return Lc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Qwe(n,e,t){return Lc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function df(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const K1=n=>n==="reset"||n==="none",Z4=(n,e)=>e?n:Object.assign({},n),Jwe=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:pX(t,!0),values:null};class hp{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=G1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&df(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,s=t.xAxisID=dt(r.xAxisID,V1(e,"x")),o=t.yAxisID=dt(r.yAxisID,V1(e,"y")),a=t.rAxisID=dt(r.rAxisID,V1(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,o,a),u=t.vAxisID=i(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&A4(this._data,this),e._stacked&&df(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(mt(t)){const i=this._cachedMeta;this._data=Ywe(t,i)}else if(r!==t){if(r){A4(r,this);const i=this._cachedMeta;df(i),i._parsed=[]}t&&Object.isExtensible(t)&&Oxe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=G1(t.vScale,t),t.stack!==r.stack&&(i=!0,df(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(J4(this,t._parsed),t._stacked=G1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{ln(i[e])?d=this.parseArrayData(r,i,e,t):mt(i[e])?d=this.parseObjectData(r,i,e,t):d=this.parsePrimitiveData(r,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&J4(this,d)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+r,h[d]={[a]:u||s.parse(c[m],m),[l]:o.parse(t[m],m)};return h}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=t[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=t[d],c[u]={x:s.parse(gm(f,a),d),y:o.parse(gm(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:pX(i,!0),values:t._stacks[e.axis]._visualValues};return X4(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=X4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Jwe(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Vwe(a);let d,f;function m(){f=i[d];const g=f[a.axis];return!ei(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ei(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Hwe(dt(this.options.clip,Wwe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Qwe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Xwe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&xi(r);if(a)return Z4(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(bn.elements[e]),m=()=>this.getContext(r,i,t),g=c.resolveNamedOptions(d,f,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(Z4(g,l))),g}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,t))}const c=new dR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||K1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){K1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!K1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&df(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}le(hp,"defaults",{}),le(hp,"datasetElementType",null),le(hp,"dataElementType",null);function Zwe(n,e,t){let r=1,i=1,s=0,o=0;if(e<or){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,S,_)=>$y(w,a,l,!0)?1:Math.max(S,S*t,_,_*t),m=(w,S,_)=>$y(w,a,l,!0)?-1:Math.min(S,S*t,_,_*t),g=f(0,c,h),v=f(ar,u,d),y=m(Dt,c,h),b=m(Dt+ar,u,d);r=(g-y)/2,i=(v-b)/2,s=-(g+y)/2,o=-(v+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Ff extends hp{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(mt(r[e])){const{key:l="value"}=this._parsing;s=c=>+gm(r[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Xn(this.options.rotation-90)}_getCircumference(){return Xn(this.options.circumference)}_getRotationExtents(){let e=or,t=-or;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(gxe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:g}=Zwe(h,u,l),v=(r.width-o)/d,y=(r.height-o)/f,b=Math.max(Math.min(v,y)/2,0),w=XK(this.options.radius,b),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/or)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(t,i);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,s);for(b=t;b<t+r;++b){const w=this._circumference(b,s),S=e[b],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:m,innerRadius:f};v&&(_.options=g||this.resolveDataElementOptions(b,S.active?"active":i)),y+=w,this.updateElement(S,b,_,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?or*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=oR(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}le(Ff,"id","doughnut"),le(Ff,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),le(Ff,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),le(Ff,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});function bl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fR{constructor(e){le(this,"options");this.options=e||{}}static override(e){Object.assign(fR.prototype,e)}init(){}formats(){return bl()}parse(){return bl()}format(){return bl()}add(){return bl()}diff(){return bl()}startOf(){return bl()}endOf(){return bl()}}var e1e={_date:fR};function t1e(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?Pxe:pP;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(s,e,t-h),f=c(s,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!dn(g[h.axis]));u.lo-=Math.max(0,f);const m=d.slice(u.hi).findIndex(g=>!dn(g[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function ox(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=t1e(s[a],e,o,i);for(let f=h;f<=d;++f){const m=u[f];m.skip||r(m,c,f)}}}function n1e(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function X1(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||ox(n,t,e,function(a,l,c){!i&&!vm(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function r1e(n,e,t,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=fP(o,{x:e.x,y:e.y});$y(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return ox(n,t,e,s),i}function i1e(n,e,t,r,i,s){let o=[];const a=n1e(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!f)return;const v=a(e,m);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return ox(n,t,e,c),o}function Q1(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?r1e(n,e,t,i):i1e(n,e,t,r,i,s)}function eL(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return ox(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var s1e={modes:{index(n,e,t,r){const i=Cl(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?X1(n,i,s,r,o):Q1(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=Cl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?X1(n,i,s,r,o):Q1(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){const i=Cl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return X1(n,i,s,r,o)},nearest(n,e,t,r){const i=Cl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Q1(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=Cl(e,n);return eL(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Cl(e,n);return eL(n,i,"y",t.intersect,r)}}};const mX=["left","top","right","bottom"];function ff(n,e){return n.filter(t=>t.pos===e)}function tL(n,e){return n.filter(t=>mX.indexOf(t.pos)===-1&&t.box.axis===e)}function pf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function o1e(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function a1e(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!mX.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function l1e(n,e){const t=a1e(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}function c1e(n){const e=o1e(n),t=pf(e.filter(c=>c.box.fullSize),!0),r=pf(ff(e,"left"),!0),i=pf(ff(e,"right")),s=pf(ff(e,"top"),!0),o=pf(ff(e,"bottom")),a=tL(e,"x"),l=tL(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ff(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function nL(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function gX(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function u1e(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!mt(i)){t.size&&(n[i]-=t.size);const h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&gX(o,s.getPadding());const a=Math.max(0,e.outerWidth-nL(o,n,"left","right")),l=Math.max(0,e.outerHeight-nL(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function h1e(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function d1e(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function $f(n,e,t,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,d1e(a.horizontal,e));const{same:h,other:d}=u1e(e,t,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&$f(i,e,t,r)||u}function H0(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function rL(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;xi(c.start)&&(o=c.start),l.fullSize?H0(l,i.left,o,t.outerWidth-i.right-i.left,d):H0(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;xi(c.start)&&(s=c.start),l.fullSize?H0(l,s,i.top,d,t.outerHeight-i.bottom-i.top):H0(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var Ui={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=yr(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=c1e(n.boxes),l=a.vertical,c=a.horizontal;Nt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);gX(d,yr(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),m=l1e(l.concat(c),h);$f(a.fullSize,f,h,m),$f(l,f,h,m),$f(c,f,h,m)&&$f(l,f,h,m),h1e(f),rL(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,rL(a.rightAndBottom,f,h,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Nt(a.chartArea,g=>{const v=g.box;Object.assign(v,n.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class vX{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class f1e extends vX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ov="$chartjs",p1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iL=n=>n===null||n==="";function m1e(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Ov]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",iL(i)){const s=W4(n,"width");s!==void 0&&(n.width=s)}if(iL(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=W4(n,"height");s!==void 0&&(n.height=s)}return n}const yX=kwe?{passive:!0}:!1;function g1e(n,e,t){n&&n.addEventListener(e,t,yX)}function v1e(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,yX)}function y1e(n,e){const t=p1e[n.type]||n.type,{x:r,y:i}=Cl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function zy(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function b1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||zy(a.addedNodes,r),o=o&&!zy(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function x1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||zy(a.removedNodes,r),o=o&&!zy(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const bm=new Map;let sL=0;function bX(){const n=window.devicePixelRatio;n!==sL&&(sL=n,bm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function w1e(n,e){bm.size||window.addEventListener("resize",bX),bm.set(n,e)}function _1e(n){bm.delete(n),bm.size||window.removeEventListener("resize",bX)}function S1e(n,e,t){const r=n.canvas,i=r&&hR(r);if(!i)return;const s=nX((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),w1e(n,s),o}function J1(n,e,t){t&&t.disconnect(),e==="resize"&&_1e(n)}function k1e(n,e,t){const r=n.canvas,i=nX(s=>{n.ctx!==null&&t(y1e(s,n))},n);return g1e(r,e,i),i}class C1e extends vX{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(m1e(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Ov])return!1;const r=t[Ov].initial;["height","width"].forEach(s=>{const o=r[s];dn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[Ov],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:b1e,detach:x1e,resize:S1e}[t]||k1e;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:J1,detach:J1,resize:J1}[t]||v1e)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Swe(e,t,r,i)}isAttached(e){const t=e&&hR(e);return!!(t&&t.isConnected)}}function E1e(n){return!uR()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?f1e:C1e}var sv;let ri=(sv=class{constructor(){le(this,"x");le(this,"y");le(this,"active",!1);le(this,"options");le(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Vh(this.x)&&Vh(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},le(sv,"defaults",{}),le(sv,"defaultRoutes"),sv);function T1e(n,e){const t=n.options.ticks,r=M1e(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?I1e(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return O1e(e,c,s,o/i),c;const u=P1e(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Y0(e,c,u,dn(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Y0(e,c,u,s[h],s[h+1]);return Y0(e,c,u,l,dn(f)?e.length:l+f),c}return Y0(e,c,u),c}function M1e(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function P1e(n,e,t){const r=R1e(n),i=e.length/t;if(!r)return Math.max(i,1);const s=Sxe(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function I1e(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function O1e(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Y0(n,e,t,r,i){const s=dt(r,0),o=Math.min(dt(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function R1e(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const D1e=n=>n==="left"?"right":n==="right"?"left":n,oL=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,aL=(n,e)=>Math.min(e||n,n);function lL(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function A1e(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function N1e(n,e){Nt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function mf(n){return n.drawTicks?n.tickLength:0}function cL(n,e){if(!n.display)return 0;const t=Bn(n.font,e),r=yr(n.padding);return(ln(n.text)?n.text.length:1)*t.lineHeight+r.height}function L1e(n,e){return Lc(n,{scale:e,type:"scale"})}function F1e(n,e,t){return Lc(n,{tick:t,index:e,type:"tick"})}function $1e(n,e,t){let r=iR(n);return(t&&e!=="right"||!t&&e==="right")&&(r=D1e(r)),r}function j1e(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,m;const g=o-i,v=a-s;if(n.isHorizontal()){if(f=mr(r,s,a),mt(t)){const y=Object.keys(t)[0],b=t[y];m=u[y].getPixelForValue(b)+g-e}else t==="center"?m=(c.bottom+c.top)/2+g-e:m=oL(n,t,e);d=a-s}else{if(mt(t)){const y=Object.keys(t)[0],b=t[y];f=u[y].getPixelForValue(b)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=oL(n,t,e);m=mr(r,o,i),h=t==="left"?-ar:ar}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class bd extends ri{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Os(e,Number.POSITIVE_INFINITY),t=Os(t,Number.NEGATIVE_INFINITY),r=Os(r,Number.POSITIVE_INFINITY),i=Os(i,Number.NEGATIVE_INFINITY),{min:Os(e,r),max:Os(t,i),minDefined:ei(e),maxDefined:ei(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Os(t,Os(r,t)),max:Os(r,Os(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=twe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?lL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=T1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zt(this.options.afterUpdate,[this])}beforeSetDimensions(){zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=zt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=aL(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Ws(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-mf(e.grid)-t.padding-cL(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=ZK(Math.min(Math.asin(Ws((u.highest.height+6)/a,-1,1)),Math.asin(Ws(l/c,-1,1))-Math.asin(Ws(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=cL(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=mf(s)+l):(e.height=this.maxHeight,e.width=mf(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,m=Xn(this.labelRotation),g=Math.cos(m),v=Math.sin(m);if(a){const y=r.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*t.height):(d=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)dn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=lL(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/aL(t,r));let c=0,u=0,h,d,f,m,g,v,y,b,w,S,_;for(h=0;h<t;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=v=g.string,y=s[v]=s[v]||{data:{},gc:[]},b=g.lineHeight,w=S=0,!dn(m)&&!ln(m))w=j4(i,y.data,y.gc,w,m),S=b;else if(ln(m))for(d=0,f=m.length;d<f;++d)_=m[d],!dn(_)&&!ln(_)&&(w=j4(i,y.data,y.gc,w,_),S+=b);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}N1e(s,t);const k=o.indexOf(c),E=a.indexOf(u),C=O=>({width:o[O]||0,height:a[O]||0});return{first:C(0),last:C(t-1),widest:C(k),highest:C(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Mxe(this._alignToPixels?yl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=F1e(this.getContext(),e,r))}return this.$context||(this.$context=L1e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Xn(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=mf(s),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,v=g/2,y=function($){return yl(r,$,g)};let b,w,S,_,k,E,C,O,R,D,F,N;if(o==="top")b=y(this.bottom),E=this.bottom-d,O=b-v,D=y(e.top)+v,N=e.bottom;else if(o==="bottom")b=y(this.top),D=e.top,N=y(e.bottom)-v,E=b+v,O=this.top+d;else if(o==="left")b=y(this.right),k=this.right-d,C=b-v,R=y(e.left)+v,F=e.right;else if(o==="right")b=y(this.left),R=e.left,F=y(e.right)-v,k=b+v,C=this.left+d;else if(t==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(mt(o)){const $=Object.keys(o)[0],z=o[$];b=y(this.chart.scales[$].getPixelForValue(z))}D=e.top,N=e.bottom,E=b+v,O=E+d}else if(t==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(mt(o)){const $=Object.keys(o)[0],z=o[$];b=y(this.chart.scales[$].getPixelForValue(z))}k=b-v,C=k-d,R=e.left,F=e.right}const W=dt(i.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/W));for(w=0;w<h;w+=j){const $=this.getContext(w),z=s.setContext($),B=a.setContext($),q=z.lineWidth,U=z.color,V=B.dash||[],K=B.dashOffset,X=z.tickWidth,L=z.tickColor,Y=z.tickBorderDash||[],Q=z.tickBorderDashOffset;S=A1e(this,w,l),S!==void 0&&(_=yl(r,S,q),c?k=C=R=F=_:E=O=D=N=_,f.push({tx1:k,ty1:E,tx2:C,ty2:O,x1:R,y1:D,x2:F,y2:N,width:q,color:U,borderDash:V,borderDashOffset:K,tickWidth:X,tickColor:L,tickBorderDash:Y,tickBorderDashOffset:Q}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=mf(r.grid),f=d+u,m=h?-u:f,g=-Xn(this.labelRotation),v=[];let y,b,w,S,_,k,E,C,O,R,D,F,N="middle";if(i==="top")k=this.bottom-m,E=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,E=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(d);E=j.textAlign,_=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(d);E=j.textAlign,_=j.x}else if(t==="x"){if(i==="center")k=(e.top+e.bottom)/2+f;else if(mt(i)){const j=Object.keys(i)[0],$=i[j];k=this.chart.scales[j].getPixelForValue($)+f}E=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")_=(e.left+e.right)/2-f;else if(mt(i)){const j=Object.keys(i)[0],$=i[j];_=this.chart.scales[j].getPixelForValue($)}E=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?N="top":l==="end"&&(N="bottom"));const W=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){w=a[y],S=w.label;const j=s.setContext(this.getContext(y));C=this.getPixelForTick(y)+s.labelOffset,O=this._resolveTickFontOptions(y),R=O.lineHeight,D=ln(S)?S.length:1;const $=D/2,z=j.color,B=j.textStrokeColor,q=j.textStrokeWidth;let U=E;o?(_=C,E==="inner"&&(y===b-1?U=this.options.reverse?"left":"right":y===0?U=this.options.reverse?"right":"left":U="center"),i==="top"?c==="near"||g!==0?F=-D*R+R/2:c==="center"?F=-W.highest.height/2-$*R+R:F=-W.highest.height+R/2:c==="near"||g!==0?F=R/2:c==="center"?F=W.highest.height/2-$*R:F=W.highest.height-D*R,h&&(F*=-1),g!==0&&!j.showLabelBackdrop&&(_+=R/2*Math.sin(g))):(k=C,F=(1-D)*R/2);let V;if(j.showLabelBackdrop){const K=yr(j.backdropPadding),X=W.heights[y],L=W.widths[y];let Y=F-K.top,Q=0-K.left;switch(N){case"middle":Y-=X/2;break;case"bottom":Y-=X;break}switch(E){case"center":Q-=L/2;break;case"right":Q-=L;break;case"inner":y===b-1?Q-=L:y>0&&(Q-=L/2);break}V={left:Q,top:Y,width:L+K.width,height:X+K.height,color:j.backdropColor}}v.push({label:S,font:O,textOffset:F,options:{rotation:g,color:z,strokeColor:B,strokeWidth:q,textAlign:U,textBaseline:N,translation:[_,k],backdrop:V}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Xn(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const l=i[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=yl(e,this.left,o)-o/2,u=yl(e,this.right,a)+a/2,h=d=l):(h=yl(e,this.top,o)-o/2,d=yl(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&rx(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ym(r,c,0,u,l,a)}i&&ix(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Bn(r.font),o=yr(r.padding),a=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||mt(t)?(l+=o.bottom,ln(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=j1e(this,l,t,a);ym(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:$1e(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=dt(e.grid&&e.grid.z,-1),i=dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bd.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Bn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class G0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;q1e(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,B1e(e,o,r),this.override&&bn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in bn[i]&&(delete bn[i][r],this.override&&delete wc[r])}}function B1e(n,e,t){const r=mm(Object.create(null),[t?bn.get(t):{},bn.get(e),n.defaults]);bn.set(e,r),n.defaultRoutes&&z1e(e,n.defaultRoutes),n.descriptors&&bn.describe(e,n.descriptors)}function z1e(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");bn.route(s,i,l,a)})}function q1e(n){return"id"in n&&"defaults"in n}class U1e{constructor(){this.controllers=new G0(hp,"datasets",!0),this.elements=new G0(ri,"elements"),this.plugins=new G0(Object,"plugins"),this.scales=new G0(bd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Nt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=tR(e);zt(r["before"+i],[],r),t[e](r),zt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ns=new U1e;class W1e{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[t,i,s.options];if(zt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){dn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=dt(r.options&&r.options.plugins,{}),s=H1e(r);return i===!1&&!t?[]:G1e(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function H1e(n){const e={},t=[],r=Object.keys(Ns.plugins.items);for(let s=0;s<r.length;s++)t.push(Ns.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Y1e(n,e){return!e&&n===!1?null:n===!0?{}:n}function G1e(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=Y1e(r[l],i);c!==null&&s.push({plugin:a,options:V1e(n.config,{plugin:a,local:t[l]},c,o)})}return s}function V1e(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vP(n,e){const t=bn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function K1e(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function X1e(n,e){return n===e?"_index_":"_value_"}function uL(n){if(n==="x"||n==="y"||n==="r")return n}function Q1e(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yP(n,...e){if(uL(n))return n;for(const t of e){const r=t.axis||Q1e(t.position)||n.length>1&&uL(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hL(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function J1e(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return hL(n,"x",t[0])||hL(n,"y",t[0])}return{}}function Z1e(n,e){const t=wc[n.type]||{scales:{}},r=e.scales||{},i=vP(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!mt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=yP(o,a,J1e(o,n),bn.scales[a.type]),c=X1e(l,i),u=t.scales||{};s[o]=ap(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||vP(a,e),u=(wc[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=K1e(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),ap(s[f],[{axis:d},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];ap(a,[bn.scales[a.type],bn.scale])}),s}function xX(n){const e=n.options||(n.options={});e.plugins=dt(e.plugins,{}),e.scales=Z1e(n,e)}function wX(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function e_e(n){return n=n||{},n.data=wX(n.data),xX(n),n}const dL=new Map,_X=new Set;function V0(n,e){let t=dL.get(n);return t||(t=e(),dL.set(n,t),_X.add(t)),t}const gf=(n,e,t)=>{const r=gm(e,t);r!==void 0&&n.add(r)};class t_e{constructor(e){this._config=e_e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return V0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return V0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return V0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return V0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>gf(l,e,h))),u.forEach(h=>gf(l,i,h)),u.forEach(h=>gf(l,wc[s]||{},h)),u.forEach(h=>gf(l,bn,h)),u.forEach(h=>gf(l,mP,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_X.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,wc[t]||{},bn.datasets[t]||{},{type:t},bn,mP]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=fL(this._resolverCache,e,i);let l=o;if(r_e(o,t)){s.$shared=!1,r=Qr(r)?r():r;const c=this.createResolver(e,r,a);l=Xh(o,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=fL(this._resolverCache,e,r);return mt(t)?Xh(s,t,void 0,i):s}}function fL(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:aR(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const n_e=n=>mt(n)&&Object.getOwnPropertyNames(n).some(e=>Qr(n[e]));function r_e(n,e){const{isScriptable:t,isIndexable:r}=oX(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(Qr(a)||n_e(a))||o&&ln(a))return!0}return!1}var i_e="4.5.1";const s_e=["top","bottom","left","right","chartArea"];function pL(n,e){return n==="top"||n==="bottom"||s_e.indexOf(n)===-1&&e==="x"}function mL(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function gL(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),zt(t&&t.onComplete,[n],e)}function o_e(n){const e=n.chart,t=e.options.animation;zt(t&&t.onProgress,[n],e)}function SX(n){return uR()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rv={},vL=n=>{const e=SX(n);return Object.values(Rv).filter(t=>t.canvas===e).pop()};function a_e(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function l_e(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class ds{static register(...e){Ns.add(...e),yL()}static unregister(...e){Ns.remove(...e),yL()}constructor(e,t){const r=this.config=new t_e(t),i=SX(e),s=vL(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||E1e(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=mxe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new W1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Dxe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Rv[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yo.listen(this,"complete",gL),yo.listen(this,"progress",o_e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return dn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():U4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return B4(this.canvas,this.ctx),this}stop(){return yo.stop(this),this}resize(e,t){yo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,U4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),zt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Nt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=yP(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Nt(s,o=>{const a=o.options,l=a.id,c=yP(l,a),u=dt(a.type,o.dtype);(a.position===void 0||pL(a.position,c)!==pL(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=Ns.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Nt(i,(o,a)=>{o||delete r[a]}),Nt(r,o=>{Ui.configure(this,o,o.options),Ui.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(mL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||vP(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Ns.getController(a),{datasetElementType:c,dataElementType:u}=bn.datasets[a];Object.assign(l,{dataElementType:Ns.getElement(u),datasetElementType:c&&Ns.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Nt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mL("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Nt(this.scales,e=>{Ui.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!O4(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;a_e(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!O4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ui.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Nt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Qr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yo.has(this)?this.attached&&!yo.running(this)&&yo.start(this):(this.draw(),gL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=$we(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&rx(t,i),e.controller.draw(),i&&ix(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=s1e.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Lc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);xi(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),B4(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Nt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Nt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Nt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ay(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),l=wxe(e),c=l_e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,zt(s.onHover,[e,a,this],this),l&&zt(s.onClick,[e,a,this],this));const u=!Ay(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}le(ds,"defaults",bn),le(ds,"instances",Rv),le(ds,"overrides",wc),le(ds,"registry",Ns),le(ds,"version",i_e),le(ds,"getChart",vL);function yL(){return Nt(ds.instances,n=>n._plugins.invalidate())}function kX(n,e,t=e){n.lineCap=dt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(dt(t.borderDash,e.borderDash)),n.lineDashOffset=dt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=dt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=dt(t.borderWidth,e.borderWidth),n.strokeStyle=dt(t.borderColor,e.borderColor)}function c_e(n,e,t){n.lineTo(t.x,t.y)}function u_e(n){return n.stepped?Hxe:n.tension||n.cubicInterpolationMode==="monotone"?Yxe:c_e}function CX(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function h_e(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=CX(i,t,r),u=u_e(s);let{move:h=!0,reverse:d}=r||{},f,m,g;for(f=0;f<=c;++f)m=i[(a+(d?c-f:f))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,g,m,d,s.stepped),g=m);return l&&(m=i[(a+(d?c:0))%o],u(n,g,m,d,s.stepped)),!!l}function d_e(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=CX(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,m,g,v,y;const b=S=>(o+(c?a-S:S))%s,w=()=>{g!==v&&(n.lineTo(u,v),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(f=i[b(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const S=f.x,_=f.y,k=S|0;k===m?(_<g?g=_:_>v&&(v=_),u=(h*u+S)/++h):(w(),n.lineTo(S,_),m=k,h=0,g=v=_),y=_}w()}function bP(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?d_e:h_e}function f_e(n){return n.stepped?Cwe:n.tension||n.cubicInterpolationMode==="monotone"?Ewe:El}function p_e(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),kX(n,e.options),n.stroke(i)}function m_e(n,e,t,r){const{segments:i,options:s}=e,o=bP(e);for(const a of i)kX(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const g_e=typeof Path2D=="function";function v_e(n,e,t,r){g_e&&!e.options.segment?p_e(n,e,t,r):m_e(n,e,t,r)}class jf extends ri{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;vwe(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Awe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Owe(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=f_e(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],m=s[d];if(f===m){a.push(f);continue}const g=Math.abs((i-f[t])/(m[t]-f[t])),v=l(f,m,g,r.stepped);v[t]=e[t],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,t,r){return bP(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=bP(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),v_e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}le(jf,"id","line"),le(jf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),le(jf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),le(jf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function bL(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Dv extends ri{constructor(t){super();le(this,"parsed");le(this,"skip");le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return bL(this,t,"x",r)}inYRange(t,r){return bL(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!vm(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,gP(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}le(Dv,"id","point"),le(Dv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),le(Dv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const xL=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},y_e=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let wL=class extends ri{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=zt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Bn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=xL(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,g)=>{const v=r+t/2+s.measureText(m.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:i},c[c.length-1]+=v+a}),h}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,m=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:b,itemHeight:w}=b_e(r,t,s,v,i);y>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,g++,d=f=0),l[y]={left:m,top:f,col:g,width:b,height:w},d=Math.max(d,b),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ku(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=mr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=mr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=mr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=mr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rx(e,this),this._draw(),ix(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=bn.color,l=Ku(e.rtl,this.left,this.width),c=Bn(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=xL(o,h),y=function(k,E,C){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const O=dt(C.lineWidth,1);if(i.fillStyle=dt(C.fillStyle,a),i.lineCap=dt(C.lineCap,"butt"),i.lineDashOffset=dt(C.lineDashOffset,0),i.lineJoin=dt(C.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=dt(C.strokeStyle,a),i.setLineDash(dt(C.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:O},D=l.xPlus(k,m/2),F=E+d;iX(i,R,D,F,o.pointStyleWidth&&m)}else{const R=E+Math.max((h-g)/2,0),D=l.leftForLtr(k,m),F=Vu(C.borderRadius);i.beginPath(),Object.values(F).some(N=>N!==0)?jy(i,{x:D,y:R,w:m,h:g,radius:F}):i.rect(D,R,m,g),i.fill(),O!==0&&i.stroke()}i.restore()},b=function(k,E,C){ym(i,C.text,k,E+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:mr(s,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:mr(s,this.top+S+u,this.bottom-t[0].height),line:0},hX(this.ctx,e.textDirection);const _=v+u;this.legendItems.forEach((k,E)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const C=i.measureText(k.text).width,O=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),R=m+d+C;let D=f.x,F=f.y;l.setWidth(this.width),w?E>0&&D+R+u>this.right&&(F=f.y+=_,f.line++,D=f.x=mr(s,this.left+u,this.right-r[f.line])):E>0&&F+_>this.bottom&&(D=f.x=D+t[f.line].width+u,f.line++,F=f.y=mr(s,this.top+S+u,this.bottom-t[f.line].height));const N=l.x(D);if(y(N,F,k),D=Axe(O,D+m+d,w?D+R:this.right,e.rtl),b(l.x(D),F,k),w)f.x+=R+u;else if(typeof k.text!="string"){const W=c.lineHeight;f.y+=EX(k,W)+u}else f.y+=_}),dX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Bn(t.font),i=yr(t.padding);if(!t.display)return;const s=Ku(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=mr(e.align,h,this.right-d);else{const m=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+mr(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=mr(a,h,h+d);o.textAlign=s.textAlign(iR(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,ym(o,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=Bn(e.font),r=yr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Lf(e,this.left,this.right)&&Lf(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Lf(e,i.left,i.left+i.width)&&Lf(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!__e(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=y_e(i,r);i&&!s&&zt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&zt(t.onHover,[e,r,this],this)}else r&&zt(t.onClick,[e,r,this],this)}};function b_e(n,e,t,r,i){const s=x_e(r,n,e,t),o=w_e(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function x_e(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function w_e(n,e,t){let r=n;return typeof e.text!="string"&&(r=EX(e,t)),r}function EX(n,e){const t=n.text?n.text.length:0;return e*t}function __e(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var S_e={id:"legend",_element:wL,start(n,e,t){const r=n.legend=new wL({ctx:n.ctx,options:t,chart:n});Ui.configure(n,r,t),Ui.addBox(n,r)},stop(n){Ui.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Ui.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=yr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class TX extends ri{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=ln(r.text)?r.text.length:1;this._padding=yr(r.padding);const s=i*Bn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=mr(a,r,s),h=t+e,c=s-r):(o.position==="left"?(u=r+e,h=mr(a,i,t),l=Dt*-.5):(u=s-e,h=mr(a,t,i),l=Dt*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Bn(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ym(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:iR(t.align),textBaseline:"middle",translation:[o,a]})}}function k_e(n,e){const t=new TX({ctx:n.ctx,options:e,chart:n});Ui.configure(n,t,e),Ui.addBox(n,t),n.titleBlock=t}var C_e={id:"title",_element:TX,start(n,e,t){k_e(n,t)},stop(n){const e=n.titleBlock;Ui.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Ui.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bf={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Kh(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Ds(n,e){return e&&(ln(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function bo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function E_e(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function _L(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=Bn(e.bodyFont),c=Bn(e.titleFont),u=Bn(e.footerFont),h=s.length,d=i.length,f=r.length,m=yr(e.padding);let g=m.height,v=0,y=r.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*S+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const w=function(S){v=Math.max(v,t.measureText(S).width+b)};return t.save(),t.font=c.string,Nt(n.title,w),t.font=l.string,Nt(n.beforeBody.concat(n.afterBody),w),b=e.displayColors?o+2+e.boxPadding:0,Nt(r,S=>{Nt(S.before,w),Nt(S.lines,w),Nt(S.after,w)}),b=0,t.font=u.string,Nt(n.footer,w),t.restore(),v+=m.width,{width:v,height:g}}function T_e(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function M_e(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function P_e(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),M_e(c,n,e,t)&&(c="center"),c}function SL(n,e,t){const r=t.yAlign||e.yAlign||T_e(n,t);return{xAlign:t.xAlign||e.xAlign||P_e(n,e,t,r),yAlign:r}}function I_e(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function O_e(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function kL(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Vu(o);let m=I_e(e,a);const g=O_e(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:Ws(m,0,r.width-e.width),y:Ws(g,0,r.height-e.height)}}function K0(n,e,t){const r=yr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function CL(n){return Ds([],bo(n))}function R_e(n,e,t){return Lc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function EL(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const MX={beforeTitle:go,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:go,beforeBody:go,beforeLabel:go,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return dn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:go,afterBody:go,beforeFooter:go,footer:go,afterFooter:go};function jr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?MX[e].call(t,r):i}class xP extends ri{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new dR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=R_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=jr(r,"beforeTitle",this,e),s=jr(r,"title",this,e),o=jr(r,"afterTitle",this,e);let a=[];return a=Ds(a,bo(i)),a=Ds(a,bo(s)),a=Ds(a,bo(o)),a}getBeforeBody(e,t){return CL(jr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Nt(e,s=>{const o={before:[],lines:[],after:[]},a=EL(r,s);Ds(o.before,bo(jr(a,"beforeLabel",this,s))),Ds(o.lines,jr(a,"label",this,s)),Ds(o.after,bo(jr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return CL(jr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=jr(r,"beforeFooter",this,e),s=jr(r,"footer",this,e),o=jr(r,"afterFooter",this,e);let a=[];return a=Ds(a,bo(i)),a=Ds(a,bo(s)),a=Ds(a,bo(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(E_e(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Nt(a,u=>{const h=EL(e.callbacks,u);i.push(jr(h,"labelColor",this,u)),s.push(jr(h,"labelPointStyle",this,u)),o.push(jr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Bf[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=_L(this,r),c=Object.assign({},a,l),u=SL(this.chart,r,c),h=kL(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Vu(a),{x:d,y:f}=e,{width:m,height:g}=t;let v,y,b,w,S,_;return s==="center"?(S=f+g/2,i==="left"?(v=d,y=v-o,w=S+o,_=S-o):(v=d+m,y=v+o,w=S-o,_=S+o),b=v):(i==="left"?y=d+Math.max(l,u)+o:i==="right"?y=d+m-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,S=w-o,v=y-o,b=y+o):(w=f+g,S=w+o,v=y+o,b=y-o),_=w),{x1:v,x2:y,x3:b,y1:w,y2:S,y3:_}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Ku(r.rtl,this.x,this.width);for(e.x=K0(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",o=Bn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Bn(s.bodyFont),h=K0(this,"left",s),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(d,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,gP(e,g,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,gP(e,g,v,y)}else{e.lineWidth=mt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),v=i.leftForLtr(i.xPlus(d,1),c-2),y=Vu(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,jy(e,{x:g,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),jy(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Bn(r.bodyFont);let d=h.lineHeight,f=0;const m=Ku(r.rtl,this.x,this.width),g=function(C){t.fillText(C,m.x(e.x+f),e.y+d/2),e.y+=d+s},v=m.textAlign(o);let y,b,w,S,_,k,E;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=K0(this,v,r),t.fillStyle=r.bodyColor,Nt(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,k=i.length;S<k;++S){for(y=i[S],b=this.labelTextColors[S],t.fillStyle=b,Nt(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(t,e,S,m,r),d=Math.max(h.lineHeight,l)),_=0,E=w.length;_<E;++_)g(w[_]),d=h.lineHeight;Nt(y.after,g)}f=0,d=h.lineHeight,Nt(this.afterBody,g),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Ku(r.rtl,this.x,this.width);for(e.x=K0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",o=Bn(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Vu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+c,l+u-m),t.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Bf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=_L(this,e),l=Object.assign({},o,this._size),c=SL(t,e,l),u=kL(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=yr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),hX(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),dX(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Ay(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),l=t||!Ay(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=Bf[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}le(xP,"positioners",Bf);var D_e={id:"tooltip",_element:xP,positioners:Bf,afterInit(n,e,t){t&&(n.tooltip=new xP({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const A_e=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function N_e(n,e,t,r){const i=n.indexOf(e);if(i===-1)return A_e(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const L_e=(n,e)=>n===null?null:Ws(Math.round(n),0,e);function TL(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class wP extends bd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(dn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:N_e(r,e,dt(t,e),this._addedLabels),L_e(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return TL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}le(wP,"id","category"),le(wP,"defaults",{ticks:{callback:TL}});function F_e(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=s||1,m=u-1,{min:g,max:v}=e,y=!dn(o),b=!dn(a),w=!dn(c),S=(v-g)/(h+1);let _=R4((v-g)/m/f)*f,k,E,C,O;if(_<1e-14&&!y&&!b)return[{value:g},{value:v}];O=Math.ceil(v/_)-Math.floor(g/_),O>m&&(_=R4(O*_/m/f)*f),dn(l)||(k=Math.pow(10,l),_=Math.ceil(_*k)/k),i==="ticks"?(E=Math.floor(g/_)*_,C=Math.ceil(v/_)*_):(E=g,C=v),y&&b&&s&&Cxe((a-o)/s,_/1e3)?(O=Math.round(Math.min((a-o)/_,u)),_=(a-o)/O,E=o,C=a):w?(E=y?o:E,C=b?a:C,O=c-1,_=(C-E)/O):(O=(C-E)/_,lp(O,Math.round(O),_/1e3)?O=Math.round(O):O=Math.ceil(O));const R=Math.max(D4(_),D4(E));k=Math.pow(10,dn(l)?R:l),E=Math.round(E*k)/k,C=Math.round(C*k)/k;let D=0;for(y&&(d&&E!==o?(t.push({value:o}),E<o&&D++,lp(Math.round((E+D*_)*k)/k,o,ML(o,S,n))&&D++):E<o&&D++);D<O;++D){const F=Math.round((E+D*_)*k)/k;if(b&&F>a)break;t.push({value:F})}return b&&d&&C!==a?t.length&&lp(t[t.length-1].value,a,ML(a,S,n))?t[t.length-1].value=a:t.push({value:a}):(!b||C===a)&&t.push({value:C}),t}function ML(n,e,{horizontal:t,minRotation:r}){const i=Xn(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class $_e extends bd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return dn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=t?i:l,a=l=>s=r?s:l;if(e){const l=Gh(i),c=Gh(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=F_e(i,s);return e.bounds==="ticks"&&Exe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return oR(e,this.chart.options.locale,this.options.ticks.format)}}class _P extends $_e{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ei(e)?e:0,this.max=ei(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Xn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}le(_P,"id","linear"),le(_P,"defaults",{ticks:{callback:rX.formatters.numeric}});const ax={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wr=Object.keys(ax);function PL(n,e){return n-e}function IL(n,e){if(dn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ei(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Vh(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function OL(n,e,t,r){const i=Wr.length;for(let s=Wr.indexOf(n);s<i-1;++s){const o=ax[Wr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Wr[s]}return Wr[i-1]}function j_e(n,e,t,r,i){for(let s=Wr.length-1;s>=Wr.indexOf(t);s--){const o=Wr[s];if(ax[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Wr[t?Wr.indexOf(t):0]}function B_e(n){for(let e=Wr.indexOf(n)+1,t=Wr.length;e<t;++e)if(ax[Wr[e]].common)return Wr[e]}function RL(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=rR(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function z_e(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function DL(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:z_e(n,r,i,t)}class qy extends bd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new e1e._date(e.adapters.date);i.init(t),ap(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:IL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ei(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ei(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Ixe(i,s,o);return this._unit=t.unit||(r.autoSkip?OL(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):j_e(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:B_e(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),DL(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ws(t,0,o),r=Ws(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||OL(s.minUnit,t,r,this._getLabelCapacity(t)),a=dt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Vh(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)RL(u,d,m);return(d===r||i.bounds==="ticks"||f===1)&&RL(u,d,m),Object.keys(u).sort(PL).map(g=>+g)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return zt(o,[e,t,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=r[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Xn(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,DL(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(IL(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Rxe(e.sort(PL))}}le(qy,"id","time"),le(qy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function X0(n,e,t){let r=0,i=n.length-1,s,o,a,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=pP(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=pP(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:l}=n[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class AL extends qy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=X0(t,this.min),this._tableRange=X0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(X0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return X0(this._table,r*this._tableRange+this._minPos,!0)}}le(AL,"id","timeseries"),le(AL,"defaults",qy.defaults);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const NL={modes:{point(n,e){return Av(n,e,{intersect:!0})},nearest(n,e,t){return W_e(n,e,t)},x(n,e,t){return Av(n,e,{intersect:t.intersect,axis:"x"})},y(n,e,t){return Av(n,e,{intersect:t.intersect,axis:"y"})}}};function pR(n,e,t){return(NL.modes[t.mode]||NL.modes.nearest)(n,e,t)}function q_e(n,e,t){return t!=="x"&&t!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,t,!0)}function U_e(n,e,t){return t==="x"?{x:n.x,y:e.y}:t==="y"?{x:e.x,y:n.y}:e}function Av(n,e,t){return n.filter(r=>t.intersect?r.inRange(e.x,e.y):q_e(r,e,t.axis))}function W_e(n,e,t){let r=Number.POSITIVE_INFINITY;return Av(n,e,t).reduce((i,s)=>{const o=s.getCenterPoint(),a=U_e(e,o,t.axis),l=Kh(e,a);return l<r?(i=[s],r=l):l===r&&i.push(s),i},[]).sort((i,s)=>i._index-s._index).slice(0,1)}function Fc(n,e,t){const r=Math.cos(t),i=Math.sin(t),s=e.x,o=e.y;return{x:s+r*(n.x-s)-i*(n.y-o),y:o+i*(n.x-s)+r*(n.y-o)}}const H_e=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,$l=.001,lx=(n,e,t)=>Math.min(t,Math.max(e,n)),PX=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function Y_e(n,e,t){for(const r of Object.keys(n))n[r]=lx(n[r],e,t);return n}function G_e(n,e,t,r){return!n||!e||t<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(t+r,2)}function IX(n,{x:e,y:t,x2:r,y2:i},s,{borderWidth:o,hitTolerance:a}){const l=(o+a)/2,c=n.x>=e-l-$l&&n.x<=r+l+$l,u=n.y>=t-l-$l&&n.y<=i+l+$l;return s==="x"?c:(s==="y"||c)&&u}function OX(n,{rect:e,center:t},r,{rotation:i,borderWidth:s,hitTolerance:o}){const a=Fc(n,t,Xn(-i));return IX(a,e,r,{borderWidth:s,hitTolerance:o})}function $c(n,e){const{centerX:t,centerY:r}=n.getProps(["centerX","centerY"],e);return{x:t,y:r}}function V_e(n,e,t,r=!0){const i=t.split(".");let s=0;for(const o of e.split(".")){const a=i[s++];if(parseInt(o,10)<parseInt(a,10))break;if(H_e(a,o)){if(r)throw new Error(`${n} v${t} is not supported. v${e} or newer is required.`);return!1}}return!0}const RX=n=>typeof n=="string"&&n.endsWith("%"),DX=n=>parseFloat(n)/100,AX=n=>lx(DX(n),0,1),vf=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),K_e={box:n=>vf(n.centerX,n.centerY),doughnutLabel:n=>vf(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>vf(n.centerX,n.centerY),line:n=>vf(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>vf(n.centerX,n.centerY)};function mR(n,e){return e==="start"?0:e==="end"?n:RX(e)?AX(e)*n:n/2}function el(n,e,t=!0){return typeof e=="number"?e:RX(e)?(t?AX(e):DX(e))*n:n}function X_e(n,e){const{x:t,width:r}=n,i=e.textAlign;return i==="center"?t+r/2:i==="end"||i==="right"?t+r:t}function NX(n,e,{borderWidth:t,position:r,xAdjust:i,yAdjust:s},o){const a=mt(o),l=e.width+(a?o.width:0)+t,c=e.height+(a?o.height:0)+t,u=gR(r),h=LL(n.x,l,i,u.x),d=LL(n.y,c,s,u.y);return{x:h,y:d,x2:h+l,y2:d+c,width:l,height:c,centerX:h+l/2,centerY:d+c/2}}function gR(n,e="center"){return mt(n)?{x:dt(n.x,e),y:dt(n.y,e)}:(n=dt(n,e),{x:n,y:n})}const LX=(n,e)=>n&&n.autoFit&&e<1;function FX(n,e){const t=n.font,r=ln(t)?t:[t];return LX(n,e)?r.map(function(i){const s=Bn(i);return s.size=Math.floor(i.size*e),s.lineHeight=i.lineHeight,Bn(s)}):r.map(i=>Bn(i))}function $X(n){return n&&(xi(n.xValue)||xi(n.yValue))}function LL(n,e,t=0,r){return n-mR(e,r)+t}function xd(n,e,t){const r=t.init;if(r){if(r===!0)return BX(e,t)}else return;return Q_e(n,e,t)}function jX(n,e,t){let r=!1;return e.forEach(i=>{Qr(n[i])?(r=!0,t[i]=n[i]):xi(t[i])&&delete t[i]}),r}function BX(n,e){const t=e.type||"line";return K_e[t](n)}function Q_e(n,e,t){const r=zt(t.init,[{chart:n,properties:e,options:t}]);if(r===!0)return BX(e,t);if(mt(r))return r}const Z1=new Map,J_e=n=>isNaN(n)||n<=0,Z_e=n=>n.reduce(function(e,t){return e+=t.string,e},"");function cx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function ux(n,{x:e,y:t},r){r&&(n.translate(e,t),n.rotate(Xn(r)),n.translate(-e,-t))}function Ho(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function wd(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function hx(n,e){const t=e.content;if(cx(t))return{width:el(t.width,e.width),height:el(t.height,e.height)};const r=FX(e),i=e.textStrokeWidth,s=ln(t)?t:[t],o=s.join()+Z_e(r)+i+(n._measureText?"-spriting":"");return Z1.has(o)||Z1.set(o,rSe(n,s,r,i)),Z1.get(o)}function zX(n,e,t){const{x:r,y:i,width:s,height:o}=e;n.save(),wd(n,t);const a=Ho(n,t);n.fillStyle=t.backgroundColor,n.beginPath(),jy(n,{x:r,y:i,w:s,h:o,radius:Y_e(Vu(t.borderRadius),0,Math.min(s,o)/2)}),n.closePath(),n.fill(),a&&(n.shadowColor=t.borderShadowColor,n.stroke()),n.restore()}function qX(n,e,t,r){const i=t.content;if(cx(i)){n.save(),n.globalAlpha=oSe(t.opacity,i.style.opacity),n.drawImage(i,e.x,e.y,e.width,e.height),n.restore();return}const s=ln(i)?i:[i],o=FX(t,r),a=t.color,l=ln(a)?a:[a],c=X_e(e,t),u=e.y+t.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=t.textAlign,eSe(n,t)&&iSe(n,{x:c,y:u},s,o),sSe(n,{x:c,y:u},s,{fonts:o,colors:l}),n.restore()}function eSe(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function tSe(n,e,t,r){const{radius:i,options:s}=e,o=s.pointStyle,a=s.rotation;let l=(a||0)*nR;if(cx(o)){n.save(),n.translate(t,r),n.rotate(l),n.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),n.restore();return}J_e(i)||nSe(n,{x:t,y:r,radius:i,rotation:a,style:o,rad:l})}function nSe(n,{x:e,y:t,radius:r,rotation:i,style:s,rad:o}){let a,l,c,u;switch(n.beginPath(),s){default:n.arc(e,t,r,0,or),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Fy,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Fy,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),n.closePath();break;case"rectRounded":u=r*.516,c=r-u,a=Math.cos(o+ji)*c,l=Math.sin(o+ji)*c,n.arc(e-a,t-l,u,o-Dt,o-ar),n.arc(e+l,t-a,u,o-ar,o),n.arc(e+a,t+l,u,o,o+ar),n.arc(e-l,t+a,u,o+ar,o+Dt),n.closePath();break;case"rect":if(!i){c=Math.SQRT1_2*r,n.rect(e-c,t-c,2*c,2*c);break}o+=ji;case"rectRot":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+l,t-a),n.lineTo(e+a,t+l),n.lineTo(e-l,t+a),n.closePath();break;case"crossRot":o+=ji;case"cross":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"star":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a),o+=ji,a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"line":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l);break;case"dash":n.moveTo(e,t),n.lineTo(e+Math.cos(o)*r,t+Math.sin(o)*r);break}n.fill()}function rSe(n,e,t,r){n.save();const i=e.length;let s=0,o=r;for(let a=0;a<i;a++){const l=t[Math.min(a,t.length-1)];n.font=l.string;const c=e[a];s=Math.max(s,n.measureText(c).width+r),o+=l.lineHeight}return n.restore(),{width:s,height:o}}function iSe(n,{x:e,y:t},r,i){n.beginPath();let s=0;r.forEach(function(o,a){const l=i[Math.min(a,i.length-1)],c=l.lineHeight;n.font=l.string,n.strokeText(o,e,t+c/2+s),s+=c}),n.stroke()}function sSe(n,{x:e,y:t},r,{fonts:i,colors:s}){let o=0;r.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=i[Math.min(l,i.length-1)],h=u.lineHeight;n.beginPath(),n.font=u.string,n.fillStyle=c,n.fillText(a,e,t+h/2+o),o+=h,n.fill()})}function oSe(n,e){const t=Vh(n)?n:e;return Vh(t)?lx(t,0,1):1}const UX=["left","bottom","top","right"];function aSe(n,e){const{pointX:t,pointY:r,options:i}=e,s=i.callout,o=s&&s.display&&dSe(e,s);if(!o||pSe(e,s,o))return;if(n.save(),n.beginPath(),!Ho(n,s))return n.restore();const{separatorStart:l,separatorEnd:c}=lSe(e,o),{sideStart:u,sideEnd:h}=uSe(e,o,l);(s.margin>0||i.borderWidth===0)&&(n.moveTo(l.x,l.y),n.lineTo(c.x,c.y)),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y);const d=Fc({x:t,y:r},e.getCenterPoint(),Xn(-e.rotation));n.lineTo(d.x,d.y),n.stroke(),n.restore()}function lSe(n,e){const{x:t,y:r,x2:i,y2:s}=n,o=cSe(n,e);let a,l;return e==="left"||e==="right"?(a={x:t+o,y:r},l={x:a.x,y:s}):(a={x:t,y:r+o},l={x:i,y:a.y}),{separatorStart:a,separatorEnd:l}}function cSe(n,e){const{width:t,height:r,options:i}=n,s=i.callout.margin+i.borderWidth/2;return e==="right"?t+s:e==="bottom"?r+s:-s}function uSe(n,e,t){const{y:r,width:i,height:s,options:o}=n,a=o.callout.start,l=hSe(e,o.callout);let c,u;return e==="left"||e==="right"?(c={x:t.x,y:r+el(s,a)},u={x:c.x+l,y:c.y}):(c={x:t.x+el(i,a),y:t.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function hSe(n,e){const t=e.side;return n==="left"||n==="top"?-t:t}function dSe(n,e){const t=e.position;return UX.includes(t)?t:fSe(n,e)}function fSe(n,e){const{x:t,y:r,x2:i,y2:s,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=n,f={x:u,y:h},m=e.start,g=el(o,m),v=el(a,m),y=[t,t+g,t+g,i],b=[r+v,s,r,s],w=[];for(let S=0;S<4;S++){const _=Fc({x:y[S],y:b[S]},f,Xn(d));w.push({position:UX[S],distance:Kh(_,{x:l,y:c})})}return w.sort((S,_)=>S.distance-_.distance)[0].position}function pSe(n,e,t){const{pointX:r,pointY:i}=n,s=e.margin;let o=r,a=i;return t==="left"?o+=s:t==="right"?o-=s:t==="top"?a+=s:t==="bottom"&&(a-=s),n.inRange(o,a)}const FL={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function Jh(n,e,t){return e=typeof e=="number"?e:n.parse(e),ei(e)?n.getPixelForValue(e):t}function _c(n,e,t){const r=e[t];if(r||t==="scaleID")return r;const i=t.charAt(0),s=Object.values(n).filter(o=>o.axis&&o.axis===i);return s.length?s[0].id:i}function WX(n,e){if(n){const t=n.options.reverse,r=Jh(n,e.min,t?e.end:e.start),i=Jh(n,e.max,t?e.start:e.end);return{start:r,end:i}}}function HX(n,e){const{chartArea:t,scales:r}=n,i=r[_c(r,e,"xScaleID")],s=r[_c(r,e,"yScaleID")];let o=t.width/2,a=t.height/2;return i&&(o=Jh(i,e.xValue,i.left+i.width/2)),s&&(a=Jh(s,e.yValue,s.top+s.height/2)),{x:o,y:a}}function vR(n,e){const t=n.scales,r=t[_c(t,e,"xScaleID")],i=t[_c(t,e,"yScaleID")];if(!r&&!i)return{};let{left:s,right:o}=r||n.chartArea,{top:a,bottom:l}=i||n.chartArea;const c=$L(r,{min:e.xMin,max:e.xMax,start:s,end:o});s=c.start,o=c.end;const u=$L(i,{min:e.yMin,max:e.yMax,start:l,end:a});return a=u.start,l=u.end,{x:s,y:a,x2:o,y2:l,width:o-s,height:l-a,centerX:s+(o-s)/2,centerY:a+(l-a)/2}}function YX(n,e){if(!$X(e)){const t=vR(n,e);let r=e.radius;(!r||isNaN(r))&&(r=Math.min(t.width,t.height)/2,e.radius=r);const i=r*2,s=t.centerX+e.xAdjust,o=t.centerY+e.yAdjust;return{x:s-r,y:o-r,x2:s+r,y2:o+r,centerX:s,centerY:o,width:i,height:i,radius:r}}return gSe(n,e)}function mSe(n,e){const{scales:t,chartArea:r}=n,i=t[e.scaleID],s={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?vSe(i,s,e):ySe(t,s,e),s}function GX(n,e){const t=vR(n,e);return t.initProperties=xd(n,t,e),t.elements=[{type:"label",optionScope:"label",properties:wSe(n,t,e),initProperties:t.initProperties}],t}function gSe(n,e){const t=HX(n,e),r=e.radius*2;return{x:t.x-e.radius+e.xAdjust,y:t.y-e.radius+e.yAdjust,x2:t.x+e.radius+e.xAdjust,y2:t.y+e.radius+e.yAdjust,centerX:t.x+e.xAdjust,centerY:t.y+e.yAdjust,radius:e.radius,width:r,height:r}}function $L(n,e){const t=WX(n,e)||e;return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}function vSe(n,e,t){const r=Jh(n,t.value,NaN),i=Jh(n,t.endValue,r);n.isHorizontal()?(e.x=r,e.x2=i):(e.y=r,e.y2=i)}function ySe(n,e,t){for(const r of Object.keys(FL)){const i=n[_c(n,t,r)];if(i){const{min:s,max:o,start:a,end:l,startProp:c,endProp:u}=FL[r],h=WX(i,{min:t[s],max:t[o],start:i[a],end:i[l]});e[c]=h.start,e[u]=h.end}}}function bSe({properties:n,options:e},t,r,i){const{x:s,x2:o,width:a}=n;return VX({start:s,end:o,borderWidth:e.borderWidth},{position:r.x,padding:{start:i.left,end:i.right},adjust:e.label.xAdjust,size:t.width})}function xSe({properties:n,options:e},t,r,i){const{y:s,y2:o,height:a}=n;return VX({start:s,end:o,borderWidth:e.borderWidth},{position:r.y,padding:{start:i.top,end:i.bottom},adjust:e.label.yAdjust,size:t.height})}function VX(n,e){const{start:t,end:r,borderWidth:i}=n,{position:s,padding:{start:o,end:a},adjust:l}=e,c=r-i-t-o-a-e.size;return t+i/2+l+mR(c,s)}function wSe(n,e,t){const r=t.label;r.backgroundColor="transparent",r.callout.display=!1;const i=gR(r.position),s=yr(r.padding),o=hx(n.ctx,r),a=bSe({properties:e,options:t},o,i,s),l=xSe({properties:e,options:t},o,i,s),c=o.width+s.width,u=o.height+s.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:r.rotation}}const SP=["enter","leave"],yR=SP.concat("click");function _Se(n,e,t){e.listened=jX(t,yR,e.listeners),e.moveListened=!1,SP.forEach(r=>{Qr(t[r])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(r=>{!e.listened&&Qr(r.click)&&(e.listened=!0),e.moveListened||SP.forEach(i=>{Qr(r[i])&&(e.listened=!0,e.moveListened=!0)})})}function SSe(n,e,t){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return kSe(n,e,t);case"click":return CSe(n,e,t)}}function kSe(n,e,t){if(!n.moveListened)return;let r;e.type==="mousemove"?r=pR(n.visibleElements,e,t.interaction):r=[];const i=n.hovered;n.hovered=r;const s={state:n,event:e};let o=jL(s,"leave",i,r);return jL(s,"enter",r,i)||o}function jL({state:n,event:e},t,r,i){let s;for(const o of r)i.indexOf(o)<0&&(s=KX(o.options[t]||n.listeners[t],o,e)||s);return s}function CSe(n,e,t){const r=n.listeners,i=pR(n.visibleElements,e,t.interaction);let s;for(const o of i)s=KX(o.options.click||r.click,o,e)||s;return s}function KX(n,e,t){return zt(n,[e.$context,t])===!0}const Uy=["afterDraw","beforeDraw"];function ESe(n,e,t){const r=e.visibleElements;e.hooked=jX(t,Uy,e.hooks),e.hooked||r.forEach(i=>{e.hooked||Uy.forEach(s=>{Qr(i.options[s])&&(e.hooked=!0)})})}function BL(n,e,t){if(n.hooked){const r=e.options[t]||n.hooks[t];return zt(r,[e.$context])}}function TSe(n,e,t){const r=RSe(n.scales,e,t);let i=zL(e,r,"min","suggestedMin");i=zL(e,r,"max","suggestedMax")||i,i&&Qr(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function MSe(n,e){for(const t of n)ISe(t,e)}function zL(n,e,t,r){if(ei(e[t])&&!PSe(n.options,t,r)){const i=n[t]!==e[t];return n[t]=e[t],i}}function PSe(n,e,t){return xi(n[e])||xi(n[t])}function ISe(n,e){for(const t of["scaleID","xScaleID","yScaleID"]){const r=_c(e,n,t);r&&!e[r]&&OSe(n,t)&&console.warn(`No scale found with id '${r}' for annotation '${n.id}'`)}}function OSe(n,e){if(e==="scaleID")return!0;const t=e.charAt(0);for(const r of["Min","Max","Value"])if(xi(n[t+r]))return!0;return!1}function RSe(n,e,t){const r=e.axis,i=e.id,s=r+"ScaleID",o={min:dt(e.min,Number.NEGATIVE_INFINITY),max:dt(e.max,Number.POSITIVE_INFINITY)};for(const a of t)a.scaleID===i?qL(a,e,["value","endValue"],o):_c(n,a,s)===i&&qL(a,e,[r+"Min",r+"Max",r+"Value"],o);return o}function qL(n,e,t,r){for(const i of t){const s=n[i];if(xi(s)){const o=e.parse(s);r.min=Math.min(r.min,o),r.max=Math.max(r.max,o)}}}class _d extends ri{inRange(e,t,r,i){const{x:s,y:o}=Fc({x:e,y:t},this.getCenterPoint(i),Xn(-this.options.rotation));return IX({x:s,y:o},this.getProps(["x","y","x2","y2"],i),r,this.options)}getCenterPoint(e){return $c(this,e)}draw(e){e.save(),ux(e,this.getCenterPoint(),this.options.rotation),zX(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return GX(e,t)}}_d.id="boxAnnotation";_d.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};_d.defaultRoutes={borderColor:"color",backgroundColor:"color"};_d.descriptors={label:{_fallback:!0}};class dx extends ri{inRange(e,t,r,i){return OX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return $c(this,e)}draw(e){const t=this.options;!t.display||!t.content||($Se(e,this),e.save(),ux(e,this.getCenterPoint(),this.rotation),qX(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const r=DSe(e,t);if(!r)return{};const{controllerMeta:i,point:s,radius:o}=NSe(e,t,r);let a=hx(e.ctx,t);const l=LSe(a,o);LX(t,l)&&(a={width:a.width*l,height:a.height*l});const{position:c,xAdjust:u,yAdjust:h}=t,d=NX(s,a,{borderWidth:0,position:c,xAdjust:u,yAdjust:h});return{initProperties:xd(e,d,t),...d,...i,rotation:t.rotation,_fitRatio:l}}}dx.id="doughnutLabelAnnotation";dx.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};dx.defaultRoutes={};function DSe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(t,r){const i=r.controller;return i instanceof Ff&&ASe(n,e,r.data)&&(!t||i.innerRadius<t.controller.innerRadius)&&i.options.circumference>=90?r:t},void 0)}function ASe(n,e,t){if(!e.autoHide)return!0;for(let r=0;r<t.length;r++)if(!t[r].hidden&&n.getDataVisibility(r))return!0}function NSe({chartArea:n},e,t){const{left:r,top:i,right:s,bottom:o}=n,{innerRadius:a,offsetX:l,offsetY:c}=t.controller,u=(r+s)/2+l,h=(i+o)/2+c,d={left:Math.max(u-a,r),right:Math.min(u+a,s),top:Math.max(h-a,i),bottom:Math.min(h+a,o)},f={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},m=e.spacing+e.borderWidth/2,g=a-m,v=f.y>h,y=v?i+m:o-m,b=FSe(y,u,h,g);return{controllerMeta:{_centerX:u,_centerY:h,_radius:g,_counterclockwise:v,...b},point:f,radius:Math.min(a,Math.min(d.right-d.left,d.bottom-d.top)/2)}}function LSe({width:n,height:e},t){const r=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return t*2/r}function FSe(n,e,t,r){const i=Math.pow(t-n,2),s=Math.pow(r,2),o=e*-2,a=Math.pow(e,2)+i-s,l=Math.pow(o,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:or};const c=(-o-Math.sqrt(l))/2,u=(-o+Math.sqrt(l))/2;return{_startAngle:fP({x:e,y:t},{x:c,y:n}).angle,_endAngle:fP({x:e,y:t},{x:u,y:n}).angle}}function $Se(n,e){const{_centerX:t,_centerY:r,_radius:i,_startAngle:s,_endAngle:o,_counterclockwise:a,options:l}=e;n.save();const c=Ho(n,l);n.fillStyle=l.backgroundColor,n.beginPath(),n.arc(t,r,i,s,o,a),n.closePath(),n.fill(),c&&n.stroke(),n.restore()}class eg extends ri{inRange(e,t,r,i){return OX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return $c(this,e)}draw(e){const t=this.options,r=!xi(this._visible)||this._visible;!t.display||!t.content||!r||(e.save(),ux(e,this.getCenterPoint(),this.rotation),aSe(e,this),zX(e,this,t),qX(e,jSe(this),t),e.restore())}resolveElementProperties(e,t){let r;if($X(t))r=HX(e,t);else{const{centerX:a,centerY:l}=vR(e,t);r={x:a,y:l}}const i=yr(t.padding),s=hx(e.ctx,t),o=NX(r,s,t,i);return{initProperties:xd(e,o,t),pointX:r.x,pointY:r.y,...o,rotation:t.rotation}}}eg.id="labelAnnotation";eg.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};eg.defaultRoutes={borderColor:"color"};function jSe({x:n,y:e,width:t,height:r,options:i}){const s=i.borderWidth/2,o=yr(i.padding);return{x:n+o.left+s,y:e+o.top+s,width:t-o.left-o.right-i.borderWidth,height:r-o.top-o.bottom-i.borderWidth}}const bR=(n,e,t)=>({x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}),kP=(n,e,t)=>bR(e,t,Math.abs((n-e.y)/(t.y-e.y))).x,UL=(n,e,t)=>bR(e,t,Math.abs((n-e.x)/(t.x-e.x))).y,zf=n=>n*n,BSe=(n,e,{x:t,y:r,x2:i,y2:s},o)=>o==="y"?{start:Math.min(r,s),end:Math.max(r,s),value:e}:{start:Math.min(t,i),end:Math.max(t,i),value:n},WL=(n,e,t,r)=>(1-r)*(1-r)*n+2*(1-r)*r*e+r*r*t,CP=(n,e,t,r)=>({x:WL(n.x,e.x,t.x,r),y:WL(n.y,e.y,t.y,r)}),HL=(n,e,t,r)=>2*(1-r)*(e-n)+2*r*(t-e),YL=(n,e,t,r)=>-Math.atan2(HL(n.x,e.x,t.x,r),HL(n.y,e.y,t.y,r))+.5*Dt;class tg extends ri{inRange(e,t,r,i){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y"){const o={mouseX:e,mouseY:t},{path:a,ctx:l}=this;if(a){Ho(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:u}=this.$context,h=e*u.currentDevicePixelRatio,d=t*u.currentDevicePixelRatio,f=l.isPointInStroke(a,h,d)||EP(this,o,i);return l.restore(),f}const c=zf(s);return WSe(this,o,c,i)||EP(this,o,i)}return zSe(this,{mouseX:e,mouseY:t},r,{hitSize:s,useFinalPosition:i})}getCenterPoint(e){return $c(this,e)}draw(e){const{x:t,y:r,x2:i,y2:s,cp:o,options:a}=this;if(e.save(),!Ho(e,a))return e.restore();wd(e,a);const l=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2));if(a.curve&&o)return JSe(e,this,o,l),e.restore();const{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=XX(this),f=Math.atan2(s-r,i-t);e.translate(t,r),e.rotate(f),e.beginPath(),e.moveTo(0+h,0),e.lineTo(l-d,0),e.shadowColor=a.borderShadowColor,e.stroke(),TP(e,0,h,c),TP(e,l,-d,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const r=mSe(e,t),{x:i,y:s,x2:o,y2:a}=r,l=qSe(r,e.chartArea),c=l?USe({x:i,y:s},{x:o,y:a},e.chartArea):{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)};if(c.centerX=(o+i)/2,c.centerY=(a+s)/2,c.initProperties=xd(e,c,t),t.curve){const h={x:c.x,y:c.y},d={x:c.x2,y:c.y2};c.cp=QSe(c,t,Kh(h,d))}const u=HSe(e,c,t.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}tg.id="lineAnnotation";const GL={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};tg.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},GL),fill:!1,length:12,start:Object.assign({},GL),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},eg.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};tg.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};tg.defaultRoutes={borderColor:"color"};function zSe(n,{mouseX:e,mouseY:t},r,{hitSize:i,useFinalPosition:s}){const o=BSe(e,t,n.getProps(["x","y","x2","y2"],s),r);return PX(o,i)||EP(n,{mouseX:e,mouseY:t},s,r)}function qSe({x:n,y:e,x2:t,y2:r},{top:i,right:s,bottom:o,left:a}){return!(n<a&&t<a||n>s&&t>s||e<i&&r<i||e>o&&r>o)}function VL({x:n,y:e},t,{top:r,right:i,bottom:s,left:o}){return n<o&&(e=UL(o,{x:n,y:e},t),n=o),n>i&&(e=UL(i,{x:n,y:e},t),n=i),e<r&&(n=kP(r,{x:n,y:e},t),e=r),e>s&&(n=kP(s,{x:n,y:e},t),e=s),{x:n,y:e}}function USe(n,e,t){const{x:r,y:i}=VL(n,e,t),{x:s,y:o}=VL(e,n,t);return{x:r,y:i,x2:s,y2:o,width:Math.abs(s-r),height:Math.abs(o-i)}}function WSe(n,{mouseX:e,mouseY:t},r=$l,i){const{x:s,y:o,x2:a,y2:l}=n.getProps(["x","y","x2","y2"],i),c=a-s,u=l-o,h=zf(c)+zf(u),d=h===0?-1:((e-s)*c+(t-o)*u)/h;let f,m;return d<0?(f=s,m=o):d>1?(f=a,m=l):(f=s+d*c,m=o+d*u),zf(e-f)+zf(t-m)<=r}function EP(n,{mouseX:e,mouseY:t},r,i){const s=n.label;return s.options.display&&s.inRange(e,t,i,r)}function HSe(n,e,t){const r=t.borderWidth,i=yr(t.padding),s=hx(n.ctx,t),o=s.width+i.width+r,a=s.height+i.height+r;return GSe(e,t,{width:o,height:a,padding:i},n.chartArea)}function YSe(n){const{x:e,y:t,x2:r,y2:i}=n,s=Math.atan2(i-t,r-e);return s>Dt/2?s-Dt:s<Dt/-2?s+Dt:s}function GSe(n,e,t,r){const{width:i,height:s,padding:o}=t,{xAdjust:a,yAdjust:l}=e,c={x:n.x,y:n.y},u={x:n.x2,y:n.y2},h=e.rotation==="auto"?YSe(n):Xn(e.rotation),d=VSe(i,s,h),f=KSe(n,e,{labelSize:d,padding:o},r),m=n.cp?CP(c,n.cp,u,f):bR(c,u,f),g={size:d.w,min:r.left,max:r.right,padding:o.left},v={size:d.h,min:r.top,max:r.bottom,padding:o.top},y=XL(m.x,g)+a,b=XL(m.y,v)+l;return{x:y-i/2,y:b-s/2,x2:y+i/2,y2:b+s/2,centerX:y,centerY:b,pointX:m.x,pointY:m.y,width:i,height:s,rotation:ZK(h)}}function VSe(n,e,t){const r=Math.cos(t),i=Math.sin(t);return{w:Math.abs(n*r)+Math.abs(e*i),h:Math.abs(n*i)+Math.abs(e*r)}}function KSe(n,e,t,r){let i;const s=XSe(n,r);return e.position==="start"?i=KL({w:n.x2-n.x,h:n.y2-n.y},t,e,s):e.position==="end"?i=1-KL({w:n.x-n.x2,h:n.y-n.y2},t,e,s):i=mR(1,e.position),i}function KL(n,e,t,r){const{labelSize:i,padding:s}=e,o=n.w*r.dx,a=n.h*r.dy,l=o>0&&(i.w/2+s.left-r.x)/o,c=a>0&&(i.h/2+s.top-r.y)/a;return lx(Math.max(l,c),0,.25)}function XSe(n,e){const{x:t,x2:r,y:i,y2:s}=n,o=Math.min(i,s)-e.top,a=Math.min(t,r)-e.left,l=e.bottom-Math.max(i,s),c=e.right-Math.max(t,r);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function XL(n,e){const{size:t,min:r,max:i,padding:s}=e,o=t/2;return t>i-r?(i+r)/2:(r>=n-s-o&&(n=r+s+o),i<=n+s+o&&(n=i-s-o),n)}function XX(n){const e=n.options,t=e.arrowHeads&&e.arrowHeads.start,r=e.arrowHeads&&e.arrowHeads.end;return{startOpts:t,endOpts:r,startAdjust:QL(n,t),endAdjust:QL(n,r)}}function QL(n,e){if(!e||!e.display)return 0;const{length:t,width:r}=e,i=n.options.borderWidth/2,s={x:t,y:r+i};return Math.abs(kP(0,s,{x:0,y:i}))}function TP(n,e,t,r){if(!r||!r.display)return;const{length:i,width:s,fill:o,backgroundColor:a,borderColor:l}=r,c=Math.abs(e-i)+t;n.beginPath(),wd(n,r),Ho(n,r),n.moveTo(c,-s),n.lineTo(e+t,0),n.lineTo(c,s),o===!0?(n.fillStyle=a||l,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=r.borderShadowColor,n.stroke()}function QSe(n,e,t){const{x:r,y:i,x2:s,y2:o,centerX:a,centerY:l}=n,c=Math.atan2(o-i,s-r),u=gR(e.controlPoint,0),h={x:a+el(t,u.x,!1),y:l+el(t,u.y,!1)};return Fc(h,{x:a,y:l},c)}function JL(n,{x:e,y:t},{angle:r,adjust:i},s){!s||!s.display||(n.save(),n.translate(e,t),n.rotate(r),TP(n,0,-i,s),n.restore())}function JSe(n,e,t,r){const{x:i,y:s,x2:o,y2:a,options:l}=e,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=XX(e),f={x:i,y:s},m={x:o,y:a},g=YL(f,t,m,0),v=YL(f,t,m,1)-Dt,y=CP(f,t,m,h/r),b=CP(f,t,m,1-d/r),w=new Path2D;n.beginPath(),w.moveTo(y.x,y.y),w.quadraticCurveTo(t.x,t.y,b.x,b.y),n.shadowColor=l.borderShadowColor,n.stroke(w),e.path=w,e.ctx=n,JL(n,y,{angle:g,adjust:h},c),JL(n,b,{angle:v,adjust:d},u)}class ng extends ri{inRange(e,t,r,i){const s=this.options.rotation,o=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y")return ZSe({x:e,y:t},this.getProps(["width","height","centerX","centerY"],i),s,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],i),h=r==="y"?{start:l,end:u}:{start:a,end:c},d=Fc({x:e,y:t},this.getCenterPoint(i),Xn(-s));return d[r]>=h.start-o-$l&&d[r]<=h.end+o+$l}getCenterPoint(e){return $c(this,e)}draw(e){const{width:t,height:r,centerX:i,centerY:s,options:o}=this;e.save(),ux(e,this.getCenterPoint(),o.rotation),wd(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const a=Ho(e,o);e.ellipse(i,s,r/2,t/2,Dt/2,0,2*Dt),e.fill(),a&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return GX(e,t)}}ng.id="ellipseAnnotation";ng.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},_d.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ng.defaultRoutes={borderColor:"color",backgroundColor:"color"};ng.descriptors={label:{_fallback:!0}};function ZSe(n,e,t,r){const{width:i,height:s,centerX:o,centerY:a}=e,l=i/2,c=s/2;if(l<=0||c<=0)return!1;const u=Xn(t||0),h=Math.cos(u),d=Math.sin(u),f=Math.pow(h*(n.x-o)+d*(n.y-a),2),m=Math.pow(d*(n.x-o)-h*(n.y-a),2);return f/Math.pow(l+r,2)+m/Math.pow(c+r,2)<=1.0001}class fx extends ri{inRange(e,t,r,i){const{x:s,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],i),u=(this.options.borderWidth+this.options.hitTolerance)/2;return r!=="x"&&r!=="y"?G_e({x:e,y:t},this.getCenterPoint(i),c/2,u):PX(r==="y"?{start:o,end:l,value:t}:{start:s,end:a,value:e},u)}getCenterPoint(e){return $c(this,e)}draw(e){const t=this.options,r=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,wd(e,t);const i=Ho(e,t);tSe(e,this,this.centerX,this.centerY),i&&!cx(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=r}resolveElementProperties(e,t){const r=YX(e,t);return r.initProperties=xd(e,r,t),r}}fx.id="pointAnnotation";fx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};fx.defaultRoutes={borderColor:"color",backgroundColor:"color"};class px extends ri{inRange(e,t,r,i){if(r!=="x"&&r!=="y")return this.options.radius>=.1&&this.elements.length>1&&tke(this.elements,e,t,i);const s=Fc({x:e,y:t},this.getCenterPoint(i),Xn(-this.options.rotation)),o=this.elements.map(c=>r==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return s[r]>=a&&s[r]<=l}getCenterPoint(e){return $c(this,e)}draw(e){const{elements:t,options:r}=this;e.save(),e.beginPath(),e.fillStyle=r.backgroundColor,wd(e,r);const i=Ho(e,r);let s=!0;for(const o of t)s?(e.moveTo(o.x,o.y),s=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),i&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const r=YX(e,t),{sides:i,rotation:s}=t,o=[],a=2*Dt/i;let l=s*nR;for(let c=0;c<i;c++,l+=a){const u=eke(r,t,l);u.initProperties=xd(e,r,t),o.push(u)}return r.elements=o,r}}px.id="polygonAnnotation";px.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};px.defaultRoutes={borderColor:"color",backgroundColor:"color"};function eke({centerX:n,centerY:e},{radius:t,borderWidth:r,hitTolerance:i},s){const o=(r+i)/2,a=Math.sin(s),l=Math.cos(s),c={x:n+a*t,y:e-l*t};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:n+a*(t+o),bY:e-l*(t+o)}}}function tke(n,e,t,r){let i=!1,s=n[n.length-1].getProps(["bX","bY"],r);for(const o of n){const a=o.getProps(["bX","bY"],r);a.bY>t!=s.bY>t&&e<(s.bX-a.bX)*(t-a.bY)/(s.bY-a.bY)+a.bX&&(i=!i),s=a}return i}const Va={box:_d,doughnutLabel:dx,ellipse:ng,label:eg,line:tg,point:fx,polygon:px};Object.keys(Va).forEach(n=>{bn.describe(`elements.${Va[n].id}`,{_fallback:"plugins.annotation.common"})});const nke={update:Object.assign},rke=yR.concat(Uy),ZL=(n,e)=>mt(e)?PP(n,e):n,MP=n=>n==="color"||n==="font";function xR(n="line"){return Va[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function ike(n,e,t,r){const i=oke(n,t.animations,r),s=e.annotations,o=cke(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],c=QX(o,a,l.type),u=l.setContext(lke(n,c,o,l)),h=c.resolveElementProperties(n,u);h.skip=ske(h),"elements"in h&&(ake(c,h.elements,u,i),delete h.elements),xi(c.x)||Object.assign(c,h),Object.assign(c,h.initProperties),h.options=JX(u),i.update(c,h)}}function ske(n){return isNaN(n.x)||isNaN(n.y)}function oke(n,e,t){return t==="reset"||t==="none"||t==="resize"?nke:new dR(n,e)}function ake(n,e,t,r){const i=n.elements||(n.elements=[]);i.length=e.length;for(let s=0;s<e.length;s++){const o=e[s],a=o.properties,l=QX(i,s,o.type,o.initProperties),c=t[o.optionScope].override(o);a.options=JX(c),r.update(l,a)}}function QX(n,e,t,r){const i=Va[xR(t)];let s=n[e];return(!s||!(s instanceof i))&&(s=n[e]=new i,Object.assign(s,r)),s}function JX(n){const e=Va[xR(n.type)],t={};t.id=n.id,t.type=n.type,t.drawTime=n.drawTime,Object.assign(t,PP(n,e.defaults),PP(n,e.defaultRoutes));for(const r of rke)t[r]=n[r];return t}function PP(n,e){const t={};for(const r of Object.keys(e)){const i=e[r],s=n[r];MP(r)&&ln(s)?t[r]=s.map(o=>ZL(o,i)):t[r]=ZL(s,i)}return t}function lke(n,e,t,r){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return t.filter(i=>i&&i.options)},id:r.id,type:"annotation"}))}function cke(n,e){const t=e.length,r=n.length;if(r<t){const i=t-r;n.splice(r,0,...new Array(i))}else r>t&&n.splice(t,r-t);return n}var uke="3.1.0";const ma=new Map,e8=n=>n.type!=="doughnutLabel",hke=yR.concat(Uy);var dke={id:"annotation",version:uke,beforeRegister(){V_e("chart.js","4.0",ds.version)},afterRegister(){ds.register(Va)},afterUnregister(){ds.unregister(Va)},beforeInit(n){ma.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,t){const r=ma.get(n),i=r.annotations=[];let s=t.annotations;mt(s)?Object.keys(s).forEach(o=>{const a=s[o];mt(a)&&(a.id=o,i.push(a))}):ln(s)&&i.push(...s),MSe(i.filter(e8),n.scales)},afterDataLimits(n,e){const t=ma.get(n);TSe(n,e.scale,t.annotations.filter(e8).filter(r=>r.display&&r.adjustScaleRange))},afterUpdate(n,e,t){const r=ma.get(n);_Se(n,r,t),ike(n,r,t,e.mode),r.visibleElements=r.elements.filter(i=>!i.skip&&i.options.display),ESe(n,r,t)},beforeDatasetsDraw(n,e,t){yf(n,"beforeDatasetsDraw",t.clip)},afterDatasetsDraw(n,e,t){yf(n,"afterDatasetsDraw",t.clip)},beforeDatasetDraw(n,e,t){yf(n,e.index,t.clip)},beforeDraw(n,e,t){yf(n,"beforeDraw",t.clip)},afterDraw(n,e,t){yf(n,"afterDraw",t.clip)},beforeEvent(n,e,t){const r=ma.get(n);SSe(r,e.event,t)&&(e.changed=!0)},afterDestroy(n){ma.delete(n)},getAnnotations(n){const e=ma.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,t){return pR(n,e,t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!hke.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Va[xR(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:MP,_fallback:!0},_indexable:MP}},additionalOptionScopes:[""]};function yf(n,e,t){const{ctx:r,chartArea:i}=n,s=ma.get(n);t&&rx(r,i);const o=fke(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)pke(r,i,s,a);t&&ix(r)}function fke(n,e){const t=[];for(const r of n)if(r.options.drawTime===e&&t.push({element:r,main:!0}),r.elements&&r.elements.length)for(const i of r.elements)i.options.display&&i.options.drawTime===e&&t.push({element:i});return t}function pke(n,e,t,r){const i=r.element;r.main?(BL(t,i,"beforeDraw"),i.draw(n,e),BL(t,i,"afterDraw")):i.draw(n,e)}ds.register(wP,_P,Dv,jf,C_e,D_e,S_e,dke);/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Fr(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var mke=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;Fr(mke);var gke=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;Fr(gke);var vke=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;Fr(vke);var yke=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;Fr(yke);var bke=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;Fr(bke);var xke=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;Fr(xke);var wke=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;Fr(wke);var _ke=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;Fr(_ke);var Ske=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;Fr(Ske);var kke=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;Fr(kke);var Cke=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;Fr(Cke);var Eke=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;Fr(Eke);var Tke=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;Fr(Tke);var Mke=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;Fr(Mke);var Pke=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;Fr(Pke);var t8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ss(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var IP={exports:{}},Nv={exports:{}},Ike=Nv.exports,n8;function ks(){return n8||(n8=1,function(n,e){(function(t,r){n.exports=r()})(Ike,function(){var t;function r(){return t.apply(null,arguments)}function i(p){t=p}function s(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function o(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function a(p,x){return Object.prototype.hasOwnProperty.call(p,x)}function l(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var x;for(x in p)if(a(p,x))return!1;return!0}function c(p){return p===void 0}function u(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function h(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function d(p,x){var T=[],I,A=p.length;for(I=0;I<A;++I)T.push(x(p[I],I));return T}function f(p,x){for(var T in x)a(x,T)&&(p[T]=x[T]);return a(x,"toString")&&(p.toString=x.toString),a(x,"valueOf")&&(p.valueOf=x.valueOf),p}function m(p,x,T,I){return OD(p,x,T,I,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(p){return p._pf==null&&(p._pf=g()),p._pf}var y;Array.prototype.some?y=Array.prototype.some:y=function(p){var x=Object(this),T=x.length>>>0,I;for(I=0;I<T;I++)if(I in x&&p.call(this,x[I],I,x))return!0;return!1};function b(p){var x=null,T=!1,I=p._d&&!isNaN(p._d.getTime());if(I&&(x=v(p),T=y.call(x.parsedDateParts,function(A){return A!=null}),I=x.overflow<0&&!x.empty&&!x.invalidEra&&!x.invalidMonth&&!x.invalidWeekday&&!x.weekdayMismatch&&!x.nullInput&&!x.invalidFormat&&!x.userInvalidated&&(!x.meridiem||x.meridiem&&T),p._strict&&(I=I&&x.charsLeftOver===0&&x.unusedTokens.length===0&&x.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=I;else return I;return p._isValid}function w(p){var x=m(NaN);return p!=null?f(v(x),p):v(x).userInvalidated=!0,x}var S=r.momentProperties=[],_=!1;function k(p,x){var T,I,A,G=S.length;if(c(x._isAMomentObject)||(p._isAMomentObject=x._isAMomentObject),c(x._i)||(p._i=x._i),c(x._f)||(p._f=x._f),c(x._l)||(p._l=x._l),c(x._strict)||(p._strict=x._strict),c(x._tzm)||(p._tzm=x._tzm),c(x._isUTC)||(p._isUTC=x._isUTC),c(x._offset)||(p._offset=x._offset),c(x._pf)||(p._pf=v(x)),c(x._locale)||(p._locale=x._locale),G>0)for(T=0;T<G;T++)I=S[T],A=x[I],c(A)||(p[I]=A);return p}function E(p){k(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,r.updateOffset(this),_=!1)}function C(p){return p instanceof E||p!=null&&p._isAMomentObject!=null}function O(p){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function R(p,x){var T=!0;return f(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,p),T){var I=[],A,G,ie,Ne=arguments.length;for(G=0;G<Ne;G++){if(A="",typeof arguments[G]=="object"){A+=`
[`+G+"] ";for(ie in arguments[0])a(arguments[0],ie)&&(A+=ie+": "+arguments[0][ie]+", ");A=A.slice(0,-2)}else A=arguments[G];I.push(A)}O(p+`
Arguments: `+Array.prototype.slice.call(I).join("")+`
`+new Error().stack),T=!1}return x.apply(this,arguments)},x)}var D={};function F(p,x){r.deprecationHandler!=null&&r.deprecationHandler(p,x),D[p]||(O(x),D[p]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function N(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function W(p){var x,T;for(T in p)a(p,T)&&(x=p[T],N(x)?this[T]=x:this["_"+T]=x);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(p,x){var T=f({},p),I;for(I in x)a(x,I)&&(o(p[I])&&o(x[I])?(T[I]={},f(T[I],p[I]),f(T[I],x[I])):x[I]!=null?T[I]=x[I]:delete T[I]);for(I in p)a(p,I)&&!a(x,I)&&o(p[I])&&(T[I]=f({},T[I]));return T}function $(p){p!=null&&this.set(p)}var z;Object.keys?z=Object.keys:z=function(p){var x,T=[];for(x in p)a(p,x)&&T.push(x);return T};var B={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function q(p,x,T){var I=this._calendar[p]||this._calendar.sameElse;return N(I)?I.call(x,T):I}function U(p,x,T){var I=""+Math.abs(p),A=x-I.length,G=p>=0;return(G?T?"+":"":"-")+Math.pow(10,Math.max(0,A)).toString().substr(1)+I}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,K=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,X={},L={};function Y(p,x,T,I){var A=I;typeof I=="string"&&(A=function(){return this[I]()}),p&&(L[p]=A),x&&(L[x[0]]=function(){return U(A.apply(this,arguments),x[1],x[2])}),T&&(L[T]=function(){return this.localeData().ordinal(A.apply(this,arguments),p)})}function Q(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function ee(p){var x=p.match(V),T,I;for(T=0,I=x.length;T<I;T++)L[x[T]]?x[T]=L[x[T]]:x[T]=Q(x[T]);return function(A){var G="",ie;for(ie=0;ie<I;ie++)G+=N(x[ie])?x[ie].call(A,p):x[ie];return G}}function te(p,x){return p.isValid()?(x=re(x,p.localeData()),X[x]=X[x]||ee(x),X[x](p)):p.localeData().invalidDate()}function re(p,x){var T=5;function I(A){return x.longDateFormat(A)||A}for(K.lastIndex=0;T>=0&&K.test(p);)p=p.replace(K,I),K.lastIndex=0,T-=1;return p}var ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function he(p){var x=this._longDateFormat[p],T=this._longDateFormat[p.toUpperCase()];return x||!T?x:(this._longDateFormat[p]=T.match(V).map(function(I){return I==="MMMM"||I==="MM"||I==="DD"||I==="dddd"?I.slice(1):I}).join(""),this._longDateFormat[p])}var J="Invalid date";function ne(){return this._invalidDate}var ye="%d",oe=/\d{1,2}/;function be(p){return this._ordinal.replace("%d",p)}var xe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Me(p,x,T,I){var A=this._relativeTime[T];return N(A)?A(p,x,T,I):A.replace(/%d/i,p)}function we(p,x){var T=this._relativeTime[p>0?"future":"past"];return N(T)?T(x):T.replace(/%s/i,x)}var _e={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ze(p){return typeof p=="string"?_e[p]||_e[p.toLowerCase()]:void 0}function Ge(p){var x={},T,I;for(I in p)a(p,I)&&(T=Ze(I),T&&(x[T]=p[I]));return x}var ot={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ee(p){var x=[],T;for(T in p)a(p,T)&&x.push({unit:T,priority:ot[T]});return x.sort(function(I,A){return I.priority-A.priority}),x}var Be=/\d/,Oe=/\d\d/,We=/\d{3}/,pe=/\d{4}/,Ce=/[+-]?\d{6}/,Se=/\d\d?/,Fe=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Ue=/\d{1,3}/,He=/\d{1,4}/,Ve=/[+-]?\d{1,6}/,gt=/\d+/,Qt=/[+-]?\d+/,$r=/Z|[+-]\d\d:?\d\d/gi,Sn=/Z|[+-]\d\d(?::?\d\d)?/gi,ur=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rt=/^[1-9]\d?/,ft=/^([1-9]\d|\d)/,Pe;Pe={};function ue(p,x,T){Pe[p]=N(x)?x:function(I,A){return I&&T?T:x}}function ct(p,x){return a(Pe,p)?Pe[p](x._strict,x._locale):new RegExp(yt(p))}function yt(p){return Ae(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(x,T,I,A,G){return T||I||A||G}))}function Ae(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Le(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function Te(p){var x=+p,T=0;return x!==0&&isFinite(x)&&(T=Le(x)),T}var $t={};function Ke(p,x){var T,I=x,A;for(typeof p=="string"&&(p=[p]),u(x)&&(I=function(G,ie){ie[x]=Te(G)}),A=p.length,T=0;T<A;T++)$t[p[T]]=I}function Gt(p,x){Ke(p,function(T,I,A,G){A._w=A._w||{},x(T,A._w,A,G)})}function ze(p,x,T){x!=null&&a($t,p)&&$t[p](x,T._a,T,p)}function Xe(p){return p%4===0&&p%100!==0||p%400===0}var $e=0,it=1,pt=2,Je=3,bt=4,jt=5,Pt=6,qn=7,Gc=8;Y("Y",0,0,function(){var p=this.year();return p<=9999?U(p,4):"+"+p}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),ue("Y",Qt),ue("YY",Se,Oe),ue("YYYY",He,pe),ue("YYYYY",Ve,Ce),ue("YYYYYY",Ve,Ce),Ke(["YYYYY","YYYYYY"],$e),Ke("YYYY",function(p,x){x[$e]=p.length===2?r.parseTwoDigitYear(p):Te(p)}),Ke("YY",function(p,x){x[$e]=r.parseTwoDigitYear(p)}),Ke("Y",function(p,x){x[$e]=parseInt(p,10)});function xr(p){return Xe(p)?366:365}r.parseTwoDigitYear=function(p){return Te(p)+(Te(p)>68?1900:2e3)};var Qo=At("FullYear",!0);function Vc(){return Xe(this.year())}function At(p,x){return function(T){return T!=null?(dl(this,p,T),r.updateOffset(this,x),this):so(this,p)}}function so(p,x){if(!p.isValid())return NaN;var T=p._d,I=p._isUTC;switch(x){case"Milliseconds":return I?T.getUTCMilliseconds():T.getMilliseconds();case"Seconds":return I?T.getUTCSeconds():T.getSeconds();case"Minutes":return I?T.getUTCMinutes():T.getMinutes();case"Hours":return I?T.getUTCHours():T.getHours();case"Date":return I?T.getUTCDate():T.getDate();case"Day":return I?T.getUTCDay():T.getDay();case"Month":return I?T.getUTCMonth():T.getMonth();case"FullYear":return I?T.getUTCFullYear():T.getFullYear();default:return NaN}}function dl(p,x,T){var I,A,G,ie,Ne;if(!(!p.isValid()||isNaN(T))){switch(I=p._d,A=p._isUTC,x){case"Milliseconds":return void(A?I.setUTCMilliseconds(T):I.setMilliseconds(T));case"Seconds":return void(A?I.setUTCSeconds(T):I.setSeconds(T));case"Minutes":return void(A?I.setUTCMinutes(T):I.setMinutes(T));case"Hours":return void(A?I.setUTCHours(T):I.setHours(T));case"Date":return void(A?I.setUTCDate(T):I.setDate(T));case"FullYear":break;default:return}G=T,ie=p.month(),Ne=p.date(),Ne=Ne===29&&ie===1&&!Xe(G)?28:Ne,A?I.setUTCFullYear(G,ie,Ne):I.setFullYear(G,ie,Ne)}}function Kc(p){return p=Ze(p),N(this[p])?this[p]():this}function Eg(p,x){if(typeof p=="object"){p=Ge(p);var T=Ee(p),I,A=T.length;for(I=0;I<A;I++)this[T[I].unit](p[T[I].unit])}else if(p=Ze(p),N(this[p]))return this[p](x);return this}function Ld(p,x){return(p%x+x)%x}var kn;Array.prototype.indexOf?kn=Array.prototype.indexOf:kn=function(p){var x;for(x=0;x<this.length;++x)if(this[x]===p)return x;return-1};function Lx(p,x){if(isNaN(p)||isNaN(x))return NaN;var T=Ld(x,12);return p+=(x-T)/12,T===1?Xe(p)?29:28:31-T%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),Y("MMMM",0,0,function(p){return this.localeData().months(this,p)}),ue("M",Se,rt),ue("MM",Se,Oe),ue("MMM",function(p,x){return x.monthsShortRegex(p)}),ue("MMMM",function(p,x){return x.monthsRegex(p)}),Ke(["M","MM"],function(p,x){x[it]=Te(p)-1}),Ke(["MMM","MMMM"],function(p,x,T,I){var A=T._locale.monthsParse(p,I,T._strict);A!=null?x[it]=A:v(T).invalidMonth=p});var $J="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jJ=hr,BJ=hr;function zJ(p,x){return p?s(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||yD).test(x)?"format":"standalone"][p.month()]:s(this._months)?this._months:this._months.standalone}function qJ(p,x){return p?s(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[yD.test(x)?"format":"standalone"][p.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function UJ(p,x,T){var I,A,G,ie=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],I=0;I<12;++I)G=m([2e3,I]),this._shortMonthsParse[I]=this.monthsShort(G,"").toLocaleLowerCase(),this._longMonthsParse[I]=this.months(G,"").toLocaleLowerCase();return T?x==="MMM"?(A=kn.call(this._shortMonthsParse,ie),A!==-1?A:null):(A=kn.call(this._longMonthsParse,ie),A!==-1?A:null):x==="MMM"?(A=kn.call(this._shortMonthsParse,ie),A!==-1?A:(A=kn.call(this._longMonthsParse,ie),A!==-1?A:null)):(A=kn.call(this._longMonthsParse,ie),A!==-1?A:(A=kn.call(this._shortMonthsParse,ie),A!==-1?A:null))}function WJ(p,x,T){var I,A,G;if(this._monthsParseExact)return UJ.call(this,p,x,T);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),I=0;I<12;I++){if(A=m([2e3,I]),T&&!this._longMonthsParse[I]&&(this._longMonthsParse[I]=new RegExp("^"+this.months(A,"").replace(".","")+"$","i"),this._shortMonthsParse[I]=new RegExp("^"+this.monthsShort(A,"").replace(".","")+"$","i")),!T&&!this._monthsParse[I]&&(G="^"+this.months(A,"")+"|^"+this.monthsShort(A,""),this._monthsParse[I]=new RegExp(G.replace(".",""),"i")),T&&x==="MMMM"&&this._longMonthsParse[I].test(p))return I;if(T&&x==="MMM"&&this._shortMonthsParse[I].test(p))return I;if(!T&&this._monthsParse[I].test(p))return I}}function bD(p,x){if(!p.isValid())return p;if(typeof x=="string"){if(/^\d+$/.test(x))x=Te(x);else if(x=p.localeData().monthsParse(x),!u(x))return p}var T=x,I=p.date();return I=I<29?I:Math.min(I,Lx(p.year(),T)),p._isUTC?p._d.setUTCMonth(T,I):p._d.setMonth(T,I),p}function xD(p){return p!=null?(bD(this,p),r.updateOffset(this,!0),this):so(this,"Month")}function HJ(){return Lx(this.year(),this.month())}function YJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||wD.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=jJ),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function GJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||wD.call(this),p?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=BJ),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function wD(){function p(et,xt){return xt.length-et.length}var x=[],T=[],I=[],A,G,ie,Ne;for(A=0;A<12;A++)G=m([2e3,A]),ie=Ae(this.monthsShort(G,"")),Ne=Ae(this.months(G,"")),x.push(ie),T.push(Ne),I.push(Ne),I.push(ie);x.sort(p),T.sort(p),I.sort(p),this._monthsRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+x.join("|")+")","i")}function VJ(p,x,T,I,A,G,ie){var Ne;return p<100&&p>=0?(Ne=new Date(p+400,x,T,I,A,G,ie),isFinite(Ne.getFullYear())&&Ne.setFullYear(p)):Ne=new Date(p,x,T,I,A,G,ie),Ne}function Fd(p){var x,T;return p<100&&p>=0?(T=Array.prototype.slice.call(arguments),T[0]=p+400,x=new Date(Date.UTC.apply(null,T)),isFinite(x.getUTCFullYear())&&x.setUTCFullYear(p)):x=new Date(Date.UTC.apply(null,arguments)),x}function Tg(p,x,T){var I=7+x-T,A=(7+Fd(p,0,I).getUTCDay()-x)%7;return-A+I-1}function _D(p,x,T,I,A){var G=(7+T-I)%7,ie=Tg(p,I,A),Ne=1+7*(x-1)+G+ie,et,xt;return Ne<=0?(et=p-1,xt=xr(et)+Ne):Ne>xr(p)?(et=p+1,xt=Ne-xr(p)):(et=p,xt=Ne),{year:et,dayOfYear:xt}}function $d(p,x,T){var I=Tg(p.year(),x,T),A=Math.floor((p.dayOfYear()-I-1)/7)+1,G,ie;return A<1?(ie=p.year()-1,G=A+oo(ie,x,T)):A>oo(p.year(),x,T)?(G=A-oo(p.year(),x,T),ie=p.year()+1):(ie=p.year(),G=A),{week:G,year:ie}}function oo(p,x,T){var I=Tg(p,x,T),A=Tg(p+1,x,T);return(xr(p)-I+A)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),ue("w",Se,rt),ue("ww",Se,Oe),ue("W",Se,rt),ue("WW",Se,Oe),Gt(["w","ww","W","WW"],function(p,x,T,I){x[I.substr(0,1)]=Te(p)});function KJ(p){return $d(p,this._week.dow,this._week.doy).week}var XJ={dow:0,doy:6};function QJ(){return this._week.dow}function JJ(){return this._week.doy}function ZJ(p){var x=this.localeData().week(this);return p==null?x:this.add((p-x)*7,"d")}function eZ(p){var x=$d(this,1,4).week;return p==null?x:this.add((p-x)*7,"d")}Y("d",0,"do","day"),Y("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),Y("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),Y("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),ue("d",Se),ue("e",Se),ue("E",Se),ue("dd",function(p,x){return x.weekdaysMinRegex(p)}),ue("ddd",function(p,x){return x.weekdaysShortRegex(p)}),ue("dddd",function(p,x){return x.weekdaysRegex(p)}),Gt(["dd","ddd","dddd"],function(p,x,T,I){var A=T._locale.weekdaysParse(p,I,T._strict);A!=null?x.d=A:v(T).invalidWeekday=p}),Gt(["d","e","E"],function(p,x,T,I){x[I]=Te(p)});function tZ(p,x){return typeof p!="string"?p:isNaN(p)?(p=x.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function nZ(p,x){return typeof p=="string"?x.weekdaysParse(p)%7||7:isNaN(p)?null:p}function Fx(p,x){return p.slice(x,7).concat(p.slice(0,x))}var rZ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),SD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),iZ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sZ=hr,oZ=hr,aZ=hr;function lZ(p,x){var T=s(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(x)?"format":"standalone"];return p===!0?Fx(T,this._week.dow):p?T[p.day()]:T}function cZ(p){return p===!0?Fx(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function uZ(p){return p===!0?Fx(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function hZ(p,x,T){var I,A,G,ie=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],I=0;I<7;++I)G=m([2e3,1]).day(I),this._minWeekdaysParse[I]=this.weekdaysMin(G,"").toLocaleLowerCase(),this._shortWeekdaysParse[I]=this.weekdaysShort(G,"").toLocaleLowerCase(),this._weekdaysParse[I]=this.weekdays(G,"").toLocaleLowerCase();return T?x==="dddd"?(A=kn.call(this._weekdaysParse,ie),A!==-1?A:null):x==="ddd"?(A=kn.call(this._shortWeekdaysParse,ie),A!==-1?A:null):(A=kn.call(this._minWeekdaysParse,ie),A!==-1?A:null):x==="dddd"?(A=kn.call(this._weekdaysParse,ie),A!==-1||(A=kn.call(this._shortWeekdaysParse,ie),A!==-1)?A:(A=kn.call(this._minWeekdaysParse,ie),A!==-1?A:null)):x==="ddd"?(A=kn.call(this._shortWeekdaysParse,ie),A!==-1||(A=kn.call(this._weekdaysParse,ie),A!==-1)?A:(A=kn.call(this._minWeekdaysParse,ie),A!==-1?A:null)):(A=kn.call(this._minWeekdaysParse,ie),A!==-1||(A=kn.call(this._weekdaysParse,ie),A!==-1)?A:(A=kn.call(this._shortWeekdaysParse,ie),A!==-1?A:null))}function dZ(p,x,T){var I,A,G;if(this._weekdaysParseExact)return hZ.call(this,p,x,T);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),I=0;I<7;I++){if(A=m([2e3,1]).day(I),T&&!this._fullWeekdaysParse[I]&&(this._fullWeekdaysParse[I]=new RegExp("^"+this.weekdays(A,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[I]=new RegExp("^"+this.weekdaysShort(A,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[I]=new RegExp("^"+this.weekdaysMin(A,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[I]||(G="^"+this.weekdays(A,"")+"|^"+this.weekdaysShort(A,"")+"|^"+this.weekdaysMin(A,""),this._weekdaysParse[I]=new RegExp(G.replace(".",""),"i")),T&&x==="dddd"&&this._fullWeekdaysParse[I].test(p))return I;if(T&&x==="ddd"&&this._shortWeekdaysParse[I].test(p))return I;if(T&&x==="dd"&&this._minWeekdaysParse[I].test(p))return I;if(!T&&this._weekdaysParse[I].test(p))return I}}function fZ(p){if(!this.isValid())return p!=null?this:NaN;var x=so(this,"Day");return p!=null?(p=tZ(p,this.localeData()),this.add(p-x,"d")):x}function pZ(p){if(!this.isValid())return p!=null?this:NaN;var x=(this.day()+7-this.localeData()._week.dow)%7;return p==null?x:this.add(p-x,"d")}function mZ(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var x=nZ(p,this.localeData());return this.day(this.day()%7?x:x-7)}else return this.day()||7}function gZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=sZ),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function vZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oZ),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=aZ),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $x(){function p(wr,ho){return ho.length-wr.length}var x=[],T=[],I=[],A=[],G,ie,Ne,et,xt;for(G=0;G<7;G++)ie=m([2e3,1]).day(G),Ne=Ae(this.weekdaysMin(ie,"")),et=Ae(this.weekdaysShort(ie,"")),xt=Ae(this.weekdays(ie,"")),x.push(Ne),T.push(et),I.push(xt),A.push(Ne),A.push(et),A.push(xt);x.sort(p),T.sort(p),I.sort(p),A.sort(p),this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+x.join("|")+")","i")}function jx(){return this.hours()%12||12}function bZ(){return this.hours()||24}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,jx),Y("k",["kk",2],0,bZ),Y("hmm",0,0,function(){return""+jx.apply(this)+U(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+jx.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)});function kD(p,x){Y(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),x)})}kD("a",!0),kD("A",!1);function CD(p,x){return x._meridiemParse}ue("a",CD),ue("A",CD),ue("H",Se,ft),ue("h",Se,rt),ue("k",Se,rt),ue("HH",Se,Oe),ue("hh",Se,Oe),ue("kk",Se,Oe),ue("hmm",Fe),ue("hmmss",ke),ue("Hmm",Fe),ue("Hmmss",ke),Ke(["H","HH"],Je),Ke(["k","kk"],function(p,x,T){var I=Te(p);x[Je]=I===24?0:I}),Ke(["a","A"],function(p,x,T){T._isPm=T._locale.isPM(p),T._meridiem=p}),Ke(["h","hh"],function(p,x,T){x[Je]=Te(p),v(T).bigHour=!0}),Ke("hmm",function(p,x,T){var I=p.length-2;x[Je]=Te(p.substr(0,I)),x[bt]=Te(p.substr(I)),v(T).bigHour=!0}),Ke("hmmss",function(p,x,T){var I=p.length-4,A=p.length-2;x[Je]=Te(p.substr(0,I)),x[bt]=Te(p.substr(I,2)),x[jt]=Te(p.substr(A)),v(T).bigHour=!0}),Ke("Hmm",function(p,x,T){var I=p.length-2;x[Je]=Te(p.substr(0,I)),x[bt]=Te(p.substr(I))}),Ke("Hmmss",function(p,x,T){var I=p.length-4,A=p.length-2;x[Je]=Te(p.substr(0,I)),x[bt]=Te(p.substr(I,2)),x[jt]=Te(p.substr(A))});function xZ(p){return(p+"").toLowerCase().charAt(0)==="p"}var wZ=/[ap]\.?m?\.?/i,_Z=At("Hours",!0);function SZ(p,x,T){return p>11?T?"pm":"PM":T?"am":"AM"}var ED={calendar:B,longDateFormat:ae,invalidDate:J,ordinal:ye,dayOfMonthOrdinalParse:oe,relativeTime:xe,months:$J,monthsShort:vD,week:XJ,weekdays:rZ,weekdaysMin:iZ,weekdaysShort:SD,meridiemParse:wZ},nn={},jd={},Bd;function kZ(p,x){var T,I=Math.min(p.length,x.length);for(T=0;T<I;T+=1)if(p[T]!==x[T])return T;return I}function TD(p){return p&&p.toLowerCase().replace("_","-")}function CZ(p){for(var x=0,T,I,A,G;x<p.length;){for(G=TD(p[x]).split("-"),T=G.length,I=TD(p[x+1]),I=I?I.split("-"):null;T>0;){if(A=Mg(G.slice(0,T).join("-")),A)return A;if(I&&I.length>=T&&kZ(G,I)>=T-1)break;T--}x++}return Bd}function EZ(p){return!!(p&&p.match("^[^/\\\\]*$"))}function Mg(p){var x=null,T;if(nn[p]===void 0&&n&&n.exports&&EZ(p))try{x=Bd._abbr,T=Ss,T("./locale/"+p),Jo(x)}catch{nn[p]=null}return nn[p]}function Jo(p,x){var T;return p&&(c(x)?T=ao(p):T=Bx(p,x),T?Bd=T:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),Bd._abbr}function Bx(p,x){if(x!==null){var T,I=ED;if(x.abbr=p,nn[p]!=null)F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),I=nn[p]._config;else if(x.parentLocale!=null)if(nn[x.parentLocale]!=null)I=nn[x.parentLocale]._config;else if(T=Mg(x.parentLocale),T!=null)I=T._config;else return jd[x.parentLocale]||(jd[x.parentLocale]=[]),jd[x.parentLocale].push({name:p,config:x}),null;return nn[p]=new $(j(I,x)),jd[p]&&jd[p].forEach(function(A){Bx(A.name,A.config)}),Jo(p),nn[p]}else return delete nn[p],null}function TZ(p,x){if(x!=null){var T,I,A=ED;nn[p]!=null&&nn[p].parentLocale!=null?nn[p].set(j(nn[p]._config,x)):(I=Mg(p),I!=null&&(A=I._config),x=j(A,x),I==null&&(x.abbr=p),T=new $(x),T.parentLocale=nn[p],nn[p]=T),Jo(p)}else nn[p]!=null&&(nn[p].parentLocale!=null?(nn[p]=nn[p].parentLocale,p===Jo()&&Jo(p)):nn[p]!=null&&delete nn[p]);return nn[p]}function ao(p){var x;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return Bd;if(!s(p)){if(x=Mg(p),x)return x;p=[p]}return CZ(p)}function MZ(){return z(nn)}function zx(p){var x,T=p._a;return T&&v(p).overflow===-2&&(x=T[it]<0||T[it]>11?it:T[pt]<1||T[pt]>Lx(T[$e],T[it])?pt:T[Je]<0||T[Je]>24||T[Je]===24&&(T[bt]!==0||T[jt]!==0||T[Pt]!==0)?Je:T[bt]<0||T[bt]>59?bt:T[jt]<0||T[jt]>59?jt:T[Pt]<0||T[Pt]>999?Pt:-1,v(p)._overflowDayOfYear&&(x<$e||x>pt)&&(x=pt),v(p)._overflowWeeks&&x===-1&&(x=qn),v(p)._overflowWeekday&&x===-1&&(x=Gc),v(p).overflow=x),p}var PZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,OZ=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RZ=/^\/?Date\((-?\d+)/i,DZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,AZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function MD(p){var x,T,I=p._i,A=PZ.exec(I)||IZ.exec(I),G,ie,Ne,et,xt=Pg.length,wr=qx.length;if(A){for(v(p).iso=!0,x=0,T=xt;x<T;x++)if(Pg[x][1].exec(A[1])){ie=Pg[x][0],G=Pg[x][2]!==!1;break}if(ie==null){p._isValid=!1;return}if(A[3]){for(x=0,T=wr;x<T;x++)if(qx[x][1].exec(A[3])){Ne=(A[2]||" ")+qx[x][0];break}if(Ne==null){p._isValid=!1;return}}if(!G&&Ne!=null){p._isValid=!1;return}if(A[4])if(OZ.exec(A[4]))et="Z";else{p._isValid=!1;return}p._f=ie+(Ne||"")+(et||""),Wx(p)}else p._isValid=!1}function NZ(p,x,T,I,A,G){var ie=[LZ(p),vD.indexOf(x),parseInt(T,10),parseInt(I,10),parseInt(A,10)];return G&&ie.push(parseInt(G,10)),ie}function LZ(p){var x=parseInt(p,10);return x<=49?2e3+x:x<=999?1900+x:x}function FZ(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function $Z(p,x,T){if(p){var I=SD.indexOf(p),A=new Date(x[0],x[1],x[2]).getDay();if(I!==A)return v(T).weekdayMismatch=!0,T._isValid=!1,!1}return!0}function jZ(p,x,T){if(p)return AZ[p];if(x)return 0;var I=parseInt(T,10),A=I%100,G=(I-A)/100;return G*60+A}function PD(p){var x=DZ.exec(FZ(p._i)),T;if(x){if(T=NZ(x[4],x[3],x[2],x[5],x[6],x[7]),!$Z(x[1],T,p))return;p._a=T,p._tzm=jZ(x[8],x[9],x[10]),p._d=Fd.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),v(p).rfc2822=!0}else p._isValid=!1}function BZ(p){var x=RZ.exec(p._i);if(x!==null){p._d=new Date(+x[1]);return}if(MD(p),p._isValid===!1)delete p._isValid;else return;if(PD(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:r.createFromInputFallback(p)}r.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function Xc(p,x,T){return p??x??T}function zZ(p){var x=new Date(r.now());return p._useUTC?[x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()]:[x.getFullYear(),x.getMonth(),x.getDate()]}function Ux(p){var x,T,I=[],A,G,ie;if(!p._d){for(A=zZ(p),p._w&&p._a[pt]==null&&p._a[it]==null&&qZ(p),p._dayOfYear!=null&&(ie=Xc(p._a[$e],A[$e]),(p._dayOfYear>xr(ie)||p._dayOfYear===0)&&(v(p)._overflowDayOfYear=!0),T=Fd(ie,0,p._dayOfYear),p._a[it]=T.getUTCMonth(),p._a[pt]=T.getUTCDate()),x=0;x<3&&p._a[x]==null;++x)p._a[x]=I[x]=A[x];for(;x<7;x++)p._a[x]=I[x]=p._a[x]==null?x===2?1:0:p._a[x];p._a[Je]===24&&p._a[bt]===0&&p._a[jt]===0&&p._a[Pt]===0&&(p._nextDay=!0,p._a[Je]=0),p._d=(p._useUTC?Fd:VJ).apply(null,I),G=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[Je]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==G&&(v(p).weekdayMismatch=!0)}}function qZ(p){var x,T,I,A,G,ie,Ne,et,xt;x=p._w,x.GG!=null||x.W!=null||x.E!=null?(G=1,ie=4,T=Xc(x.GG,p._a[$e],$d(Jt(),1,4).year),I=Xc(x.W,1),A=Xc(x.E,1),(A<1||A>7)&&(et=!0)):(G=p._locale._week.dow,ie=p._locale._week.doy,xt=$d(Jt(),G,ie),T=Xc(x.gg,p._a[$e],xt.year),I=Xc(x.w,xt.week),x.d!=null?(A=x.d,(A<0||A>6)&&(et=!0)):x.e!=null?(A=x.e+G,(x.e<0||x.e>6)&&(et=!0)):A=G),I<1||I>oo(T,G,ie)?v(p)._overflowWeeks=!0:et!=null?v(p)._overflowWeekday=!0:(Ne=_D(T,I,A,G,ie),p._a[$e]=Ne.year,p._dayOfYear=Ne.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Wx(p){if(p._f===r.ISO_8601){MD(p);return}if(p._f===r.RFC_2822){PD(p);return}p._a=[],v(p).empty=!0;var x=""+p._i,T,I,A,G,ie,Ne=x.length,et=0,xt,wr;for(A=re(p._f,p._locale).match(V)||[],wr=A.length,T=0;T<wr;T++)G=A[T],I=(x.match(ct(G,p))||[])[0],I&&(ie=x.substr(0,x.indexOf(I)),ie.length>0&&v(p).unusedInput.push(ie),x=x.slice(x.indexOf(I)+I.length),et+=I.length),L[G]?(I?v(p).empty=!1:v(p).unusedTokens.push(G),ze(G,I,p)):p._strict&&!I&&v(p).unusedTokens.push(G);v(p).charsLeftOver=Ne-et,x.length>0&&v(p).unusedInput.push(x),p._a[Je]<=12&&v(p).bigHour===!0&&p._a[Je]>0&&(v(p).bigHour=void 0),v(p).parsedDateParts=p._a.slice(0),v(p).meridiem=p._meridiem,p._a[Je]=UZ(p._locale,p._a[Je],p._meridiem),xt=v(p).era,xt!==null&&(p._a[$e]=p._locale.erasConvertYear(xt,p._a[$e])),Ux(p),zx(p)}function UZ(p,x,T){var I;return T==null?x:p.meridiemHour!=null?p.meridiemHour(x,T):(p.isPM!=null&&(I=p.isPM(T),I&&x<12&&(x+=12),!I&&x===12&&(x=0)),x)}function WZ(p){var x,T,I,A,G,ie,Ne=!1,et=p._f.length;if(et===0){v(p).invalidFormat=!0,p._d=new Date(NaN);return}for(A=0;A<et;A++)G=0,ie=!1,x=k({},p),p._useUTC!=null&&(x._useUTC=p._useUTC),x._f=p._f[A],Wx(x),b(x)&&(ie=!0),G+=v(x).charsLeftOver,G+=v(x).unusedTokens.length*10,v(x).score=G,Ne?G<I&&(I=G,T=x):(I==null||G<I||ie)&&(I=G,T=x,ie&&(Ne=!0));f(p,T||x)}function HZ(p){if(!p._d){var x=Ge(p._i),T=x.day===void 0?x.date:x.day;p._a=d([x.year,x.month,T,x.hour,x.minute,x.second,x.millisecond],function(I){return I&&parseInt(I,10)}),Ux(p)}}function YZ(p){var x=new E(zx(ID(p)));return x._nextDay&&(x.add(1,"d"),x._nextDay=void 0),x}function ID(p){var x=p._i,T=p._f;return p._locale=p._locale||ao(p._l),x===null||T===void 0&&x===""?w({nullInput:!0}):(typeof x=="string"&&(p._i=x=p._locale.preparse(x)),C(x)?new E(zx(x)):(h(x)?p._d=x:s(T)?WZ(p):T?Wx(p):GZ(p),b(p)||(p._d=null),p))}function GZ(p){var x=p._i;c(x)?p._d=new Date(r.now()):h(x)?p._d=new Date(x.valueOf()):typeof x=="string"?BZ(p):s(x)?(p._a=d(x.slice(0),function(T){return parseInt(T,10)}),Ux(p)):o(x)?HZ(p):u(x)?p._d=new Date(x):r.createFromInputFallback(p)}function OD(p,x,T,I,A){var G={};return(x===!0||x===!1)&&(I=x,x=void 0),(T===!0||T===!1)&&(I=T,T=void 0),(o(p)&&l(p)||s(p)&&p.length===0)&&(p=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=A,G._l=T,G._i=p,G._f=x,G._strict=I,YZ(G)}function Jt(p,x,T,I){return OD(p,x,T,I,!1)}var VZ=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Jt.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:w()}),KZ=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Jt.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:w()});function RD(p,x){var T,I;if(x.length===1&&s(x[0])&&(x=x[0]),!x.length)return Jt();for(T=x[0],I=1;I<x.length;++I)(!x[I].isValid()||x[I][p](T))&&(T=x[I]);return T}function XZ(){var p=[].slice.call(arguments,0);return RD("isBefore",p)}function QZ(){var p=[].slice.call(arguments,0);return RD("isAfter",p)}var JZ=function(){return Date.now?Date.now():+new Date},zd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ZZ(p){var x,T=!1,I,A=zd.length;for(x in p)if(a(p,x)&&!(kn.call(zd,x)!==-1&&(p[x]==null||!isNaN(p[x]))))return!1;for(I=0;I<A;++I)if(p[zd[I]]){if(T)return!1;parseFloat(p[zd[I]])!==Te(p[zd[I]])&&(T=!0)}return!0}function eee(){return this._isValid}function tee(){return es(NaN)}function Ig(p){var x=Ge(p),T=x.year||0,I=x.quarter||0,A=x.month||0,G=x.week||x.isoWeek||0,ie=x.day||0,Ne=x.hour||0,et=x.minute||0,xt=x.second||0,wr=x.millisecond||0;this._isValid=ZZ(x),this._milliseconds=+wr+xt*1e3+et*6e4+Ne*1e3*60*60,this._days=+ie+G*7,this._months=+A+I*3+T*12,this._data={},this._locale=ao(),this._bubble()}function Og(p){return p instanceof Ig}function Hx(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function nee(p,x,T){var I=Math.min(p.length,x.length),A=Math.abs(p.length-x.length),G=0,ie;for(ie=0;ie<I;ie++)Te(p[ie])!==Te(x[ie])&&G++;return G+A}function DD(p,x){Y(p,0,0,function(){var T=this.utcOffset(),I="+";return T<0&&(T=-T,I="-"),I+U(~~(T/60),2)+x+U(~~T%60,2)})}DD("Z",":"),DD("ZZ",""),ue("Z",Sn),ue("ZZ",Sn),Ke(["Z","ZZ"],function(p,x,T){T._useUTC=!0,T._tzm=Yx(Sn,p)});var ree=/([\+\-]|\d\d)/gi;function Yx(p,x){var T=(x||"").match(p),I,A,G;return T===null?null:(I=T[T.length-1]||[],A=(I+"").match(ree)||["-",0,0],G=+(A[1]*60)+Te(A[2]),G===0?0:A[0]==="+"?G:-G)}function Gx(p,x){var T,I;return x._isUTC?(T=x.clone(),I=(C(p)||h(p)?p.valueOf():Jt(p).valueOf())-T.valueOf(),T._d.setTime(T._d.valueOf()+I),r.updateOffset(T,!1),T):Jt(p).local()}function Vx(p){return-Math.round(p._d.getTimezoneOffset())}r.updateOffset=function(){};function iee(p,x,T){var I=this._offset||0,A;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=Yx(Sn,p),p===null)return this}else Math.abs(p)<16&&!T&&(p=p*60);return!this._isUTC&&x&&(A=Vx(this)),this._offset=p,this._isUTC=!0,A!=null&&this.add(A,"m"),I!==p&&(!x||this._changeInProgress?FD(this,es(p-I,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?I:Vx(this)}function see(p,x){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,x),this):-this.utcOffset()}function oee(p){return this.utcOffset(0,p)}function aee(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(Vx(this),"m")),this}function lee(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=Yx($r,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function cee(p){return this.isValid()?(p=p?Jt(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function uee(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hee(){if(!c(this._isDSTShifted))return this._isDSTShifted;var p={},x;return k(p,this),p=ID(p),p._a?(x=p._isUTC?m(p._a):Jt(p._a),this._isDSTShifted=this.isValid()&&nee(p._a,x.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dee(){return this.isValid()?!this._isUTC:!1}function fee(){return this.isValid()?this._isUTC:!1}function AD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pee=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function es(p,x){var T=p,I=null,A,G,ie;return Og(p)?T={ms:p._milliseconds,d:p._days,M:p._months}:u(p)||!isNaN(+p)?(T={},x?T[x]=+p:T.milliseconds=+p):(I=pee.exec(p))?(A=I[1]==="-"?-1:1,T={y:0,d:Te(I[pt])*A,h:Te(I[Je])*A,m:Te(I[bt])*A,s:Te(I[jt])*A,ms:Te(Hx(I[Pt]*1e3))*A}):(I=mee.exec(p))?(A=I[1]==="-"?-1:1,T={y:fl(I[2],A),M:fl(I[3],A),w:fl(I[4],A),d:fl(I[5],A),h:fl(I[6],A),m:fl(I[7],A),s:fl(I[8],A)}):T==null?T={}:typeof T=="object"&&("from"in T||"to"in T)&&(ie=gee(Jt(T.from),Jt(T.to)),T={},T.ms=ie.milliseconds,T.M=ie.months),G=new Ig(T),Og(p)&&a(p,"_locale")&&(G._locale=p._locale),Og(p)&&a(p,"_isValid")&&(G._isValid=p._isValid),G}es.fn=Ig.prototype,es.invalid=tee;function fl(p,x){var T=p&&parseFloat(p.replace(",","."));return(isNaN(T)?0:T)*x}function ND(p,x){var T={};return T.months=x.month()-p.month()+(x.year()-p.year())*12,p.clone().add(T.months,"M").isAfter(x)&&--T.months,T.milliseconds=+x-+p.clone().add(T.months,"M"),T}function gee(p,x){var T;return p.isValid()&&x.isValid()?(x=Gx(x,p),p.isBefore(x)?T=ND(p,x):(T=ND(x,p),T.milliseconds=-T.milliseconds,T.months=-T.months),T):{milliseconds:0,months:0}}function LD(p,x){return function(T,I){var A,G;return I!==null&&!isNaN(+I)&&(F(x,"moment()."+x+"(period, number) is deprecated. Please use moment()."+x+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=T,T=I,I=G),A=es(T,I),FD(this,A,p),this}}function FD(p,x,T,I){var A=x._milliseconds,G=Hx(x._days),ie=Hx(x._months);p.isValid()&&(I=I??!0,ie&&bD(p,so(p,"Month")+ie*T),G&&dl(p,"Date",so(p,"Date")+G*T),A&&p._d.setTime(p._d.valueOf()+A*T),I&&r.updateOffset(p,G||ie))}var vee=LD(1,"add"),yee=LD(-1,"subtract");function $D(p){return typeof p=="string"||p instanceof String}function bee(p){return C(p)||h(p)||$D(p)||u(p)||wee(p)||xee(p)||p===null||p===void 0}function xee(p){var x=o(p)&&!l(p),T=!1,I=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],A,G,ie=I.length;for(A=0;A<ie;A+=1)G=I[A],T=T||a(p,G);return x&&T}function wee(p){var x=s(p),T=!1;return x&&(T=p.filter(function(I){return!u(I)&&$D(p)}).length===0),x&&T}function _ee(p){var x=o(p)&&!l(p),T=!1,I=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],A,G;for(A=0;A<I.length;A+=1)G=I[A],T=T||a(p,G);return x&&T}function See(p,x){var T=p.diff(x,"days",!0);return T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse"}function kee(p,x){arguments.length===1&&(arguments[0]?bee(arguments[0])?(p=arguments[0],x=void 0):_ee(arguments[0])&&(x=arguments[0],p=void 0):(p=void 0,x=void 0));var T=p||Jt(),I=Gx(T,this).startOf("day"),A=r.calendarFormat(this,I)||"sameElse",G=x&&(N(x[A])?x[A].call(this,T):x[A]);return this.format(G||this.localeData().calendar(A,this,Jt(T)))}function Cee(){return new E(this)}function Eee(p,x){var T=C(p)?p:Jt(p);return this.isValid()&&T.isValid()?(x=Ze(x)||"millisecond",x==="millisecond"?this.valueOf()>T.valueOf():T.valueOf()<this.clone().startOf(x).valueOf()):!1}function Tee(p,x){var T=C(p)?p:Jt(p);return this.isValid()&&T.isValid()?(x=Ze(x)||"millisecond",x==="millisecond"?this.valueOf()<T.valueOf():this.clone().endOf(x).valueOf()<T.valueOf()):!1}function Mee(p,x,T,I){var A=C(p)?p:Jt(p),G=C(x)?x:Jt(x);return this.isValid()&&A.isValid()&&G.isValid()?(I=I||"()",(I[0]==="("?this.isAfter(A,T):!this.isBefore(A,T))&&(I[1]===")"?this.isBefore(G,T):!this.isAfter(G,T))):!1}function Pee(p,x){var T=C(p)?p:Jt(p),I;return this.isValid()&&T.isValid()?(x=Ze(x)||"millisecond",x==="millisecond"?this.valueOf()===T.valueOf():(I=T.valueOf(),this.clone().startOf(x).valueOf()<=I&&I<=this.clone().endOf(x).valueOf())):!1}function Iee(p,x){return this.isSame(p,x)||this.isAfter(p,x)}function Oee(p,x){return this.isSame(p,x)||this.isBefore(p,x)}function Ree(p,x,T){var I,A,G;if(!this.isValid())return NaN;if(I=Gx(p,this),!I.isValid())return NaN;switch(A=(I.utcOffset()-this.utcOffset())*6e4,x=Ze(x),x){case"year":G=Rg(this,I)/12;break;case"month":G=Rg(this,I);break;case"quarter":G=Rg(this,I)/3;break;case"second":G=(this-I)/1e3;break;case"minute":G=(this-I)/6e4;break;case"hour":G=(this-I)/36e5;break;case"day":G=(this-I-A)/864e5;break;case"week":G=(this-I-A)/6048e5;break;default:G=this-I}return T?G:Le(G)}function Rg(p,x){if(p.date()<x.date())return-Rg(x,p);var T=(x.year()-p.year())*12+(x.month()-p.month()),I=p.clone().add(T,"months"),A,G;return x-I<0?(A=p.clone().add(T-1,"months"),G=(x-I)/(I-A)):(A=p.clone().add(T+1,"months"),G=(x-I)/(A-I)),-(T+G)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dee(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Aee(p){if(!this.isValid())return null;var x=p!==!0,T=x?this.clone().utc():this;return T.year()<0||T.year()>9999?te(T,x?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?x?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",te(T,"Z")):te(T,x?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Nee(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",x="",T,I,A,G;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",x="Z"),T="["+p+'("]',I=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",A="-MM-DD[T]HH:mm:ss.SSS",G=x+'[")]',this.format(T+I+A+G)}function Lee(p){p||(p=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var x=te(this,p);return this.localeData().postformat(x)}function Fee(p,x){return this.isValid()&&(C(p)&&p.isValid()||Jt(p).isValid())?es({to:this,from:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function $ee(p){return this.from(Jt(),p)}function jee(p,x){return this.isValid()&&(C(p)&&p.isValid()||Jt(p).isValid())?es({from:this,to:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Bee(p){return this.to(Jt(),p)}function jD(p){var x;return p===void 0?this._locale._abbr:(x=ao(p),x!=null&&(this._locale=x),this)}var BD=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function zD(){return this._locale}var Dg=1e3,Qc=60*Dg,Ag=60*Qc,qD=(365*400+97)*24*Ag;function Jc(p,x){return(p%x+x)%x}function UD(p,x,T){return p<100&&p>=0?new Date(p+400,x,T)-qD:new Date(p,x,T).valueOf()}function WD(p,x,T){return p<100&&p>=0?Date.UTC(p+400,x,T)-qD:Date.UTC(p,x,T)}function zee(p){var x,T;if(p=Ze(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?WD:UD,p){case"year":x=T(this.year(),0,1);break;case"quarter":x=T(this.year(),this.month()-this.month()%3,1);break;case"month":x=T(this.year(),this.month(),1);break;case"week":x=T(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":x=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":x=T(this.year(),this.month(),this.date());break;case"hour":x=this._d.valueOf(),x-=Jc(x+(this._isUTC?0:this.utcOffset()*Qc),Ag);break;case"minute":x=this._d.valueOf(),x-=Jc(x,Qc);break;case"second":x=this._d.valueOf(),x-=Jc(x,Dg);break}return this._d.setTime(x),r.updateOffset(this,!0),this}function qee(p){var x,T;if(p=Ze(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?WD:UD,p){case"year":x=T(this.year()+1,0,1)-1;break;case"quarter":x=T(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":x=T(this.year(),this.month()+1,1)-1;break;case"week":x=T(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":x=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":x=T(this.year(),this.month(),this.date()+1)-1;break;case"hour":x=this._d.valueOf(),x+=Ag-Jc(x+(this._isUTC?0:this.utcOffset()*Qc),Ag)-1;break;case"minute":x=this._d.valueOf(),x+=Qc-Jc(x,Qc)-1;break;case"second":x=this._d.valueOf(),x+=Dg-Jc(x,Dg)-1;break}return this._d.setTime(x),r.updateOffset(this,!0),this}function Uee(){return this._d.valueOf()-(this._offset||0)*6e4}function Wee(){return Math.floor(this.valueOf()/1e3)}function Hee(){return new Date(this.valueOf())}function Yee(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function Gee(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function Vee(){return this.isValid()?this.toISOString():null}function Kee(){return b(this)}function Xee(){return f({},v(this))}function Qee(){return v(this).overflow}function Jee(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr"),Y("NN",0,0,"eraAbbr"),Y("NNN",0,0,"eraAbbr"),Y("NNNN",0,0,"eraName"),Y("NNNNN",0,0,"eraNarrow"),Y("y",["y",1],"yo","eraYear"),Y("y",["yy",2],0,"eraYear"),Y("y",["yyy",3],0,"eraYear"),Y("y",["yyyy",4],0,"eraYear"),ue("N",Kx),ue("NN",Kx),ue("NNN",Kx),ue("NNNN",cte),ue("NNNNN",ute),Ke(["N","NN","NNN","NNNN","NNNNN"],function(p,x,T,I){var A=T._locale.erasParse(p,I,T._strict);A?v(T).era=A:v(T).invalidEra=p}),ue("y",gt),ue("yy",gt),ue("yyy",gt),ue("yyyy",gt),ue("yo",hte),Ke(["y","yy","yyy","yyyy"],$e),Ke(["yo"],function(p,x,T,I){var A;T._locale._eraYearOrdinalRegex&&(A=p.match(T._locale._eraYearOrdinalRegex)),T._locale.eraYearOrdinalParse?x[$e]=T._locale.eraYearOrdinalParse(p,A):x[$e]=parseInt(p,10)});function Zee(p,x){var T,I,A,G=this._eras||ao("en")._eras;for(T=0,I=G.length;T<I;++T){switch(typeof G[T].since){case"string":A=r(G[T].since).startOf("day"),G[T].since=A.valueOf();break}switch(typeof G[T].until){case"undefined":G[T].until=1/0;break;case"string":A=r(G[T].until).startOf("day").valueOf(),G[T].until=A.valueOf();break}}return G}function ete(p,x,T){var I,A,G=this.eras(),ie,Ne,et;for(p=p.toUpperCase(),I=0,A=G.length;I<A;++I)if(ie=G[I].name.toUpperCase(),Ne=G[I].abbr.toUpperCase(),et=G[I].narrow.toUpperCase(),T)switch(x){case"N":case"NN":case"NNN":if(Ne===p)return G[I];break;case"NNNN":if(ie===p)return G[I];break;case"NNNNN":if(et===p)return G[I];break}else if([ie,Ne,et].indexOf(p)>=0)return G[I]}function tte(p,x){var T=p.since<=p.until?1:-1;return x===void 0?r(p.since).year():r(p.since).year()+(x-p.offset)*T}function nte(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].name;return""}function rte(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].narrow;return""}function ite(){var p,x,T,I=this.localeData().eras();for(p=0,x=I.length;p<x;++p)if(T=this.clone().startOf("day").valueOf(),I[p].since<=T&&T<=I[p].until||I[p].until<=T&&T<=I[p].since)return I[p].abbr;return""}function ste(){var p,x,T,I,A=this.localeData().eras();for(p=0,x=A.length;p<x;++p)if(T=A[p].since<=A[p].until?1:-1,I=this.clone().startOf("day").valueOf(),A[p].since<=I&&I<=A[p].until||A[p].until<=I&&I<=A[p].since)return(this.year()-r(A[p].since).year())*T+A[p].offset;return this.year()}function ote(p){return a(this,"_erasNameRegex")||Xx.call(this),p?this._erasNameRegex:this._erasRegex}function ate(p){return a(this,"_erasAbbrRegex")||Xx.call(this),p?this._erasAbbrRegex:this._erasRegex}function lte(p){return a(this,"_erasNarrowRegex")||Xx.call(this),p?this._erasNarrowRegex:this._erasRegex}function Kx(p,x){return x.erasAbbrRegex(p)}function cte(p,x){return x.erasNameRegex(p)}function ute(p,x){return x.erasNarrowRegex(p)}function hte(p,x){return x._eraYearOrdinalRegex||gt}function Xx(){var p=[],x=[],T=[],I=[],A,G,ie,Ne,et,xt=this.eras();for(A=0,G=xt.length;A<G;++A)ie=Ae(xt[A].name),Ne=Ae(xt[A].abbr),et=Ae(xt[A].narrow),x.push(ie),p.push(Ne),T.push(et),I.push(ie),I.push(Ne),I.push(et);this._erasRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+x.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+T.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ng(p,x){Y(0,[p,p.length],0,x)}Ng("gggg","weekYear"),Ng("ggggg","weekYear"),Ng("GGGG","isoWeekYear"),Ng("GGGGG","isoWeekYear"),ue("G",Qt),ue("g",Qt),ue("GG",Se,Oe),ue("gg",Se,Oe),ue("GGGG",He,pe),ue("gggg",He,pe),ue("GGGGG",Ve,Ce),ue("ggggg",Ve,Ce),Gt(["gggg","ggggg","GGGG","GGGGG"],function(p,x,T,I){x[I.substr(0,2)]=Te(p)}),Gt(["gg","GG"],function(p,x,T,I){x[I]=r.parseTwoDigitYear(p)});function dte(p){return HD.call(this,p,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function fte(p){return HD.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function pte(){return oo(this.year(),1,4)}function mte(){return oo(this.isoWeekYear(),1,4)}function gte(){var p=this.localeData()._week;return oo(this.year(),p.dow,p.doy)}function vte(){var p=this.localeData()._week;return oo(this.weekYear(),p.dow,p.doy)}function HD(p,x,T,I,A){var G;return p==null?$d(this,I,A).year:(G=oo(p,I,A),x>G&&(x=G),yte.call(this,p,x,T,I,A))}function yte(p,x,T,I,A){var G=_D(p,x,T,I,A),ie=Fd(G.year,0,G.dayOfYear);return this.year(ie.getUTCFullYear()),this.month(ie.getUTCMonth()),this.date(ie.getUTCDate()),this}Y("Q",0,"Qo","quarter"),ue("Q",Be),Ke("Q",function(p,x){x[it]=(Te(p)-1)*3});function bte(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date"),ue("D",Se,rt),ue("DD",Se,Oe),ue("Do",function(p,x){return p?x._dayOfMonthOrdinalParse||x._ordinalParse:x._dayOfMonthOrdinalParseLenient}),Ke(["D","DD"],pt),Ke("Do",function(p,x){x[pt]=Te(p.match(Se)[0])});var YD=At("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),ue("DDD",Ue),ue("DDDD",We),Ke(["DDD","DDDD"],function(p,x,T){T._dayOfYear=Te(p)});function xte(p){var x=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?x:this.add(p-x,"d")}Y("m",["mm",2],0,"minute"),ue("m",Se,ft),ue("mm",Se,Oe),Ke(["m","mm"],bt);var wte=At("Minutes",!1);Y("s",["ss",2],0,"second"),ue("s",Se,ft),ue("ss",Se,Oe),Ke(["s","ss"],jt);var _te=At("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return this.millisecond()*10}),Y(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ue("S",Ue,Be),ue("SS",Ue,Oe),ue("SSS",Ue,We);var Zo,GD;for(Zo="SSSS";Zo.length<=9;Zo+="S")ue(Zo,gt);function Ste(p,x){x[Pt]=Te(("0."+p)*1e3)}for(Zo="S";Zo.length<=9;Zo+="S")Ke(Zo,Ste);GD=At("Milliseconds",!1),Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");function kte(){return this._isUTC?"UTC":""}function Cte(){return this._isUTC?"Coordinated Universal Time":""}var ge=E.prototype;ge.add=vee,ge.calendar=kee,ge.clone=Cee,ge.diff=Ree,ge.endOf=qee,ge.format=Lee,ge.from=Fee,ge.fromNow=$ee,ge.to=jee,ge.toNow=Bee,ge.get=Kc,ge.invalidAt=Qee,ge.isAfter=Eee,ge.isBefore=Tee,ge.isBetween=Mee,ge.isSame=Pee,ge.isSameOrAfter=Iee,ge.isSameOrBefore=Oee,ge.isValid=Kee,ge.lang=BD,ge.locale=jD,ge.localeData=zD,ge.max=KZ,ge.min=VZ,ge.parsingFlags=Xee,ge.set=Eg,ge.startOf=zee,ge.subtract=yee,ge.toArray=Yee,ge.toObject=Gee,ge.toDate=Hee,ge.toISOString=Aee,ge.inspect=Nee,typeof Symbol<"u"&&Symbol.for!=null&&(ge[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ge.toJSON=Vee,ge.toString=Dee,ge.unix=Wee,ge.valueOf=Uee,ge.creationData=Jee,ge.eraName=nte,ge.eraNarrow=rte,ge.eraAbbr=ite,ge.eraYear=ste,ge.year=Qo,ge.isLeapYear=Vc,ge.weekYear=dte,ge.isoWeekYear=fte,ge.quarter=ge.quarters=bte,ge.month=xD,ge.daysInMonth=HJ,ge.week=ge.weeks=ZJ,ge.isoWeek=ge.isoWeeks=eZ,ge.weeksInYear=gte,ge.weeksInWeekYear=vte,ge.isoWeeksInYear=pte,ge.isoWeeksInISOWeekYear=mte,ge.date=YD,ge.day=ge.days=fZ,ge.weekday=pZ,ge.isoWeekday=mZ,ge.dayOfYear=xte,ge.hour=ge.hours=_Z,ge.minute=ge.minutes=wte,ge.second=ge.seconds=_te,ge.millisecond=ge.milliseconds=GD,ge.utcOffset=iee,ge.utc=oee,ge.local=aee,ge.parseZone=lee,ge.hasAlignedHourOffset=cee,ge.isDST=uee,ge.isLocal=dee,ge.isUtcOffset=fee,ge.isUtc=AD,ge.isUTC=AD,ge.zoneAbbr=kte,ge.zoneName=Cte,ge.dates=R("dates accessor is deprecated. Use date instead.",YD),ge.months=R("months accessor is deprecated. Use month instead",xD),ge.years=R("years accessor is deprecated. Use year instead",Qo),ge.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",see),ge.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hee);function Ete(p){return Jt(p*1e3)}function Tte(){return Jt.apply(null,arguments).parseZone()}function VD(p){return p}var It=$.prototype;It.calendar=q,It.longDateFormat=he,It.invalidDate=ne,It.ordinal=be,It.preparse=VD,It.postformat=VD,It.relativeTime=Me,It.pastFuture=we,It.set=W,It.eras=Zee,It.erasParse=ete,It.erasConvertYear=tte,It.erasAbbrRegex=ate,It.erasNameRegex=ote,It.erasNarrowRegex=lte,It.months=zJ,It.monthsShort=qJ,It.monthsParse=WJ,It.monthsRegex=GJ,It.monthsShortRegex=YJ,It.week=KJ,It.firstDayOfYear=JJ,It.firstDayOfWeek=QJ,It.weekdays=lZ,It.weekdaysMin=uZ,It.weekdaysShort=cZ,It.weekdaysParse=dZ,It.weekdaysRegex=gZ,It.weekdaysShortRegex=vZ,It.weekdaysMinRegex=yZ,It.isPM=xZ,It.meridiem=SZ;function Lg(p,x,T,I){var A=ao(),G=m().set(I,x);return A[T](G,p)}function KD(p,x,T){if(u(p)&&(x=p,p=void 0),p=p||"",x!=null)return Lg(p,x,T,"month");var I,A=[];for(I=0;I<12;I++)A[I]=Lg(p,I,T,"month");return A}function Qx(p,x,T,I){typeof p=="boolean"?(u(x)&&(T=x,x=void 0),x=x||""):(x=p,T=x,p=!1,u(x)&&(T=x,x=void 0),x=x||"");var A=ao(),G=p?A._week.dow:0,ie,Ne=[];if(T!=null)return Lg(x,(T+G)%7,I,"day");for(ie=0;ie<7;ie++)Ne[ie]=Lg(x,(ie+G)%7,I,"day");return Ne}function Mte(p,x){return KD(p,x,"months")}function Pte(p,x){return KD(p,x,"monthsShort")}function Ite(p,x,T){return Qx(p,x,T,"weekdays")}function Ote(p,x,T){return Qx(p,x,T,"weekdaysShort")}function Rte(p,x,T){return Qx(p,x,T,"weekdaysMin")}Jo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var x=p%10,T=Te(p%100/10)===1?"th":x===1?"st":x===2?"nd":x===3?"rd":"th";return p+T}}),r.lang=R("moment.lang is deprecated. Use moment.locale instead.",Jo),r.langData=R("moment.langData is deprecated. Use moment.localeData instead.",ao);var lo=Math.abs;function Dte(){var p=this._data;return this._milliseconds=lo(this._milliseconds),this._days=lo(this._days),this._months=lo(this._months),p.milliseconds=lo(p.milliseconds),p.seconds=lo(p.seconds),p.minutes=lo(p.minutes),p.hours=lo(p.hours),p.months=lo(p.months),p.years=lo(p.years),this}function XD(p,x,T,I){var A=es(x,T);return p._milliseconds+=I*A._milliseconds,p._days+=I*A._days,p._months+=I*A._months,p._bubble()}function Ate(p,x){return XD(this,p,x,1)}function Nte(p,x){return XD(this,p,x,-1)}function QD(p){return p<0?Math.floor(p):Math.ceil(p)}function Lte(){var p=this._milliseconds,x=this._days,T=this._months,I=this._data,A,G,ie,Ne,et;return p>=0&&x>=0&&T>=0||p<=0&&x<=0&&T<=0||(p+=QD(Jx(T)+x)*864e5,x=0,T=0),I.milliseconds=p%1e3,A=Le(p/1e3),I.seconds=A%60,G=Le(A/60),I.minutes=G%60,ie=Le(G/60),I.hours=ie%24,x+=Le(ie/24),et=Le(JD(x)),T+=et,x-=QD(Jx(et)),Ne=Le(T/12),T%=12,I.days=x,I.months=T,I.years=Ne,this}function JD(p){return p*4800/146097}function Jx(p){return p*146097/4800}function Fte(p){if(!this.isValid())return NaN;var x,T,I=this._milliseconds;if(p=Ze(p),p==="month"||p==="quarter"||p==="year")switch(x=this._days+I/864e5,T=this._months+JD(x),p){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(x=this._days+Math.round(Jx(this._months)),p){case"week":return x/7+I/6048e5;case"day":return x+I/864e5;case"hour":return x*24+I/36e5;case"minute":return x*1440+I/6e4;case"second":return x*86400+I/1e3;case"millisecond":return Math.floor(x*864e5)+I;default:throw new Error("Unknown unit "+p)}}function co(p){return function(){return this.as(p)}}var ZD=co("ms"),$te=co("s"),jte=co("m"),Bte=co("h"),zte=co("d"),qte=co("w"),Ute=co("M"),Wte=co("Q"),Hte=co("y"),Yte=ZD;function Gte(){return es(this)}function Vte(p){return p=Ze(p),this.isValid()?this[p+"s"]():NaN}function pl(p){return function(){return this.isValid()?this._data[p]:NaN}}var Kte=pl("milliseconds"),Xte=pl("seconds"),Qte=pl("minutes"),Jte=pl("hours"),Zte=pl("days"),ene=pl("months"),tne=pl("years");function nne(){return Le(this.days()/7)}var uo=Math.round,Zc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rne(p,x,T,I,A){return A.relativeTime(x||1,!!T,p,I)}function ine(p,x,T,I){var A=es(p).abs(),G=uo(A.as("s")),ie=uo(A.as("m")),Ne=uo(A.as("h")),et=uo(A.as("d")),xt=uo(A.as("M")),wr=uo(A.as("w")),ho=uo(A.as("y")),ea=G<=T.ss&&["s",G]||G<T.s&&["ss",G]||ie<=1&&["m"]||ie<T.m&&["mm",ie]||Ne<=1&&["h"]||Ne<T.h&&["hh",Ne]||et<=1&&["d"]||et<T.d&&["dd",et];return T.w!=null&&(ea=ea||wr<=1&&["w"]||wr<T.w&&["ww",wr]),ea=ea||xt<=1&&["M"]||xt<T.M&&["MM",xt]||ho<=1&&["y"]||["yy",ho],ea[2]=x,ea[3]=+p>0,ea[4]=I,rne.apply(null,ea)}function sne(p){return p===void 0?uo:typeof p=="function"?(uo=p,!0):!1}function one(p,x){return Zc[p]===void 0?!1:x===void 0?Zc[p]:(Zc[p]=x,p==="s"&&(Zc.ss=x-1),!0)}function ane(p,x){if(!this.isValid())return this.localeData().invalidDate();var T=!1,I=Zc,A,G;return typeof p=="object"&&(x=p,p=!1),typeof p=="boolean"&&(T=p),typeof x=="object"&&(I=Object.assign({},Zc,x),x.s!=null&&x.ss==null&&(I.ss=x.s-1)),A=this.localeData(),G=ine(this,!T,I,A),T&&(G=A.pastFuture(+this,G)),A.postformat(G)}var Zx=Math.abs;function eu(p){return(p>0)-(p<0)||+p}function Fg(){if(!this.isValid())return this.localeData().invalidDate();var p=Zx(this._milliseconds)/1e3,x=Zx(this._days),T=Zx(this._months),I,A,G,ie,Ne=this.asSeconds(),et,xt,wr,ho;return Ne?(I=Le(p/60),A=Le(I/60),p%=60,I%=60,G=Le(T/12),T%=12,ie=p?p.toFixed(3).replace(/\.?0+$/,""):"",et=Ne<0?"-":"",xt=eu(this._months)!==eu(Ne)?"-":"",wr=eu(this._days)!==eu(Ne)?"-":"",ho=eu(this._milliseconds)!==eu(Ne)?"-":"",et+"P"+(G?xt+G+"Y":"")+(T?xt+T+"M":"")+(x?wr+x+"D":"")+(A||I||p?"T":"")+(A?ho+A+"H":"")+(I?ho+I+"M":"")+(p?ho+ie+"S":"")):"P0D"}var _t=Ig.prototype;_t.isValid=eee,_t.abs=Dte,_t.add=Ate,_t.subtract=Nte,_t.as=Fte,_t.asMilliseconds=ZD,_t.asSeconds=$te,_t.asMinutes=jte,_t.asHours=Bte,_t.asDays=zte,_t.asWeeks=qte,_t.asMonths=Ute,_t.asQuarters=Wte,_t.asYears=Hte,_t.valueOf=Yte,_t._bubble=Lte,_t.clone=Gte,_t.get=Vte,_t.milliseconds=Kte,_t.seconds=Xte,_t.minutes=Qte,_t.hours=Jte,_t.days=Zte,_t.weeks=nne,_t.months=ene,_t.years=tne,_t.humanize=ane,_t.toISOString=Fg,_t.toString=Fg,_t.toJSON=Fg,_t.locale=jD,_t.localeData=zD,_t.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fg),_t.lang=BD,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),ue("x",Qt),ue("X",ur),Ke("X",function(p,x,T){T._d=new Date(parseFloat(p)*1e3)}),Ke("x",function(p,x,T){T._d=new Date(Te(p))});//! moment.js
return r.version="2.30.1",i(Jt),r.fn=ge,r.min=XZ,r.max=QZ,r.now=JZ,r.utc=m,r.unix=Ete,r.months=Mte,r.isDate=h,r.locale=Jo,r.invalid=w,r.duration=es,r.isMoment=C,r.weekdays=Ite,r.parseZone=Tte,r.localeData=ao,r.isDuration=Og,r.monthsShort=Pte,r.weekdaysMin=Rte,r.defineLocale=Bx,r.updateLocale=TZ,r.locales=MZ,r.weekdaysShort=Ote,r.normalizeUnits=Ze,r.relativeTimeRounding=sne,r.relativeTimeThreshold=one,r.calendarFormat=See,r.prototype=ge,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Nv)),Nv.exports}var Oke=IP.exports,r8;function Rke(){return r8||(r8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Oke,function(t){//! moment.js locale configuration
function r(s,o,a,l){var c={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[s+" Tage",s+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[s+" Monate",s+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[s+" Jahre",s+" Jahren"]};return o?c[a][0]:c[a][1]}var i=t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:r,mm:"%d Minuten",h:r,hh:"%d Stunden",d:r,dd:r,w:r,ww:"%d Wochen",M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})}()),IP.exports}Rke();var OP={exports:{}},Dke=OP.exports,i8;function Ake(){return i8||(i8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Dke,function(t){//! moment.js locale configuration
var r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),s=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return a})}()),OP.exports}Ake();var RP={exports:{}},Nke=RP.exports,s8;function Lke(){return s8||(s8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Nke,function(t){//! moment.js locale configuration
var r=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,o=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],a=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:r,monthsShortStrictRegex:i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(l,c){switch(c){case"D":return l+(l===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return l+(l===1?"er":"e");case"w":case"W":return l+(l===1?"re":"e")}},week:{dow:1,doy:4}});return a})}()),RP.exports}Lke();var DP={exports:{}},Fke=DP.exports,o8;function $ke(){return o8||(o8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Fke,function(t){//! moment.js locale configuration
var r=t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r})}()),DP.exports}$ke();var AP={exports:{}},jke=AP.exports,a8;function Bke(){return a8||(a8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(jke,function(t){//! moment.js locale configuration
var r=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(i,s){return s[1]===""?1:parseInt(s[1]||i,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(i){return i===""},meridiem:function(i,s,o){return i<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(i){return i.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(i){return this.week()!==i.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(i,s){switch(s){case"y":return i===1?"":i+"";case"d":case"D":case"DDD":return i+"";default:return i}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return r})}()),AP.exports}Bke();var NP={exports:{}},zke=NP.exports,l8;function qke(){return l8||(l8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(zke,function(t){//! moment.js locale configuration
var r="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),s=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(l){return l+(l===1||l===8||l>=20?"ste":"de")},week:{dow:1,doy:4}});return a})}()),NP.exports}qke();var LP={exports:{}},Uke=LP.exports,c8;function Wke(){return c8||(c8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Uke,function(t){//! moment.js locale configuration
var r="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function o(c){return c%10<5&&c%10>1&&~~(c/10)%10!==1}function a(c,u,h){var d=c+" ";switch(h){case"ss":return d+(o(c)?"sekundy":"sekund");case"m":return u?"minuta":"minut";case"mm":return d+(o(c)?"minuty":"minut");case"h":return u?"godzina":"godzin";case"hh":return d+(o(c)?"godziny":"godzin");case"ww":return d+(o(c)?"tygodnie":"tygodni");case"MM":return d+(o(c)?"miesice":"miesicy");case"yy":return d+(o(c)?"lata":"lat")}}var l=t.defineLocale("pl",{months:function(c,u){return c?/D MMMM/.test(u)?i[c.month()]:r[c.month()]:r},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return l})}()),LP.exports}Wke();var FP={exports:{}},Hke=FP.exports,u8;function Yke(){return u8||(u8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Hke,function(t){//! moment.js locale configuration
function r(a,l){var c=a.split("_");return l%10===1&&l%100!==11?c[0]:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?c[1]:c[2]}function i(a,l,c){var u={ss:l?"__":"__",mm:l?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return c==="m"?l?"":"":a+" "+r(u[c],+a)}var s=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],o=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,w:"",ww:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,l,c){return a<4?"":a<12?"":a<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(a,l){switch(l){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:4}});return o})}()),FP.exports}Yke();var $P={exports:{}},Gke=$P.exports,h8;function Vke(){return h8||(h8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Gke,function(t){//! moment.js locale configuration
var r={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},i=t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(s,o,a){return s<12?a?"":"":a?"s":"S"},meridiemParse:/||s|S/,isPM:function(s){return s==="s"||s==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(s,o){switch(o){case"d":case"D":case"Do":case"DD":return s;default:if(s===0)return s+"'nc";var a=s%10,l=s%100-a,c=s>=100?100:null;return s+(r[a]||r[l]||r[c])}},week:{dow:1,doy:7}});return i})}()),$P.exports}Vke();var jP={exports:{}},Kke=jP.exports,d8;function Xke(){return d8||(d8=1,function(n,e){(function(t,r){r(typeof Ss=="function"?ks():t.moment)})(Kke,function(t){//! moment.js locale configuration
function r(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function i(l,c,u){var h={ss:c?"__":"__",mm:c?"__":"__",hh:c?"__":"__",dd:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":u==="h"?c?"":"":l+" "+r(h[u],+l)}function s(l,c){var u={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return l===!0?u.nominative.slice(1,7).concat(u.nominative.slice(0,1)):l?(h=/(\[[]\]) ?dddd/.test(c)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(c)?"genitive":"nominative",u[h][l.day()]):u.nominative}function o(l){return function(){return l+""+(this.hours()===11?"":"")+"] LT"}}var a=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:s,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":case"w":case"W":return l+"-";case"D":return l+"-";default:return l}},week:{dow:1,doy:7}});return a})}()),jP.exports}Xke();var f8={},bf,p8;function wn(){if(p8)return bf;p8=1;var n=function(e){return e&&e.Math===Math&&e};return bf=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof t8=="object"&&t8)||n(typeof bf=="object"&&bf)||function(){return this}()||Function("return this")(),bf}var e_,m8;function kt(){return m8||(m8=1,e_=function(n){try{return!!n()}catch{return!0}}),e_}var t_,g8;function rg(){if(g8)return t_;g8=1;var n=kt();return t_=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),t_}var n_,v8;function mx(){if(v8)return n_;v8=1;var n=rg(),e=Function.prototype,t=e.apply,r=e.call;return n_=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),n_}var r_,y8;function Mt(){if(y8)return r_;y8=1;var n=rg(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return r_=n?r:function(i){return function(){return t.apply(i,arguments)}},r_}var i_,b8;function ro(){if(b8)return i_;b8=1;var n=Mt(),e=n({}.toString),t=n("".slice);return i_=function(r){return t(e(r),8,-1)},i_}var s_,x8;function wR(){if(x8)return s_;x8=1;var n=ro(),e=Mt();return s_=function(t){if(n(t)==="Function")return e(t)},s_}var o_,w8;function Jn(){if(w8)return o_;w8=1;var n=typeof document=="object"&&document.all;return o_=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},o_}var a_={},l_,_8;function Dn(){if(_8)return l_;_8=1;var n=kt();return l_=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),l_}var c_,S8;function ii(){if(S8)return c_;S8=1;var n=rg(),e=Function.prototype.call;return c_=n?e.bind(e):function(){return e.apply(e,arguments)},c_}var u_={},k8;function gx(){if(k8)return u_;k8=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return u_.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,u_}var h_,C8;function ig(){return C8||(C8=1,h_=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),h_}var d_,E8;function vx(){if(E8)return d_;E8=1;var n=Mt(),e=kt(),t=ro(),r=Object,i=n("".split);return d_=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,d_}var f_,T8;function sg(){return T8||(T8=1,f_=function(n){return n==null}),f_}var p_,M8;function Vo(){if(M8)return p_;M8=1;var n=sg(),e=TypeError;return p_=function(t){if(n(t))throw new e("Can't call method on "+t);return t},p_}var m_,P8;function Cs(){if(P8)return m_;P8=1;var n=vx(),e=Vo();return m_=function(t){return n(e(t))},m_}var g_,I8;function br(){if(I8)return g_;I8=1;var n=Jn();return g_=function(e){return typeof e=="object"?e!==null:n(e)},g_}var v_,O8;function Xt(){return O8||(O8=1,v_={}),v_}var y_,R8;function Ci(){if(R8)return y_;R8=1;var n=Xt(),e=wn(),t=Jn(),r=function(i){return t(i)?i:void 0};return y_=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},y_}var b_,D8;function tn(){if(D8)return b_;D8=1;var n=Mt();return b_=n({}.isPrototypeOf),b_}var x_,A8;function Sd(){if(A8)return x_;A8=1;var n=wn(),e=n.navigator,t=e&&e.userAgent;return x_=t?String(t):"",x_}var w_,N8;function og(){if(N8)return w_;N8=1;var n=wn(),e=Sd(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),w_=a,w_}var __,L8;function kd(){if(L8)return __;L8=1;var n=og(),e=kt(),t=wn(),r=t.String;return __=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),__}var S_,F8;function ZX(){if(F8)return S_;F8=1;var n=kd();return S_=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",S_}var k_,$8;function ag(){if($8)return k_;$8=1;var n=Ci(),e=Jn(),t=tn(),r=ZX(),i=Object;return k_=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},k_}var C_,j8;function Cd(){if(j8)return C_;j8=1;var n=String;return C_=function(e){try{return n(e)}catch{return"Object"}},C_}var E_,B8;function io(){if(B8)return E_;B8=1;var n=Jn(),e=Cd(),t=TypeError;return E_=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},E_}var T_,z8;function _R(){if(z8)return T_;z8=1;var n=io(),e=sg();return T_=function(t,r){var i=t[r];return e(i)?void 0:n(i)},T_}var M_,q8;function Qke(){if(q8)return M_;q8=1;var n=ii(),e=Jn(),t=br(),r=TypeError;return M_=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},M_}var P_={exports:{}},I_,U8;function Ed(){return U8||(U8=1,I_=!0),I_}var O_,W8;function Jke(){if(W8)return O_;W8=1;var n=wn(),e=Object.defineProperty;return O_=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},O_}var H8;function SR(){if(H8)return P_.exports;H8=1;var n=Ed(),e=wn(),t=Jke(),r="__core-js_shared__",i=P_.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),P_.exports}var R_,Y8;function Td(){if(Y8)return R_;Y8=1;var n=SR();return R_=function(e,t){return n[e]||(n[e]=t||{})},R_}var D_,G8;function si(){if(G8)return D_;G8=1;var n=Vo(),e=Object;return D_=function(t){return e(n(t))},D_}var A_,V8;function Zn(){if(V8)return A_;V8=1;var n=Mt(),e=si(),t=n({}.hasOwnProperty);return A_=Object.hasOwn||function(i,s){return t(e(i),s)},A_}var N_,K8;function yx(){if(K8)return N_;K8=1;var n=Mt(),e=0,t=Math.random(),r=n(1.1.toString);return N_=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},N_}var L_,X8;function Fn(){if(X8)return L_;X8=1;var n=wn(),e=Td(),t=Zn(),r=yx(),i=kd(),s=ZX(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return L_=function(c){return t(a,c)||(a[c]=i&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},L_}var F_,Q8;function eQ(){if(Q8)return F_;Q8=1;var n=ii(),e=br(),t=ag(),r=_R(),i=Qke(),s=Fn(),o=TypeError,a=s("toPrimitive");return F_=function(l,c){if(!e(l)||t(l))return l;var u=r(l,a),h;if(u){if(c===void 0&&(c="default"),h=n(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},F_}var $_,J8;function kR(){if(J8)return $_;J8=1;var n=eQ(),e=ag();return $_=function(t){var r=n(t,"string");return e(r)?r:r+""},$_}var j_,Z8;function tQ(){if(Z8)return j_;Z8=1;var n=wn(),e=br(),t=n.document,r=e(t)&&e(t.createElement);return j_=function(i){return r?t.createElement(i):{}},j_}var B_,e6;function nQ(){if(e6)return B_;e6=1;var n=Dn(),e=kt(),t=tQ();return B_=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),B_}var t6;function bx(){if(t6)return a_;t6=1;var n=Dn(),e=ii(),t=gx(),r=ig(),i=Cs(),s=kR(),o=Zn(),a=nQ(),l=Object.getOwnPropertyDescriptor;return a_.f=n?l:function(u,h){if(u=i(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return r(!e(t.f,u,h),u[h])},a_}var z_,n6;function Zke(){if(n6)return z_;n6=1;var n=kt(),e=Jn(),t=/#|\.prototype\./,r=function(l,c){var u=s[i(l)];return u===a?!0:u===o?!1:e(c)?n(c):!!c},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return z_=r,z_}var q_,r6;function lg(){if(r6)return q_;r6=1;var n=wR(),e=io(),t=rg(),r=n(n.bind);return q_=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},q_}var U_={},W_,i6;function rQ(){if(i6)return W_;i6=1;var n=Dn(),e=kt();return W_=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),W_}var H_,s6;function Ko(){if(s6)return H_;s6=1;var n=br(),e=String,t=TypeError;return H_=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},H_}var o6;function Qi(){if(o6)return U_;o6=1;var n=Dn(),e=nQ(),t=rQ(),r=Ko(),i=kR(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return U_.f=n?t?function(d,f,m){if(r(d),f=i(f),r(m),typeof d=="function"&&f==="prototype"&&"value"in m&&u in m&&!m[u]){var g=a(d,f);g&&g[u]&&(d[f]=m.value,m={configurable:c in m?m[c]:g[c],enumerable:l in m?m[l]:g[l],writable:!1})}return o(d,f,m)}:o:function(d,f,m){if(r(d),f=i(f),r(m),e)try{return o(d,f,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(d[f]=m.value),d},U_}var Y_,a6;function Md(){if(a6)return Y_;a6=1;var n=Dn(),e=Qi(),t=ig();return Y_=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Y_}var G_,l6;function Ye(){if(l6)return G_;l6=1;var n=wn(),e=mx(),t=wR(),r=Jn(),i=bx().f,s=Zke(),o=Xt(),a=lg(),l=Md(),c=Zn(),u=function(h){var d=function(f,m,g){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,m)}return new h(f,m,g)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return G_=function(h,d){var f=h.target,m=h.global,g=h.stat,v=h.proto,y=m?n:g?n[f]:n[f]&&n[f].prototype,b=m?o:o[f]||l(o,f,{})[f],w=b.prototype,S,_,k,E,C,O,R,D,F;for(E in d)S=s(m?E:f+(g?".":"#")+E,h.forced),_=!S&&y&&c(y,E),O=b[E],_&&(h.dontCallGetSet?(F=i(y,E),R=F&&F.value):R=y[E]),C=_&&R?R:d[E],!(!S&&!v&&typeof O==typeof C)&&(h.bind&&_?D=a(C,n):h.wrap&&_?D=u(C):v&&r(C)?D=t(C):D=C,(h.sham||C&&C.sham||O&&O.sham)&&l(D,"sham",!0),l(b,E,D),v&&(k=f+"Prototype",c(o,k)||l(o,k,{}),l(o[k],E,C),h.real&&w&&(S||!w[E])&&l(w,E,C)))},G_}var V_,c6;function sl(){if(c6)return V_;c6=1;var n=ro();return V_=Array.isArray||function(t){return n(t)==="Array"},V_}var K_,u6;function eCe(){if(u6)return K_;u6=1;var n=Math.ceil,e=Math.floor;return K_=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},K_}var X_,h6;function Pd(){if(h6)return X_;h6=1;var n=eCe();return X_=function(e){var t=+e;return t!==t||t===0?0:n(t)},X_}var Q_,d6;function iQ(){if(d6)return Q_;d6=1;var n=Pd(),e=Math.min;return Q_=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Q_}var J_,f6;function Es(){if(f6)return J_;f6=1;var n=iQ();return J_=function(e){return n(e.length)},J_}var Z_,p6;function CR(){if(p6)return Z_;p6=1;var n=TypeError,e=9007199254740991;return Z_=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},Z_}var eS,m6;function xx(){if(m6)return eS;m6=1;var n=Dn(),e=Qi(),t=ig();return eS=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},eS}var tS,g6;function ER(){if(g6)return tS;g6=1;var n=Fn(),e=n("toStringTag"),t={};return t[e]="z",tS=String(t)==="[object z]",tS}var nS,v6;function ol(){if(v6)return nS;v6=1;var n=ER(),e=Jn(),t=ro(),r=Fn(),i=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return nS=n?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),i))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},nS}var rS,y6;function tCe(){if(y6)return rS;y6=1;var n=Mt(),e=Jn(),t=SR(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),rS=t.inspectSource,rS}var iS,b6;function sQ(){if(b6)return iS;b6=1;var n=Mt(),e=kt(),t=Jn(),r=ol(),i=Ci(),s=tCe(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=n(l.exec),u=!l.test(o),h=function(m){if(!t(m))return!1;try{return a(o,[],m),!0}catch{return!1}},d=function(m){if(!t(m))return!1;switch(r(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return d.sham=!0,iS=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,iS}var sS,x6;function nCe(){if(x6)return sS;x6=1;var n=sl(),e=sQ(),t=br(),r=Fn(),i=r("species"),s=Array;return sS=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},sS}var oS,w6;function wx(){if(w6)return oS;w6=1;var n=nCe();return oS=function(e,t){return new(n(e))(t===0?0:t)},oS}var aS,_6;function cg(){if(_6)return aS;_6=1;var n=kt(),e=Fn(),t=og(),r=e("species");return aS=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},aS}var S6;function oQ(){if(S6)return f8;S6=1;var n=Ye(),e=kt(),t=sl(),r=br(),i=si(),s=Es(),o=CR(),a=xx(),l=wx(),c=cg(),u=Fn(),h=og(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var v=[];return v[d]=!1,v.concat()[0]!==v}),m=function(v){if(!r(v))return!1;var y=v[d];return y!==void 0?!!y:t(v)},g=!f||!c("concat");return n({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var b=i(this),w=l(b,0),S=0,_,k,E,C,O;for(_=-1,E=arguments.length;_<E;_++)if(O=_===-1?b:arguments[_],m(O))for(C=s(O),o(S+C),k=0;k<C;k++,S++)k in O&&a(w,S,O[k]);else o(S+1),a(w,S++,O);return w.length=S,w}}),f8}var k6={},C6={},lS,E6;function Ji(){if(E6)return lS;E6=1;var n=ol(),e=String;return lS=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},lS}var cS={},uS,T6;function _x(){if(T6)return uS;T6=1;var n=Pd(),e=Math.max,t=Math.min;return uS=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},uS}var hS,M6;function TR(){if(M6)return hS;M6=1;var n=Cs(),e=_x(),t=Es(),r=function(i){return function(s,o,a){var l=n(s),c=t(l);if(c===0)return!i&&-1;var u=e(a,c),h;if(i&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===o)return i||u||0;return!i&&-1}};return hS={includes:r(!0),indexOf:r(!1)},hS}var dS,P6;function ug(){return P6||(P6=1,dS={}),dS}var fS,I6;function aQ(){if(I6)return fS;I6=1;var n=Mt(),e=Zn(),t=Cs(),r=TR().indexOf,i=ug(),s=n([].push);return fS=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~r(u,h)||s(u,h));return u},fS}var pS,O6;function MR(){return O6||(O6=1,pS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),pS}var mS,R6;function hg(){if(R6)return mS;R6=1;var n=aQ(),e=MR();return mS=Object.keys||function(r){return n(r,e)},mS}var D6;function PR(){if(D6)return cS;D6=1;var n=Dn(),e=rQ(),t=Qi(),r=Ko(),i=Cs(),s=hg();return cS.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var c=i(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},cS}var gS,A6;function rCe(){if(A6)return gS;A6=1;var n=Ci();return gS=n("document","documentElement"),gS}var vS,N6;function Sx(){if(N6)return vS;N6=1;var n=Td(),e=yx(),t=n("keys");return vS=function(r){return t[r]||(t[r]=e(r))},vS}var yS,L6;function dg(){if(L6)return yS;L6=1;var n=Ko(),e=PR(),t=MR(),r=ug(),i=rCe(),s=tQ(),o=Sx(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(b){return l+u+a+b+l+"/"+u+a},m=function(b){b.write(f("")),b.close();var w=b.parentWindow.Object;return b=null,w},g=function(){var b=s("iframe"),w="java"+u+":",S;return b.style.display="none",i.appendChild(b),b.src=String(w),S=b.contentWindow.document,S.open(),S.write(f("document.F=Object")),S.close(),S.F},v,y=function(){try{v=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&v?m(v):g():m(v);for(var b=t.length;b--;)delete y[c][t[b]];return y()};return r[h]=!0,yS=Object.create||function(w,S){var _;return w!==null?(d[c]=n(w),_=new d,d[c]=null,_[h]=w):_=y(),S===void 0?_:e.f(_,S)},yS}var bS={},F6;function kx(){if(F6)return bS;F6=1;var n=aQ(),e=MR(),t=e.concat("length","prototype");return bS.f=Object.getOwnPropertyNames||function(i){return n(i,t)},bS}var xS={},wS,$6;function Id(){if($6)return wS;$6=1;var n=Mt();return wS=n([].slice),wS}var j6;function lQ(){if(j6)return xS;j6=1;var n=ro(),e=Cs(),t=kx().f,r=Id(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return xS.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},xS}var _S={},B6;function Cx(){return B6||(B6=1,_S.f=Object.getOwnPropertySymbols),_S}var SS,z6;function fg(){if(z6)return SS;z6=1;var n=Md();return SS=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},SS}var kS,q6;function IR(){if(q6)return kS;q6=1;var n=Qi();return kS=function(e,t,r){return n.f(e,t,r)},kS}var CS={},U6;function Ex(){if(U6)return CS;U6=1;var n=Fn();return CS.f=n,CS}var ES,W6;function mn(){if(W6)return ES;W6=1;var n=Xt(),e=Zn(),t=Ex(),r=Qi().f;return ES=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},ES}var TS,H6;function cQ(){if(H6)return TS;H6=1;var n=ii(),e=Ci(),t=Fn(),r=fg();return TS=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},TS}var MS,Y6;function iCe(){if(Y6)return MS;Y6=1;var n=ER(),e=ol();return MS=n?{}.toString:function(){return"[object "+e(this)+"]"},MS}var PS,G6;function jc(){if(G6)return PS;G6=1;var n=ER(),e=Qi().f,t=Md(),r=Zn(),i=iCe(),s=Fn(),o=s("toStringTag");return PS=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(r(h,o)||e(h,o,{configurable:!0,value:l}),u&&!n&&t(h,"toString",i))},PS}var IS,V6;function sCe(){if(V6)return IS;V6=1;var n=wn(),e=Jn(),t=n.WeakMap;return IS=e(t)&&/native code/.test(String(t)),IS}var OS,K6;function pg(){if(K6)return OS;K6=1;var n=sCe(),e=wn(),t=br(),r=Md(),i=Zn(),s=SR(),o=Sx(),a=ug(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,m=function(b){return f(b)?d(b):h(b,{})},g=function(b){return function(w){var S;if(!t(w)||(S=d(w)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(n||s.state){var v=s.state||(s.state=new u);v.get=v.get,v.has=v.has,v.set=v.set,h=function(b,w){if(v.has(b))throw new c(l);return w.facade=b,v.set(b,w),w},d=function(b){return v.get(b)||{}},f=function(b){return v.has(b)}}else{var y=o("state");a[y]=!0,h=function(b,w){if(i(b,y))throw new c(l);return w.facade=b,r(b,y,w),w},d=function(b){return i(b,y)?b[y]:{}},f=function(b){return i(b,y)}}return OS={set:h,get:d,has:f,enforce:m,getterFor:g},OS}var RS,X6;function al(){if(X6)return RS;X6=1;var n=lg(),e=Mt(),t=vx(),r=si(),i=Es(),s=wx(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,m=l===7,g=l===5||f;return function(v,y,b,w){for(var S=r(v),_=t(S),k=i(_),E=n(y,b),C=0,O=w||s,R=c?O(v,k):u||m?O(v,0):void 0,D,F;k>C;C++)if((g||C in _)&&(D=_[C],F=E(D,C,S),l))if(c)R[C]=F;else if(F)switch(l){case 3:return!0;case 5:return D;case 6:return C;case 2:o(R,D)}else switch(l){case 4:return!1;case 7:o(R,D)}return f?-1:h||d?d:R}};return RS={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},RS}var Q6;function oCe(){if(Q6)return C6;Q6=1;var n=Ye(),e=wn(),t=ii(),r=Mt(),i=Ed(),s=Dn(),o=kd(),a=kt(),l=Zn(),c=tn(),u=Ko(),h=Cs(),d=kR(),f=Ji(),m=ig(),g=dg(),v=hg(),y=kx(),b=lQ(),w=Cx(),S=bx(),_=Qi(),k=PR(),E=gx(),C=fg(),O=IR(),R=Td(),D=Sx(),F=ug(),N=yx(),W=Fn(),j=Ex(),$=mn(),z=cQ(),B=jc(),q=pg(),U=al().forEach,V=D("hidden"),K="Symbol",X="prototype",L=q.set,Y=q.getterFor(K),Q=Object[X],ee=e.Symbol,te=ee&&ee[X],re=e.RangeError,ae=e.TypeError,he=e.QObject,J=S.f,ne=_.f,ye=b.f,oe=E.f,be=r([].push),xe=R("symbols"),Me=R("op-symbols"),we=R("wks"),_e=!he||!he[X]||!he[X].findChild,Ze=function(Fe,ke,Ue){var He=J(Q,ke);He&&delete Q[ke],ne(Fe,ke,Ue),He&&Fe!==Q&&ne(Q,ke,He)},Ge=s&&a(function(){return g(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!==7})?Ze:ne,ot=function(Fe,ke){var Ue=xe[Fe]=g(te);return L(Ue,{type:K,tag:Fe,description:ke}),s||(Ue.description=ke),Ue},Ee=function(ke,Ue,He){ke===Q&&Ee(Me,Ue,He),u(ke);var Ve=d(Ue);return u(He),l(xe,Ve)?(He.enumerable?(l(ke,V)&&ke[V][Ve]&&(ke[V][Ve]=!1),He=g(He,{enumerable:m(0,!1)})):(l(ke,V)||ne(ke,V,m(1,g(null))),ke[V][Ve]=!0),Ge(ke,Ve,He)):ne(ke,Ve,He)},Be=function(ke,Ue){u(ke);var He=h(Ue),Ve=v(He).concat(Se(He));return U(Ve,function(gt){(!s||t(We,He,gt))&&Ee(ke,gt,He[gt])}),ke},Oe=function(ke,Ue){return Ue===void 0?g(ke):Be(g(ke),Ue)},We=function(ke){var Ue=d(ke),He=t(oe,this,Ue);return this===Q&&l(xe,Ue)&&!l(Me,Ue)?!1:He||!l(this,Ue)||!l(xe,Ue)||l(this,V)&&this[V][Ue]?He:!0},pe=function(ke,Ue){var He=h(ke),Ve=d(Ue);if(!(He===Q&&l(xe,Ve)&&!l(Me,Ve))){var gt=J(He,Ve);return gt&&l(xe,Ve)&&!(l(He,V)&&He[V][Ve])&&(gt.enumerable=!0),gt}},Ce=function(ke){var Ue=ye(h(ke)),He=[];return U(Ue,function(Ve){!l(xe,Ve)&&!l(F,Ve)&&be(He,Ve)}),He},Se=function(Fe){var ke=Fe===Q,Ue=ye(ke?Me:h(Fe)),He=[];return U(Ue,function(Ve){l(xe,Ve)&&(!ke||l(Q,Ve))&&be(He,xe[Ve])}),He};return o||(ee=function(){if(c(te,this))throw new ae("Symbol is not a constructor");var ke=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),Ue=N(ke),He=function(Ve){var gt=this===void 0?e:this;gt===Q&&t(He,Me,Ve),l(gt,V)&&l(gt[V],Ue)&&(gt[V][Ue]=!1);var Qt=m(1,Ve);try{Ge(gt,Ue,Qt)}catch($r){if(!($r instanceof re))throw $r;Ze(gt,Ue,Qt)}};return s&&_e&&Ge(Q,Ue,{configurable:!0,set:He}),ot(Ue,ke)},te=ee[X],C(te,"toString",function(){return Y(this).tag}),C(ee,"withoutSetter",function(Fe){return ot(N(Fe),Fe)}),E.f=We,_.f=Ee,k.f=Be,S.f=pe,y.f=b.f=Ce,w.f=Se,j.f=function(Fe){return ot(W(Fe),Fe)},s&&(O(te,"description",{configurable:!0,get:function(){return Y(this).description}}),i||C(Q,"propertyIsEnumerable",We,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ee}),U(v(we),function(Fe){$(Fe)}),n({target:K,stat:!0,forced:!o},{useSetter:function(){_e=!0},useSimple:function(){_e=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Oe,defineProperty:Ee,defineProperties:Be,getOwnPropertyDescriptor:pe}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ce}),z(),B(ee,K),F[V]=!0,C6}var J6={},DS,Z6;function uQ(){if(Z6)return DS;Z6=1;var n=kd();return DS=n&&!!Symbol.for&&!!Symbol.keyFor,DS}var eF;function aCe(){if(eF)return J6;eF=1;var n=Ye(),e=Ci(),t=Zn(),r=Ji(),i=Td(),s=uQ(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=r(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),J6}var tF={},nF;function lCe(){if(nF)return tF;nF=1;var n=Ye(),e=Zn(),t=ag(),r=Cd(),i=Td(),s=uQ(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),tF}var rF={},AS,iF;function cCe(){if(iF)return AS;iF=1;var n=Mt(),e=sl(),t=Jn(),r=ro(),i=Ji(),s=n([].push);return AS=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||r(u)==="Number"||r(u)==="String")&&s(l,i(u))}var h=l.length,d=!0;return function(f,m){if(d)return d=!1,m;if(e(this))return m;for(var g=0;g<h;g++)if(l[g]===f)return m}}},AS}var sF;function hQ(){if(sF)return rF;sF=1;var n=Ye(),e=Ci(),t=mx(),r=ii(),i=Mt(),s=kt(),o=Jn(),a=ag(),l=Id(),c=cCe(),u=kd(),h=String,d=e("JSON","stringify"),f=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),v=i("".replace),y=i(1.1.toString),b=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,_=!u||s(function(){var O=e("Symbol")("stringify detection");return d([O])!=="[null]"||d({a:O})!=="{}"||d(Object(O))!=="{}"}),k=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),E=function(O,R){var D=l(arguments),F=c(R);if(!(!o(F)&&(O===void 0||a(O))))return D[1]=function(N,W){if(o(F)&&(W=r(F,this,h(N),W)),!a(W))return W},t(d,null,D)},C=function(O,R,D){var F=m(D,R-1),N=m(D,R+1);return f(w,O)&&!f(S,N)||f(S,O)&&!f(w,F)?"\\u"+y(g(O,0),16):O};return d&&n({target:"JSON",stat:!0,arity:3,forced:_||k},{stringify:function(R,D,F){var N=l(arguments),W=t(_?E:d,null,N);return k&&typeof W=="string"?v(W,b,C):W}}),rF}var oF={},aF;function uCe(){if(aF)return oF;aF=1;var n=Ye(),e=kd(),t=kt(),r=Cx(),i=si(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),oF}var lF;function dQ(){return lF||(lF=1,oCe(),aCe(),lCe(),hQ(),uCe()),k6}var cF={},uF;function fQ(){if(uF)return cF;uF=1;var n=mn();return n("asyncDispose"),cF}var hF={},dF;function hCe(){if(dF)return hF;dF=1;var n=mn();return n("asyncIterator"),hF}var fF={},pF;function pQ(){if(pF)return fF;pF=1;var n=mn();return n("dispose"),fF}var mF={},gF;function dCe(){if(gF)return mF;gF=1;var n=mn();return n("hasInstance"),mF}var vF={},yF;function fCe(){if(yF)return vF;yF=1;var n=mn();return n("isConcatSpreadable"),vF}var bF={},xF;function mQ(){if(xF)return bF;xF=1;var n=mn();return n("iterator"),bF}var wF={},_F;function pCe(){if(_F)return wF;_F=1;var n=mn();return n("match"),wF}var SF={},kF;function mCe(){if(kF)return SF;kF=1;var n=mn();return n("matchAll"),SF}var CF={},EF;function gCe(){if(EF)return CF;EF=1;var n=mn();return n("replace"),CF}var TF={},MF;function vCe(){if(MF)return TF;MF=1;var n=mn();return n("search"),TF}var PF={},IF;function yCe(){if(IF)return PF;IF=1;var n=mn();return n("species"),PF}var OF={},RF;function bCe(){if(RF)return OF;RF=1;var n=mn();return n("split"),OF}var DF={},AF;function gQ(){if(AF)return DF;AF=1;var n=mn(),e=cQ();return n("toPrimitive"),e(),DF}var NF={},LF;function xCe(){if(LF)return NF;LF=1;var n=Ci(),e=mn(),t=jc();return e("toStringTag"),t(n("Symbol"),"Symbol"),NF}var FF={},$F;function wCe(){if($F)return FF;$F=1;var n=mn();return n("unscopables"),FF}var jF={},BF;function _Ce(){if(BF)return jF;BF=1;var n=wn(),e=jc();return e(n.JSON,"JSON",!0),jF}var NS,zF;function SCe(){if(zF)return NS;zF=1,oQ(),dQ(),fQ(),hCe(),pQ(),dCe(),fCe(),mQ(),pCe(),mCe(),gCe(),vCe(),yCe(),bCe(),gQ(),xCe(),wCe(),_Ce();var n=Xt();return NS=n.Symbol,NS}var qF={},LS,UF;function mg(){return UF||(UF=1,LS=function(){}),LS}var FS,WF;function Od(){return WF||(WF=1,FS={}),FS}var $S,HF;function kCe(){if(HF)return $S;HF=1;var n=Dn(),e=Zn(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return $S={EXISTS:i,PROPER:s,CONFIGURABLE:o},$S}var jS,YF;function vQ(){if(YF)return jS;YF=1;var n=kt();return jS=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),jS}var BS,GF;function Tx(){if(GF)return BS;GF=1;var n=Zn(),e=Jn(),t=si(),r=Sx(),i=vQ(),s=r("IE_PROTO"),o=Object,a=o.prototype;return BS=i?o.getPrototypeOf:function(l){var c=t(l);if(n(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},BS}var zS,VF;function yQ(){if(VF)return zS;VF=1;var n=kt(),e=Jn(),t=br(),r=dg(),i=Tx(),s=fg(),o=Fn(),a=Ed(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=i(i(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||n(function(){var m={};return u[l].call(m)!==m});return f?u={}:a&&(u=r(u)),e(u[l])||s(u,l,function(){return this}),zS={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},zS}var qS,KF;function CCe(){if(KF)return qS;KF=1;var n=yQ().IteratorPrototype,e=dg(),t=ig(),r=jc(),i=Od(),s=function(){return this};return qS=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(n,{next:t(+!c,l)}),r(o,u,!1,!0),i[u]=s,o},qS}var US,XF;function ECe(){if(XF)return US;XF=1;var n=Mt(),e=io();return US=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},US}var WS,QF;function TCe(){if(QF)return WS;QF=1;var n=br();return WS=function(e){return n(e)||e===null},WS}var HS,JF;function MCe(){if(JF)return HS;JF=1;var n=TCe(),e=String,t=TypeError;return HS=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},HS}var YS,ZF;function PCe(){if(ZF)return YS;ZF=1;var n=ECe(),e=br(),t=Vo(),r=MCe();return YS=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,c){return t(l),r(c),e(l)&&(i?o(l,c):l.__proto__=c),l}}():void 0),YS}var GS,e9;function OR(){if(e9)return GS;e9=1;var n=Ye(),e=ii(),t=Ed(),r=kCe(),i=Jn(),s=CCe(),o=Tx(),a=PCe(),l=jc(),c=Md(),u=fg(),h=Fn(),d=Od(),f=yQ(),m=r.PROPER,g=r.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,b=h("iterator"),w="keys",S="values",_="entries",k=function(){return this};return GS=function(E,C,O,R,D,F,N){s(O,C,R);var W=function(L){if(L===D&&q)return q;if(!y&&L&&L in z)return z[L];switch(L){case w:return function(){return new O(this,L)};case S:return function(){return new O(this,L)};case _:return function(){return new O(this,L)}}return function(){return new O(this)}},j=C+" Iterator",$=!1,z=E.prototype,B=z[b]||z["@@iterator"]||D&&z[D],q=!y&&B||W(D),U=C==="Array"&&z.entries||B,V,K,X;if(U&&(V=o(U.call(new E)),V!==Object.prototype&&V.next&&(!t&&o(V)!==v&&(a?a(V,v):i(V[b])||u(V,b,k)),l(V,j,!0,!0),t&&(d[j]=k))),m&&D===S&&B&&B.name!==S&&(!t&&g?c(z,"name",S):($=!0,q=function(){return e(B,this)})),D)if(K={values:W(S),keys:F?q:W(w),entries:W(_)},N)for(X in K)(y||$||!(X in z))&&u(z,X,K[X]);else n({target:C,proto:!0,forced:y||$},K);return(!t||N)&&z[b]!==q&&u(z,b,q,{name:D}),d[C]=q,K},GS}var VS,t9;function RR(){return t9||(t9=1,VS=function(n,e){return{value:n,done:e}}),VS}var KS,n9;function ll(){if(n9)return KS;n9=1;var n=Cs(),e=mg(),t=Od(),r=pg(),i=Qi().f,s=OR(),o=RR(),a=Ed(),l=Dn(),c="Array Iterator",u=r.set,h=r.getterFor(c);KS=s(Array,"Array",function(f,m){u(this,{type:c,target:n(f),index:0,kind:m})},function(){var f=h(this),m=f.target,g=f.index++;if(!m||g>=m.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{i(d,"name",{value:"values"})}catch{}return KS}var XS,r9;function ICe(){return r9||(r9=1,XS={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),XS}var i9;function cl(){if(i9)return qF;i9=1,ll();var n=ICe(),e=wn(),t=jc(),r=Od();for(var i in n)t(e[i],i),r[i]=r.Array;return qF}var QS,s9;function bQ(){if(s9)return QS;s9=1;var n=SCe();return cl(),QS=n,QS}var JS,o9;function OCe(){return o9||(o9=1,JS=bQ()),JS}var RCe=OCe(),DCe=Qe(RCe),a9={},l9;function ACe(){if(l9)return a9;l9=1;var n=Ye(),e=sl(),t=sQ(),r=br(),i=_x(),s=Es(),o=Cs(),a=xx(),l=Fn(),c=cg(),u=Id(),h=c("slice"),d=l("species"),f=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(v,y){var b=o(this),w=s(b),S=i(v,w),_=i(y===void 0?w:y,w),k,E,C;if(e(b)&&(k=b.constructor,t(k)&&(k===f||e(k.prototype))?k=void 0:r(k)&&(k=k[d],k===null&&(k=void 0)),k===f||k===void 0))return u(b,S,_);for(E=new(k===void 0?f:k)(m(_-S,0)),C=0;S<_;S++,C++)S in b&&a(E,C,b[S]);return E.length=C,E}}),a9}var ZS,c9;function _n(){if(c9)return ZS;c9=1;var n=wn(),e=Xt();return ZS=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},ZS}var ek,u9;function NCe(){if(u9)return ek;u9=1,ACe();var n=_n();return ek=n("Array","slice"),ek}var tk,h9;function LCe(){if(h9)return tk;h9=1;var n=tn(),e=NCe(),t=Array.prototype;return tk=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},tk}var nk,d9;function FCe(){if(d9)return nk;d9=1;var n=LCe();return nk=n,nk}var rk,f9;function $Ce(){return f9||(f9=1,rk=FCe()),rk}var jCe=$Ce(),Rd=Qe(jCe),p9={},ik,m9;function xQ(){if(m9)return ik;m9=1;var n=Ci(),e=Mt(),t=kx(),r=Cx(),i=Ko(),s=e([].concat);return ik=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),c=r.f;return c?s(l,c(a)):l},ik}var g9;function BCe(){if(g9)return p9;g9=1;var n=Ye(),e=xQ();return n({target:"Reflect",stat:!0},{ownKeys:e}),p9}var sk,v9;function zCe(){if(v9)return sk;v9=1,BCe();var n=Xt();return sk=n.Reflect.ownKeys,sk}var ok,y9;function qCe(){if(y9)return ok;y9=1;var n=zCe();return ok=n,ok}var ak,b9;function UCe(){return b9||(b9=1,ak=qCe()),ak}var WCe=UCe(),HCe=Qe(WCe),x9={},w9;function YCe(){if(w9)return x9;w9=1;var n=Ye(),e=sl();return n({target:"Array",stat:!0},{isArray:e}),x9}var lk,_9;function GCe(){if(_9)return lk;_9=1,YCe();var n=Xt();return lk=n.Array.isArray,lk}var ck,S9;function VCe(){if(S9)return ck;S9=1;var n=GCe();return ck=n,ck}var uk,k9;function KCe(){return k9||(k9=1,uk=VCe()),uk}var XCe=KCe(),St=Qe(XCe),C9={},E9;function QCe(){if(E9)return C9;E9=1;var n=Ye(),e=al().map,t=cg(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),C9}var hk,T9;function JCe(){if(T9)return hk;T9=1,QCe();var n=_n();return hk=n("Array","map"),hk}var dk,M9;function ZCe(){if(M9)return dk;M9=1;var n=tn(),e=JCe(),t=Array.prototype;return dk=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},dk}var fk,P9;function e2e(){if(P9)return fk;P9=1;var n=ZCe();return fk=n,fk}var pk,I9;function t2e(){return I9||(I9=1,pk=e2e()),pk}var n2e=t2e(),Lt=Qe(n2e),O9={},R9;function r2e(){if(R9)return O9;R9=1;var n=Ye(),e=si(),t=hg(),r=kt(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),O9}var mk,D9;function i2e(){if(D9)return mk;D9=1,r2e();var n=Xt();return mk=n.Object.keys,mk}var gk,A9;function s2e(){if(A9)return gk;A9=1;var n=i2e();return gk=n,gk}var vk,N9;function o2e(){return N9||(N9=1,vk=s2e()),vk}var a2e=o2e(),zn=Qe(a2e),L9={},F9;function l2e(){if(F9)return L9;F9=1;var n=Ye(),e=Mt(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),L9}var yk,$9;function c2e(){if($9)return yk;$9=1,l2e();var n=Xt();return yk=n.Date.now,yk}var bk,j9;function u2e(){if(j9)return bk;j9=1;var n=c2e();return bk=n,bk}var xk,B9;function h2e(){return B9||(B9=1,xk=u2e()),xk}var d2e=h2e(),ui=Qe(d2e),z9={},wk,q9;function f2e(){if(q9)return wk;q9=1;var n=Mt(),e=io(),t=br(),r=Zn(),i=Id(),s=rg(),o=Function,a=n([].concat),l=n([].join),c={},u=function(h,d,f){if(!r(c,d)){for(var m=[],g=0;g<d;g++)m[g]="a["+g+"]";c[d]=o("C,a","return new C("+l(m,",")+")")}return c[d](h,f)};return wk=s?o.bind:function(d){var f=e(this),m=f.prototype,g=i(arguments,1),v=function(){var b=a(g,i(arguments));return this instanceof v?u(f,b.length,b):f.apply(d,b)};return t(m)&&(v.prototype=m),v},wk}var U9;function p2e(){if(U9)return z9;U9=1;var n=Ye(),e=f2e();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),z9}var _k,W9;function m2e(){if(W9)return _k;W9=1,p2e();var n=_n();return _k=n("Function","bind"),_k}var Sk,H9;function g2e(){if(H9)return Sk;H9=1;var n=tn(),e=m2e(),t=Function.prototype;return Sk=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},Sk}var kk,Y9;function v2e(){if(Y9)return kk;Y9=1;var n=g2e();return kk=n,kk}var Ck,G9;function y2e(){return G9||(G9=1,Ck=v2e()),Ck}var b2e=y2e(),ce=Qe(b2e),V9={},Ek,K9;function Dd(){if(K9)return Ek;K9=1;var n=kt();return Ek=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},Ek}var Tk,X9;function x2e(){if(X9)return Tk;X9=1;var n=al().forEach,e=Dd(),t=e("forEach");return Tk=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Tk}var Q9;function w2e(){if(Q9)return V9;Q9=1;var n=Ye(),e=x2e();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),V9}var Mk,J9;function _2e(){if(J9)return Mk;J9=1,w2e();var n=_n();return Mk=n("Array","forEach"),Mk}var Pk,Z9;function S2e(){if(Z9)return Pk;Z9=1;var n=_2e();return Pk=n,Pk}var Ik,e7;function k2e(){if(e7)return Ik;e7=1;var n=ol(),e=Zn(),t=tn(),r=S2e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ik=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Ik}var Ok,t7;function C2e(){return t7||(t7=1,Ok=k2e()),Ok}var E2e=C2e(),Re=Qe(E2e),n7={},r7;function T2e(){if(r7)return n7;r7=1;var n=Ye(),e=Mt(),t=sl(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),n7}var Rk,i7;function M2e(){if(i7)return Rk;i7=1,T2e();var n=_n();return Rk=n("Array","reverse"),Rk}var Dk,s7;function P2e(){if(s7)return Dk;s7=1;var n=tn(),e=M2e(),t=Array.prototype;return Dk=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Dk}var Ak,o7;function I2e(){if(o7)return Ak;o7=1;var n=P2e();return Ak=n,Ak}var Nk,a7;function O2e(){return a7||(a7=1,Nk=I2e()),Nk}var R2e=O2e(),D2e=Qe(R2e),l7={},Lk,c7;function A2e(){if(c7)return Lk;c7=1;var n=Dn(),e=sl(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Lk=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Lk}var Fk,u7;function wQ(){if(u7)return Fk;u7=1;var n=Cd(),e=TypeError;return Fk=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Fk}var h7;function N2e(){if(h7)return l7;h7=1;var n=Ye(),e=si(),t=_x(),r=Pd(),i=Es(),s=A2e(),o=CR(),a=wx(),l=xx(),c=wQ(),u=cg(),h=u("splice"),d=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(g,v){var y=e(this),b=i(y),w=t(g,b),S=arguments.length,_,k,E,C,O,R;for(S===0?_=k=0:S===1?(_=0,k=b-w):(_=S-2,k=f(d(r(v),0),b-w)),o(b+_-k),E=a(y,k),C=0;C<k;C++)O=w+C,O in y&&l(E,C,y[O]);if(E.length=k,_<k){for(C=w;C<b-k;C++)O=C+k,R=C+_,O in y?y[R]=y[O]:c(y,R);for(C=b;C>b-k+_;C--)c(y,C-1)}else if(_>k)for(C=b-k;C>w;C--)O=C+k-1,R=C+_-1,O in y?y[R]=y[O]:c(y,R);for(C=0;C<_;C++)y[C+w]=arguments[C+2];return s(y,b-k+_),E}}),l7}var $k,d7;function L2e(){if(d7)return $k;d7=1,N2e();var n=_n();return $k=n("Array","splice"),$k}var jk,f7;function F2e(){if(f7)return jk;f7=1;var n=tn(),e=L2e(),t=Array.prototype;return jk=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},jk}var Bk,p7;function $2e(){if(p7)return Bk;p7=1;var n=F2e();return Bk=n,Bk}var zk,m7;function j2e(){return m7||(m7=1,zk=$2e()),zk}var B2e=j2e(),Ir=Qe(B2e),g7={},qk,v7;function z2e(){if(v7)return qk;v7=1;var n=Dn(),e=Mt(),t=ii(),r=kt(),i=hg(),s=Cx(),o=gx(),a=si(),l=vx(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return qk=!c||r(function(){if(n&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return d[m]=7,g.split("").forEach(function(v){f[v]=v}),c({},d)[m]!==7||i(c({},f)).join("")!==g})?function(f,m){for(var g=a(f),v=arguments.length,y=1,b=s.f,w=o.f;v>y;)for(var S=l(arguments[y++]),_=b?h(i(S),b(S)):i(S),k=_.length,E=0,C;k>E;)C=_[E++],(!n||t(w,S,C))&&(g[C]=S[C]);return g}:c,qk}var y7;function q2e(){if(y7)return g7;y7=1;var n=Ye(),e=z2e();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),g7}var Uk,b7;function U2e(){if(b7)return Uk;b7=1,q2e();var n=Xt();return Uk=n.Object.assign,Uk}var Wk,x7;function W2e(){if(x7)return Wk;x7=1;var n=U2e();return Wk=n,Wk}var Hk,w7;function H2e(){return w7||(w7=1,Hk=W2e()),Hk}var Y2e=H2e(),tl=Qe(Y2e),_7={},S7;function G2e(){if(S7)return _7;S7=1;var n=Ye(),e=TR().includes,t=kt(),r=mg(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),_7}var Yk,k7;function V2e(){if(k7)return Yk;k7=1,G2e();var n=_n();return Yk=n("Array","includes"),Yk}var C7={},Gk,E7;function K2e(){if(E7)return Gk;E7=1;var n=br(),e=ro(),t=Fn(),r=t("match");return Gk=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Gk}var Vk,T7;function X2e(){if(T7)return Vk;T7=1;var n=K2e(),e=TypeError;return Vk=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Vk}var Kk,M7;function Q2e(){if(M7)return Kk;M7=1;var n=Fn(),e=n("match");return Kk=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Kk}var P7;function J2e(){if(P7)return C7;P7=1;var n=Ye(),e=Mt(),t=X2e(),r=Vo(),i=Ji(),s=Q2e(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(r(this)),i(t(l)),arguments.length>1?arguments[1]:void 0)}}),C7}var Xk,I7;function Z2e(){if(I7)return Xk;I7=1,J2e();var n=_n();return Xk=n("String","includes"),Xk}var Qk,O7;function eEe(){if(O7)return Qk;O7=1;var n=tn(),e=V2e(),t=Z2e(),r=Array.prototype,i=String.prototype;return Qk=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},Qk}var Jk,R7;function tEe(){if(R7)return Jk;R7=1;var n=eEe();return Jk=n,Jk}var Zk,D7;function nEe(){return D7||(D7=1,Zk=tEe()),Zk}var rEe=nEe(),Zh=Qe(rEe),A7={},N7;function iEe(){if(N7)return A7;N7=1;var n=Ye(),e=kt(),t=si(),r=Tx(),i=vQ(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),A7}var eC,L7;function sEe(){if(L7)return eC;L7=1,iEe();var n=Xt();return eC=n.Object.getPrototypeOf,eC}var tC,F7;function oEe(){if(F7)return tC;F7=1;var n=sEe();return tC=n,tC}var nC,$7;function aEe(){return $7||($7=1,nC=oEe()),nC}var lEe=aEe(),j7=Qe(lEe),rC,B7;function cEe(){if(B7)return rC;B7=1,oQ();var n=_n();return rC=n("Array","concat"),rC}var iC,z7;function uEe(){if(z7)return iC;z7=1;var n=tn(),e=cEe(),t=Array.prototype;return iC=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},iC}var sC,q7;function hEe(){if(q7)return sC;q7=1;var n=uEe();return sC=n,sC}var oC,U7;function dEe(){return U7||(U7=1,oC=hEe()),oC}var fEe=dEe(),En=Qe(fEe),W7={},H7;function pEe(){if(H7)return W7;H7=1;var n=Ye(),e=al().filter,t=cg(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),W7}var aC,Y7;function mEe(){if(Y7)return aC;Y7=1,pEe();var n=_n();return aC=n("Array","filter"),aC}var lC,G7;function gEe(){if(G7)return lC;G7=1;var n=tn(),e=mEe(),t=Array.prototype;return lC=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},lC}var cC,V7;function vEe(){if(V7)return cC;V7=1;var n=gEe();return cC=n,cC}var uC,K7;function yEe(){return K7||(K7=1,uC=vEe()),uC}var bEe=yEe(),ht=Qe(bEe),X7={},hC,Q7;function _Q(){if(Q7)return hC;Q7=1;var n=Dn(),e=kt(),t=Mt(),r=Tx(),i=hg(),s=Cs(),o=gx().f,a=t(o),l=t([].push),c=n&&e(function(){var h=Object.create(null);return h[2]=2,!a(h,2)}),u=function(h){return function(d){for(var f=s(d),m=i(f),g=c&&r(f)===null,v=m.length,y=0,b=[],w;v>y;)w=m[y++],(!n||(g?w in f:a(f,w)))&&l(b,h?[w,f[w]]:f[w]);return b}};return hC={entries:u(!0),values:u(!1)},hC}var J7;function xEe(){if(J7)return X7;J7=1;var n=Ye(),e=_Q().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),X7}var dC,Z7;function wEe(){if(Z7)return dC;Z7=1,xEe();var n=Xt();return dC=n.Object.values,dC}var fC,e$;function _Ee(){if(e$)return fC;e$=1;var n=wEe();return fC=n,fC}var pC,t$;function SEe(){return t$||(t$=1,pC=_Ee()),pC}var kEe=SEe(),DR=Qe(kEe),n$={},mC,r$;function AR(){return r$||(r$=1,mC=`	
\v\f\r \u2028\u2029\uFEFF`),mC}var gC,i$;function SQ(){if(i$)return gC;i$=1;var n=Mt(),e=Vo(),t=Ji(),r=AR(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(c){var u=t(e(c));return l&1&&(u=i(u,s,"")),l&2&&(u=i(u,o,"$1")),u}};return gC={start:a(1),end:a(2),trim:a(3)},gC}var vC,s$;function CEe(){if(s$)return vC;s$=1;var n=wn(),e=kt(),t=Mt(),r=Ji(),i=SQ().trim,s=AR(),o=n.parseInt,a=n.Symbol,l=a&&a.iterator,c=/^[+-]?0x/i,u=t(c.exec),h=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return vC=h?function(f,m){var g=i(r(f));return o(g,m>>>0||(u(c,g)?16:10))}:o,vC}var o$;function EEe(){if(o$)return n$;o$=1;var n=Ye(),e=CEe();return n({global:!0,forced:parseInt!==e},{parseInt:e}),n$}var yC,a$;function TEe(){if(a$)return yC;a$=1,EEe();var n=Xt();return yC=n.parseInt,yC}var bC,l$;function MEe(){if(l$)return bC;l$=1;var n=TEe();return bC=n,bC}var xC,c$;function PEe(){return c$||(c$=1,xC=MEe()),xC}var IEe=PEe(),hi=Qe(IEe),u$={},h$;function OEe(){if(h$)return u$;h$=1;var n=Ye(),e=wR(),t=TR().indexOf,r=Dd(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:t(this,l,c)}}),u$}var wC,d$;function REe(){if(d$)return wC;d$=1,OEe();var n=_n();return wC=n("Array","indexOf"),wC}var _C,f$;function DEe(){if(f$)return _C;f$=1;var n=tn(),e=REe(),t=Array.prototype;return _C=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},_C}var SC,p$;function AEe(){if(p$)return SC;p$=1;var n=DEe();return SC=n,SC}var kC,m$;function NEe(){return m$||(m$=1,kC=AEe()),kC}var LEe=NEe(),Ut=Qe(LEe),g$={},v$;function FEe(){if(v$)return g$;v$=1;var n=Ye(),e=_Q().entries;return n({target:"Object",stat:!0},{entries:function(r){return e(r)}}),g$}var CC,y$;function $Ee(){if(y$)return CC;y$=1,FEe();var n=Xt();return CC=n.Object.entries,CC}var EC,b$;function jEe(){if(b$)return EC;b$=1;var n=$Ee();return EC=n,EC}var TC,x$;function BEe(){return x$||(x$=1,TC=jEe()),TC}var zEe=BEe(),qEe=Qe(zEe),w$={},_$;function UEe(){if(_$)return w$;_$=1;var n=Ye(),e=Dn(),t=dg();return n({target:"Object",stat:!0,sham:!e},{create:t}),w$}var MC,S$;function WEe(){if(S$)return MC;S$=1,UEe();var n=Xt(),e=n.Object;return MC=function(r,i){return e.create(r,i)},MC}var PC,k$;function HEe(){if(k$)return PC;k$=1;var n=WEe();return PC=n,PC}var IC,C$;function YEe(){return C$||(C$=1,IC=HEe()),IC}var GEe=YEe(),gg=Qe(GEe),E$={},OC,T$;function kQ(){if(T$)return OC;T$=1;var n=Pd(),e=Ji(),t=Vo(),r=RangeError;return OC=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},OC}var RC,M$;function VEe(){if(M$)return RC;M$=1;var n=Mt(),e=iQ(),t=Ji(),r=kQ(),i=Vo(),s=n(r),o=n("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(i(u)),m=e(h),g=f.length,v=d===void 0?" ":t(d),y,b;return m<=g||v===""?f:(y=m-g,b=s(v,a(y/v.length)),b.length>y&&(b=o(b,0,y)),c?f+b:b+f)}};return RC={start:l(!1),end:l(!0)},RC}var DC,P$;function KEe(){if(P$)return DC;P$=1;var n=Mt(),e=kt(),t=VEe().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),c=n(o.getUTCDate),u=n(o.getUTCFullYear),h=n(o.getUTCHours),d=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),m=n(o.getUTCMonth),g=n(o.getUTCSeconds);return DC=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var y=this,b=u(y),w=d(y),S=b<0?"-":b>9999?"+":"";return S+t(s(b),S?6:4,0)+"-"+t(m(y)+1,2,0)+"-"+t(c(y),2,0)+"T"+t(h(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(w,3,0)+"Z"}:a,DC}var I$;function XEe(){if(I$)return E$;I$=1;var n=Ye(),e=ii(),t=si(),r=eQ(),i=KEe(),s=ro(),o=kt(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=r(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(i,u):u.toISOString()}}),E$}var AC,O$;function QEe(){if(O$)return AC;O$=1,XEe(),hQ();var n=Xt(),e=mx();return n.JSON||(n.JSON={stringify:JSON.stringify}),AC=function(r,i,s){return e(n.JSON.stringify,null,arguments)},AC}var NC,R$;function JEe(){if(R$)return NC;R$=1;var n=QEe();return NC=n,NC}var LC,D$;function ZEe(){return D$||(D$=1,LC=JEe()),LC}var eTe=ZEe(),Ur=Qe(eTe),A$={},N$={},FC,L$;function CQ(){if(L$)return FC;L$=1;var n=wn(),e=Sd(),t=ro(),r=function(i){return e.slice(0,i.length)===i};return FC=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),FC}var $C,F$;function tTe(){if(F$)return $C;F$=1;var n=TypeError;return $C=function(e,t){if(e<t)throw new n("Not enough arguments");return e},$C}var jC,$$;function EQ(){if($$)return jC;$$=1;var n=wn(),e=mx(),t=Jn(),r=CQ(),i=Sd(),s=Id(),o=tTe(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&function(){var c=n.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return jC=function(c,u){var h=u?2:1;return l?function(d,f){var m=o(arguments.length,1)>h,g=t(d)?d:a(d),v=m?s(arguments,h):[],y=m?function(){e(g,this,v)}:g;return u?c(y,f):c(y)}:c},jC}var j$;function nTe(){if(j$)return N$;j$=1;var n=Ye(),e=wn(),t=EQ(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),N$}var B$={},z$;function rTe(){if(z$)return B$;z$=1;var n=Ye(),e=wn(),t=EQ(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),B$}var q$;function TQ(){return q$||(q$=1,nTe(),rTe()),A$}var BC,U$;function iTe(){if(U$)return BC;U$=1,TQ();var n=Xt();return BC=n.setTimeout,BC}var zC,W$;function sTe(){return W$||(W$=1,zC=iTe()),zC}var oTe=sTe(),Jr=Qe(oTe),H$={},qC,Y$;function aTe(){if(Y$)return qC;Y$=1;var n=si(),e=_x(),t=Es();return qC=function(i){for(var s=n(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=c===void 0?o:e(c,o);u>l;)s[l++]=i;return s},qC}var G$;function lTe(){if(G$)return H$;G$=1;var n=Ye(),e=aTe(),t=mg();return n({target:"Array",proto:!0},{fill:e}),t("fill"),H$}var UC,V$;function cTe(){if(V$)return UC;V$=1,lTe();var n=_n();return UC=n("Array","fill"),UC}var WC,K$;function uTe(){if(K$)return WC;K$=1;var n=tn(),e=cTe(),t=Array.prototype;return WC=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},WC}var HC,X$;function hTe(){if(X$)return HC;X$=1;var n=uTe();return HC=n,HC}var YC,Q$;function dTe(){return Q$||(Q$=1,YC=hTe()),YC}var fTe=dTe(),MQ=Qe(fTe),GC={exports:{}},J$;function pTe(){return J$||(J$=1,function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(GC)),GC.exports}var mTe=pTe(),NR=Qe(mTe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function xs(){return xs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xs.apply(this,arguments)}function Zi(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Q0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var BP;typeof Object.assign!="function"?BP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:BP=Object.assign;var Sc=BP,Z$=["","webkit","Moz","MS","ms","o"],gTe=typeof document>"u"?{style:{}}:document.createElement("div"),vTe="function",Du=Math.round,kc=Math.abs,LR=Date.now;function Mx(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<Z$.length;){if(t=Z$[s],r=t?t+i:e,r in n)return r;s++}}var Fo;typeof window>"u"?Fo={}:Fo=window;var PQ=Mx(gTe.style,"touchAction"),IQ=PQ!==void 0;function yTe(){if(!IQ)return!1;var n={},e=Fo.CSS&&Fo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Fo.CSS.supports("touch-action",t):!0}),n}var OQ="compute",RQ="auto",zP="manipulation",sc="none",xm="pan-x",wm="pan-y",J0=yTe(),bTe=/mobile|tablet|ip(ad|hone|od)|android/i,DQ="ontouchstart"in Fo,xTe=Mx(Fo,"PointerEvent")!==void 0,wTe=DQ&&bTe.test(navigator.userAgent),vg="touch",_Te="pen",FR="mouse",STe="kinect",kTe=25,Ar=1,Bc=2,Ln=4,ti=8,Wy=1,yg=2,bg=4,xg=8,ed=16,Js=yg|bg,oc=xg|ed,AQ=Js|oc,NQ=["x","y"],Hy=["clientX","clientY"];function $o(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Px(n,e){return typeof n===vTe?n.apply(e&&e[0]||void 0,e):n}function jl(n,e){return n.indexOf(e)>-1}function CTe(n){if(jl(n,sc))return sc;var e=jl(n,xm),t=jl(n,wm);return e&&t?sc:e||t?e?xm:wm:jl(n,zP)?zP:RQ}var LQ=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===OQ&&(r=this.compute()),IQ&&this.manager.element.style&&J0[r]&&(this.manager.element.style[PQ]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return $o(this.manager.recognizers,function(i){Px(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),CTe(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=jl(o,sc)&&!J0[sc],l=jl(o,wm)&&!J0[wm],c=jl(o,xm)&&!J0[xm];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&Js||c&&s&oc))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function $R(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function FQ(n){var e=n.length;if(e===1)return{x:Du(n[0].clientX),y:Du(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Du(t/e),y:Du(r/e)}}function ej(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Du(n.pointers[t].clientX),clientY:Du(n.pointers[t].clientY)},t++;return{timeStamp:LR(),pointers:e,center:FQ(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Yy(n,e,t){t||(t=NQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function qP(n,e,t){t||(t=NQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function $Q(n,e){return n===e?Wy:kc(n)>=kc(e)?n<0?yg:bg:e<0?xg:ed}function ETe(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Ar||s.eventType===Ln)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function jQ(n,e,t){return{x:e/n||0,y:t/n||0}}function TTe(n,e){return Yy(e[0],e[1],Hy)/Yy(n[0],n[1],Hy)}function MTe(n,e){return qP(e[1],e[0],Hy)+qP(n[1],n[0],Hy)}function PTe(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==ti&&(r>kTe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=jQ(r,l,c);s=u.x,o=u.y,i=kc(u.x)>kc(u.y)?u.x:u.y,a=$Q(l,c),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function ITe(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=ej(e)),i>1&&!t.firstMultiple?t.firstMultiple=ej(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=FQ(r);e.timeStamp=LR(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=qP(a,l),e.distance=Yy(a,l),ETe(t,e),e.offsetDirection=$Q(e.deltaX,e.deltaY);var c=jQ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=kc(c.x)>kc(c.y)?c.x:c.y,e.scale=o?TTe(o.pointers,r):1,e.rotation=o?MTe(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,PTe(t,e);var u=n.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,$R(d,u)&&(u=d),e.target=u}function OTe(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Ar&&r-i===0,o=e&(Ln|ti)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,ITe(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function _m(n){return n.trim().split(/\s+/g)}function dp(n,e,t){$o(_m(e),function(r){n.addEventListener(r,t,!1)})}function fp(n,e,t){$o(_m(e),function(r){n.removeEventListener(r,t,!1)})}function tj(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Ad=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Px(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&dp(this.element,this.evEl,this.domHandler),this.evTarget&&dp(this.target,this.evTarget,this.domHandler),this.evWin&&dp(tj(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&fp(this.element,this.evEl,this.domHandler),this.evTarget&&fp(this.target,this.evTarget,this.domHandler),this.evWin&&fp(tj(this.element),this.evWin,this.domHandler)},n}();function Cc(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var RTe={pointerdown:Ar,pointermove:Bc,pointerup:Ln,pointercancel:ti,pointerout:ti},DTe={2:vg,3:_Te,4:FR,5:STe},BQ="pointerdown",zQ="pointermove pointerup pointercancel";Fo.MSPointerEvent&&!Fo.PointerEvent&&(BQ="MSPointerDown",zQ="MSPointerMove MSPointerUp MSPointerCancel");var qQ=function(n){Zi(e,n);function e(){var r,i=e.prototype;return i.evEl=BQ,i.evWin=zQ,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=RTe[a],c=DTe[i.pointerType]||i.pointerType,u=c===vg,h=Cc(s,i.pointerId,"pointerId");l&Ar&&(i.button===0||u)?h<0&&(s.push(i),h=s.length-1):l&(Ln|ti)&&(o=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),o&&s.splice(h,1))},e}(Ad);function Sm(n){return Array.prototype.slice.call(n,0)}function jR(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Cc(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var ATe={touchstart:Ar,touchmove:Bc,touchend:Ln,touchcancel:ti},NTe="touchstart touchmove touchend touchcancel",BR=function(n){Zi(e,n);function e(){var r;return e.prototype.evTarget=NTe,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=ATe[i.type],o=LTe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:vg,srcEvent:i})},e}(Ad);function LTe(n,e){var t=Sm(n.touches),r=this.targetIds;if(e&(Ar|Bc)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=Sm(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return $R(c.target,l)}),e===Ar)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Ln|ti)&&delete r[o[i].identifier],i++;if(a.length)return[jR(s.concat(a),"identifier",!0),a]}var FTe={mousedown:Ar,mousemove:Bc,mouseup:Ln},$Te="mousedown",jTe="mousemove mouseup",zR=function(n){Zi(e,n);function e(){var r,i=e.prototype;return i.evEl=$Te,i.evWin=jTe,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=FTe[i.type];s&Ar&&i.button===0&&(this.pressed=!0),s&Bc&&i.which!==1&&(s=Ln),this.pressed&&(s&Ln&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:FR,srcEvent:i}))},e}(Ad),BTe=2500,nj=25;function rj(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,BTe)}}function zTe(n,e){n&Ar?(this.primaryTouch=e.changedPointers[0].identifier,rj.call(this,e)):n&(Ln|ti)&&rj.call(this,e)}function qTe(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=nj&&o<=nj)return!0}return!1}var UQ=function(){var n=function(e){Zi(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,c){var u=c.pointerType===vg,h=c.pointerType===FR;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)zTe.call(Q0(Q0(o)),l,c);else if(h&&qTe.call(Q0(Q0(o)),c))return;o.callback(a,l,c)}},o.touch=new BR(o.manager,o.handler),o.mouse=new zR(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Ad);return n}();function UTe(n){var e,t=n.options.inputClass;return t?e=t:xTe?e=qQ:wTe?e=BR:DQ?e=UQ:e=zR,new e(n,OTe)}function Au(n,e,t){return Array.isArray(n)?($o(n,t[e],t),!0):!1}var Lv=1,Yi=2,td=4,Ka=8,jo=Ka,km=16,Hs=32,WTe=1;function HTe(){return WTe++}function Z0(n,e){var t=e.manager;return t?t.get(n):n}function ij(n){return n&km?"cancel":n&Ka?"end":n&td?"move":n&Yi?"start":""}var wg=function(){function n(t){t===void 0&&(t={}),this.options=xs({enable:!0},t),this.id=HTe(),this.manager=null,this.state=Lv,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Sc(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Au(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Z0(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Au(r,"dropRecognizeWith",this)?this:(r=Z0(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Au(r,"requireFailure",this))return this;var i=this.requireFail;return r=Z0(r,this),Cc(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Au(r,"dropRequireFailure",this))return this;r=Z0(r,this);var i=Cc(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Ka&&o(i.options.event+ij(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Ka&&o(i.options.event+ij(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Hs},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Hs|Lv)))return!1;r++}return!0},e.recognize=function(r){var i=Sc({},r);if(!Px(this.options.enable,[this,i])){this.reset(),this.state=Hs;return}this.state&(jo|km|Hs)&&(this.state=Lv),this.state=this.process(i),this.state&(Yi|td|Ka|km)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n}(),UP=function(n){Zi(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,xs({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[zP]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime<o.time;if(this.reset(),i.eventType&Ar&&this.count===0)return this.failTimeout();if(l&&c&&a){if(i.eventType!==Ln)return this.failTimeout();var u=this.pTime?i.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Yy(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!u?this.count=1:this.count+=1,this._input=i;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=jo,s.tryEmit()},o.interval),Yi):jo}return Hs},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Hs},this.options.interval),Hs},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===jo&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(wg),nd=function(n){Zi(e,n);function e(r){return r===void 0&&(r={}),n.call(this,xs({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Yi|td),l=this.attrTest(i);return a&&(o&ti||!l)?s|km:a||l?o&Ln?s|Ka:s&Yi?s|td:Yi:Hs},e}(wg);function WQ(n){return n===ed?"down":n===xg?"up":n===yg?"left":n===bg?"right":""}var qR=function(n){Zi(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,xs({event:"pan",threshold:10,pointers:1,direction:AQ},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&Js&&s.push(wm),i&oc&&s.push(xm),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,c=i.deltaX,u=i.deltaY;return l&s.direction||(s.direction&Js?(l=c===0?Wy:c<0?yg:bg,o=c!==this.pX,a=Math.abs(i.deltaX)):(l=u===0?Wy:u<0?xg:ed,o=u!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return nd.prototype.attrTest.call(this,i)&&(this.state&Yi||!(this.state&Yi)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=WQ(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e}(nd),HQ=function(n){Zi(e,n);function e(r){return r===void 0&&(r={}),n.call(this,xs({event:"swipe",threshold:10,velocity:.3,direction:Js|oc,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return qR.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(Js|oc)?o=i.overallVelocity:s&Js?o=i.overallVelocityX:s&oc&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&kc(o)>this.options.velocity&&i.eventType&Ln},t.emit=function(i){var s=WQ(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(nd),YQ=function(n){Zi(e,n);function e(r){return r===void 0&&(r={}),n.call(this,xs({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[sc]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Yi)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e}(nd),GQ=function(n){Zi(e,n);function e(r){return r===void 0&&(r={}),n.call(this,xs({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[sc]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Yi)},e}(nd),VQ=function(n){Zi(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,xs({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[RQ]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Ln|ti)&&!c)this.reset();else if(i.eventType&Ar)this.reset(),this._timer=setTimeout(function(){s.state=jo,s.tryEmit()},o.time);else if(i.eventType&Ln)return jo;return Hs},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===jo&&(i&&i.eventType&Ln?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=LR(),this.manager.emit(this.options.event,this._input)))},e}(wg),KQ={domEvents:!1,touchAction:OQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},sj=[[GQ,{enable:!1}],[YQ,{enable:!1},["rotate"]],[HQ,{direction:Js}],[qR,{direction:Js},["swipe"]],[UP],[UP,{event:"doubletap",taps:2},["tap"]],[VQ]],YTe=1,oj=2;function aj(n,e){var t=n.element;if(t.style){var r;$o(n.options.cssProps,function(i,s){r=Mx(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function GTe(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var lj=function(){function n(t,r){var i=this;this.options=Sc({},KQ,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=UTe(this),this.touchAction=new LQ(this,this.options.touchAction),aj(this,!0),$o(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Sc(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?oj:YTe},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&jo)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==oj&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Yi|td|Ka)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof wg)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(Au(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Au(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Cc(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return $o(_m(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return $o(_m(r),function(o){i?s[o]&&s[o].splice(Cc(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&GTe(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&aj(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),VTe={touchstart:Ar,touchmove:Bc,touchend:Ln,touchcancel:ti},KTe="touchstart",XTe="touchstart touchmove touchend touchcancel",QTe=function(n){Zi(e,n);function e(){var r,i=e.prototype;return i.evTarget=KTe,i.evWin=XTe,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=VTe[i.type];if(s===Ar&&(this.started=!0),!!this.started){var o=JTe.call(this,i,s);s&(Ln|ti)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:vg,srcEvent:i})}},e}(Ad);function JTe(n,e){var t=Sm(n.touches),r=Sm(n.changedTouches);return e&(Ln|ti)&&(t=jR(t.concat(r),"identifier",!0)),[t,r]}function XQ(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var QQ=XQ(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),ZTe=XQ(function(n,e){return QQ(n,e,!0)},"merge","Use `assign`.");function eMe(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Sc(i,t)}function cj(n,e){return function(){return n.apply(e,arguments)}}var UR=function(){var n=function(t,r){return r===void 0&&(r={}),new lj(t,xs({recognizers:sj.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=AQ,n.DIRECTION_DOWN=ed,n.DIRECTION_LEFT=yg,n.DIRECTION_RIGHT=bg,n.DIRECTION_UP=xg,n.DIRECTION_HORIZONTAL=Js,n.DIRECTION_VERTICAL=oc,n.DIRECTION_NONE=Wy,n.DIRECTION_DOWN=ed,n.INPUT_START=Ar,n.INPUT_MOVE=Bc,n.INPUT_END=Ln,n.INPUT_CANCEL=ti,n.STATE_POSSIBLE=Lv,n.STATE_BEGAN=Yi,n.STATE_CHANGED=td,n.STATE_ENDED=Ka,n.STATE_RECOGNIZED=jo,n.STATE_CANCELLED=km,n.STATE_FAILED=Hs,n.Manager=lj,n.Input=Ad,n.TouchAction=LQ,n.TouchInput=BR,n.MouseInput=zR,n.PointerEventInput=qQ,n.TouchMouseInput=UQ,n.SingleTouchInput=QTe,n.Recognizer=wg,n.AttrRecognizer=nd,n.Tap=UP,n.Pan=qR,n.Swipe=HQ,n.Pinch=YQ,n.Rotate=GQ,n.Press=VQ,n.on=dp,n.off=fp,n.each=$o,n.merge=ZTe,n.extend=QQ,n.bindFn=cj,n.assign=Sc,n.inherit=eMe,n.bindFn=cj,n.prefixed=Mx,n.toArray=Sm,n.inArray=Cc,n.uniqueArray=jR,n.splitStr=_m,n.boolOrFn=Px,n.hasParent=$R,n.addEventListeners=dp,n.removeEventListeners=fp,n.defaults=Sc({},KQ,{preset:sj}),n}();UR.defaults;const WR=DCe("DELETE");function JQ(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return HR({},n,...t)}function HR(){const n=Gy(...arguments);return eJ(n),n}function Gy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Gy(HR(e[0],e[1]),...Rd(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of HCe(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===WR?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!St(r[s])&&!St(i[s])?r[s]=Gy(r[s],i[s]):r[s]=ZQ(i[s]));return r}function ZQ(n){return St(n)?Lt(n).call(n,e=>ZQ(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Gy({},n):n}function eJ(n){for(const e of zn(n))n[e]===WR?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&eJ(n[e])}function tMe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return nMe(e.length?e:[ui()])}function nMe(n){let[e,t,r]=rMe(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function rMe(){const n=iMe();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function iMe(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function sMe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const YR=typeof window<"u"?window.Hammer||UR:function(){return sMe()};function Ys(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=YR(this._dom.overlay);t.on("tap",ce(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Re(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{oMe(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}NR(Ys.prototype);Ys.current=null;Ys.prototype.destroy=function(){this.deactivate();for(const t of D2e(n=Ir(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Ys.prototype.activate=function(){Ys.current&&Ys.current.deactivate(),Ys.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ys.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ys.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function oMe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const aMe=/^\/?Date\((-?\d+)/i,lMe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,cMe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,uMe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,hMe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function pp(n){return n instanceof Number||typeof n=="number"}function tJ(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(tJ(e),n.removeChild(e))}}function di(n){return n instanceof String||typeof n=="string"}function WP(n){return typeof n=="object"&&n!==null}function dMe(n){if(n instanceof Date)return!0;if(di(n)){if(aMe.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function Ec(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function nJ(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Ec(n,e,r,t);else{const i=n[r],s=e[r];WP(i)&&WP(s)&&nJ(i,s,t)}}const fMe=tl;function pMe(n,e){if(!St(n))throw new Error("Array with property names expected as first argument");for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];for(const s of r)for(let o=0;o<n.length;o++){const a=n[o];s&&Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}function mMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Cm(e[s],t[s],!1,r):Ec(e,t,s,r);else{if(St(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Ec(e,t,s,r)}}return e}function gMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!Zh(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Cm(e[i],t[i]):Ec(e,t,i,r);else if(St(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Ec(e,t,i,r);return e}function Cm(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&j7(e[s])===Object.prototype)n[s]===void 0?n[s]=Cm({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&j7(n[s])===Object.prototype?Cm(n[s],e[s],t):Ec(n,e,s,r);else if(St(e[s])){var i;n[s]=Rd(i=e[s]).call(i)}else Ec(n,e,s,r);return n}function vMe(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!=e[t])return!1;return!0}function qf(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":St(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Em(n,e){return[...n,e]}function rJ(n){return Rd(n).call(n)}function yMe(n){return n.getBoundingClientRect().left}function bMe(n){return n.getBoundingClientRect().right}function xMe(n){return n.getBoundingClientRect().top}function wMe(n,e){let t=n.className.split(" ");const r=e.split(" ");t=En(t).call(t,ht(r).call(r,function(i){return!Zh(t).call(t,i)})),n.className=t.join(" ")}function _Me(n,e){let t=n.className.split(" ");const r=e.split(" ");t=ht(t).call(t,function(i){return!Zh(r).call(r,i)}),n.className=t.join(" ")}function SMe(n,e){if(St(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}const kMe=DR;function CMe(n,e,t){return n[e]!==t?(n[e]=t,!0):!1}function EMe(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function TMe(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function MMe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function PMe(n,e){let t=n;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const IMe={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),di(n)?n:pp(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function Ix(n){let e;switch(n.length){case 3:case 4:return e=cMe.exec(n),e?{r:hi(e[1]+e[1],16),g:hi(e[2]+e[2],16),b:hi(e[3]+e[3],16)}:null;case 6:case 7:return e=lMe.exec(n),e?{r:hi(e[1],16),g:hi(e[2],16),b:hi(e[3],16)}:null;default:return null}}function OMe(n,e){if(Zh(n).call(n,"rgba"))return n;if(Zh(n).call(n,"rgb")){const t=n.substr(Ut(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Ix(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function GR(n,e,t){var r;return"#"+Rd(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function RMe(n,e){if(di(n)){let r=n;if(KR(r)){var t;const i=Lt(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return hi(s)});r=GR(i[0],i[1],i[2])}if(VR(r)===!0){const i=sJ(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=HP(o.h,o.s,o.v),l=HP(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:di(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:di(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:di(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:di(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Nu(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,l=(i-r)/i;return{h:a,s:l,v:i}}function iJ(n){const e=document.createElement("div"),t={};e.style.cssText=n;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function DMe(n,e){const t=iJ(e);for(const[r,i]of qEe(t))n.style.setProperty(r,i)}function AMe(n,e){const t=iJ(e);for(const r of zn(t))n.style.removeProperty(r)}function mp(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=u,s=l;break;case 1:r=c,i=t,s=l;break;case 2:r=l,i=t,s=u;break;case 3:r=l,i=c,s=t;break;case 4:r=u,i=l,s=t;break;case 5:r=t,i=l,s=c;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function HP(n,e,t){const r=mp(n,e,t);return GR(r.r,r.g,r.b)}function sJ(n){const e=Ix(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Nu(e.r,e.g,e.b)}function VR(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function KR(n){return uMe.test(n)}function oJ(n){return hMe.test(n)}function NMe(n,e){if(e!==null&&typeof e=="object"){const t=gg(e);for(let r=0;r<n.length;r++)Object.prototype.hasOwnProperty.call(e,n[r])&&typeof e[n[r]]=="object"&&(t[n[r]]=XR(e[n[r]]));return t}else return null}function XR(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=gg(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=XR(n[t]));return e}function LMe(n,e){for(let t=0;t<n.length;t++){const r=n[t];let i;for(i=t;i>0&&e(r,n[i-1])<0;i--)n[i]=n[i-1];n[i]=r}return n}function FMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,m,g){s(f[g])||(f[g]={});const v=m[g],y=f[g];for(const b in v)Object.prototype.hasOwnProperty.call(v,b)&&(y[b]=v[b])},l=e[t],u=s(r)&&!o(r)?r[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=l;return}if(l===null&&!s(n[t]))if(i(u))n[t]=gg(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(n,e,t),n[t].enabled=d}function $Me(n,e,t,r){let s=0,o=0,a=n.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=n[l],u=r===void 0?c[t]:c[t][r],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function jMe(n,e,t,r,i){let o=0,a=0,l=n.length-1,c,u,h,d;for(i=i??function(f,m){return f==m?0:f<m?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=n[Math.max(0,d-1)][t],u=n[d][t],h=n[Math.min(n.length-1,d+1)][t],i(u,e)==0)return d;if(i(c,e)<0&&i(u,e)>0)return r=="before"?Math.max(0,d-1):d;if(i(u,e)<0&&i(h,e)>0)return r=="before"?d:Math.min(n.length-1,d+1);i(u,e)<0?a=d+1:l=d-1,o++}return-1}const BMe={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function zMe(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const t=n.offsetWidth;e.style.overflow="scroll";let r=n.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function qMe(n,e){let t;St(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const UMe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let aJ=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return UMe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),di(e)===!0){if(KR(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(oJ(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(VR(e)===!0){const s=Ix(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ur(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=tl({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Jr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=tl({},e)),this.color=e;const r=Nu(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Nu(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=mp(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=Nu(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),MQ(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ce(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ce(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ce(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ce(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new YR(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=mp(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const m=u/this.r,g=Nu(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;const v=mp(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function YP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(YP(...Rd(e).call(e,1))),r}}let WMe=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},tl(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new aJ(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(St(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ht(e)!==void 0&&(this.options.filter=ht(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);ht(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=ht(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ut(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Re(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(YP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Ut(e).call(e,t)!==-1&&(s=Ut(e).call(e,t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Jr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Jr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=ht(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],c=Em(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!St(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const u=this._getValue(c);if(St(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=Em(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(YP("pre","const options = "+Ur(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},HMe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=hi(e),this.y=hi(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},xf=!1,uj;const GP="background: #FFeeee; color: #dd0000";let YMe=class gn{static validate(e,t,r){xf=!1,uj=t;let i=t;return r!==void 0&&(i=t[r]),gn.parse(e,i,[]),xf}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&gn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){gn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=gn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),gn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(u){console.error("%c"+u+gn.printLocation(o,e),GP)},l=gn.getType(t[e]),c=s[l];c!==void 0?gn.getType(c)==="array"&&Ut(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+gn.print(c)+' not "'+t[e]+'". '),xf=!0):l==="object"&&i!=="__any__"&&(o=Em(o,e),gn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+gn.print(zn(s))+". Received ["+l+'] "'+t[e]+'"'),xf=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":St(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=gn.findInOptions(e,t,r,!1),s=gn.findInOptions(e,uj,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+gn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+gn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+gn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+gn.printLocation(i.path,e):l=". Did you mean one of these: "+gn.print(zn(t))+gn.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,GP),xf=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const h in t){let d;if(t[h].__type__!==void 0&&i===!0){const f=gn.findInOptions(e,t[h],Em(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Ut(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=gn.levenshteinDistance(e,h),s>d&&(o=h,a=rJ(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ur(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const GMe=Ys,VMe=aJ,KMe=WMe,XMe=YR,QMe=HMe,JMe=GP,ZMe=YMe;var ePe=Object.freeze({__proto__:null,Activator:GMe,Alea:tMe,ColorPicker:VMe,Configurator:KMe,DELETE:WR,HSVToHex:HP,HSVToRGB:mp,Hammer:XMe,Popup:QMe,RGBToHSV:Nu,RGBToHex:GR,VALIDATOR_PRINT_STYLE:JMe,Validator:ZMe,addClassName:wMe,addCssText:DMe,binarySearchCustom:$Me,binarySearchValue:jMe,bridgeObject:XR,copyAndExtendArray:Em,copyArray:rJ,deepExtend:Cm,deepObjectAssign:HR,easingFunctions:BMe,equalArray:vMe,extend:fMe,fillIfDefined:nJ,forEach:SMe,getAbsoluteLeft:yMe,getAbsoluteRight:bMe,getAbsoluteTop:xMe,getScrollBarWidth:zMe,getTarget:MMe,getType:qf,hasParent:PMe,hexToHSV:sJ,hexToRGB:Ix,insertSort:LMe,isDate:dMe,isNumber:pp,isObject:WP,isString:di,isValidHex:VR,isValidRGB:KR,isValidRGBA:oJ,mergeOptions:FMe,option:IMe,overrideOpacity:OMe,parseColor:RMe,preventDefault:TMe,pureDeepObjectAssign:JQ,recursiveDOMDelete:tJ,removeClassName:_Me,removeCssText:AMe,selectiveBridgeObject:NMe,selectiveDeepExtend:mMe,selectiveExtend:pMe,selectiveNotDeepExtend:gMe,throttle:EMe,toArray:kMe,topMost:qMe,updateProperty:CMe});function wa(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Li(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const r=n[e];for(var t=0;t<r.redundant.length;t++)r.redundant[t].parentNode.removeChild(r.redundant[t]);r.redundant=[]}}function tPe(n){wa(n),Li(n),wa(n)}function gs(n,e,t){var r;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(r=e[n].redundant[0],e[n].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",n),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},t.appendChild(r)),e[n].used.push(r),r}function VC(n,e,t,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElement(n),r!==void 0?t.insertBefore(i,r):t.appendChild(i)):(i=document.createElement(n),e[n]={used:[],redundant:[]},r!==void 0?t.insertBefore(i,r):t.appendChild(i)),e[n].used.push(i),i}function rd(n,e,t,r,i,s){var o;if(t.style=="circle"?(o=gs("circle",r,i),o.setAttributeNS(null,"cx",n),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=gs("rect",r,i),o.setAttributeNS(null,"x",n-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=gs("text",r,i);s.xOffset&&(n=n+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",e)}return o}function VP(n,e,t,r,i,s,o,a){if(r!=0){r<0&&(r*=-1,e-=r);var l=gs("rect",s,o);l.setAttributeNS(null,"x",n-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",i),a&&l.setAttributeNS(null,"style",a)}}function nPe(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var KC,hj;function rPe(){if(hj)return KC;hj=1,dQ();var n=Xt();return KC=n.Object.getOwnPropertySymbols,KC}var XC,dj;function iPe(){if(dj)return XC;dj=1;var n=rPe();return XC=n,XC}var QC,fj;function sPe(){return fj||(fj=1,QC=iPe()),QC}var oPe=sPe(),Vy=Qe(oPe),JC={exports:{}},pj={},mj;function aPe(){if(mj)return pj;mj=1;var n=Ye(),e=kt(),t=Cs(),r=bx().f,i=Dn(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),pj}var gj;function lPe(){if(gj)return JC.exports;gj=1,aPe();var n=Xt(),e=n.Object,t=JC.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),JC.exports}var ZC,vj;function cPe(){if(vj)return ZC;vj=1;var n=lPe();return ZC=n,ZC}var e2,yj;function uPe(){return yj||(yj=1,e2=cPe()),e2}var hPe=uPe(),Ox=Qe(hPe),bj={},xj;function dPe(){if(xj)return bj;xj=1;var n=Ye(),e=Dn(),t=xQ(),r=Cs(),i=bx(),s=xx();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),c=i.f,u=t(l),h={},d=0,f,m;u.length>d;)m=c(l,f=u[d++]),m!==void 0&&s(h,f,m);return h}}),bj}var t2,wj;function fPe(){if(wj)return t2;wj=1,dPe();var n=Xt();return t2=n.Object.getOwnPropertyDescriptors,t2}var n2,_j;function pPe(){if(_j)return n2;_j=1;var n=fPe();return n2=n,n2}var r2,Sj;function mPe(){return Sj||(Sj=1,r2=pPe()),r2}var gPe=mPe(),Ky=Qe(gPe),i2={exports:{}},kj={},Cj;function vPe(){if(Cj)return kj;Cj=1;var n=Ye(),e=Dn(),t=PR().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),kj}var Ej;function yPe(){if(Ej)return i2.exports;Ej=1,vPe();var n=Xt(),e=n.Object,t=i2.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),i2.exports}var s2,Tj;function bPe(){if(Tj)return s2;Tj=1;var n=yPe();return s2=n,s2}var o2,Mj;function xPe(){return Mj||(Mj=1,o2=bPe()),o2}var wPe=xPe(),lJ=Qe(wPe),a2={exports:{}},Pj={},Ij;function _Pe(){if(Ij)return Pj;Ij=1;var n=Ye(),e=Dn(),t=Qi().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Pj}var Oj;function SPe(){if(Oj)return a2.exports;Oj=1,_Pe();var n=Xt(),e=n.Object,t=a2.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),a2.exports}var l2,Rj;function cJ(){if(Rj)return l2;Rj=1;var n=SPe();return l2=n,l2}var c2,Dj;function kPe(){if(Dj)return c2;Dj=1;var n=cJ();return c2=n,c2}var u2,Aj;function CPe(){if(Aj)return u2;Aj=1;var n=kPe();return u2=n,u2}var h2,Nj;function EPe(){return Nj||(Nj=1,h2=CPe()),h2}var TPe=EPe(),MPe=Qe(TPe),Lj={},Fj;function PPe(){if(Fj)return Lj;Fj=1;var n=Fn(),e=Qi().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Lj}var $j={},jj;function IPe(){return jj||(jj=1,fQ()),$j}var Bj={},zj;function OPe(){return zj||(zj=1,pQ()),Bj}var qj={},Uj;function RPe(){if(Uj)return qj;Uj=1;var n=mn();return n("metadata"),qj}var d2,Wj;function DPe(){if(Wj)return d2;Wj=1;var n=bQ();return PPe(),IPe(),OPe(),RPe(),d2=n,d2}var Hj={},f2,Yj;function uJ(){if(Yj)return f2;Yj=1;var n=Ci(),e=Mt(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return f2=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},f2}var Gj;function APe(){if(Gj)return Hj;Gj=1;var n=Ye(),e=uJ();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Hj}var Vj={},p2,Kj;function hJ(){if(Kj)return p2;Kj=1;for(var n=Td(),e=Ci(),t=Mt(),r=ag(),i=Fn(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=n("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];r(s[f])&&i(f)}catch{}return p2=function(g){if(o&&o(g))return!0;try{for(var v=l(g),y=0,b=a(c),w=b.length;y<w;y++)if(c[b[y]]==v)return!0}catch{}return!1},p2}var Xj;function NPe(){if(Xj)return Vj;Xj=1;var n=Ye(),e=hJ();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Vj}var Qj={},Jj;function LPe(){if(Jj)return Qj;Jj=1;var n=mn();return n("customMatcher"),Qj}var Zj={},eB;function FPe(){if(eB)return Zj;eB=1;var n=mn();return n("observable"),Zj}var tB={},nB;function $Pe(){if(nB)return tB;nB=1;var n=Ye(),e=uJ();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),tB}var rB={},iB;function jPe(){if(iB)return rB;iB=1;var n=Ye(),e=hJ();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),rB}var sB={},oB;function BPe(){if(oB)return sB;oB=1;var n=mn();return n("matcher"),sB}var aB={},lB;function zPe(){if(lB)return aB;lB=1;var n=mn();return n("metadataKey"),aB}var cB={},uB;function qPe(){if(uB)return cB;uB=1;var n=mn();return n("patternMatch"),cB}var hB={},dB;function UPe(){if(dB)return hB;dB=1;var n=mn();return n("replaceAll"),hB}var m2,fB;function WPe(){if(fB)return m2;fB=1;var n=DPe();return APe(),NPe(),LPe(),FPe(),$Pe(),jPe(),BPe(),zPe(),qPe(),UPe(),m2=n,m2}var g2,pB;function HPe(){return pB||(pB=1,g2=WPe()),g2}var YPe=HPe(),ev=Qe(YPe),mB={},v2,gB;function GPe(){if(gB)return v2;gB=1;var n=Mt(),e=Pd(),t=Ji(),r=Vo(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(c,u){var h=t(r(c)),d=e(u),f=h.length,m,g;return d<0||d>=f?l?"":void 0:(m=s(h,d),m<55296||m>56319||d+1===f||(g=s(h,d+1))<56320||g>57343?l?i(h,d):m:l?o(h,d,d+2):(m-55296<<10)+(g-56320)+65536)}};return v2={codeAt:a(!1),charAt:a(!0)},v2}var vB;function Rx(){if(vB)return mB;vB=1;var n=GPe().charAt,e=Ji(),t=pg(),r=OR(),i=RR(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?i(void 0,!0):(d=n(u,h),c.index+=d.length,i(d,!1))}),mB}var y2,yB;function VPe(){if(yB)return y2;yB=1,ll(),Rx(),mQ();var n=Ex();return y2=n.f("iterator"),y2}var b2,bB;function dJ(){if(bB)return b2;bB=1;var n=VPe();return cl(),b2=n,b2}var x2,xB;function KPe(){if(xB)return x2;xB=1;var n=dJ();return x2=n,x2}var w2,wB;function XPe(){if(wB)return w2;wB=1;var n=KPe();return w2=n,w2}var _2,_B;function QPe(){return _B||(_B=1,_2=XPe()),_2}var JPe=QPe(),ZPe=Qe(JPe);function Tm(n){"@babel/helpers - typeof";return Tm=typeof ev=="function"&&typeof ZPe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ev=="function"&&e.constructor===ev&&e!==ev.prototype?"symbol":typeof e},Tm(n)}var S2,SB;function eIe(){if(SB)return S2;SB=1,gQ();var n=Ex();return S2=n.f("toPrimitive"),S2}var k2,kB;function tIe(){if(kB)return k2;kB=1;var n=eIe();return k2=n,k2}var C2,CB;function nIe(){if(CB)return C2;CB=1;var n=tIe();return C2=n,C2}var E2,EB;function rIe(){if(EB)return E2;EB=1;var n=nIe();return E2=n,E2}var T2,TB;function iIe(){return TB||(TB=1,T2=rIe()),T2}var sIe=iIe(),oIe=Qe(sIe);function aIe(n,e){if(Tm(n)!="object"||!n)return n;var t=n[oIe];if(t!==void 0){var r=t.call(n,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lIe(n){var e=aIe(n,"string");return Tm(e)=="symbol"?e:e+""}function hn(n,e,t){return(e=lIe(e))in n?MPe(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var MB={},M2,PB;function cIe(){if(PB)return M2;PB=1;var n=io(),e=si(),t=vx(),r=Es(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),m=r(d);if(n(c),m===0&&u<2)throw new i(s);var g=a?m-1:0,v=a?-1:1;if(u<2)for(;;){if(g in f){h=f[g],g+=v;break}if(g+=v,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=v)g in f&&(h=c(h,f[g],g,d));return h}};return M2={left:o(!1),right:o(!0)},M2}var P2,IB;function uIe(){if(IB)return P2;IB=1;var n=CQ();return P2=n==="NODE",P2}var OB;function hIe(){if(OB)return MB;OB=1;var n=Ye(),e=cIe().left,t=Dd(),r=og(),i=uIe(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),MB}var I2,RB;function dIe(){if(RB)return I2;RB=1,hIe();var n=_n();return I2=n("Array","reduce"),I2}var O2,DB;function fIe(){if(DB)return O2;DB=1;var n=tn(),e=dIe(),t=Array.prototype;return O2=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},O2}var R2,AB;function pIe(){if(AB)return R2;AB=1;var n=fIe();return R2=n,R2}var D2,NB;function mIe(){return NB||(NB=1,D2=pIe()),D2}var gIe=mIe(),Dx=Qe(gIe),LB={},A2,FB;function vIe(){if(FB)return A2;FB=1;var n=sl(),e=Es(),t=CR(),r=lg(),i=function(s,o,a,l,c,u,h,d){for(var f=c,m=0,g=h?r(h,d):!1,v,y;m<l;)m in a&&(v=g?g(a[m],m,o):a[m],u>0&&n(v)?(y=e(v),f=i(s,o,v,y,f,u-1)-1):(t(f+1),s[f]=v),f++),m++;return f};return A2=i,A2}var $B;function yIe(){if($B)return LB;$B=1;var n=Ye(),e=vIe(),t=io(),r=si(),i=Es(),s=wx();return n({target:"Array",proto:!0},{flatMap:function(a){var l=r(this),c=i(l),u;return t(a),u=s(l,0),u.length=e(u,l,l,c,0,1,a,arguments.length>1?arguments[1]:void 0),u}}),LB}var jB={},BB;function bIe(){if(BB)return jB;BB=1;var n=mg();return n("flatMap"),jB}var N2,zB;function xIe(){if(zB)return N2;zB=1,yIe(),bIe();var n=_n();return N2=n("Array","flatMap"),N2}var L2,qB;function wIe(){if(qB)return L2;qB=1;var n=tn(),e=xIe(),t=Array.prototype;return L2=function(r){var i=r.flatMap;return r===t||n(t,r)&&i===t.flatMap?e:i},L2}var F2,UB;function _Ie(){if(UB)return F2;UB=1;var n=wIe();return F2=n,F2}var $2,WB;function SIe(){return WB||(WB=1,$2=_Ie()),$2}var kIe=SIe(),CIe=Qe(kIe),j2,HB;function EIe(){return HB||(HB=1,j2=dJ()),j2}var TIe=EIe(),Lu=Qe(TIe),YB={},GB={},B2={exports:{}},z2,VB;function MIe(){if(VB)return z2;VB=1;var n=kt();return z2=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),z2}var q2,KB;function PIe(){if(KB)return q2;KB=1;var n=kt(),e=br(),t=ro(),r=MIe(),i=Object.isExtensible,s=n(function(){});return q2=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,q2}var U2,XB;function IIe(){if(XB)return U2;XB=1;var n=kt();return U2=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),U2}var QB;function fJ(){if(QB)return B2.exports;QB=1;var n=Ye(),e=Mt(),t=ug(),r=br(),i=Zn(),s=Qi().f,o=kx(),a=lQ(),l=PIe(),c=yx(),u=IIe(),h=!1,d=c("meta"),f=0,m=function(S){s(S,d,{value:{objectID:"O"+f++,weakData:{}}})},g=function(S,_){if(!r(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!i(S,d)){if(!l(S))return"F";if(!_)return"E";m(S)}return S[d].objectID},v=function(S,_){if(!i(S,d)){if(!l(S))return!0;if(!_)return!1;m(S)}return S[d].weakData},y=function(S){return u&&h&&l(S)&&!i(S,d)&&m(S),S},b=function(){w.enable=function(){},h=!0;var S=o.f,_=e([].splice),k={};k[d]=1,S(k).length&&(o.f=function(E){for(var C=S(E),O=0,R=C.length;O<R;O++)if(C[O]===d){_(C,O,1);break}return C},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},w=B2.exports={enable:b,fastKey:g,getWeakData:v,onFreeze:y};return t[d]=!0,B2.exports}var W2,JB;function OIe(){if(JB)return W2;JB=1;var n=Fn(),e=Od(),t=n("iterator"),r=Array.prototype;return W2=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},W2}var H2,ZB;function pJ(){if(ZB)return H2;ZB=1;var n=ol(),e=_R(),t=sg(),r=Od(),i=Fn(),s=i("iterator");return H2=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},H2}var Y2,ez;function mJ(){if(ez)return Y2;ez=1;var n=ii(),e=io(),t=Ko(),r=Cd(),i=pJ(),s=TypeError;return Y2=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},Y2}var G2,tz;function QR(){if(tz)return G2;tz=1;var n=ii(),e=Ko(),t=_R();return G2=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},G2}var V2,nz;function JR(){if(nz)return V2;nz=1;var n=lg(),e=ii(),t=Ko(),r=Cd(),i=OIe(),s=Es(),o=tn(),a=mJ(),l=pJ(),c=QR(),u=TypeError,h=function(f,m){this.stopped=f,this.result=m},d=h.prototype;return V2=function(f,m,g){var v=g&&g.that,y=!!(g&&g.AS_ENTRIES),b=!!(g&&g.IS_RECORD),w=!!(g&&g.IS_ITERATOR),S=!!(g&&g.INTERRUPTED),_=n(m,v),k,E,C,O,R,D,F,N=function(j){return k&&c(k,"normal"),new h(!0,j)},W=function(j){return y?(t(j),S?_(j[0],j[1],N):_(j[0],j[1])):S?_(j,N):_(j)};if(b)k=f.iterator;else if(w)k=f;else{if(E=l(f),!E)throw new u(r(f)+" is not iterable");if(i(E)){for(C=0,O=s(f);O>C;C++)if(R=W(f[C]),R&&o(d,R))return R;return new h(!1)}k=a(f,E)}for(D=b?f.next:k.next;!(F=e(D,k)).done;){try{R=W(F.value)}catch(j){c(k,"throw",j)}if(typeof R=="object"&&R&&o(d,R))return R}return new h(!1)},V2}var K2,rz;function gJ(){if(rz)return K2;rz=1;var n=tn(),e=TypeError;return K2=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},K2}var X2,iz;function vJ(){if(iz)return X2;iz=1;var n=Ye(),e=wn(),t=fJ(),r=kt(),i=Md(),s=JR(),o=gJ(),a=Jn(),l=br(),c=sg(),u=jc(),h=Qi().f,d=al().forEach,f=Dn(),m=pg(),g=m.set,v=m.getterFor;return X2=function(y,b,w){var S=y.indexOf("Map")!==-1,_=y.indexOf("Weak")!==-1,k=S?"set":"add",E=e[y],C=E&&E.prototype,O={},R;if(!f||!a(E)||!(_||C.forEach&&!r(function(){new E().entries().next()})))R=w.getConstructor(b,y,S,k),t.enable();else{R=b(function(N,W){g(o(N,D),{type:y,collection:new E}),c(W)||s(W,N[k],{that:N,AS_ENTRIES:S})});var D=R.prototype,F=v(y);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var W=N==="add"||N==="set";N in C&&!(_&&N==="clear")&&i(D,N,function(j,$){var z=F(this).collection;if(!W&&_&&!l(j))return N==="get"?void 0:!1;var B=z[N](j===0?0:j,$);return W?this:B})}),_||h(D,"size",{configurable:!0,get:function(){return F(this).collection.size}})}return u(R,y,!1,!0),O[y]=R,n({global:!0,forced:!0},O),_||w.setStrong(R,y,S),R},X2}var Q2,sz;function RIe(){if(sz)return Q2;sz=1;var n=fg();return Q2=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Q2}var J2,oz;function DIe(){if(oz)return J2;oz=1;var n=Ci(),e=IR(),t=Fn(),r=Dn(),i=t("species");return J2=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},J2}var Z2,az;function yJ(){if(az)return Z2;az=1;var n=dg(),e=IR(),t=RIe(),r=lg(),i=gJ(),s=sg(),o=JR(),a=OR(),l=RR(),c=DIe(),u=Dn(),h=fJ().fastKey,d=pg(),f=d.set,m=d.getterFor;return Z2={getConstructor:function(g,v,y,b){var w=g(function(C,O){i(C,S),f(C,{type:v,index:n(null),first:null,last:null,size:0}),u||(C.size=0),s(O)||o(O,C[b],{that:C,AS_ENTRIES:y})}),S=w.prototype,_=m(v),k=function(C,O,R){var D=_(C),F=E(C,O),N,W;return F?F.value=R:(D.last=F={index:W=h(O,!0),key:O,value:R,previous:N=D.last,next:null,removed:!1},D.first||(D.first=F),N&&(N.next=F),u?D.size++:C.size++,W!=="F"&&(D.index[W]=F)),C},E=function(C,O){var R=_(C),D=h(O),F;if(D!=="F")return R.index[D];for(F=R.first;F;F=F.next)if(F.key===O)return F};return t(S,{clear:function(){for(var O=this,R=_(O),D=R.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=null),D=D.next;R.first=R.last=null,R.index=n(null),u?R.size=0:O.size=0},delete:function(C){var O=this,R=_(O),D=E(O,C);if(D){var F=D.next,N=D.previous;delete R.index[D.index],D.removed=!0,N&&(N.next=F),F&&(F.previous=N),R.first===D&&(R.first=F),R.last===D&&(R.last=N),u?R.size--:O.size--}return!!D},forEach:function(O){for(var R=_(this),D=r(O,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:R.first;)for(D(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(O){return!!E(this,O)}}),t(S,y?{get:function(O){var R=E(this,O);return R&&R.value},set:function(O,R){return k(this,O===0?0:O,R)}}:{add:function(O){return k(this,O=O===0?0:O,O)}}),u&&e(S,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(g,v,y){var b=v+" Iterator",w=m(v),S=m(b);a(g,v,function(_,k){f(this,{type:b,target:_,state:w(_),kind:k,last:null})},function(){for(var _=S(this),k=_.kind,E=_.last;E&&E.removed;)E=E.previous;return!_.target||!(_.last=E=E?E.next:_.state.first)?(_.target=null,l(void 0,!0)):l(k==="keys"?E.key:k==="values"?E.value:[E.key,E.value],!1)},y?"entries":"values",!y,!0),c(v)}},Z2}var lz;function AIe(){if(lz)return GB;lz=1;var n=vJ(),e=yJ();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),GB}var cz;function NIe(){return cz||(cz=1,AIe()),YB}var uz={},eE,hz;function bJ(){return hz||(hz=1,eE=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),eE}var tE,dz;function LIe(){if(dz)return tE;dz=1;var n=Ci(),e=bJ(),t=n("Map");return tE={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},tE}var fz;function FIe(){if(fz)return uz;fz=1;var n=Ye(),e=Mt(),t=io(),r=Vo(),i=JR(),s=LIe(),o=Ed(),a=kt(),l=s.Map,c=s.has,u=s.get,h=s.set,d=e([].push),f=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,v){r(g),t(v);var y=new l,b=0;return i(g,function(w){var S=v(w,b++);c(y,S)?d(u(y,S),w):h(y,S,[w])}),y}}),uz}var nE,pz;function $Ie(){if(pz)return nE;pz=1,ll(),NIe(),FIe(),Rx();var n=Xt();return nE=n.Map,nE}var rE,mz;function jIe(){if(mz)return rE;mz=1;var n=$Ie();return cl(),rE=n,rE}var iE,gz;function BIe(){return gz||(gz=1,iE=jIe()),iE}var zIe=BIe(),xJ=Qe(zIe),vz={},yz={},bz;function qIe(){if(bz)return yz;bz=1;var n=vJ(),e=yJ();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),yz}var xz;function UIe(){return xz||(xz=1,qIe()),vz}var wz={},sE,_z;function zc(){if(_z)return sE;_z=1;var n=Cd(),e=TypeError;return sE=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},sE}var oE,Sz;function qc(){if(Sz)return oE;Sz=1;var n=Ci(),e=bJ(),t=n("Set"),r=t.prototype;return oE={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},oE}var aE,kz;function Uc(){if(kz)return aE;kz=1;var n=ii();return aE=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},aE}var lE,Cz;function _g(){if(Cz)return lE;Cz=1;var n=Uc();return lE=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},lE}var cE,Ez;function ZR(){if(Ez)return cE;Ez=1;var n=qc(),e=_g(),t=n.Set,r=n.add;return cE=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},cE}var uE,Tz;function Sg(){return Tz||(Tz=1,uE=function(n){return n.size}),uE}var hE,Mz;function WIe(){return Mz||(Mz=1,hE=function(n){return{iterator:n,next:n.next,done:!1}}),hE}var dE,Pz;function Wc(){if(Pz)return dE;Pz=1;var n=io(),e=Ko(),t=ii(),r=Pd(),i=WIe(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=n(u.has),this.keys=n(u.keys)};return c.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},dE=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=r(h);if(d<0)throw new o(s);return new c(u,d)},dE}var fE,Iz;function HIe(){if(Iz)return fE;Iz=1;var n=zc(),e=qc(),t=ZR(),r=Sg(),i=Wc(),s=_g(),o=Uc(),a=e.has,l=e.remove;return fE=function(u){var h=n(this),d=i(u),f=t(h);return r(h)<=d.size?s(h,function(m){d.includes(m)&&l(f,m)}):o(d.getIterator(),function(m){a(f,m)&&l(f,m)}),f},fE}var pE,Oz;function Hc(){return Oz||(Oz=1,pE=function(){return!1}),pE}var Rz;function YIe(){if(Rz)return wz;Rz=1;var n=Ye(),e=HIe(),t=kt(),r=Hc(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),wz}var Dz={},mE,Az;function GIe(){if(Az)return mE;Az=1;var n=zc(),e=qc(),t=Sg(),r=Wc(),i=_g(),s=Uc(),o=e.Set,a=e.add,l=e.has;return mE=function(u){var h=n(this),d=r(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(m){l(h,m)&&a(f,m)}):i(h,function(m){d.includes(m)&&a(f,m)}),f},mE}var Nz;function VIe(){if(Nz)return Dz;Nz=1;var n=Ye(),e=kt(),t=GIe(),r=Hc(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),Dz}var Lz={},gE,Fz;function KIe(){if(Fz)return gE;Fz=1;var n=zc(),e=qc().has,t=Sg(),r=Wc(),i=_g(),s=Uc(),o=QR();return gE=function(l){var c=n(this),u=r(l);if(t(c)<=u.size)return i(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},gE}var $z;function XIe(){if($z)return Lz;$z=1;var n=Ye(),e=KIe(),t=Hc(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),Lz}var jz={},vE,Bz;function QIe(){if(Bz)return vE;Bz=1;var n=zc(),e=Sg(),t=_g(),r=Wc();return vE=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},vE}var zz;function JIe(){if(zz)return jz;zz=1;var n=Ye(),e=QIe(),t=Hc(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),jz}var qz={},yE,Uz;function ZIe(){if(Uz)return yE;Uz=1;var n=zc(),e=qc().has,t=Sg(),r=Wc(),i=Uc(),s=QR();return yE=function(a){var l=n(this),c=r(a);if(t(l)<c.size)return!1;var u=c.getIterator();return i(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},yE}var Wz;function eOe(){if(Wz)return qz;Wz=1;var n=Ye(),e=ZIe(),t=Hc(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),qz}var Hz={},bE,Yz;function tOe(){if(Yz)return bE;Yz=1;var n=zc(),e=qc(),t=ZR(),r=Wc(),i=Uc(),s=e.add,o=e.has,a=e.remove;return bE=function(c){var u=n(this),h=r(c).getIterator(),d=t(u);return i(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},bE}var xE,Gz;function wJ(){return Gz||(Gz=1,xE=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),xE}var Vz;function nOe(){if(Vz)return Hz;Vz=1;var n=Ye(),e=tOe(),t=wJ(),r=Hc(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),Hz}var Kz={},wE,Xz;function rOe(){if(Xz)return wE;Xz=1;var n=zc(),e=qc().add,t=ZR(),r=Wc(),i=Uc();return wE=function(o){var a=n(this),l=r(o).getIterator(),c=t(a);return i(l,function(u){e(c,u)}),c},wE}var Qz;function iOe(){if(Qz)return Kz;Qz=1;var n=Ye(),e=rOe(),t=wJ(),r=Hc(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),Kz}var _E,Jz;function sOe(){if(Jz)return _E;Jz=1,ll(),UIe(),YIe(),VIe(),XIe(),JIe(),eOe(),nOe(),iOe(),Rx();var n=Xt();return _E=n.Set,_E}var SE,Zz;function oOe(){if(Zz)return SE;Zz=1;var n=sOe();return cl(),SE=n,SE}var kE,eq;function aOe(){return eq||(eq=1,kE=oOe()),kE}var lOe=aOe(),ac=Qe(lOe),CE,tq;function cOe(){if(tq)return CE;tq=1,ll(),Rx();var n=mJ();return CE=n,CE}var EE,nq;function uOe(){if(nq)return EE;nq=1;var n=cOe();return cl(),EE=n,EE}var TE,rq;function hOe(){if(rq)return TE;rq=1;var n=uOe();return TE=n,TE}var ME,iq;function dOe(){if(iq)return ME;iq=1;var n=hOe();return ME=n,ME}var PE,sq;function fOe(){return sq||(sq=1,PE=dOe()),PE}var IE,oq;function pOe(){return oq||(oq=1,IE=fOe()),IE}var mOe=pOe(),OE=Qe(mOe),aq={},RE,lq;function gOe(){if(lq)return RE;lq=1;var n=Id(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var c=e(s/2),u=t(n(r,0,c),i),h=t(n(r,c),i),d=u.length,f=h.length,m=0,g=0;m<d||g<f;)r[m+g]=m<d&&g<f?i(u[m],h[g])<=0?u[m++]:h[g++]:m<d?u[m++]:h[g++];return r};return RE=t,RE}var DE,cq;function vOe(){if(cq)return DE;cq=1;var n=Sd(),e=n.match(/firefox\/(\d+)/i);return DE=!!e&&+e[1],DE}var AE,uq;function yOe(){if(uq)return AE;uq=1;var n=Sd();return AE=/MSIE|Trident/.test(n),AE}var NE,hq;function bOe(){if(hq)return NE;hq=1;var n=Sd(),e=n.match(/AppleWebKit\/(\d+)\./);return NE=!!e&&+e[1],NE}var dq;function xOe(){if(dq)return aq;dq=1;var n=Ye(),e=Mt(),t=io(),r=si(),i=Es(),s=wQ(),o=Ji(),a=kt(),l=gOe(),c=Dd(),u=vOe(),h=yOe(),d=og(),f=bOe(),m=[],g=e(m.sort),v=e(m.push),y=a(function(){m.sort(void 0)}),b=a(function(){m.sort(null)}),w=c("sort"),S=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var E="",C,O,R,D;for(C=65;C<76;C++){switch(O=String.fromCharCode(C),C){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(D=0;D<47;D++)m.push({k:O+D,v:R})}for(m.sort(function(F,N){return N.v-F.v}),D=0;D<m.length;D++)O=m[D].k.charAt(0),E.charAt(E.length-1)!==O&&(E+=O);return E!=="DGBEFHACIJK"}}),_=y||!b||!w||!S,k=function(E){return function(C,O){return O===void 0?-1:C===void 0?1:E!==void 0?+E(C,O)||0:o(C)>o(O)?1:-1}};return n({target:"Array",proto:!0,forced:_},{sort:function(C){C!==void 0&&t(C);var O=r(this);if(S)return C===void 0?g(O):g(O,C);var R=[],D=i(O),F,N;for(N=0;N<D;N++)N in O&&v(R,O[N]);for(l(R,k(C)),F=i(R),N=0;N<F;)O[N]=R[N++];for(;N<D;)s(O,N++);return O}}),aq}var LE,fq;function wOe(){if(fq)return LE;fq=1,xOe();var n=_n();return LE=n("Array","sort"),LE}var FE,pq;function _Oe(){if(pq)return FE;pq=1;var n=tn(),e=wOe(),t=Array.prototype;return FE=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},FE}var $E,mq;function SOe(){if(mq)return $E;mq=1;var n=_Oe();return $E=n,$E}var jE,gq;function kOe(){return gq||(gq=1,jE=SOe()),jE}var COe=kOe(),In=Qe(COe),vq={},yq;function EOe(){if(yq)return vq;yq=1;var n=Ye(),e=al().some,t=Dd(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),vq}var BE,bq;function TOe(){if(bq)return BE;bq=1,EOe();var n=_n();return BE=n("Array","some"),BE}var zE,xq;function MOe(){if(xq)return zE;xq=1;var n=tn(),e=TOe(),t=Array.prototype;return zE=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},zE}var qE,wq;function POe(){if(wq)return qE;wq=1;var n=MOe();return qE=n,qE}var UE,_q;function IOe(){return _q||(_q=1,UE=POe()),UE}var OOe=IOe(),eD=Qe(OOe),WE,Sq;function ROe(){if(Sq)return WE;Sq=1,ll();var n=_n();return WE=n("Array","keys"),WE}var HE,kq;function DOe(){if(kq)return HE;kq=1;var n=ROe();return HE=n,HE}var YE,Cq;function AOe(){if(Cq)return YE;Cq=1,cl();var n=ol(),e=Zn(),t=tn(),r=DOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return YE=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},YE}var GE,Eq;function NOe(){return Eq||(Eq=1,GE=AOe()),GE}var LOe=NOe(),cu=Qe(LOe),VE,Tq;function FOe(){if(Tq)return VE;Tq=1,ll();var n=_n();return VE=n("Array","values"),VE}var KE,Mq;function $Oe(){if(Mq)return KE;Mq=1;var n=FOe();return KE=n,KE}var XE,Pq;function jOe(){if(Pq)return XE;Pq=1,cl();var n=ol(),e=Zn(),t=tn(),r=$Oe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return XE=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},XE}var QE,Iq;function BOe(){return Iq||(Iq=1,QE=jOe()),QE}var zOe=BOe(),Oq=Qe(zOe),JE,Rq;function qOe(){if(Rq)return JE;Rq=1,ll();var n=_n();return JE=n("Array","entries"),JE}var ZE,Dq;function UOe(){if(Dq)return ZE;Dq=1;var n=qOe();return ZE=n,ZE}var eT,Aq;function WOe(){if(Aq)return eT;Aq=1,cl();var n=ol(),e=Zn(),t=tn(),r=UOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return eT=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},eT}var tT,Nq;function HOe(){return Nq||(Nq=1,tT=WOe()),tT}var YOe=HOe(),GOe=Qe(YOe),nT,Lq;function VOe(){return Lq||(Lq=1,nT=cJ()),nT}var KOe=VOe(),tD=Qe(KOe);const tr=[];for(let n=0;n<256;++n)tr.push((n+256).toString(16).slice(1));function XOe(n,e=0){return(tr[n[e+0]]+tr[n[e+1]]+tr[n[e+2]]+tr[n[e+3]]+"-"+tr[n[e+4]]+tr[n[e+5]]+"-"+tr[n[e+6]]+tr[n[e+7]]+"-"+tr[n[e+8]]+tr[n[e+9]]+"-"+tr[n[e+10]]+tr[n[e+11]]+tr[n[e+12]]+tr[n[e+13]]+tr[n[e+14]]+tr[n[e+15]]).toLowerCase()}let rT;const QOe=new Uint8Array(16);function JOe(){if(!rT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rT=crypto.getRandomValues.bind(crypto)}return rT(QOe)}const ZOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Fq={randomUUID:ZOe};function eRe(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??JOe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XOe(r)}function lc(n,e,t){return Fq.randomUUID&&!n?Fq.randomUUID():eRe(n)}function $q(n,e){var t=zn(n);if(Vy){var r=Vy(n);e&&(r=ht(r).call(r,function(i){return Ox(n,i).enumerable})),t.push.apply(t,r)}return t}function jq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Re(t=$q(Object(i),!0)).call(t,function(s){hn(n,s,i[s])}):Ky?lJ(n,Ky(i)):Re(r=$q(Object(i))).call(r,function(s){tD(n,s,Ox(i,s))})}return n}function tRe(n){return new rRe(n)}class nRe{constructor(e,t,r){var i,s,o;hn(this,"_source",void 0),hn(this,"_transformers",void 0),hn(this,"_target",void 0),hn(this,"_listeners",{add:ce(i=this._add).call(i,this),remove:ce(s=this._remove).call(s,this),update:ce(o=this._update).call(o,this)}),this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var t;return Dx(t=this._transformers).call(t,(r,i)=>i(r),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class rRe{constructor(e){hn(this,"_source",void 0),hn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(t=>ht(t).call(t,e)),this}map(e){return this._transformers.push(t=>Lt(t).call(t,e)),this}flatMap(e){return this._transformers.push(t=>CIe(t).call(t,e)),this}to(e){return new nRe(this._source,this._transformers,e)}}function Bq(n){return typeof n=="string"||typeof n=="number"}class nD{constructor(e){hn(this,"delay",void 0),hn(this,"max",void 0),hn(this,"_queue",[]),hn(this,"_timeout",null),hn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new nD(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Jr(()=>{this.flush()},this.delay))}flush(){var e,t;Re(e=Ir(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Xy{constructor(){hn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),hn(this,"subscribe",Xy.prototype.on),hn(this,"unsubscribe",Xy.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");Re(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=ht(r=this._subscribers[e]).call(r,i=>i!==t)}}class Bl{constructor(e){hn(this,"_pairs",void 0),this._pairs=e}*[Lu](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=gg(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new xJ(this._pairs)}toIdSet(){return new ac(this.toIdArray())}toItemSet(){return new ac(this.toItemArray())}cache(){return new Bl([...this._pairs])}distinct(e){const t=new ac;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new Bl({*[Lu](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Bl({*[Lu](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=OE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const t=OE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new Bl({[Lu]:()=>{var t;return OE(In(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,l]=i;return e(o,l,s,a)}))}})}}function iRe(n,e){return n[e]==null&&(n[e]=lc()),n}class rD extends Xy{get idProp(){return this._idProp}constructor(e,t){super(),hn(this,"flush",void 0),hn(this,"length",void 0),hn(this,"_options",void 0),hn(this,"_data",void 0),hn(this,"_idProp",void 0),hn(this,"_queue",null),e&&!St(e)&&(t=e,e=[]),this._options=t||{},this._data=new xJ,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=nD.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(St(e)){const s=Lt(e).call(e,o=>o[this._idProp]);if(eD(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=tl({},this._data.get(u)),f=this._updateItem(h);i.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);r.push(h)}};if(St(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const c={items:i,oldData:s,data:o};this._trigger("update",c,t)}return En(r).call(r,i)}updateOnly(e,t){var r;St(e)||(e=[e]);const i=Lt(r=Lt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],c=JQ(o,a);return this._data.set(l,c),{id:l,oldData:o,updatedData:c}});if(i.length){const s={items:Lt(i).call(i,o=>o.id),oldData:Lt(i).call(i,o=>o.oldData),data:Lt(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;Bq(e)?(r=e,s=t):St(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&ht(s),l=[];let c,u,h;if(r!=null)c=this._data.get(r),c&&a&&!a(c)&&(c=void 0);else if(i!=null)for(let f=0,m=i.length;f<m;f++)c=this._data.get(i[f]),c!=null&&(!a||a(c))&&l.push(c);else{var d;u=[...cu(d=this._data).call(d)];for(let f=0,m=u.length;f<m;f++)h=u[f],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&c!=null)c=this._filterFields(c,f);else for(let m=0,g=l.length;m<g;m++)l[m]=this._filterFields(l[m],f)}if(o=="Object"){const f={};for(let m=0,g=l.length;m<g;m++){const v=l[m],y=v[this._idProp];f[y]=v}return f}else return r!=null?c??null:l}getIds(e){const t=this._data,r=e&&ht(e),i=e&&e.order,s=[...cu(t).call(t)],o=[];if(r)if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&r(h)&&a.push(h)}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&r(u)&&o.push(u[this._idProp])}else if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&ht(t),i=this._data,s=[...cu(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!r||r(c))&&e(c,l)}}map(e,t){const r=t&&ht(t),i=[],s=this._data,o=[...cu(s).call(s)];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!r||r(u))&&i.push(e(u,c))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&Dx(r=St(t)?t:zn(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;In(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")In(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=St(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(r.push(c),i.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(Bq(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...cu(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of Oq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of Oq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...cu(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(i[d]==u){h=!0;break}!h&&u!==void 0&&(i[s]=u,s++)}return i}_addItem(e){const t=iRe(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Ur(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,jq(jq({},r),e)),t}stream(e){if(e){const r=this._data;return new Bl({*[Lu](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new Bl({[Lu]:ce(t=GOe(this._data)).call(t,this._data)})}}}function sRe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Re(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function oRe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof Re(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&sRe(n,e.getDataSet())}var aRe=ks(),Di=Qe(aRe);const Gr=typeof window<"u"&&window.moment||Di;var tv={exports:{}},rn={},nv={exports:{}},xl={},zq;function _J(){if(zq)return xl;zq=1;function n(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var r=/javascript\s*\:/img;function i(s,o){return r.test(o)?"":o}return xl.whiteList=n(),xl.getDefaultWhiteList=n,xl.onAttr=e,xl.onIgnoreAttr=t,xl.safeAttrValue=i,xl}var iT,qq;function SJ(){return qq||(qq=1,iT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),iT}var sT,Uq;function lRe(){if(Uq)return sT;Uq=1;var n=SJ();function e(t,r){t=n.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=n.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var m=n.trim(d.slice(0,f)),g=n.trim(d.slice(f+1));if(m){var v=r(o,l.length,m,g,d);v&&(l+=v+"; ")}}}o=a+1}for(;a<i;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return n.trim(l)}return sT=e,sT}var oT,Wq;function cRe(){if(Wq)return oT;Wq=1;var n=_J(),e=lRe();SJ();function t(s){return s==null}function r(s){var o={};for(var a in s)o[a]=s[a];return o}function i(s){s=r(s||{}),s.whiteList=s.whiteList||n.whiteList,s.onAttr=s.onAttr||n.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||n.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||n.safeAttrValue,this.options=s}return i.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,m,g,v,y){var b=l[g],w=!1;if(b===!0?w=b:typeof b=="function"?w=b(v):b instanceof RegExp&&(w=b.test(v)),w!==!0&&(w=!1),v=h(g,v),!!v){var S={position:m,sourcePosition:f,source:y,isWhite:w};if(w){var _=c(g,v,S);return t(_)?g+":"+v:_}else{var _=u(g,v,S);if(!t(_))return _}}});return d},oT=i,oT}var Hq;function KP(){return Hq||(Hq=1,function(n,e){var t=_J(),r=cRe();function i(o,a){var l=new r(a);return l.process(o)}e=n.exports=i,e.FilterCSS=r;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=n.exports)}(nv,nv.exports)),nv.exports}var aT,Yq;function iD(){return Yq||(Yq=1,aT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,t=e.exec(n);return t?t.index:-1}}),aT}var Gq;function kJ(){if(Gq)return rn;Gq=1;var n=KP().FilterCSS,e=KP().getDefaultWhiteList,t=iD();function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var i=new n;function s($,z,B){}function o($,z,B){}function a($,z,B){}function l($,z,B){}function c($){return $.replace(h,"&lt;").replace(d,"&gt;")}function u($,z,B,q){if(B=R(B),z==="href"||z==="src"){if(B=t.trim(B),B==="#")return"#";if(!(B.substr(0,7)==="http://"||B.substr(0,8)==="https://"||B.substr(0,7)==="mailto:"||B.substr(0,4)==="tel:"||B.substr(0,11)==="data:image/"||B.substr(0,6)==="ftp://"||B.substr(0,2)==="./"||B.substr(0,3)==="../"||B[0]==="#"||B[0]==="/"))return""}else if(z==="background"){if(b.lastIndex=0,b.test(B))return""}else if(z==="style"){if(w.lastIndex=0,w.test(B)||(S.lastIndex=0,S.test(B)&&(b.lastIndex=0,b.test(B))))return"";q!==!1&&(q=q||i,B=q.process(B))}return B=D(B),B}var h=/</g,d=/>/g,f=/"/g,m=/&quot;/g,g=/&#([a-zA-Z0-9]*);?/gim,v=/&colon;?/gim,y=/&newline;?/gim,b=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,S=/u\s*r\s*l\s*\(.*/gi;function _($){return $.replace(f,"&quot;")}function k($){return $.replace(m,'"')}function E($){return $.replace(g,function(B,q){return q[0]==="x"||q[0]==="X"?String.fromCharCode(parseInt(q.substr(1),16)):String.fromCharCode(parseInt(q,10))})}function C($){return $.replace(v,":").replace(y," ")}function O($){for(var z="",B=0,q=$.length;B<q;B++)z+=$.charCodeAt(B)<32?" ":$.charAt(B);return t.trim(z)}function R($){return $=k($),$=E($),$=C($),$=O($),$}function D($){return $=_($),$=c($),$}function F(){return""}function N($,z){typeof z!="function"&&(z=function(){});var B=!Array.isArray($);function q(K){return B?!0:t.indexOf($,K)!==-1}var U=[],V=!1;return{onIgnoreTag:function(K,X,L){if(q(K))if(L.isClosing){var Y="[/removed]",Q=L.position+Y.length;return U.push([V!==!1?V:L.position,Q]),V=!1,Y}else return V||(V=L.position),"[removed]";else return z(K,X,L)},remove:function(K){var X="",L=0;return t.forEach(U,function(Y){X+=K.slice(L,Y[0]),L=Y[1]}),X+=K.slice(L),X}}}function W($){for(var z="",B=0;B<$.length;){var q=$.indexOf("<!--",B);if(q===-1){z+=$.slice(B);break}z+=$.slice(B,q);var U=$.indexOf("-->",q);if(U===-1)break;B=U+3}return z}function j($){var z=$.split("");return z=z.filter(function(B){var q=B.charCodeAt(0);return q===127?!1:q<=31?q===10||q===13:!0}),z.join("")}return rn.whiteList=r(),rn.getDefaultWhiteList=r,rn.onTag=s,rn.onIgnoreTag=o,rn.onTagAttr=a,rn.onIgnoreTagAttr=l,rn.safeAttrValue=u,rn.escapeHtml=c,rn.escapeQuote=_,rn.unescapeQuote=k,rn.escapeHtmlEntities=E,rn.escapeDangerHtml5Entities=C,rn.clearNonPrintableCharacter=O,rn.friendlyAttrValue=R,rn.escapeAttrValue=D,rn.onIgnoreTagStripAll=F,rn.StripTagBody=N,rn.stripCommentTag=W,rn.stripBlankChar=j,rn.attributeWrapSign='"',rn.cssFilter=i,rn.getDefaultCSSWhiteList=e,rn}var rv={},Vq;function CJ(){if(Vq)return rv;Vq=1;var n=iD();function e(h){var d=n.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=n.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function r(h,d,f){var m="",g=0,v=!1,y=!1,b=0,w=h.length,S="",_="";e:for(b=0;b<w;b++){var k=h.charAt(b);if(v===!1){if(k==="<"){v=b;continue}}else if(y===!1){if(k==="<"){m+=f(h.slice(g,b)),v=b,g=b;continue}if(k===">"||b===w-1){m+=f(h.slice(g,v)),_=h.slice(v,b+1),S=e(_),m+=d(v,m.length,S,_,t(_)),g=b+1,v=!1;continue}if(k==='"'||k==="'")for(var E=1,C=h.charAt(b-E);C.trim()===""||C==="=";){if(C==="="){y=k;continue e}C=h.charAt(b-++E)}}else if(k===y){y=!1;continue}}return g<w&&(m+=f(h.substr(g))),m}var i=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,m=0,g=[],v=!1,y=h.length;function b(E,C){if(E=n.trim(E),E=E.replace(i,"").toLowerCase(),!(E.length<1)){var O=d(E,C||"");O&&g.push(O)}}for(var w=0;w<y;w++){var S=h.charAt(w),_,k;if(v===!1&&S==="="){v=h.slice(f,w),f=w+1,m=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,w+1);continue}if(v!==!1&&w===m){if(k=h.indexOf(S,w+1),k===-1)break;_=n.trim(h.slice(m+1,k)),b(v,_),v=!1,w=k,f=w+1;continue}if(/\s|\n|\t/.test(S))if(h=h.replace(/\s|\n|\t/g," "),v===!1)if(k=o(h,w),k===-1){_=n.trim(h.slice(f,w)),b(_),v=!1,f=w+1;continue}else{w=k-1;continue}else if(k=l(h,w-1),k===-1){_=n.trim(h.slice(f,w)),_=u(_),b(v,_),v=!1,f=w+1;continue}else continue}return f<h.length&&(v===!1?b(h.slice(f)):b(v,u(n.trim(h.slice(f))))),n.trim(g.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return rv.parseTag=r,rv.parseAttr=s,rv}var lT,Kq;function uRe(){if(Kq)return lT;Kq=1;var n=KP().FilterCSS,e=kJ(),t=CJ(),r=t.parseTag,i=t.parseAttr,s=iD();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(m){return m.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,m=f.whiteList,g=f.onTag,v=f.onIgnoreTag,y=f.onTagAttr,b=f.onIgnoreTagAttr,w=f.safeAttrValue,S=f.escapeHtml,_=d.attributeWrapSign,k=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;f.stripIgnoreTagBody&&(E=e.StripTagBody(f.stripIgnoreTagBody,v),v=E.onIgnoreTag);var C=r(h,function(O,R,D,F,N){var W={sourcePosition:O,position:R,isClosing:N,isWhite:Object.prototype.hasOwnProperty.call(m,D)},j=g(D,F,W);if(!o(j))return j;if(W.isWhite){if(W.isClosing)return"</"+D+">";var $=a(F),z=m[D],B=i($.html,function(q,U){var V=s.indexOf(z,q)!==-1,K=y(D,q,U,V);return o(K)?V?(U=w(D,q,U,k),U?q+"="+_+U+_:q):(K=b(D,q,U,V),o(K)?void 0:K):K});return F="<"+D,B&&(F+=" "+B),$.closing&&(F+=" /"),F+=">",F}else return j=v(D,F,W),o(j)?S(F):j},S);return E&&(C=E.remove(C)),C},lT=u,lT}var Xq;function hRe(){return Xq||(Xq=1,function(n,e){var t=kJ(),r=CJ(),i=uRe();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.filterXSS=s,e.FilterXSS=i,function(){for(var a in t)e[a]=t[a];for(var l in r)e[l]=r[l]}(),typeof window<"u"&&(window.filterXSS=n.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=n.exports)}(tv,tv.exports)),tv.exports}var dRe=hRe(),fRe=Qe(dRe);function Qq(n,e){var t=zn(n);if(Vy){var r=Vy(n);e&&(r=ht(r).call(r,function(i){return Ox(n,i).enumerable})),t.push.apply(t,r)}return t}function Jq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Re(t=Qq(Object(i),!0)).call(t,function(s){hn(n,s,i[s])}):Ky?lJ(n,Ky(i)):Re(r=Qq(Object(i))).call(r,function(s){tD(n,s,Ox(i,s))})}return n}function Tc(n){var e;if(!n)return!1;let t=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return t?oRe(t,n):!1}const cT=/^\/?Date\((-?\d+)/i,pRe=/^\d+$/;function sD(n,e){let t;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return di(n)&&!isNaN(Date.parse(n))?Di(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return sD(n,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+qf(n)+" to type "+e):r}case"Moment":if(pp(n))return Di(n);if(n instanceof Date)return Di(n.valueOf());if(Di.isMoment(n))return Di(n);if(di(n))return t=cT.exec(n),t?Di(Number(t[1])):(t=pRe.exec(n),Di(t?Number(n):n));throw new TypeError("Cannot convert object of type "+qf(n)+" to type "+e);case"ISODate":if(pp(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Di.isMoment(n))return n.toDate().toISOString();if(di(n))return t=cT.exec(n),t?new Date(Number(t[1])).toISOString():Di(n).format();throw new Error("Cannot convert object of type "+qf(n)+" to type ISODate");case"ASPDate":if(pp(n))return"/Date("+n+")/";if(n instanceof Date||Di.isMoment(n))return"/Date("+n.valueOf()+")/";if(di(n)){t=cT.exec(n);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(n).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+qf(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Qy(n){var e,t,r,i,s,o;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const l=n._idProp,c=new rD({fieldId:l}),u=Lt(e=tRe(n)).call(e,h=>{var d;return Dx(d=zn(h)).call(d,(f,m)=>(f[m]=sD(h[m],a[m]),f),{})}).to(c);return u.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:ce(t=Re(c)).call(t,c),get:ce(r=c.get).call(r,c),getIds:ce(i=c.getIds).call(i,c),off:ce(s=c.off).call(s,c),on:ce(o=c.on).call(o,c),get length(){return c.length},idProp:l,type:a,rawDS:n,coercedDS:c,dispose:()=>u.stop()}}const EJ=n=>{const e=new fRe.FilterXSS(n);return t=>typeof t=="string"?e.process(t):t},mRe=n=>n;let XP=EJ();const gRe=n=>{n&&(n.disabled===!0?(XP=mRe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(XP=EJ(n.filterOptions)))},H=Jq(Jq({},ePe),{},{convert:sD,setupXSSProtection:gRe});tD(H,"xss",{get:function(){return XP}});var Zq={},uT,eU;function vRe(){if(eU)return uT;eU=1;var n=wn(),e=kt(),t=Mt(),r=Ji(),i=SQ().trim,s=AR(),o=t("".charAt),a=n.parseFloat,l=n.Symbol,c=l&&l.iterator,u=1/a(s+"-0")!==-1/0||c&&!e(function(){a(Object(c))});return uT=u?function(d){var f=i(r(d)),m=a(f);return m===0&&o(f,0)==="-"?-0:m}:a,uT}var tU;function yRe(){if(tU)return Zq;tU=1;var n=Ye(),e=vRe();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Zq}var hT,nU;function bRe(){if(nU)return hT;nU=1,yRe();var n=Xt();return hT=n.parseFloat,hT}var dT,rU;function xRe(){if(rU)return dT;rU=1;var n=bRe();return dT=n,dT}var fT,iU;function wRe(){return iU||(iU=1,fT=xRe()),fT}var _Re=wRe(),Jy=Qe(_Re);class ul{constructor(){this.options=null,this.props=null}setOptions(e){e&&H.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var sU={},oU;function SRe(){if(oU)return sU;oU=1;var n=Ye(),e=kQ();return n({target:"String",proto:!0},{repeat:e}),sU}var pT,aU;function kRe(){if(aU)return pT;aU=1,SRe();var n=_n();return pT=n("String","repeat"),pT}var mT,lU;function CRe(){if(lU)return mT;lU=1;var n=tn(),e=kRe(),t=String.prototype;return mT=function(r){var i=r.repeat;return typeof r=="string"||r===t||n(t,r)&&i===t.repeat?e:i},mT}var gT,cU;function ERe(){if(cU)return gT;cU=1;var n=CRe();return gT=n,gT}var vT,uU;function TRe(){return uU||(uU=1,vT=ERe()),vT}var MRe=TRe(),pu=Qe(MRe);function oD(n,e,t){if(t&&!St(t))return oD(n,e,[t]);if(e.hiddenDates=[],t&&St(t)==!0){var r;for(let i=0;i<t.length;i++)if(pu(t[i])===void 0){const s={};s.start=n(t[i].start).toDate().valueOf(),s.end=n(t[i].end).toDate().valueOf(),e.hiddenDates.push(s)}In(r=e.hiddenDates).call(r,(i,s)=>i.start-s.start)}}function Zy(n,e,t){if(t&&!St(t))return Zy(n,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){oD(n,e,t);const r=n(e.range.start),i=n(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(pu(t[h])!==void 0){let d=n(t[h].start),f=n(t[h].end);if(d._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(t[h].start));if(f._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(t[h].end));if(f-d>=4*o){let g=0,v=i.clone();switch(pu(t[h])){case"daily":d.day()!=f.day()&&(g=1),d=d.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7,"days"),f=f.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7-g,"days"),v.add(1,"weeks");break;case"weekly":{const y=f.diff(d,"days"),b=d.day();d=d.date(r.date()).month(r.month()).year(r.year()),f=d.clone(),d=d.day(b).subtract(1,"weeks"),f=f.day(b).add(y,"days").subtract(1,"weeks"),v.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(g=1),d=d.month(r.month()).year(r.year()).subtract(1,"months"),f=f.month(r.month()).year(r.year()).subtract(1,"months").add(g,"months"),v.add(1,"months");break;case"yearly":d.year()!=f.year()&&(g=1),d=d.year(r.year()).subtract(1,"years"),f=f.year(r.year()).subtract(1,"years").add(g,"years"),v.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",pu(t[h]));return}for(;d<v;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),pu(t[h])){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",pu(t[h]));return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}PRe(e);const a=tb(e.range.start,e.hiddenDates),l=tb(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function PRe(n){var e;const t=n.hiddenDates,r=[];for(var i=0;i<t.length;i++)for(let s=0;s<t.length;s++)i!=s&&t[s].remove!=!0&&t[i].remove!=!0&&(t[s].start>=t[i].start&&t[s].end<=t[i].end?t[s].remove=!0:t[s].start>=t[i].start&&t[s].start<=t[i].end?(t[i].end=t[s].end,t[s].remove=!0):t[s].end>=t[i].start&&t[s].end<=t[i].end&&(t[i].start=t[s].start,t[s].remove=!0));for(i=0;i<t.length;i++)t[i].remove!==!0&&r.push(t[i]);n.hiddenDates=r,In(e=n.hiddenDates).call(e,(s,o)=>s.start-o.start)}function IRe(n,e,t){let r=!1;const i=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(i>=a&&i<s){r=!0;break}}if(r==!0&&i<e._end.valueOf()&&i!=t){const o=n(t),a=n(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function hU(n,e,t){let r;if(n.body.hiddenDates.length==0)return r=n.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const i=tb(e,n.body.hiddenDates);i.hidden==!0&&(e=i.startDate);const s=gp(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){r=n.range.conversion(t,s);const o=ORe(n.body.hiddenDates,e,r.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+o,-(r.offset-e.valueOf())*r.scale}else if(e>n.range.end){const o={start:n.range.start,end:e};return e=fU(n.options.moment,n.body.hiddenDates,o,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}else return e=fU(n.options.moment,n.body.hiddenDates,n.range,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}}function dU(n,e,t){if(n.body.hiddenDates.length==0){const r=n.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=gp(n.body.hiddenDates,n.range.start,n.range.end),s=(n.range.end-n.range.start-r)*e/t,o=RRe(n.body.hiddenDates,n.range,s);return new Date(o+s+n.range.start)}}function gp(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<t&&(r+=o-s)}return r}function ORe(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<=t&&(r+=o-s)}return r}function fU(n,e,t,r){return r=n(r).toDate().valueOf(),r-=eb(n,e,t,r),r}function eb(n,e,t,r){let i=0;r=n(r).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&r>=a&&(i+=a-o)}return i}function RRe(n,e,t){let r=0,i=0,s=e.start;for(let o=0;o<n.length;o++){const a=n[o].start,l=n[o].end;if(a>=e.start&&l<e.end){if(i+=a-s,s=l,i>=t)break;r+=l-a}}return r}function Tl(n,e,t,r){const i=tb(e,n);return i.hidden==!0?t<0?r==!0?i.startDate-(i.endDate-e)-1:i.startDate-1:r==!0?i.endDate+(e-i.startDate)+1:i.endDate+1:e}function tb(n,e){for(let i=0;i<e.length;i++){var t=e[i].start,r=e[i].end;if(n>=t&&n<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}class aD extends ul{constructor(e,t){var r,i,s,o,a,l,c;super();const u=Gr().hours(0).minutes(0).seconds(0).milliseconds(0),h=u.clone().add(-3,"days").valueOf(),d=u.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=h,this.end=d):(this.start=t.start||h,this.end=t.end||d),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:Gr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=H.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",ce(r=this._onDragStart).call(r,this)),this.body.emitter.on("panmove",ce(i=this._onDrag).call(i,this)),this.body.emitter.on("panend",ce(s=this._onDragEnd).call(s,this)),this.body.emitter.on("mousewheel",ce(o=this._onMouseWheel).call(o,this)),this.body.emitter.on("touch",ce(a=this._onTouch).call(a,this)),this.body.emitter.on("pinch",ce(l=this._onPinch).call(l,this)),this.body.dom.rollingModeBtn.addEventListener("click",ce(c=this.startRolling).call(c,this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];H.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const i=H.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=i-r*s,a=i+r*(1-s),l={animation:!1};e.setRange(o,a,l),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Jr(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,i,s){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const o=this,a=e!=null?H.convert(e,"Date").valueOf():null,l=t!=null?H.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const h=this.start,d=this.end,f=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,m=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",g=H.easingFunctions[m];if(!g){var c;throw new Error(En(c="Unknown easing function ".concat(Ur(m),". Choose from: ")).call(c,zn(H.easingFunctions).join(", ")))}const v=ui();let y=!1;const b=()=>{if(!o.props.touch.dragging){const S=ui()-v,_=g(S/f),k=S>f,E=k||a===null?a:h+(a-h)*_,C=k||l===null?l:d+(l-d)*_;u=o._applyRange(E,C),Zy(o.options.moment,o.body,o.options.hiddenDates),y=y||u;const O={start:new Date(o.start),end:new Date(o.end),byUser:r.byUser,event:r.event};if(s&&s(_,u,k),u&&o.body.emitter.emit("rangechange",O),k){if(y&&(o.body.emitter.emit("rangechanged",O),i))return i()}else o.animationTimer=Jr(b,20)}};return b()}else{var u=this._applyRange(a,l);if(Zy(this.options.moment,this.body,this.options.hiddenDates),u){const h={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(o.timeoutID),o.timeoutID=Jr(()=>{o.body.emitter.emit("rangechanged",h)},200),i)return i()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?H.convert(e,"Date").valueOf():this.start,i=t!=null?H.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?H.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?H.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(r)||r===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(i)||i===null)throw new Error('Invalid end "'.concat(t,'"'));if(i<r&&(i=r),o!==null&&r<o&&(a=o-r,r+=a,i+=a,s!=null&&i>s&&(i=s)),s!==null&&i>s&&(a=i-s,r-=a,i-=a,o!=null&&r<o&&(r=o)),this.options.zoomMin!==null){let c=Jy(this.options.zoomMin);c<0&&(c=0),i-r<c&&(this.end-this.start===c&&r>=this.start-.5&&i<=this.end?(r=this.start,i=this.end):(a=c-(i-r),r-=a/2,i+=a/2))}if(this.options.zoomMax!==null){let c=Jy(this.options.zoomMax);c<0&&(c=0),i-r>c&&(this.end-this.start===c&&r<this.start&&i>this.end?(r=this.start,i=this.end):(a=i-r-c,r+=a/2,i-=a/2))}const l=this.start!=r||this.end!=i;return!(r>=this.start&&r<=this.end||i>=this.start&&i<=this.end)&&!(this.start>=r&&this.start<=i||this.end>=r&&this.end<=i)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return aD.conversion(this.start,this.end,e,t)}static conversion(e,t,r,i){return i===void 0&&(i=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-i)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;pU(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let i=this.props.touch.end-this.props.touch.start;const s=gp(this.body.hiddenDates,this.start,this.end);i-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=r/o*i:a=-r/o*i;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Tl(this.body.hiddenDates,l,this.previousDelta-r,!0),h=Tl(this.body.hiddenDates,c,this.previousDelta-r,!0);if(u!=l||h!=c){this.deltaDifference+=r,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=r,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let i;t<0?i=1-t/r:i=1/(1+t/r);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(i,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,H.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;H.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,i=gp(this.body.hiddenDates,this.start,this.end),s=eb(this.options.moment,this.body.hiddenDates,this,r),o=i-s;let a=r-s+(this.props.touch.start-(r-s))*t,l=r+o+(this.props.touch.end-(r+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Tl(this.body.hiddenDates,a,1-t,!0),u=Tl(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),i=this.options.rtl?t-r.left:r.right-t,s=this.body.util.toTime(i);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(pU(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const i=this.body.domProps.center.height;return t=this.conversion(i),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,i){t==null&&(t=(this.start+this.end)/2);const s=gp(this.body.hiddenDates,this.start,this.end),o=eb(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const u=Tl(this.body.hiddenDates,l,r,!0),h=Tl(this.body.hiddenDates,c,-r,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:i};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,i=this.end+t*e;this.start=r,this.end=i}moveTo(e){const r=(this.start+this.end)/2-e,i=this.start-r,s=this.end-r,o={animation:!1,byUser:!0,event:null};this.setRange(i,s,o)}destroy(){this.stopRolling()}}function pU(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var yT,mU;function DRe(){if(mU)return yT;mU=1,TQ();var n=Xt();return yT=n.setInterval,yT}var bT,gU;function ARe(){return gU||(gU=1,bT=DRe()),bT}var NRe=ARe(),LRe=Qe(NRe),wf=null;function QP(n,e){var t=e||{preventDefault:!1};if(n.Manager){var r=n,i=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),QP(new r(c,h),h)};return r.assign(i,r),i.Manager=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),QP(new r.Manager(c,h),h)},i}var s=Object.create(n),o=n.element;o.hammer||(o.hammer=[]),o.hammer.push(s),n.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(wf=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],n.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(n.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){wf=u.target,n.emit(c,u)},s.destroy=function(){var c=n.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete n.element.hammer,s._handlers={},n.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=wf;for(var d=wf.isConnected?wf:c.target;d&&!u;){var f=d.hammer;if(f){for(var m,g=0;g<f.length;g++)if(m=f[g]._handlers[c.type],m)for(var v=0;v<m.length&&!u;v++)m[v](c)}d=d.parentNode}}return s}function FRe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let JP;if(typeof window<"u"){const n=window.Hammer||UR;JP=QP(n,{preventDefault:"mouse"})}else JP=function(){return FRe()};var Pr=JP;function TJ(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function $Re(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}function jRe(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class Mc{constructor(e,t,r,i,s){this.moment=s&&s.moment||Gr,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,St(i)?this.hiddenDates=i:i!=null?this.hiddenDates=[i]:this.hiddenDates=[],this.format=Mc.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=H.deepExtend({},Mc.FORMAT);this.format=H.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):ui(),this._end=t!=null?this.moment(t.valueOf()):ui(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Tl(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,IRe(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,i=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),i*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),i*2>e&&(this.scale="day",this.step=2),i>e&&(this.scale="day",this.step=1),i/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){let i=Gr(e);if(t=="year"){const s=i.year()+Math.round(i.month()/12);i=i.year(Math.round(s/r)*r).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")i.date()>15?i=i.date(1).add(1,"month"):i=i.date(1),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")i.weekday()>2?i=i.weekday(0).add(1,"week"):i=i.weekday(0),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/24)*24);break;default:i=i.hours(Math.round(i.hours()/12)*12);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/12)*12);break;default:i=i.hours(Math.round(i.hours()/6)*6);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(r){case 4:i=i.minutes(Math.round(i.minutes()/60)*60);break;default:i=i.minutes(Math.round(i.minutes()/30)*30);break}i=i.seconds(0).milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:i=i.minutes(Math.round(i.minutes()/5)*5).seconds(0);break;case 5:i=i.seconds(Math.round(i.seconds()/60)*60);break;default:i=i.seconds(Math.round(i.seconds()/30)*30);break}i=i.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:i=i.seconds(Math.round(i.seconds()/5)*5).milliseconds(0);break;case 5:i=i.milliseconds(Math.round(i.milliseconds()/1e3)*1e3);break;default:i=i.milliseconds(Math.round(i.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=r>5?r/2:1;i=i.milliseconds(Math.round(i.milliseconds()/s)*s)}return i}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){var e;const t=this.moment,r=this.moment(this.current),i=r.locale?r.locale("en"):r.lang("en"),s=this.step,o=[];function a(d){return d/s%2==0?" vis-even":" vis-odd"}function l(d){return d.isSame(ui(),"day")?" vis-today":d.isSame(t().add(1,"day"),"day")?" vis-tomorrow":d.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function c(d){return d.isSame(ui(),"week")?" vis-current-week":""}function u(d){return d.isSame(ui(),"month")?" vis-current-month":""}function h(d){return d.isSame(ui(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(i)),o.push(a(i.milliseconds()));break;case"second":o.push(l(i)),o.push(a(i.seconds()));break;case"minute":o.push(l(i)),o.push(a(i.minutes()));break;case"hour":o.push(En(e="vis-h".concat(i.hours())).call(e,this.step==4?"-h"+(i.hours()+4):"")),o.push(l(i)),o.push(a(i.hours()));break;case"weekday":o.push("vis-".concat(i.format("dddd").toLowerCase())),o.push(l(i)),o.push(c(i)),o.push(a(i.date()));break;case"day":o.push("vis-day".concat(i.date())),o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(l(i)),o.push(u(i)),o.push(this.step<=2?l(i):""),o.push(this.step<=2?"vis-".concat(i.format("dddd").toLowerCase()):""),o.push(a(i.date()-1));break;case"week":o.push("vis-week".concat(i.format("w"))),o.push(c(i)),o.push(a(i.week()));break;case"month":o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(u(i)),o.push(a(i.month()));break;case"year":o.push("vis-year".concat(i.year())),o.push(h(i)),o.push(a(i.year()));break}return ht(o).call(o,String).join(" ")}}Mc.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class ZP extends ul{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:H.extend({},Mc.FORMAT),moment:Gr,timeAxis:null},this.options=H.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(H.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),H.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof Gr.locale=="function"?Gr.locale(e.locale):Gr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,i=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==i;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height="".concat(this.props.height,"px"),this._repaintLabels(),l?i.insertBefore(t,l):i.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(r,c):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=H.convert(this.body.range.start,"Number"),r=H.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=i-eb(this.options.moment,this.body.hiddenDates,this.body.range,i);s-=this.body.util.toTime(0).valueOf();const o=new Mc(new Date(t),new Date(r),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,m=0,g,v,y,b=0;const w=1e3;let S;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&b<w;){switch(b++,d=o.isMajor(),S=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),g=m,m=h-u,o.scale){case"week":f=!0;break;default:f=m>=g*.4;break}if(this.options.showMinorLabels&&f){var _=this._repaintMinorText(u,o.getLabelMinor(l),e,S);_.style.width="".concat(m,"px")}d&&this.options.showMajorLabels?(u>0&&(y==null&&(y=u),_=this._repaintMajorText(u,o.getLabelMajor(l),e,S)),v=this._repaintMajorLine(u,m,e,S)):f?v=this._repaintMinorLine(u,m,e,S):v&&(v.style.width="".concat(hi(v.style.width)+m,"px"))}if(b===w&&!vU&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(w," lines.")),vU=!0),this.options.showMajorLabels){const k=this.body.util.toTime(0),E=o.getLabelMajor(k),C=E.length*(this.props.majorCharWidth||10)+10;(y==null||C<y)&&this._repaintMajorText(0,E,e,S)}Re(H).call(H,this.dom.redundant,k=>{for(;k.length;){const E=k.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,t,r,i){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=H.xss(t);let o=r=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className="vis-text vis-minor ".concat(i),s}_repaintMajorText(e,t,r,i){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=H.xss(t),s.className="vis-text vis-major ".concat(i);let o=r=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,r){var i;const s=this.options.rtl?t*-1:t;e.style.transform=En(i="translate(".concat(s,"px, ")).call(i,r,"px)")}_repaintMinorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.minorLineHeight,"px");let l=r=="top"?a.majorLabelHeight:this.body.domProps.top.height,c=e-a.minorLineWidth/2;return this._setXY(o,c,l),o.className=En(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(s,i),o}_repaintMajorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.majorLineHeight,"px");let l=r=="top"?0:this.body.domProps.top.height,c=e-a.majorLineWidth/2;return this._setXY(o,c,l),o.className=En(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(s,i),o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var vU=!1;function BRe(n){var e=window,t={},r={keydown:{},keyup:{}},i={},s;for(s=97;s<=122;s++)i[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)i[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)i[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)i["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)i["num"+s]={code:96+s,shift:!1};i["num*"]={code:106,shift:!1},i["num+"]={code:107,shift:!1},i["num-"]={code:109,shift:!1},i["num/"]={code:111,shift:!1},i["num."]={code:110,shift:!1},i.left={code:37,shift:!1},i.up={code:38,shift:!1},i.right={code:39,shift:!1},i.down={code:40,shift:!1},i.space={code:32,shift:!1},i.enter={code:13,shift:!1},i.shift={code:16,shift:void 0},i.esc={code:27,shift:!1},i.backspace={code:8,shift:!1},i.tab={code:9,shift:!1},i.ctrl={code:17,shift:!1},i.alt={code:18,shift:!1},i.delete={code:46,shift:!1},i.pageup={code:33,shift:!1},i.pagedown={code:34,shift:!1},i["="]={code:187,shift:!1},i["-"]={code:189,shift:!1},i["]"]={code:221,shift:!1},i["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(r[u][c.keyCode]!==void 0)for(var h=r[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);r[h][i[c].code]===void 0&&(r[h][i[c].code]=[]),r[h][i[c].code].push({fn:u,shift:i[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in i)i.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in i)if(i.hasOwnProperty(u)){if(c.shiftKey==!0&&i[u].shift==!0&&c.keyCode==i[u].code)return u;if(c.shiftKey==!1&&i[u].shift==!1&&c.keyCode==i[u].code)return u;if(c.keyCode==i[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=r[h][i[c].code];if(f!==void 0)for(var m=0;m<f.length;m++)f[m].fn==u&&f[m].shift==i[c].shift||d.push(r[h][i[c].code][m]);r[h][i[c].code]=d}else r[h][i[c].code]=[]},t.reset=function(){r={keydown:{},keyup:{}}},t.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}function Wi(n){var e,t;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Pr(this.dom.overlay),this.hammer.on("tap",ce(e=this._onTapOverlay).call(e,this));var r=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Re(i).call(i,function(s){r.hammer.on(s,function(o){o.stopPropagation()})}),document&&document.body&&(this.onClick=function(s){zRe(s.target,n)||r.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=BRe(),this.escListener=ce(t=this.deactivate).call(t,this)}NR(Wi.prototype);Wi.current=null;Wi.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Wi.prototype.activate=function(){var n;Wi.current&&Wi.current.deactivate(),Wi.current=this,this.active=!0,this.dom.overlay.style.display="none",H.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),ce(n=this.keycharm).call(n,"esc",this.escListener)};Wi.prototype.deactivate=function(){Wi.current===this&&(Wi.current=null),this.active=!1,this.dom.overlay.style.display="",H.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Wi.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function zRe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const lD={current:"current",time:"time",deleteSelected:"Delete selected"},qRe=lD,URe=lD,cD={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},WRe=cD,HRe=cD,uD={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},YRe=uD,GRe=uD,hD={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},VRe=hD,KRe=hD,kg={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},XRe=kg,QRe=kg,JRe=kg,ZRe=kg,MJ={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},eDe=MJ,PJ={current:"",time:"",deleteSelected:" "},tDe=PJ,IJ={current:"",time:"",deleteSelected:" "},nDe=IJ,OJ={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},rDe=OJ,dD={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},iDe=dD,sDe=dD,RJ={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},oDe=RJ,DJ={current:"",time:"",deleteSelected:""},aDe=DJ,AJ={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},lDe=AJ,Ax={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},cDe=Ax,uDe=Ax,hDe=Ax,NJ={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},dDe=NJ,id={en:lD,en_EN:qRe,en_US:URe,it:cD,it_IT:WRe,it_CH:HRe,nl:uD,nl_NL:YRe,nl_BE:GRe,de:hD,de_DE:VRe,de_CH:KRe,fr:kg,fr_FR:XRe,fr_CA:QRe,fr_BE:JRe,fr_CH:ZRe,es:MJ,es_ES:eDe,uk:PJ,uk_UA:tDe,ru:IJ,ru_RU:nDe,pl:OJ,pl_PL:rDe,pt:dD,pt_BR:iDe,pt_PT:sDe,tr:RJ,tr_TR:oDe,ja:DJ,ja_JP:aDe,lt:NJ,lt_LT:dDe,sv:AJ,sv_SE:lDe,nb:Ax,nn:uDe,nb_NO:cDe,nn_NO:hDe};class LJ extends ul{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={moment:Gr,locales:id,locale:"en",id:void 0,title:void 0},this.options=H.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=H.extend({},id,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Re(r=zn(this.options.locales)).call(r,s=>{this.options.locales[s]=H.extend({},i,this.options.locales[s])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&H.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,t,r;const i=document.createElement("div");i["custom-time"]=this,i.className="vis-custom-time ".concat(this.options.id||""),i.style.position="absolute",i.style.top="0px",i.style.height="100%",this.bar=i;const s=document.createElement("div");s.style.position="relative",s.style.top="0px",this.options.rtl?s.style.right="-10px":s.style.left="-10px",s.style.height="100%",s.style.width="20px";function o(a){this.body.range._onMouseWheel(a)}s.addEventListener?(s.addEventListener("mousewheel",ce(o).call(o,this),!1),s.addEventListener("DOMMouseScroll",ce(o).call(o,this),!1)):s.attachEvent("onmousewheel",ce(o).call(o,this)),i.appendChild(s),this.hammer=new Pr(s),this.hammer.on("panstart",ce(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",ce(t=this._onDrag).call(t,this)),this.hammer.on("panend",ce(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Pr.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),r=this.options.locales.en);let i=this.options.title;if(i===void 0){var s;i=En(s="".concat(r.time,": ")).call(s,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),i=i.charAt(0).toUpperCase()+i.substring(1)}else typeof i=="function"&&(i=i.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=i,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=H.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=H.xss(e),this.marker.style.position="absolute",t){var r;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",ce(r=this._onMarkerChange).call(r,this)),this.marker.title=e,this.marker.addEventListener("blur",i=>{this.title!=i.target.innerHTML&&(this._onMarkerChanged(i),this.title=i.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,i=this.body.util.toTime(r),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(i,s,o):i;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}}class fD{_create(e){var t,r,i;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",ce(t=this._onTouch).call(t,this)),this.on("panmove",ce(r=this._onDrag).call(r,this));const s=this;this._origRedraw=ce(i=this._redraw).call(i,this),this._redraw=H.throttle(this._origRedraw),this.on("_change",m=>{s.itemSet&&s.itemSet.initialItemSetDrawn&&m&&m.queue==!0?s._redraw():s._origRedraw()}),this.hammer=new Pr(this.dom.root);const o=this.hammer.get("pinch").set({enable:!0});o&&jRe(o),this.hammer.get("pan").set({threshold:5,direction:Pr.DIRECTION_ALL}),this.timelineListeners={};const a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Re(a).call(a,m=>{const g=v=>{s.isActive()&&s.emit(m,v)};s.hammer.on(m,g),s.timelineListeners[m]=g}),TJ(this.hammer,m=>{s.emit("touch",m)}),$Re(this.hammer,m=>{s.emit("release",m)});function l(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let g=0,v=0;"detail"in m&&(v=m.detail*-1),"wheelDelta"in m&&(v=m.wheelDelta),"wheelDeltaY"in m&&(v=m.wheelDeltaY),"wheelDeltaX"in m&&(g=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(g=v*-1,v=0),"deltaY"in m&&(v=m.deltaY*-1),"deltaX"in m&&(g=m.deltaX);var y=40,b=800;m.deltaMode&&(m.deltaMode===1?(g*=y,v*=y):(g*=y,v*=b));const w=this.options.verticalScroll,S=Math.abs(v)>=Math.abs(g),_=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(w&&S&&!_){const k=this.props.scrollTop,E=k+v;this._setScrollTop(E)!==k&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let E=(S?v:g)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&S&&(E=-E);const C=this.range.start+E,O=this.range.end+E,R={animation:!1,byUser:!0,event:m};this.range.setRange(C,O,R),m.preventDefault();return}}const c="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(c,ce(l).call(l,this),!1),this.dom.top.addEventListener(c,ce(l).call(l,this),!1),this.dom.bottom.addEventListener(c,ce(l).call(l,this),!1);function u(m){if(s.options.verticalScroll&&(m.preventDefault(),s.isActive())){const g=-m.target.scrollTop;s._setScrollTop(g),s._redraw(),s.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",ce(u).call(u,this)),this.dom.right.parentNode.addEventListener("scroll",ce(u).call(u,this));let h=!1;function d(m){var g;if(m.preventDefault&&(s.emit("dragover",s.getEventProperties(m)),m.preventDefault()),Ut(g=m.target.className).call(g,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function f(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var g=JSON.parse(m.dataTransfer.getData("text"));if(!g||!g.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},g.target!=="item"?s.itemSet._onAddItem(m):s.itemSet._onDropObjectOnItem(m),s.emit("drop",s.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",ce(d).call(d,this),!1),this.dom.center.addEventListener("drop",ce(f).call(f,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var t;if(e){const o=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(H.selectiveExtend(o,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const a=this.timeAxis2=new ZP(this.body,this.options);a.setOptions=l=>{const c=l?H.extend({},l):{};c.orientation="top",ZP.prototype.setOptions.call(a,c)},this.components.push(a)}}else if(this.timeAxis2){var r;const a=Ut(r=this.components).call(r,this.timeAxis2);if(a!==-1){var i;Ir(i=this.components).call(i,a,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&oD(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Wi(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(Re(t=this.components).call(t,o=>o.setOptions(e)),"configure"in e){var s;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const o=H.deepExtend({},this.options);Re(s=this.components).call(s,a=>{H.deepExtend(o,a.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const t in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,t)&&delete this.timelineListeners[t];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,Re(e=this.components).call(e,t=>t.destroy()),this.body=null}setCustomTime(e,t){var r;const i=ht(r=this.customTimes).call(r,s=>t===s.options.id);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));i.length>0&&i[0].setCustomTime(e)}getCustomTime(e){var t;const r=ht(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Ur(e)));return r[0].getCustomTime()}setCustomTimeMarker(e,t,r){var i;const s=ht(i=this.customTimes).call(i,o=>o.options.id===t);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));s.length>0&&s[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){var r;const i=ht(r=this.customTimes).call(r,s=>s.options.id===t);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Ur(t)));if(i.length>0)return i[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){var r;const i=e!==void 0?H.convert(e,"Date"):new Date;if(eD(r=this.customTimes).call(r,a=>a.options.id===t))throw new Error("A custom time with id ".concat(Ur(t)," already exists"));const o=new LJ(this.body,H.extend({},this.options,{time:i,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){var t;const r=ht(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Ur(e)));Re(r).call(r,i=>{var s,o,a,l;Ir(s=this.customTimes).call(s,Ut(o=this.customTimes).call(o,i),1),Ir(a=this.components).call(a,Ut(l=this.components).call(l,i),1),i.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const i=r.max-r.min,s=new Date(r.min.valueOf()-i*.01),o=new Date(r.max.valueOf()+i*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,i){typeof arguments[2]=="function"&&(i=arguments[2],r={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],i=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},i)):(s=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:s},i))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.range.end-this.range.start,s=H.convert(e,"Date").valueOf(),o=s-i/2,a=s+i/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,r)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const t=this.dom;if(!t||!t.container||t.root.offsetWidth==0)return;let r=!1;const i=this.options,s=this.props;Zy(this.options.moment,this.body,this.options.hiddenDates),i.orientation=="top"?(H.addClassName(t.root,"vis-top"),H.removeClassName(t.root,"vis-bottom")):(H.removeClassName(t.root,"vis-top"),H.addClassName(t.root,"vis-bottom")),i.rtl?(H.addClassName(t.root,"vis-rtl"),H.removeClassName(t.root,"vis-ltr")):(H.addClassName(t.root,"vis-ltr"),H.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=H.option.asSize(i.maxHeight,""),t.root.style.minHeight=H.option.asSize(i.minHeight,""),t.root.style.width=H.option.asSize(i.width,"");const o=t.root.offsetWidth;s.border.left=1,s.border.right=1,s.border.top=1,s.border.bottom=1,s.center.height=t.center.offsetHeight,s.left.height=t.left.offsetHeight,s.right.height=t.right.offsetHeight,s.top.height=t.top.clientHeight||-s.border.top,s.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-s.border.bottom;const a=Math.max(s.left.height,s.center.height,s.right.height),l=s.top.height+a+s.bottom.height+s.border.top+s.border.bottom;t.root.style.height=H.option.asSize(i.height,"".concat(l,"px")),s.root.height=t.root.offsetHeight,s.background.height=s.root.height;const c=s.root.height-s.top.height-s.bottom.height;s.centerContainer.height=c,s.leftContainer.height=c,s.rightContainer.height=s.leftContainer.height,s.root.width=o,s.background.width=s.root.width,this.initialDrawDone||(s.scrollbarWidth=H.getScrollBarWidth());const u=t.leftContainer.clientWidth,h=t.rightContainer.clientWidth;i.verticalScroll?i.rtl?(s.left.width=u||-s.border.left,s.right.width=h+s.scrollbarWidth||-s.border.right):(s.left.width=u+s.scrollbarWidth||-s.border.left,s.right.width=h||-s.border.right):(s.left.width=u||-s.border.left,s.right.width=h||-s.border.right),this._setDOM();let d=this._updateScrollTop();i.orientation.item!="top"&&(d+=Math.max(s.centerContainer.height-s.center.height-s.border.top-s.border.bottom,0)),t.center.style.transform="translateY(".concat(d,"px)");const f=s.scrollTop==0?"hidden":"",m=s.scrollTop==s.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=f,t.shadowBottom.style.visibility=m,t.shadowTopLeft.style.visibility=f,t.shadowBottomLeft.style.visibility=m,t.shadowTopRight.style.visibility=f,t.shadowBottomRight.style.visibility=m,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||s.center.height<s.centerContainer.height)&&(t.left.style.top="".concat(d,"px"),t.right.style.top="".concat(d,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),s.left.width=u||-s.border.left,s.right.width=h||-s.border.right,this._setDOM());const g=s.center.height>s.centerContainer.height;this.hammer.get("pan").set({direction:g?Pr.DIRECTION_ALL:Pr.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),Re(e=this.components).call(e,y=>{r=y.redraw()||r});const v=5;if(r)if(this.redrawCount<v){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height="".concat(e.background.height,"px"),t.backgroundVertical.style.height="".concat(e.background.height,"px"),t.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),t.centerContainer.style.height="".concat(e.centerContainer.height,"px"),t.leftContainer.style.height="".concat(e.leftContainer.height,"px"),t.rightContainer.style.height="".concat(e.rightContainer.height,"px"),t.background.style.width="".concat(e.background.width,"px"),t.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),t.backgroundHorizontal.style.width="".concat(e.background.width,"px"),t.centerContainer.style.width="".concat(e.center.width,"px"),t.top.style.width="".concat(e.top.width,"px"),t.bottom.style.width="".concat(e.bottom.width,"px"),t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top="".concat(e.top.height,"px"),t.centerContainer.style.left="".concat(e.left.width,"px"),t.centerContainer.style.top="".concat(e.top.height,"px"),t.leftContainer.style.left="0",t.leftContainer.style.top="".concat(e.top.height,"px"),t.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),t.rightContainer.style.top="".concat(e.top.height,"px"),t.top.style.left="".concat(e.left.width,"px"),t.top.style.top="0",t.bottom.style.left="".concat(e.left.width,"px"),t.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return dU(this,e,this.props.center.width)}_toGlobalTime(e){return dU(this,e,this.props.root.width)}_toScreen(e){return hU(this,e,this.props.center.width)}_toGlobalScreen(e){return hU(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=H.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=LRe(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}NR(fD.prototype);class fDe extends ul{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Gr,locales:id,locale:"en"},this.options=H.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=H.extend({},id,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Re(r=zn(this.options.locales)).call(r,s=>{this.options.locales[s]=H.extend({},i,this.options.locales[s])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&H.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,t;const r=this.body.dom.backgroundVertical;this.bar.parentNode!=r&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),r.appendChild(this.bar),this.start());let i=this.options.moment(ui()+this.offset);this.options.alignCurrentTime&&(i=i.startOf(this.options.alignCurrentTime));const s=this.body.util.toScreen(i);let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en);let a=En(e=En(t="".concat(o.current," ")).call(t,o.time,": ")).call(e,i.format("dddd, MMMM Do YYYY, H:mm:ss"));a=a.charAt(0).toUpperCase()+a.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(s*-1,"px)"):this.bar.style.transform="translateX(".concat(s,"px)"),this.bar.title=a}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let i=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Jr(t,i)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=H.convert(e,"Date").valueOf(),r=ui();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(ui()+this.offset)}}var yU={},bU;function pDe(){if(bU)return yU;bU=1;var n=Ye(),e=al().find,t=mg(),r="find",i=!0;return r in[]&&Array(1)[r](function(){i=!1}),n({target:"Array",proto:!0,forced:i},{find:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),t(r),yU}var xT,xU;function mDe(){if(xU)return xT;xU=1,pDe();var n=_n();return xT=n("Array","find"),xT}var wT,wU;function gDe(){if(wU)return wT;wU=1;var n=tn(),e=mDe(),t=Array.prototype;return wT=function(r){var i=r.find;return r===t||n(t,r)&&i===t.find?e:i},wT}var _T,_U;function vDe(){if(_U)return _T;_U=1;var n=gDe();return _T=n,_T}var ST,SU;function yDe(){return SU||(SU=1,ST=vDe()),ST}var bDe=yDe(),xDe=Qe(bDe);const ai=.001;function wDe(n){In(n).call(n,(e,t)=>e.data.start-t.data.start)}function _De(n){In(n).call(n,(e,t)=>{const r="end"in e.data?e.data.end:e.data.start,i="end"in t.data?t.data.end:t.data.start;return r-i})}function kU(n,e,t,r){return pD(n,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,r)===null}function SDe(n,e,t){const r=pD(n,e.item,!1,i=>i.stack,()=>!0,i=>i.baseTop);t.height=r-t.top+.5*e.item.vertical}function kDe(n,e,t,r){for(let i=0;i<n.length;i++){if(n[i].data.subgroup==null){n[i].top=e.item.vertical;continue}if(n[i].data.subgroup===void 0||!r)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[n[i].data.subgroup].index||(s+=t[o].height,t[n[i].data.subgroup].top=s);n[i].top=s+.5*e.item.vertical}r||CDe(n,e,t)}function CDe(n,e,t){var r;pD(In(r=DR(t)).call(r,(i,s)=>i.index>s.index?1:i.index<s.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let i=0;i<n.length;i++)n[i].data.subgroup!==void 0&&(n[i].top=t[n[i].data.subgroup].top+.5*e.item.vertical)}function CU(n,e,t){let r=!1;const i=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?i[t[s].index]=s:i.push(s);for(let s=0;s<i.length;s++){let o=i[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;r=r||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=n[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));r&&t[o].stack&&SDe(n[o],e,t[o])}}function pD(n,e,t,r,i,s,o){let a=b=>b.start,l=b=>b.end;t||(!!(n[0]&&n[0].options.rtl)?a=w=>w.right:a=w=>w.left,l=w=>a(w)+w.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const b of n)if(r(b))c.push(b);else if(i(b)){const w=a(b);h!==null&&w<h-ai&&(d=0),h=w,d=iv(u,S=>a(S)-ai>w,d),Ir(u).call(u,d,0,b),d++}h=null;let f=null;d=0;let m=0,g=0,v=0;for(;c.length>0;){var y;const b=c.shift();b.top=s(b);const w=a(b),S=l(b);h!==null&&w<h-ai&&(m=0,g=0,d=0,f=null),(h===null||w>h+ai)&&(m=iv(u,E=>w<l(E)-ai,m)),h=w,(f===null||f<S-ai)&&(g=iv(u,E=>S<a(E)-ai,Math.max(m,g))),f!==null&&f-ai>S&&(g=TDe(u,E=>S+ai>=a(E),m,g)+1),f=S;const _=In(y=MDe(u,E=>w<l(E)-ai,m,g)).call(y,(E,C)=>E.top-C.top);for(let E=0;E<_.length;E++){const C=_[E];EDe(b,C,e)&&(b.top=C.top+C.height+e.vertical)}i(b)&&(d=iv(u,E=>a(E)-ai>w,d),Ir(u).call(u,d,0,b),d<m&&m++,d<=g&&g++,d++);const k=b.top+b.height;if(k>v&&(v=k),o&&o())return null}return v}function EDe(n,e,t){return n.top-t.vertical+ai<e.top+e.height&&n.top+n.height+t.vertical-ai>e.top}function iv(n,e,t){t||(t=0);for(let r=t;r<n.length;r++)if(e(n[r]))return r;return n.length}function TDe(n,e,t,r){t||(t=0),r||(r=n.length);for(let i=r-1;i>=t;i--)if(e(n[i]))return i;return t-1}function MDe(n,e,t,r){t||(t=0),r?r=Math.min(r,n.length):r=n.length;const i=[];for(let s=t;s<r;s++)e(n[s])&&i.push(n[s]);return i}const PDe="__background__",EU={BACKGROUND:PDe};class eI{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const i=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",i),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",i)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,o)&&(this.subgroupVisibility[o]=e.subgroupVisibility[o]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var i;r=ce(i=this.itemSet.options.groupTemplate).call(i,this),t=r(e,this.dom.inner)}else t=e&&e.content;if(t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=H.xss(t):this.dom.inner.innerHTML=H.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?H.removeClassName(this.dom.inner,"vis-hidden"):H.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),H.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(H.removeClassName(this.dom.label,"collapsed"),H.addClassName(this.dom.label,"expanded")):(H.removeClassName(this.dom.label,"expanded"),H.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,H.removeClassName(this.dom.label,"collapsed"),H.removeClassName(this.dom.label,"expanded"),H.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(H.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?H.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):H.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):H.addClassName(this.dom.label,"vis-group-level-0");const s=e&&e.className||null;s!=this.className&&(this.className&&(H.removeClassName(this.dom.label,this.className),H.removeClassName(this.dom.foreground,this.className),H.removeClassName(this.dom.background,this.className),H.removeClassName(this.dom.axis,this.className)),H.addClassName(this.dom.label,s),H.addClassName(this.dom.foreground,s),H.addClassName(this.dom.background,s),H.addClassName(this.dom.axis,s),this.className=s),this.style&&(H.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(H.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(Re(H).call(H,this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),r=t[o].length)}),r>0)for(let s=0;s<r;s++)Re(H).call(H,t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let i=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(ui()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,i=!s}):e.itemSet.userContinueNotBail==!1?i=!0:i=!1)}return i}_redrawItems(e,t,r,i){if(e||this.stackDirty||this.isVisible&&!t){var o,a,l,c,u,h;const y={byEnd:ht(o=this.orderedItems.byEnd).call(o,_=>!_.isCluster),byStart:ht(a=this.orderedItems.byStart).call(a,_=>!_.isCluster)},b={byEnd:[...new ac(ht(l=Lt(c=this.orderedItems.byEnd).call(c,_=>_.cluster)).call(l,_=>!!_))],byStart:[...new ac(ht(u=Lt(h=this.orderedItems.byStart).call(h,_=>_.cluster)).call(u,_=>!!_))]},w=()=>{var _,k;const E=this._updateItemsInRange(y,ht(_=this.visibleItems).call(_,O=>!O.isCluster),i),C=this._updateClustersInRange(b,ht(k=this.visibleItems).call(k,O=>O.isCluster),i);return[...E,...C]},S=_=>{let k={};for(const C in this.subgroups){var E;if(!Object.prototype.hasOwnProperty.call(this.subgroups,C))continue;const O=ht(E=this.visibleItems).call(E,R=>R.data.subgroup===C);k[C]=_?In(O).call(O,(R,D)=>_(R.data,D.data)):O}return k};if(typeof this.itemSet.options.order=="function"){const _=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const k=S(this.itemSet.options.order);CU(k,r,this.subgroups),this.visibleItems=w(),this._updateSubGroupHeights(r)}else{var d,f,m,g;this.visibleItems=w(),this._updateSubGroupHeights(r);const k=In(d=ht(f=Rd(m=this.visibleItems).call(m)).call(f,E=>E.isCluster||!E.isCluster&&!E.cluster)).call(d,(E,C)=>_.itemSet.options.order(E.data,C.data));this.shouldBailStackItems=kU(k,r,!0,ce(g=this._shouldBailItemsRedraw).call(g,this))}}else if(this.visibleItems=w(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const _=S();CU(_,r,this.subgroups)}else{var v;this.shouldBailStackItems=kU(this.visibleItems,r,!0,ce(v=this._shouldBailItemsRedraw).call(v,this))}else kDe(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let _=0;_<this.visibleItems.length;_++)this.visibleItems[_].repositionX(),this.subgroupVisibility[this.visibleItems[_].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[_].data.subgroup]||this.visibleItems[_].hide());this.itemSet.options.cluster&&Re(H).call(H,this.items,_=>{_.cluster&&_.displayed&&_.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=H.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return e=H.updateProperty(this.props.label,"width",r)||e,e=H.updateProperty(this.props.label,"height",i)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const i=this.visibleItems[t];i.repositionY(e),!this.isVisible&&this.groupId!=EU.BACKGROUND&&i.displayed&&i.hide()}}redraw(e,t,r,i){var s,o,a,l,c;let u=!1;const h=this.isVisible;let d;const f=[()=>{r=this._didMarkerHeightChange.call(this)||r},ce(s=this._updateSubGroupHeights).call(s,this,t),ce(o=this._calculateGroupSizeAndPosition).call(o,this),()=>{var m;this.isVisible=ce(m=this._isGroupVisible).call(m,this)(e,t)},()=>{var m;ce(m=this._redrawItems).call(m,this)(r,h,t,e)},ce(a=this._updateSubgroupsSizes).call(a,this),()=>{var m;d=this.height=ce(m=this._calculateHeight).call(m,this)(t)},ce(l=this._calculateGroupSizeAndPosition).call(l,this),()=>{var m;u=ce(m=this._didResize).call(m,this)(u,d)},()=>{var m;ce(m=this._applyGroupHeight).call(m,this)(d)},()=>{var m;ce(m=this._updateItemsVerticalPosition).call(m,this)(t)},ce(c=()=>(!this.isVisible&&this.height&&(u=!1),u)).call(c,this)];if(i)return f;{let m;return Re(f).call(f,g=>{m=g()}),m}}_updateSubGroupHeights(e){if(zn(this.subgroups).length>0){const t=this;this._resetSubgroups(),Re(H).call(H,this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=H.toArray(this.items):r=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(r.length>0){let i=r[0].top,s=r[0].top+r[0].height;if(Re(H).call(H,r,o=>{i=Math.min(i,o.top),s=Math.max(s,o.top+o.height)}),i>e.axis){const o=i-e.axis;s-=o,Re(H).call(H,r,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)}add(e){var t;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!Zh(t=this.visibleItems).call(t,e)){const r=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,r)}}_addToSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const r in e.subgroups){var t;if(!Object.prototype.hasOwnProperty.call(e.subgroups,r))continue;const i=e.subgroups[r].items[0].data.end||e.subgroups[r].items[0].data.start;let s=e.subgroups[r].items[0].data.start,o=i-1;Re(t=e.subgroups[r].items).call(t,a=>{new Date(a.data.start)<new Date(s)&&(s=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[r].start=s,e.subgroups[r].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});In(e).call(e,(t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);In(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var t,r;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const i=Ut(t=this.visibleItems).call(t,e);i!=-1&&Ir(r=this.visibleItems).call(r,i,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(t!=null){const s=this.subgroups[t];if(s){var r;const o=Ut(r=s.items).call(r,e);if(o>=0){var i;Ir(i=s.items).call(i,o,1),s.items.length?this._updateSubgroupsSizes():delete this.subgroups[t]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=H.toArray(this.items),t=[],r=[];for(let i=0;i<e.length;i++)e[i].data.end!==void 0&&r.push(e[i]),t.push(e[i]);this.orderedItems={byStart:t,byEnd:r},wDe(this.orderedItems.byStart),_De(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const i=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=EU.BACKGROUND){for(let v=0;v<t.length;v++){var o=t[v];o.displayed&&o.hide()}return i}const a=(r.end-r.start)/4,l=r.start-a,c=r.end+a,u=v=>v<l?-1:v<=c?0:1,h=v=>{const{start:y,end:b}=v;return b<l?-1:y<=c?0:1};if(t.length>0)for(let v=0;v<t.length;v++)this._checkIfVisibleWithReference(t[v],i,s,r);const d=H.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,i,s,v=>v.data.start<l||v.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let v=0;v<e.byEnd.length;v++)this._checkIfVisibleWithReference(e.byEnd[v],i,s,r)}else{const v=H.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(v,e.byEnd,i,s,y=>y.data.end<l||y.data.start>c)}this._sortVisibleItems(e.byStart,i,s);const f={};let m=0;for(let v=0;v<i.length;v++){const y=i[v];y.displayed||(f[v]=y.redraw(!0),m=f[v].length)}if(m>0)for(let v=0;v<m;v++)Re(H).call(H,f,y=>{y[v]()});for(let v=0;v<i.length;v++)i[v].repositionX();return i}_traceVisible(e,t,r,i,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.push(a))}}}_sortVisibleItems(e,t,r){t.length=0;for(let i=0;i<e.length;i++){let s=e[i];r[s.id]&&t.push(s)}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,i){e.isVisible(i)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const i=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],i,s,r);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],i,s,r);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],i,s,r);const o={};let a=0;for(let u=0;u<i.length;u++){const h=i[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)Re(H).call(H,o,function(u){u[c]()});for(let u=0;u<i.length;u++)i[u].repositionX();return i}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class FJ extends eI{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let i=0,s=this.visibleItems.length;i<s;i++)this.visibleItems[i].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class Nd{constructor(e,t,r){var i;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:id,locale:"en"},this.options=H.extend({},this.defaultOptions,r),this.options.locales=H.extend({},id,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];Re(i=zn(this.options.locales)).call(i,o=>{this.options.locales[o]=H.extend({},s,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,t;const r=this,i=document.createElement("div");i.className="vis-drag-center",i.dragCenterItem=this,this.hammerDragCenter=new Pr(i),this.hammerDragCenter.on("tap",s=>{r.parent.itemSet.body.emitter.emit("click",{event:s,item:r.id})}),this.hammerDragCenter.on("doubletap",s=>{s.stopPropagation(),r.parent.itemSet._onUpdateItem(r),r.parent.itemSet.body.emitter.emit("doubleClick",{event:s,item:r.id})}),this.hammerDragCenter.on("panstart",s=>{s.stopPropagation(),r.parent.itemSet._onDragStart(s)}),this.hammerDragCenter.on("panmove",ce(e=r.parent.itemSet._onDrag).call(e,r.parent.itemSet)),this.hammerDragCenter.on("panend",ce(t=r.parent.itemSet._onDragEnd).call(t,r.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(i,this.dom.dragLeft):this.dom.box.appendChild(i):this.dom.point&&this.dom.point.appendChild(i),this.dom.dragCenter=i}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),s=this.options.locales.en),i.title=s.deleteSelected,this.hammerDeleteButton=new Pr(i).on("tap",o=>{o.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(i),this.dom.deleteButton=i}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",e.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const i=50,s=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-i<-s?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let l,c;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var r;c=ce(r=this.options.tooltipOnItemUpdateTime.template).call(r,this),l=c(this.data)}else l="start: ".concat(Gr(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(l+="<br> end: ".concat(Gr(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=H.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,i,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var u;o=ce(u=this.options.visibleFrameTemplate).call(u,this),s=H.xss(o(a,c))}else s="";if(c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),r){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=H.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=s}}if(this.options.template){var h;i=ce(h=this.options.template).call(h,this),t=i(a,e,this.data)}else t=this.data.content;if(t instanceof Object&&!(t instanceof Element))i(a,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=H.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(St(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=zn(this.data);else return;for(const r of t){const i=this.data[r];i!=null?e.setAttribute("data-".concat(r),i):e.removeAttribute("data-".concat(r))}}}_updateStyle(e){this.style&&(H.removeCssText(e,this.style),this.style=null),this.data.style&&(H.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},H.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},H.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return ce(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}Nd.prototype.stack=!0;class IDe extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,i=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-i<e.end:r=="left"?t=this.data.start.getTime()+i>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+i/2>e.start&&this.data.start.getTime()-i/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var t,r,i,s;let o;const a=[ce(t=this._createDomElement).call(t,this),ce(r=this._appendDomElement).call(r,this),ce(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;ce(l=this._updateDomComponentsSizes).call(l,this)(o)}},ce(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Re(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=En(o="translate(".concat(l,"px, ")).call(o,s,"px)")};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,i=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-i/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-i/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-i/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height="".concat(r,"px"),t.bottom="",t.top="0"}else{const i=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height="".concat(i,"px"),t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class ODe extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(r,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var t,r,i,s;let o;const a=[ce(t=this._createDomElement).call(t,this),ce(r=this._appendDomElement).call(r,this),ce(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;ce(l=this._updateDomComponentsSizes).call(l,this)(o)}},ce(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Re(a).call(a,c=>{l=c()}),l}}repositionXY(){const e=this.options.rtl;(function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=En(o="translate(".concat(l,"px, ")).call(o,s,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class Pc extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var t,r,i,s;let o;const a=[ce(t=this._createDomElement).call(t,this),ce(r=this._appendDomElement).call(r,this),ce(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=ce(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;ce(l=this._updateDomComponentsSizes).call(l,this)(o)}},ce(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Re(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),i=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),i>2*t&&(i=2*t));const l=Math.max(Math.round((i-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=l,a=Math.min(i-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(l,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(l-a,0),"px)");break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((l-a)/2,0),"px)");break;default:if(this.overflow?i>0?o=Math.max(-r,0):o=-a:r<0?o=-r:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(o,"px)")}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top="".concat(this.top,"px"):t.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}Pc.prototype.baseClassName="vis-item vis-range";class Yc extends Nd{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var t,r,i,s;let o;const a=[ce(t=this._createDomElement).call(t,this),ce(r=this._appendDomElement).call(r,this),ce(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=ce(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;ce(l=this._updateDomComponentsSizes).call(l,this)(o)}},ce(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return Re(a).call(a,c=>{l=c()}),l}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[r].height,"px"),t=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[r].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof FJ?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Yc.prototype.baseClassName="vis-item vis-background";Yc.prototype.stack=!1;Yc.prototype.show=Pc.prototype.show;Yc.prototype.hide=Pc.prototype.hide;Yc.prototype.repositionX=Pc.prototype.repositionX;class RDe{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=hi(e),this.y=hi(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=H.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0)),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var TU={},MU;function DDe(){if(MU)return TU;MU=1;var n=Ye(),e=al().every,t=Dd(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),TU}var kT,PU;function ADe(){if(PU)return kT;PU=1,DDe();var n=_n();return kT=n("Array","every"),kT}var CT,IU;function NDe(){if(IU)return CT;IU=1;var n=tn(),e=ADe(),t=Array.prototype;return CT=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},CT}var ET,OU;function LDe(){if(OU)return ET;OU=1;var n=NDe();return ET=n,ET}var TT,RU;function FDe(){return RU||(RU=1,TT=LDe()),TT}var $De=FDe(),jDe=Qe($De);class Nx extends Nd{constructor(e,t,r){const i=tl({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,i),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=lc(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),i=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&i>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r,i,s,o,a,l,c=[ce(t=this._createDomElement).call(t,this),ce(r=this._appendDomElement).call(r,this),ce(i=this._updateDirtyDomComponents).call(i,this),ce(s=function(){this.dirty&&(l=this._getDomComponentsSizes())}).call(s,this),ce(o=function(){if(this.dirty){var h;ce(h=this._updateDomComponentsSizes).call(h,this)(l)}}).call(o,this),ce(a=this._repaintDomAdditionals).call(a,this)];if(e)return c;var u;return Re(c).call(c,function(h){u=h()}),u}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,i=this.dom.dot.offsetWidth;if(t){const s=r+e+(t-e)/2,o=s-i/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform="translateX(".concat(a,"px)"),this.dom.dot.style.transform="translateX(".concat(l,"px)")}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-i/2)*-1:e-i/2;this.dom.line.style.transform="translateX(".concat(s,"px)"),this.dom.dot.style.transform="translateX(".concat(o,"px)")}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,i=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-i+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let t of this.data.uiItems)t.cluster=this;this.data.items=Lt(e=this.data.uiItems).call(e,t=>t.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,t,r;const i=Lt(e=this.data.uiItems).call(e,a=>({start:a.data.start.valueOf(),end:a.data.end?a.data.end.valueOf():a.data.start.valueOf()}));this.data.min=Math.min(...Lt(i).call(i,a=>Math.min(a.start,a.end||a.start))),this.data.max=Math.max(...Lt(i).call(i,a=>Math.max(a.start,a.end||a.start)));const s=Lt(t=this.data.uiItems).call(t,a=>a.center),o=Dx(s).call(s,(a,l)=>a+l,0)/this.data.uiItems.length;eD(r=this.data.uiItems).call(r,a=>a.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(o),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return ht(e=this.data.uiItems).call(e,t=>t.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=ce(e=Nx.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}}Nx.prototype.baseClassName="vis-item vis-range vis-cluster";const BDe="__ungrouped__",zDe={UNGROUPED:BDe};class qDe{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new Nx(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:i,clusterCriteria:s}=typeof r=="boolean"?{}:r;s||(s=()=>!0),i=i||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let m=h[f],g=1,v=f-1;for(;v>=0&&m.center-h[v].center<l/2;)!h[v].cluster&&s(m.data,h[v].data)&&g++,v--;let y=f+1;for(;y<h.length&&h[y].center-m.center<l/2;)s(m.data,h[y].data)&&g++,y++;let b=c.length-1;for(;b>=0&&m.center-c[b].center<l;)m.group==c[b].group&&s(m.data,c[b].data)&&g++,b--;if(g>i){const w=g-i+1,S=[];let _=f;for(;S.length<w&&_<h.length;)s(h[f].data,h[_].data)&&S.push(h[_]),_++;const k=this.itemSet.getGroupId(m.data),E=this.itemSet.groups[k]||this.itemSet.groups[zDe.UNGROUPED];let C=this._getClusterForItems(S,E,e,r);c.push(C),f+=w}else delete m.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const r of DR(this.items)){const i=r.parent?r.parent.groupId:"";let s=e[i];s||(s=[],e[i]=s),s.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(let r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&In(t=e[r]).call(t,(i,s)=>i.center-s.center)}this.dataChanged=!1}_getClusterForItems(e,t,r,i){var s;const o=Lt(s=r||[]).call(s,m=>{var g;return{cluster:m,itemsIds:new ac(Lt(g=m.data.uiItems).call(g,v=>v.id))}});let a;if(o.length){for(let m of o)if(m.itemsIds.size===e.length&&jDe(e).call(e,g=>m.itemsIds.has(g.id))){a=m.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=i.titleTemplate||"";const c={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},u=l.replace(/{count}/,e.length),h='<div title="'+u+'">'+e.length+"</div>",d=tl({},i,this.itemSet.options),f={content:h,title:u,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,c,d),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const uu="__ungrouped__",ha="__background__";class sd extends ul{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(i,s){const o=s.order;s.order=i.order,i.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Mc.snap,onDropObjectOnItem(i,s,o){o(s)},onAdd(i,s){s(i)},onUpdate(i,s){s(i)},onMove(i,s){s(i)},onRemove(i,s){s(i)},onMoving(i,s){s(i)},onAddGroup(i,s){s(i)},onMoveGroup(i,s){s(i)},onRemoveGroup(i,s){s(i)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=H.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(i,s){r._onAdd(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(i,s){r._onUpdate(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(i,s){r._onRemove(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(i,s,o){if(r._onAddGroups(s.items),r.groupsData&&r.groupsData.length>0){var a;const l=r.groupsData.getDataSet();Re(a=l.get()).call(a,c=>{if(c.nestedGroups){var u;c.showNested!=!1&&(c.showNested=!0);let h=[];Re(u=c.nestedGroups).call(u,d=>{const f=l.get(d);f&&(f.nestedInGroup=c.id,c.showNested==!1&&(f.visible=!1),h=En(h).call(h,f))}),l.update(h,o)}})}},update(i,s){r._onUpdateGroups(s.items)},remove(i,s){r._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){var e,t,r,i,s,o,a,l,c,u,h,d,f,m,g;const v=document.createElement("div");v.className="vis-itemset",v["vis-itemset"]=this,this.dom.frame=v;const y=document.createElement("div");y.className="vis-background",v.appendChild(y),this.dom.background=y;const b=document.createElement("div");b.className="vis-foreground",v.appendChild(b),this.dom.foreground=b;const w=document.createElement("div");w.className="vis-axis",this.dom.axis=w;const S=document.createElement("div");S.className="vis-labelset",this.dom.labelSet=S,this._updateUngrouped();const _=new FJ(ha,null,this);_.show(),this.groups[ha]=_,this.hammer=new Pr(this.body.dom.centerContainer),this.hammer.on("hammer.input",k=>{k.isFirst&&this._onTouch(k)}),this.hammer.on("panstart",ce(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",ce(t=this._onDrag).call(t,this)),this.hammer.on("panend",ce(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Pr.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",ce(i=this._onSelectItem).call(i,this)),this.hammer.on("press",ce(s=this._onMultiSelectItem).call(s,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",ce(o=this._onAddItem).call(o,this)),this.options.rtl?this.groupHammer=new Pr(this.body.dom.rightContainer):this.groupHammer=new Pr(this.body.dom.leftContainer),this.groupHammer.on("tap",ce(a=this._onGroupClick).call(a,this)),this.groupHammer.on("panstart",ce(l=this._onGroupDragStart).call(l,this)),this.groupHammer.on("panmove",ce(c=this._onGroupDrag).call(c,this)),this.groupHammer.on("panend",ce(u=this._onGroupDragEnd).call(u,this)),this.groupHammer.get("pan").set({threshold:5,direction:Pr.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",ce(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",ce(d=this._onMouseOut).call(d,this)),this.body.dom.centerContainer.addEventListener("mousemove",ce(f=this._onMouseMove).call(f,this)),this.body.dom.centerContainer.addEventListener("contextmenu",ce(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",ce(g=this._onMouseWheel).call(g,this)),this.show()}setOptions(e){if(e){var t,r;const i=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];H.selectiveExtend(i,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(H.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(H.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&H.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),Re(t=["locale","locales"]).call(t,o=>{o in e&&(this.options[o]=e[o])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&H.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&H.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const s=o=>{const a=e[o];if(a){if(typeof a!="function"){var l;throw new Error(En(l="option ".concat(o," must be a function ")).call(l,o,"(item, callback)"))}this.options[o]=a}};Re(r=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(r,s),e.cluster?(tl(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new qDe(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&Re(H).call(H,this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&Re(H).call(H,this.groups,(t,r)=>{r!==ha&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Jr(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var t;e==null&&(e=[]),St(e)||(e=[e]);const r=ht(t=this.selection).call(t,i=>Ut(e).call(e,i)===-1);for(let i of r){const s=this.getItemById(i);s&&s.unselect()}this.selection=[...e];for(let i of e){const s=this.getItemById(i);s&&s.select()}}getSelection(){var e;return En(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){var t;return this.items[e]||xDe(t=this.clusters).call(t,r=>r.id===e)}_deselect(e){const t=this.selection;for(let r=0,i=t.length;r<i;r++)if(t[r]==e){Ir(t).call(t,r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=H.option.asSize,i=this.options,s=i.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=i.stack!=this.lastStack,d=i.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),g={item:e.item,axis:e.axis},v={item:e.item,axis:e.item.vertical/2};let y=0;const b=e.axis+e.item.vertical;this.groups[ha].redraw(t,v,f);const w={};let S=0;if(Re(H).call(H,this.groups,(k,E)=>{if(E===ha)return;const C=k==m?g:v,O=!0;w[E]=k.redraw(t,C,f,O),S=w[E].length}),S>0){const k={};for(let E=0;E<S;E++)Re(H).call(H,w,(C,O)=>{k[O]=C[E]()});Re(H).call(H,this.groups,(E,C)=>{if(C===ha)return;o=k[C]||o,y+=E.height}),y=Math.max(y,b)}return y=Math.max(y,b),a.style.height=r(y),this.props.width=a.offsetWidth,this.props.height=y,this.dom.axis.style.top=r(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[uu]||null}_updateUngrouped(){let e=this.groups[uu],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[uu];for(r in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,r))continue;t=this.items[r],t.parent&&t.parent.remove(t);const i=this.getGroupId(t.data),s=this.groups[i];s&&s.add(t)||t.hide()}}}else if(!e){e=new eI(null,null,this),this.groups[uu]=e;for(r in this.items)Object.prototype.hasOwnProperty.call(this.items,r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const i=this.itemsData;if(!e)this.itemsData=null;else if(Tc(e))this.itemsData=Qy(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(Re(H).call(H,this.itemListeners,(s,o)=>{i.off(o,s)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){const s=this.id;Re(H).call(H,this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(Re(H).call(H,this.groupListeners,(s,o)=>{t.groupsData.off(o,s)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(Tc(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i;const s=this.groupsData.getDataSet();Re(i=s.get()).call(i,a=>{if(a.nestedGroups){var l;Re(l=a.nestedGroups).call(l,c=>{const u=s.get(c);u.nestedInGroup=a.id,a.showNested==!1&&(u.visible=!1),s.update(u)})}});const o=this.id;Re(H).call(H,this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?ha:this.groupsData?e.group:uu}_onUpdate(e){const t=this;Re(e).call(e,r=>{const i=t.itemsData.get(r);let s=t.items[r];const o=i?t._getType(i):null,a=sd.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,i)),!s&&i)if(a)s=new a(i,t.conversion,t.options),s.id=r,t._addItem(s),l&&(this.selection.push(r),s.select());else throw new TypeError('Unknown item type "'.concat(o,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;Re(e).call(e,i=>{const s=r.items[i];s&&(t++,r._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){Re(H).call(H,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;Re(e).call(e,r=>{const i=t.groupsData.get(r);let s=t.groups[r];if(s)s.setData(i);else{if(r==uu||r==ha)throw new Error("Illegal group id. ".concat(r," is a reserved id."));const o=gg(t.options);H.extend(o,{height:null}),s=new eI(r,i,t),t.groups[r]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==r&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){Re(e).call(e,t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!H.equalArray(e,this.groupIds);if(t){const r=this.groups;Re(e).call(e,i=>{r[i].hide()}),Re(e).call(e,i=>{r[i].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(i,s){let o=[];return Re(s).call(s,a=>{if(o.push(a),i.groupsData.get(a).nestedGroups){var c;const u=Lt(c=i.groupsData.get({filter(h){return h.nestedInGroup==a},order:i.options.groupOrder})).call(c,h=>h.id);o=En(o).call(o,t(i,u))}}),o}const r=ht(e).call(e,i=>!this.groupsData.get(i).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var t,r;e.hide(),delete this.items[e.id];const i=Ut(t=this.selection).call(t,e.id);i!=-1&&Ir(r=this.selection).call(r,i,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof Pc&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let i;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)i={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(o)i={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=Lt(l).call(l,c=>{const u=r.items[c],h=r._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),i=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=lc();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new Pc(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const m={item:f,initialX:e.center.x,data:f.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.center.x-i.left+r.offsetLeft,e.center.y-i.top+r.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var t;e.stopPropagation();const r=this,i=this.options.snap||null,s=this.body.dom.root.offsetLeft,o=this.options.rtl?s+this.body.domProps.right.width:s+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),c=this.touchParams.selectedItem,u=(this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateGroup;let h=null;if(u&&c&&c.data.group!=null){const d=r.groupFromTarget(e);d&&(h=this._getGroupIndex(d.groupId))}Re(t=this.touchParams.itemProps).call(t,d=>{const f=r.body.util.toTime(e.center.x-o),m=r.body.util.toTime(d.initialX-o);let g,v,y,b,w;this.options.rtl?g=-(f-m):g=f-m;let S=this._cloneItemData(d.item.data);if(d.item.editable!=null&&!d.item.editable.updateTime&&!d.item.editable.updateGroup&&!r.options.editable.overrideItems)return;if((this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateTime){if(d.dragLeft)this.options.rtl?S.end!=null&&(y=H.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w):S.start!=null&&(v=H.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b);else if(d.dragRight)this.options.rtl?S.start!=null&&(v=H.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b):S.end!=null&&(y=H.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w);else if(S.start!=null)if(v=H.convert(d.data.start,"Date").valueOf(),b=new Date(v+g),S.end!=null){y=H.convert(d.data.end,"Date");const k=y.valueOf()-v.valueOf();S.start=i?i(b,a,l):b,S.end=new Date(S.start.valueOf()+k)}else S.start=i?i(b,a,l):b}if(u&&!d.dragLeft&&!d.dragRight&&h!=null&&S.group!=null){let k=h-d.groupOffset;k=Math.max(0,k),k=Math.min(r.groupIds.length-1,k),S.group=r.groupIds[k]}S=this._cloneItemData(S),r.options.onMoving(S,k=>{k&&d.item.setData(this._cloneItemData(k,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const i=e.parent;i.remove(e),i.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,Re(r).call(r,i=>{const s=i.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(i.item.data,a=>{t._removeItem(i.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(i.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(i.item.setData(i.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);Jr(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let i=r.get(e.groupId);i.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let u=o;o=[];for(let h=0;h<u.length;h++){let d=r.get(u[h]);d.nestedGroups&&(o=En(o).call(o,d.nestedGroups))}o.length>0&&(s=En(s).call(s,o))}var a;if(i.showNested){var l=r.get(i.nestedGroups);for(let u=0;u<l.length;u++){let h=l[u];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&l.push(...r.get(h.nestedGroups))}a=Lt(l).call(l,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}else{var c;a=Lt(c=r.get(s)).call(c,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}r.update(En(a).call(a,i)),i.showNested?(H.removeClassName(e.dom.label,"collapsed"),H.addClassName(e.dom.label,"expanded")):(H.removeClassName(e.dom.label,"expanded"),H.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const i=r.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=r.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(i){if(o.top+a<s)return}else{const l=r.height;if(o.top+l-a>s)return}}if(r&&r!=this.groupTouchParams.group){const i=t.get(r.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&i&&(this.options.groupOrderSwap(s,i,t),t.update(s),t.update(i));const o=t.getIds({order:this.options.groupOrder});if(!H.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=Ut(o).call(o,a[u+d]),m=t.get(o[u+h]),g=t.get(a[u+d]);this.options.groupOrderSwap(m,g,t),t.update(m),t.update(g);const v=o[u+h];o[u+h]=a[u+d],o[f]=v,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,i=t.groupsData.getDataSet(),s=H.extend({},i.get(r));t.options.onMoveGroup(s,o=>{if(o)o[i._idProp]=r,i.update(o);else{const a=i.getIds({order:t.options.groupOrder});if(!H.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=Ut(a).call(a,l[u]),d=i.get(a[u]),f=i.get(l[u]);t.options.groupOrderSwap(d,f,i),i.update(d),i.update(f);const m=a[u];a[u]=l[u],a[h]=m,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const i=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||i.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const i=t.getTitle();if(this.options.showTooltips&&i){this.popup==null&&(this.popup=new RDe(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.clientX-i.left+r.offsetLeft,e.clientY-i.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,i=>{i&&t.itemsData.update(i)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x:e.center.x-i.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:r?r(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||lc(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c)):(u={start:r?r(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=lc(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&r.length>0&&(a=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&r.push(t.id);const l=sd._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||a==o){r=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Yc)&&r.push(u.id)}}}else{const o=Ut(r).call(r,t.id);o==-1?r.push(t.id):Ir(r).call(r,o,1)}const s=ht(r).call(r,o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return Re(e).call(e,i=>{(r==null||i.start<r)&&(r=i.start),i.end!=null?(t==null||i.end>t)&&(t=i.end):(t==null||i.start>t)&&(t=i.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let i=0;i<r.length;i++){const s=r[i],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(i===this.groupIds.length-1&&t>l.top)return o}else if(i===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=H.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=H.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=H.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var t;const s=new ac(Lt(e).call(e,l=>l.id)),o=ht(t=this.clusters).call(t,l=>!s.has(l.id));let a=!1;for(let l of o){var r;const c=Ut(r=this.selection).call(r,l.id);if(c!==-1){var i;l.unselect(),Ir(i=this.selection).call(i,c,1),a=!0}}if(a){const l=this.getSelection();this.body.emitter.emit("select",{items:l,event})}}this.clusters=e||[]}}sd.types={background:Yc,box:IDe,range:Pc,point:ODe};sd.prototype._onAdd=sd.prototype._onUpdate;let _f=!1,DU,tI="background: #FFeeee; color: #dd0000";class cn{constructor(){}static validate(e,t,r){_f=!1,DU=t;let i=t;return r!==void 0&&(i=t[r]),cn.parse(e,i,[]),_f}static parse(e,t,r){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&cn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){cn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=cn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),cn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){let a=function(u){console.log("%c"+u+cn.printLocation(o,e),tI)},l=cn.getType(t[e]),c=s[l];c!==void 0?cn.getType(c)==="array"&&Ut(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+cn.print(c)+' not "'+t[e]+'". '),_f=!0):l==="object"&&i!=="__any__"&&(o=H.copyAndExtendArray(o,e),cn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+cn.print(zn(s))+". Received ["+l+'] "'+t[e]+'"'),_f=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":St(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let i=cn.findInOptions(e,t,r,!1),s=cn.findInOptions(e,DU,[],!0),o=8,a=4,l;i.indexMatch!==void 0?l=" in "+cn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+cn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+cn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+cn.printLocation(i.path,e):l=". Did you mean one of these: "+cn.print(zn(t))+cn.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+l,tI),_f=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let h in t){if(!Object.prototype.hasOwnProperty.call(t,h))continue;let d;if(t[h].__type__!==void 0&&i===!0){let f=cn.findInOptions(e,t[h],H.copyAndExtendArray(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Ut(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=cn.levenshteinDistance(e,h),s>d&&(o=h,a=H.copyArray(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ur(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],i;for(i=0;i<=t.length;i++)r[i]=[i];var s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}}var UDe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class WDe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return UDe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;var i=this._isColorString(e);if(i!==void 0&&(e=i),H.isString(e)===!0){if(H.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(H.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(H.isValidHex(e)===!0){let s=H.hexToRGB(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ur(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=H.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Jr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=H.extend({},e)),this.color=e;let r=H.RGBToHSV(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=H.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=H.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=H.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),MQ(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=ce(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=ce(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=ce(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=ce(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Pr(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),TJ(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=H.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let m=u/this.r,g=H.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;let v=H.HSVToRGB(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class HDe{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},H.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new WDe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(St(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ht(e)!==void 0&&(this.options.filter=ht(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);ht(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=ht(this.options),t=0,r=!1;for(let i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ut(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){let s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Re(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=H.xss(e),this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?i.innerHTML=H.xss("<i><b>"+e+":</b></i>"):i.innerHTML=H.xss(e+":"),i}_makeDropdown(e,t,r){let i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Ut(e).call(e,t)!==-1&&(s=Ut(e).call(e,t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],i.appendChild(c)}let o=this;i.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){let i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let g=1.2;t<0&&t*g<s?(l.min=Math.ceil(t*g),u=l.min,c="range increased"):t/g<s&&(l.min=Math.ceil(t/g),u=l.min,c="range increased"),t*g>o&&o!==1&&(l.max=Math.ceil(t*g),u=l.max,c="range increased"),l.value=t}else l.value=i;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=H.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Jr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Jr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let s=this;i.onchange=function(){s._update(this.checked,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let s=this;i.onchange=function(){s._update(this.value,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){let i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{let s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=ht(this.options),o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;i=!0;let l=e[a],c=H.copyAndExtendArray(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!St(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;let u=this._getValue(c);if(St(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(Ut(t).call(t,"physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=H.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let m=this._makeLabel(a,c,!0);this._makeItem(c,m),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Ur(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}class YDe{constructor(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=r,this.autoScaleEnd=i,this.formattingFunction=l,r||i){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let i=0;r<0&&(i=r);let s=!1;for(let o=i;Math.abs(o)<=Math.abs(r);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?"".concat(t):typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let i=this._start+r;this._end-i>1e-5;i+=t)i!=this._start&&e.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,i=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=r,this._end=this._start+d;const f=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],g=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const v=l-f;this._end+=v/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=g/this.scale,this._end=this._start+d):(this._start+=m-g/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>i+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<i-r){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class AU extends ul{constructor(e,t,r,i){super(),this.id=lc(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return"".concat(Jy(o.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return"".concat(Jy(o.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=H.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top="".concat(s.body.domProps.scrollTop,"px")})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];H.selectiveDeepExtend(r,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){wa(this.svgElements);let e;const t=this.options.iconWidth,r=15,i=4;let s=i+.5*r;this.options.orientation==="left"?e=i:e=this.width-t-i;const o=zn(this.groups);In(o).call(o,(a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,r,this.framework,e,s),s+=r+i);Li(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(wa(this.svgElements),Li(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const r in this.groups)Object.prototype.hasOwnProperty.call(this.groups,r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const r=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=a?r.majorCharHeight:0,r.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,s==="left"?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;wa(this.DOMelements.lines),wa(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let i=!0;r.max!=null&&(this.range.end=r.max,i=!1);let s=!0;r.min!=null&&(this.range.start=r.min,s=!1),this.scale=new YDe(this.range.start,this.range.end,s,i,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const o=this.scale.getLines();Re(o).call(o,c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width="".concat(this.width,"px"),Li(this.DOMelements.lines),Li(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width="".concat(this.width,"px"),Li(this.DOMelements.lines),Li(this.DOMelements.labels),this.redraw(),e=!0):(Li(this.DOMelements.lines),Li(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,i,s){const o=VC("div",this.DOMelements.labels,this.dom.frame);o.className=i,o.innerHTML=H.xss(t),r==="left"?(o.style.left="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="right"):(o.style.right="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="left"),o.style.top="".concat(e-.5*s+this.options.labelOffsetY,"px"),t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,r,i,s){if(this.master===!0){const o=VC("div",this.DOMelements.lines,this.dom.lineContainer);o.className=r,o.innerHTML="",t==="left"?o.style.left="".concat(this.width-i,"px"):o.style.right="".concat(this.width-i,"px"),o.style.width="".concat(s,"px"),o.style.top="".concat(e,"px")}}_redrawTitle(e){if(wa(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=VC("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-".concat(e),t.innerHTML=H.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&H.addCssText(t,this.options[e].title.style),e==="left"?t.style.left="".concat(this.props.titleCharHeight,"px"):t.style.right="".concat(this.props.titleCharHeight,"px"),t.style.width="".concat(this.height,"px")}Li(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Cg(){}Cg.draw=function(n,e,t,r){r=r||0;for(var i=GDe(t,e),s=0;s<n.length;s++)if(!i)rd(n[s].screen_x+r,n[s].screen_y,nI(e),t.svgElements,t.svg,n[s].label);else{var o=i(n[s],e);(o===!0||typeof o=="object")&&rd(n[s].screen_x+r,n[s].screen_y,nI(e,o),t.svgElements,t.svg,n[s].label)}};Cg.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=gs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),rd(e+.5*r,t,nI(n),s.svgElements,s.svg)};function nI(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function GDe(n,e){var t=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(t=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function Or(){}Or.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=gs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*r),c=n.options.barChart.width,u=c/l,h=Math.round(.4*i),d=Math.round(.75*i),f=Math.round((r-2*l)/3);if(VP(e+.5*l+f,t+o-h-1,l,h,n.className+" vis-bar",s.svgElements,s.svg,n.style),VP(e+1.5*l+f+2,t+o-d-1,l,d,n.className+" vis-bar",s.svgElements,s.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/u,className:n.className};rd(e+.5*l+f,t+o-h-1,m,s.svgElements,s.svg),rd(e+1.5*l+f+2,t+o-d-1,m,s.svgElements,s.svg)}};Or.draw=function(n,e,t){var r=[],i={},s,o,a,l,c,u,h=0;for(c=0;c<n.length;c++)if(l=t.groups[n[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[n[c]]===void 0||t.options.groups.visibility[n[c]]===!0))for(u=0;u<e[n[c]].length;u++)r.push({screen_x:e[n[c]][u].screen_x,screen_end:e[n[c]][u].screen_end,screen_y:e[n[c]][u].screen_y,x:e[n[c]][u].x,end:e[n[c]][u].end,y:e[n[c]][u].y,groupId:n[c],label:e[n[c]][u].label}),h+=1;if(h!==0)for(In(r).call(r,function(g,v){return g.screen_x===v.screen_x?g.groupId<v.groupId?-1:1:g.screen_x-v.screen_x}),Or._getDataIntersections(i,r),c=0;c<r.length;c++){l=t.groups[r[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=r[c].screen_x;var f=0;if(i[o]===void 0)c+1<r.length&&(s=Math.abs(r[c+1].screen_x-o)),a=Or._getSafeDrawData(s,l,d);else{var m=c+(i[o].amount-i[o].resolved);m<r.length&&(s=Math.abs(r[m].screen_x-o)),a=Or._getSafeDrawData(s,l,d),i[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?r[c].screen_y<l.zeroPosition?(f=i[o].accumulatedNegative,i[o].accumulatedNegative+=l.zeroPosition-r[c].screen_y):(f=i[o].accumulatedPositive,i[o].accumulatedPositive+=l.zeroPosition-r[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/i[o].amount,a.offset+=i[o].resolved*a.width-.5*a.width*(i[o].amount+1))}let g=a.width,v=r[c].screen_x;if(r[c].screen_end!=null?(g=r[c].screen_end-r[c].screen_x,v+=g*.5):v+=a.offset,VP(v,r[c].screen_y-f,g,l.zeroPosition-r[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let y={screen_x:r[c].screen_x,screen_y:r[c].screen_y-f,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};Cg.draw([y],l,t,a.offset)}}};Or._getDataIntersections=function(n,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(n[e[r].screen_x]===void 0&&(n[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[r].screen_x].amount+=1)};Or._getSafeDrawData=function(n,e,t){var r,i;return n<e.options.barChart.width&&n>0?(r=n<t?t:n,i=0,e.options.barChart.align==="left"?i-=.5*n:e.options.barChart.align==="right"&&(i+=.5*n)):(r=e.options.barChart.width,i=0,e.options.barChart.align==="left"?i-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(i+=.5*e.options.barChart.width)),{width:r,offset:i}};Or.getStackedYRange=function(n,e,t,r,i){if(n.length>0){In(n).call(n,function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};Or._getDataIntersections(s,n),e[r]=Or._getStackedYRange(s,n),e[r].yAxisOrientation=i,t.push(r)}};Or._getStackedYRange=function(n,e){for(var t,r=e[0].screen_y,i=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,n[t]===void 0?(r=r>e[s].screen_y?e[s].screen_y:r,i=i<e[s].screen_y?e[s].screen_y:i):e[s].screen_y<0?n[t].accumulatedNegative+=e[s].screen_y:n[t].accumulatedPositive+=e[s].screen_y;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r=r>n[o].accumulatedNegative?n[o].accumulatedNegative:r,r=r>n[o].accumulatedPositive?n[o].accumulatedPositive:r,i=i<n[o].accumulatedNegative?n[o].accumulatedNegative:i,i=i<n[o].accumulatedPositive?n[o].accumulatedPositive:i);return{min:r,max:i}};function sr(){}sr.calcPath=function(n,e){if(n!=null&&n.length>0){var t=[];return e.options.interpolation.enabled==!0?t=sr._catmullRom(n,e):t=sr._linear(n),t}};sr.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a,l,c=gs("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=gs("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",n.className),n.style!==void 0&&a.setAttributeNS(null,"style",n.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),n.options.shaded.enabled==!0&&(l=gs("path",s.svgElements,s.svg),n.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+r)+","+(t+o)+"L"+(e+r)+","+t),l.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&l.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var u={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};rd(e+.5*r,t,u,s.svgElements,s.svg)}};sr.drawShading=function(n,e,t,r){if(e.options.shaded.enabled==!0){var i=Number(r.svg.style.height.replace("px","")),s=gs("path",r.svgElements,r.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=i:l=Math.min(Math.max(0,e.zeroPosition),i),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" V"+l+" H"+n[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};sr.draw=function(n,e,t){if(n!=null&&n!=null){var r=gs("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var i="L";e.options.interpolation.enabled==!0&&(i="C"),r.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,i,!1))}};sr.serializePath=function(n,e,t){if(n.length<2)return"";var r=e,i;if(t)for(i=n.length-2;i>0;i--)r+=n[i][0]+","+n[i][1]+" ";else for(i=1;i<n.length;i++)r+=n[i][0]+","+n[i][1]+" ";return r};sr._catmullRomUniform=function(n){var e,t,r,i,s,o,a=[];a.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var l=1/6,c=n.length,u=0;u<c-1;u++)e=u==0?n[0]:n[u-1],t=n[u],r=n[u+1],i=u+2<c?n[u+2]:r,s={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*l},o={screen_x:(t.screen_x+6*r.screen_x-i.screen_x)*l,screen_y:(t.screen_y+6*r.screen_y-i.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([r.screen_x,r.screen_y]);return a};sr._catmullRom=function(n,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(n);var r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k=[];k.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var E=n.length,C=0;C<E-1;C++)r=C==0?n[0]:n[C-1],i=n[C],s=n[C+1],o=C+2<E?n[C+2]:s,c=Math.sqrt(Math.pow(r.screen_x-i.screen_x,2)+Math.pow(r.screen_y-i.screen_y,2)),u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),v=Math.pow(h,t),b=Math.pow(h,2*t),y=Math.pow(u,t),w=Math.pow(u,2*t),_=Math.pow(c,t),S=Math.pow(c,2*t),d=2*S+3*_*y+w,f=2*b+3*v*y+w,m=3*_*(_+y),m>0&&(m=1/m),g=3*v*(v+y),g>0&&(g=1/g),a={screen_x:(-w*r.screen_x+d*i.screen_x+S*s.screen_x)*m,screen_y:(-w*r.screen_y+d*i.screen_y+S*s.screen_y)*m},l={screen_x:(b*i.screen_x+f*s.screen_x-w*o.screen_x)*g,screen_y:(b*i.screen_y+f*s.screen_y-w*o.screen_y)*g},a.screen_x==0&&a.screen_y==0&&(a=i),l.screen_x==0&&l.screen_y==0&&(l=s),k.push([a.screen_x,a.screen_y]),k.push([l.screen_x,l.screen_y]),k.push([s.screen_x,s.screen_y]);return k};sr._linear=function(n){for(var e=[],t=0;t<n.length;t++)e.push([n[t].screen_x,n[t].screen_y]);return e};function hl(n,e,t,r){this.id=e;var i=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=H.selectiveBridgeObject(i,t),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}hl.prototype.setItems=function(n){n!=null?(this.itemsData=n,In(this.options)==!0&&H.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};hl.prototype.getItems=function(){return this.itemsData};hl.prototype.setZeroPosition=function(n){this.zeroPosition=n};hl.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];H.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),H.mergeOptions(this.options,n,"interpolation"),H.mergeOptions(this.options,n,"drawPoints"),H.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};hl.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};hl.prototype.getLegend=function(n,e,t,r,i){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(i==null||i==null)&&(i=.5*e),this.options.style){case"line":sr.drawIcon(this,r,i,n,e,t);break;case"points":case"point":Cg.drawIcon(this,r,i,n,e,t);break;case"bar":Or.drawIcon(this,r,i,n,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};hl.prototype.getYRange=function(n){for(var e=n[0].y,t=n[0].y,r=0;r<n.length;r++)e=e>n[r].y?n[r].y:e,t=t<n[r].y?n[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function wi(n,e,t,r){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=H.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}wi.prototype=new ul;wi.prototype.clear=function(){this.groups={},this.amountOfGroups=0};wi.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};wi.prototype.updateGroup=function(n,e){this.groups[n]=e};wi.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};wi.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};wi.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};wi.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};wi.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];H.selectiveDeepExtend(e,this.options,n)};wi.prototype.redraw=function(){var n=0,e=zn(this.groups);In(e).call(e,function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var i=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+i+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(s+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=H.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};wi.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=zn(this.groups);In(n).call(n,function(c,u){return c<u?-1:1}),tPe(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,i=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=i+5+t+"px";for(var a=0;a<n.length;a++){var l=n[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(i,s,this.framework,r,o),o+=s+this.options.iconSpacing)}}};var nb="__ungrouped__";function Wt(n,e){this.id=lc(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=H.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,i){t._onAdd(i.items)},update:function(r,i){t._onUpdate(i.items)},remove:function(r,i){t._onRemove(i.items)}},this.groupListeners={add:function(r,i){t._onAddGroups(i.items)},update:function(r,i){t._onUpdateGroups(i.items)},remove:function(r,i){t._onRemoveGroups(i.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=H.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Wt.prototype=new ul;Wt.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new AU(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new AU(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new wi(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new wi(this.body,this.options.legend,"right",this.options.groups),this.show()};Wt.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&hi((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),H.selectiveDeepExtend(e,this.options,n),H.mergeOptions(this.options,n,"interpolation"),H.mergeOptions(this.options,n,"drawPoints"),H.mergeOptions(this.options,n,"shaded"),H.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,nb)&&this.groups[nb].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Wt.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Wt.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Wt.prototype.setItems=function(n){var e=this,t,r=this.itemsData;if(!n)this.itemsData=null;else if(Tc(n))this.itemsData=Qy(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(Re(H).call(H,this.itemListeners,function(s,o){r.off(o,s)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;Re(H).call(H,this.itemListeners,function(s,o){e.itemsData.on(o,s,i)}),t=this.itemsData.getIds(),this._onAdd(t)}};Wt.prototype.setGroups=function(n){var e=this,t;if(this.groupsData){Re(H).call(H,this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!n)this.groupsData=null;else if(Tc(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i=this.id;Re(H).call(H,this.groupListeners,function(s,o){e.groupsData.on(o,s,i)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};Wt.prototype._onUpdate=function(n){this._updateAllGroupData(n)};Wt.prototype._onAdd=function(n){this._onUpdate(n)};Wt.prototype._onRemove=function(n){this._onUpdate(n)};Wt.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};Wt.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};Wt.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Wt.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};Wt.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new hl(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Wt.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),i=this.itemsData.idProp,s={};n&&Lt(n).call(n,function(v){s[v]=v});for(var o={},a=0;a<r.length;a++){var l=r[a],c=l.group;c==null&&(c=nb),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&n){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){g=this.groups[c];var h=g.getItems();t[c]=ht(h).call(h,function(v){return u[v[i]]=v[i],v[i]!==s[v[i]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<r.length;a++)if(l=r[a],c=l.group,c==null&&(c=nb),!(!e&&n&&l[i]!==s[l[i]]&&Object.prototype.hasOwnProperty.call(u,l[i]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=H.bridgeObject(l);f.x=H.convert(l.x,"Date"),f.end=H.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[i]=l[i];var m=t[c].length-o[c]--;t[c][m]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var g=void 0;this.groupsData!=null&&(g=this.groupsData.get(c)),g==null&&(g={id:c,content:this.options.defaultGroup+c}),this._updateGroup(g,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Wt.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var r;this.svg.style.width=H.option.asSize(3*this.props.width),this.svg.style.left=H.option.asSize(-this.props.width),(Ut(r=this.options.height+"").call(r,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var i=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/s,a=i*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};Wt.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:t.options.zIndex})}H.insertSort(n,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=n[i].id;return r};Wt.prototype._updateGraph=function(){if(wa(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,t={},r=!1,i=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,i,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),r=this._updateYAxis(o,t),r==!0)return Li(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)n=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(l!=null&&(this._stack(a[n.id],a[l.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=l.id))),l=n),this._convertYcoordinates(a[o[e]],n);var c={};for(e=0;e<o.length;e++)if(n=this.groups[o[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=sr.calcPath(u,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(Ut(o).call(o,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=sr.calcPath(a[h],this.groups[h])),sr.drawShading(c[o[e]],n,c[h],this.framework)}else sr.drawShading(c[o[e]],n,void 0,this.framework)}for(Or.draw(o,a,this.framework),e=0;e<o.length;e++)if(n=this.groups[o[e]],a[o[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=sr.calcPath(a[o[e]],n)),sr.draw(c[o[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&Cg.draw(a[o[e]],n,this.framework);break}}}return Li(this.svgElements),!1};Wt.prototype._stack=function(n,e){var t,r,i,s,o;t=0;for(var a=0;a<n.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===n[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>n[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),r=o.x-s.x,i=o.y-s.y,r==0?n[a].y=n[a].orginalY+o.y:n[a].y=n[a].orginalY+i/r*(n[a].x-s.x)+s.y}};Wt.prototype._getRelevantData=function(n,e,t,r){var i,s,o,a;if(n.length>0)for(s=0;s<n.length;s++){i=this.groups[n[s]];var l=i.getItems();if(In(i.options)==!0){var c=function(f,m){return f.getTime()==m.getTime()?0:f<m?-1:1},u=Math.max(0,H.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,H.binarySearchValue(l,r,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=i.itemsData[o],d[o-u]=a;e[n[s]]=d}else e[n[s]]=i.itemsData}};Wt.prototype._applySampling=function(n,e){var t;if(n.length>0){for(var r=0;r<n.length;r++)if(t=this.groups[n[r]],t.options.sampling==!0){var i=e[n[r]];if(i.length>0){var s=1,o=i.length,a=this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=i[u]}e[n[r]]=Ir(c).call(c,0,Math.round(o/s))}}}};Wt.prototype._getYRanges=function(n,e,t){var r,i,s,o=[],a=[],l;if(n.length>0){for(s=0;s<n.length;s++)r=e[n[s]],l=this.groups[n[s]].options,r.length>0&&(i=this.groups[n[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=En(o).call(o,r):a=En(a).call(a,r):t[n[s]]=i.getYRange(r,n[s]));Or.getStackedYRange(o,t,n,"__barStackLeft","left"),Or.getStackedYRange(a,t,n,"__barStackRight","right")}};Wt.prototype._updateYAxis=function(n,e){var t=!1,r=!1,i=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(n.length>0){for(var h=0;h<n.length;h++){var d=this.groups[n[h]];d&&d.options.yAxisOrientation!="right"?(r=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(i=!0,o=1e9,l=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(c=e[n[h]].min,u=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(r=!0,s=s>c?c:s,a=a<u?u:a):(i=!0,o=o>c?c:o,l=l<u?u:l));r==!0&&this.yAxisLeft.setRange(s,a),i==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(i,this.yAxisRight)||t,i==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(i==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)Ut(n).call(n,f[h])!=-1&&Ir(n).call(n,Ut(n).call(n,f[h]),1);return t};Wt.prototype._toggleAxisVisiblity=function(n,e){var t=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};Wt.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,t=0;t<n.length;t++)n[t].screen_x=e(n[t].x)+this.props.width,n[t].screen_y=n[t].y,n[t].end!=null?n[t].screen_end=e(n[t].end)+this.props.width:n[t].screen_end=void 0};Wt.prototype._convertYcoordinates=function(n,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var i=0;i<n.length;i++)n[i].screen_y=Math.round(t.convertValue(n[i].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let st="string",Ct="boolean",Bt="number",VDe="array",hu="date",sn="object",KDe="dom",du="moment",NU="any",XDe={configure:{enabled:{boolean:Ct},filter:{boolean:Ct,function:"function"},container:{dom:KDe},__type__:{object:sn,boolean:Ct,function:"function"}},alignCurrentTime:{string:st,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:st},sort:{boolean:Ct},sampling:{boolean:Ct},stack:{boolean:Ct},graphHeight:{string:st,number:Bt},shaded:{enabled:{boolean:Ct},orientation:{string:["bottom","top","zero","group"]},groupId:{object:sn},__type__:{boolean:Ct,object:sn}},style:{string:["line","bar","points"]},barChart:{width:{number:Bt},minWidth:{number:Bt},sideBySide:{boolean:Ct},align:{string:["left","center","right"]},__type__:{object:sn}},interpolation:{enabled:{boolean:Ct},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Bt},__type__:{object:sn,boolean:Ct}},drawPoints:{enabled:{boolean:Ct},onRender:{function:"function"},size:{number:Bt},style:{string:["square","circle"]},__type__:{object:sn,boolean:Ct,function:"function"}},dataAxis:{showMinorLabels:{boolean:Ct},showMajorLabels:{boolean:Ct},showWeekScale:{boolean:Ct},icons:{boolean:Ct},width:{string:st,number:Bt},visible:{boolean:Ct},alignZeros:{boolean:Ct},left:{range:{min:{number:Bt,undefined:"undefined"},max:{number:Bt,undefined:"undefined"},__type__:{object:sn}},format:{function:"function"},title:{text:{string:st,number:Bt,undefined:"undefined"},style:{string:st,undefined:"undefined"},__type__:{object:sn}},__type__:{object:sn}},right:{range:{min:{number:Bt,undefined:"undefined"},max:{number:Bt,undefined:"undefined"},__type__:{object:sn}},format:{function:"function"},title:{text:{string:st,number:Bt,undefined:"undefined"},style:{string:st,undefined:"undefined"},__type__:{object:sn}},__type__:{object:sn}},__type__:{object:sn}},legend:{enabled:{boolean:Ct},icons:{boolean:Ct},left:{visible:{boolean:Ct},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:sn}},right:{visible:{boolean:Ct},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:sn}},__type__:{object:sn,boolean:Ct}},groups:{visibility:{any:NU},__type__:{object:sn}},autoResize:{boolean:Ct},throttleRedraw:{number:Bt},clickToUse:{boolean:Ct},end:{number:Bt,date:hu,string:st,moment:du},format:{minorLabels:{millisecond:{string:st,undefined:"undefined"},second:{string:st,undefined:"undefined"},minute:{string:st,undefined:"undefined"},hour:{string:st,undefined:"undefined"},weekday:{string:st,undefined:"undefined"},day:{string:st,undefined:"undefined"},week:{string:st,undefined:"undefined"},month:{string:st,undefined:"undefined"},quarter:{string:st,undefined:"undefined"},year:{string:st,undefined:"undefined"},__type__:{object:sn}},majorLabels:{millisecond:{string:st,undefined:"undefined"},second:{string:st,undefined:"undefined"},minute:{string:st,undefined:"undefined"},hour:{string:st,undefined:"undefined"},weekday:{string:st,undefined:"undefined"},day:{string:st,undefined:"undefined"},week:{string:st,undefined:"undefined"},month:{string:st,undefined:"undefined"},quarter:{string:st,undefined:"undefined"},year:{string:st,undefined:"undefined"},__type__:{object:sn}},__type__:{object:sn}},moment:{function:"function"},height:{string:st,number:Bt},hiddenDates:{start:{date:hu,number:Bt,string:st,moment:du},end:{date:hu,number:Bt,string:st,moment:du},repeat:{string:st},__type__:{object:sn,array:VDe}},locale:{string:st},locales:{__any__:{any:NU},__type__:{object:sn}},max:{date:hu,number:Bt,string:st,moment:du},maxHeight:{number:Bt,string:st},maxMinorChars:{number:Bt},min:{date:hu,number:Bt,string:st,moment:du},minHeight:{number:Bt,string:st},moveable:{boolean:Ct},multiselect:{boolean:Ct},orientation:{string:st},showCurrentTime:{boolean:Ct},showMajorLabels:{boolean:Ct},showMinorLabels:{boolean:Ct},showWeekScale:{boolean:Ct},snap:{function:"function",null:"null"},start:{date:hu,number:Bt,string:st,moment:du},timeAxis:{scale:{string:st,undefined:"undefined"},step:{number:Bt,undefined:"undefined"},__type__:{object:sn}},width:{string:st,number:Bt},zoomable:{boolean:Ct},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Bt},zoomMin:{number:Bt},zIndex:{number:Bt},__type__:{object:sn}},QDe={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Xo(n,e,t,r){var i,s,o,a,l,c,u;if(!(St(t)||Tc(t))&&t instanceof Object){var h=r;r=t,t=h}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Gr,width:null,height:null,maxHeight:null,minHeight:null},this.options=H.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:ce(i=this.on).call(i,this),off:ce(s=this.off).call(s,this),emit:ce(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale(){return d.timeAxis.step.scale},getStep(){return d.timeAxis.step.step},toScreen:ce(a=d._toScreen).call(a,d),toGlobalScreen:ce(l=d._toGlobalScreen).call(l,d),toTime:ce(c=d._toTime).call(c,d),toGlobalTime:ce(u=d._toGlobalTime).call(u,d)}},this.range=new aD(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new ZP(this.body),this.components.push(this.timeAxis),this.currentTime=new fDe(this.body),this.components.push(this.currentTime),this.linegraph=new Wt(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(f){d.emit("click",d.getEventProperties(f))}),this.on("doubletap",function(f){d.emit("doubleClick",d.getEventProperties(f))}),this.dom.root.oncontextmenu=function(f){d.emit("contextmenu",d.getEventProperties(f))},this.initialFitDone=!1,this.on("changed",function(){if(d.itemsData!=null){if(!d.initialFitDone&&!d.options.rollingMode)if(d.initialFitDone=!0,d.options.start!=null||d.options.end!=null){if(d.options.start==null||d.options.end==null)var f=d.getItemRange();var m=d.options.start!=null?d.options.start:f.min,g=d.options.end!=null?d.options.end:f.max;d.setWindow(m,g,{animation:!1})}else d.fit({animation:!1});!d.initialDrawDone&&(d.initialRangeChangeDone||!d.options.start&&!d.options.end||d.options.rollingMode)&&(d.initialDrawDone=!0,d.dom.root.style.visibility="visible",d.dom.loadingScreen.parentNode.removeChild(d.dom.loadingScreen),d.options.onInitialDrawComplete&&Jr(()=>d.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}Xo.prototype=new fD;Xo.prototype.setOptions=function(n){cn.validate(n,XDe)===!0&&console.log("%cErrors have been found in the supplied options object.",tI),fD.prototype.setOptions.call(this,n)};Xo.prototype.setItems=function(n){var e=this.itemsData==null,t;if(n?Tc(n)?t=Qy(n):t=Qy(new rD(n)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,i=this.options.end!=null?this.options.end:null;this.setWindow(r,i,{animation:!1})}else this.fit({animation:!1})};Xo.prototype.setGroups=function(n){var e;n?Tc(n)?e=n:e=new rD(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Xo.prototype.getLegend=function(n,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,t):"cannot find group:'"+n+"'"};Xo.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};Xo.prototype.getDataRange=function(){var n=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var i=this.linegraph.groups[t].itemsData[r],s=H.convert(i.x,"Date").valueOf();n=n==null||n>s?s:n,e=e==null||e<s?s:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};Xo.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,t=n.center?n.center.y:n.clientY,r=e-H.getAbsoluteLeft(this.dom.centerContainer),i=t-H.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(r),o=LJ.customTimeFromTarget(n),a=H.getTarget(n),l=null;H.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&H.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":H.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||H.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":H.hasParent(a,this.linegraph.legendLeft.dom.frame)||H.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":H.hasParent(a,this.currentTime.bar)?l="current-time":H.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(i)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(i)),{event:n,customTime:o?o.options.id:null,what:l,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:r,y:i,time:s,value:c}};Xo.prototype._createConfigurator=function(){return new HDe(this,this.dom.container,QDe)};const JDe=nPe();Gr.locale(JDe);const ZDe=M.createContext(void 0),Sf="onboard_mnemonic",kf="onboard_wallet_address",eAe=({children:n})=>{const[e,t]=M.useState(null),[r,i]=M.useState(null);M.useEffect(()=>{const l=localStorage.getItem(kf),c=localStorage.getItem(Sf),u=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");l&&c?(t(l),i(c)):u&&h&&(t(u),i(h),localStorage.setItem(kf,u),localStorage.setItem(Sf,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),M.useEffect(()=>{const l=c=>{c.key===kf?t(c.newValue):c.key===Sf&&i(c.newValue)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const s=M.useCallback((l,c)=>{t(l),i(c),localStorage.setItem(kf,l),localStorage.setItem(Sf,c)},[]),o=M.useCallback(()=>{t(null),i(null),localStorage.removeItem(kf),localStorage.removeItem(Sf)},[]),a=M.useMemo(()=>({generatedAddress:e,mnemonic:r,setGeneratedData:s,clearGeneratedData:o}),[e,r,s,o]);return P.jsx(ZDe.Provider,{value:a,children:n})};function tAe(){return P.jsxs(eAe,{children:[P.jsx("div",{className:"App",children:P.jsx("main",{className:"App-main",children:P.jsx(I0e,{})})}),P.jsx(pde,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const LU=TY({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),FU=TY({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),nAe=Noe({chains:[LU,FU],connectors:[Sb()],transports:{[LU.id]:M3(),[FU.id]:M3()}}),rAe=new cse,iAe=tAe,sAe=MT.createRoot(document.getElementById("root"));sAe.render(P.jsx(de.StrictMode,{children:P.jsx(joe,{config:nAe,children:P.jsx(hse,{client:rAe,children:P.jsx(iAe,{})})})}));
//# sourceMappingURL=index-CD48b0aR.js.map
