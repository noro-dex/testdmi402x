var nne=Object.defineProperty;var XD=n=>{throw TypeError(n)};var rne=(n,e,t)=>e in n?nne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ue=(n,e,t)=>rne(n,typeof e!="symbol"?e+"":e,t),ew=(n,e,t)=>e.has(n)||XD("Cannot "+t);var J=(n,e,t)=>(ew(n,e,"read from private field"),t?t.call(n):e.get(n)),Fe=(n,e,t)=>e.has(n)?XD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),pe=(n,e,t,r)=>(ew(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Nt=(n,e,t)=>(ew(n,e,"access private method"),t);var jg=(n,e,t,r)=>({set _(i){pe(n,e,i,t)},get _(){return J(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function ZI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ine(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var UU={exports:{}},ib={},HU={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=Symbol.for("react.element"),sne=Symbol.for("react.portal"),one=Symbol.for("react.fragment"),ane=Symbol.for("react.strict_mode"),lne=Symbol.for("react.profiler"),cne=Symbol.for("react.provider"),une=Symbol.for("react.context"),hne=Symbol.for("react.forward_ref"),dne=Symbol.for("react.suspense"),fne=Symbol.for("react.memo"),pne=Symbol.for("react.lazy"),QD=Symbol.iterator;function mne(n){return n===null||typeof n!="object"?null:(n=QD&&n[QD]||n["@@iterator"],typeof n=="function"?n:null)}var WU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YU=Object.assign,GU={};function ad(n,e,t){this.props=n,this.context=e,this.refs=GU,this.updater=t||WU}ad.prototype.isReactComponent={};ad.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ad.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function VU(){}VU.prototype=ad.prototype;function eP(n,e,t){this.props=n,this.context=e,this.refs=GU,this.updater=t||WU}var tP=eP.prototype=new VU;tP.constructor=eP;YU(tP,ad.prototype);tP.isPureReactComponent=!0;var JD=Array.isArray,KU=Object.prototype.hasOwnProperty,nP={current:null},XU={key:!0,ref:!0,__self:!0,__source:!0};function QU(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KU.call(e,r)&&!XU.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lm,type:n,key:s,ref:o,props:i,_owner:nP.current}}function gne(n,e){return{$$typeof:Lm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function rP(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lm}function vne(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ZD=/\/+/g;function tw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?vne(""+n.key):e.toString(36)}function ov(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Lm:case sne:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+tw(o,0):r,JD(i)?(t="",n!=null&&(t=n.replace(ZD,"$&/")+"/"),ov(i,e,t,"",function(c){return c})):i!=null&&(rP(i)&&(i=gne(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZD,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JD(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+tw(s,a);o+=ov(s,e,t,l,i)}else if(l=mne(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+tw(s,a++),o+=ov(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bg(n,e,t){if(n==null)return n;var r=[],i=0;return ov(n,r,"","",function(s){return e.call(t,s,i++)}),r}function yne(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var $r={current:null},av={transition:null},bne={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:av,ReactCurrentOwner:nP};function JU(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Bg,forEach:function(n,e,t){Bg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bg(n,function(){e++}),e},toArray:function(n){return Bg(n,function(e){return e})||[]},only:function(n){if(!rP(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_t.Component=ad;_t.Fragment=one;_t.Profiler=lne;_t.PureComponent=eP;_t.StrictMode=ane;_t.Suspense=dne;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bne;_t.act=JU;_t.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=YU({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nP.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)KU.call(e,l)&&!XU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Lm,type:n.type,key:i,ref:s,props:r,_owner:o}};_t.createContext=function(n){return n={$$typeof:une,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:cne,_context:n},n.Consumer=n};_t.createElement=QU;_t.createFactory=function(n){var e=QU.bind(null,n);return e.type=n,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(n){return{$$typeof:hne,render:n}};_t.isValidElement=rP;_t.lazy=function(n){return{$$typeof:pne,_payload:{_status:-1,_result:n},_init:yne}};_t.memo=function(n,e){return{$$typeof:fne,type:n,compare:e===void 0?null:e}};_t.startTransition=function(n){var e=av.transition;av.transition={};try{n()}finally{av.transition=e}};_t.unstable_act=JU;_t.useCallback=function(n,e){return $r.current.useCallback(n,e)};_t.useContext=function(n){return $r.current.useContext(n)};_t.useDebugValue=function(){};_t.useDeferredValue=function(n){return $r.current.useDeferredValue(n)};_t.useEffect=function(n,e){return $r.current.useEffect(n,e)};_t.useId=function(){return $r.current.useId()};_t.useImperativeHandle=function(n,e,t){return $r.current.useImperativeHandle(n,e,t)};_t.useInsertionEffect=function(n,e){return $r.current.useInsertionEffect(n,e)};_t.useLayoutEffect=function(n,e){return $r.current.useLayoutEffect(n,e)};_t.useMemo=function(n,e){return $r.current.useMemo(n,e)};_t.useReducer=function(n,e,t){return $r.current.useReducer(n,e,t)};_t.useRef=function(n){return $r.current.useRef(n)};_t.useState=function(n){return $r.current.useState(n)};_t.useSyncExternalStore=function(n,e,t){return $r.current.useSyncExternalStore(n,e,t)};_t.useTransition=function(){return $r.current.useTransition()};_t.version="18.3.1";HU.exports=_t;var I=HU.exports;const fe=ZI(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xne=I,wne=Symbol.for("react.element"),_ne=Symbol.for("react.fragment"),Sne=Object.prototype.hasOwnProperty,kne=xne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cne={key:!0,ref:!0,__self:!0,__source:!0};function ZU(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sne.call(e,r)&&!Cne.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wne,type:n,key:s,ref:o,props:i,_owner:kne.current}}ib.Fragment=_ne;ib.jsx=ZU;ib.jsxs=ZU;UU.exports=ib;var E=UU.exports,kT={},eH={exports:{}},Ei={},tH={exports:{}},nH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,q){var W=j.length;j.push(q);e:for(;0<W;){var V=W-1>>>1,X=j[V];if(0<i(X,q))j[V]=q,j[W]=X,W=V;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],W=j.pop();if(W!==q){j[0]=W;e:for(var V=0,X=j.length,Z=X>>>1;V<Z;){var H=2*(V+1)-1,K=j[H],Y=H+1,ne=j[Y];if(0>i(K,W))Y<X&&0>i(ne,K)?(j[V]=ne,j[Y]=W,V=Y):(j[V]=K,j[H]=W,V=H);else if(Y<X&&0>i(ne,W))j[V]=ne,j[Y]=W,V=Y;else break e}}return q}function i(j,q){var W=j.sortIndex-q.sortIndex;return W!==0?W:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var q=t(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=j)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function S(j){if(g=!1,w(j),!m)if(t(l)!==null)m=!0,L(_);else{var q=t(c);q!==null&&B(S,q.startTime-j)}}function _(j,q){m=!1,g&&(g=!1,y(T),T=-1),f=!0;var W=d;try{for(w(q),h=t(l);h!==null&&(!(h.expirationTime>q)||j&&!D());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var X=V(h.expirationTime<=q);q=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&r(l),w(q)}else r(l);h=t(l)}if(h!==null)var Z=!0;else{var H=t(c);H!==null&&B(S,H.startTime-q),Z=!1}return Z}finally{h=null,d=W,f=!1}}var k=!1,C=null,T=-1,O=5,R=-1;function D(){return!(n.unstable_now()-R<O)}function F(){if(C!==null){var j=n.unstable_now();R=j;var q=!0;try{q=C(!0,j)}finally{q?N():(k=!1,C=null)}}else k=!1}var N;if(typeof b=="function")N=function(){b(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=F,N=function(){$.postMessage(null)}}else N=function(){v(F,0)};function L(j){C=j,k||(k=!0,N())}function B(j,q){T=v(function(){j(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,L(_))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var W=d;d=q;try{return j()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=d;d=j;try{return q()}finally{d=W}},n.unstable_scheduleCallback=function(j,q,W){var V=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,j={id:u++,callback:q,priorityLevel:j,startTime:W,expirationTime:X,sortIndex:-1},W>V?(j.sortIndex=W,e(c,j),t(l)===null&&j===t(c)&&(g?(y(T),T=-1):g=!0,B(S,W-V))):(j.sortIndex=X,e(l,j),m||f||(m=!0,L(_))),j},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(j){var q=d;return function(){var W=d;d=q;try{return j.apply(this,arguments)}finally{d=W}}}})(nH);tH.exports=nH;var Ene=tH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tne=I,Si=Ene;function _e(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rH=new Set,yp={};function Nc(n,e){Ch(n,e),Ch(n+"Capture",e)}function Ch(n,e){for(yp[n]=e,n=0;n<e.length;n++)rH.add(e[n])}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CT=Object.prototype.hasOwnProperty,Mne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e3={},t3={};function Ine(n){return CT.call(t3,n)?!0:CT.call(e3,n)?!1:Mne.test(n)?t3[n]=!0:(e3[n]=!0,!1)}function Pne(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function One(n,e,t,r){if(e===null||typeof e>"u"||Pne(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){gr[n]=new jr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];gr[e]=new jr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){gr[n]=new jr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){gr[n]=new jr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){gr[n]=new jr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){gr[n]=new jr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){gr[n]=new jr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){gr[n]=new jr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){gr[n]=new jr(n,5,!1,n.toLowerCase(),null,!1,!1)});var iP=/[\-:]([a-z])/g;function sP(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(iP,sP);gr[e]=new jr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(iP,sP);gr[e]=new jr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(iP,sP);gr[e]=new jr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){gr[n]=new jr(n,1,!1,n.toLowerCase(),null,!1,!1)});gr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){gr[n]=new jr(n,1,!1,n.toLowerCase(),null,!0,!0)});function oP(n,e,t,r){var i=gr.hasOwnProperty(e)?gr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(One(e,t,i,r)&&(t=null),r||i===null?Ine(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Qo=Tne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zg=Symbol.for("react.element"),vu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),ET=Symbol.for("react.profiler"),iH=Symbol.for("react.provider"),sH=Symbol.for("react.context"),lP=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),MT=Symbol.for("react.suspense_list"),cP=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),oH=Symbol.for("react.offscreen"),n3=Symbol.iterator;function Ud(n){return n===null||typeof n!="object"?null:(n=n3&&n[n3]||n["@@iterator"],typeof n=="function"?n:null)}var bn=Object.assign,nw;function Ef(n){if(nw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nw=e&&e[1]||""}return`
`+nw+n}var rw=!1;function iw(n,e){if(!n||rw)return"";rw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ef(n):""}function Rne(n){switch(n.tag){case 5:return Ef(n.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return n=iw(n.type,!1),n;case 11:return n=iw(n.type.render,!1),n;case 1:return n=iw(n.type,!0),n;default:return""}}function IT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yu:return"Fragment";case vu:return"Portal";case ET:return"Profiler";case aP:return"StrictMode";case TT:return"Suspense";case MT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case sH:return(n.displayName||"Context")+".Consumer";case iH:return(n._context.displayName||"Context")+".Provider";case lP:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case cP:return e=n.displayName||null,e!==null?e:IT(n.type)||"Memo";case xa:e=n._payload,n=n._init;try{return IT(n(e))}catch{}}return null}function Dne(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IT(e);case 8:return e===aP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function el(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function aH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ane(n){var e=aH(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qg(n){n._valueTracker||(n._valueTracker=Ane(n))}function lH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=aH(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Fv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function PT(n,e){var t=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function r3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=el(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cH(n,e){e=e.checked,e!=null&&oP(n,"checked",e,!1)}function OT(n,e){cH(n,e);var t=el(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?RT(n,e.type,t):e.hasOwnProperty("defaultValue")&&RT(n,e.type,el(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function i3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function RT(n,e,t){(e!=="number"||Fv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Tf=Array.isArray;function ju(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+el(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function DT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function s3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(_e(92));if(Tf(t)){if(1<t.length)throw Error(_e(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:el(t)}}function uH(n,e){var t=el(e.value),r=el(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function o3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function hH(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AT(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?hH(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ug,dH=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ug=Ug||document.createElement("div"),Ug.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ug.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function bp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nne=["Webkit","ms","Moz","O"];Object.keys(Hf).forEach(function(n){Nne.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Hf[e]=Hf[n]})});function fH(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Hf.hasOwnProperty(n)&&Hf[n]?(""+e).trim():e+"px"}function pH(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=fH(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Lne=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NT(n,e){if(e){if(Lne[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function LT(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=null;function uP(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $T=null,Bu=null,zu=null;function a3(n){if(n=jm(n)){if(typeof $T!="function")throw Error(_e(280));var e=n.stateNode;e&&(e=cb(e),$T(n.stateNode,n.type,e))}}function mH(n){Bu?zu?zu.push(n):zu=[n]:Bu=n}function gH(){if(Bu){var n=Bu,e=zu;if(zu=Bu=null,a3(n),e)for(n=0;n<e.length;n++)a3(e[n])}}function vH(n,e){return n(e)}function yH(){}var sw=!1;function bH(n,e,t){if(sw)return n(e,t);sw=!0;try{return vH(n,e,t)}finally{sw=!1,(Bu!==null||zu!==null)&&(yH(),gH())}}function xp(n,e){var t=n.stateNode;if(t===null)return null;var r=cb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(_e(231,e,typeof t));return t}var jT=!1;if(Wo)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){jT=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{jT=!1}function Fne(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Wf=!1,$v=null,jv=!1,BT=null,$ne={onError:function(n){Wf=!0,$v=n}};function jne(n,e,t,r,i,s,o,a,l){Wf=!1,$v=null,Fne.apply($ne,arguments)}function Bne(n,e,t,r,i,s,o,a,l){if(jne.apply(this,arguments),Wf){if(Wf){var c=$v;Wf=!1,$v=null}else throw Error(_e(198));jv||(jv=!0,BT=c)}}function Lc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function xH(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function l3(n){if(Lc(n)!==n)throw Error(_e(188))}function zne(n){var e=n.alternate;if(!e){if(e=Lc(n),e===null)throw Error(_e(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return l3(i),n;if(s===r)return l3(i),e;s=s.sibling}throw Error(_e(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(t.alternate!==r)throw Error(_e(190))}if(t.tag!==3)throw Error(_e(188));return t.stateNode.current===t?n:e}function wH(n){return n=zne(n),n!==null?_H(n):null}function _H(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=_H(n);if(e!==null)return e;n=n.sibling}return null}var SH=Si.unstable_scheduleCallback,c3=Si.unstable_cancelCallback,qne=Si.unstable_shouldYield,Une=Si.unstable_requestPaint,Rn=Si.unstable_now,Hne=Si.unstable_getCurrentPriorityLevel,hP=Si.unstable_ImmediatePriority,kH=Si.unstable_UserBlockingPriority,Bv=Si.unstable_NormalPriority,Wne=Si.unstable_LowPriority,CH=Si.unstable_IdlePriority,sb=null,Js=null;function Yne(n){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(sb,n,void 0,(n.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:Kne,Gne=Math.log,Vne=Math.LN2;function Kne(n){return n>>>=0,n===0?32:31-(Gne(n)/Vne|0)|0}var Hg=64,Wg=4194304;function Mf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Mf(a):(s&=o,s!==0&&(r=Mf(s)))}else o=t&~i,o!==0?r=Mf(o):s!==0&&(r=Mf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ys(e),i=1<<t,r|=n[t],e&=~i;return r}function Xne(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qne(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ys(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Xne(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function zT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function EH(){var n=Hg;return Hg<<=1,!(Hg&4194240)&&(Hg=64),n}function ow(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Fm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ys(e),n[e]=t}function Jne(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ys(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function dP(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ys(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var qt=0;function TH(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var MH,fP,IH,PH,OH,qT=!1,Yg=[],za=null,qa=null,Ua=null,wp=new Map,_p=new Map,Sa=[],Zne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u3(n,e){switch(n){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":wp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_p.delete(e.pointerId)}}function Wd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jm(e),e!==null&&fP(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ere(n,e,t,r,i){switch(e){case"focusin":return za=Wd(za,n,e,t,r,i),!0;case"dragenter":return qa=Wd(qa,n,e,t,r,i),!0;case"mouseover":return Ua=Wd(Ua,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return wp.set(s,Wd(wp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_p.set(s,Wd(_p.get(s)||null,n,e,t,r,i)),!0}return!1}function RH(n){var e=Nl(n.target);if(e!==null){var t=Lc(e);if(t!==null){if(e=t.tag,e===13){if(e=xH(t),e!==null){n.blockedOn=e,OH(n.priority,function(){IH(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=UT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);FT=r,t.target.dispatchEvent(r),FT=null}else return e=jm(t),e!==null&&fP(e),n.blockedOn=t,!1;e.shift()}return!0}function h3(n,e,t){lv(n)&&t.delete(e)}function tre(){qT=!1,za!==null&&lv(za)&&(za=null),qa!==null&&lv(qa)&&(qa=null),Ua!==null&&lv(Ua)&&(Ua=null),wp.forEach(h3),_p.forEach(h3)}function Yd(n,e){n.blockedOn===e&&(n.blockedOn=null,qT||(qT=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,tre)))}function Sp(n){function e(i){return Yd(i,n)}if(0<Yg.length){Yd(Yg[0],n);for(var t=1;t<Yg.length;t++){var r=Yg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(za!==null&&Yd(za,n),qa!==null&&Yd(qa,n),Ua!==null&&Yd(Ua,n),wp.forEach(e),_p.forEach(e),t=0;t<Sa.length;t++)r=Sa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Sa.length&&(t=Sa[0],t.blockedOn===null);)RH(t),t.blockedOn===null&&Sa.shift()}var qu=Qo.ReactCurrentBatchConfig,qv=!0;function nre(n,e,t,r){var i=qt,s=qu.transition;qu.transition=null;try{qt=1,pP(n,e,t,r)}finally{qt=i,qu.transition=s}}function rre(n,e,t,r){var i=qt,s=qu.transition;qu.transition=null;try{qt=4,pP(n,e,t,r)}finally{qt=i,qu.transition=s}}function pP(n,e,t,r){if(qv){var i=UT(n,e,t,r);if(i===null)gw(n,e,r,Uv,t),u3(n,r);else if(ere(i,n,e,t,r))r.stopPropagation();else if(u3(n,r),e&4&&-1<Zne.indexOf(n)){for(;i!==null;){var s=jm(i);if(s!==null&&MH(s),s=UT(n,e,t,r),s===null&&gw(n,e,r,Uv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else gw(n,e,r,null,t)}}var Uv=null;function UT(n,e,t,r){if(Uv=null,n=uP(r),n=Nl(n),n!==null)if(e=Lc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=xH(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Uv=n,null}function DH(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hne()){case hP:return 1;case kH:return 4;case Bv:case Wne:return 16;case CH:return 536870912;default:return 16}default:return 16}}var Na=null,mP=null,cv=null;function AH(){if(cv)return cv;var n,e=mP,t=e.length,r,i="value"in Na?Na.value:Na.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cv=i.slice(n,1<r?1-r:void 0)}function uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gg(){return!0}function d3(){return!1}function Ti(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gg:d3,this.isPropagationStopped=d3,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),e}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gP=Ti(ld),$m=bn({},ld,{view:0,detail:0}),ire=Ti($m),aw,lw,Gd,ob=bn({},$m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vP,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gd&&(Gd&&n.type==="mousemove"?(aw=n.screenX-Gd.screenX,lw=n.screenY-Gd.screenY):lw=aw=0,Gd=n),aw)},movementY:function(n){return"movementY"in n?n.movementY:lw}}),f3=Ti(ob),sre=bn({},ob,{dataTransfer:0}),ore=Ti(sre),are=bn({},$m,{relatedTarget:0}),cw=Ti(are),lre=bn({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),cre=Ti(lre),ure=bn({},ld,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hre=Ti(ure),dre=bn({},ld,{data:0}),p3=Ti(dre),fre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gre(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mre[n])?!!e[n]:!1}function vP(){return gre}var vre=bn({},$m,{key:function(n){if(n.key){var e=fre[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pre[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vP,charCode:function(n){return n.type==="keypress"?uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yre=Ti(vre),bre=bn({},ob,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m3=Ti(bre),xre=bn({},$m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vP}),wre=Ti(xre),_re=bn({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sre=Ti(_re),kre=bn({},ob,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cre=Ti(kre),Ere=[9,13,27,32],yP=Wo&&"CompositionEvent"in window,Yf=null;Wo&&"documentMode"in document&&(Yf=document.documentMode);var Tre=Wo&&"TextEvent"in window&&!Yf,NH=Wo&&(!yP||Yf&&8<Yf&&11>=Yf),g3=" ",v3=!1;function LH(n,e){switch(n){case"keyup":return Ere.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FH(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bu=!1;function Mre(n,e){switch(n){case"compositionend":return FH(e);case"keypress":return e.which!==32?null:(v3=!0,g3);case"textInput":return n=e.data,n===g3&&v3?null:n;default:return null}}function Ire(n,e){if(bu)return n==="compositionend"||!yP&&LH(n,e)?(n=AH(),cv=mP=Na=null,bu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NH&&e.locale!=="ko"?null:e.data;default:return null}}var Pre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Pre[n.type]:e==="textarea"}function $H(n,e,t,r){mH(r),e=Hv(e,"onChange"),0<e.length&&(t=new gP("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gf=null,kp=null;function Ore(n){KH(n,0)}function ab(n){var e=_u(n);if(lH(e))return n}function Rre(n,e){if(n==="change")return e}var jH=!1;if(Wo){var uw;if(Wo){var hw="oninput"in document;if(!hw){var b3=document.createElement("div");b3.setAttribute("oninput","return;"),hw=typeof b3.oninput=="function"}uw=hw}else uw=!1;jH=uw&&(!document.documentMode||9<document.documentMode)}function x3(){Gf&&(Gf.detachEvent("onpropertychange",BH),kp=Gf=null)}function BH(n){if(n.propertyName==="value"&&ab(kp)){var e=[];$H(e,kp,n,uP(n)),bH(Ore,e)}}function Dre(n,e,t){n==="focusin"?(x3(),Gf=e,kp=t,Gf.attachEvent("onpropertychange",BH)):n==="focusout"&&x3()}function Are(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ab(kp)}function Nre(n,e){if(n==="click")return ab(e)}function Lre(n,e){if(n==="input"||n==="change")return ab(e)}function Fre(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ws=typeof Object.is=="function"?Object.is:Fre;function Cp(n,e){if(ws(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!CT.call(e,i)||!ws(n[i],e[i]))return!1}return!0}function w3(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _3(n,e){var t=w3(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=w3(t)}}function zH(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?zH(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function qH(){for(var n=window,e=Fv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fv(n.document)}return e}function bP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function $re(n){var e=qH(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&zH(t.ownerDocument.documentElement,t)){if(r!==null&&bP(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=_3(t,s);var o=_3(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jre=Wo&&"documentMode"in document&&11>=document.documentMode,xu=null,HT=null,Vf=null,WT=!1;function S3(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;WT||xu==null||xu!==Fv(r)||(r=xu,"selectionStart"in r&&bP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vf&&Cp(Vf,r)||(Vf=r,r=Hv(HT,"onSelect"),0<r.length&&(e=new gP("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=xu)))}function Vg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var wu={animationend:Vg("Animation","AnimationEnd"),animationiteration:Vg("Animation","AnimationIteration"),animationstart:Vg("Animation","AnimationStart"),transitionend:Vg("Transition","TransitionEnd")},dw={},UH={};Wo&&(UH=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function lb(n){if(dw[n])return dw[n];if(!wu[n])return n;var e=wu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in UH)return dw[n]=e[t];return n}var HH=lb("animationend"),WH=lb("animationiteration"),YH=lb("animationstart"),GH=lb("transitionend"),VH=new Map,k3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(n,e){VH.set(n,e),Nc(e,[n])}for(var fw=0;fw<k3.length;fw++){var pw=k3[fw],Bre=pw.toLowerCase(),zre=pw[0].toUpperCase()+pw.slice(1);ol(Bre,"on"+zre)}ol(HH,"onAnimationEnd");ol(WH,"onAnimationIteration");ol(YH,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(GH,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qre=new Set("cancel close invalid load scroll toggle".split(" ").concat(If));function C3(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Bne(r,e,void 0,n),n.currentTarget=null}function KH(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C3(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C3(i,a,c),s=l}}}if(jv)throw n=BT,jv=!1,BT=null,n}function nn(n,e){var t=e[XT];t===void 0&&(t=e[XT]=new Set);var r=n+"__bubble";t.has(r)||(XH(e,n,2,!1),t.add(r))}function mw(n,e,t){var r=0;e&&(r|=4),XH(t,n,r,e)}var Kg="_reactListening"+Math.random().toString(36).slice(2);function Ep(n){if(!n[Kg]){n[Kg]=!0,rH.forEach(function(t){t!=="selectionchange"&&(qre.has(t)||mw(t,!1,n),mw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Kg]||(e[Kg]=!0,mw("selectionchange",!1,e))}}function XH(n,e,t,r){switch(DH(e)){case 1:var i=nre;break;case 4:i=rre;break;default:i=pP}t=i.bind(null,e,t,n),i=void 0,!jT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function gw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Nl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bH(function(){var c=s,u=uP(t),h=[];e:{var d=VH.get(n);if(d!==void 0){var f=gP,m=n;switch(n){case"keypress":if(uv(t)===0)break e;case"keydown":case"keyup":f=yre;break;case"focusin":m="focus",f=cw;break;case"focusout":m="blur",f=cw;break;case"beforeblur":case"afterblur":f=cw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=f3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ore;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wre;break;case HH:case WH:case YH:f=cre;break;case GH:f=Sre;break;case"scroll":f=ire;break;case"wheel":f=Cre;break;case"copy":case"cut":case"paste":f=hre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=m3}var g=(e&4)!==0,v=!g&&n==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=xp(b,y),S!=null&&g.push(Tp(b,S,w)))),v)break;b=b.return}0<g.length&&(d=new f(d,m,null,t,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==FT&&(m=t.relatedTarget||t.fromElement)&&(Nl(m)||m[Yo]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=t.relatedTarget||t.toElement,f=c,m=m?Nl(m):null,m!==null&&(v=Lc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=f3,S="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=m3,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?d:_u(f),w=m==null?d:_u(m),d=new g(S,b+"leave",f,t,u),d.target=v,d.relatedTarget=w,S=null,Nl(u)===c&&(g=new g(y,b+"enter",m,t,u),g.target=w,g.relatedTarget=v,S=g),v=S,f&&m)t:{for(g=f,y=m,b=0,w=g;w;w=ru(w))b++;for(w=0,S=y;S;S=ru(S))w++;for(;0<b-w;)g=ru(g),b--;for(;0<w-b;)y=ru(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=ru(g),y=ru(y)}g=null}else g=null;f!==null&&E3(h,d,f,g,!1),m!==null&&v!==null&&E3(h,v,m,g,!0)}}e:{if(d=c?_u(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var _=Rre;else if(y3(d))if(jH)_=Lre;else{_=Are;var k=Dre}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=Nre);if(_&&(_=_(n,c))){$H(h,_,t,u);break e}k&&k(n,d,c),n==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&RT(d,"number",d.value)}switch(k=c?_u(c):window,n){case"focusin":(y3(k)||k.contentEditable==="true")&&(xu=k,HT=c,Vf=null);break;case"focusout":Vf=HT=xu=null;break;case"mousedown":WT=!0;break;case"contextmenu":case"mouseup":case"dragend":WT=!1,S3(h,t,u);break;case"selectionchange":if(jre)break;case"keydown":case"keyup":S3(h,t,u)}var C;if(yP)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bu?LH(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(NH&&t.locale!=="ko"&&(bu||T!=="onCompositionStart"?T==="onCompositionEnd"&&bu&&(C=AH()):(Na=u,mP="value"in Na?Na.value:Na.textContent,bu=!0)),k=Hv(c,T),0<k.length&&(T=new p3(T,n,null,t,u),h.push({event:T,listeners:k}),C?T.data=C:(C=FH(t),C!==null&&(T.data=C)))),(C=Tre?Mre(n,t):Ire(n,t))&&(c=Hv(c,"onBeforeInput"),0<c.length&&(u=new p3("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=C))}KH(h,e)})}function Tp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Hv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xp(n,t),s!=null&&r.unshift(Tp(n,s,i)),s=xp(n,e),s!=null&&r.push(Tp(n,s,i))),n=n.return}return r}function ru(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E3(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=xp(t,s),l!=null&&o.unshift(Tp(t,l,a))):i||(l=xp(t,s),l!=null&&o.push(Tp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Ure=/\r\n?/g,Hre=/\u0000|\uFFFD/g;function T3(n){return(typeof n=="string"?n:""+n).replace(Ure,`
`).replace(Hre,"")}function Xg(n,e,t){if(e=T3(e),T3(n)!==e&&t)throw Error(_e(425))}function Wv(){}var YT=null,GT=null;function VT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KT=typeof setTimeout=="function"?setTimeout:void 0,Wre=typeof clearTimeout=="function"?clearTimeout:void 0,M3=typeof Promise=="function"?Promise:void 0,Yre=typeof queueMicrotask=="function"?queueMicrotask:typeof M3<"u"?function(n){return M3.resolve(null).then(n).catch(Gre)}:KT;function Gre(n){setTimeout(function(){throw n})}function vw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Sp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Sp(e)}function Ha(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function I3(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var cd=Math.random().toString(36).slice(2),Vs="__reactFiber$"+cd,Mp="__reactProps$"+cd,Yo="__reactContainer$"+cd,XT="__reactEvents$"+cd,Vre="__reactListeners$"+cd,Kre="__reactHandles$"+cd;function Nl(n){var e=n[Vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Yo]||t[Vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=I3(n);n!==null;){if(t=n[Vs])return t;n=I3(n)}return e}n=t,t=n.parentNode}return null}function jm(n){return n=n[Vs]||n[Yo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _u(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(_e(33))}function cb(n){return n[Mp]||null}var QT=[],Su=-1;function al(n){return{current:n}}function sn(n){0>Su||(n.current=QT[Su],QT[Su]=null,Su--)}function Zt(n,e){Su++,QT[Su]=n.current,n.current=e}var tl={},_r=al(tl),Qr=al(!1),pc=tl;function Eh(n,e){var t=n.type.contextTypes;if(!t)return tl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(n){return n=n.childContextTypes,n!=null}function Yv(){sn(Qr),sn(_r)}function P3(n,e,t){if(_r.current!==tl)throw Error(_e(168));Zt(_r,e),Zt(Qr,t)}function QH(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,Dne(n)||"Unknown",i));return bn({},t,r)}function Gv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||tl,pc=_r.current,Zt(_r,n),Zt(Qr,Qr.current),!0}function O3(n,e,t){var r=n.stateNode;if(!r)throw Error(_e(169));t?(n=QH(n,e,pc),r.__reactInternalMemoizedMergedChildContext=n,sn(Qr),sn(_r),Zt(_r,n)):sn(Qr),Zt(Qr,t)}var To=null,ub=!1,yw=!1;function JH(n){To===null?To=[n]:To.push(n)}function Xre(n){ub=!0,JH(n)}function ll(){if(!yw&&To!==null){yw=!0;var n=0,e=qt;try{var t=To;for(qt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}To=null,ub=!1}catch(i){throw To!==null&&(To=To.slice(n+1)),SH(hP,ll),i}finally{qt=e,yw=!1}}return null}var ku=[],Cu=0,Vv=null,Kv=0,Ui=[],Hi=0,mc=null,Ao=1,No="";function Cl(n,e){ku[Cu++]=Kv,ku[Cu++]=Vv,Vv=n,Kv=e}function ZH(n,e,t){Ui[Hi++]=Ao,Ui[Hi++]=No,Ui[Hi++]=mc,mc=n;var r=Ao;n=No;var i=32-ys(r)-1;r&=~(1<<i),t+=1;var s=32-ys(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ao=1<<32-ys(e)+i|t<<i|r,No=s+n}else Ao=1<<s|t<<i|r,No=n}function xP(n){n.return!==null&&(Cl(n,1),ZH(n,1,0))}function wP(n){for(;n===Vv;)Vv=ku[--Cu],ku[Cu]=null,Kv=ku[--Cu],ku[Cu]=null;for(;n===mc;)mc=Ui[--Hi],Ui[Hi]=null,No=Ui[--Hi],Ui[Hi]=null,Ao=Ui[--Hi],Ui[Hi]=null}var yi=null,vi=null,hn=!1,ms=null;function eW(n,e){var t=Wi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function R3(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,yi=n,vi=Ha(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,yi=n,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=mc!==null?{id:Ao,overflow:No}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Wi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,yi=n,vi=null,!0):!1;default:return!1}}function JT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZT(n){if(hn){var e=vi;if(e){var t=e;if(!R3(n,e)){if(JT(n))throw Error(_e(418));e=Ha(t.nextSibling);var r=yi;e&&R3(n,e)?eW(r,t):(n.flags=n.flags&-4097|2,hn=!1,yi=n)}}else{if(JT(n))throw Error(_e(418));n.flags=n.flags&-4097|2,hn=!1,yi=n}}}function D3(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;yi=n}function Qg(n){if(n!==yi)return!1;if(!hn)return D3(n),hn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!VT(n.type,n.memoizedProps)),e&&(e=vi)){if(JT(n))throw tW(),Error(_e(418));for(;e;)eW(n,e),e=Ha(e.nextSibling)}if(D3(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(_e(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vi=Ha(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vi=null}}else vi=yi?Ha(n.stateNode.nextSibling):null;return!0}function tW(){for(var n=vi;n;)n=Ha(n.nextSibling)}function Th(){vi=yi=null,hn=!1}function _P(n){ms===null?ms=[n]:ms.push(n)}var Qre=Qo.ReactCurrentBatchConfig;function Vd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(_e(309));var r=t.stateNode}if(!r)throw Error(_e(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(_e(284));if(!t._owner)throw Error(_e(290,n))}return n}function Jg(n,e){throw n=Object.prototype.toString.call(e),Error(_e(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function A3(n){var e=n._init;return e(n._payload)}function nW(n){function e(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Va(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,w,S){return b===null||b.tag!==6?(b=Cw(w,y.mode,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,S){var _=w.type;return _===yu?u(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xa&&A3(_)===b.type)?(S=i(b,w.props),S.ref=Vd(y,b,w),S.return=y,S):(S=vv(w.type,w.key,w.props,null,y.mode,S),S.ref=Vd(y,b,w),S.return=y,S)}function c(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Ew(w,y.mode,S),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,S,_){return b===null||b.tag!==7?(b=nc(w,y.mode,S,_),b.return=y,b):(b=i(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cw(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zg:return w=vv(b.type,b.key,b.props,null,y.mode,w),w.ref=Vd(y,null,b),w.return=y,w;case vu:return b=Ew(b,y.mode,w),b.return=y,b;case xa:var S=b._init;return h(y,S(b._payload),w)}if(Tf(b)||Ud(b))return b=nc(b,y.mode,w,null),b.return=y,b;Jg(y,b)}return null}function d(y,b,w,S){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zg:return w.key===_?l(y,b,w,S):null;case vu:return w.key===_?c(y,b,w,S):null;case xa:return _=w._init,d(y,b,_(w._payload),S)}if(Tf(w)||Ud(w))return _!==null?null:u(y,b,w,S,null);Jg(y,w)}return null}function f(y,b,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(b,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zg:return y=y.get(S.key===null?w:S.key)||null,l(b,y,S,_);case vu:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,_);case xa:var k=S._init;return f(y,b,w,k(S._payload),_)}if(Tf(S)||Ud(S))return y=y.get(w)||null,u(b,y,S,_,null);Jg(b,S)}return null}function m(y,b,w,S){for(var _=null,k=null,C=b,T=b=0,O=null;C!==null&&T<w.length;T++){C.index>T?(O=C,C=null):O=C.sibling;var R=d(y,C,w[T],S);if(R===null){C===null&&(C=O);break}n&&C&&R.alternate===null&&e(y,C),b=s(R,b,T),k===null?_=R:k.sibling=R,k=R,C=O}if(T===w.length)return t(y,C),hn&&Cl(y,T),_;if(C===null){for(;T<w.length;T++)C=h(y,w[T],S),C!==null&&(b=s(C,b,T),k===null?_=C:k.sibling=C,k=C);return hn&&Cl(y,T),_}for(C=r(y,C);T<w.length;T++)O=f(C,y,T,w[T],S),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?T:O.key),b=s(O,b,T),k===null?_=O:k.sibling=O,k=O);return n&&C.forEach(function(D){return e(y,D)}),hn&&Cl(y,T),_}function g(y,b,w,S){var _=Ud(w);if(typeof _!="function")throw Error(_e(150));if(w=_.call(w),w==null)throw Error(_e(151));for(var k=_=null,C=b,T=b=0,O=null,R=w.next();C!==null&&!R.done;T++,R=w.next()){C.index>T?(O=C,C=null):O=C.sibling;var D=d(y,C,R.value,S);if(D===null){C===null&&(C=O);break}n&&C&&D.alternate===null&&e(y,C),b=s(D,b,T),k===null?_=D:k.sibling=D,k=D,C=O}if(R.done)return t(y,C),hn&&Cl(y,T),_;if(C===null){for(;!R.done;T++,R=w.next())R=h(y,R.value,S),R!==null&&(b=s(R,b,T),k===null?_=R:k.sibling=R,k=R);return hn&&Cl(y,T),_}for(C=r(y,C);!R.done;T++,R=w.next())R=f(C,y,T,R.value,S),R!==null&&(n&&R.alternate!==null&&C.delete(R.key===null?T:R.key),b=s(R,b,T),k===null?_=R:k.sibling=R,k=R);return n&&C.forEach(function(F){return e(y,F)}),hn&&Cl(y,T),_}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===yu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zg:e:{for(var _=w.key,k=b;k!==null;){if(k.key===_){if(_=w.type,_===yu){if(k.tag===7){t(y,k.sibling),b=i(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xa&&A3(_)===k.type){t(y,k.sibling),b=i(k,w.props),b.ref=Vd(y,k,w),b.return=y,y=b;break e}t(y,k);break}else e(y,k);k=k.sibling}w.type===yu?(b=nc(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=vv(w.type,w.key,w.props,null,y.mode,S),S.ref=Vd(y,b,w),S.return=y,y=S)}return o(y);case vu:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Ew(w,y.mode,S),b.return=y,y=b}return o(y);case xa:return k=w._init,v(y,b,k(w._payload),S)}if(Tf(w))return m(y,b,w,S);if(Ud(w))return g(y,b,w,S);Jg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(y,b.sibling),b=i(b,w),b.return=y,y=b):(t(y,b),b=Cw(w,y.mode,S),b.return=y,y=b),o(y)):t(y,b)}return v}var Mh=nW(!0),rW=nW(!1),Xv=al(null),Qv=null,Eu=null,SP=null;function kP(){SP=Eu=Qv=null}function CP(n){var e=Xv.current;sn(Xv),n._currentValue=e}function eM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Uu(n,e){Qv=n,SP=Eu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Vr=!0),n.firstContext=null)}function Xi(n){var e=n._currentValue;if(SP!==n)if(n={context:n,memoizedValue:e,next:null},Eu===null){if(Qv===null)throw Error(_e(308));Eu=n,Qv.dependencies={lanes:0,firstContext:n}}else Eu=Eu.next=n;return e}var Ll=null;function EP(n){Ll===null?Ll=[n]:Ll.push(n)}function iW(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,EP(e)):(t.next=i.next,i.next=t),e.interleaved=t,Go(n,r)}function Go(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wa=!1;function TP(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sW(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $o(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Go(n,t)}return i=r.interleaved,i===null?(e.next=e,EP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Go(n,t)}function hv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dP(n,t)}}function N3(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Jv(n,e,t,r){var i=n.updateQueue;wa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(d=e,f=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=bn({},h,d);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vc|=o,n.lanes=o,n.memoizedState=h}}function L3(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var Bm={},Zs=al(Bm),Ip=al(Bm),Pp=al(Bm);function Fl(n){if(n===Bm)throw Error(_e(174));return n}function MP(n,e){switch(Zt(Pp,e),Zt(Ip,n),Zt(Zs,Bm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AT(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=AT(e,n)}sn(Zs),Zt(Zs,e)}function Ih(){sn(Zs),sn(Ip),sn(Pp)}function oW(n){Fl(Pp.current);var e=Fl(Zs.current),t=AT(e,n.type);e!==t&&(Zt(Ip,n),Zt(Zs,t))}function IP(n){Ip.current===n&&(sn(Zs),sn(Ip))}var mn=al(0);function Zv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bw=[];function PP(){for(var n=0;n<bw.length;n++)bw[n]._workInProgressVersionPrimary=null;bw.length=0}var dv=Qo.ReactCurrentDispatcher,xw=Qo.ReactCurrentBatchConfig,gc=0,yn=null,Wn=null,Xn=null,ey=!1,Kf=!1,Op=0,Jre=0;function vr(){throw Error(_e(321))}function OP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ws(n[t],e[t]))return!1;return!0}function RP(n,e,t,r,i,s){if(gc=s,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dv.current=n===null||n.memoizedState===null?nie:rie,n=t(r,i),Kf){s=0;do{if(Kf=!1,Op=0,25<=s)throw Error(_e(301));s+=1,Xn=Wn=null,e.updateQueue=null,dv.current=iie,n=t(r,i)}while(Kf)}if(dv.current=ty,e=Wn!==null&&Wn.next!==null,gc=0,Xn=Wn=yn=null,ey=!1,e)throw Error(_e(300));return n}function DP(){var n=Op!==0;return Op=0,n}function js(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?yn.memoizedState=Xn=n:Xn=Xn.next=n,Xn}function Qi(){if(Wn===null){var n=yn.alternate;n=n!==null?n.memoizedState:null}else n=Wn.next;var e=Xn===null?yn.memoizedState:Xn.next;if(e!==null)Xn=e,Wn=n;else{if(n===null)throw Error(_e(310));Wn=n,n={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Xn===null?yn.memoizedState=Xn=n:Xn=Xn.next=n}return Xn}function Rp(n,e){return typeof e=="function"?e(n):e}function ww(n){var e=Qi(),t=e.queue;if(t===null)throw Error(_e(311));t.lastRenderedReducer=n;var r=Wn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,yn.lanes|=u,vc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ws(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,yn.lanes|=s,vc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _w(n){var e=Qi(),t=e.queue;if(t===null)throw Error(_e(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ws(s,e.memoizedState)||(Vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function aW(){}function lW(n,e){var t=yn,r=Qi(),i=e(),s=!ws(r.memoizedState,i);if(s&&(r.memoizedState=i,Vr=!0),r=r.queue,AP(hW.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Xn!==null&&Xn.memoizedState.tag&1){if(t.flags|=2048,Dp(9,uW.bind(null,t,r,i,e),void 0,null),rr===null)throw Error(_e(349));gc&30||cW(t,e,i)}return i}function cW(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function uW(n,e,t,r){e.value=t,e.getSnapshot=r,dW(e)&&fW(n)}function hW(n,e,t){return t(function(){dW(e)&&fW(n)})}function dW(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ws(n,t)}catch{return!0}}function fW(n){var e=Go(n,1);e!==null&&bs(e,n,1,-1)}function F3(n){var e=js();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},e.queue=n,n=n.dispatch=tie.bind(null,yn,n),[e.memoizedState,n]}function Dp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function pW(){return Qi().memoizedState}function fv(n,e,t,r){var i=js();yn.flags|=n,i.memoizedState=Dp(1|e,t,void 0,r===void 0?null:r)}function hb(n,e,t,r){var i=Qi();r=r===void 0?null:r;var s=void 0;if(Wn!==null){var o=Wn.memoizedState;if(s=o.destroy,r!==null&&OP(r,o.deps)){i.memoizedState=Dp(e,t,s,r);return}}yn.flags|=n,i.memoizedState=Dp(1|e,t,s,r)}function $3(n,e){return fv(8390656,8,n,e)}function AP(n,e){return hb(2048,8,n,e)}function mW(n,e){return hb(4,2,n,e)}function gW(n,e){return hb(4,4,n,e)}function vW(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function yW(n,e,t){return t=t!=null?t.concat([n]):null,hb(4,4,vW.bind(null,e,n),t)}function NP(){}function bW(n,e){var t=Qi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function xW(n,e){var t=Qi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function wW(n,e,t){return gc&21?(ws(t,e)||(t=EH(),yn.lanes|=t,vc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Vr=!0),n.memoizedState=t)}function Zre(n,e){var t=qt;qt=t!==0&&4>t?t:4,n(!0);var r=xw.transition;xw.transition={};try{n(!1),e()}finally{qt=t,xw.transition=r}}function _W(){return Qi().memoizedState}function eie(n,e,t){var r=Ga(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},SW(n))kW(e,t);else if(t=iW(n,e,t,r),t!==null){var i=Nr();bs(t,n,r,i),CW(t,e,r)}}function tie(n,e,t){var r=Ga(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(SW(n))kW(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ws(a,o)){var l=e.interleaved;l===null?(i.next=i,EP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=iW(n,e,i,r),t!==null&&(i=Nr(),bs(t,n,r,i),CW(t,e,r))}}function SW(n){var e=n.alternate;return n===yn||e!==null&&e===yn}function kW(n,e){Kf=ey=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function CW(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dP(n,t)}}var ty={readContext:Xi,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},nie={readContext:Xi,useCallback:function(n,e){return js().memoizedState=[n,e===void 0?null:e],n},useContext:Xi,useEffect:$3,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fv(4194308,4,vW.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fv(4194308,4,n,e)},useInsertionEffect:function(n,e){return fv(4,2,n,e)},useMemo:function(n,e){var t=js();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=js();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=eie.bind(null,yn,n),[r.memoizedState,n]},useRef:function(n){var e=js();return n={current:n},e.memoizedState=n},useState:F3,useDebugValue:NP,useDeferredValue:function(n){return js().memoizedState=n},useTransition:function(){var n=F3(!1),e=n[0];return n=Zre.bind(null,n[1]),js().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=yn,i=js();if(hn){if(t===void 0)throw Error(_e(407));t=t()}else{if(t=e(),rr===null)throw Error(_e(349));gc&30||cW(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,$3(hW.bind(null,r,s,n),[n]),r.flags|=2048,Dp(9,uW.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=js(),e=rr.identifierPrefix;if(hn){var t=No,r=Ao;t=(r&~(1<<32-ys(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Op++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Jre++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},rie={readContext:Xi,useCallback:bW,useContext:Xi,useEffect:AP,useImperativeHandle:yW,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:xW,useReducer:ww,useRef:pW,useState:function(){return ww(Rp)},useDebugValue:NP,useDeferredValue:function(n){var e=Qi();return wW(e,Wn.memoizedState,n)},useTransition:function(){var n=ww(Rp)[0],e=Qi().memoizedState;return[n,e]},useMutableSource:aW,useSyncExternalStore:lW,useId:_W,unstable_isNewReconciler:!1},iie={readContext:Xi,useCallback:bW,useContext:Xi,useEffect:AP,useImperativeHandle:yW,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:xW,useReducer:_w,useRef:pW,useState:function(){return _w(Rp)},useDebugValue:NP,useDeferredValue:function(n){var e=Qi();return Wn===null?e.memoizedState=n:wW(e,Wn.memoizedState,n)},useTransition:function(){var n=_w(Rp)[0],e=Qi().memoizedState;return[n,e]},useMutableSource:aW,useSyncExternalStore:lW,useId:_W,unstable_isNewReconciler:!1};function as(n,e){if(n&&n.defaultProps){e=bn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function tM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:bn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var db={isMounted:function(n){return(n=n._reactInternals)?Lc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Nr(),i=Ga(n),s=$o(r,i);s.payload=e,t!=null&&(s.callback=t),e=Wa(n,s,i),e!==null&&(bs(e,n,i,r),hv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Nr(),i=Ga(n),s=$o(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Wa(n,s,i),e!==null&&(bs(e,n,i,r),hv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Nr(),r=Ga(n),i=$o(t,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(n,i,r),e!==null&&(bs(e,n,r,t),hv(e,n,r))}};function j3(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cp(t,r)||!Cp(i,s):!0}function EW(n,e,t){var r=!1,i=tl,s=e.contextType;return typeof s=="object"&&s!==null?s=Xi(s):(i=Jr(e)?pc:_r.current,r=e.contextTypes,s=(r=r!=null)?Eh(n,i):tl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=db,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function B3(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&db.enqueueReplaceState(e,e.state,null)}function nM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},TP(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xi(s):(s=Jr(e)?pc:_r.current,i.context=Eh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&db.enqueueReplaceState(i,i.state,null),Jv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ph(n,e){try{var t="",r=e;do t+=Rne(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Sw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var sie=typeof WeakMap=="function"?WeakMap:Map;function TW(n,e,t){t=$o(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ry||(ry=!0,fM=r),rM(n,e)},t}function MW(n,e,t){t=$o(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){rM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){rM(n,e),typeof r!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function z3(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new sie;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=bie.bind(null,n,e,t),e.then(n,n))}function q3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function U3(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=$o(-1,1),e.tag=2,Wa(t,e,1))),t.lanes|=1),n)}var oie=Qo.ReactCurrentOwner,Vr=!1;function Ir(n,e,t,r){e.child=n===null?rW(e,null,t,r):Mh(e,n.child,t,r)}function H3(n,e,t,r,i){t=t.render;var s=e.ref;return Uu(e,i),r=RP(n,e,t,r,s,i),t=DP(),n!==null&&!Vr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Vo(n,e,i)):(hn&&t&&xP(e),e.flags|=1,Ir(n,e,r,i),e.child)}function W3(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!UP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,IW(n,e,s,r,i)):(n=vv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Cp,t(o,r)&&n.ref===e.ref)return Vo(n,e,i)}return e.flags|=1,n=Va(s,r),n.ref=e.ref,n.return=e,e.child=n}function IW(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Cp(s,r)&&n.ref===e.ref)if(Vr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Vr=!0);else return e.lanes=n.lanes,Vo(n,e,i)}return iM(n,e,t,r,i)}function PW(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Mu,di),di|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(Mu,di),di|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Zt(Mu,di),di|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Zt(Mu,di),di|=r;return Ir(n,e,i,t),e.child}function OW(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function iM(n,e,t,r,i){var s=Jr(t)?pc:_r.current;return s=Eh(e,s),Uu(e,i),t=RP(n,e,t,r,s,i),r=DP(),n!==null&&!Vr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Vo(n,e,i)):(hn&&r&&xP(e),e.flags|=1,Ir(n,e,t,i),e.child)}function Y3(n,e,t,r,i){if(Jr(t)){var s=!0;Gv(e)}else s=!1;if(Uu(e,i),e.stateNode===null)pv(n,e),EW(e,t,r),nM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Xi(c):(c=Jr(t)?pc:_r.current,c=Eh(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&B3(e,o,r,c),wa=!1;var d=e.memoizedState;o.state=d,Jv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Qr.current||wa?(typeof u=="function"&&(tM(e,t,u,r),l=e.memoizedState),(a=wa||j3(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sW(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:as(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Xi(l):(l=Jr(t)?pc:_r.current,l=Eh(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&B3(e,o,r,l),wa=!1,d=e.memoizedState,o.state=d,Jv(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||Qr.current||wa?(typeof f=="function"&&(tM(e,t,f,r),m=e.memoizedState),(c=wa||j3(e,t,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return sM(n,e,t,r,s,i)}function sM(n,e,t,r,i,s){OW(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O3(e,t,!1),Vo(n,e,s);r=e.stateNode,oie.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Mh(e,n.child,null,s),e.child=Mh(e,null,a,s)):Ir(n,e,a,s),e.memoizedState=r.state,i&&O3(e,t,!0),e.child}function RW(n){var e=n.stateNode;e.pendingContext?P3(n,e.pendingContext,e.pendingContext!==e.context):e.context&&P3(n,e.context,!1),MP(n,e.containerInfo)}function G3(n,e,t,r,i){return Th(),_P(i),e.flags|=256,Ir(n,e,t,r),e.child}var oM={dehydrated:null,treeContext:null,retryLane:0};function aM(n){return{baseLanes:n,cachePool:null,transitions:null}}function DW(n,e,t){var r=e.pendingProps,i=mn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Zt(mn,i&1),n===null)return ZT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mb(o,r,0,null),n=nc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=aM(t),e.memoizedState=oM,n):LP(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aie(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Va(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Va(a,s):(s=nc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?aM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=oM,r}return s=n.child,n=s.sibling,r=Va(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function LP(n,e){return e=mb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Zg(n,e,t,r){return r!==null&&_P(r),Mh(e,n.child,null,t),n=LP(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function aie(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Sw(Error(_e(422))),Zg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mb({mode:"visible",children:r.children},i,0,null),s=nc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mh(e,n.child,null,o),e.child.memoizedState=aM(o),e.memoizedState=oM,s);if(!(e.mode&1))return Zg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_e(419)),r=Sw(s,r,void 0),Zg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Vr||a){if(r=rr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Go(n,i),bs(r,n,i,-1))}return qP(),r=Sw(Error(_e(421))),Zg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=xie.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,vi=Ha(i.nextSibling),yi=e,hn=!0,ms=null,n!==null&&(Ui[Hi++]=Ao,Ui[Hi++]=No,Ui[Hi++]=mc,Ao=n.id,No=n.overflow,mc=e),e=LP(e,r.children),e.flags|=4096,e)}function V3(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),eM(n.return,e,t)}function kw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function AW(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ir(n,e,r.children,t),r=mn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&V3(n,t,e);else if(n.tag===19)V3(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Zt(mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Zv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),kw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Zv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}kw(e,!0,t,null,s);break;case"together":kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Vo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),vc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(_e(153));if(e.child!==null){for(n=e.child,t=Va(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Va(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function lie(n,e,t){switch(e.tag){case 3:RW(e),Th();break;case 5:oW(e);break;case 1:Jr(e.type)&&Gv(e);break;case 4:MP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Xv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(mn,mn.current&1),e.flags|=128,null):t&e.child.childLanes?DW(n,e,t):(Zt(mn,mn.current&1),n=Vo(n,e,t),n!==null?n.sibling:null);Zt(mn,mn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return AW(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(mn,mn.current),r)break;return null;case 22:case 23:return e.lanes=0,PW(n,e,t)}return Vo(n,e,t)}var NW,lM,LW,FW;NW=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};lM=function(){};LW=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Fl(Zs.current);var s=null;switch(t){case"input":i=PT(n,i),r=PT(n,r),s=[];break;case"select":i=bn({},i,{value:void 0}),r=bn({},r,{value:void 0}),s=[];break;case"textarea":i=DT(n,i),r=DT(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Wv)}NT(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};FW=function(n,e,t,r){t!==r&&(e.flags|=4)};function Kd(n,e){if(!hn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function yr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function cie(n,e,t){var r=e.pendingProps;switch(wP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return Jr(e.type)&&Yv(),yr(e),null;case 3:return r=e.stateNode,Ih(),sn(Qr),sn(_r),PP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Qg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ms!==null&&(gM(ms),ms=null))),lM(n,e),yr(e),null;case 5:IP(e);var i=Fl(Pp.current);if(t=e.type,n!==null&&e.stateNode!=null)LW(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return yr(e),null}if(n=Fl(Zs.current),Qg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Vs]=e,r[Mp]=s,n=(e.mode&1)!==0,t){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<If.length;i++)nn(If[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":r3(r,s),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r);break;case"textarea":s3(r,s),nn("invalid",r)}NT(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xg(r.textContent,a,n),i=["children",""+a]):yp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(t){case"input":qg(r),i3(r,s,!0);break;case"textarea":qg(r),o3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hH(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Vs]=e,n[Mp]=r,NW(n,e,!1,!1),e.stateNode=n;e:{switch(o=LT(t,r),t){case"dialog":nn("cancel",n),nn("close",n),i=r;break;case"iframe":case"object":case"embed":nn("load",n),i=r;break;case"video":case"audio":for(i=0;i<If.length;i++)nn(If[i],n);i=r;break;case"source":nn("error",n),i=r;break;case"img":case"image":case"link":nn("error",n),nn("load",n),i=r;break;case"details":nn("toggle",n),i=r;break;case"input":r3(n,r),i=PT(n,r),nn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=bn({},r,{value:void 0}),nn("invalid",n);break;case"textarea":s3(n,r),i=DT(n,r),nn("invalid",n);break;default:i=r}NT(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pH(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dH(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&bp(n,l):typeof l=="number"&&bp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nn("scroll",n):l!=null&&oP(n,s,l,o))}switch(t){case"input":qg(n),i3(n,r,!1);break;case"textarea":qg(n),o3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+el(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?ju(n,!!r.multiple,s,!1):r.defaultValue!=null&&ju(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Wv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(n&&e.stateNode!=null)FW(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(t=Fl(Pp.current),Fl(Zs.current),Qg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Vs]=e,(s=r.nodeValue!==t)&&(n=yi,n!==null))switch(n.tag){case 3:Xg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Vs]=e,e.stateNode=r}return yr(e),null;case 13:if(sn(mn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hn&&vi!==null&&e.mode&1&&!(e.flags&128))tW(),Th(),e.flags|=98560,s=!1;else if(s=Qg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(_e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[Vs]=e}else Th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),s=!1}else ms!==null&&(gM(ms),ms=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||mn.current&1?Yn===0&&(Yn=3):qP())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return Ih(),lM(n,e),n===null&&Ep(e.stateNode.containerInfo),yr(e),null;case 10:return CP(e.type._context),yr(e),null;case 17:return Jr(e.type)&&Yv(),yr(e),null;case 19:if(sn(mn),s=e.memoizedState,s===null)return yr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Kd(s,!1);else{if(Yn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zv(n),o!==null){for(e.flags|=128,Kd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(mn,mn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Rn()>Oh&&(e.flags|=128,r=!0,Kd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Zv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Kd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hn)return yr(e),null}else 2*Rn()-s.renderingStartTime>Oh&&t!==1073741824&&(e.flags|=128,r=!0,Kd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rn(),e.sibling=null,t=mn.current,Zt(mn,r?t&1|2:t&1),e):(yr(e),null);case 22:case 23:return zP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?di&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function uie(n,e){switch(wP(e),e.tag){case 1:return Jr(e.type)&&Yv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ih(),sn(Qr),sn(_r),PP(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return IP(e),null;case 13:if(sn(mn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Th()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return sn(mn),null;case 4:return Ih(),null;case 10:return CP(e.type._context),null;case 22:case 23:return zP(),null;case 24:return null;default:return null}}var e0=!1,wr=!1,hie=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Tu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(n,e,r)}else t.current=null}function cM(n,e,t){try{t()}catch(r){kn(n,e,r)}}var K3=!1;function die(n,e){if(YT=qv,n=qH(),bP(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(GT={focusedElem:n,selectionRange:t},qv=!1,Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:as(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(S){kn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return m=K3,K3=!1,m}function Xf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&cM(e,t,s)}i=i.next}while(i!==r)}}function fb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function uM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function $W(n){var e=n.alternate;e!==null&&(n.alternate=null,$W(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Vs],delete e[Mp],delete e[XT],delete e[Vre],delete e[Kre])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jW(n){return n.tag===5||n.tag===3||n.tag===4}function X3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jW(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Wv));else if(r!==4&&(n=n.child,n!==null))for(hM(n,e,t),n=n.sibling;n!==null;)hM(n,e,t),n=n.sibling}function dM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(dM(n,e,t),n=n.sibling;n!==null;)dM(n,e,t),n=n.sibling}var cr=null,ps=!1;function sa(n,e,t){for(t=t.child;t!==null;)BW(n,e,t),t=t.sibling}function BW(n,e,t){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(sb,t)}catch{}switch(t.tag){case 5:wr||Tu(t,e);case 6:var r=cr,i=ps;cr=null,sa(n,e,t),cr=r,ps=i,cr!==null&&(ps?(n=cr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):cr.removeChild(t.stateNode));break;case 18:cr!==null&&(ps?(n=cr,t=t.stateNode,n.nodeType===8?vw(n.parentNode,t):n.nodeType===1&&vw(n,t),Sp(n)):vw(cr,t.stateNode));break;case 4:r=cr,i=ps,cr=t.stateNode.containerInfo,ps=!0,sa(n,e,t),cr=r,ps=i;break;case 0:case 11:case 14:case 15:if(!wr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cM(t,e,o),i=i.next}while(i!==r)}sa(n,e,t);break;case 1:if(!wr&&(Tu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){kn(t,e,a)}sa(n,e,t);break;case 21:sa(n,e,t);break;case 22:t.mode&1?(wr=(r=wr)||t.memoizedState!==null,sa(n,e,t),wr=r):sa(n,e,t);break;default:sa(n,e,t)}}function Q3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new hie),e.forEach(function(r){var i=wie.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function is(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:cr=a.stateNode,ps=!1;break e;case 3:cr=a.stateNode.containerInfo,ps=!0;break e;case 4:cr=a.stateNode.containerInfo,ps=!0;break e}a=a.return}if(cr===null)throw Error(_e(160));BW(s,o,i),cr=null,ps=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zW(e,n),e=e.sibling}function zW(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(is(e,n),Rs(n),r&4){try{Xf(3,n,n.return),fb(3,n)}catch(g){kn(n,n.return,g)}try{Xf(5,n,n.return)}catch(g){kn(n,n.return,g)}}break;case 1:is(e,n),Rs(n),r&512&&t!==null&&Tu(t,t.return);break;case 5:if(is(e,n),Rs(n),r&512&&t!==null&&Tu(t,t.return),n.flags&32){var i=n.stateNode;try{bp(i,"")}catch(g){kn(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cH(i,s),LT(a,o);var c=LT(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?pH(i,h):u==="dangerouslySetInnerHTML"?dH(i,h):u==="children"?bp(i,h):oP(i,u,h,c)}switch(a){case"input":OT(i,s);break;case"textarea":uH(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ju(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ju(i,!!s.multiple,s.defaultValue,!0):ju(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mp]=s}catch(g){kn(n,n.return,g)}}break;case 6:if(is(e,n),Rs(n),r&4){if(n.stateNode===null)throw Error(_e(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){kn(n,n.return,g)}}break;case 3:if(is(e,n),Rs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Sp(e.containerInfo)}catch(g){kn(n,n.return,g)}break;case 4:is(e,n),Rs(n);break;case 13:is(e,n),Rs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jP=Rn())),r&4&&Q3(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(wr=(c=wr)||u,is(e,n),wr=c):is(e,n),Rs(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Ge=n,u=n.child;u!==null;){for(h=Ge=u;Ge!==null;){switch(d=Ge,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xf(4,d,d.return);break;case 1:Tu(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){kn(r,t,g)}}break;case 5:Tu(d,d.return);break;case 22:if(d.memoizedState!==null){Z3(h);continue}}f!==null?(f.return=d,Ge=f):Z3(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fH("display",o))}catch(g){kn(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){kn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(e,n),Rs(n),r&4&&Q3(n);break;case 21:break;default:is(e,n),Rs(n)}}function Rs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(jW(t)){var r=t;break e}t=t.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bp(i,""),r.flags&=-33);var s=X3(n);dM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X3(n);hM(n,a,o);break;default:throw Error(_e(161))}}catch(l){kn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function fie(n,e,t){Ge=n,qW(n)}function qW(n,e,t){for(var r=(n.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||e0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wr;a=e0;var c=wr;if(e0=o,(wr=l)&&!c)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?eA(i):l!==null?(l.return=o,Ge=l):eA(i);for(;s!==null;)Ge=s,qW(s),s=s.sibling;Ge=i,e0=a,wr=c}J3(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):J3(n)}}function J3(n){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||fb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:as(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}L3(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Sp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}wr||e.flags&512&&uM(e)}catch(d){kn(e,e.return,d)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function Z3(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function eA(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{fb(4,e)}catch(l){kn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kn(e,i,l)}}var s=e.return;try{uM(e)}catch(l){kn(e,s,l)}break;case 5:var o=e.return;try{uM(e)}catch(l){kn(e,o,l)}}}catch(l){kn(e,e.return,l)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var pie=Math.ceil,ny=Qo.ReactCurrentDispatcher,FP=Qo.ReactCurrentOwner,Vi=Qo.ReactCurrentBatchConfig,Pt=0,rr=null,Bn=null,mr=0,di=0,Mu=al(0),Yn=0,Ap=null,vc=0,pb=0,$P=0,Qf=null,Wr=null,jP=0,Oh=1/0,Eo=null,ry=!1,fM=null,Ya=null,t0=!1,La=null,iy=0,Jf=0,pM=null,mv=-1,gv=0;function Nr(){return Pt&6?Rn():mv!==-1?mv:mv=Rn()}function Ga(n){return n.mode&1?Pt&2&&mr!==0?mr&-mr:Qre.transition!==null?(gv===0&&(gv=EH()),gv):(n=qt,n!==0||(n=window.event,n=n===void 0?16:DH(n.type)),n):1}function bs(n,e,t,r){if(50<Jf)throw Jf=0,pM=null,Error(_e(185));Fm(n,t,r),(!(Pt&2)||n!==rr)&&(n===rr&&(!(Pt&2)&&(pb|=t),Yn===4&&ka(n,mr)),Zr(n,r),t===1&&Pt===0&&!(e.mode&1)&&(Oh=Rn()+500,ub&&ll()))}function Zr(n,e){var t=n.callbackNode;Qne(n,e);var r=zv(n,n===rr?mr:0);if(r===0)t!==null&&c3(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&c3(t),e===1)n.tag===0?Xre(tA.bind(null,n)):JH(tA.bind(null,n)),Yre(function(){!(Pt&6)&&ll()}),t=null;else{switch(TH(r)){case 1:t=hP;break;case 4:t=kH;break;case 16:t=Bv;break;case 536870912:t=CH;break;default:t=Bv}t=XW(t,UW.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function UW(n,e){if(mv=-1,gv=0,Pt&6)throw Error(_e(327));var t=n.callbackNode;if(Hu()&&n.callbackNode!==t)return null;var r=zv(n,n===rr?mr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=sy(n,r);else{e=r;var i=Pt;Pt|=2;var s=WW();(rr!==n||mr!==e)&&(Eo=null,Oh=Rn()+500,tc(n,e));do try{vie();break}catch(a){HW(n,a)}while(!0);kP(),ny.current=s,Pt=i,Bn!==null?e=0:(rr=null,mr=0,e=Yn)}if(e!==0){if(e===2&&(i=zT(n),i!==0&&(r=i,e=mM(n,i))),e===1)throw t=Ap,tc(n,0),ka(n,r),Zr(n,Rn()),t;if(e===6)ka(n,r);else{if(i=n.current.alternate,!(r&30)&&!mie(i)&&(e=sy(n,r),e===2&&(s=zT(n),s!==0&&(r=s,e=mM(n,s))),e===1))throw t=Ap,tc(n,0),ka(n,r),Zr(n,Rn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:El(n,Wr,Eo);break;case 3:if(ka(n,r),(r&130023424)===r&&(e=jP+500-Rn(),10<e)){if(zv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Nr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=KT(El.bind(null,n,Wr,Eo),e);break}El(n,Wr,Eo);break;case 4:if(ka(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ys(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pie(r/1960))-r,10<r){n.timeoutHandle=KT(El.bind(null,n,Wr,Eo),r);break}El(n,Wr,Eo);break;case 5:El(n,Wr,Eo);break;default:throw Error(_e(329))}}}return Zr(n,Rn()),n.callbackNode===t?UW.bind(null,n):null}function mM(n,e){var t=Qf;return n.current.memoizedState.isDehydrated&&(tc(n,e).flags|=256),n=sy(n,e),n!==2&&(e=Wr,Wr=t,e!==null&&gM(e)),n}function gM(n){Wr===null?Wr=n:Wr.push.apply(Wr,n)}function mie(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ws(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ka(n,e){for(e&=~$P,e&=~pb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ys(e),r=1<<t;n[t]=-1,e&=~r}}function tA(n){if(Pt&6)throw Error(_e(327));Hu();var e=zv(n,0);if(!(e&1))return Zr(n,Rn()),null;var t=sy(n,e);if(n.tag!==0&&t===2){var r=zT(n);r!==0&&(e=r,t=mM(n,r))}if(t===1)throw t=Ap,tc(n,0),ka(n,e),Zr(n,Rn()),t;if(t===6)throw Error(_e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,El(n,Wr,Eo),Zr(n,Rn()),null}function BP(n,e){var t=Pt;Pt|=1;try{return n(e)}finally{Pt=t,Pt===0&&(Oh=Rn()+500,ub&&ll())}}function yc(n){La!==null&&La.tag===0&&!(Pt&6)&&Hu();var e=Pt;Pt|=1;var t=Vi.transition,r=qt;try{if(Vi.transition=null,qt=1,n)return n()}finally{qt=r,Vi.transition=t,Pt=e,!(Pt&6)&&ll()}}function zP(){di=Mu.current,sn(Mu)}function tc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Wre(t)),Bn!==null)for(t=Bn.return;t!==null;){var r=t;switch(wP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yv();break;case 3:Ih(),sn(Qr),sn(_r),PP();break;case 5:IP(r);break;case 4:Ih();break;case 13:sn(mn);break;case 19:sn(mn);break;case 10:CP(r.type._context);break;case 22:case 23:zP()}t=t.return}if(rr=n,Bn=n=Va(n.current,null),mr=di=e,Yn=0,Ap=null,$P=pb=vc=0,Wr=Qf=null,Ll!==null){for(e=0;e<Ll.length;e++)if(t=Ll[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ll=null}return n}function HW(n,e){do{var t=Bn;try{if(kP(),dv.current=ty,ey){for(var r=yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ey=!1}if(gc=0,Xn=Wn=yn=null,Kf=!1,Op=0,FP.current=null,t===null||t.return===null){Yn=1,Ap=e,Bn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=q3(o);if(f!==null){f.flags&=-257,U3(f,o,a,s,e),f.mode&1&&z3(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){z3(s,c,e),qP();break e}l=Error(_e(426))}}else if(hn&&a.mode&1){var v=q3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),U3(v,o,a,s,e),_P(Ph(l,a));break e}}s=l=Ph(l,a),Yn!==4&&(Yn=2),Qf===null?Qf=[s]:Qf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=TW(s,l,e);N3(s,y);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ya===null||!Ya.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=MW(s,a,e);N3(s,S);break e}}s=s.return}while(s!==null)}GW(t)}catch(_){e=_,Bn===t&&t!==null&&(Bn=t=t.return);continue}break}while(!0)}function WW(){var n=ny.current;return ny.current=ty,n===null?ty:n}function qP(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),rr===null||!(vc&268435455)&&!(pb&268435455)||ka(rr,mr)}function sy(n,e){var t=Pt;Pt|=2;var r=WW();(rr!==n||mr!==e)&&(Eo=null,tc(n,e));do try{gie();break}catch(i){HW(n,i)}while(!0);if(kP(),Pt=t,ny.current=r,Bn!==null)throw Error(_e(261));return rr=null,mr=0,Yn}function gie(){for(;Bn!==null;)YW(Bn)}function vie(){for(;Bn!==null&&!qne();)YW(Bn)}function YW(n){var e=KW(n.alternate,n,di);n.memoizedProps=n.pendingProps,e===null?GW(n):Bn=e,FP.current=null}function GW(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uie(t,e),t!==null){t.flags&=32767,Bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yn=6,Bn=null;return}}else if(t=cie(t,e,di),t!==null){Bn=t;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=n}while(e!==null);Yn===0&&(Yn=5)}function El(n,e,t){var r=qt,i=Vi.transition;try{Vi.transition=null,qt=1,yie(n,e,t,r)}finally{Vi.transition=i,qt=r}return null}function yie(n,e,t,r){do Hu();while(La!==null);if(Pt&6)throw Error(_e(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(_e(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Jne(n,s),n===rr&&(Bn=rr=null,mr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||t0||(t0=!0,XW(Bv,function(){return Hu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Vi.transition,Vi.transition=null;var o=qt;qt=1;var a=Pt;Pt|=4,FP.current=null,die(n,t),zW(t,n),$re(GT),qv=!!YT,GT=YT=null,n.current=t,fie(t),Une(),Pt=a,qt=o,Vi.transition=s}else n.current=t;if(t0&&(t0=!1,La=n,iy=i),s=n.pendingLanes,s===0&&(Ya=null),Yne(t.stateNode),Zr(n,Rn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ry)throw ry=!1,n=fM,fM=null,n;return iy&1&&n.tag!==0&&Hu(),s=n.pendingLanes,s&1?n===pM?Jf++:(Jf=0,pM=n):Jf=0,ll(),null}function Hu(){if(La!==null){var n=TH(iy),e=Vi.transition,t=qt;try{if(Vi.transition=null,qt=16>n?16:n,La===null)var r=!1;else{if(n=La,La=null,iy=0,Pt&6)throw Error(_e(331));var i=Pt;for(Pt|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ge=c;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:Xf(8,u,s)}var h=u.child;if(h!==null)h.return=u,Ge=h;else for(;Ge!==null;){u=Ge;var d=u.sibling,f=u.return;if($W(u),u===c){Ge=null;break}if(d!==null){d.return=f,Ge=d;break}Ge=f}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ge=y;break e}Ge=s.return}}var b=n.current;for(Ge=b;Ge!==null;){o=Ge;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ge=w;else e:for(o=b;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fb(9,a)}}catch(_){kn(a,a.return,_)}if(a===o){Ge=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ge=S;break e}Ge=a.return}}if(Pt=i,ll(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(sb,n)}catch{}r=!0}return r}finally{qt=t,Vi.transition=e}}return!1}function nA(n,e,t){e=Ph(t,e),e=TW(n,e,1),n=Wa(n,e,1),e=Nr(),n!==null&&(Fm(n,1,e),Zr(n,e))}function kn(n,e,t){if(n.tag===3)nA(n,n,t);else for(;e!==null;){if(e.tag===3){nA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ya===null||!Ya.has(r))){n=Ph(t,n),n=MW(e,n,1),e=Wa(e,n,1),n=Nr(),e!==null&&(Fm(e,1,n),Zr(e,n));break}}e=e.return}}function bie(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Nr(),n.pingedLanes|=n.suspendedLanes&t,rr===n&&(mr&t)===t&&(Yn===4||Yn===3&&(mr&130023424)===mr&&500>Rn()-jP?tc(n,0):$P|=t),Zr(n,e)}function VW(n,e){e===0&&(n.mode&1?(e=Wg,Wg<<=1,!(Wg&130023424)&&(Wg=4194304)):e=1);var t=Nr();n=Go(n,e),n!==null&&(Fm(n,e,t),Zr(n,t))}function xie(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),VW(n,t)}function wie(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),VW(n,t)}var KW;KW=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Qr.current)Vr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Vr=!1,lie(n,e,t);Vr=!!(n.flags&131072)}else Vr=!1,hn&&e.flags&1048576&&ZH(e,Kv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pv(n,e),n=e.pendingProps;var i=Eh(e,_r.current);Uu(e,t),i=RP(null,e,r,n,i,t);var s=DP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(r)?(s=!0,Gv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TP(e),i.updater=db,e.stateNode=i,i._reactInternals=e,nM(e,r,n,t),e=sM(null,e,r,!0,s,t)):(e.tag=0,hn&&s&&xP(e),Ir(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(pv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sie(r),n=as(r,n),i){case 0:e=iM(null,e,r,n,t);break e;case 1:e=Y3(null,e,r,n,t);break e;case 11:e=H3(null,e,r,n,t);break e;case 14:e=W3(null,e,r,as(r.type,n),t);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),iM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),Y3(n,e,r,i,t);case 3:e:{if(RW(e),n===null)throw Error(_e(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sW(n,e),Jv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ph(Error(_e(423)),e),e=G3(n,e,r,t,i);break e}else if(r!==i){i=Ph(Error(_e(424)),e),e=G3(n,e,r,t,i);break e}else for(vi=Ha(e.stateNode.containerInfo.firstChild),yi=e,hn=!0,ms=null,t=rW(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Th(),r===i){e=Vo(n,e,t);break e}Ir(n,e,r,t)}e=e.child}return e;case 5:return oW(e),n===null&&ZT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,VT(r,i)?o=null:s!==null&&VT(r,s)&&(e.flags|=32),OW(n,e),Ir(n,e,o,t),e.child;case 6:return n===null&&ZT(e),null;case 13:return DW(n,e,t);case 4:return MP(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Mh(e,null,r,t):Ir(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),H3(n,e,r,i,t);case 7:return Ir(n,e,e.pendingProps,t),e.child;case 8:return Ir(n,e,e.pendingProps.children,t),e.child;case 12:return Ir(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(Xv,r._currentValue),r._currentValue=o,s!==null)if(ws(s.value,o)){if(s.children===i.children&&!Qr.current){e=Vo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$o(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),eM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_e(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),eM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ir(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Uu(e,t),i=Xi(i),r=r(i),e.flags|=1,Ir(n,e,r,t),e.child;case 14:return r=e.type,i=as(r,e.pendingProps),i=as(r.type,i),W3(n,e,r,i,t);case 15:return IW(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),pv(n,e),e.tag=1,Jr(r)?(n=!0,Gv(e)):n=!1,Uu(e,t),EW(e,r,i),nM(e,r,i,t),sM(null,e,r,!0,n,t);case 19:return AW(n,e,t);case 22:return PW(n,e,t)}throw Error(_e(156,e.tag))};function XW(n,e){return SH(n,e)}function _ie(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(n,e,t,r){return new _ie(n,e,t,r)}function UP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sie(n){if(typeof n=="function")return UP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lP)return 11;if(n===cP)return 14}return 2}function Va(n,e){var t=n.alternate;return t===null?(t=Wi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")UP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case yu:return nc(t.children,i,s,e);case aP:o=8,i|=8;break;case ET:return n=Wi(12,t,e,i|2),n.elementType=ET,n.lanes=s,n;case TT:return n=Wi(13,t,e,i),n.elementType=TT,n.lanes=s,n;case MT:return n=Wi(19,t,e,i),n.elementType=MT,n.lanes=s,n;case oH:return mb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iH:o=10;break e;case sH:o=9;break e;case lP:o=11;break e;case cP:o=14;break e;case xa:o=16,r=null;break e}throw Error(_e(130,n==null?n:typeof n,""))}return e=Wi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function nc(n,e,t,r){return n=Wi(7,n,r,e),n.lanes=t,n}function mb(n,e,t,r){return n=Wi(22,n,r,e),n.elementType=oH,n.lanes=t,n.stateNode={isHidden:!1},n}function Cw(n,e,t){return n=Wi(6,n,null,e),n.lanes=t,n}function Ew(n,e,t){return e=Wi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function kie(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ow(0),this.expirationTimes=ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ow(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HP(n,e,t,r,i,s,o,a,l){return n=new kie(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},TP(s),n}function Cie(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function QW(n){if(!n)return tl;n=n._reactInternals;e:{if(Lc(n)!==n||n.tag!==1)throw Error(_e(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(n.tag===1){var t=n.type;if(Jr(t))return QH(n,t,e)}return e}function JW(n,e,t,r,i,s,o,a,l){return n=HP(t,r,!0,n,i,s,o,a,l),n.context=QW(null),t=n.current,r=Nr(),i=Ga(t),s=$o(r,i),s.callback=e??null,Wa(t,s,i),n.current.lanes=i,Fm(n,i,r),Zr(n,r),n}function gb(n,e,t,r){var i=e.current,s=Nr(),o=Ga(i);return t=QW(t),e.context===null?e.context=t:e.pendingContext=t,e=$o(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Wa(i,e,o),n!==null&&(bs(n,i,o,s),hv(n,i,o)),o}function oy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function WP(n,e){rA(n,e),(n=n.alternate)&&rA(n,e)}function Eie(){return null}var ZW=typeof reportError=="function"?reportError:function(n){console.error(n)};function YP(n){this._internalRoot=n}vb.prototype.render=YP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(_e(409));gb(n,e,null,null)};vb.prototype.unmount=YP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;yc(function(){gb(null,n,null,null)}),e[Yo]=null}};function vb(n){this._internalRoot=n}vb.prototype.unstable_scheduleHydration=function(n){if(n){var e=PH();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Sa.length&&e!==0&&e<Sa[t].priority;t++);Sa.splice(t,0,n),t===0&&RH(n)}};function GP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function iA(){}function Tie(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=oy(o);s.call(c)}}var o=JW(e,r,n,0,null,!1,!1,"",iA);return n._reactRootContainer=o,n[Yo]=o.current,Ep(n.nodeType===8?n.parentNode:n),yc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=oy(l);a.call(c)}}var l=HP(n,0,!1,null,null,!1,!1,"",iA);return n._reactRootContainer=l,n[Yo]=l.current,Ep(n.nodeType===8?n.parentNode:n),yc(function(){gb(e,l,t,r)}),l}function bb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=oy(o);a.call(l)}}gb(e,o,n,i)}else o=Tie(t,e,n,i,r);return oy(o)}MH=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Mf(e.pendingLanes);t!==0&&(dP(e,t|1),Zr(e,Rn()),!(Pt&6)&&(Oh=Rn()+500,ll()))}break;case 13:yc(function(){var r=Go(n,1);if(r!==null){var i=Nr();bs(r,n,1,i)}}),WP(n,1)}};fP=function(n){if(n.tag===13){var e=Go(n,134217728);if(e!==null){var t=Nr();bs(e,n,134217728,t)}WP(n,134217728)}};IH=function(n){if(n.tag===13){var e=Ga(n),t=Go(n,e);if(t!==null){var r=Nr();bs(t,n,e,r)}WP(n,e)}};PH=function(){return qt};OH=function(n,e){var t=qt;try{return qt=n,e()}finally{qt=t}};$T=function(n,e,t){switch(e){case"input":if(OT(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=cb(r);if(!i)throw Error(_e(90));lH(r),OT(r,i)}}}break;case"textarea":uH(n,t);break;case"select":e=t.value,e!=null&&ju(n,!!t.multiple,e,!1)}};vH=BP;yH=yc;var Mie={usingClientEntryPoint:!1,Events:[jm,_u,cb,mH,gH,BP]},Xd={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iie={bundleType:Xd.bundleType,version:Xd.version,rendererPackageName:Xd.rendererPackageName,rendererConfig:Xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wH(n),n===null?null:n.stateNode},findFiberByHostInstance:Xd.findFiberByHostInstance||Eie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{sb=n0.inject(Iie),Js=n0}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mie;Ei.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GP(e))throw Error(_e(200));return Cie(n,e,null,t)};Ei.createRoot=function(n,e){if(!GP(n))throw Error(_e(299));var t=!1,r="",i=ZW;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HP(n,1,!1,null,null,t,!1,r,i),n[Yo]=e.current,Ep(n.nodeType===8?n.parentNode:n),new YP(e)};Ei.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(_e(188)):(n=Object.keys(n).join(","),Error(_e(268,n)));return n=wH(e),n=n===null?null:n.stateNode,n};Ei.flushSync=function(n){return yc(n)};Ei.hydrate=function(n,e,t){if(!yb(e))throw Error(_e(200));return bb(null,n,e,!0,t)};Ei.hydrateRoot=function(n,e,t){if(!GP(n))throw Error(_e(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=ZW;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=JW(e,null,n,1,t??null,i,!1,s,o),n[Yo]=e.current,Ep(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new vb(e)};Ei.render=function(n,e,t){if(!yb(e))throw Error(_e(200));return bb(null,n,e,!1,t)};Ei.unmountComponentAtNode=function(n){if(!yb(n))throw Error(_e(40));return n._reactRootContainer?(yc(function(){bb(null,null,n,!1,function(){n._reactRootContainer=null,n[Yo]=null})}),!0):!1};Ei.unstable_batchedUpdates=BP;Ei.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!yb(t))throw Error(_e(200));if(n==null||n._reactInternals===void 0)throw Error(_e(38));return bb(n,e,t,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function eY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eY)}catch(n){console.error(n)}}eY(),eH.exports=Ei;var Jo=eH.exports;const Pie=ZI(Jo);var sA=Jo;kT.createRoot=sA.createRoot,kT.hydrateRoot=sA.hydrateRoot;var xb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oie={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Ea,JI,DU,Rie=(DU=class{constructor(){Fe(this,Ea,Oie);Fe(this,JI,!1)}setTimeoutProvider(n){pe(this,Ea,n)}setTimeout(n,e){return J(this,Ea).setTimeout(n,e)}clearTimeout(n){J(this,Ea).clearTimeout(n)}setInterval(n,e){return J(this,Ea).setInterval(n,e)}clearInterval(n){J(this,Ea).clearInterval(n)}},Ea=new WeakMap,JI=new WeakMap,DU),vM=new Rie;function Die(n){setTimeout(n,0)}var wb=typeof window>"u"||"Deno"in globalThis;function ls(){}function Aie(n,e){return typeof n=="function"?n(e):n}function Nie(n){return typeof n=="number"&&n>=0&&n!==1/0}function Lie(n,e){return Math.max(n+(e||0)-Date.now(),0)}function yM(n,e){return typeof n=="function"?n(e):n}function Fie(n,e){return typeof n=="function"?n(e):n}function oA(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==VP(o,e.options))return!1}else if(!Lp(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function aA(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Np(e.options.mutationKey)!==Np(s))return!1}else if(!Lp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function VP(n,e){return((e==null?void 0:e.queryKeyHashFn)||Np)(n)}function Np(n){return JSON.stringify(n,(e,t)=>bM(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Lp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Lp(n[t],e[t])):!1}var $ie=Object.prototype.hasOwnProperty;function tY(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=lA(n)&&lA(e);if(!r&&!(bM(n)&&bM(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=r?u:o[u],d=n[h],f=e[h];if(d===f){l[h]=d,(r?u<s:$ie.call(n,h))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){l[h]=f;continue}const m=tY(d,f,t+1);l[h]=m,m===d&&c++}return s===a&&c===s?n:l}function lA(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function bM(n){if(!cA(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!cA(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function cA(n){return Object.prototype.toString.call(n)==="[object Object]"}function jie(n){return new Promise(e=>{vM.setTimeout(e,n)})}function Bie(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?tY(n,e):e}function zie(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function qie(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var KP=Symbol();function nY(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===KP?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Uie(n,e,t){let r=!1,i;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?t():i.addEventListener("abort",t,{once:!0})),i)}),n}var Yl,Ta,Qu,AU,Hie=(AU=class extends xb{constructor(){super();Fe(this,Yl);Fe(this,Ta);Fe(this,Qu);pe(this,Qu,e=>{if(!wb&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){J(this,Ta)||this.setEventListener(J(this,Qu))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Ta))==null||e.call(this),pe(this,Ta,void 0))}setEventListener(e){var t;pe(this,Qu,e),(t=J(this,Ta))==null||t.call(this),pe(this,Ta,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,Yl)!==e&&(pe(this,Yl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof J(this,Yl)=="boolean"?J(this,Yl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yl=new WeakMap,Ta=new WeakMap,Qu=new WeakMap,AU),rY=new Hie;function Wie(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var Yie=Die;function Gie(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Yie;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Or=Gie(),Ju,Ma,Zu,NU,Vie=(NU=class extends xb{constructor(){super();Fe(this,Ju,!0);Fe(this,Ma);Fe(this,Zu);pe(this,Zu,e=>{if(!wb&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,Ma)||this.setEventListener(J(this,Zu))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Ma))==null||e.call(this),pe(this,Ma,void 0))}setEventListener(e){var t;pe(this,Zu,e),(t=J(this,Ma))==null||t.call(this),pe(this,Ma,e(this.setOnline.bind(this)))}setOnline(e){J(this,Ju)!==e&&(pe(this,Ju,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,Ju)}},Ju=new WeakMap,Ma=new WeakMap,Zu=new WeakMap,NU),ay=new Vie;function Kie(n){return Math.min(1e3*2**n,3e4)}function iY(n){return(n??"online")==="online"?ay.isOnline():!0}var xM=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function sY(n){let e=!1,t=0,r;const i=Wie(),s=()=>i.status!=="pending",o=g=>{var v;if(!s()){const y=new xM(g);d(y),(v=n.onCancel)==null||v.call(n,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>rY.isFocused()&&(n.networkMode==="always"||ay.isOnline())&&n.canRun(),u=()=>iY(n.networkMode)&&n.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},d=g=>{s()||(r==null||r(),i.reject(g))},f=()=>new Promise(g=>{var v;r=y=>{(s()||c())&&g(y)},(v=n.onPause)==null||v.call(n)}).then(()=>{var g;r=void 0,s()||(g=n.onContinue)==null||g.call(n)}),m=()=>{if(s())return;let g;const v=t===0?n.initialPromise:void 0;try{g=v??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var k;if(s())return;const b=n.retry??(wb?0:3),w=n.retryDelay??Kie,S=typeof w=="function"?w(t,y):w,_=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,y);if(e||!_){d(y);return}t++,(k=n.onFail)==null||k.call(n,t,y),jie(S).then(()=>c()?void 0:f()).then(()=>{e?d(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():f().then(m),i)}}var Gl,LU,oY=(LU=class{constructor(){Fe(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nie(this.gcTime)&&pe(this,Gl,vM.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(wb?1/0:5*60*1e3))}clearGcTimeout(){J(this,Gl)&&(vM.clearTimeout(J(this,Gl)),pe(this,Gl,void 0))}},Gl=new WeakMap,LU),Vl,eh,Bi,Kl,Kn,Im,Xl,hs,So,FU,Xie=(FU=class extends oY{constructor(e){super();Fe(this,hs);Fe(this,Vl);Fe(this,eh);Fe(this,Bi);Fe(this,Kl);Fe(this,Kn);Fe(this,Im);Fe(this,Xl);pe(this,Xl,!1),pe(this,Im,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,Kl,e.client),pe(this,Bi,J(this,Kl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,Vl,hA(this.options)),this.state=e.state??J(this,Vl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,Kn))==null?void 0:e.promise}setOptions(e){if(this.options={...J(this,Im),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=hA(this.options);t.data!==void 0&&(this.setState(uA(t.data,t.dataUpdatedAt)),pe(this,Vl,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Bi).remove(this)}setData(e,t){const r=Bie(this.state.data,e,this.options);return Nt(this,hs,So).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Nt(this,hs,So).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=J(this,Kn))==null?void 0:r.promise;return(i=J(this,Kn))==null||i.cancel(e),t?t.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Vl))}isActive(){return this.observers.some(e=>Fie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yM(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Lie(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=J(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=J(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,Bi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(J(this,Kn)&&(J(this,Xl)?J(this,Kn).cancel({revert:!0}):J(this,Kn).cancelRetry()),this.scheduleGc()),J(this,Bi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,hs,So).call(this,{type:"invalidate"})}async fetch(e,t){var l,c,u,h,d,f,m,g,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((l=J(this,Kn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(J(this,Kn))return J(this,Kn).continueRetry(),J(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(pe(this,Xl,!0),r.signal)})},s=()=>{const S=nY(this.options,t),k=(()=>{const C={client:J(this,Kl),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return pe(this,Xl,!1),this.options.persister?this.options.persister(S,k,this):S(k)},a=(()=>{const S={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:J(this,Kl),state:this.state,fetchFn:s};return i(S),S})();(c=this.options.behavior)==null||c.onFetch(a,this),pe(this,eh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Nt(this,hs,So).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),pe(this,Kn,sY({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof xM&&S.revert&&this.setState({...J(this,eh),fetchStatus:"idle"}),r.abort()},onFail:(S,_)=>{Nt(this,hs,So).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{Nt(this,hs,So).call(this,{type:"pause"})},onContinue:()=>{Nt(this,hs,So).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await J(this,Kn).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(f=(d=J(this,Bi).config).onSuccess)==null||f.call(d,S,this),(g=(m=J(this,Bi).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof xM){if(S.silent)return J(this,Kn).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Nt(this,hs,So).call(this,{type:"error",error:S}),(y=(v=J(this,Bi).config).onError)==null||y.call(v,S,this),(w=(b=J(this,Bi).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Vl=new WeakMap,eh=new WeakMap,Bi=new WeakMap,Kl=new WeakMap,Kn=new WeakMap,Im=new WeakMap,Xl=new WeakMap,hs=new WeakSet,So=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Qie(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...uA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,eh,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,Bi).notify({query:this,type:"updated",action:e})})},FU);function Qie(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iY(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function uA(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hA(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function dA(n){return{onFetch:(e,t)=>{var u,h,d,f,m;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Uie(w,()=>e.signal,()=>g=!0)},y=nY(e.options,e.fetchOptions),b=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return v(D),D})(),T=await y(C),{maxPages:O}=e.options,R=_?qie:zie;return{pages:R(w.pages,T,O),pageParams:R(w.pageParams,S,O)}};if(i&&s.length){const w=i==="backward",S=w?Jie:fA,_={pages:s,pageParams:o},k=S(r,_);a=await b(_,k,w)}else{const w=n??s.length;do{const S=l===0?o[0]??r.initialPageParam:fA(r,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function fA(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Jie(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Pm,Us,Mr,Ql,Hs,ga,$U,Zie=($U=class extends oY{constructor(e){super();Fe(this,Hs);Fe(this,Pm);Fe(this,Us);Fe(this,Mr);Fe(this,Ql);pe(this,Pm,e.client),this.mutationId=e.mutationId,pe(this,Mr,e.mutationCache),pe(this,Us,[]),this.state=e.state||ese(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,Us).includes(e)||(J(this,Us).push(e),this.clearGcTimeout(),J(this,Mr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Us,J(this,Us).filter(t=>t!==e)),this.scheduleGc(),J(this,Mr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,Us).length||(this.state.status==="pending"?this.scheduleGc():J(this,Mr).remove(this))}continue(){var e;return((e=J(this,Ql))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k,C,T,O;const t=()=>{Nt(this,Hs,ga).call(this,{type:"continue"})},r={client:J(this,Pm),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,Ql,sY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{Nt(this,Hs,ga).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{Nt(this,Hs,ga).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Mr).canRun(this)}));const i=this.state.status==="pending",s=!J(this,Ql).canStart();try{if(i)t();else{Nt(this,Hs,ga).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=J(this,Mr).config).onMutate)==null?void 0:a.call(o,e,this,r));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));D!==this.state.context&&Nt(this,Hs,ga).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const R=await J(this,Ql).start();return await((h=(u=J(this,Mr).config).onSuccess)==null?void 0:h.call(u,R,e,this.state.context,this,r)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context,r)),await((g=(m=J(this,Mr).config).onSettled)==null?void 0:g.call(m,R,null,this.state.variables,this.state.context,this,r)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,e,this.state.context,r)),Nt(this,Hs,ga).call(this,{type:"success",data:R}),R}catch(R){try{await((w=(b=J(this,Mr).config).onError)==null?void 0:w.call(b,R,e,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((_=(S=this.options).onError)==null?void 0:_.call(S,R,e,this.state.context,r))}catch(D){Promise.reject(D)}try{await((C=(k=J(this,Mr).config).onSettled)==null?void 0:C.call(k,void 0,R,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,R,e,this.state.context,r))}catch(D){Promise.reject(D)}throw Nt(this,Hs,ga).call(this,{type:"error",error:R}),R}finally{J(this,Mr).runNext(this)}}},Pm=new WeakMap,Us=new WeakMap,Mr=new WeakMap,Ql=new WeakMap,Hs=new WeakSet,ga=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Or.batch(()=>{J(this,Us).forEach(r=>{r.onMutationUpdate(e)}),J(this,Mr).notify({mutation:this,type:"updated",action:e})})},$U);function ese(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Po,ds,Om,jU,tse=(jU=class extends xb{constructor(e={}){super();Fe(this,Po);Fe(this,ds);Fe(this,Om);this.config=e,pe(this,Po,new Set),pe(this,ds,new Map),pe(this,Om,0)}build(e,t,r){const i=new Zie({client:e,mutationCache:this,mutationId:++jg(this,Om)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){J(this,Po).add(e);const t=r0(e);if(typeof t=="string"){const r=J(this,ds).get(t);r?r.push(e):J(this,ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,Po).delete(e)){const t=r0(e);if(typeof t=="string"){const r=J(this,ds).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&J(this,ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=r0(e);if(typeof t=="string"){const r=J(this,ds).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=r0(e);if(typeof t=="string"){const i=(r=J(this,ds).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Or.batch(()=>{J(this,Po).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,Po).clear(),J(this,ds).clear()})}getAll(){return Array.from(J(this,Po))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aA(t,r))}findAll(e={}){return this.getAll().filter(t=>aA(e,t))}notify(e){Or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Or.batch(()=>Promise.all(e.map(t=>t.continue().catch(ls))))}},Po=new WeakMap,ds=new WeakMap,Om=new WeakMap,jU);function r0(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Ws,BU,nse=(BU=class extends xb{constructor(e={}){super();Fe(this,Ws);this.config=e,pe(this,Ws,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??VP(i,t);let o=this.get(s);return o||(o=new Xie({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){J(this,Ws).has(e.queryHash)||(J(this,Ws).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=J(this,Ws).get(e.queryHash);t&&(e.destroy(),t===e&&J(this,Ws).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,Ws).get(e)}getAll(){return[...J(this,Ws).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>oA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>oA(e,r)):t}notify(e){Or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ws=new WeakMap,BU),Sn,Ia,Pa,th,nh,Oa,rh,ih,zU,rse=(zU=class{constructor(n={}){Fe(this,Sn);Fe(this,Ia);Fe(this,Pa);Fe(this,th);Fe(this,nh);Fe(this,Oa);Fe(this,rh);Fe(this,ih);pe(this,Sn,n.queryCache||new nse),pe(this,Ia,n.mutationCache||new tse),pe(this,Pa,n.defaultOptions||{}),pe(this,th,new Map),pe(this,nh,new Map),pe(this,Oa,0)}mount(){jg(this,Oa)._++,J(this,Oa)===1&&(pe(this,rh,rY.subscribe(async n=>{n&&(await this.resumePausedMutations(),J(this,Sn).onFocus())})),pe(this,ih,ay.subscribe(async n=>{n&&(await this.resumePausedMutations(),J(this,Sn).onOnline())})))}unmount(){var n,e;jg(this,Oa)._--,J(this,Oa)===0&&((n=J(this,rh))==null||n.call(this),pe(this,rh,void 0),(e=J(this,ih))==null||e.call(this),pe(this,ih,void 0))}isFetching(n){return J(this,Sn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return J(this,Ia).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=J(this,Sn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=J(this,Sn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(yM(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return J(this,Sn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=J(this,Sn).get(r.queryHash),s=i==null?void 0:i.state.data,o=Aie(e,s);if(o!==void 0)return J(this,Sn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Or.batch(()=>J(this,Sn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=J(this,Sn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=J(this,Sn);Or.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=J(this,Sn);return Or.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Or.batch(()=>J(this,Sn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(n,e={}){return Or.batch(()=>(J(this,Sn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Or.batch(()=>J(this,Sn).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(ls)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ls)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=J(this,Sn).build(this,e);return t.isStaleByTime(yM(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ls).catch(ls)}fetchInfiniteQuery(n){return n.behavior=dA(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ls).catch(ls)}ensureInfiniteQueryData(n){return n.behavior=dA(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ay.isOnline()?J(this,Ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Sn)}getMutationCache(){return J(this,Ia)}getDefaultOptions(){return J(this,Pa)}setDefaultOptions(n){pe(this,Pa,n)}setQueryDefaults(n,e){J(this,th).set(Np(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...J(this,th).values()],t={};return e.forEach(r=>{Lp(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){J(this,nh).set(Np(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...J(this,nh).values()],t={};return e.forEach(r=>{Lp(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...J(this,Pa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=VP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===KP&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...J(this,Pa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){J(this,Sn).clear(),J(this,Ia).clear()}},Sn=new WeakMap,Ia=new WeakMap,Pa=new WeakMap,th=new WeakMap,nh=new WeakMap,Oa=new WeakMap,rh=new WeakMap,ih=new WeakMap,zU),ise=I.createContext(void 0),sse=({client:n,children:e})=>(I.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),E.jsx(ise.Provider,{value:n,children:e}));function XP(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function pA(n){return XP(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const aY="2.44.4";let Qd={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${aY}`},Cs=class wM extends Error{constructor(e,t={}){var a;const r=(()=>{var l;return t.cause instanceof wM?t.cause.details:(l=t.cause)!=null&&l.message?t.cause.message:t.details})(),i=t.cause instanceof wM&&t.cause.docsPath||t.docsPath,s=(a=Qd.getDocsUrl)==null?void 0:a.call(Qd,{...t,docsPath:i}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Qd.version?[`Version: ${Qd.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=aY}walk(e){return lY(this,e)}};function lY(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?lY(n.cause,e):e?null:n}class ose extends Cs{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class cY extends Cs{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function zm(n,{dir:e,size:t=32}={}){return typeof n=="string"?ase(n,{dir:e,size:t}):lse(n,{dir:e,size:t})}function ase(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new cY({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function lse(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new cY({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let i=0;i<t;i++){const s=e==="right";r[s?i:t-i-1]=n[s?i:n.length-i-1]}return r}class cse extends Cs{constructor({max:e,min:t,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class use extends Cs{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function _b(n,{size:e}){if(pA(n)>e)throw new use({givenSize:pA(n),maxSize:e})}const hse=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function dse(n,e={}){let t="";for(let i=0;i<n.length;i++)t+=hse[n[i]];const r=`0x${t}`;return typeof e.size=="number"?(_b(r,{size:e.size}),zm(r,{dir:"right",size:e.size})):r}function _M(n,e={}){const{signed:t,size:r}=e,i=BigInt(n);let s;r?t?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<o){const l=typeof n=="bigint"?"n":"";throw new cse({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:t,size:r,value:`${n}${l}`})}const a=`0x${(t&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?zm(a,{size:r}):a}const fse=new TextEncoder;function pse(n,e={}){const t=fse.encode(n);return dse(t,e)}const mse=new TextEncoder;function gse(n,e={}){return typeof n=="number"||typeof n=="bigint"?yse(n,e):typeof n=="boolean"?vse(n,e):XP(n)?uY(n,e):hY(n,e)}function vse(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(_b(t,{size:e.size}),zm(t,{size:e.size})):t}const bo={zero:48,nine:57,A:65,F:70,a:97,f:102};function mA(n){if(n>=bo.zero&&n<=bo.nine)return n-bo.zero;if(n>=bo.A&&n<=bo.F)return n-(bo.A-10);if(n>=bo.a&&n<=bo.f)return n-(bo.a-10)}function uY(n,e={}){let t=n;e.size&&(_b(t,{size:e.size}),t=zm(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=mA(r.charCodeAt(a++)),c=mA(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Cs(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function yse(n,e){const t=_M(n,e);return uY(t)}function hY(n,e={}){const t=mse.encode(n);return typeof e.size=="number"?(_b(t,{size:e.size}),zm(t,{dir:"right",size:e.size})):t}const i0=BigInt(2**32-1),gA=BigInt(32);function bse(n,e=!1){return e?{h:Number(n&i0),l:Number(n>>gA&i0)}:{h:Number(n>>gA&i0)|0,l:Number(n&i0)|0}}function xse(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=bse(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const wse=(n,e,t)=>n<<t|e>>>32-t,_se=(n,e,t)=>e<<t|n>>>32-t,Sse=(n,e,t)=>e<<t-32|n>>>64-t,kse=(n,e,t)=>n<<t-32|e>>>64-t;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cse(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function vA(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ly(n,...e){if(!Cse(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function yA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ese(n,e){ly(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Tse(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function dY(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const Mse=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ise(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Pse(n){for(let e=0;e<n.length;e++)n[e]=Ise(n[e]);return n}const bA=Mse?n=>n:Pse;function Ose(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function fY(n){return typeof n=="string"&&(n=Ose(n)),ly(n),n}let Rse=class{};function Dse(n){const e=r=>n().update(fY(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}const Ase=BigInt(0),Jd=BigInt(1),Nse=BigInt(2),Lse=BigInt(7),Fse=BigInt(256),$se=BigInt(113),pY=[],mY=[],gY=[];for(let n=0,e=Jd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],pY.push(2*(5*r+t)),mY.push((n+1)*(n+2)/2%64);let i=Ase;for(let s=0;s<7;s++)e=(e<<Jd^(e>>Lse)*$se)%Fse,e&Nse&&(i^=Jd<<(Jd<<BigInt(s))-Jd);gY.push(i)}const vY=xse(gY,!0),jse=vY[0],Bse=vY[1],xA=(n,e,t)=>t>32?Sse(n,e,t):wse(n,e,t),wA=(n,e,t)=>t>32?kse(n,e,t):_se(n,e,t);function zse(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=xA(c,u,1)^t[a],d=wA(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=mY[o],l=xA(i,s,a),c=wA(i,s,a),u=pY[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=jse[r],n[1]^=Bse[r]}dY(t)}let qse=class yY extends Rse{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,vA(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Tse(this.state)}clone(){return this._cloneInto()}keccak(){bA(this.state32),zse(this.state32,this.rounds),bA(this.state32),this.posOut=0,this.pos=0}update(e){yA(this),e=fY(e),ly(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){yA(this,!1),ly(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ese(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,dY(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new yY(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Use=(n,e,t)=>Dse(()=>new qse(e,n,t)),Hse=Use(1,136,256/8);function Wse(n,e){return Hse(XP(n,{strict:!1})?gse(n):n)}class QP extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Yse=/^0x[a-fA-F0-9]{40}$/,Tw=new QP(8192);function Gse(n,e){const{strict:t=!0}=e??{},r=`${n}.${t}`;if(Tw.has(r))return Tw.get(r);const i=Yse.test(n)?n.toLowerCase()===n?!0:t?bY(n)===n:!0:!1;return Tw.set(r,i),i}const Mw=new QP(8192);function bY(n,e){if(Mw.has(`${n}.${e}`))return Mw.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=Wse(hY(t)),i=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Mw.set(`${n}.${e}`,s),s}function s0(n,e){if(!Gse(n,{strict:!1}))throw new ose({address:n});return bY(n,e)}function Vse(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const rc=(n,e,t)=>JSON.stringify(n,(r,i)=>typeof i=="bigint"?i.toString():i,t),JP=n=>n;class Zf extends Cs{constructor({body:e,cause:t,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${JP(o)}`,e&&`Request body: ${rc(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class xY extends Cs{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${JP(r)}`,`Request body: ${rc(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class _A extends Cs{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${JP(t)}`,`Request body: ${rc(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}const Kse=-1;class oi extends Cs{constructor(e,{code:t,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof xY?e.code:t??Kse}}class Mi extends oi{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Fp extends oi{constructor(e){super(e,{code:Fp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $p extends oi{constructor(e){super(e,{code:$p.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class jp extends oi{constructor(e,{method:t}={}){super(e,{code:jp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bp extends oi{constructor(e){super(e,{code:Bp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Rh extends oi{constructor(e){super(e,{code:Rh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class zp extends oi{constructor(e){super(e,{code:zp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class qp extends oi{constructor(e){super(e,{code:qp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ka extends oi{constructor(e){super(e,{code:Ka.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Up extends oi{constructor(e){super(e,{code:Up.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $l extends oi{constructor(e,{method:t}={}){super(e,{code:$l.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty($l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Dh extends oi{constructor(e){super(e,{code:Dh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Hp extends oi{constructor(e){super(e,{code:Hp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Pr extends Mi{constructor(e){super(e,{code:Pr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Wp extends Mi{constructor(e){super(e,{code:Wp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Yp extends Mi{constructor(e,{method:t}={}){super(e,{code:Yp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Gp extends Mi{constructor(e){super(e,{code:Gp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vp extends Mi{constructor(e){super(e,{code:Vp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class bc extends Mi{constructor(e){super(e,{code:bc.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(bc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Kp extends Mi{constructor(e){super(e,{code:Kp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Xp extends Mi{constructor(e){super(e,{code:Xp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Qp extends Mi{constructor(e){super(e,{code:Qp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Jp extends Mi{constructor(e){super(e,{code:Jp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Zp extends Mi{constructor(e){super(e,{code:Zp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class em extends Mi{constructor(e){super(e,{code:em.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class tm extends Mi{constructor(e){super(e,{code:tm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Xse extends oi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Qse(){let n=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}const Iw=new Map;function Jse({fn:n,id:e,shouldSplitBatch:t,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:d})=>d);h.length!==0&&n(h).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([d[f],d])}}).catch(d=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(d)}})},o=()=>Iw.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Iw.get(e)||[],c=u=>Iw.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:d,reject:f}=Qse();return(t==null?void 0:t([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:d,reject:f}),h):(c({args:u,resolve:d,reject:f}),setTimeout(s,r),h)}}}const o0=new QP(8192);function Zse(n,{enabled:e=!0,id:t}){if(!e||!t)return n();if(o0.get(t))return o0.get(t);const r=n().finally(()=>o0.delete(t));return o0.set(t,r),r}async function eoe(n){return new Promise(e=>setTimeout(e,n))}function wY(n,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await eoe(u),o({count:a+1})};try{const c=await n();i(c)}catch(c){if(a<t&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function toe(n,e={}){return async(t,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=t;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new $l(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new $l(new Error("method not supported"),{method:c});const u=i?pse(`${l}.${rc(t)}`):void 0;return Zse(()=>wY(async()=>{try{return await n(t)}catch(d){const f=d;switch(f.code){case Fp.code:throw new Fp(f);case $p.code:throw new $p(f);case jp.code:throw new jp(f,{method:t.method});case Bp.code:throw new Bp(f);case Rh.code:throw new Rh(f);case zp.code:throw new zp(f);case qp.code:throw new qp(f);case Ka.code:throw new Ka(f);case Up.code:throw new Up(f);case $l.code:throw new $l(f,{method:t.method});case Dh.code:throw new Dh(f);case Hp.code:throw new Hp(f);case Pr.code:throw new Pr(f);case Wp.code:throw new Wp(f);case Yp.code:throw new Yp(f);case Gp.code:throw new Gp(f);case Vp.code:throw new Vp(f);case bc.code:throw new bc(f);case Kp.code:throw new Kp(f);case Xp.code:throw new Xp(f);case Qp.code:throw new Qp(f);case Jp.code:throw new Jp(f);case Zp.code:throw new Zp(f);case em.code:throw new em(f);case tm.code:throw new tm(f);case 5e3:throw new Pr(f);default:throw d instanceof Cs?d:new Xse(f)}}},{delay:({count:d,error:f})=>{var m;if(f&&f instanceof Zf){const g=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>noe(d)}),{enabled:i,id:u})}}function noe(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===Dh.code||n.code===Rh.code:n instanceof Zf&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function _Y(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function t(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:t(o)})}}return Object.assign(e,{extend:t(e)})}function SY(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;t>0&&(o=setTimeout(()=>{r?a.abort():s(e)},t)),i(await n({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function roe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const SA=roe();function ioe(n,e={}){const{url:t,headers:r}=soe(n);return{async request(i){var m;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:l=e.onResponse,timeout:c=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:h,method:d,signal:f}=u;try{const g=await SY(async({signal:y})=>{const b={...u,body:Array.isArray(s)?rc(s.map(k=>({jsonrpc:"2.0",id:k.id??SA.take(),...k}))):rc({jsonrpc:"2.0",id:s.id??SA.take(),...s}),headers:{...r,"Content-Type":"application/json",...h},method:d||"POST",signal:f||(c>0?y:null)},w=new Request(t,b),S=await(a==null?void 0:a(w,b))??{...b,url:t};return await o(S.url??t,S)},{errorInstance:new _A({body:s,url:t}),timeout:c,signal:!0});l&&await l(g);let v;if((m=g.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))v=await g.json();else{v=await g.text();try{v=JSON.parse(v||"{}")}catch(y){if(g.ok)throw y;v={error:v}}}if(!g.ok)throw new Zf({body:s,details:rc(v.error)||g.statusText,headers:g.headers,status:g.status,url:t});return v}catch(g){throw g instanceof Zf||g instanceof _A?g:new Zf({body:s,cause:g,url:t})}}}}function soe(n){try{const e=new URL(n),t=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...t}}catch{return{url:n}}}const yv="3.2.2",ooe=()=>`@wagmi/core@${yv}`;var kY=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},cy,CY;class nm extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return ooe()}constructor(e,t={}){var s;super(),cy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=t.cause instanceof nm?t.cause.details:(s=t.cause)!=null&&s.message?t.cause.message:t.details,i=t.cause instanceof nm&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return kY(this,cy,"m",CY).call(this,this,e)}}cy=new WeakSet,CY=function n(e,t){return t!=null&&t(e)?e:e.cause?kY(this,cy,"m",n).call(this,e.cause,t):e};class SM extends nm{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const kM=256;let a0=kM,l0;function EY(n=11){if(!l0||a0+n>kM*2){l0="",a0=0;for(let e=0;e<kM;e++)l0+=(256+Math.random()*256|0).toString(16).substring(1)}return l0.substring(a0,a0+++n)}function aoe(n){const{batch:e,chain:t,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=n,a=n.experimental_blockTag??(typeof(t==null?void 0:t.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(t==null?void 0:t.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=n.pollingInterval??c,h=n.cacheTime??u,d=n.account?Vse(n.account):void 0,{config:f,request:m,value:g}=n.transport({account:d,chain:t,pollingInterval:u}),v={...f,...g},y={account:d,batch:e,cacheTime:h,ccipRead:r,chain:t,key:i,name:s,pollingInterval:u,request:m,transport:v,type:o,uid:EY(),...a?{experimental_blockTag:a}:{}};function b(w){return S=>{const _=S(w);for(const C in y)delete _[C];const k={...w,..._};return Object.assign(k,{extend:b(k)})}}return Object.assign(y,{extend:b(y)})}function loe({key:n,methods:e,name:t,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=EY();return{config:{key:n,methods:e,name:t,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:toe(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}class coe extends Cs{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function kA(n,e={}){const{batch:t,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:d,retryCount:f,timeout:m})=>{const{batchSize:g=1e3,wait:v=0}=typeof t=="object"?t:{},y=e.retryCount??f,b=m??e.timeout??1e4,w=d==null?void 0:d.rpcUrls.default.http[0];if(!w)throw new coe;const S=ioe(w,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:b});return loe({key:s,methods:o,name:a,async request({method:_,params:k}){const C={method:_,params:k},{schedule:T}=Jse({id:w,wait:v,shouldSplitBatch(F){return F.length>g},fn:F=>S.request({body:F}),sort:(F,N)=>F.id-N.id}),O=async F=>t?T(F):[await S.request({body:F})],[{error:R,result:D}]=await O(C);if(h)return{error:R,result:D};if(R)throw new xY({body:C,error:R,url:w});return D},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:w})}}let Pw=!1;async function uoe(n,e={}){var c,u;if(Pw)return[];Pw=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const t=[];if((c=e.connectors)!=null&&c.length)for(const h of e.connectors){let d;typeof h=="function"?d=n._internal.connectors.setup(h):d=h,t.push(d)}else t.push(...n.connectors);let r;try{r=await((u=n.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of n.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...t].sort((h,d)=>(i[h.id]??10)-(i[d.id]??10)):t;let o=!1;const a=[],l=[];for(const h of s){const d=await h.getProvider().catch(()=>{});if(!d||l.some(g=>g===d)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(g=>{const v=new Map(o?g.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...g,current:o?g.current:h.uid,connections:v}}),a.push({accounts:m.accounts,chainId:m.chainId,connector:h}),l.push(d),o=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(o?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Pw=!1,a}class iu extends nm{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}Sb.type="injected";function Sb(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function r(){const l=n.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...hoe[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let i,s,o,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Sb.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&n.target&&(o||(o=this.onConnect.bind(this),c.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u,withCapabilities:h}={}){var m,g,v,y,b,w;const d=await this.getProvider();if(!d)throw new iu;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(y=(v=(g=(m=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:g[0])==null?void 0:v.value)==null?void 0:y.map(_=>s0(_)),f.length>0&&(f=await this.getAccounts())}catch(S){const _=S;if(_.code===Pr.code)throw new Pr(_);if(_.code===Ka.code)throw _}try{!(f!=null&&f.length)&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(k=>s0(k))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let S=await this.getChainId();if(c&&S!==c){const _=await this.switchChain({chainId:c}).catch(k=>{if(k.code===Pr.code)throw k;return{id:S}});S=(_==null?void 0:_.id)??S}return e&&await((b=l.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),n.target||await((w=l.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:h?f.map(_=>({address:_,capabilities:{}})):f,chainId:S}}catch(S){const _=S;throw _.code===Pr.code?new Pr(_):_.code===Ka.code?new Ka(_):_}},async disconnect(){var u,h;const c=await this.getProvider();if(!c)throw new iu;s&&(c.removeListener("chainChanged",s),s=void 0),a&&(c.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),c.on("connect",o));try{await SY(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=l.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=l.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new iu;return(await c.request({method:"eth_accounts"})).map(h=>s0(h))},async getChainId(){const c=await this.getProvider();if(!c)throw new iu;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=bv(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,u;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!n.target&&!await((u=l.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),g=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(m()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(m()),g))]))return!0}throw new iu}return!!(await wY(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var m,g,v,y;const h=await this.getProvider();if(!h)throw new iu;const d=l.chains.find(b=>b.id===u);if(!d)throw new bc(new SM);const f=new Promise(b=>{const w=S=>{"chainId"in S&&S.chainId===u&&(l.emitter.off("change",w),b())};l.emitter.on("change",w)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:_M(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),f]),d}catch(b){const w=b;if(w.code===4902||((g=(m=w==null?void 0:w.data)==null?void 0:m.originalError)==null?void 0:g.code)===4902)try{const{default:S,..._}=d.blockExplorers??{};let k;c!=null&&c.blockExplorerUrls?k=c.blockExplorerUrls:S&&(k=[S.url,...Object.values(_).map(O=>O.url)]);let C;(v=c==null?void 0:c.rpcUrls)!=null&&v.length?C=c.rpcUrls:C=[((y=d.rpcUrls.default)==null?void 0:y.http[0])??""];const T={blockExplorerUrls:k,chainId:_M(u),chainName:(c==null?void 0:c.chainName)??d.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??d.nativeCurrency,rpcUrls:C};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Pr(new Error("User rejected switch after adding network."))}),f]),d}catch(S){throw new Pr(S)}throw w.code===Pr.code?new Pr(w):new bc(w)}},async onAccountsChanged(c){var u;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=l.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(h=>s0(h))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const h=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:h});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const hoe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:bv(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return bv(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of t)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,t;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(t=n.phantom)==null?void 0:t.ethereum:bv(n,"isPhantom")}}};function bv(n,e){function t(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=n.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>t(i));if(r&&t(r))return r}function doe(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function foe(){const n=new Set;let e=[];const t=()=>doe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],n.forEach(s=>s(e,{added:[i]})))});let r=t();return{_listeners(){return n},clear(){n.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=t()},subscribe(i,{emitImmediately:s}={}){return n.add(i),s&&i(e,{added:e}),()=>n.delete(i)}}}const poe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=d=>{const f=o(d);if(!u(h,f)){const m=h;a(h=f,m)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)},moe=poe;function goe(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const CM=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return CM(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return CM(r)(t)}}}},voe=(n,e)=>(t,r,i)=>{let s={storage:goe(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return c.setItem(s.name,{state:g,version:s.version})},h=i.setState;i.setState=(g,v)=>{h(g,v),u()};const d=n((...g)=>{t(...g),u()},r,i);i.getInitialState=()=>d;let f;const m=()=>{var g,v;if(!c)return;o=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:d)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=r())!=null?g:d))||void 0;return CM(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[S,_]=b;if(f=s.merge(_,(w=r())!=null?w:d),t(f,!0),S)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,l.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||m(),f||d},yoe=voe,CA=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},Ow=n=>n?CA(n):CA;var TY={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||l,d),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,m=new Array(f);d<f;d++)m[d]=h[d].fn;return m},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,m){var g=t?t+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,d),!0;case 5:return v.fn.call(v.context,u,h,d,f),!0;case 6:return v.fn.call(v.context,u,h,d,f,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,_;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,h);break;case 4:v[w].fn.call(v[w].context,u,h,d);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===u&&(!d||m.once)&&(!h||m.context===h)&&o(this,f);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||d&&!m[g].once||h&&m[g].context!==h)&&v.push(m[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(TY);var boe=TY.exports;const xoe=ZI(boe);let woe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new xoe})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}};function _oe(n){return new woe(n)}function Soe(n,e){return JSON.parse(n,(t,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(t,i))??i})}function EA(n,e){return n.slice(0,e).join(".")||"."}function TA(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function koe(n,e){const t=typeof n=="function",r=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const c=TA(i,this);c===0?i[i.length]=this:(i.splice(c),s.splice(c)),s[s.length]=a;const u=TA(i,l);if(u!==0)return r?e.call(this,a,l,EA(s,u)):`[ref=${EA(s,u)}]`}else i[0]=l,s[0]=a;return t?n.call(this,a,l):l}}function Coe(n,e,t,r){return JSON.stringify(n,koe((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),t??void 0)}function Eoe(n){const{deserialize:e=Soe,key:t="wagmi",serialize:r=Coe,storage:i=MY}=n;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:t,async getItem(o,a){const l=i.getItem(`${t}.${o}`),c=await s(l);return c?e(c)??null:a??null},async setItem(o,a){const l=`${t}.${o}`;a===null?await s(i.removeItem(l)):await s(i.setItem(l,r(a)))},async removeItem(o){await s(i.removeItem(`${t}.${o}`))}}}const MY={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Toe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:MY;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const EM=256;let c0=EM,u0;function Moe(n=11){if(!u0||c0+n>EM*2){u0="",c0=0;for(let e=0;e<EM;e++)u0+=(256+Math.random()*256|0).toString(16).substring(1)}return u0.substring(c0,c0+++n)}function Ioe(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=Eoe({storage:Toe()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=n,o=typeof window<"u"&&e?foe():void 0,a=Ow(()=>s.chains),l=Ow(()=>{const _=[],k=new Set;for(const C of s.connectors??[]){const T=c(C);if(_.push(T),!i&&T.rdns){const O=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const R of O)k.add(R)}}if(!i&&o){const C=o.getProviders();for(const T of C)k.has(T.info.rdns)||_.push(c(u(T)))}return _});function c(_){var T;const k=_oe(Moe()),C={..._({emitter:k,chains:a.getState(),storage:t,transports:s.transports}),emitter:k,uid:k.uid};return k.on("connect",w),(T=C.setup)==null||T.call(C),C}function u(_){const{info:k}=_,C=_.provider;return Sb({target:{...k,id:k.rdns,provider:C}})}const h=new Map;function d(_={}){const k=_.chainId??v.getState().chainId,C=a.getState().find(O=>O.id===k);if(_.chainId&&!C)throw new SM;{const O=h.get(v.getState().chainId);if(O&&!C)return O;if(!C)throw new SM}{const O=h.get(k);if(O)return O}let T;if(s.client)T=s.client({chain:C});else{const O=C.id,R=a.getState().map(N=>N.id),D={},F=Object.entries(s);for(const[N,z]of F)if(!(N==="chains"||N==="client"||N==="connectors"||N==="transports"))if(typeof z=="object")if(O in z)D[N]=z[O];else{if(R.some(L=>L in z))continue;D[N]=z}else D[N]=z;T=aoe({...D,chain:C,batch:D.batch??{multicall:!0},transport:N=>s.transports[O]({...N,connectors:l})})}return h.set(k,T),T}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const g="0.0.0-canary-";yv.startsWith(g)?m=Number.parseInt(yv.replace(g,""),10):m=Number.parseInt(yv.split(".")[0]??"0",10);const v=Ow(moe(t?yoe(f,{migrate(_,k){if(k===m)return _;const C=f(),T=y(_,C.chainId);return{...C,chainId:T}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([k,C])=>{const{id:T,name:O,type:R,uid:D}=C.connector;return[k,{...C,connector:{id:T,name:O,type:R,uid:D}}]})},chainId:_.chainId,current:_.current}},merge(_,k){typeof _=="object"&&_&&"status"in _&&delete _.status;const C=y(_,k.chainId);return{...k,..._,chainId:C}},skipHydration:i,storage:t,version:m}):f));v.setState(f());function y(_,k){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(C=>C.id===_.chainId)?_.chainId:k}r&&v.subscribe(({connections:_,current:k})=>{var C;return k?(C=_.get(k))==null?void 0:C.chainId:void 0},_=>{if(a.getState().some(C=>C.id===_))return v.setState(C=>({...C,chainId:_??C.chainId}))}),o==null||o.subscribe(_=>{const k=new Set,C=new Set;for(const O of l.getState())if(k.add(O.id),O.rdns){const R=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const D of R)C.add(D)}const T=[];for(const O of _){if(C.has(O.info.rdns))continue;const R=c(u(O));k.has(R.id)||T.push(R)}t&&!v.persist.hasHydrated()||l.setState(O=>[...O,...T],!0)});function b(_){v.setState(k=>{const C=k.connections.get(_.uid);return C?{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts??C.accounts,chainId:_.chainId??C.chainId,connector:C.connector})}:k})}function w(_){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(k=>{const C=l.getState().find(T=>T.uid===_.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",b),C.emitter.listenerCount("change")||C.emitter.on("change",b),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",S),{...k,connections:new Map(k.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:C}),current:_.uid,status:"connected"}):k})}function S(_){v.setState(k=>{const C=k.connections.get(_.uid);if(C){const O=C.connector;O.emitter.listenerCount("change")&&C.connector.emitter.off("change",b),O.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",S),O.emitter.listenerCount("connect")||C.connector.emitter.on("connect",w)}if(k.connections.delete(_.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const T=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:t,getClient:d,get state(){return v.getState()},setState(_){let k;typeof _=="function"?k=_(v.getState()):k=_;const C=f();typeof k!="object"&&(k=C),Object.keys(C).some(O=>!(O in k))&&(k=C),v.setState(k,!0)},subscribe(_,k,C){return v.subscribe(_,k,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const _=v.getState(),k=_.connections;let C=_.current;for(const[,T]of k){const O=T.connector;O.isAuthorized&&await O.isAuthorized()||(k.delete(O.uid),C===O.uid&&(C=null))}v.setState(T=>({...T,connections:k,current:C}))},store:v,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(_){const k=typeof _=="function"?_(a.getState()):_;if(k.length!==0)return a.setState(k,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:c,setState(_){return l.setState(typeof _=="function"?_(l.getState()):_,!0)},subscribe(_){return l.subscribe(_)}},events:{change:b,connect:w,disconnect:S}}}}function Poe(n,e){const{initialState:t,reconnectOnMount:r}=e;return t&&!n._internal.store.persist.hasHydrated()&&n.setState({...t,chainId:n.chains.some(i=>i.id===t.chainId)?t.chainId:n.chains[0].id,connections:r?t.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(i=>{var l;const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)s.add(h)}const o=[],a=((l=n._internal.mipd)==null?void 0:l.getProviders())??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=n._internal.connectors.providerDetailToConnector(c),h=n._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),r?uoe(n):n.storage&&n.setState(i=>({...i,connections:new Map}))}}}function Ooe(n){const{children:e,config:t,initialState:r,reconnectOnMount:i=!0}=n,{onMount:s}=Poe(t,{initialState:r,reconnectOnMount:i});t._internal.ssr||s();const o=I.useRef(!0);return I.useEffect(()=>{if(o.current&&t._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Roe=I.createContext(void 0);function Doe(n){const{children:e,config:t}=n,r={value:t};return I.createElement(Ooe,n,I.createElement(Roe.Provider,r,e))}function Aoe(n){return n.replace(/_([a-z])/g,(e,t)=>t.toUpperCase())}function Noe(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&n.constructor===Object}function Ah(n){if(n==null)return n;if(Array.isArray(n))return n.map(e=>Ah(e));if(Noe(n)){const e={};for(const[t,r]of Object.entries(n)){const i=Aoe(t);e[i]=Ah(r)}return e}return n}class ZP{constructor(e,t=3,r=3e4){ue(this,"baseURL");ue(this,"timeout");ue(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=t,this.timeout=r}async do(e){var o,a,l,c,u,h,d,f,m;const t=Date.now();let r=null,i=null;for(let g=1;g<=this.maxRetries;g++)try{return{...await this.doRequest(e),duration:Date.now()-t}}catch(v){if(r=v,this.isNonceError(v))throw v;const y=this.parseErrorBody(v);if(i=y,this.isServiceUnavailable(y)){const b=(o=y==null?void 0:y.details)==null?void 0:o.retryAfterSeconds,w=(a=y==null?void 0:y.details)==null?void 0:a.circuitBreakerState,S=(l=y==null?void 0:y.details)==null?void 0:l.readsAllowed,_=(c=y==null?void 0:y.details)==null?void 0:c.requestType;if(w==="OPEN"){const k=((u=y==null?void 0:y.details)==null?void 0:u.serviceStatus)||"UNAVAILABLE",C=[];S&&C.push("reads"),(h=y==null?void 0:y.details)!=null&&h.writesAllowed&&C.push("writes"),(d=y==null?void 0:y.details)!=null&&d.streamsAllowed&&C.push("streams");const T=C.length>0?` (Allowed: ${C.join(", ")})`:" (No operations allowed)";throw new Error(`Service temporarily unavailable: Circuit breaker is OPEN. Service status: ${k}.${T} Retry after ${b||30} seconds. Request type: ${_||"unknown"}. Details: ${(y==null?void 0:y.message)||"Service unavailable"}`)}if(b&&g<this.maxRetries){await this.delay(b*1e3);continue}}if(g<this.maxRetries){const b=g*1e3;await this.delay(b)}}let s=`Request failed after ${this.maxRetries} attempts: ${r==null?void 0:r.message}`;throw(f=i==null?void 0:i.details)!=null&&f.retryAfterSeconds&&(s+=` (Service requested retry after ${i.details.retryAfterSeconds} seconds)`),(m=i==null?void 0:i.details)!=null&&m.circuitBreakerState&&(s+=` (Circuit breaker: ${i.details.circuitBreakerState})`),new Error(s)}async doRequest(e){const t=`${this.baseURL}${e.path}`,r={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},i={method:e.method,headers:r,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?i.body=JSON.stringify(e.body):e.method==="GET"&&(i.body=void 0);const s=await fetch(t,i);let o;const a=s.headers.get("content-type");if(a!=null&&a.includes("application/json"))try{const l=await s.json();o=Ah(l)}catch{o=await s.text()}else o=await s.text();if(s.status>=400)throw new Error(`HTTP ${s.status}: ${JSON.stringify(o)}`);return{statusCode:s.status,body:o,headers:s.headers}}isNonceError(e){const t=(e==null?void 0:e.message)||"";return t.toLowerCase().includes("nonce")||t.includes("InvalidNonce")||t.includes("NonceError")}parseErrorBody(e){try{const r=((e==null?void 0:e.message)||"").match(/HTTP \d+: (.+)$/);if(r&&r[1]){const i=JSON.parse(r[1]);if(i&&typeof i=="object"&&(i.error===503||i.code==="SERVICE_UNAVAILABLE"))return Ah(i)}}catch{}return null}isServiceUnavailable(e){var t;return e?e.error===503||e.code==="SERVICE_UNAVAILABLE"||((t=e.details)==null?void 0:t.circuitBreakerState)==="OPEN":!1}delay(e){return new Promise(t=>setTimeout(t,e))}async get(e,t){return this.do({method:"GET",path:e,headers:t})}async post(e,t,r){return this.do({method:"POST",path:e,body:t,headers:r})}async put(e,t,r){return this.do({method:"PUT",path:e,body:t,headers:r})}async delete(e,t){return this.do({method:"DELETE",path:e,headers:t})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}let Zd={instance:null,module:null},Loe=null;async function Foe(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const a=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let l=!1,c=null;for(const u of a)try{console.log(`Trying to load wasm_exec.js from: ${u}`),await new Promise((h,d)=>{const f=document.createElement("script");f.src=u,f.async=!0,f.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${u}`),h()},f.onerror=()=>{d(new Error(`Failed to load from ${u}`))},document.head.appendChild(f)}),l=!0;break}catch(h){console.warn(`Failed to load from ${u}:`,h==null?void 0:h.message),c=h,document.head.querySelectorAll(`script[src="${u}"]`).forEach(f=>f.remove())}if(!l)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(c==null?void 0:c.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;Loe=e,console.log("Go instance created");const t="/morm_signer.wasm";console.log("Loading WASM from:",t);let r;try{const a=await fetch(t);if(console.log("WASM fetch response:",{status:a.status,statusText:a.statusText,ok:a.ok,url:a.url}),!a.ok){const l=await a.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${t}: ${a.status} ${a.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}r=await a.arrayBuffer(),console.log("WASM file loaded successfully, size:",r.byteLength,"bytes")}catch(a){throw console.error("WASM fetch failed:",a),new Error(`Failed to fetch WASM file: ${(a==null?void 0:a.message)||a}. The file should be accessible at ${window.location.origin}${t}`)}console.log("Instantiating WASM module...");let i;try{i=await WebAssembly.instantiate(r,e.importObject),console.log("WASM module instantiated successfully")}catch(a){throw console.error("Failed to instantiate WASM:",a),new Error(`Failed to instantiate WASM module: ${(a==null?void 0:a.message)||a}. The WASM file may be corrupted or incompatible.`)}Zd.instance=i.instance,Zd.module=i.module,console.log("Running Go program..."),console.log("Window object before Go run:",Object.keys(window).filter(a=>typeof window[a]=="function"&&(a.startsWith("morm")||a.startsWith("derive")||a.startsWith("generate")||a==="Go")));try{e.run(Zd.instance),console.log("Go program started (run() completed)")}catch(a){throw console.error("Failed to run Go program:",a),new Error(`Failed to run Go program: ${(a==null?void 0:a.message)||a}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const s=10;let o=[];for(let a=1;a<=s;a++){const l=Math.min(a*200,2e3);await new Promise(u=>setTimeout(u,l));const c=Object.keys(window).filter(u=>typeof window[u]=="function");if(o=c.filter(u=>u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u.startsWith("verify")||u.startsWith("map")||u.startsWith("validate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"),console.log(`Attempt ${a}/${s}:`,{waitTime:`${l}ms`,allWindowFunctions:c.length,exportedFunctions:o,sampleWindowKeys:c.slice(0,20)}),o.length>0){console.log(" Go functions found!",o);break}a===s&&(console.warn(" No expected functions found. All window functions:",c.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(o.length===0){const a=[],l=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:l.length,allFunctions:l.filter(c=>typeof window[c]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Zd.instance!==null,wasmModule:Zd.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(u=>setTimeout(u,500));const c=Object.keys(window).filter(u=>typeof window[u]=="function"&&(u.startsWith("morm")||u.startsWith("derive")||u.startsWith("generate")||u.startsWith("Generate")||u==="GetSupportedSignatureTypes"||u==="IsSignatureTypeSupported"));c.length>0&&(console.log(" Functions found after InitWASMSigner!",c),o=c)}catch(c){console.error("Failed to call InitWASMSigner:",c)}}if(o.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class $oe{constructor(){ue(this,"isInitialized",!1);ue(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await Foe(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"}async generateAddress(e,t=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.deriveAddress(e,t);return typeof r=="string"?{success:!0,address:r,index:t,mnemonic:e.substring(0,20)+"..."}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to derive address"}}catch(r){return console.error("Failed to generate address:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.generateMnemonic(e);return typeof t=="string"?{success:!0,mnemonic:t}:t&&t.error?{success:!1,error:t.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,t,r={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=(r.useEIP712,"ECDSA_LEGACY"),s=window.generateSignature(i,e,t);return typeof s=="string"?{success:!0,signature:s,message:t,options:r}:s&&s.error?{success:!1,error:s.error}:{success:!1,error:"Failed to generate signature"}}catch(i){return console.error("Failed to sign message:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async signDeposit(e,t,r,i={}){const s={...i,depositMode:!0,walletAddress:t,amount:r},o=JSON.stringify({action:"deposit",owner:t,amount:r,nonce:i.nonce||Date.now(),deadline:i.deadline||Date.now()+36e5}),a=await this.signMessage(e,o,s);return{success:a.success,signature:a.signature,message:a.message,address:t,options:a.options,error:a.error}}async signEIP712(e,t,r={}){const i={...r,useEIP712:!0};return this.signMessage(e,t,i)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const t=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return t&&t.error?{success:!1,error:t.error}:{success:!0,typedData:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async signAgentApproval(e,t){const r=await this.prepareAgentSign(t);if(!r.success||!r.typedData)return r;const i=JSON.stringify({action:"agent::approve",wallet:t.owner,agent:t.agent,agentName:t.agentName||"",expiresInDays:t.expiresInDays,permissions:t.permissions,nonce:t.nonce,deadline:Date.now()+t.expiresInDays*24*60*60*1e3}),s=await this.signMessage(e,i,{useEIP712:!0});return s.success?{success:!0,typedData:r.typedData,signature:s.signature}:{success:!1,error:s.error}}async verifySignature(e,t,r){if(!this.isReady())throw new Error("MormSigner not initialized");try{const i=window.verifySignature(e,t,r);return typeof i=="boolean"?i:!1}catch(i){return console.error("Failed to verify signature:",i),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(t){return console.error("Failed to map algorithm:",t),"ECDSA_LEGACY"}}validateNonce(e,t){if(!this.isReady())return!1;try{return window.validateNonce(e,t)}catch(r){return console.error("Failed to validate nonce:",r),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,t,r){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateSingleSignature(e,t,r);return i.error?{success:!1,error:i.error}:{success:!0,signature:i.signature}}catch(i){return console.error("Failed to generate single signature:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateMultisignSignatures(e,t,r=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.GenerateMultisignSignatures(e,t,r);if(i.error)return{success:!1,error:i.error};let s=null;if(i.tx)try{s=JSON.parse(i.tx)}catch(o){console.warn("Failed to parse updated transaction JSON:",o)}return{success:!0,tx:s,txJSON:i.tx}}catch(i){return console.error("Failed to generate multisign signatures:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(t){return console.error("Failed to check signature type support:",t),!1}}}const eo=new $oe,joe=6e4,MA=1e4,Rw=24*60*60*1e3,Dw=1;class IY{constructor(e,t){ue(this,"infoClient");ue(this,"storage");ue(this,"onChainState",new Map);ue(this,"offChainNonces",new Map);ue(this,"syncTimers",new Map);this.infoClient=e,this.storage=t}persistState(e,t){var r;(r=this.storage)==null||r.setSnapshot(e,{confirmed:t.confirmed,pending:[...t.pending],lastSync:t.lastSync})}getOrCreateState(e){var i;const t=e.toLowerCase();let r=this.onChainState.get(t);if(!r){const s=(i=this.storage)==null?void 0:i.getSnapshot(t);r=s?{confirmed:s.confirmed,pending:[...s.pending],lastSync:s.lastSync,mu:!1}:{confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(t,r)}return r}async acquireLock(e){for(;e.mu;)await new Promise(t=>setTimeout(t,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e){const t=this.getOrCreateState(e),r=Date.now();if(!(r-t.lastSync<joe))try{const s=(await this.infoClient.getNonceStatus(e,!1)).nextNonce;t.confirmed=s>0?s-1:0,t.lastSync=r,console.log(`[NonceManager] syncWithCore: owner=${e}, serverNextNonce=${s}, confirmed=${t.confirmed}`),this.persistState(e,t)}catch(i){console.warn(`[NonceManager] Failed to sync with core for ${e}:`,i)}}async getNonce(e,t="latest"){const r=e.toLowerCase(),i=this.getOrCreateState(r);if(await this.syncWithCore(r),t==="latest")return i.confirmed;{const s=i.pending.length>0?Math.max(...i.pending):i.confirmed;return Math.max(i.confirmed,s)}}async validateNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{if(r||await this.syncWithCore(i),s.confirmed===0&&t<Dw)throw new Error(`nonce too low for new account: got ${t}, minimum ${Dw}`);if(s.confirmed>0&&t<=s.confirmed)throw new Error(`nonce too low: got ${t}, confirmed ${s.confirmed}`);if(s.pending.includes(t))throw new Error(`nonce already pending: ${t}`);if(s.pending.length>=MA)throw new Error(`pending nonce limit reached: max ${MA} pending nonces`);if(r){const o=this.offChainNonces.get(i);if(o){const a=o.get(t);if(a){const l=Date.now();if(l-a<Rw)throw new Error(`nonce already used (off-chain): ${t}, expires in ${Math.floor((Rw-(l-a))/1e3)}s`);o.delete(t)}}}s.pending.push(t),s.pending.sort((o,a)=>o-a),this.persistState(i,s)}finally{this.releaseLock(s)}}async commitNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){let a=this.offChainNonces.get(i);a||(a=new Map,this.offChainNonces.set(i,a)),a.set(t,Date.now())}else if(t===s.confirmed+1)for(s.confirmed=t;s.pending.length>0&&s.pending[0]===s.confirmed+1;){const a=s.pending.shift();s.confirmed=a}this.persistState(i,s)}finally{this.releaseLock(s)}}async rejectNonce(e,t,r=!1){const i=e.toLowerCase(),s=this.getOrCreateState(i);await this.acquireLock(s);try{const o=s.pending.indexOf(t);if(o!==-1&&s.pending.splice(o,1),r){const a=this.offChainNonces.get(i);a&&a.delete(t)}this.persistState(i,s)}finally{this.releaseLock(s)}}async getExpectedNextNonce(e,t=!1){const r=e.toLowerCase();await this.syncWithCore(r);const i=this.getOrCreateState(r),s=i.pending.length>0?Math.max(...i.pending):i.confirmed,o=Math.max(i.confirmed+1,s+1),a=o===0?Dw:o;if(t)try{await this.validateNonce(r,a,!1)}catch(l){console.warn(`[NonceManager] Failed to reserve nonce ${a}:`,l.message)}return{next_nonce:a,reserved:t,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[t,r]of this.offChainNonces.entries()){for(const[i,s]of r.entries())e-s>=Rw&&r.delete(i);r.size===0&&this.offChainNonces.delete(t)}}resetNonce(e){var i,s;const t=e.toLowerCase();this.onChainState.delete(t),this.offChainNonces.delete(t),(s=(i=this.storage)==null?void 0:i.clearOwner)==null||s.call(i,t);const r=this.syncTimers.get(t);r&&(clearInterval(r),this.syncTimers.delete(t))}getState(e){const t=e.toLowerCase();return this.onChainState.get(t)}}const uy=1e8;function Pn(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);const t=Math.round(e*uy);return BigInt(t.toFixed(0)).toString()}function Qn(n){const e=n.includes(".")?n.split(".")[0]:n,t=BigInt(e),r=BigInt(uy),i=t/r,s=t%r;return Number(i)+Number(s)/uy}function Boe(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*uy)}function IA(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function ct(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return Qn(typeof n=="string"?n:String(n))}catch{return 0}return 0}function zoe(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function hy(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function qoe(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}class io{constructor(e){ue(this,"httpClient");ue(this,"sessionToken");this.httpClient=new ZP(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){var r;const t=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;if(t&&typeof t=="object"&&"markets"in t){const i=t.count??t.total??((r=t.markets)==null?void 0:r.length)??0;return{markets:t.markets??[],total:i,count:t.count}}return{markets:[],total:0}}async getMarketsWithFilters(e,t){var a;let r="/market/v1/all";const i=[];e&&i.push(`filter=${e}`),t&&i.push("active_only=true"),i.length>0&&(r+="?"+i.join("&"));const o=(await this.httpClient.get(r,this.getHeaders())).body;if(o&&typeof o=="object"&&"markets"in o){const l=o.count??o.total??((a=o.markets)==null?void 0:a.length)??0;return{markets:o.markets??[],total:l,count:o.count}}return{markets:[],total:0}}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketBySymbol(e){return(await this.httpClient.get(`/market/v1/market/by-symbol/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByTicker(e){return(await this.httpClient.get(`/market/v1/market/by-ticker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${encodeURIComponent(e)}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,t=!0,r=20){const i=r>0&&r<100?r:20,s=`/clob/v1/orderbook/${e}?depth=${i}`,a=(await this.httpClient.get(s,this.getHeaders())).body;return{marketIndex:a.marketIndex,symbol:a.symbol,bids:this.normalizePriceLevels(a.bids,t),asks:this.normalizePriceLevels(a.asks,t),sequenceId:a.sequenceId!=null?Number(a.sequenceId):void 0,checksum:a.checksum,blockHeight:a.blockHeight,updatedAt:a.updatedAt}}normalizePriceLevels(e,t){return Array.isArray(e)?e.map(r=>{let i,s;if(typeof r=="object"&&r!==null&&"price"in r){const o=r;i=o.price,s=o.quantity}else if(Array.isArray(r)&&r.length>=2)i=String(r[0]),s=String(r[1]);else return[0,0];return t?[Qn(i),Qn(s)]:[i,s]}):[]}async getMarketTrades(e,t){let r=`/clob/v1/market/${e}/trades`;t&&t>0&&(r+=`?limit=${t}`);const i=await this.httpClient.get(r,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",i.body);const s=i.body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",i.body),[])}async getTrades(e,t){let r=`/clob/v1/trades?symbol=${e}`;t&&t>0&&(r+=`&limit=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getAggTrades(e,t,r,i){let s=`/market/v1/aggTrades?symbol=${e}`;return t&&t>0&&(s+=`&limit=${t}`),r&&r>0&&(s+=`&startTime=${r}`),i&&i>0&&(s+=`&endTime=${i}`),(await this.httpClient.get(s,this.getHeaders())).body}async getKlines(e,t,r,i,s){let o=`/clob/v1/klines?symbol=${e}&interval=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l)?l:[]}async getContinuousKlines(e,t,r,i,s,o){let a=`/market/v1/continuousKlines?pair=${e}&contractType=${t}&interval=${r}`;return i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`),(await this.httpClient.get(a,this.getHeaders())).body}async getPremiumIndex(e){let t="/market/v1/premiumIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getFundingRate(e,t,r,i){let s="/market/v1/fundingRate";const o=[];e&&o.push(`symbol=${e}`),t&&t>0&&o.push(`limit=${t}`),r&&r>0&&o.push(`startTime=${r}`),i&&i>0&&o.push(`endTime=${i}`),o.length>0&&(s+="?"+o.join("&"));const l=(await this.httpClient.get(s,this.getHeaders())).body;return Array.isArray(l)?l:l&&typeof l=="object"&&"data"in l&&Array.isArray(l.data)?l.data:l?[l]:[]}async getFundingInfo(){const t=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(t)?t:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,t,r,i,s){let o=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getGlobalLongShortAccountRatio(e,t,r,i,s){let o=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getTicker24hr(e){let t="/market/v1/ticker/24hr";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getTickerPrice(e){let t="/market/v1/ticker/price";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookTicker(e){let t="/market/v1/ticker/bookTicker";e&&(t+=`?ticker=${encodeURIComponent(e)}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getOrderbookMoniker(e){return this.getOrderbookTicker(e)}async getBasis(e,t,r,i,s){let o=`/market/v1/basis?symbol=${e}&period=${t}`;r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`);const l=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(l),l}async getIndexInfo(e){let t="/market/v1/indexInfo";return e&&(t+=`?symbol=${e}`),(await this.httpClient.get(t,this.getHeaders())).body}async getAssetIndex(e){let t="/market/v1/assetIndex";e&&(t+=`?symbol=${e}`);const i=(await this.httpClient.get(t,this.getHeaders())).body;return Array.isArray(i),i}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,t){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${t}`,this.getHeaders())).body}async getTransactionHistory(e){const t=new URLSearchParams({address:e.address});return e.txType&&t.set("txType",e.txType),e.limit&&t.set("limit",e.limit.toString()),e.offset&&t.set("offset",e.offset.toString()),(await this.httpClient.get(`/bank/v1/transactions/history?${t.toString()}`,this.getHeaders())).body}async getBucketMetrics(){return(await this.httpClient.get("/bucket/v1/metrics",this.getHeaders())).body}async getBucketEfficiencyMetrics(){return(await this.httpClient.get("/bucket/v1/metrics/efficiency",this.getHeaders())).body}async getAddressPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/address/${encodeURIComponent(e)}`,this.getHeaders())).body}async getBucketPnL(e){return(await this.httpClient.get(`/bucket/v1/pnl/bucket/${encodeURIComponent(e)}`,this.getHeaders())).body}async getPositions(e,t){if(!e)throw new Error("walletAddress is required for getPositions");let r=`/bucket/v1/address/${e}/positions`;t!==void 0&&(r+=`?active_only=${t}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s)?s:s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBalance(e,t){var o,a;const r=`/bank/v1/balance/${encodeURIComponent(e)}?asset=${encodeURIComponent(t)}`,s=(await this.httpClient.get(r,this.getHeaders())).body;if(typeof s.asset=="object"&&((o=s.asset)!=null&&o.symbol))return{...s,asset:s.asset.symbol};if(!s.asset&&s.collateralAssetIndex){const l=((a=s.collateralAssetIndex)==null?void 0:a.ticker)??s.collateralAssetIndex;if(typeof l=="string")return{...s,asset:l}}return s}async getBalances(e){const r=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return r&&typeof r=="object"&&"balances"in r&&Array.isArray(r.balances)?r.balances.map(i=>{var a;const s=i.asset;if(typeof s=="string")return i;if(s&&typeof s=="object"&&typeof s.symbol=="string")return{...i,asset:s.symbol};const o=((a=i.collateralAssetIndex)==null?void 0:a.ticker)??i.collateralAssetIndex;return o&&typeof o=="string"?{...i,asset:o}:i}):[]}async getBalanceDecimal(e,t){const r=await this.getBalance(e,t);if(r&&typeof r=="object"){const i={...r};return i.balance&&(i.balance=Qn(i.balance)),i.availableBalance&&(i.available=Qn(i.availableBalance)),i.available&&typeof i.available=="string"&&(i.available=Qn(i.available)),i.lockedBalance&&(i.locked=Qn(i.lockedBalance)),i.locked&&typeof i.locked=="string"&&(i.locked=Qn(i.locked)),i}return r}async getOrders(e,t){return this.getOrdersByAddress(e,t?{marketIndex:t}:void 0)}async getOrdersByMarket(e,t){const r=new URLSearchParams;t!=null&&t.symbol&&r.set("symbol",t.symbol),t!=null&&t.status&&r.set("status",t.status),(t==null?void 0:t.offset)!=null&&r.set("paginationRequest.offset",String(t.offset)),(t==null?void 0:t.limit)!=null&&r.set("paginationRequest.limit",String(t.limit));const i=r.toString(),s=`/clob/v1/market/${encodeURIComponent(e)}/orders${i?`?${i}`:""}`;return(await this.httpClient.get(s,this.getHeaders())).body??{orders:[],totalCount:0,timestamp:Date.now()}}async getOrdersByAddress(e,t){const r=`/clob/v1/address/${encodeURIComponent(e)}/orders`,i=new URLSearchParams;t!=null&&t.marketIndex&&i.set("marketIndex",t.marketIndex),t!=null&&t.status&&i.set("status",t.status),(t==null?void 0:t.limit)!=null&&i.set("paginationRequest.limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&i.set("paginationRequest.offset",String(t.offset));const s=i.toString(),o=s?`${r}?${s}`:r;return(await this.httpClient.get(o,this.getHeaders())).body}async getOrder(e,t){return(await this.httpClient.get(`/clob/v1/order/${encodeURIComponent(e)}?address=${encodeURIComponent(t)}`,this.getHeaders())).body}async getOrderHistory(e){return this.getOrdersByAddress(e)}async getAddressLiquidations(e){const t=new URLSearchParams;return e.limit!=null&&t.set("limit",e.limit.toString()),e.offset!=null&&t.set("offset",e.offset.toString()),e.start_time!=null&&t.set("start_time",e.start_time.toString()),e.end_time!=null&&t.set("end_time",e.end_time.toString()),(await this.httpClient.get(`/clob/v1/address/${encodeURIComponent(e.address)}/liquidations${t.toString()?`?${t.toString()}`:""}`,this.getHeaders())).body}async getUserTrades(e,t){let r=`/clob/v1/address/trades?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;if(s&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades))return s.trades;if(Array.isArray(s))return s;const o=s;return o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getTradeHistory(e,t){return this.getUserTrades(e,t)}async getPosition(e,t){let r=`/clob/v1/address/position?address=${encodeURIComponent(e)}`;t&&(r+=`&symbol=${encodeURIComponent(t)}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return s&&typeof s=="object"&&"positions"in s&&Array.isArray(s.positions)?s.positions:[]}async getBuckets(e){var r;const t=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(r=t.body)!=null&&r.buckets&&Array.isArray(t.body.buckets)?t.body.buckets:[]}async getBucket(e){const t=await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders()),r=t.body;return(r==null?void 0:r.bucket)!=null?r.bucket:t.body}async getMarketData(e){var u,h;const t=`/clob/v1/orderbook/${encodeURIComponent(e)}/snapshot?depth=1`,i=(await this.httpClient.get(t,this.getHeaders())).body,s=(i==null?void 0:i.bids)??[],o=(i==null?void 0:i.asks)??[],a=(u=s[0])==null?void 0:u.price,l=(h=o[0])==null?void 0:h.price;let c;return a!=null&&l!=null?c=(parseFloat(a)+parseFloat(l))/2:a!=null?c=parseFloat(a):l!=null&&(c=parseFloat(l)),{...i??{},symbol:i==null?void 0:i.symbol,assetPair:i==null?void 0:i.symbol,lastPrice:c!=null?String(c):void 0,last_price:c,markPrice:c!=null?String(c):void 0,mark_price:c}}async getMarketCandles(e,t,r){const i=new URLSearchParams({interval:t,limit:String(r)}),s=`/clob/v1/market/${encodeURIComponent(e)}/klines?${i.toString()}`,a=(await this.httpClient.get(s,this.getHeaders())).body;if(Array.isArray(a))return a;const l=a==null?void 0:a.klines;return Array.isArray(l)?l:[]}async getOrderbookSnapshot(e,t=100){const r=`/v1/stream/orderbook/${encodeURIComponent(e)}/snapshot?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getLocalChecksum(e,t=25){const r=`/v1/stream/local-checksum/${encodeURIComponent(e)}?depth=${t}`;return(await this.httpClient.get(r,this.getHeaders())).body}async getStreamStats(){return(await this.httpClient.get("/v1/stream/stats",this.getHeaders())).body}async getChecksum(e,t,r,i){const s=new URLSearchParams({stream_type:e,stream_key:t});return r!=null&&s.set("depth",String(r)),i&&s.set("address",i),(await this.httpClient.get(`/v1/stream/checksum?${s.toString()}`,this.getHeaders())).body}async getOrderbookChecksum(e,t=25){var o;const r=`/clob/v1/market/${encodeURIComponent(e)}/checksum?depth=${t}`,i=await this.httpClient.get(r,this.getHeaders()),s=i.body;return{market_index:String((s==null?void 0:s.marketIndex)??e),checksum:(s==null?void 0:s.checksum)??"",sequence_id:s==null?void 0:s.sequenceId,depth:t,timestamp:(o=i.body)==null?void 0:o.timestamp}}async resyncOrderbookIfMismatch(e,t,r=25){const i=await this.getLocalChecksum(e,r);return t!=null&&i.checksum!==t?{mismatch:!0,snapshot:await this.getOrderbookSnapshot(e,r)}:{mismatch:!1}}async getNonceStatus(e,t=!1){let r=`/router/v1/nonce/status/${encodeURIComponent(e)}`;return t&&(r+="?reserve=true"),(await this.httpClient.get(r,this.getHeaders())).body}async getNonceBatch(e,t){const r=`/router/v1/nonce/batch/${encodeURIComponent(e)}?count=${t}`,s=(await this.httpClient.get(r,this.getHeaders())).body;return(s==null?void 0:s.nonces)??[]}async getAuthNonce(e){const t=`/auth/v1/nonce?owner=${encodeURIComponent(e)}`;return(await this.httpClient.get(t,this.getHeaders())).body}async nonceRollback(e,t){return(await this.httpClient.post("/router/v1/nonce/rollback",{address:e,nonce:t},this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthRisk(){return(await this.httpClient.get("/router/v1/health/risk",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getHealthCircuitBreaker(){return(await this.httpClient.get("/router/v1/health/circuit-breaker",this.getHeaders())).body}async getHealthCoredaemon(){return(await this.httpClient.get("/router/v1/health/coredaemon",this.getHeaders())).body}async getHealthLive(){return(await this.httpClient.get("/health/live",this.getHeaders())).body}async getHealthReady(e,t){const r=new URLSearchParams;e&&r.set("verbose","true"),t&&r.set("strict","true");const i=r.toString(),s=i?`/health/ready?${i}`:"/health/ready";return(await this.httpClient.get(s,this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}const PY="6.16.0";async function eO(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function bi(n,e,t){for(let r in e){let i=e[r];Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Iu(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>Iu(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Iu(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${Iu(r,e)}: ${Iu(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Uoe(n,e,t){let r=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Iu(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];s.push(o+"="+Iu(a))}}s.push(`code=${e}`),s.push(`version=${PY}`),s.length&&(n+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return bi(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&bi(i,{shortMessage:r}),i}function It(n,e,t,r){if(!n)throw Uoe(e,t,r)}function se(n,e,t,r){It(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}const Hoe=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function OY(n){It(Hoe.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function kb(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),It(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function RY(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(n.substring(i,i+2),16),i+=2;return r}se(!1,"invalid BytesLike value",e||"value",n)}function Ke(n,e){return RY(n,e,!1)}function mu(n,e){return RY(n,e,!0)}function so(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Cb(n){return so(n,!0)||n instanceof Uint8Array}const PA="0123456789abcdef";function qe(n){const e=Ke(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=PA[(i&240)>>4]+PA[i&15]}return t}function Ln(n){return"0x"+n.map(e=>qe(e).substring(2)).join("")}function ep(n){return so(n,!0)?(n.length-2)/2:Ke(n).length}function tO(n,e,t){const r=Ke(n);return t>r.length&&It(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),qe(r.slice(e,t))}function Woe(n,e,t){const r=Ke(n);It(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(r,e-r.length),qe(i)}function nl(n,e){return Woe(n,e)}const Eb=BigInt(0),Rl=BigInt(1),Pu=9007199254740991;function Yoe(n,e){let t=Jt(n,"value");const r=BigInt(xi(e,"width")),i=Rl<<r-Rl;if(t<Eb){t=-t,It(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(Rl<<r)-Rl;return(~t&s)+Rl}else It(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Goe(n,e){const t=nO(n,"value"),r=BigInt(xi(e,"bits"));return t&(Rl<<r)-Rl}function Jt(n,e){switch(typeof n){case"bigint":return n;case"number":return se(Number.isInteger(n),"underflow",e||"value",n),se(n>=-Pu&&n<=Pu,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){se(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}se(!1,"invalid BigNumberish value",e||"value",n)}function nO(n,e){const t=Jt(n,e);return It(t>=Eb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const OA="0123456789abcdef";function DY(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=OA[t>>4],e+=OA[t&15];return BigInt(e)}return Jt(n)}function xi(n,e){switch(typeof n){case"bigint":return se(n>=-Pu&&n<=Pu,"overflow",e||"value",n),Number(n);case"number":return se(Number.isInteger(n),"underflow",e||"value",n),se(n>=-Pu&&n<=Pu,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return xi(BigInt(n),e)}catch(t){se(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}se(!1,"invalid numeric value",e||"value",n)}function Nh(n,e){const t=nO(n,"value");let r=t.toString(16);{const i=xi(e,"width");if(i===0&&t===Eb)return"0x";for(It(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function An(n,e){const t=nO(n,"value");if(t===Eb)return new Uint8Array(0);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(r.substring(o,o+2),16)}return i}function Voe(n){let e=qe(Cb(n)?n:An(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const dy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let h0=null;function Koe(n){if(h0==null){h0={};for(let t=0;t<dy.length;t++)h0[dy[t]]=BigInt(t)}const e=h0[n];return se(e!=null,"invalid base58 value","letter",n),e}const Xoe=BigInt(0),TM=BigInt(58);function Qoe(n){const e=Ke(n);let t=DY(e),r="";for(;t;)r=dy[Number(t%TM)]+r,t/=TM;for(let i=0;i<e.length&&!e[i];i++)r=dy[0]+r;return r}function Joe(n){let e=Xoe;for(let t=0;t<n.length;t++)e*=TM,e+=Koe(n[t]);return e}function ic(n,e){se(typeof n=="string","invalid string value","str",n),e!=null&&(OY(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);se(r<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function Zoe(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function RA(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function DA(n,e,t,r){const i=[];for(;t<e+1+r;){const s=AY(n,t);i.push(s.result),t+=s.consumed,It(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function AY(n,e){It(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{It(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=RA(n,e+1,r);return t(e+1+r+i),DA(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),DA(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=RA(n,e+1,r);t(e+1+r+i);const s=qe(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=qe(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Zoe(n[e])}}function qm(n){const e=Ke(n,"data"),t=AY(e,0);return se(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function AA(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function NY(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(NY(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=AA(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Ke(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=AA(e.length);return t.unshift(183+t.length),t.concat(e)}const NA="0123456789abcdef";function jo(n){let e="0x";for(const t of NY(n))e+=NA[t>>4],e+=NA[t&15];return e}function eae(n){const e=Ke(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=qe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}function fi(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function rO(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function LY(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fi(n.outputLen),fi(n.blockLen)}function Lh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function FY(n,e){rO(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Aw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $Y=n=>n instanceof Uint8Array,xv=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),wv=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ds=(n,e)=>n<<32-e|n>>>e,tae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!tae)throw new Error("Non little-endian hardware is not supported");const nae=async()=>{};async function LA(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);const s=Date.now()-r;s>=0&&s<e||(await nae(),r+=s)}}function rae(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Fh(n){if(typeof n=="string"&&(n=rae(n)),!$Y(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function iae(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!$Y(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class iO{clone(){return this._cloneInto()}}const sae={}.toString;function jY(n,e){if(e!==void 0&&sae.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function Tb(n){const e=r=>n().update(Fh(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function oae(n=32){if(Aw&&typeof Aw.getRandomValues=="function")return Aw.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class BY extends iO{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,LY(e);const r=Fh(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Lh(this),this.iHash.update(e),this}digestInto(e){Lh(this),rO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mb=(n,e,t)=>new BY(n,e).update(t).digest();Mb.create=(n,e)=>new BY(n,e);function aae(n,e,t,r){LY(n);const i=jY({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(fi(s),fi(o),fi(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Fh(e),c=Fh(t),u=new Uint8Array(o),h=Mb.create(n,l),d=h._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}function lae(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function sO(n,e,t,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=aae(n,e,t,r);let c;const u=new Uint8Array(4),h=wv(u),d=new Uint8Array(a.outputLen);for(let f=1,m=0;m<s;f++,m+=a.outputLen){const g=o.subarray(m,m+a.outputLen);h.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(d),g.set(d.subarray(0,g.length));for(let v=1;v<i;v++){a._cloneInto(c).update(d).digestInto(d);for(let y=0;y<g.length;y++)g[y]^=d[y]}}return lae(a,l,o,c,d)}function cae(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),l=r?4:0,c=r?0:4;n.setUint32(e+l,o,r),n.setUint32(e+c,a,r)}class oO extends iO{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wv(this.buffer)}update(e){Lh(this);const{view:t,buffer:r,blockLen:i}=this;e=Fh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=wv(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Lh(this),FY(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)t[h]=0;cae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=wv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}const uae=(n,e,t)=>n&e^~n&t,hae=(n,e,t)=>n&e^n&t^e&t,dae=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),aa=new Uint32Array(64);class fae extends oO{constructor(){super(64,32,8,!1),this.A=oa[0]|0,this.B=oa[1]|0,this.C=oa[2]|0,this.D=oa[3]|0,this.E=oa[4]|0,this.F=oa[5]|0,this.G=oa[6]|0,this.H=oa[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,t,r,i,s,o,a,l]}set(e,t,r,i,s,o,a,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let h=0;h<16;h++,t+=4)aa[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const d=aa[h-15],f=aa[h-2],m=Ds(d,7)^Ds(d,18)^d>>>3,g=Ds(f,17)^Ds(f,19)^f>>>10;aa[h]=g+aa[h-7]+m+aa[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const d=Ds(a,6)^Ds(a,11)^Ds(a,25),f=u+d+uae(a,l,c)+dae[h]+aa[h]|0,g=(Ds(r,2)^Ds(r,13)^Ds(r,22))+hae(r,i,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){aa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ud=Tb(()=>new fae),d0=BigInt(2**32-1),MM=BigInt(32);function zY(n,e=!1){return e?{h:Number(n&d0),l:Number(n>>MM&d0)}:{h:Number(n>>MM&d0)|0,l:Number(n&d0)|0}}function qY(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:o}=zY(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}const pae=(n,e)=>BigInt(n>>>0)<<MM|BigInt(e>>>0),mae=(n,e,t)=>n>>>t,gae=(n,e,t)=>n<<32-t|e>>>t,vae=(n,e,t)=>n>>>t|e<<32-t,yae=(n,e,t)=>n<<32-t|e>>>t,bae=(n,e,t)=>n<<64-t|e>>>t-32,xae=(n,e,t)=>n>>>t-32|e<<64-t,wae=(n,e)=>e,_ae=(n,e)=>n,UY=(n,e,t)=>n<<t|e>>>32-t,HY=(n,e,t)=>e<<t|n>>>32-t,WY=(n,e,t)=>e<<t-32|n>>>64-t,YY=(n,e,t)=>n<<t-32|e>>>64-t;function Sae(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const kae=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Cae=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Eae=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Tae=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Mae=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Iae=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,gt={fromBig:zY,split:qY,toBig:pae,shrSH:mae,shrSL:gae,rotrSH:vae,rotrSL:yae,rotrBH:bae,rotrBL:xae,rotr32H:wae,rotr32L:_ae,rotlSH:UY,rotlSL:HY,rotlBH:WY,rotlBL:YY,add:Sae,add3L:kae,add3H:Cae,add4L:Eae,add4H:Tae,add5H:Iae,add5L:Mae},[Pae,Oae]=gt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),la=new Uint32Array(80),ca=new Uint32Array(80);class Rae extends oO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:d,Gh:f,Gl:m,Hh:g,Hl:v}=this;return[e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v]}set(e,t,r,i,s,o,a,l,c,u,h,d,f,m,g,v){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=f|0,this.Gl=m|0,this.Hh=g|0,this.Hl=v|0}process(e,t){for(let w=0;w<16;w++,t+=4)la[w]=e.getUint32(t),ca[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const S=la[w-15]|0,_=ca[w-15]|0,k=gt.rotrSH(S,_,1)^gt.rotrSH(S,_,8)^gt.shrSH(S,_,7),C=gt.rotrSL(S,_,1)^gt.rotrSL(S,_,8)^gt.shrSL(S,_,7),T=la[w-2]|0,O=ca[w-2]|0,R=gt.rotrSH(T,O,19)^gt.rotrBH(T,O,61)^gt.shrSH(T,O,6),D=gt.rotrSL(T,O,19)^gt.rotrBL(T,O,61)^gt.shrSL(T,O,6),F=gt.add4L(C,D,ca[w-7],ca[w-16]),N=gt.add4H(F,k,R,la[w-7],la[w-16]);la[w]=N|0,ca[w]=F|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:d,Fh:f,Fl:m,Gh:g,Gl:v,Hh:y,Hl:b}=this;for(let w=0;w<80;w++){const S=gt.rotrSH(h,d,14)^gt.rotrSH(h,d,18)^gt.rotrBH(h,d,41),_=gt.rotrSL(h,d,14)^gt.rotrSL(h,d,18)^gt.rotrBL(h,d,41),k=h&f^~h&g,C=d&m^~d&v,T=gt.add5L(b,_,C,Oae[w],ca[w]),O=gt.add5H(T,y,S,k,Pae[w],la[w]),R=T|0,D=gt.rotrSH(r,i,28)^gt.rotrBH(r,i,34)^gt.rotrBH(r,i,39),F=gt.rotrSL(r,i,28)^gt.rotrBL(r,i,34)^gt.rotrBL(r,i,39),N=r&s^r&a^s&a,z=i&o^i&l^o&l;y=g|0,b=v|0,g=f|0,v=m|0,f=h|0,m=d|0,{h,l:d}=gt.add(c|0,u|0,O|0,R|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const $=gt.add3L(R,F,z);r=gt.add3H($,O,D,N),i=$|0}({h:r,l:i}=gt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=gt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=gt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=gt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:d}=gt.add(this.Eh|0,this.El|0,h|0,d|0),{h:f,l:m}=gt.add(this.Fh|0,this.Fl|0,f|0,m|0),{h:g,l:v}=gt.add(this.Gh|0,this.Gl|0,g|0,v|0),{h:y,l:b}=gt.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b)}roundClean(){la.fill(0),ca.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const aO=Tb(()=>new Rae);function Dae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const FA=Dae(),$A=FA.crypto||FA.msCrypto;function Aae(n){switch(n){case"sha256":return ud.create();case"sha512":return aO.create()}se(!1,"invalid hashing algorithm name","algorithm",n)}function Nae(n,e){const t={sha256:ud,sha512:aO}[n];return se(t!=null,"invalid hmac algorithm","algorithm",n),Mb.create(t,e)}function Lae(n,e,t,r,i){const s={sha256:ud,sha512:aO}[i];return se(s!=null,"invalid pbkdf2 algorithm","algorithm",i),sO(s,n,e,{c:t,dkLen:r})}function Fae(n){It($A!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),se(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return $A.getRandomValues(e),e}let GY=!1;const VY=function(n,e,t){return Nae(n,e).update(t).digest()};let KY=VY;function hd(n,e,t){const r=Ke(e,"key"),i=Ke(t,"data");return qe(KY(n,r,i))}hd._=VY;hd.lock=function(){GY=!0};hd.register=function(n){if(GY)throw new Error("computeHmac is locked");KY=n};Object.freeze(hd);const[XY,QY,JY]=[[],[],[]],$ae=BigInt(0),ef=BigInt(1),jae=BigInt(2),Bae=BigInt(7),zae=BigInt(256),qae=BigInt(113);for(let n=0,e=ef,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],XY.push(2*(5*r+t)),QY.push((n+1)*(n+2)/2%64);let i=$ae;for(let s=0;s<7;s++)e=(e<<ef^(e>>Bae)*qae)%zae,e&jae&&(i^=ef<<(ef<<BigInt(s))-ef);JY.push(i)}const[Uae,Hae]=qY(JY,!0),jA=(n,e,t)=>t>32?WY(n,e,t):UY(n,e,t),BA=(n,e,t)=>t>32?YY(n,e,t):HY(n,e,t);function Wae(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],h=jA(c,u,1)^t[a],d=BA(c,u,1)^t[a+1];for(let f=0;f<50;f+=10)n[o+f]^=h,n[o+f+1]^=d}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=QY[o],l=jA(i,s,a),c=BA(i,s,a),u=XY[o];i=n[u],s=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Uae[r],n[1]^=Hae[r]}t.fill(0)}class lO extends iO{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xv(this.state)}keccak(){Wae(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Lh(this);const{blockLen:t,state:r}=this;e=Fh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Lh(this,!1),rO(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(FY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lO(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Yae=(n,e,t)=>Tb(()=>new lO(e,n,t)),Gae=Yae(1,136,256/8);let ZY=!1;const eG=function(n){return Gae(n)};let tG=eG;function er(n){const e=Ke(n,"data");return qe(tG(e))}er._=eG;er.lock=function(){ZY=!0};er.register=function(n){if(ZY)throw new TypeError("keccak256 is locked");tG=n};Object.freeze(er);const Vae=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),nG=Uint8Array.from({length:16},(n,e)=>e),Kae=nG.map(n=>(9*n+5)%16);let cO=[nG],uO=[Kae];for(let n=0;n<4;n++)for(let e of[cO,uO])e.push(e[n].map(t=>Vae[t]));const rG=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),Xae=cO.map((n,e)=>n.map(t=>rG[e][t])),Qae=uO.map((n,e)=>n.map(t=>rG[e][t])),Jae=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Zae=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),f0=(n,e)=>n<<e|n>>>32-e;function zA(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}const p0=new Uint32Array(16);class ele extends oO{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:s}=this;return[e,t,r,i,s]}set(e,t,r,i,s){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let f=0;f<16;f++,t+=4)p0[f]=e.getUint32(t,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,u=c,h=this.h4|0,d=h;for(let f=0;f<5;f++){const m=4-f,g=Jae[f],v=Zae[f],y=cO[f],b=uO[f],w=Xae[f],S=Qae[f];for(let _=0;_<16;_++){const k=f0(r+zA(f,s,a,c)+p0[y[_]]+g,w[_])+h|0;r=h,h=c,c=f0(a,10)|0,a=s,s=k}for(let _=0;_<16;_++){const k=f0(i+zA(m,o,l,u)+p0[b[_]]+v,S[_])+d|0;i=d,d=u,u=f0(l,10)|0,l=o,o=k}}this.set(this.h1+a+u|0,this.h2+c+d|0,this.h3+h+i|0,this.h4+r+o|0,this.h0+s+l|0)}roundClean(){p0.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const tle=Tb(()=>new ele);let iG=!1;const sG=function(n){return tle(n)};let oG=sG;function dd(n){const e=Ke(n,"data");return qe(oG(e))}dd._=sG;dd.lock=function(){iG=!0};dd.register=function(n){if(iG)throw new TypeError("ripemd160 is locked");oG=n};Object.freeze(dd);let aG=!1;const lG=function(n,e,t,r,i){return Lae(n,e,t,r,i)};let cG=lG;function Um(n,e,t,r,i){const s=Ke(n,"password"),o=Ke(e,"salt");return qe(cG(s,o,t,r,i))}Um._=lG;Um.lock=function(){aG=!0};Um.register=function(n){if(aG)throw new Error("pbkdf2 is locked");cG=n};Object.freeze(Um);let uG=!1;const hG=function(n){return new Uint8Array(Fae(n))};let dG=hG;function Bo(n){return dG(n)}Bo._=hG;Bo.lock=function(){uG=!0};Bo.register=function(n){if(uG)throw new Error("randomBytes is locked");dG=n};Object.freeze(Bo);const Dt=(n,e)=>n<<e|n>>>32-e;function qA(n,e,t,r,i,s){let o=n[e++]^t[r++],a=n[e++]^t[r++],l=n[e++]^t[r++],c=n[e++]^t[r++],u=n[e++]^t[r++],h=n[e++]^t[r++],d=n[e++]^t[r++],f=n[e++]^t[r++],m=n[e++]^t[r++],g=n[e++]^t[r++],v=n[e++]^t[r++],y=n[e++]^t[r++],b=n[e++]^t[r++],w=n[e++]^t[r++],S=n[e++]^t[r++],_=n[e++]^t[r++],k=o,C=a,T=l,O=c,R=u,D=h,F=d,N=f,z=m,$=g,L=v,B=y,j=b,q=w,W=S,V=_;for(let X=0;X<8;X+=2)R^=Dt(k+j|0,7),z^=Dt(R+k|0,9),j^=Dt(z+R|0,13),k^=Dt(j+z|0,18),$^=Dt(D+C|0,7),q^=Dt($+D|0,9),C^=Dt(q+$|0,13),D^=Dt(C+q|0,18),W^=Dt(L+F|0,7),T^=Dt(W+L|0,9),F^=Dt(T+W|0,13),L^=Dt(F+T|0,18),O^=Dt(V+B|0,7),N^=Dt(O+V|0,9),B^=Dt(N+O|0,13),V^=Dt(B+N|0,18),C^=Dt(k+O|0,7),T^=Dt(C+k|0,9),O^=Dt(T+C|0,13),k^=Dt(O+T|0,18),F^=Dt(D+R|0,7),N^=Dt(F+D|0,9),R^=Dt(N+F|0,13),D^=Dt(R+N|0,18),B^=Dt(L+$|0,7),z^=Dt(B+L|0,9),$^=Dt(z+B|0,13),L^=Dt($+z|0,18),j^=Dt(V+W|0,7),q^=Dt(j+V|0,9),W^=Dt(q+j|0,13),V^=Dt(W+q|0,18);i[s++]=o+k|0,i[s++]=a+C|0,i[s++]=l+T|0,i[s++]=c+O|0,i[s++]=u+R|0,i[s++]=h+D|0,i[s++]=d+F|0,i[s++]=f+N|0,i[s++]=m+z|0,i[s++]=g+$|0,i[s++]=v+L|0,i[s++]=y+B|0,i[s++]=b+j|0,i[s++]=w+q|0,i[s++]=S+W|0,i[s++]=_+V|0}function Wu(n,e,t,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)t[o+a]=n[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)qA(t,o,n,e,t,s),a>0&&(o+=16),qA(t,s,n,e+=16,t,o)}function fG(n,e,t){const r=jY({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if(fi(i),fi(s),fi(o),fi(a),fi(l),fi(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const h=128*s,d=h/4;if(i<=1||i&i-1||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(i+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);const m=sO(ud,n,e,{c:1,dkLen:h*o}),g=xv(m),v=xv(new Uint8Array(h*i)),y=xv(new Uint8Array(h));let b=()=>{};if(u){const w=2*i*o,S=Math.max(Math.floor(w/1e4),1);let _=0;b=()=>{_++,u&&(!(_%S)||_===w)&&u(_/w)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:d,V:v,B32:g,B:m,tmp:y,blockMixCb:b,asyncTick:l}}function pG(n,e,t,r,i){const s=sO(ud,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),s}function nle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d}=fG(n,e,t);for(let f=0;f<s;f++){const m=a*f;for(let g=0;g<a;g++)l[g]=c[m+g];for(let g=0,v=0;g<r-1;g++)Wu(l,v,l,v+=a,i),d();Wu(l,(r-1)*a,c,m,i),d();for(let g=0;g<r;g++){const v=c[m+a-16]%r;for(let y=0;y<a;y++)h[y]=c[m+y]^l[v*a+y];Wu(h,0,c,m,i),d()}}return pG(n,o,u,l,h)}async function rle(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:h,blockMixCb:d,asyncTick:f}=fG(n,e,t);for(let m=0;m<s;m++){const g=a*m;for(let y=0;y<a;y++)l[y]=c[g+y];let v=0;await LA(r-1,f,()=>{Wu(l,v,l,v+=a,i),d()}),Wu(l,(r-1)*a,c,g,i),d(),await LA(r,f,()=>{const y=c[g+a-16]%r;for(let b=0;b<a;b++)h[b]=c[g+b]^l[y*a+b];Wu(h,0,c,g,i),d()})}return pG(n,o,u,l,h)}let mG=!1,gG=!1;const vG=async function(n,e,t,r,i,s,o){return await rle(n,e,{N:t,r,p:i,dkLen:s,onProgress:o})},yG=function(n,e,t,r,i,s){return nle(n,e,{N:t,r,p:i,dkLen:s})};let bG=vG,xG=yG;async function Hm(n,e,t,r,i,s,o){const a=Ke(n,"passwd"),l=Ke(e,"salt");return qe(await bG(a,l,t,r,i,s,o))}Hm._=vG;Hm.lock=function(){gG=!0};Hm.register=function(n){if(gG)throw new Error("scrypt is locked");bG=n};Object.freeze(Hm);function Wm(n,e,t,r,i,s){const o=Ke(n,"passwd"),a=Ke(e,"salt");return qe(xG(o,a,t,r,i,s))}Wm._=yG;Wm.lock=function(){mG=!0};Wm.register=function(n){if(mG)throw new Error("scryptSync is locked");xG=n};Object.freeze(Wm);const wG=function(n){return Aae("sha256").update(n).digest()};let _G=wG,SG=!1;function Ji(n){const e=Ke(n,"data");return qe(_G(e))}Ji._=wG;Ji.lock=function(){SG=!0};Ji.register=function(n){if(SG)throw new Error("sha256 is locked");_G=n};Object.freeze(Ji);Object.freeze(Ji);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kG=BigInt(0),Ib=BigInt(1),ile=BigInt(2),Pb=n=>n instanceof Uint8Array,sle=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function $h(n){if(!Pb(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=sle[n[t]];return e}function CG(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function hO(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function jh(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,s=n.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function sc(n){return hO($h(n))}function dO(n){if(!Pb(n))throw new Error("Uint8Array expected");return hO($h(Uint8Array.from(n).reverse()))}function Bh(n,e){return jh(n.toString(16).padStart(e*2,"0"))}function fO(n,e){return Bh(n,e).reverse()}function ole(n){return jh(CG(n))}function cs(n,e,t){let r;if(typeof e=="string")try{r=jh(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Pb(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function rm(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!Pb(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function ale(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function lle(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function cle(n){let e;for(e=0;n>kG;n>>=Ib,e+=1);return e}function ule(n,e){return n>>BigInt(e)&Ib}const hle=(n,e,t)=>n|(t?Ib:kG)<<BigInt(e),pO=n=>(ile<<BigInt(n-1))-Ib,Nw=n=>new Uint8Array(n),UA=n=>Uint8Array.from(n);function EG(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Nw(n),i=Nw(n),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>t(i,r,...h),l=(h=Nw())=>{i=a(UA([0]),h),r=a(),h.length!==0&&(i=a(UA([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<e;){r=a();const f=r.slice();d.push(f),h+=r.length}return rm(...d)};return(h,d)=>{o(),l(h);let f;for(;!(f=d(c()));)l();return o(),f}}const dle={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ym(n,e,t={}){const r=(i,s,o)=>{const a=dle[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=n[i];if(!(o&&l===void 0)&&!a(l,n))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const fle=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ule,bitLen:cle,bitMask:pO,bitSet:hle,bytesToHex:$h,bytesToNumberBE:sc,bytesToNumberLE:dO,concatBytes:rm,createHmacDrbg:EG,ensureBytes:cs,equalBytes:ale,hexToBytes:jh,hexToNumber:hO,numberToBytesBE:Bh,numberToBytesLE:fO,numberToHexUnpadded:CG,numberToVarBytesBE:ole,utf8ToBytes:lle,validateObject:Ym},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),Dn=BigInt(1),Dl=BigInt(2),ple=BigInt(3),IM=BigInt(4),HA=BigInt(5),WA=BigInt(8);BigInt(9);BigInt(16);function Hr(n,e){const t=n%e;return t>=tr?t:e+t}function mle(n,e,t){if(t<=tr||e<tr)throw new Error("Expected power/modulo > 0");if(t===Dn)return tr;let r=Dn;for(;e>tr;)e&Dn&&(r=r*n%t),n=n*n%t,e>>=Dn;return r}function Pi(n,e,t){let r=n;for(;e-- >tr;)r*=r,r%=t;return r}function PM(n,e){if(n===tr||e<=tr)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Hr(n,e),r=e,i=tr,s=Dn;for(;t!==tr;){const a=r/t,l=r%t,c=i-s*a;r=t,t=l,i=s,s=c}if(r!==Dn)throw new Error("invert: does not exist");return Hr(i,e)}function gle(n){const e=(n-Dn)/Dl;let t,r,i;for(t=n-Dn,r=0;t%Dl===tr;t/=Dl,r++);for(i=Dl;i<n&&mle(i,e,n)!==n-Dn;i++);if(r===1){const o=(n+Dn)/IM;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(t+Dn)/Dl;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),t),h=a.pow(l,s),d=a.pow(l,t);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(d);f<c&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const m=a.pow(u,Dn<<BigInt(c-f-1));u=a.sqr(m),h=a.mul(h,m),d=a.mul(d,u),c=f}return h}}function vle(n){if(n%IM===ple){const e=(n+Dn)/IM;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%WA===HA){const e=(n-HA)/WA;return function(r,i){const s=r.mul(i,Dl),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Dl),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return gle(n)}const yle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ble(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=yle.reduce((r,i)=>(r[i]="function",r),e);return Ym(n,t)}function xle(n,e,t){if(t<tr)throw new Error("Expected power > 0");if(t===tr)return n.ONE;if(t===Dn)return e;let r=n.ONE,i=e;for(;t>tr;)t&Dn&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Dn;return r}function wle(n,e){const t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function TG(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function _le(n,e,t=!1,r={}){if(n<=tr)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=TG(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=vle(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:pO(i),ZERO:tr,ONE:Dn,create:l=>Hr(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return tr<=l&&l<n},is0:l=>l===tr,isOdd:l=>(l&Dn)===Dn,neg:l=>Hr(-l,n),eql:(l,c)=>l===c,sqr:l=>Hr(l*l,n),add:(l,c)=>Hr(l+c,n),sub:(l,c)=>Hr(l-c,n),mul:(l,c)=>Hr(l*c,n),pow:(l,c)=>xle(a,l,c),div:(l,c)=>Hr(l*PM(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>PM(l,n),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>wle(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>t?fO(l,s):Bh(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?dO(l):sc(l)}});return Object.freeze(a)}function MG(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function IG(n){const e=MG(n);return e+Math.ceil(e/2)}function Sle(n,e,t=!1){const r=n.length,i=MG(e),s=IG(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=t?sc(n):dO(n),a=Hr(o,e-Dn)+Dn;return t?fO(a,i):Bh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kle=BigInt(0),Lw=BigInt(1);function Cle(n,e){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>kle;)s&Lw&&(o=o.add(a)),a=a.double(),s>>=Lw;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=n.ZERO,u=n.BASE;const h=BigInt(2**i-1),d=2**i,f=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let v=Number(o&h);o>>=f,v>l&&(v-=d,o+=Lw);const y=g,b=g+Math.abs(v)-1,w=m%2!==0,S=v<0;v===0?u=u.add(t(w,s[y])):c=c.add(t(S,s[b]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function PG(n){return ble(n.Fp),Ym(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TG(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ele(n){const e=PG(n);Ym(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Tle,hexToBytes:Mle}=fle,jl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=jl;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Tle(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=jl,t=typeof n=="string"?Mle(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=jl._parseInt(t.subarray(2)),{d:o,l:a}=jl._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),l=t(o);return`30${t(o+s+4)}02${l}${i}02${a}${r}`}},Do=BigInt(0),zi=BigInt(1);BigInt(2);const YA=BigInt(3);BigInt(4);function Ile(n){const e=Ele(n),{Fp:t}=e,r=e.toBytes||((m,g,v)=>{const y=g.toAffine();return rm(Uint8Array.from([4]),t.toBytes(y.x),t.toBytes(y.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),v=t.fromBytes(g.subarray(0,t.BYTES)),y=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:v,y}});function s(m){const{a:g,b:v}=e,y=t.sqr(m),b=t.mul(y,m);return t.add(t.add(b,t.mul(m,g)),v)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Do<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:y,n:b}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=$h(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(v*2,"0")}let w;try{w=typeof m=="bigint"?m:sc(cs("private key",m,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof m}`)}return y&&(w=Hr(w,b)),a(w),w}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,v,y){if(this.px=g,this.py=v,this.pz=y,g==null||!t.isValid(g))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(y==null||!t.isValid(y))throw new Error("z required")}static fromAffine(g){const{x:v,y}=g||{};if(!g||!t.isValid(v)||!t.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const b=w=>t.eql(w,t.ZERO);return b(v)&&b(y)?h.ZERO:new h(v,y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=t.invertBatch(g.map(y=>y.pz));return g.map((y,b)=>y.toAffine(v[b])).map(h.fromAffine)}static fromHex(g){const v=h.fromAffine(i(cs("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=this.toAffine();if(!t.isValid(g)||!t.isValid(v))throw new Error("bad point: x or y not FE");const y=t.sqr(v),b=s(g);if(!t.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g,k=t.eql(t.mul(v,_),t.mul(w,b)),C=t.eql(t.mul(y,_),t.mul(S,b));return k&&C}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:v}=e,y=t.mul(v,YA),{px:b,py:w,pz:S}=this;let _=t.ZERO,k=t.ZERO,C=t.ZERO,T=t.mul(b,b),O=t.mul(w,w),R=t.mul(S,S),D=t.mul(b,w);return D=t.add(D,D),C=t.mul(b,S),C=t.add(C,C),_=t.mul(g,C),k=t.mul(y,R),k=t.add(_,k),_=t.sub(O,k),k=t.add(O,k),k=t.mul(_,k),_=t.mul(D,_),C=t.mul(y,C),R=t.mul(g,R),D=t.sub(T,R),D=t.mul(g,D),D=t.add(D,C),C=t.add(T,T),T=t.add(C,T),T=t.add(T,R),T=t.mul(T,D),k=t.add(k,T),R=t.mul(w,S),R=t.add(R,R),T=t.mul(R,D),_=t.sub(_,T),C=t.mul(R,O),C=t.add(C,C),C=t.add(C,C),new h(_,k,C)}add(g){u(g);const{px:v,py:y,pz:b}=this,{px:w,py:S,pz:_}=g;let k=t.ZERO,C=t.ZERO,T=t.ZERO;const O=e.a,R=t.mul(e.b,YA);let D=t.mul(v,w),F=t.mul(y,S),N=t.mul(b,_),z=t.add(v,y),$=t.add(w,S);z=t.mul(z,$),$=t.add(D,F),z=t.sub(z,$),$=t.add(v,b);let L=t.add(w,_);return $=t.mul($,L),L=t.add(D,N),$=t.sub($,L),L=t.add(y,b),k=t.add(S,_),L=t.mul(L,k),k=t.add(F,N),L=t.sub(L,k),T=t.mul(O,$),k=t.mul(R,N),T=t.add(k,T),k=t.sub(F,T),T=t.add(F,T),C=t.mul(k,T),F=t.add(D,D),F=t.add(F,D),N=t.mul(O,N),$=t.mul(R,$),F=t.add(F,N),N=t.sub(D,N),N=t.mul(O,N),$=t.add($,N),D=t.mul(F,$),C=t.add(C,D),D=t.mul(L,$),k=t.mul(z,k),k=t.sub(k,D),D=t.mul(z,F),T=t.mul(L,T),T=t.add(T,D),new h(k,C,T)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return f.wNAFCached(this,c,g,v=>{const y=t.invertBatch(v.map(b=>b.pz));return v.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)})}multiplyUnsafe(g){const v=h.ZERO;if(g===Do)return v;if(a(g),g===zi)return this;const{endo:y}=e;if(!y)return f.unsafeLadder(this,g);let{k1neg:b,k1:w,k2neg:S,k2:_}=y.splitScalar(g),k=v,C=v,T=this;for(;w>Do||_>Do;)w&zi&&(k=k.add(T)),_&zi&&(C=C.add(T)),T=T.double(),w>>=zi,_>>=zi;return b&&(k=k.negate()),S&&(C=C.negate()),C=new h(t.mul(C.px,y.beta),C.py,C.pz),k.add(C)}multiply(g){a(g);let v=g,y,b;const{endo:w}=e;if(w){const{k1neg:S,k1:_,k2neg:k,k2:C}=w.splitScalar(v);let{p:T,f:O}=this.wNAF(_),{p:R,f:D}=this.wNAF(C);T=f.constTimeNegate(S,T),R=f.constTimeNegate(k,R),R=new h(t.mul(R.px,w.beta),R.py,R.pz),y=T.add(R),b=O.add(D)}else{const{p:S,f:_}=this.wNAF(v);y=S,b=_}return h.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(g,v,y){const b=h.BASE,w=(_,k)=>k===Do||k===zi||!_.equals(b)?_.multiplyUnsafe(k):_.multiply(k),S=w(this,v).add(w(g,y));return S.is0()?void 0:S}toAffine(g){const{px:v,py:y,pz:b}=this,w=this.is0();g==null&&(g=w?t.ONE:t.inv(b));const S=t.mul(v,g),_=t.mul(y,g),k=t.mul(b,g);if(w)return{x:t.ZERO,y:t.ZERO};if(!t.eql(k,t.ONE))throw new Error("invZ was invalid");return{x:S,y:_}}isTorsionFree(){const{h:g,isTorsionFree:v}=e;if(g===zi)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=e;return g===zi?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return $h(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,f=Cle(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Ple(n){const e=PG(n);return Ym(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ole(n){const e=Ple(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o($){return Do<$&&$<t.ORDER}function a($){return Hr($,r)}function l($){return PM($,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=Ile({...e,toBytes($,L,B){const j=L.toAffine(),q=t.toBytes(j.x),W=rm;return B?W(Uint8Array.from([L.hasEvenY()?2:3]),q):W(Uint8Array.from([4]),q,t.toBytes(j.y))},fromBytes($){const L=$.length,B=$[0],j=$.subarray(1);if(L===i&&(B===2||B===3)){const q=sc(j);if(!o(q))throw new Error("Point is not on curve");const W=h(q);let V=t.sqrt(W);const X=(V&zi)===zi;return(B&1)===1!==X&&(V=t.neg(V)),{x:q,y:V}}else if(L===s&&B===4){const q=t.fromBytes(j.subarray(0,t.BYTES)),W=t.fromBytes(j.subarray(t.BYTES,2*t.BYTES));return{x:q,y:W}}else throw new Error(`Point of length ${L} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),f=$=>$h(Bh($,e.nByteLength));function m($){const L=r>>zi;return $>L}function g($){return m($)?a(-$):$}const v=($,L,B)=>sc($.slice(L,B));class y{constructor(L,B,j){this.r=L,this.s=B,this.recovery=j,this.assertValidity()}static fromCompact(L){const B=e.nByteLength;return L=cs("compactSignature",L,B*2),new y(v(L,0,B),v(L,B,2*B))}static fromDER(L){const{r:B,s:j}=jl.toSig(cs("DER",L));return new y(B,j)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(L){return new y(this.r,this.s,L)}recoverPublicKey(L){const{r:B,s:j,recovery:q}=this,W=C(cs("msgHash",L));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const V=q===2||q===3?B+e.n:B;if(V>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const X=q&1?"03":"02",Z=c.fromHex(X+f(V)),H=l(V),K=a(-W*H),Y=a(j*H),ne=c.BASE.multiplyAndAddUnsafe(Z,K,Y);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return jh(this.toDERHex())}toDERHex(){return jl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jh(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey($){try{return u($),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const $=IG(e.n);return Sle(e.randomBytes($),e.n)},precompute($=8,L=c.BASE){return L._setWindowSize($),L.multiply(BigInt(3)),L}};function w($,L=!0){return c.fromPrivateKey($).toRawBytes(L)}function S($){const L=$ instanceof Uint8Array,B=typeof $=="string",j=(L||B)&&$.length;return L?j===i||j===s:B?j===2*i||j===2*s:$ instanceof c}function _($,L,B=!0){if(S($))throw new Error("first arg must be private key");if(!S(L))throw new Error("second arg must be public key");return c.fromHex(L).multiply(u($)).toRawBytes(B)}const k=e.bits2int||function($){const L=sc($),B=$.length*8-e.nBitLength;return B>0?L>>BigInt(B):L},C=e.bits2int_modN||function($){return a(k($))},T=pO(e.nBitLength);function O($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(Do<=$&&$<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Bh($,e.nByteLength)}function R($,L,B=D){if(["recovered","canonical"].some(re=>re in B))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:q}=e;let{lowS:W,prehash:V,extraEntropy:X}=B;W==null&&(W=!0),$=cs("msgHash",$),V&&($=cs("prehashed msgHash",j($)));const Z=C($),H=u(L),K=[O(H),O(Z)];if(X!=null){const re=X===!0?q(t.BYTES):X;K.push(cs("extraEntropy",re))}const Y=rm(...K),ne=Z;function te(re){const Q=k(re);if(!d(Q))return;const ee=l(Q),ve=c.BASE.multiply(Q).toAffine(),ge=a(ve.x);if(ge===Do)return;const We=a(ee*a(ne+ge*H));if(We===Do)return;let Re=(ve.x===ge?0:2)|Number(ve.y&zi),Me=We;return W&&m(We)&&(Me=g(We),Re^=1),new y(ge,Me,Re)}return{seed:Y,k2sig:te}}const D={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function N($,L,B=D){const{seed:j,k2sig:q}=R($,L,B),W=e;return EG(W.hash.outputLen,W.nByteLength,W.hmac)(j,q)}c.BASE._setWindowSize(8);function z($,L,B,j=F){var ve;const q=$;if(L=cs("msgHash",L),B=cs("publicKey",B),"strict"in j)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:V}=j;let X,Z;try{if(typeof q=="string"||q instanceof Uint8Array)try{X=y.fromDER(q)}catch(ge){if(!(ge instanceof jl.Err))throw ge;X=y.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:ge,s:We}=q;X=new y(ge,We)}else throw new Error("PARSE");Z=c.fromHex(B)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&X.hasHighS())return!1;V&&(L=e.hash(L));const{r:H,s:K}=X,Y=C(L),ne=l(K),te=a(Y*ne),re=a(H*ne),Q=(ve=c.BASE.multiplyAndAddUnsafe(Z,te,re))==null?void 0:ve.toAffine();return Q?a(Q.x)===H:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:_,sign:N,verify:z,ProjectivePoint:c,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rle(n){return{hash:n,hmac:(e,...t)=>Mb(n,e,iae(...t)),randomBytes:oae}}function Dle(n,e){const t=r=>Ole({...n,...Rle(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OG=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),GA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ale=BigInt(1),OM=BigInt(2),VA=(n,e)=>(n+e/OM)/e;function Nle(n){const e=OG,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=n*n*n%e,u=c*c*n%e,h=Pi(u,t,e)*u%e,d=Pi(h,t,e)*u%e,f=Pi(d,OM,e)*c%e,m=Pi(f,i,e)*f%e,g=Pi(m,s,e)*m%e,v=Pi(g,a,e)*g%e,y=Pi(v,l,e)*v%e,b=Pi(y,a,e)*g%e,w=Pi(b,t,e)*u%e,S=Pi(w,o,e)*m%e,_=Pi(S,r,e)*c%e,k=Pi(_,OM,e);if(!RM.eql(RM.sqr(k),n))throw new Error("Cannot find square root");return k}const RM=_le(OG,void 0,void 0,{sqrt:Nle}),va=Dle({a:BigInt(0),b:BigInt(7),Fp:RM,n:GA,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=GA,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ale*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=VA(s*n,e),l=VA(-r*n,e);let c=Hr(n-a*t-l*i,e),u=Hr(-a*r-l*s,e);const h=c>o,d=u>o;if(h&&(c=e-c),d&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},ud);BigInt(0);va.ProjectivePoint;const RG="0x0000000000000000000000000000000000000000",KA="0x0000000000000000000000000000000000000000000000000000000000000000",Lle=`Ethereum Signed Message:
`,XA=BigInt(0),QA=BigInt(1),DM=BigInt(2),JA=BigInt(27),ZA=BigInt(28),m0=BigInt(35),DG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fle=DG/DM,$le=Symbol.for("nodejs.util.inspect.custom"),bl={};function Fw(n){return nl(An(n),32)}var sh,Ys,oh,Ra;const Fi=class Fi{constructor(e,t,r,i){Fe(this,sh);Fe(this,Ys);Fe(this,oh);Fe(this,Ra);kb(e,bl,"Signature"),pe(this,sh,t),pe(this,Ys,r),pe(this,oh,i),pe(this,Ra,null)}get r(){return J(this,sh)}set r(e){se(ep(e)===32,"invalid r","value",e),pe(this,sh,qe(e))}get s(){return se(parseInt(J(this,Ys).substring(0,3))<8,"non-canonical s; use ._s","s",J(this,Ys)),J(this,Ys)}set s(e){se(ep(e)===32,"invalid s","value",e),pe(this,Ys,qe(e))}get _s(){return J(this,Ys)}isValid(){return BigInt(J(this,Ys))<=Fle}get v(){return J(this,oh)}set v(e){const t=xi(e,"value");se(t===27||t===28,"invalid v","v",e),pe(this,oh,t)}get networkV(){return J(this,Ra)}get legacyChainId(){const e=this.networkV;return e==null?null:Fi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ke(this.s);return this.yParity&&(e[0]|=128),qe(e)}get compactSerialized(){return Ln([this.r,this.yParityAndS])}get serialized(){return Ln([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=DG-BigInt(this._s),t=55-this.v,r=new Fi(bl,this.r,Fw(e),t);return this.networkV&&pe(r,Ra,this.networkV),r}clone(){const e=new Fi(bl,this.r,this._s,this.v);return this.networkV&&pe(e,Ra,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[$le](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=Jt(e,"v");return t==JA||t==ZA?XA:(se(t>=m0,"invalid EIP-155 v","v",e),(t-m0)/DM)}static getChainIdV(e,t){return Jt(e)*DM+BigInt(35+t-27)}static getNormalizedV(e){const t=Jt(e);return t===XA||t===JA?27:t===QA||t===ZA?28:(se(t>=m0,"invalid v","v",e),t&QA?27:28)}static from(e){function t(c,u){se(c,u,"signature",e)}if(e==null)return new Fi(bl,KA,KA,27);if(typeof e=="string"){const c=Ke(e,"signature");if(c.length===64){const u=qe(c.slice(0,32)),h=c.slice(32,64),d=h[0]&128?28:27;return h[0]&=127,new Fi(bl,u,qe(h),d)}if(c.length===65){const u=qe(c.slice(0,32)),h=qe(c.slice(32,64)),d=Fi.getNormalizedV(c[64]);return new Fi(bl,u,h,d)}t(!1,"invalid raw signature length")}if(e instanceof Fi)return e.clone();const r=e.r;t(r!=null,"missing r");const i=Fw(r),s=function(c,u){if(c!=null)return Fw(c);if(u!=null){t(so(u,32),"invalid yParityAndS");const h=Ke(u);return h[0]&=127,qe(h)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const d=Jt(c);return{networkV:d>=m0?d:void 0,v:Fi.getNormalizedV(d)}}if(u!=null)return t(so(u,32),"invalid yParityAndS"),{v:Ke(u)[0]&128?28:27};if(h!=null){switch(xi(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Fi(bl,i,s,a);return o&&pe(l,Ra,o),t(e.yParity==null||xi(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};sh=new WeakMap,Ys=new WeakMap,oh=new WeakMap,Ra=new WeakMap;let _s=Fi;var Oo;const Al=class Al{constructor(e){Fe(this,Oo);se(ep(e)===32,"invalid private key","privateKey","[REDACTED]"),pe(this,Oo,qe(e))}get privateKey(){return J(this,Oo)}get publicKey(){return Al.computePublicKey(J(this,Oo))}get compressedPublicKey(){return Al.computePublicKey(J(this,Oo),!0)}sign(e){se(ep(e)===32,"invalid digest length","digest",e);const t=va.sign(mu(e),mu(J(this,Oo)),{lowS:!0});return _s.from({r:Nh(t.r,32),s:Nh(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Al.computePublicKey(e);return qe(va.getSharedSecret(mu(J(this,Oo)),Ke(t),!1))}static computePublicKey(e,t){let r=Ke(e,"key");if(r.length===32){const s=va.getPublicKey(r,!!t);return qe(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=va.ProjectivePoint.fromHex(r);return qe(i.toRawBytes(t))}static recoverPublicKey(e,t){se(ep(e)===32,"invalid digest length","digest",e);const r=_s.from(t);let i=va.Signature.fromCompact(mu(Ln([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(mu(e));return se(s!=null,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,r){const i=va.ProjectivePoint.fromHex(Al.computePublicKey(e).substring(2)),s=va.ProjectivePoint.fromHex(Al.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}};Oo=new WeakMap;let to=Al;const jle=BigInt(0),Ble=BigInt(36);function eN(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Ke(er(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mO={};for(let n=0;n<10;n++)mO[String(n)]=String(n);for(let n=0;n<26;n++)mO[String.fromCharCode(65+n)]=String(10+n);const tN=15;function zle(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>mO[r]).join("");for(;e.length>=tN;){let r=e.substring(0,tN);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const qle=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Ule(n){n=n.toLowerCase();let e=jle;for(let t=0;t<n.length;t++)e=e*Ble+qle[n[t]];return e}function Zi(n){if(se(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=eN(n);return se(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){se(n.substring(2,4)===zle(n),"bad icap checksum","address",n);let e=Ule(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return eN("0x"+e)}se(!1,"invalid address","address",n)}function Hle(n){return n&&typeof n.getAddress=="function"}async function $w(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(It(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),se(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Zi(t)}function tp(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Zi(n):(It(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$w(n,e.resolveName(n)));if(Hle(n))return $w(n,n.getAddress());if(n&&typeof n.then=="function")return $w(n,n);se(!1,"unsupported addressable value","target",n)}function jw(n,e){return{address:Zi(n),storageKeys:e.map((t,r)=>(se(so(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Ob(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(se(t.length===2,"invalid slot set",`value[${r}]`,t),jw(t[0],t[1])):(se(t!=null&&typeof t=="object","invalid address-slot set","value",n),jw(t.address,t.storageKeys)));se(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return jw(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Wle(n){return{address:Zi(n.address),nonce:Jt(n.nonce!=null?n.nonce:0),chainId:Jt(n.chainId!=null?n.chainId:0),signature:_s.from(n.signature)}}function Gm(n){let e;return typeof n=="string"?e=to.computePublicKey(n,!1):e=n.publicKey,Zi(er("0x"+e.substring(4)).substring(26))}function Yle(n,e){return Gm(to.recoverPublicKey(n,e))}const Jn=BigInt(0),Gle=BigInt(2),Vle=BigInt(27),Kle=BigInt(28),Xle=BigInt(35),Qle=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Jle=Symbol.for("nodejs.util.inspect.custom"),Bw=4096*32,_v=128;function Zle(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Ke(n.blobToKzgCommitment(qe(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Ke(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return Ke(n.blobToKZGCommitment(qe(r)));se(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return Ke(n.computeBlobProof(qe(r),qe(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return Ke(n.computeBlobKZGProof(qe(r),qe(i)));se(!1,"unsupported KZG library","kzg",n)}}}function nN(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Ji(e).substring(4),"0x"+t}function fd(n){return n==="0x"?null:Zi(n)}function Rb(n,e){try{return Ob(n)}catch(t){se(!1,t.message,e,n)}}function ece(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:fd(i[1]),nonce:Yt(i[2],"nonce"),chainId:Yt(i[0],"chainId"),signature:_s.from({yParity:Fc(i[3],"yParity"),r:nl(i[4],32),s:nl(i[5],32)})})}return t}catch(t){se(!1,t.message,e,n)}}function Fc(n,e){return n==="0x"?0:xi(n,e)}function Yt(n,e){if(n==="0x")return Jn;const t=Jt(n,e);return se(t<=Qle,"value exceeds uint size",e,t),t}function kt(n,e){const t=Jt(n,"value"),r=An(t);return se(r.length<=32,"value too large",`tx.${e}`,t),r}function Db(n){return Ob(n).map(e=>[e.address,e.storageKeys])}function tce(n){return n.map(e=>[kt(e.chainId,"chainId"),e.address,kt(e.nonce,"nonce"),kt(e.signature.yParity,"yParity"),An(e.signature.r),An(e.signature._s)])}function nce(n,e){se(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)se(so(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function rce(n){const e=qm(n);se(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Fc(e[0],"nonce"),gasPrice:Yt(e[1],"gasPrice"),gasLimit:Yt(e[2],"gasLimit"),to:fd(e[3]),value:Yt(e[4],"value"),data:qe(e[5]),chainId:Jn};if(e.length===6)return t;const r=Yt(e[6],"v"),i=Yt(e[7],"r"),s=Yt(e[8],"s");if(i===Jn&&s===Jn)t.chainId=r;else{let o=(r-Xle)/Gle;o<Jn&&(o=Jn),t.chainId=o,se(o!==Jn||r===Vle||r===Kle,"non-canonical legacy v","v",e[6]),t.signature=_s.from({r:nl(e[7],32),s:nl(e[8],32),v:r})}return t}function ice(n,e){const t=[kt(n.nonce,"nonce"),kt(n.gasPrice||0,"gasPrice"),kt(n.gasLimit,"gasLimit"),n.to||"0x",kt(n.value,"value"),n.data];let r=Jn;if(n.chainId!=Jn)r=Jt(n.chainId,"tx.chainId"),se(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const s=n.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Jn&&(t.push(An(r)),t.push("0x"),t.push("0x")),jo(t);let i=BigInt(27+e.yParity);return r!==Jn?i=_s.getChainIdV(r,e.v):BigInt(e.v)!==i&&se(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(An(i)),t.push(An(e.r)),t.push(An(e._s)),jo(t)}function Ab(n,e){let t;try{if(t=Fc(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{se(!1,"invalid yParity","yParity",e[0])}const r=nl(e[1],32),i=nl(e[2],32),s=_s.from({r,s:i,yParity:t});n.signature=s}function sce(n){const e=qm(Ke(n).slice(1));se(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",qe(n));const t={type:2,chainId:Yt(e[0],"chainId"),nonce:Fc(e[1],"nonce"),maxPriorityFeePerGas:Yt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Yt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Yt(e[4],"gasLimit"),to:fd(e[5]),value:Yt(e[6],"value"),data:qe(e[7]),accessList:Rb(e[8],"accessList")};return e.length===9||Ab(t,e.slice(9)),t}function oce(n,e){const t=[kt(n.chainId,"chainId"),kt(n.nonce,"nonce"),kt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kt(n.maxFeePerGas||0,"maxFeePerGas"),kt(n.gasLimit,"gasLimit"),n.to||"0x",kt(n.value,"value"),n.data,Db(n.accessList||[])];return e&&(t.push(kt(e.yParity,"yParity")),t.push(An(e.r)),t.push(An(e.s))),Ln(["0x02",jo(t)])}function ace(n){const e=qm(Ke(n).slice(1));se(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",qe(n));const t={type:1,chainId:Yt(e[0],"chainId"),nonce:Fc(e[1],"nonce"),gasPrice:Yt(e[2],"gasPrice"),gasLimit:Yt(e[3],"gasLimit"),to:fd(e[4]),value:Yt(e[5],"value"),data:qe(e[6]),accessList:Rb(e[7],"accessList")};return e.length===8||Ab(t,e.slice(8)),t}function lce(n,e){const t=[kt(n.chainId,"chainId"),kt(n.nonce,"nonce"),kt(n.gasPrice||0,"gasPrice"),kt(n.gasLimit,"gasLimit"),n.to||"0x",kt(n.value,"value"),n.data,Db(n.accessList||[])];return e&&(t.push(kt(e.yParity,"recoveryParam")),t.push(An(e.r)),t.push(An(e.s))),Ln(["0x01",jo(t)])}function cce(n){let e=qm(Ke(n).slice(1)),t="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const o=e[1],a=e[2],l=e[3];se(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),se(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),se(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),se(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),se(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:o[c],commitment:a[c],proof:l[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=xi(e[1]);const o=e[2],a=e[3],l=e[4];se(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),se(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),se(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),se(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),se(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),se(o.length*_v===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<o.length;c++){const u=[];for(let h=0;h<_v;h++)u.push(l[c*_v+h]);i.push({data:o[c],commitment:a[c],proof:Ln(u)})}e=e[0]}se(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",qe(n));const s={type:3,chainId:Yt(e[0],"chainId"),nonce:Fc(e[1],"nonce"),maxPriorityFeePerGas:Yt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Yt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Yt(e[4],"gasLimit"),to:fd(e[5]),value:Yt(e[6],"value"),data:qe(e[7]),accessList:Rb(e[8],"accessList"),maxFeePerBlobGas:Yt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),se(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),se(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let o=0;o<s.blobVersionedHashes.length;o++)se(so(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",n);return e.length===11||Ab(s,e.slice(11)),s}function uce(n,e,t){const r=[kt(n.chainId,"chainId"),kt(n.nonce,"nonce"),kt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kt(n.maxFeePerGas||0,"maxFeePerGas"),kt(n.gasLimit,"gasLimit"),n.to||RG,kt(n.value,"value"),n.data,Db(n.accessList||[]),kt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),nce(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(kt(e.yParity,"yParity")),r.push(An(e.r)),r.push(An(e.s)),t)){if(n.blobWrapperVersion!=null){const i=An(n.blobWrapperVersion),s=[];for(const{proof:o}of t){const a=Ke(o),l=a.length/_v;for(let c=0;c<a.length;c+=l)s.push(a.subarray(c,c+l))}return Ln(["0x03",jo([r,i,t.map(o=>o.data),t.map(o=>o.commitment),s])])}return Ln(["0x03",jo([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])])}return Ln(["0x03",jo(r)])}function hce(n){const e=qm(Ke(n).slice(1));se(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",qe(n));const t={type:4,chainId:Yt(e[0],"chainId"),nonce:Fc(e[1],"nonce"),maxPriorityFeePerGas:Yt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Yt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Yt(e[4],"gasLimit"),to:fd(e[5]),value:Yt(e[6],"value"),data:qe(e[7]),accessList:Rb(e[8],"accessList"),authorizationList:ece(e[9],"authorizationList")};return e.length===10||Ab(t,e.slice(10)),t}function dce(n,e){const t=[kt(n.chainId,"chainId"),kt(n.nonce,"nonce"),kt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kt(n.maxFeePerGas||0,"maxFeePerGas"),kt(n.gasLimit,"gasLimit"),n.to||"0x",kt(n.value,"value"),n.data,Db(n.accessList||[]),tce(n.authorizationList||[])];return e&&(t.push(kt(e.yParity,"yParity")),t.push(An(e.r)),t.push(An(e.s))),Ln(["0x04",jo(t)])}var fs,ah,lh,ch,uh,hh,dh,fh,ph,mh,gh,vh,Jl,Da,Gs,Aa,yh,bh,xh,Sv;const zs=class zs{constructor(){Fe(this,xh);Fe(this,fs);Fe(this,ah);Fe(this,lh);Fe(this,ch);Fe(this,uh);Fe(this,hh);Fe(this,dh);Fe(this,fh);Fe(this,ph);Fe(this,mh);Fe(this,gh);Fe(this,vh);Fe(this,Jl);Fe(this,Da);Fe(this,Gs);Fe(this,Aa);Fe(this,yh);Fe(this,bh);pe(this,fs,null),pe(this,ah,null),pe(this,ch,0),pe(this,uh,Jn),pe(this,hh,null),pe(this,dh,null),pe(this,fh,null),pe(this,lh,"0x"),pe(this,ph,Jn),pe(this,mh,Jn),pe(this,gh,null),pe(this,vh,null),pe(this,Jl,null),pe(this,Da,null),pe(this,Gs,null),pe(this,Aa,null),pe(this,yh,null),pe(this,bh,null)}get type(){return J(this,fs)}set type(e){switch(e){case null:pe(this,fs,null);break;case 0:case"legacy":pe(this,fs,0);break;case 1:case"berlin":case"eip-2930":pe(this,fs,1);break;case 2:case"london":case"eip-1559":pe(this,fs,2);break;case 3:case"cancun":case"eip-4844":pe(this,fs,3);break;case 4:case"pectra":case"eip-7702":pe(this,fs,4);break;default:se(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=J(this,ah);return e==null&&this.type===3?RG:e}set to(e){pe(this,ah,e==null?null:Zi(e))}get nonce(){return J(this,ch)}set nonce(e){pe(this,ch,xi(e,"value"))}get gasLimit(){return J(this,uh)}set gasLimit(e){pe(this,uh,Jt(e))}get gasPrice(){const e=J(this,hh);return e==null&&(this.type===0||this.type===1)?Jn:e}set gasPrice(e){pe(this,hh,e==null?null:Jt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=J(this,dh);return e??(this.type===2||this.type===3?Jn:null)}set maxPriorityFeePerGas(e){pe(this,dh,e==null?null:Jt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=J(this,fh);return e??(this.type===2||this.type===3?Jn:null)}set maxFeePerGas(e){pe(this,fh,e==null?null:Jt(e,"maxFeePerGas"))}get data(){return J(this,lh)}set data(e){pe(this,lh,qe(e))}get value(){return J(this,ph)}set value(e){pe(this,ph,Jt(e,"value"))}get chainId(){return J(this,mh)}set chainId(e){pe(this,mh,Jt(e))}get signature(){return J(this,gh)||null}set signature(e){pe(this,gh,e==null?null:_s.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t){for(const r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=J(this,vh)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){pe(this,vh,e==null?null:Ob(e))}get authorizationList(){const e=J(this,yh)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){pe(this,yh,e==null?null:e.map(t=>Wle(t)))}get maxFeePerBlobGas(){const e=J(this,Jl);return e==null&&this.type===3?Jn:e}set maxFeePerBlobGas(e){pe(this,Jl,e==null?null:Jt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=J(this,Da);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){se(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)se(so(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}pe(this,Da,e)}get blobs(){return J(this,Aa)==null?null:J(this,Aa).map(e=>Object.assign({},e))}set blobs(e){if(e==null){pe(this,Aa,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(Cb(s)){It(J(this,Gs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ke(s);if(se(o.length<=Bw,"blob is too large",`blobs[${i}]`,s),o.length!==Bw){const c=new Uint8Array(Bw);c.set(o),o=c}const a=J(this,Gs).blobToKzgCommitment(o),l=qe(J(this,Gs).computeBlobKzgProof(o,a));t.push({data:qe(o),commitment:qe(a),proof:l}),r.push(nN(1,a))}else{const o=qe(s.data),a=qe(s.commitment),l=qe(s.proof);t.push({data:o,commitment:a,proof:l}),r.push(nN(1,a))}}pe(this,Aa,t),pe(this,Da,r)}get kzg(){return J(this,Gs)}set kzg(e){e==null?pe(this,Gs,null):pe(this,Gs,Zle(e))}get blobWrapperVersion(){return J(this,bh)}set blobWrapperVersion(e){pe(this,bh,e)}get hash(){return this.signature==null?null:er(Nt(this,xh,Sv).call(this,!0,!1))}get unsignedHash(){return er(this.unsignedSerialized)}get from(){return this.signature==null?null:Yle(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:to.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Nt(this,xh,Sv).call(this,!0,!0)}get unsignedSerialized(){return Nt(this,xh,Sv).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=J(this,Jl)!=null||J(this,Da);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&It(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),It(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),It(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return zs.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Jle](){return this.toString()}toString(){const e=[],t=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const o=[];o.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&o.push(`nonce: ${s.nonce}`),s.chainId!=null&&o.push(`chainId: ${s.chainId}`),s.signature&&o.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new zs;if(typeof e=="string"){const r=Ke(e);if(r[0]>=127)return zs.from(rce(r));switch(r[0]){case 1:return zs.from(ace(r));case 2:return zs.from(sce(r));case 3:return zs.from(cce(r));case 4:return zs.from(hce(r))}It(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new zs;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=_s.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(se(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),se(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(se(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),se(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};fs=new WeakMap,ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,vh=new WeakMap,Jl=new WeakMap,Da=new WeakMap,Gs=new WeakMap,Aa=new WeakMap,yh=new WeakMap,bh=new WeakMap,xh=new WeakSet,Sv=function(e,t){It(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return ice(this,r);case 1:return lce(this,r);case 2:return oce(this,r);case 3:return uce(this,r,t?this.blobs:null);case 4:return dce(this,r)}It(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let fy=zs;function fce(n){return se(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),er(Ln(["0x05",jo([n.chainId!=null?An(n.chainId):"0x",Zi(n.address),n.nonce!=null?An(n.nonce):"0x"])]))}function gO(n){return er(ic(n))}function pce(n){return typeof n=="string"&&(n=ic(n)),er(Ln([ic(Lle),ic(String(n.length)),n]))}const AG=new Uint8Array(32);AG.fill(0);const mce=BigInt(-1),NG=BigInt(0),LG=BigInt(1),gce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function vce(n){const e=Ke(n),t=e.length%32;return t?Ln([e,AG.slice(t)]):qe(e)}const yce=Nh(LG,32),bce=Nh(NG,32),rN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zw=["name","version","chainId","verifyingContract","salt"];function iN(n){return function(e){return se(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const xce={name:iN("name"),version:iN("version"),chainId:function(n){const e=Jt(n,"domain.chainId");return se(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Voe(e)},verifyingContract:function(n){try{return Zi(n).toLowerCase()}catch{}se(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=Ke(n,"domain.salt");return se(e.length===32,'invalid domain value "salt"',"domain.salt",n),qe(e)}};function qw(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);se(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=Goe(gce,t?r-1:r),s=t?(i+LG)*mce:NG;return function(o){const a=Jt(o,"value");return se(a>=s&&a<=i,`value out-of-bounds for ${n}`,"value",a),Nh(t?Yoe(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return se(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=Ke(r);return se(i.length===t,`invalid length for ${n}`,"value",r),vce(r)}}}switch(n){case"address":return function(e){return nl(Zi(e),32)};case"bool":return function(e){return e?yce:bce};case"bytes":return function(e){return er(e)};case"string":return function(e){return gO(e)}}return null}function sN(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function g0(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Rm,Ro,wh,rb,FG;const $i=class $i{constructor(e){Fe(this,rb);ue(this,"primaryType");Fe(this,Rm);Fe(this,Ro);Fe(this,wh);pe(this,Ro,new Map),pe(this,wh,new Map);const t=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:d}=g0(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(d||"")}}),t.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),pe(this,Rm,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){se(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=g0(u.type).base;se(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!qw(h)&&(se(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),t.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);se(o.length!==0,"missing primary type","types",e),se(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),bi(this,{primaryType:o[0]});function a(l,c){se(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of t.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),J(this,Ro).set(l,sN(l,s[l])+u.map(h=>sN(h,s[h])).join(""))}}get types(){return JSON.parse(J(this,Rm))}getEncoder(e){let t=J(this,wh).get(e);return t||(t=Nt(this,rb,FG).call(this,e),J(this,wh).set(e,t)),t}encodeType(e){const t=J(this,Ro).get(e);return se(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return er(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(qw(e))return r(e,t);const i=g0(e).array;if(i)return se(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{});se(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new $i(e)}static getPrimaryType(e){return $i.from(e).primaryType}static hashStruct(e,t,r){return $i.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=rN[r];se(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>zw.indexOf(r.name)-zw.indexOf(i.name)),$i.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Ln(["0x1901",$i.hashDomain(e),$i.from(t).hash(r)])}static hash(e,t,r){return er($i.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!so(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=$i.from(t);o.visit(r,(a,l)=>(a==="address"&&!so(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,t,r){$i.hashDomain(e);const i={},s=[];zw.forEach(l=>{const c=e[l];c!=null&&(i[l]=xce[l](c),s.push({name:l,type:rN[l]}))});const o=$i.from(t);t=o.types;const a=Object.assign({},t);return se(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return qe(Ke(c));if(l.match(/^u?int/))return Jt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return se(typeof c=="string","invalid string","value",c),c}se(!1,"unsupported type","type",l)})}}};Rm=new WeakMap,Ro=new WeakMap,wh=new WeakMap,rb=new WeakSet,FG=function(e){{const i=qw(e);if(i)return i}const t=g0(e).array;if(t){const i=t.prefix,s=this.getEncoder(i);return o=>{se(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(s);return J(this,Ro).has(i)&&(a=a.map(er)),er(Ln(a))}}const r=this.types[e];if(r){const i=gO(J(this,Ro).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return J(this,Ro).has(l)?er(c):c});return o.unshift(i),Ln(o)}}se(!1,`unknown type: ${e}`,"type",e)};let py=$i;BigInt(0);function $G(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=qe(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=Jt(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=xi(n[i],`request.${i}`));return n.accessList&&(e.accessList=Ob(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>Cb(i)?qe(i):Object.assign({},i))),e}function xl(n,e){if(n.provider)return n.provider;It(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function oN(n,e){let t=$G(e);if(t.to!=null&&(t.to=tp(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),tp(r,n)]).then(([i,s])=>(se(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=n.getAddress();return await eO(t)}class jG{constructor(e){ue(this,"provider");bi(this,{provider:e||null})}async getNonce(e){return xl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await oN(this,e)}async populateTransaction(e){const t=xl(this,"populateTransaction"),r=await oN(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Jt(r.chainId);se(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?se(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&se(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await t.getFeeData();It(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(It(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):It(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await eO(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await xl(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return xl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return xl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await xl(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=xl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=fy.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){It(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var _h,kv;const hD=class hD extends jG{constructor(t,r){super(r);Fe(this,_h);ue(this,"address");bi(this,{address:t})}async getAddress(){return this.address}connect(t){return new hD(this.address,t)}async signTransaction(t){Nt(this,_h,kv).call(this,"transactions","signTransaction")}async signMessage(t){Nt(this,_h,kv).call(this,"messages","signMessage")}async signTypedData(t,r,i){Nt(this,_h,kv).call(this,"typed-data","signTypedData")}};_h=new WeakSet,kv=function(t,r){It(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:r})};let AM=hD;var Sh;const dD=class dD extends jG{constructor(t,r){super(r);ue(this,"address");Fe(this,Sh);se(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),pe(this,Sh,t);const i=Gm(this.signingKey.publicKey);bi(this,{address:i})}get signingKey(){return J(this,Sh)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new dD(J(this,Sh),t)}async signTransaction(t){t=$G(t);const{to:r,from:i}=await eO({to:t.to?tp(t.to,this):void 0,from:t.from?tp(t.from,this):void 0});r!=null&&(t.to=r),i!=null&&(t.from=i),t.from!=null&&(se(Zi(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=fy.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(pce(t)).serialized}authorizeSync(t){se(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const r=this.signingKey.sign(fce(t));return Object.assign({},{address:Zi(t.address),nonce:Jt(t.nonce||0),chainId:Jt(t.chainId||0)},{signature:r})}async authorize(t){return t=Object.assign({},t,{address:await tp(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,r,i){const s=await py.resolveNames(t,r,i,async o=>{It(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return It(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(py.hash(s.domain,r,s.value)).serialized}};Sh=new WeakMap;let NM=dD;const my=" !#$%&'()*+,-./<=>?@[]^_`{|}~",wce=/^[a-z]*$/i;function aN(n,e){let t=97;return n.reduce((r,i)=>(i===e?t++:i.match(wce)?r.push(String.fromCharCode(t)+i):(t=97,r.push(i)),r),[])}function _ce(n,e){for(let i=my.length-1;i>=0;i--)n=n.split(my[i]).join(e.substring(2*i,2*i+2));const t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let l=parseInt(o);l>=0;l--)t.push(";");else t.push(s.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return aN(aN(t,";"),":")}function Sce(n){return se(n[0]==="0","unsupported auwl data","data",n),_ce(n.substring(1+2*my.length),n.substring(1,1+2*my.length))}class kce{constructor(e){ue(this,"locale");bi(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var kh,Dm,Zl,Am,LM;class Cce extends kce{constructor(t,r,i){super(t);Fe(this,Am);Fe(this,kh);Fe(this,Dm);Fe(this,Zl);pe(this,kh,r),pe(this,Dm,i),pe(this,Zl,null)}get _data(){return J(this,kh)}_decodeWords(){return Sce(J(this,kh))}getWord(t){const r=Nt(this,Am,LM).call(this);return se(t>=0&&t<r.length,`invalid word index: ${t}`,"index",t),r[t]}getWordIndex(t){return Nt(this,Am,LM).call(this).indexOf(t)}}kh=new WeakMap,Dm=new WeakMap,Zl=new WeakMap,Am=new WeakSet,LM=function(){if(J(this,Zl)==null){const t=this._decodeWords();if(gO(t.join(`
`)+`
`)!==J(this,Dm))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);pe(this,Zl,t)}return J(this,Zl)};const Ece="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Tce="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Uw=null;class xc extends Cce{constructor(){super("en",Ece,Tce)}static wordlist(){return Uw==null&&(Uw=new xc),Uw}}function BG(n){return(1<<n)-1<<8-n&255}function Mce(n){return(1<<n)-1&255}function Hw(n,e){OY("NFKD"),e==null&&(e=xc.wordlist());const t=e.split(n);se(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));se(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)u&1<<10-h&&(r[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=BG(o),l=Ke(Ji(r.slice(0,s/8)))[0]&a;return se(l===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),qe(r.slice(0,s/8))}function Ww(n,e){se(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=xc.wordlist());const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&Mce(8-r)),r+=3);const i=n.length/4,s=parseInt(Ji(n).substring(2,4),16)&BG(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}const Yw={};class im{constructor(e,t,r,i,s){ue(this,"phrase");ue(this,"password");ue(this,"wordlist");ue(this,"entropy");i==null&&(i=""),s==null&&(s=xc.wordlist()),kb(e,Yw,"Mnemonic"),bi(this,{phrase:r,password:i,wordlist:s,entropy:t})}computeSeed(){const e=ic("mnemonic"+this.password,"NFKD");return Um(ic(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const i=Hw(e,r);return e=Ww(Ke(i),r),new im(Yw,i,e,t,r)}static fromEntropy(e,t,r){const i=Ke(e,"entropy"),s=Ww(i,r);return new im(Yw,qe(i),s,t,r)}static entropyToPhrase(e,t){const r=Ke(e,"entropy");return Ww(r,t)}static phraseToEntropy(e,t){return Hw(e,t)}static isValidMnemonic(e,t){try{return Hw(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var ar=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Gw=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Cv,Ai,Fs;const Ice={16:10,24:12,32:14},Pce=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Oi=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],v0=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Oce=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Rce=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Dce=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Ace=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Nce=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Lce=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Fce=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],$ce=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],jce=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Bce=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],zce=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],qce=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Vw(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class vO{get key(){return ar(this,Cv,"f").slice()}constructor(e){if(Cv.set(this,void 0),Ai.set(this,void 0),Fs.set(this,void 0),!(this instanceof vO))throw Error("AES must be instanitated with `new`");Gw(this,Cv,new Uint8Array(e),"f");const t=Ice[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Gw(this,Fs,[],"f"),Gw(this,Ai,[],"f");for(let u=0;u<=t;u++)ar(this,Fs,"f").push([0,0,0,0]),ar(this,Ai,"f").push([0,0,0,0]);const r=(t+1)*4,i=this.key.length/4,s=Vw(this.key);let o;for(let u=0;u<i;u++)o=u>>2,ar(this,Fs,"f")[o][u%4]=s[u],ar(this,Ai,"f")[t-o][u%4]=s[u];let a=0,l=i,c;for(;l<r;){if(c=s[i-1],s[0]^=Oi[c>>16&255]<<24^Oi[c>>8&255]<<16^Oi[c&255]<<8^Oi[c>>24&255]^Pce[a]<<24,a+=1,i!=8)for(let f=1;f<i;f++)s[f]^=s[f-1];else{for(let f=1;f<i/2;f++)s[f]^=s[f-1];c=s[i/2-1],s[i/2]^=Oi[c&255]^Oi[c>>8&255]<<8^Oi[c>>16&255]<<16^Oi[c>>24&255]<<24;for(let f=i/2+1;f<i;f++)s[f]^=s[f-1]}let u=0,h,d;for(;u<i&&l<r;)h=l>>2,d=l%4,ar(this,Fs,"f")[h][d]=s[u],ar(this,Ai,"f")[t-h][d]=s[u++],l++}for(let u=1;u<t;u++)for(let h=0;h<4;h++)c=ar(this,Ai,"f")[u][h],ar(this,Ai,"f")[u][h]=jce[c>>24&255]^Bce[c>>16&255]^zce[c>>8&255]^qce[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=ar(this,Fs,"f").length-1,r=[0,0,0,0];let i=Vw(e);for(let a=0;a<4;a++)i[a]^=ar(this,Fs,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=Oce[i[l]>>24&255]^Rce[i[(l+1)%4]>>16&255]^Dce[i[(l+2)%4]>>8&255]^Ace[i[(l+3)%4]&255]^ar(this,Fs,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=ar(this,Fs,"f")[t][a],s[4*a]=(Oi[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(Oi[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Oi[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Oi[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=ar(this,Ai,"f").length-1,r=[0,0,0,0];let i=Vw(e);for(let a=0;a<4;a++)i[a]^=ar(this,Ai,"f")[0][a];for(let a=1;a<t;a++){for(let l=0;l<4;l++)r[l]=Nce[i[l]>>24&255]^Lce[i[(l+3)%4]>>16&255]^Fce[i[(l+2)%4]>>8&255]^$ce[i[(l+1)%4]&255]^ar(this,Ai,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=ar(this,Ai,"f")[t][a],s[4*a]=(v0[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(v0[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(v0[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(v0[i[(a+1)%4]&255]^o)&255;return s}}Cv=new WeakMap,Ai=new WeakMap,Fs=new WeakMap;class Uce{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new vO(t)},name:{enumerable:!0,value:e}})}}var su=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Ri=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Pf,Tl,Ni;class gy extends Uce{constructor(e,t){super("CTR",e,gy),Pf.set(this,void 0),Tl.set(this,void 0),Ni.set(this,void 0),su(this,Ni,new Uint8Array(16),"f"),Ri(this,Ni,"f").fill(0),su(this,Pf,Ri(this,Ni,"f"),"f"),su(this,Tl,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Ri(this,Ni,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Ri(this,Ni,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Ri(this,Ni,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Ri(this,Ni,"f")[e]===255)Ri(this,Ni,"f")[e]=0;else{Ri(this,Ni,"f")[e]++;break}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)Ri(this,Tl,"f")===16&&(su(this,Pf,this.aes.encrypt(Ri(this,Ni,"f")),"f"),su(this,Tl,0,"f"),this.increment()),i[s]^=Ri(this,Pf,"f")[su(this,Tl,(r=Ri(this,Tl,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Pf=new WeakMap,Tl=new WeakMap,Ni=new WeakMap;function tf(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function zG(n){return typeof n=="string"?ic(n,"NFKC"):mu(n)}const Hce="m/44'/60'/0'/0/0";function qG(n){const e=n.salt!=null?Ke(n.salt,"options.salt"):Bo(32);let t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),se(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),se(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),se(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function UG(n,e,t,r){const i=Ke(t.privateKey,"privateKey"),s=r.iv!=null?Ke(r.iv,"options.iv"):Bo(16);se(s.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?Ke(r.uuid,"options.uuid"):Bo(16);se(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=n.slice(0,16),l=n.slice(16,32),c=new gy(a,s),u=Ke(c.encrypt(i)),h=er(Ln([l,u])),d={address:t.address.substring(2).toLowerCase(),id:eae(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:qe(s).substring(2)},ciphertext:qe(u).substring(2),kdf:"scrypt",kdfparams:{salt:qe(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(t.mnemonic){const f=r.client!=null?r.client:`ethers/${PY}`,m=t.mnemonic.path||Hce,g=t.mnemonic.locale||"en",v=n.slice(32,64),y=Ke(t.mnemonic.entropy,"account.mnemonic.entropy"),b=Bo(16),w=new gy(v,b),S=Ke(w.encrypt(y)),_=new Date,C="UTC--"+(_.getUTCFullYear()+"-"+tf(_.getUTCMonth()+1,2)+"-"+tf(_.getUTCDate(),2)+"T"+tf(_.getUTCHours(),2)+"-"+tf(_.getUTCMinutes(),2)+"-"+tf(_.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:f,gethFilename:C,path:m,locale:g,mnemonicCounter:qe(b).substring(2),mnemonicCiphertext:qe(S).substring(2),version:"0.1"}}return JSON.stringify(d)}function Wce(n,e,t){t==null&&(t={});const r=zG(e),i=qG(t),s=Wm(r,i.salt,i.N,i.r,i.p,64);return UG(Ke(s),i,n,t)}async function Yce(n,e,t){t==null&&(t={});const r=zG(e),i=qG(t),s=await Hm(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return UG(Ke(s),i,n,t)}const Kw="m/44'/60'/0'/0/0",Gce=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Xa=2147483648,Vce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Kce="0123456789abcdef";function vy(n,e){let t="";for(;n;)t=Kce[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function FM(n){const e=Ke(n),t=tO(Ji(Ji(e)),0,4),r=Ln([e,t]);return Qoe(r)}const qs={};function HG(n,e,t,r){const i=new Uint8Array(37);n&Xa?(It(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Ke(r),1)):i.set(Ke(t));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=n>>24-o&255;const s=Ke(hd("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function WG(n,e){const t=e.split("/");se(t.length>0,"invalid path","path",e),t[0]==="m"&&(se(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));se(o<Xa,"invalid path index",`path[${i}]`,s),r=r.deriveChild(Xa+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);se(o<Xa,"invalid path index",`path[${i}]`,s),r=r.deriveChild(o)}else se(!1,"invalid path component",`path[${i}]`,s)}return r}var Nm,$M,ec,Of;const os=class os extends NM{constructor(t,r,i,s,o,a,l,c,u){super(r,u);Fe(this,Nm);ue(this,"publicKey");ue(this,"fingerprint");ue(this,"parentFingerprint");ue(this,"mnemonic");ue(this,"chainCode");ue(this,"path");ue(this,"index");ue(this,"depth");kb(t,qs,"HDNodeWallet"),bi(this,{publicKey:r.compressedPublicKey});const h=tO(dd(Ji(this.publicKey)),0,4);bi(this,{parentFingerprint:i,fingerprint:h,chainCode:s,path:o,index:a,depth:l}),bi(this,{mnemonic:c})}connect(t){return new os(qs,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,r){return await Yce(Nt(this,Nm,$M).call(this),t,{progressCallback:r})}encryptSync(t){return Wce(Nt(this,Nm,$M).call(this),t)}get extendedKey(){return It(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),FM(Ln(["0x0488ADE4",vy(this.depth,1),this.parentFingerprint,vy(this.index,4),this.chainCode,Ln(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new om(qs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const r=xi(t,"index");se(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Xa),r&Xa&&(i+="'"));const{IR:s,IL:o}=HG(r,this.chainCode,this.publicKey,this.privateKey),a=new to(Nh((DY(o)+BigInt(this.privateKey))%Vce,32));return new os(qs,a,this.fingerprint,qe(s),i,r,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return WG(this,t)}static fromExtendedKey(t){const r=An(Joe(t));se(r.length===82||FM(r.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=r[4],s=qe(r.slice(5,9)),o=parseInt(qe(r.slice(9,13)).substring(2),16),a=qe(r.slice(13,45)),l=r.slice(45,78);switch(qe(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=qe(l);return new om(qs,Gm(c),c,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(l[0]!==0)break;return new os(qs,new to(l.slice(1)),s,a,null,o,i,null,null)}se(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,r,i){var o;t==null&&(t=""),r==null&&(r=Kw),i==null&&(i=xc.wordlist());const s=im.fromEntropy(Bo(16),t,i);return Nt(o=os,ec,Of).call(o,s.computeSeed(),s).derivePath(r)}static fromMnemonic(t,r){var i;return r||(r=Kw),Nt(i=os,ec,Of).call(i,t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,i,s){var a;r==null&&(r=""),i==null&&(i=Kw),s==null&&(s=xc.wordlist());const o=im.fromPhrase(t,r,s);return Nt(a=os,ec,Of).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(t){var r;return Nt(r=os,ec,Of).call(r,t,null)}};Nm=new WeakSet,$M=function(){const t={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),t},ec=new WeakSet,Of=function(t,r){se(Cb(t),"invalid seed","seed","[REDACTED]");const i=Ke(t,"seed");se(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=Ke(hd("sha512",Gce,i)),o=new to(qe(s.slice(0,32)));return new os(qs,o,"0x00000000",qe(s.slice(32)),"m",0,0,r,null)},Fe(os,ec);let sm=os;class om extends AM{constructor(t,r,i,s,o,a,l,c,u){super(r,u);ue(this,"publicKey");ue(this,"fingerprint");ue(this,"parentFingerprint");ue(this,"chainCode");ue(this,"path");ue(this,"index");ue(this,"depth");kb(t,qs,"HDNodeVoidWallet"),bi(this,{publicKey:i});const h=tO(dd(Ji(i)),0,4);bi(this,{publicKey:i,fingerprint:h,parentFingerprint:s,chainCode:o,path:a,index:l,depth:c})}connect(t){return new om(qs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return It(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),FM(Ln(["0x0488B21E",vy(this.depth,1),this.parentFingerprint,vy(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const r=xi(t,"index");se(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Xa),r&Xa&&(i+="'"));const{IR:s,IL:o}=HG(r,this.chainCode,this.publicKey,null),a=to.addPoints(o,this.publicKey,!0),l=Gm(a);return new om(qs,l,a,this.fingerprint,qe(s),i,r,this.depth+1,this.provider)}derivePath(t){return WG(this,t)}}class lN{constructor(e){ue(this,"mnemonic");ue(this,"walletAddress");ue(this,"chainID");ue(this,"cachedPrivateKeyHex",null);this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),t=Math.floor(Math.random()*1e6);return`tx-${e}-${t}`}async getPrivateKeyHex(){if(this.cachedPrivateKeyHex!==null)return this.cachedPrivateKeyHex;const e=sm.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const t=BigInt(e.privateKey),r=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(t===0n||t>=r)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const s=t.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(s))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return this.cachedPrivateKeyHex=s,s}async signPayload(e){const t=await this.getPrivateKeyHex(),r=Math.floor(Date.now()/1e3);let i;e.deadline&&(i=parseInt(e.deadline,10));const s={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:e};i!==void 0&&(s.deadline=i);const o=await eo.generateSingleSignature(JSON.stringify(s),t,this.walletAddress.toLowerCase());if(!o.success||!o.signature)throw new Error(o.error||"Failed to generate signature");return o.signature}async buildCompleteMessage(e,t,r=3600){const s=Math.floor(Date.now()/1e3)+r,o=await t.getNextNonce();return{...e,owner:this.walletAddress,nonce:o,deadline:s.toString()}}buildEIP712Tx(e,t,r){const i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const a={txhash:r||this.generateTxID(),sigType:1,threshold:1,timestamp:i,payload:e,signatures:[{signer:this.walletAddress,signature:t}]};return s!==void 0&&(a.deadline=s),a}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}class Xce{constructor(e){ue(this,"httpClient");ue(this,"infoClient");ue(this,"nonceManager");ue(this,"mnemonic");ue(this,"chainID");ue(this,"walletAddress");ue(this,"signatureBuilder");this.httpClient=new ZP(e.baseURL,e.maxRetries??3),this.infoClient=new io({baseURL:e.baseURL,sessionToken:e.sessionToken}),this.chainID=e.chainID??10900,this.mnemonic=e.mnemonic,e.mnemonic&&(this.nonceManager=new IY(this.infoClient))}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");this.signatureBuilder=new lN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNotInitializedMessage(){return"Client not initialized. Call initialize() first."}getNonceManager(){if(!this.nonceManager)throw new Error("NonceManager not initialized. Mnemonic required.");return this.nonceManager}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){if(!this.mnemonic)throw new Error("Mnemonic is required for write operations");await eo.initialize();const e=await eo.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new lN({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error(this.getNotInitializedMessage());return this.walletAddress}async refreshNonceFromServer(){const e=this.getWalletAddress(),t=await this.infoClient.getNonceStatus(e,!1);console.log("[BaseSignedClient] Refreshed nonce from server",{walletAddress:e,serverNextNonce:t.nextNonce})}async getNextNonce(){const e=this.getWalletAddress(),r=(await this.infoClient.getNonceStatus(e,!0)).nextNonce;return console.log("[BaseSignedClient] Server assigned nonce",{walletAddress:e,nextNonce:r}),r.toString()}hexSignatureToBase64(e){const t=e.replace(/^0x/i,"");if(/^[0-9a-fA-F]+$/.test(t)&&(t.length===128||t.length===130)){const r=t.length/2,i=new Uint8Array(r);for(let s=0;s<r;s++)i[s]=parseInt(t.slice(s*2,s*2+2),16);return btoa(String.fromCharCode(...i))}return e}}function Qce(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function Jce(n){var a,l,c;if(!n)return!1;const e=String(n).toLowerCase(),t=((a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())||e,r=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),i=((l=r==null?void 0:r.error)==null?void 0:l.toLowerCase())||((c=r==null?void 0:r.message)==null?void 0:c.toLowerCase())||"",s=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],o=`${t} ${e} ${i}`.toLowerCase();return s.some(u=>o.includes(u))}function Zce(n){if(!n)return[!1,!1];const e=Qce(n),t=Jce(n);return[e,t]}function YG(n){const[e,t]=Zce(n);return e||t}function nf(n){if(n==null||typeof n!="string")return!1;const e=n.toLowerCase();return e.includes("duplicate transaction")||e.includes("duplicate tranaction")}function jM(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const r=n.seconds,i=n.nanos||0;return r*1e3+Math.floor(i/1e6)}const t=typeof n=="string"?Number(n):n;return typeof t=="number"&&!isNaN(t)&&t>0?t<9466848e5?t*1e3:t:e}function us(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function cN(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,t=n.nanos||0,r=e*1e3+Math.floor(t/1e6),s=new Date(r).toISOString();if(t>0){const o=t.toString().padStart(9,"0");return s.replace(/\.\d{3}Z$/,`.${o}Z`)}return s}return""}function Hn(n){const t=new Date().toISOString(),r=t.match(/\.(\d{3})Z$/);if(r){const s=(parseInt(r[1])*1e6).toString().padStart(9,"0");return t.replace(/\.\d{3}Z$/,`.${s}Z`)}return t.replace(/Z$/,".000000000Z")}const GG="sys::onboard",eue="market::change_marginRatio",uN="clob::submit_order",tue="clob::cancel_order",hN="bucket::close_position",nue="bucket::update_position_leverage",rue="clob::modify_order",iue="clob::inter_transfer",sue="bucket::create_margin_bucket",oue="clob::swap",aue="bank::mint",lue="bank::transfer_to_bucket",cue="bank::withdraw_from_bucket",uue="bank::bucket_transfer",hue="bank::transfer";var rn=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(rn||{});const pd="https://router.morpheum.io",due="wss://router.morpheum.io/websocket",fue="300px",pue="300px",mue="270px",VG="630px",yO=5e3,gue="1",vue=100,KG=20,BM="legal winner thank year wave sausage worth useful legal winner thank yellow",Xw=1,dN=100,yue=1,y0=0,Qw=100,Jw=1,bue=.01,fN=0,xue="BINANCE:BTCUSDT",wue="5",_ue="https://s3.tradingview.com/tv.js",ua=2,Sue=2,Fa="asc",Yu="desc",zM="market",Zw="limit",am="CROSS",kue="ISOLATED",Cue="ONE_WAY",lm="LONG",qM="SHORT",pN="symbol",mN="leverage",gN="size",vN="liquidationPrice",yN="unrealizedPnL",bN="entryPrice",xN="margin",e1="all",b0="byBucket",wN="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",Eue="#51cf66",Tue="#ff6b6b",Mue="Loading positions...",Iue="No open positions",Pue="POSITIONS",Oue="All",Rue="By Bucket",t1="--",_N="symbol",SN="side",kN="quantity",CN="price",EN="filledQuantity",TN="status",ha="pending",MN="history",Due="ORDER_STATUS_PENDING",Aue="ORDER_STATUS_OPEN",Nue="ORDER_STATUS_PARTIAL",Lue="PARTIALLY_FILLED",IN=[Due,Aue,Nue,"PENDING","OPEN","NEW","PARTIAL",Lue],PN="#ffc107",Fue="#17a2b8",$ue="#28a745",jue="#dc3545",Bue="#6c757d",zue="#51cf66",que="#ff6b6b",ON="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",Uue="Loading pending orders...",Hue="No pending orders",Wue="No historical orders",Yue="OPEN ORDERS",Gue="ORDER HISTORY",Vue="Wallet address required to view pending orders",Kue="Pending",Xue="History",Que="--",Jue="Unknown",Zue={1:"USDC",2:"USDT"};function RN(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((t,r)=>{const i=us(t.timestamp);return us(r.timestamp)-i}).map(t=>{const r=us(t.timestamp),i=ct(t.quantity),s=ct(t.price);return{time:r,size:i,price:s,isBuyerMaker:!1}})}function DN(n){let e;"positionId"in n&&n.positionId?e=n.positionId:e=`${n.marketIndex}-${n.bucketId||"default"}-${n.address}`;const t="averageEntryPrice"in n?n.averageEntryPrice:n.entryPrice;let r;"positionSide"in n&&n.positionSide?r=n.positionSide:"side"in n&&n.side?r=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?lm:qM:r=ct(n.size)>=0?lm:qM;const i=ct(n.size),s=ct(t),o=ct(n.markPrice),a=n.leverage?ct(n.leverage):0;let l=0;if(n.unrealizedProfit!==void 0||n.unrealizedLoss!==void 0){const d=hy(n.unrealizedProfit),f=hy(n.unrealizedLoss),m=d-f;l=ct(m.toString())}else"unrealizedPnl"in n&&n.unrealizedPnl!==void 0&&(l=ct(n.unrealizedPnl));const u=ct(n.marginBalance)||(a&&s&&i!==0?Math.abs(Math.abs(i)*s/a):0),h="marginMode"in n&&n.marginMode||"marginType"in n&&n.marginType||am;return{positionId:e,marketId:String(n.marketIndex),symbol:n.symbol||`m-${n.marketIndex}`,size:Math.abs(i),entryPrice:s,markPrice:o,liquidationPrice:n.liquidationPrice?ct(n.liquidationPrice):0,unrealizedPnL:l,leverage:a,margin:u,side:r,marginMode:h,bucketId:n.bucketId?String(n.bucketId):"",raw:n}}function AN(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let t=n.status||"ORDER_STATUS_PENDING";t.includes("ORDER_STATUS_")&&(t=t.replace("ORDER_STATUS_",""));const r=n.timeInForce;let i=r;r&&r.includes("TIME_IN_FORCE_")&&(i=r.replace("TIME_IN_FORCE_",""));const s=f=>ct(f),o=s(n.quantity),a=s(n.price),l=s(n.filledQuantity),c=o-l,u=n.orderId??"",h=n.marketIndex??"",d=jM(n.timestamp,Date.now());return{id:u,orderId:u,marketId:h,side:e,type:n.type,quantity:o,price:a,filledQuantity:l,remainingQuantity:c,status:t,timeInForce:i??"",createdAt:d,updatedAt:d,raw:n}}function ehe(n){const e=new Date().toISOString();return{bucketId:n.bucketId,address:n.address,bucketType:n.marginType,collateralAssetIndex:"1",depositedMargin:"0",totalEquity:n.totalEquity,availableMargin:n.availableMargin,usedMargin:n.usedMargin,unrealizedProfit:n.unrealizedProfit,unrealizedLoss:n.unrealizedLoss,realizedProfit:"0",realizedLoss:"0",marginRatio:"0",imr:"0",totalNotionalValue:"0",riskLevel:"low",maxLeverage:"0",correlationOffset:0,status:"active",createdAt:e,updatedAt:e,sequenceId:"0"}}function NN(n){const e=n.bucketId??"---",t=hy(n.unrealizedProfit??"0"),r=hy(n.unrealizedLoss??"0"),i=t-r,s=Qn(i.toString()),o=ct(n.unrealizedProfit??"0"),a=ct(n.unrealizedLoss??"0"),l=zoe(n.maxLeverage),c=n.bucketType??"cross",u=n.collateralAssetIndex??"1",h=Zue[u]??"USDC";return{bucketId:e,address:n.address||"",marginType:c.toLowerCase().includes("isolated")?"isolated":"cross",collateralAssetIndex:u,collateralAsset:h,depositedMargin:ct(n.depositedMargin??"0"),totalEquity:ct(n.totalEquity??"0"),availableMargin:ct(n.availableMargin??"0"),usedMargin:ct(n.usedMargin??"0"),unrealizedProfit:o,unrealizedLoss:a,realizedProfit:ct(n.realizedProfit??"0"),realizedLoss:ct(n.realizedLoss??"0"),unrealizedPnL:s,marginRatio:ct(n.marginRatio??"0"),imr:ct(n.imr??"0"),totalNotionalValue:ct(n.totalNotionalValue??"0"),riskLevel:n.riskLevel||"",maxLeverage:l,correlationOffset:n.correlationOffset??0,status:n.status||"",createdAt:cN(n.createdAt),updatedAt:cN(n.updatedAt),leverage:l,marginMode:c,raw:n}}function n1(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function np(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function the(n){return"collateralAssetIndex"in n}function nhe(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.marketIndex=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.isBuyerMaker=="boolean"&&typeof n.tradeId=="string"}function rhe(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.markPrice=="number"&&typeof n.timestamp=="number"}class ihe extends Xce{constructor(e){super(e)}getNotInitializedMessage(){return"FiClient not initialized. Call initialize() first."}async refreshNonceFromServer(){await super.refreshNonceFromServer(),console.log("[FiClient] Refreshed nonce from server",{walletAddress:this.getWalletAddress()})}buildOrderPayload(e){const t=Pn(e.price),r=Pn(e.quantity),i={action:uN,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:t,quantity:r};return e.leverage&&(i.leverage=e.leverage),e.takeProfit&&(i.takeProfit=e.takeProfit),e.stopLoss&&(i.stopLoss=e.stopLoss),i}buildOrderPayloadForTx(e){const r=e.orderType.toUpperCase()==="MARKET"?"0":Pn(e.price),i=Pn(e.quantity),s=(e.timeInForce||"GTC").toUpperCase(),o=e.bucketId?"isolated":"cross",a=[];e.stopLoss&&a.push(`sl:${e.stopLoss}`),e.takeProfit&&a.push(`tp:${e.takeProfit}`);const l=a.length?a.join(","):"",c=e.leverage||"0",u=e.side.toLowerCase(),h=this.normalizeOrderType(e.orderType),d=this.deriveFillType(h,e.postOnly);return{action:uN,address:this.getWalletAddress(),marketIndex:e.marketId,side:u,orderType:h,price:r,stopPrice:"0",quantity:i,leverage:c,fillType:d,marginMode:o,bucketId:e.bucketId,metadata:"",sltp:l,timeInForce:s}}normalizeOrderType(e){switch(e.toUpperCase()){case"LIMIT":return"limit";case"MARKET":return"market";case"STOP_MARKET":return"stop_market";case"STOP_LIMIT":return"stop_limit";case"TAKE_PROFIT":return"take_profit";case"TRAILING_STOP":return"trailing_stop";default:return e.toLowerCase()}}deriveFillType(e,t){return t?"maker":e==="market"?"taker":"any"}toTimeInForceProto(e){switch((e||"GTC").toUpperCase()){case"IOC":return"TIME_IN_FORCE_IOC";case"FOK":return"TIME_IN_FORCE_FOK";case"DAY":return"TIME_IN_FORCE_DAY";case"GTT":case"GTD":return"TIME_IN_FORCE_GTT";default:return"TIME_IN_FORCE_GTC"}}async placeOrderWithNonce(e,t){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");return this.walletAddress||await this.initialize(),this.placeOrderViaTxWithNonce(e,t)}async placeOrderViaTxWithNonce(e,t){const r=performance.now(),i=this.getWalletAddress(),s=this.buildOrderPayloadForTx(e),o=this.getSignatureBuilder(),l=Math.floor(Date.now()/1e3)+3600,c={...s,owner:i,nonce:String(t),deadline:String(l)},u=performance.now(),h=await o.signPayload(c),d=performance.now(),f=l,m=new Date(f*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),g=Hn(),v=c.price,y=c.quantity,b=e.orderType.toUpperCase()==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",w=e.side.toUpperCase()==="BUY"?"SIDE_BUY":"SIDE_SELL",S=this.toTimeInForceProto(e.timeInForce),_={"@type":"/clob.v1.MsgPlaceOrderRequest",type:2,fromAddress:i,address:i,marketIndex:parseInt(e.marketId,10)||e.marketId,symbol:e.marketId,price:v,quantity:y,size:y,side:w,orderType:b,bucketId:e.bucketId,timeInForce:S,is_buy:e.side.toUpperCase()==="BUY",timestamp:g};e.leverage&&(_.leverage=e.leverage),e.takeProfit&&(_.takeProfit=e.takeProfit),e.stopLoss&&(_.stopLoss=e.stopLoss),e.postOnly&&(_.postOnly=!0),e.hidden&&(_.hidden=!0),e.displayQuantity&&(_.displayQuantity=e.displayQuantity);const k=this.hexSignatureToBase64(h),C={tx:{body:{messages:[_],memo:`place_order_${Math.floor(Date.now()/1e3)}_${t}`,timeoutTimestamp:m},auth_info:{signer_infos:[{nonce:t,deadline:f,timestamp:g}]},signatures:[k]}},T=performance.now(),O=await this.httpClient.post("/tx/v1/submit",C),R=performance.now();console.log(`[FiClient][PERF] placeOrderWithNonce nonce=${t} | sign: ${(d-u).toFixed(1)}ms | http: ${(R-T).toFixed(1)}ms | total: ${(R-r).toFixed(1)}ms`);const D=O.body??{},F=D.tx_hash??D.txhash??void 0,N=D.orderId??void 0,z=D.accepted===!0,$=D.errorMessage??"";return{success:z,orderId:N??"",errorMessage:z?"":$,...F!=null&&{txHash:F}}}async buildSignedOrderRequest(e,t){this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=this.buildOrderPayloadForTx(e),s=this.getSignatureBuilder(),a=Math.floor(Date.now()/1e3)+3600,l={...i,owner:r,nonce:String(t),deadline:String(a)},c=await s.signPayload(l),u=new Date(a*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),h=Hn(),d=l.price,f=l.quantity,m=e.orderType.toUpperCase()==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",g=e.side.toUpperCase()==="BUY"?"SIDE_BUY":"SIDE_SELL",v=this.toTimeInForceProto(e.timeInForce),y={"@type":"/clob.v1.MsgPlaceOrderRequest",type:2,fromAddress:r,address:r,marketIndex:parseInt(e.marketId,10)||e.marketId,symbol:e.marketId,price:d,quantity:f,size:f,side:g,orderType:m,bucketId:e.bucketId,timeInForce:v,is_buy:e.side.toUpperCase()==="BUY",timestamp:h};e.leverage&&(y.leverage=e.leverage),e.takeProfit&&(y.takeProfit=e.takeProfit),e.stopLoss&&(y.stopLoss=e.stopLoss),e.postOnly&&(y.postOnly=!0),e.hidden&&(y.hidden=!0),e.displayQuantity&&(y.displayQuantity=e.displayQuantity);const b=this.hexSignatureToBase64(c);return{tx:{body:{messages:[y],memo:`place_order_${Math.floor(Date.now()/1e3)}_${t}`,timeoutTimestamp:u},auth_info:{signer_infos:[{nonce:t,deadline:a,timestamp:h}]},signatures:[b]}}}async submitSignedOrderRequest(e){const r=(await this.httpClient.post("/tx/v1/submit",e)).body??{},i=r.tx_hash??r.txhash??void 0,s=r.orderId??void 0,o=r.accepted===!0,a=r.errorMessage??"";return{success:o,orderId:s??"",errorMessage:o?"":a,...i!=null&&{txHash:i}}}async submitBatchSignedOrderRequests(e){const r={txs:e.map(c=>c.tx)},i=await this.httpClient.post("/tx/v1/submit/batch",r),s=i.body??{},o=s.results??[],a=s.success===!0,l=s.errorMessage??"";return console.log(`[FiClient][submitBatch] HTTP ${i.statusCode} | success=${a} | results=${o.length} | batchError=${l||"(none)"}`),!a&&o.length>0&&console.log("[FiClient][submitBatch] first result:",JSON.stringify(o[0])),o.length===0?e.map(()=>({success:a,orderId:"",errorMessage:a?"":l||"batch rejected with no per-tx details"})):o.map(c=>{const u=c.accepted===!0,h=c.txHash??c.txhash??void 0,d=c.orderId??void 0,f=c.errorMessage||(u?"":l)||"";return{success:u,orderId:d??"",errorMessage:u?"":f,...h!=null&&{txHash:h}}})}async placeOrderViaTx(e,t=!1){const r=performance.now(),i=this.getWalletAddress(),s=this.buildOrderPayloadForTx(e);console.log("[FiClient] EIP-712 signing payload (canonical values):",{side:s.side,orderType:s.orderType,fillType:s.fillType,marginMode:s.marginMode,leverage:s.leverage,timeInForce:s.timeInForce,owner:s.owner??"(added by buildCompleteMessage)"});const o=this.getSignatureBuilder(),a=performance.now(),l=await o.buildCompleteMessage(s,this.getNonceProvider()),c=performance.now(),u=await o.signPayload(l),h=performance.now();console.log(`[FiClient][PERF] buildPayload: ${(a-r).toFixed(1)}ms | nonceFetch: ${(c-a).toFixed(1)}ms | sign: ${(h-c).toFixed(1)}ms`);const d=parseInt(String(l.deadline),10),f=new Date(d*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),m=Hn(),g=l.price,v=l.quantity,y=e.orderType.toUpperCase()==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",b=e.side.toUpperCase()==="BUY"?"SIDE_BUY":"SIDE_SELL",w=this.toTimeInForceProto(e.timeInForce),S={"@type":"/clob.v1.MsgPlaceOrderRequest",type:2,fromAddress:i,address:i,marketIndex:parseInt(e.marketId,10)||e.marketId,symbol:e.marketId,price:g,quantity:v,size:v,side:b,orderType:y,bucketId:e.bucketId,timeInForce:w,is_buy:e.side.toUpperCase()==="BUY",timestamp:m};e.leverage&&(S.leverage=e.leverage),e.takeProfit&&(S.takeProfit=e.takeProfit),e.stopLoss&&(S.stopLoss=e.stopLoss),e.postOnly&&(S.postOnly=!0),e.reduceOnly&&(S.reduceOnly=!0),e.hidden&&(S.hidden=!0),e.displayQuantity&&(S.displayQuantity=e.displayQuantity);const _=this.hexSignatureToBase64(u),k={tx:{body:{messages:[S],memo:`place_order_${Math.floor(Date.now()/1e3)}_${l.nonce}`,timeoutTimestamp:f},auth_info:{signer_infos:[{nonce:parseInt(String(l.nonce),10),deadline:d,timestamp:m}]},signatures:[_]}},C=performance.now(),T=await this.httpClient.post("/tx/v1/submit",k),O=performance.now();console.log(`[FiClient][PERF] httpPost(/tx/v1/submit): ${(O-C).toFixed(1)}ms | total: ${(O-r).toFixed(1)}ms`);const R=T.body??{},D=R.tx_hash??R.txhash??void 0,F=R.orderId??void 0,N=R.accepted===!0,z=R.errorMessage??"";return!t&&!N&&nf(z)&&this.walletAddress?(console.log("[FiClient] Duplicate transaction detected, retrying with fresh nonce",s),this.placeOrderViaTx(e,!0)):(console.log("[FiClient] placeOrderViaTx result",{accepted:N,nonce:l.nonce,txHash:D,errorMessage:z||void 0}),{success:N,orderId:F??"",errorMessage:N?"":z,...D!=null&&{txHash:D}})}async placeOrderLegacy(e){const t=this.buildOrderPayload(e);console.log("placeOrderLegacy payload",t);const r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=Math.floor(Date.now()/1e3)-5,a=e.side.toUpperCase()==="BUY",l=e.orderType.toUpperCase(),c=l==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",u={address:this.getWalletAddress(),market_index:e.marketId,bucket_id:e.bucketId,price:i.price,quantity:i.quantity,type:c,signature:s,nonce:i.nonce,deadline:i.deadline,timestamp:o,asset_pair:e.marketId,market_id:e.marketId,size:i.quantity,is_buy:a,order_type:l,client_order_id:`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,time_in_force:e.timeInForce||"GTC"};e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0);const d=(await this.httpClient.post("/clob/v1/order",u)).body,f=d.orderId,m=d.txhash!=null?String(d.txhash):d.txHash;return{...d,orderId:f??d.orderId,...m!=null&&{txHash:m}}}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!(e.orderType.toUpperCase()==="MARKET")&&(!e.price||e.price<=0))throw new Error("price must be positive for non-market orders");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");return this.walletAddress||await this.initialize(),e.useLegacyClobOrder?this.placeOrderLegacy(e):this.placeOrderViaTx(e)}async placeBatchOrders(e){if(!e.orders||!Array.isArray(e.orders))throw new Error("orders must be a non-empty array");if(e.orders.length===0)throw new Error("At least one order is required");if(e.orders.length>100)throw new Error("Maximum 100 orders per batch");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3)-5,i=await Promise.all(e.orders.map(async(o,a)=>{if(!o.marketId||o.marketId.trim()==="")throw new Error(`Order ${a}: marketId cannot be empty`);if(!o.bucketId||o.bucketId.trim()==="")throw new Error(`Order ${a}: bucketId cannot be empty`);if(!o.side||o.side.toUpperCase()!=="BUY"&&o.side.toUpperCase()!=="SELL")throw new Error(`Order ${a}: side must be BUY or SELL`);if(!o.orderType||o.orderType.toUpperCase()!=="LIMIT"&&o.orderType.toUpperCase()!=="MARKET")throw new Error(`Order ${a}: orderType must be LIMIT or MARKET`);if(!o.price||o.price<=0)throw new Error(`Order ${a}: price must be positive`);if(!o.quantity||o.quantity<=0)throw new Error(`Order ${a}: quantity must be positive`);const l=this.buildOrderPayload(o),c=this.getSignatureBuilder(),u=await c.buildCompleteMessage(l,this.getNonceProvider()),h=await c.signPayload(u),d=o.side.toUpperCase()==="BUY",f=o.orderType.toUpperCase(),m=f==="MARKET"?"ORDER_TYPE_MARKET":"ORDER_TYPE_LIMIT",g=`batch-${Date.now()}-${a}-${Math.floor(Math.random()*1e6)}`,v=u.quantity,y=d?"BUY":"SELL",b={address:t,symbol:o.marketId,bucketId:o.bucketId,price:u.price,size:v,quantity:v,is_buy:d,side:y,orderType:f,type:m,signature:h,nonce:u.nonce,deadline:u.deadline,timestamp:r,client_order_id:g};return o.leverage&&(b.leverage=o.leverage),o.takeProfit&&(b.take_profit=o.takeProfit),o.stopLoss&&(b.stop_loss=o.stopLoss),o.postOnly&&(b.post_only=!0,b.postOnly=!0),o.hidden&&(b.hidden=!0),o.displayQuantity&&(b.display_quantity=o.displayQuantity,b.displayQuantity=o.displayQuantity),o.reduceOnly&&(b.reduce_only=!0),b}));return(await this.httpClient.post("/clob/v1/orders/batch",{orders:i})).body}async cancelOrderRESTful(e,t){if(!e||e==="")throw new Error("orderId cannot be empty");!this.walletAddress&&!t&&await this.initialize();const r=t||this.getWalletAddress();return(await this.httpClient.delete(`/clob/v1/order/${encodeURIComponent(e)}?address=${encodeURIComponent(r)}`)).body}async cancelOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r={action:tue,owner:t,address:t,orderId:e.orderId,marketIndex:e.marketId},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Hn(),l=parseInt(String(s.deadline),10),c=new Date(l*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),u={"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:a},h=this.hexSignatureToBase64(o),d={tx:{body:{messages:[u],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:c},auth_info:{signer_infos:[{nonce:parseInt(String(s.nonce),10),deadline:l,timestamp:a}]},signatures:[h]}};try{const m=(await this.httpClient.post("/tx/v1/submit",d)).body??{},g=this.mapSubmitTxToCancelOrderResponse(m,e.orderId);if(!g.success&&nf(g.errorMessage)&&this.walletAddress){console.log("[FiClient] Duplicate cancel detected, retrying with fresh nonce");const v=await i.buildCompleteMessage(r,this.getNonceProvider()),y=await i.signPayload(v),b=parseInt(String(v.deadline),10),w=new Date(b*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),_={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Hn()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:w},auth_info:{signer_infos:[{nonce:parseInt(String(v.nonce),10),deadline:b,timestamp:Hn()}]},signatures:[this.hexSignatureToBase64(y)]}},C=(await this.httpClient.post("/tx/v1/submit",_)).body??{};return this.mapSubmitTxToCancelOrderResponse(C,e.orderId)}return g}catch(f){if(YG(f)){console.log("[FiClient] Nonce error on cancelOrder, retrying with fresh nonce");const m=await i.buildCompleteMessage(r,this.getNonceProvider()),g=await i.signPayload(m),v=parseInt(String(m.deadline),10),y=new Date(v*1e3).toISOString().replace(/\.\d{3}Z$/,"Z"),w={tx:{body:{messages:[{"@type":"/clob.v1.MsgCancelOrderRequest",type:43,fromAddress:t,address:t,orderId:e.orderId,symbol:e.marketId,timestamp:Hn()}],memo:`cancel_order_${e.orderId}_${Math.floor(Date.now()/1e3)}`,timeoutTimestamp:y},auth_info:{signer_infos:[{nonce:parseInt(String(m.nonce),10),deadline:v,timestamp:Hn()}]},signatures:[this.hexSignatureToBase64(g)]}},_=(await this.httpClient.post("/tx/v1/submit",w)).body??{};return this.mapSubmitTxToCancelOrderResponse(_,e.orderId)}throw f}}mapSubmitTxToCancelOrderResponse(e,t){const r=e.accepted===!0,i=e.txhash!=null?String(e.txhash):e.tx_hash!=null?String(e.tx_hash):e.Txhash!=null?String(e.Txhash):"",s=Date.now(),o={seconds:Math.floor(s/1e3),nanos:s%1e3*1e6};return{...e,success:r,txhash:i,result:{orderId:t,success:r,timestamp:o},timestamp:o,...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)}}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const t={action:rue,orderId:e.orderId,marketIndex:e.marketId,newPrice:Pn(e.newPrice),newQuantity:Pn(e.newQuantity)},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeLeverage(e){if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(!(e.marketIndex!==void 0||e.marketId!=null&&e.marketId.trim()!==""))throw new Error("marketIndex or marketId must be provided");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=e.marketIndex!==void 0?String(e.marketIndex):String(parseInt(e.marketId.trim(),10)),s={action:nue,address:r,positionId:e.positionId??"",bucketId:e.bucketId,marketIndex:i,newLeverage:Pn(e.newLeverage)},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Math.floor(Date.now()/1e3),i=r+300,s=await this.getNextNonce();let o;if(e.marketPrice&&e.marketPrice>0)o=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.lastPrice)throw new Error("marketPrice is required and could not be fetched from ticker");o=Qn(m.lastPrice)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const a=Pn(o).toString(),l=e.quantity&&e.quantity>0?Pn(e.quantity).toString():"0",c={action:hN,address:t,marketId:e.marketId,closeSize:l,marketPrice:a,nonce:s,deadline:i},h=await this.getSignatureBuilder().signPayload(c),d={address:t,position_id:e.positionId,market_id:e.marketId,close_size:l,market_price:a,timestamp:r,sign_type:1,nonce:s.toString(),chain_id:this.chainID.toString(),deadline:i.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",d)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const t=parseInt(e.marketId,10);if(Number.isNaN(t)||t<0)throw new Error("marketId must be a non-negative numeric string");const r=e.quantity!=null&&e.quantity>0?e.quantity:0;let i;if(e.marketPrice!=null&&e.marketPrice>0)i=e.marketPrice;else try{const v=await this.infoClient.getMarketStats(e.marketId);if(!(v!=null&&v.lastPrice))throw new Error("marketPrice is required and could not be fetched from ticker");i=Qn(v.lastPrice)}catch(v){throw new Error(`Failed to resolve market price: ${v instanceof Error?v.message:String(v)}`)}const s=Math.floor(Date.now()/1e3),o={action:hN,address:this.getWalletAddress(),positionId:e.positionId,marketIndex:t,closeSize:r,marketPrice:i,timestamp:s},a=this.getSignatureBuilder(),l=await a.buildCompleteMessage(o,this.getNonceProvider()),c=await a.signPayload(l),u=a.buildEIP712Tx(l,c),d=(await this.httpClient.post("/router/v1/tx",u)).body,f=(d==null?void 0:d.accepted)===!0,m=(d==null?void 0:d.txhash)??(d==null?void 0:d.tx_hash)??"",g=(d==null?void 0:d.errorMessage)??(d==null?void 0:d.error_message)??"";return{...d,success:f,txhash:m,errorMessage:g||void 0}}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const t={action:oue,fromToken:e.fromToken,toToken:e.toToken,amountIn:Pn(e.amountIn),minAmountOut:Pn(e.minAmountOut)};e.path&&e.path.length>0&&(t.path=e.path);const r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.reason===void 0||e.reason.trim()==="")throw new Error("reason cannot be empty");const t=typeof e.newInitialMarginRatio=="number"?e.newInitialMarginRatio:parseFloat(String(e.newInitialMarginRatio)),r=typeof e.newMaintenanceMarginRatio=="number"?e.newMaintenanceMarginRatio:parseFloat(String(e.newMaintenanceMarginRatio));if(Number.isNaN(t)||t<0)throw new Error("newInitialMarginRatio must be a non-negative number");if(Number.isNaN(r)||r<0)throw new Error("newMaintenanceMarginRatio must be a non-negative number");this.walletAddress||await this.initialize();const i={action:eue,marketIndex:e.marketId,newInitialMarginRatio:Pn(t),newMaintenanceMarginRatio:Pn(r),reason:e.reason},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t={action:iue,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:Pn(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},r=this.getSignatureBuilder(),i=await r.buildCompleteMessage(t,this.getNonceProvider()),s=await r.signPayload(i),o=r.buildEIP712Tx(i,s);return(await this.httpClient.post("/router/v1/tx",o)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=this.getWalletAddress(),r=Pn(e.amount),i={action:uue,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r},s=this.getSignatureBuilder(),o=300,a=await s.buildCompleteMessage(i,this.getNonceProvider(),o),l=await s.signPayload(a),c=Hn(),u=parseInt(String(a.deadline),10),h={"@type":"/bucket.v1.MsgTransferBetweenBucketsRequest",type:0,operation:"bucket_transfer",fromAddress:t,address:t,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r,timestamp:c},d=this.hexSignatureToBase64(l),f={tx:{body:{messages:[h],memo:`bucket_transfer_${Date.now()}`,timeoutTimestamp:new Date(u*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(a.nonce),10),deadline:u,timestamp:c}]},signatures:[d]}},g=(await this.httpClient.post("/tx/v1/submit",f)).body??{},v=this.mapSubmitTxToBucketTransferResponse(g);if(!v.success&&nf(v.errorMessage)&&this.walletAddress){console.log("[FiClient] Duplicate bucketTransfer detected, retrying with fresh nonce");const y=await s.buildCompleteMessage(i,this.getNonceProvider(),o),b=await s.signPayload(y),w=parseInt(String(y.deadline),10),S={tx:{body:{messages:[{"@type":"/bucket.v1.MsgTransferBetweenBucketsRequest",type:0,operation:"bucket_transfer",fromAddress:t,address:t,sourceBucketId:e.fromBucketId,targetBucketId:e.toBucketId,amount:r,timestamp:Hn()}],memo:`bucket_transfer_${Date.now()}`,timeoutTimestamp:new Date(w*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(y.nonce),10),deadline:w,timestamp:Hn()}]},signatures:[this.hexSignatureToBase64(b)]}},k=(await this.httpClient.post("/tx/v1/submit",S)).body??{};return this.mapSubmitTxToBucketTransferResponse(k)}return v}mapSubmitTxToCreateBucketResponse(e,t){const r=e.accepted===!0,i=e.errorMessage!=null?String(e.errorMessage):void 0;return{success:r,bucketId:t,message:r?`${t} margin bucket created successfully`:i??"Bucket creation failed",...e.txhash!=null&&{txhash:String(e.txhash)},...i!=null&&{errorMessage:i},...e}}mapSubmitTxToBucketTransferResponse(e){const t=e.accepted===!0,r=e.txhash!=null?String(e.txhash):void 0;return{...e,success:t,...r!=null&&{txHash:r},...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)}}}async extractToBucket(e){var b;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((b=e.assetId)==null?void 0:b.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Pn(e.amount),s={action:lue,bucketId:e.bucketId,assetIndex:Number(t),amount:i},o=this.getSignatureBuilder(),a=300,l=await o.buildCompleteMessage(s,this.getNonceProvider(),a),c=await o.signPayload(l),u=Hn(),h=parseInt(String(l.deadline),10),d={"@type":"/bank.v1.MsgTransferToBucketRequest",type:0,operation:"transfer_to_bucket",fromAddress:r,address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:u},f=this.hexSignatureToBase64(c),m={tx:{body:{messages:[d],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${l.nonce}`,timeoutTimestamp:new Date(h*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(l.nonce),10),deadline:h,timestamp:u}]},signatures:[f]}},v=(await this.httpClient.post("/tx/v1/submit",m)).body??{},y=this.mapSubmitTxToExtractToBucketResponse(v);if(!y.success&&nf(y.errorMessage)&&this.walletAddress){console.log("[FiClient] Duplicate extractToBucket detected, retrying with fresh nonce");const w=await o.buildCompleteMessage(s,this.getNonceProvider(),a),S=await o.signPayload(w),_=parseInt(String(w.deadline),10),k={tx:{body:{messages:[{"@type":"/bank.v1.MsgTransferToBucketRequest",type:0,operation:"transfer_to_bucket",fromAddress:r,address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:Hn()}],memo:`transfer_to_bucket_${Math.floor(Date.now()/1e3)}_${w.nonce}`,timeoutTimestamp:new Date(_*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(w.nonce),10),deadline:_,timestamp:Hn()}]},signatures:[this.hexSignatureToBase64(S)]}},T=(await this.httpClient.post("/tx/v1/submit",k)).body??{};return this.mapSubmitTxToExtractToBucketResponse(T)}return y}mapSubmitTxToExtractToBucketResponse(e){const t=e.accepted===!0,r=e.txhash!=null?String(e.txhash):void 0,i=Hn();return{success:t,...r!=null&&{txHash:r},...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)},timestamp:i,...e}}async createBucket(e){if(e.collateralAssetIndex===void 0||typeof e.collateralAssetIndex!="number"||e.collateralAssetIndex<0)throw new Error("collateralAssetIndex must be a non-negative number");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const t=e.marginType.toLowerCase();if(t!=="cross"&&t!=="isolated")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=e.initialMargin??"0",s=Math.floor(Date.now()/1e3),o=Hn(),a=r.replace(/^0x/i,"").slice(0,8),l=e.bucketId&&e.bucketId.trim()!==""?e.bucketId:`bucket-${a}-${s}`,c=t==="isolated"?"BUCKET_TYPE_ISOLATED":"BUCKET_TYPE_CROSS",u={action:sue,owner:r,collateralAssetIndex:String(e.collateralAssetIndex),initialMargin:i,marginType:t},h=this.getSignatureBuilder(),d=await h.buildCompleteMessage(u,this.getNonceProvider(),300),f=await h.signPayload(d),m=parseInt(String(d.deadline),10),g={"@type":"/bucket.v1.MsgCreateBucketRequest",type:0,operation:"create_bucket",fromAddress:r,address:r,bucketId:l,bucketType:c,collateralAssetIndex:e.collateralAssetIndex,initialMargin:i,marginType:t,timestamp:o},v=this.hexSignatureToBase64(f),y={tx:{body:{messages:[g],memo:`bucket_create_${Date.now()}_${d.nonce}`,timeoutTimestamp:new Date(m*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(d.nonce),10),deadline:m,timestamp:o}]},signatures:[v]}},w=(await this.httpClient.post("/tx/v1/submit",y)).body??{};return this.mapSubmitTxToCreateBucketResponse(w,l)}async withdrawFromBucket(e){var b;if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const t=e.assetIndex??(((b=e.assetId)==null?void 0:b.toUpperCase())==="USDC"?1:void 0);if(t==null||t<1)throw new Error("Provide assetIndex (e.g. 1 for USDC) or assetId 'USDC'");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Pn(e.amount),s={action:cue,bucketId:e.bucketId,assetIndex:Number(t),amount:i},o=this.getSignatureBuilder(),a=300,l=await o.buildCompleteMessage(s,this.getNonceProvider(),a),c=await o.signPayload(l),u=Hn(),h=parseInt(String(l.deadline),10),d={"@type":"/bucket.v1.MsgTransferToBankRequest",type:0,operation:"transfer_to_bank",fromAddress:r,address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:u},f=this.hexSignatureToBase64(c),m={tx:{body:{messages:[d],memo:`transfer_to_bank_${Math.floor(Date.now()/1e3)}_${l.nonce}`,timeoutTimestamp:new Date(h*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(l.nonce),10),deadline:h,timestamp:u}]},signatures:[f]}},v=(await this.httpClient.post("/tx/v1/submit",m)).body??{},y=this.mapSubmitTxToWithdrawFromBucketResponse(v);if(!y.success&&nf(y.errorMessage)&&this.walletAddress){console.log("[FiClient] Duplicate withdrawFromBucket detected, retrying with fresh nonce");const w=await o.buildCompleteMessage(s,this.getNonceProvider(),a),S=await o.signPayload(w),_=parseInt(String(w.deadline),10),k={tx:{body:{messages:[{"@type":"/bucket.v1.MsgTransferToBankRequest",type:0,operation:"transfer_to_bank",fromAddress:r,address:r,bucketId:e.bucketId,assetIndex:Number(t),amount:i,timestamp:Hn()}],memo:`transfer_to_bank_${Math.floor(Date.now()/1e3)}_${w.nonce}`,timeoutTimestamp:new Date(_*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")},auth_info:{signer_infos:[{nonce:parseInt(String(w.nonce),10),deadline:_,timestamp:Hn()}]},signatures:[this.hexSignatureToBase64(S)]}},T=(await this.httpClient.post("/tx/v1/submit",k)).body??{};return this.mapSubmitTxToWithdrawFromBucketResponse(T)}return y}mapSubmitTxToWithdrawFromBucketResponse(e){const t=e.accepted===!0,r=e.txhash!=null?String(e.txhash):void 0;return{...e,success:t,...r!=null&&{txHash:r},...e.errorMessage!=null&&{errorMessage:String(e.errorMessage)}}}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Pn(e.amount),r={action:aue,address:this.getWalletAddress(),asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const t=Pn(e.amount),r={action:hue,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:t},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async checkPositionRisk(e){if(!e.address||e.address.trim()==="")throw new Error("address cannot be empty");if(!e.market_index||e.market_index.trim()==="")throw new Error("market_index cannot be empty");if(!e.side||e.side.toUpperCase()!=="LONG"&&e.side.toUpperCase()!=="SHORT")throw new Error("side must be LONG or SHORT");if(!e.size||e.size.trim()==="")throw new Error("size cannot be empty");if(!e.leverage||e.leverage.trim()==="")throw new Error("leverage cannot be empty");return(await this.httpClient.post("/bucket/v1/position/check-risk",{address:e.address,market_index:e.market_index,side:e.side.toUpperCase(),size:e.size,leverage:e.leverage})).body}}class she{constructor(e){ue(this,"ws",null);ue(this,"state",rn.Disconnected);ue(this,"handlers",new Map);ue(this,"reconnectTimer",null);ue(this,"reconnectAttempts",0);ue(this,"config");ue(this,"originalConfig");ue(this,"pingInterval",null);ue(this,"stateChangeHandlers",new Set);ue(this,"authState","not_required");ue(this,"pendingSubscriptions",new Map);this.originalConfig=e;const t=this.convertHTTPToWebSocketURL(e.url);this.config={url:t,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const t=new URL(e);if(!t.pathname||t.pathname==="/")return t.pathname="/websocket",t.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const t=e.match(/:(\d+)/);return`ws://localhost:${t?t[1]:"8080"}/websocket`}if(e.startsWith("http://")){const t=e.replace("http://","ws://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(e.startsWith("https://")){const t=e.replace("https://","wss://");return t.includes("/websocket")?t:t.endsWith("/")?`${t}websocket`:`${t}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const t=new URL(e.startsWith("http")?e:`https://${e}`),r=t.protocol==="https:"?"wss:":"ws:",i=t.pathname&&t.pathname!=="/"?t.pathname:"",s=i.endsWith("/websocket")?i:`${i}/websocket`;return`${r}//${t.host}${s}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const t=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${t}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===rn.Connected||this.state===rn.Connecting))return this.setState(rn.Connecting),new Promise((e,t)=>{let r=!1,i=!1,s=null;const o=a=>{i||(i=!0,s!==null&&(clearTimeout(s),s=null),this.setState(rn.Disconnected),t(a))};try{const a=this.getConnectionURL();console.log("Connecting to WebSocket:",a);const l=new WebSocket(a);s=window.setTimeout(()=>{!r&&!i&&(l.close(),o(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${a}. Check if the server is running and accessible.`)))},1e4),l.onopen=async()=>{s!==null&&(clearTimeout(s),s=null),r=!0,this.ws=l,this.setState(rn.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},l.onmessage=c=>{try{const u=JSON.parse(c.data);this.handleMessage(u)}catch(u){console.error("Failed to parse WebSocket message:",u)}},l.onerror=c=>{console.error("WebSocket error event:",c)},l.onclose=c=>{if(s!==null&&(clearTimeout(s),s=null),this.ws=null,this.stopPing(),this.authState="not_required",!r&&!i){const u=c.code,h=c.reason||"Unknown reason",d=c.wasClean;let f=`WebSocket connection failed. Close code: ${u}`;u===1006?f=`WebSocket connection failed (abnormal closure, code ${u}). Unable to connect to ${a}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:u===1002?f=`WebSocket protocol error (code ${u}). The server may not support WebSocket protocol or there's a protocol mismatch.`:u===1003?f=`WebSocket unsupported data type (code ${u}).`:u===1008?f=`WebSocket connection closed due to policy violation (code ${u}): ${h}`:u===1011?f=`WebSocket server error (code ${u}): ${h}`:u===1e3?f=`WebSocket connection closed normally (code ${u}) but before opening.`:h&&h!=="Unknown reason"&&(f+=` Reason: ${h}`),!d&&u===1006&&(f+=" This usually indicates the connection was refused or the server is unreachable."),o(new Error(f))}else r&&(this.setState(rn.Disconnected),this.scheduleReconnect())}}catch(a){s!==null&&(clearTimeout(s),s=null);const l=a instanceof Error?a.message:String(a);o(new Error(`Failed to create WebSocket connection: ${l}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(rn.Disconnected)}send(e){var t;if(this.state!==rn.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const r=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${r}), updating connection state`),this.setState(rn.Disconnected),new Error(`WebSocket not open (state: ${r})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const r=JSON.stringify(e);this.ws.send(r)}catch(r){throw console.error("[WebSocketClient] Failed to send message:",r),((t=this.ws)==null?void 0:t.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(rn.Disconnected),this.scheduleReconnect()),r}}on(e,t){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(t)}off(e,t){if(!t){this.handlers.delete(e);return}const r=this.handlers.get(e);if(r){const i=r.indexOf(t);i>-1&&r.splice(i,1)}}getState(){return this.state}isConnected(){const e=this.state===rn.Connected,t=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!t?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(rn.Disconnected),!1):e&&t}setState(e){const t=this.state;this.state=e,t!==e&&this.stateChangeHandlers.forEach(r=>{try{r(e)}catch(i){console.error("Error in state change handler:",i)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s={type:"pong"};e.id&&(s.id=e.id),this.send(s)}}catch(s){console.error("[WebSocketClient] Failed to send pong:",s),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(rn.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const s=this.pendingSubscriptions.get(e.channel);s&&(clearTimeout(s.timeout),s.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in stale data handler:",a)}}));let t;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?t=e.channel:t="subscribed";else if(e.action==="error")t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")t="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")t=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else t=e.action;else typeof e.type=="string"?e.type==="data"?typeof e.channel=="string"?t=e.channel:t="message":e.type==="error"?(t="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?t=e.channel:t="ack":e.type==="pong"?t="pong":t=e.type:typeof e.event=="string"?t=e.event:typeof e.channel=="string"?t=e.channel:t="message";const r=this.handlers.get(t)||[],i=this.handlers.get("*")||[];r.forEach(s=>{try{s(e)}catch(o){console.error(`[WebSocketClient] Error in handler for ${t}:`,o)}}),t!=="error"&&i.forEach(s=>{try{s(e)}catch(o){console.error("[WebSocketClient] Error in wildcard handler:",o)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(rn.Disconnected);return}this.reconnectAttempts++,this.setState(rn.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===rn.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(rn.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(rn.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,t,r){this.config.authToken=e,this.config.walletAddress=t,this.config.deviceID=r,this.originalConfig.authToken=e,this.originalConfig.walletAddress=t,this.originalConfig.deviceID=r,console.log(`Auth set: address=${t}, device=${r}`)}async updateAuth(e,t,r){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),t!==void 0&&(this.config.walletAddress=t,this.originalConfig.walletAddress=t),r!==void 0&&(this.config.deviceID=r,this.originalConfig.deviceID=r),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,t=5e3){return new Promise((r,i)=>{if(!this.pendingSubscriptions.has(e)){r();return}const s=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),i(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},t),o=this.pendingSubscriptions.get(e);o?(o.timeout=s,o.resolve=r,o.reject=i):(clearTimeout(s),r())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===rn.Connected,r=!this.config.authToken||this.authState==="authenticated";return e&&r}getAuthState(){return this.authState}getAuthToken(){return this.config.authToken}}function ohe(n){const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function ahe(n){try{const e=new TextDecoder("utf-8",{fatal:!1}).decode(n);return JSON.parse(e)}catch{return null}}function lhe(n){if(n==null||typeof n!="object")return n;const e=n,t=e.payload,r=t==null?void 0:t.value;if(typeof r!="string")return n;let i,s;try{const a=ohe(r);s=a;const l=ahe(a);l!==null&&typeof l=="object"&&(i=Ah(l))}catch(a){console.warn("[streamPayload] decode failed:",a)}const o={...e,version:e.version??void 0,messageType:e.message_type??e.messageType,timestamp:e.timestamp??void 0,firstSequenceId:e.first_sequence_id??e.firstSequenceId,lastSequenceId:e.last_sequence_id??e.lastSequenceId,typeUrl:(t==null?void 0:t.type_url)??(t==null?void 0:t.typeUrl)};return i!==void 0&&(o.decodedPayload=i),s!==void 0&&(o.decodedPayloadRaw=s),o}const r1="multiplex";const che="init-multiplex";class uhe{constructor(e){ue(this,"wsClient");ue(this,"dataCallbacks",new Map);ue(this,"pendingById",new Map);ue(this,"pingPendingById",new Map);ue(this,"wildcardHandler",null);ue(this,"channelSubscribed",!1);this.wsClient=e}async subscribeToChannel(e=5e3){if(!this.wsClient.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.channelSubscribed||(this.wsClient.registerPendingSubscription(r1),this.wsClient.send({type:"subscribe",channel:r1,id:che}),await this.wsClient.waitForSubscription(r1,e),this.channelSubscribed=!0,this.attachMessageHandler())}async subscribeStreams(e,t=5e3){await this.ensureChannelAndHandler();const r=`sub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((i,s)=>{const o=setTimeout(()=>{const u=this.pendingById.get(r);u&&this.pendingById.delete(r)&&u.reject(new Error(`Multiplex subscribe timeout (id: ${r})`))},t),a=()=>{clearTimeout(o),this.pendingById.delete(r)&&i()},l=u=>{clearTimeout(o),this.pendingById.delete(r)&&s(u)};this.pendingById.set(r,{resolve:a,reject:l});const c=e.map(u=>({streamType:u.stream_type,filter:u.filter}));this.wsClient.send({action:"subscribe",id:r,subscriptions:c})})}unsubscribeStreams(e){if(!this.channelSubscribed||!this.wsClient.isConnected())return;const t=`unsub-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,r=e.map(i=>({streamType:i.stream_type,filter:i.filter}));this.wsClient.send({action:"unsubscribe",id:t,subscriptions:r})}onStreamData(e,t){return this.dataCallbacks.has(e)||this.dataCallbacks.set(e,[]),this.dataCallbacks.get(e).push(t),()=>{const r=this.dataCallbacks.get(e);if(r){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}async ping(e=5e3){await this.ensureChannelAndHandler();const t=`ping-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;return new Promise((r,i)=>{const s=setTimeout(()=>{this.pingPendingById.delete(t)&&i(new Error(`Multiplex pong timeout (id: ${t})`))},e);this.pingPendingById.set(t,{resolve:()=>{clearTimeout(s),this.pingPendingById.delete(t),r()},reject:o=>{clearTimeout(s),this.pingPendingById.delete(t),i(o)}}),this.wsClient.send({action:"ping",id:t})})}detach(){this.wildcardHandler&&(this.wsClient.off("*",this.wildcardHandler),this.wildcardHandler=null),this.channelSubscribed=!1,this.dataCallbacks.clear(),this.pendingById.clear(),this.pingPendingById.clear()}async ensureChannelAndHandler(){this.channelSubscribed||await this.subscribeToChannel()}attachMessageHandler(){this.wildcardHandler||(this.wildcardHandler=e=>{const t=e.type,r=e.id,i=e.stream_type??e.streamType??e.subChannel,s=i?i:void 0;if(t==="data"&&s){const o=this.dataCallbacks.get(s);if(o!=null&&o.length){const a=e.data;let l=a!=null&&typeof a=="object"?lhe(a):a;const c=l;(c==null?void 0:c.decodedPayload)!=null?l=c.decodedPayload:l!=null&&typeof l=="object"&&!("decodedPayload"in l)&&!("payload"in l)&&(l=Ah(l));const u={type:"data",id:e.id,stream_type:s,symbol:e.symbol,marketIndex:e.marketIndex,data:l,error:e.error,U:e.U,u:e.u,ts:e.ts};o.forEach(h=>{try{h(u)}catch(d){console.error(`[MultiplexStreamClient] callback error for ${s}:`,d)}})}return}if(t==="ack"&&r){const o=this.pendingById.get(r);o&&o.resolve();return}if(t==="error"&&r){const o=this.pendingById.get(r);if(o){const a=e.error;let l="Multiplex error";if(a!=null&&typeof a=="object"){const c=a;typeof c.message=="string"?l=c.message:typeof c.code=="string"&&(l=c.code)}o.reject(new Error(l))}return}if(t==="pong"&&r){const o=this.pingPendingById.get(r);o&&o.resolve()}},this.wsClient.on("*",this.wildcardHandler))}}class LN{constructor(e){ue(this,"wsClient");ue(this,"subscriptions",new Map);ue(this,"lastPriceWrappedCallbacks",new Map);ue(this,"wrappedCallbacks",new Map);ue(this,"multiplexStreamClient");ue(this,"multiFeedSubscriptions",new Map);ue(this,"multiFeedWrappedCallbacks",new Map);this.wsClient=new she({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexStreamClient=new uhe(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiFeedSubscriptions.clear(),this.multiFeedWrappedCallbacks.clear(),this.multiplexStreamClient.detach()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,t,r){this.wsClient.setAuthToken(e,t,r)}async updateAuth(e,t,r){return this.wsClient.updateAuth(e,t,r)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,t=5e3){return this.wsClient.waitForSubscription(e,t)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.error("Failed to parse router data field:",t),null}return e}extractRouterData(e){if(e==null||typeof e!="object")return null;const t=e;if(typeof t.action=="string"){if((t.action==="data"||t.action==="update")&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse action-based data:",t.data),r??null}if(t.action==="data"||t.action==="update"){const{action:r,channel:i,...s}=t;return Object.keys(s).length>0?s:null}if(t.action==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.action==="subscribed")return null}if(t.type==="data"&&t.data!==void 0){const r=this.parseRouterData(t.data);return r==null&&console.warn("[SubscriptionClient] Failed to parse router data:",t.data),r??null}if(t.type==="error")return t.error!==void 0?console.error("WebSocket error response:",t.error):typeof t.message=="string"&&console.error("WebSocket error response:",t.message),null;if(t.type==="ack")return null;if(t.channel!==void 0&&t.action===void 0&&t.type===void 0){const{channel:r,...i}=t;return Object.keys(i).length>0?i:null}return typeof t.action=="string"&&t.action!=="data"&&t.action!=="update"&&t.action!=="subscribed"&&t.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",t.action,"Full message:",e):typeof t.type=="string"&&t.type!=="data"&&t.type!=="ack"&&t.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",t.type,"Full message:",e):(t.action==="data"||t.action==="update"||t.type==="data")&&t.data===void 0&&t.channel===void 0&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");if(!this.wsClient.getAuthToken())throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}getMultiplexStreamClient(){return this.multiplexStreamClient}subscribeMultiFeedSubChannel(e,t,r,i){var c;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(t))throw new Error(`Invalid market ID: ${t}. Market ID must be a non-empty string.`);const s=["buckets","orders","positions"];s.includes(e)&&this.validatePrivateChannelAuth(),this.multiFeedSubscriptions.set(e,[...this.multiFeedSubscriptions.get(e)||[],r]);const o=u=>{const h=this.extractRouterData(u);h!=null&&r(h)};this.multiFeedWrappedCallbacks.has(e)||this.multiFeedWrappedCallbacks.set(e,new Map),this.multiFeedWrappedCallbacks.get(e).set(r,o),this.wsClient.on(e,o);const a=this.wsClient.getAuthToken(),l={market_id:t,...i};s.includes(e)&&a&&!l.auth_token&&(l.auth_token=a);try{this.wsClient.send({type:"subscribe",channel:e,params:l})}catch(u){(c=this.multiFeedWrappedCallbacks.get(e))==null||c.delete(r);const h=this.multiFeedSubscriptions.get(e)||[],d=h.indexOf(r);throw d>-1&&(h.splice(d,1),this.multiFeedSubscriptions.set(e,h)),u}}unsubscribeMultiFeedSubChannel(e,t){var i,s;const r=this.multiFeedSubscriptions.get(e)||[];if(t){const o=r.indexOf(t);if(o>-1){r.splice(o,1),this.multiFeedSubscriptions.set(e,r);const a=(i=this.multiFeedWrappedCallbacks.get(e))==null?void 0:i.get(t);a&&(this.wsClient.off(e,a),this.multiFeedWrappedCallbacks.get(e).delete(t))}}else{const o=this.multiFeedWrappedCallbacks.get(e);o&&(o.forEach(a=>{this.wsClient.off(e,a)}),this.multiFeedWrappedCallbacks.delete(e)),this.multiFeedSubscriptions.delete(e)}if((((s=this.multiFeedSubscriptions.get(e))==null?void 0:s.length)??0)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:e})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeTicker(e,t){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const r="moniker",i="ticker";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=a=>{const l=this.extractRouterData(a);l!=null&&t(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(t,s),this.wsClient.on(r,s);try{this.wsClient.send({type:"subscribe",channel:r,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(t);const l=this.subscriptions.get(i)||[],c=l.indexOf(t);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTicker(e,t){var o,a;const r="ticker",i="moniker",s=this.subscriptions.get(r)||[];if(t){const l=s.indexOf(t);if(l>-1){s.splice(l,1),this.subscriptions.set(r,s);const c=(o=this.wrappedCallbacks.get(r))==null?void 0:o.get(t);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(r).delete(t))}}else{const l=this.wrappedCallbacks.get(r);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((a=this.subscriptions.get(r))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:i})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeLastPrice(e,t,r=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="lastPrice";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],t]);const s=o=>{const a=this.extractRouterData(o);if(a==null||typeof a!="object"){console.warn("[SubscriptionClient] Failed to extract trade data from message:",o);return}const l=a;if(l.price===void 0||l.price===null){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}r&&(l.price!=null&&(l.price=Qn(typeof l.price=="string"?l.price:String(l.price))),l.quantity!=null&&(l.quantity=Qn(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),t(l)};this.lastPriceWrappedCallbacks.set(t,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"lastPrice",params:{market_id:e}})}catch(o){this.lastPriceWrappedCallbacks.delete(t);const a=this.subscriptions.get(i)||[],l=a.indexOf(t);throw l>-1&&(a.splice(l,1),this.subscriptions.set(i,a)),o}}unsubscribeLastPrice(e,t){var s;const r="lastPrice",i=this.subscriptions.get(r)||[];if(t){const o=i.indexOf(t);if(o>-1){i.splice(o,1),this.subscriptions.set(r,i);const a=this.lastPriceWrappedCallbacks.get(t);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(t))}}else i.forEach(o=>{const a=this.lastPriceWrappedCallbacks.get(o);a&&(this.wsClient.off(r,a),this.lastPriceWrappedCallbacks.delete(o))}),this.subscriptions.delete(r);if(((s=this.subscriptions.get(r))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"lastPrice"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeBuckets(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="buckets";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a!=null&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"buckets",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBuckets(e){var i,s;const t="buckets",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeKline(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(t))throw new Error(`Invalid interval: ${t}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const i="kline";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeKline(e,t,r){var o,a;const i="kline",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,t,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(t))throw new Error(`Invalid window size: ${t}. Window size must be a positive number.`);const i="twap";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:t}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTWAP(e,t,r){var o,a;const i="twap",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBalances(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="balances";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"balances",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeBalances(e){var i,s;const t="balances",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}subscribeOrders(e){var s;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const t="orders";this.subscriptions.set(t,[...this.subscriptions.get(t)||[],e]);const r=o=>{const a=this.extractRouterData(o);a&&e(a)};this.wrappedCallbacks.has(t)||this.wrappedCallbacks.set(t,new Map),this.wrappedCallbacks.get(t).set(e,r),this.wsClient.on(t,r),this.wsClient.registerPendingSubscription(t);const i=this.wsClient.getAuthToken();try{const o={};i&&(o.auth_token=i),this.wsClient.send({type:"subscribe",channel:"orders",params:o})}catch(o){(s=this.wrappedCallbacks.get(t))==null||s.delete(e);const a=this.subscriptions.get(t)||[],l=a.indexOf(e);throw l>-1&&(a.splice(l,1),this.subscriptions.set(t,a)),o}}unsubscribeOrders(e){var i,s;const t="orders",r=this.subscriptions.get(t)||[];if(e){const o=r.indexOf(e);if(o>-1){r.splice(o,1),this.subscriptions.set(t,r);const a=(i=this.wrappedCallbacks.get(t))==null?void 0:i.get(e);a&&(this.wsClient.off(t,a),this.wrappedCallbacks.get(t).delete(e))}}else{const o=this.wrappedCallbacks.get(t);o&&(o.forEach(a=>{this.wsClient.off(t,a)}),this.wrappedCallbacks.delete(t)),this.subscriptions.delete(t)}if(((s=this.subscriptions.get(t))==null?void 0:s.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(o){console.error("Failed to send unsubscribe message:",o)}}}async function hhe(n,e,t,r,i){const s=sm.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(s.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${s.address} does not match provided ${e}`);let o;try{o=new to(s.privateKey)}catch(S){throw new Error(`Invalid private key: cannot create signing key - ${S.message}`)}const a=Gm(o.publicKey);if(a.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${a} does not match ${e}`);const l=BigInt(s.privateKey),c=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(l===0n||l>=c)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=l.toString(16).toLowerCase().padStart(64,"0"),d=Ke("0x"+h);if(d.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${d.length}`);if(d.every(S=>S===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==l)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${l.toString(16)}, Reconstructed: ${m.toString(16)}`);const g=h;if(g.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${g.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(g))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const v=g,y={action:GG,owner:e.toLowerCase(),nonce:t,timestamp:r,deadline:i},b={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:r,payload:y,deadline:parseInt(i,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",b),console.log("[Onboard] Private key format validated:",{length:v.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${v.substring(0,8)}...${v.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:l<c,notZero:l!==0n,bytesLength:d.length,fullHex:v,firstByte:v.substring(0,2),lastByte:v.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(b).length,privateKeyHexLength:v.length,privateKeyHexPreview:v,signerAddress:e.toLowerCase()});const w=await eo.generateSingleSignature(JSON.stringify(b),v,e.toLowerCase());if(console.log(w),!w.success||!w.signature)throw new Error(w.error||"Failed to generate signature");return console.log("[Onboard] signature:",w.signature),w.signature}async function dhe(n){var e,t;try{const r=await hhe(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",r.length);const i={address:n.walletAddress,signature:r,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline};console.log("[Onboard] Request body:",{...i,signature:r.substring(0,20)+"..."});const o=await new ZP(n.baseURL).post("/auth/v1/onboard",i);if(o.statusCode===200&&o.body){const a=o.body.access_token||o.body.authToken||o.body.token||o.body.accessToken,l=o.body.refresh_token||o.body.refreshToken,c=o.body.expires_at||o.body.expiresAt||(o.body.expires_in?n.timestamp+o.body.expires_in:void 0);return a?{success:!0,authToken:a,refreshToken:l,expiresAt:c}:{success:!1,error:"Response missing authToken field"}}else{const a=((e=o.body)==null?void 0:e.message)||((t=o.body)==null?void 0:t.error)||`HTTP ${o.statusCode}: ${o.body}`,l=new Error(a);throw l.responseBody=o.body,l.statusCode=o.statusCode,l}}catch(r){throw r}}const bO={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function fhe(n,e){let t=n.baseDelay*Math.pow(n.multiplier,e);if(t>n.maxDelay&&(t=n.maxDelay),n.jitter){const r=t*.25*Math.random();t+=r}return Math.floor(t)}function phe(n){return new Promise(e=>setTimeout(e,n))}async function xO(n,e,t=()=>!0){let r;for(let i=0;i<=n.maxRetries;i++)try{return await e()}catch(s){if(r=s,!await Promise.resolve(t(s)))throw s;if(i>=n.maxRetries)break;const a=fhe(n,i);await phe(a)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(r==null?void 0:r.message)||r}`)}async function mhe(n,e,t,r){try{eo.isReady()||await eo.initialize();const i=await eo.generateAddress(n,0);if(!i.success||!i.address)return{success:!1,error:`Failed to generate address: ${i.error}`};const s=i.address.toLowerCase(),o=new io({baseURL:e}),a=new IY(o);let l=null;try{return await xO(bO.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${l}`),l===null?(l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${l}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${l} from previous failure`);let u=0;const h=10;for(;u<h;)try{await a.validateNonce(s,l,!0);break}catch(v){if(u++,v.message.includes("already pending")||v.message.includes("already used")){if(l=l+1,console.log(`[Onboard] Nonce ${l-1} already pending, incrementing to ${l}`),u>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw v}const d=Math.floor(Date.now()/1e3),f=d+3600,m={action:GG,owner:s,nonce:IA(l),timestamp:d,deadline:IA(f)};let g;try{g=await dhe({mnemonic:n,walletAddress:s,message:m,baseURL:e,username:t,referralCode:r,timestamp:d})}catch(v){if(l!==null){const y=l;try{await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Rejected nonce ${y}, incremented to nonce ${l} (will use on retry)`)}catch(b){console.warn("[Onboard] Failed to reject nonce after thrown error:",b),l=l+1,console.log(`[Onboard] Incremented nonce to ${l} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw v.currentNonce=l,v}if(!g.success){if(l!==null){const y=l;await a.rejectNonce(s,l,!0),l=l+1,console.log(`[Onboard] Request failed with nonce ${y}, rejected and incremented to ${l} (will keep incrementing until it works)`)}const v=new Error(g.error||"Onboarding failed");throw v.onboardResult=g,v}return l!==null&&await a.commitNonce(s,l,!0),g},async u=>{var y,b,w;const h=String(u).toLowerCase(),d=((y=u==null?void 0:u.message)==null?void 0:y.toLowerCase())||h,f=(u==null?void 0:u.responseBody)||(u==null?void 0:u.onboardResult),m=((b=f==null?void 0:f.error)==null?void 0:b.toLowerCase())||((w=f==null?void 0:f.message)==null?void 0:w.toLowerCase())||"";if(`${d} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(l!==null){const S=l;l=l+1,console.log(`[Onboard] Off-chain operation: nonce ${S} already pending/used, incrementing to ${l} (server will validate)`)}else try{l=(await a.getExpectedNextNonce(s,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${l}`)}catch(S){console.warn("[Onboard] Failed to query server nonce:",S),l=1}return!0}return YG(u)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),l=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(S=>h.includes(S))})}catch(c){if(l!==null)try{await a.rejectNonce(s,l,!0)}catch(u){console.warn("[Onboard] Failed to reject nonce during cleanup:",u)}return{success:!1,error:(c==null?void 0:c.message)||"Unknown error during onboarding"}}}catch(i){return{success:!1,error:(i==null?void 0:i.message)||"Unknown error during onboarding"}}}const FN=n=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},ghe=n=>n?FN(n):FN,vhe=n=>n;function yhe(n,e=vhe){const t=fe.useSyncExternalStore(n.subscribe,fe.useCallback(()=>e(n.getState()),[n,e]),fe.useCallback(()=>e(n.getInitialState()),[n,e]));return fe.useDebugValue(t),t}const $N=n=>{const e=ghe(n),t=r=>yhe(e,r);return Object.assign(t,e),t},XG=n=>n?$N(n):$N,Xt=XG((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:t=>{const r=new Map,i=new Map;t.forEach(a=>{r.set(a.index,a),a.moniker&&i.set(a.moniker,a),a.symbol&&i.set(a.symbol,a),a.name&&i.set(a.name,a)});let o=e().selectedMarketId;if(!o&&t.length>0){const c=(t.find(u=>u.active)||t[0]).index;c&&(o=c)}n({markets:t,marketsById:r,marketsBySymbol:i,selectedMarketId:o,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:t=>{const r=e(),i=new Map(r.marketsById),s=new Map(r.marketsBySymbol);i.set(t.index,t),t.moniker&&s.set(t.moniker,t),t.symbol&&s.set(t.symbol,t),t.name&&s.set(t.name,t);const o=r.markets.find(a=>a.index===t.index)?r.markets.map(a=>a.index===t.index?t:a):[...r.markets,t];n({markets:o,marketsById:i,marketsBySymbol:s})},getMarket:t=>e().marketsById.get(t),getMarketBySymbol:t=>e().marketsBySymbol.get(t),setSelectedMarketId:t=>{n({selectedMarketId:t})},setOrderbook:(t,r)=>{const i=e(),s=new Map(i.orderbooks);s.set(t,{...r,timestamp:Date.now()}),n({orderbooks:s,lastUpdated:new Map(i.lastUpdated).set(t,Date.now())})},getOrderbook:t=>e().orderbooks.get(t),updateOrderbook:(t,r)=>{const i=e(),s=i.orderbooks.get(t);if(s){const o={...s,...r,timestamp:Date.now()};i.setOrderbook(t,o)}else i.setOrderbook(t,{bids:r.bids||[],asks:r.asks||[],timestamp:Date.now()})},setTicker:(t,r)=>{const i=e(),s=new Map(i.tickers);s.set(t,{...r,marketId:t,timestamp:Date.now()}),n({tickers:s,lastUpdated:new Map(i.lastUpdated).set(`ticker_${t}`,Date.now())})},getTicker:t=>e().tickers.get(t),setRecentTrades:(t,r)=>{const i=e(),s=new Map(i.recentTrades);s.set(t,r),n({recentTrades:s,lastUpdated:new Map(i.lastUpdated).set(`trades_${t}`,Date.now())})},getRecentTrades:t=>e().recentTrades.get(t),setLoading:(t,r)=>{const i=e();if(t==="markets")n({loadingMarkets:r});else if(t.startsWith("orderbook_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingOrderbooks);r?o.add(s):o.delete(s),n({loadingOrderbooks:o})}else if(t.startsWith("ticker_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTickers);r?o.add(s):o.delete(s),n({loadingTickers:o})}else if(t.startsWith("trades_")){const s=t.split("_").slice(1).join("_"),o=new Set(i.loadingTrades);r?o.add(s):o.delete(s),n({loadingTrades:o})}},setError:(t,r)=>{const i=e(),s=new Map(i.errors);r?s.set(t,r):s.delete(t),n({errors:s})},clearError:t=>{e().setError(t,null)},clearCache:t=>{const r=e();if(t){const i=new Map(r.orderbooks),s=new Map(r.tickers),o=new Map(r.recentTrades),a=new Map(r.lastUpdated);i.delete(t),s.delete(t),o.delete(t),a.delete(t),a.delete(`ticker_${t}`),a.delete(`trades_${t}`),n({orderbooks:i,tickers:s,recentTrades:o,lastUpdated:a})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),QG="mormlayer-nonce-store";function i1(n){return n.toLowerCase()}function bhe(){if(typeof window>"u"||!window.localStorage)return{};try{const n=window.localStorage.getItem(QG);if(!n)return{};const e=JSON.parse(n);if(typeof e!="object"||e===null)return{};const t={};for(const[r,i]of Object.entries(e))i&&typeof i.confirmed=="number"&&Array.isArray(i.pending)&&typeof i.lastSync=="number"&&(t[r]={confirmed:i.confirmed,pending:i.pending,lastSync:i.lastSync});return t}catch{return{}}}function s1(n){if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(QG,JSON.stringify(n))}catch{}}XG((n,e)=>({byOwner:bhe(),getNonceState:t=>e().byOwner[i1(t)],setNonceState:(t,r)=>{const i=i1(t);n(s=>{const o={...s.byOwner,[i]:r};return s1(o),{byOwner:o}})},clearOwner:t=>{const r=i1(t);n(i=>{const{[r]:s,...o}=i.byOwner,a=o;return s1(a),{byOwner:a}})},clearAll:()=>{s1({}),n({byOwner:{}})},getSnapshot:()=>e().byOwner}));function o1(n){const e=n.status==="MARKET_STATUS_ACTIVE";return{...n,index:n.marketIndex,active:e,maxSizeLimit:n.maxSizeLimit??0,minSizeLimit:n.minSizeLimit??0,moniker:n.moniker??n.symbol??"",baseAsset:n.baseAsset??"",quoteAsset:n.quoteAsset??""}}function xhe(n,e){var i,s;const t=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),r=(i=n.tradeType)!=null&&i.toLowerCase().includes("buy")||n.buyOrderId?"buy":(s=n.tradeType)!=null&&s.toLowerCase().includes("sell")||n.sellOrderId?"sell":"buy";return{...n,id:n.tradeId,marketId:n.marketIndex||e,price:n.price,size:n.quantity,side:r,timestamp:t}}function jN(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function BN(n,e="-"){return n.moniker?n.moniker:n.symbol?n.symbol:n.baseAsset&&n.quoteAsset?`${n.baseAsset}${e}${n.quoteAsset}`:null}function a1(n,e){return n.startsWith(e)&&n.slice(e.length)||null}function md(n){const e=I.useRef(null),t=Xt(H=>H.markets),r=Xt(H=>H.marketsById),i=Xt(H=>H.orderbooks),s=Xt(H=>H.tickers),o=Xt(H=>H.recentTrades),a=Xt(H=>H.selectedMarketId),l=Xt(H=>H.loadingMarkets),c=Xt(H=>H.loadingOrderbooks),u=Xt(H=>H.loadingTickers),h=Xt(H=>H.loadingTrades),d=Xt(H=>H.errors),f=Xt(H=>H.setMarkets),m=Xt(H=>H.setMarket),g=Xt(H=>H.getMarket),v=Xt(H=>H.getMarketBySymbol),y=Xt(H=>H.setSelectedMarketId),b=Xt(H=>H.setOrderbook),w=Xt(H=>H.getOrderbook),S=Xt(H=>H.updateOrderbook),_=Xt(H=>H.setTicker),k=Xt(H=>H.getTicker),C=Xt(H=>H.setRecentTrades),T=Xt(H=>H.getRecentTrades),O=Xt(H=>H.setLoading),R=Xt(H=>H.setError),D=Xt(H=>H.clearError),F=Xt(H=>H.clearCache),N=I.useCallback(()=>{const H=e.current;if(!H)throw new Error("InfoClient not initialized");return H},[]);async function z(H,K,Y){O(H,!0),R(H,null);try{return await Y()}catch(ne){const te=ne instanceof Error?ne.message:K;throw R(H,te),ne}finally{O(H,!1)}}I.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new io({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const $=I.useCallback(async()=>{const H=N();return z("markets","Failed to fetch markets",async()=>{const Y=((await H.getMarkets()).markets??[]).map(o1);return f(Y),Y})},[N,f]),L=I.useCallback(async H=>{const K=g(H);if(K)return K;const Y=N();try{const ne=await Y.getMarketByID(H);if(ne){const te=o1(ne);return m(te),te}return null}catch(ne){const te=ne instanceof Error?ne.message:`Failed to fetch market ${H}`;throw R(`market_${H}`,te),ne}},[g,N,m,R]),B=I.useCallback(async H=>{const K=v(H);if(K)return K;const Y=N();try{let ne;try{ne=await Y.getMarketByTicker(H)}catch{ne=await Y.getMarketByMoniker(H)}if(ne){const te=o1(ne);return m(te),te}return null}catch(ne){const te=ne instanceof Error?ne.message:`Failed to fetch market ${H}`;throw R(`market_${H}`,te),ne}},[v,N,m,R]),j=I.useCallback(async(H,K=!0,Y=20)=>{const ne=N(),te=`orderbook_${H}`;return z(te,`Failed to fetch orderbook for market ${H}`,async()=>{const re=await ne.getOrderbook(H,K,Y);if(re&&(re.bids||re.asks)){const Q={bids:jN(re.bids||[]),asks:jN(re.asks||[]),timestamp:Date.now()};return b(H,Q),Q}return null})},[N,b]),q=I.useCallback(async H=>{const K=N(),Y=`ticker_${H}`;return z(Y,`Failed to fetch ticker for market ${H}`,async()=>{const ne=await K.getMarketStats(H);if(ne){const te={marketId:H,...ne,timestamp:Date.now()};return _(H,te),te}return null})},[N,_]),W=I.useCallback(async(H,K=100)=>{const Y=N(),ne=`trades_${H}`;return z(ne,`Failed to fetch trades for market ${H}`,async()=>{const te=await Y.getMarketTrades(H,K);if(te){const Q=(Array.isArray(te)?te:[]).map(ee=>xhe(ee,H));return C(H,Q),Q}return null})},[N,C]);I.useEffect(()=>{n.autoFetchMarkets&&t.length===0&&!l&&$().catch(console.error)},[n.autoFetchMarkets,t.length,l,$]);const V=a?t.find(H=>H.index===a||H.marketIndex===a):null,X=V?BN(V,"-"):null,Z=I.useCallback(H=>{const K=t.find(Y=>Y.index===H||Y.marketIndex===H);return K?BN(K,"/"):null},[t]);return{markets:t,marketsById:r,orderbooks:i,tickers:s,recentTrades:o,selectedMarketId:a,selectedMarket:V,selectedMarketSymbol:X,loadingMarkets:l,loadingOrderbooks:c,loadingTickers:u,loadingTrades:h,isLoading:H=>{if(H==="markets")return l;const K=a1(H,"orderbook_");if(K!=null)return c.has(K);const Y=a1(H,"ticker_");if(Y!=null)return u.has(Y);const ne=a1(H,"trades_");return ne!=null?h.has(ne):!1},errors:d,getError:H=>d.get(H),getMarket:g,getMarketBySymbol:v,getSymbolByMarketId:Z,getOrderbook:w,getTicker:k,getRecentTrades:T,fetchMarkets:$,fetchMarket:L,fetchMarketBySymbol:B,fetchOrderbook:j,fetchTicker:q,fetchRecentTrades:W,updateOrderbook:S,clearCache:F,clearError:D,setSelectedMarketId:y,getInfoClient:N}}function Nb(n){const{baseURL:e,mnemonic:t,chainID:r,maxRetries:i}=n,[s,o]=I.useState(null),[a,l]=I.useState(!1),[c,u]=I.useState(null),h=I.useRef(0);return I.useEffect(()=>{if(!e||!t||t.trim()===""){o(null),l(!1),u(null);return}const d={baseURL:e,mnemonic:t.trim()};r!==void 0&&(d.chainID=r),i!==void 0&&(d.maxRetries=i);const f=new ihe(d),m=++h.current;return o(null),l(!1),u(null),f.initialize().then(()=>{m===h.current&&(o(f),l(!0),u(null))}).catch(g=>{m===h.current&&(u(g instanceof Error?g:new Error(String(g))),o(null),l(!1))}),()=>{h.current=m+1}},[e,t,r,i]),{client:s,isReady:a,error:c}}function whe(n){const{client:e,isReady:t,error:r}=Nb({baseURL:n.baseURL,mnemonic:n.mnemonic}),[i,s]=I.useState(null),[o,a]=I.useState(!1),[l,c]=I.useState(null);I.useEffect(()=>{s(new io({baseURL:n.baseURL}))},[n.baseURL]),I.useEffect(()=>{r&&c({success:!1,error:`Initialization failed: ${r.message}`})},[r]);const[u,h]=I.useState(zM),[d,f]=I.useState(0),[m,g]=I.useState(0),[v,y]=I.useState(0),[b,w]=I.useState(yue),[S,_]=I.useState(Cue),[k,C]=I.useState(am),[T,O]=I.useState(0),[R,D]=I.useState(0),[F,N]=I.useState(n.marketId?String(n.marketId):"1");I.useEffect(()=>{n.marketId?N(String(n.marketId)):N("1")},[n.marketId]);const{markets:z}=md({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:$,minSizeLimit:L}=I.useMemo(()=>{if(!F)return{maxSizeLimit:void 0,minSizeLimit:void 0};const Q=z.find(ee=>ee.marketIndex===F);return Q?{maxSizeLimit:Q.maxSizeLimit||40,minSizeLimit:Q.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[F,z]);I.useEffect(()=>{n.selectedBucketBalance!==void 0&&O(n.selectedBucketBalance)},[n.selectedBucketBalance]);const B=I.useCallback(async()=>{if(!(!i||!e||!t)&&n.selectedBucketBalance===void 0)try{const Q=e.getWalletAddress(),ee=await i.getBalanceDecimal(Q,"MORM");ee&&ee.availableBalance!==void 0&&O(ct(ee.availableBalance))}catch(Q){console.error("Failed to load balance:",Q)}},[i,e,t,n.selectedBucketBalance]);I.useEffect(()=>{t&&i&&e&&n.selectedBucketBalance===void 0&&B()},[t,i,e,n.selectedBucketBalance,B]);const j=I.useCallback(async()=>{if(i)try{const Q=await i.getMarketStats(F);if(Q&&Q.lastPrice){const ee=ct(Q.lastPrice);D(ee)}}catch(Q){console.error("Failed to load market price:",Q)}},[i,F]);I.useEffect(()=>{t&&i&&j()},[t,i,j]);const q=I.useCallback(()=>u==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:R:v||0,[u,v,R,n.tradePrice]),W=I.useCallback(()=>T*b,[T,b]),V=I.useCallback(()=>{let Q;if(m>0)Q=m;else{const ve=W()*d/100,ge=q();if(ge<=0)return 0;Q=ve/ge}return L!==void 0&&L>0&&Q<L?0:$!==void 0&&$>0&&Q>$?$:Q},[m,d,W,q,$,L]),X=I.useCallback(()=>{const Q=V(),ee=q();return Q*ee},[V,q]),Z=I.useCallback(()=>{const Q=V(),ee=q(),ve=Q*ee;return Boe(ve)},[V,q]),H=I.useCallback(()=>{const Q=Z();return b<=0?0:Math.floor(Q/b)},[Z,b]),K=I.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const Q=V();if(Q<=0){c({success:!1,error:"Invalid order size"});return}const ee=q();if(ee<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const ve=Pn(b.toString()),ge=await e.placeOrder({marketId:F,bucketId:n.selectedBucketId,side:"BUY",orderType:u,price:ee,quantity:Q,leverage:ve});c({success:!0,orderId:ge.orderId,message:"Buy order placed successfully"}),await B()}catch(ve){c({success:!1,error:ve instanceof Error?ve.message:"Unknown error"})}finally{a(!1)}},[e,t,V,q,u,v,b,F,n.selectedBucketId,B]),Y=I.useCallback(async()=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}const Q=V();if(Q<=0){c({success:!1,error:"Invalid order size"});return}const ee=q();if(ee<=0){c({success:!1,error:u==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(u==="limit"&&!v){c({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){c({success:!1,error:"Bucket ID is required for order placement"});return}a(!0),c(null);try{const ve=Pn(b.toString()),ge=await e.placeOrder({marketId:F,bucketId:n.selectedBucketId,side:"SELL",orderType:u,price:ee,quantity:Q,leverage:ve});c({success:!0,orderId:ge.orderId,message:"Sell order placed successfully"}),await B()}catch(ve){c({success:!1,error:ve instanceof Error?ve.message:"Unknown error"})}finally{a(!1)}},[e,t,V,q,u,v,b,F,n.selectedBucketId,B]),ne=I.useCallback(async(Q,ee)=>{if(!e||!t){c({success:!1,error:"Exchange client not ready"});return}if(!F||F.trim()===""){c({success:!1,error:"Market ID is required"});return}if(Q<=0){c({success:!1,error:"Leverage must be greater than 0"});return}if(!ee.bucketId||ee.bucketId.trim()===""){c({success:!1,error:"Bucket ID is required"});return}a(!0),c(null);try{const ve=await e.changeLeverage({marketId:F,newLeverage:Q,bucketId:ee.bucketId,leverageType:ee.leverageType,reason:ee.reason});w(Q),c({success:!0,message:"Leverage changed successfully",orderId:ve.txhash}),await B()}catch(ve){c({success:!1,error:ve instanceof Error?ve.message:"Unknown error"})}finally{a(!1)}},[e,t,F,B]),te=I.useCallback(Q=>{const ee=W(),ve=ee*Q/100,ge=q();let Re=ge>0?ve/ge:0;if(L!==void 0&&L>0&&Re<L&&(Re=0),$!==void 0&&$>0&&Re>$)if(Re=$,Re>0&&ee>0&&ge>0){const je=Re*ge/ee*100;f(Math.min(100,Math.max(0,je)))}else f(Q);else f(Q);g(Re)},[W,q,$,L]),re=I.useCallback(Q=>{let ee=isNaN(Q)||Q<0?0:Q;$!==void 0&&$>0&&ee>$&&(ee=$),g(ee);const ve=W(),ge=q();if(ee>0&&ve>0&&ge>0){const Re=ee*ge/ve*100;f(Math.min(100,Math.max(0,Re)))}else f(0)},[W,q,$]);return{orderType:u,setOrderType:h,fundPercent:d,sizeInput:m,price:v,leverage:b,positionMode:S,marginMode:k,availableBalance:T,currentPrice:R,marketId:F,isReady:t,loading:o,result:l,setFundPercent:te,setSizeInput:re,setPrice:y,setLeverage:w,setPositionMode:_,setMarginMode:C,setMarketId:N,placeBuyOrder:K,placeSellOrder:Y,changeLeverage:ne,loadBalance:B,loadMarketPrice:j,calculateSize:V,calculateSizeUSD:X,calculateValue:Z,calculateMargin:H,getOrderPrice:q,getAvailableTradeAmount:W}}const _he=["lastPrice","priceFeed","markPrice","orderbook","trades"],She=["positions","orders","funding_rate","deviation","twap","kline"];function khe(n){if(!n||typeof n!="string")return null;const e=n.trim();if(!e)return null;if(e==="buckets")return{type:"buckets"};const t=e.split(":");if(t.length===2){const[r,i]=t;if(_he.includes(r))return{type:"multiplex",streamType:r,marketId:i};if(She.includes(r))return{type:"multiFeed",subChannel:r,marketId:i}}return t.length===3&&t[0]==="kline"?{type:"multiFeed",subChannel:"kline",marketId:t[1],interval:t[2]}:null}const JG=I.createContext(null),Che={lastPrice:null,markPrice:null,displayPrice:null,displayTimestamp:null,recentTrades:[],loading:!0,error:null,isConnected:!1,priceChange:null},Ehe=({children:n,defaultWsURL:e=due,defaultBaseURL:t,defaultAuthToken:r,defaultWalletAddress:i,defaultDeviceID:s})=>{const[o,a]=I.useState(!1),[l,c]=I.useState(!1),[u,h]=I.useState(rn.Disconnected),[d,f]=I.useState(null),[m,g]=I.useState(e),[v,y]=I.useState(t),[b,w]=I.useState(r),[S,_]=I.useState(i),[k,C]=I.useState(s),[T,O]=I.useState(null),[R,D]=I.useState(null),F=I.useCallback(me=>{y(me)},[]),N=I.useRef(new LN({url:e,authToken:r,walletAddress:i,deviceID:s})),z=I.useRef(e),$=I.useRef(null),L=I.useRef(new Map),B=I.useRef(new Map),j=I.useRef(new Map),q=I.useRef(new Map),W=I.useRef(new Map),V=I.useRef(new Map),X=I.useRef(!1);I.useEffect(()=>{if(z.current!==m){$.current&&($.current(),$.current=null),N.current.disconnect(),L.current.clear();const oe=new LN({url:m,authToken:b,walletAddress:S,deviceID:k});N.current=oe,z.current=m}if(o){if(!$.current){const oe=N.current.onStateChange(De=>{h(De),c(De===rn.Connected),De===rn.Connected&&(f(null),X.current=!0)});$.current=oe}N.current.isConnected()||N.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),f(null)}).catch(oe=>{const De=oe instanceof Error?oe:new Error(String(oe));console.error("[SubscriptionContext] Failed to connect:",De),f(De)})}else $.current&&($.current(),$.current=null),N.current.isConnected()&&N.current.disconnect(),L.current.clear(),j.current.clear(),h(rn.Disconnected),c(!1),f(null);return()=>{$.current&&($.current(),$.current=null),N.current.isConnected()&&N.current.disconnect()}},[o,m,b,S,k]),I.useEffect(()=>{N.current&&o&&b&&S&&k&&N.current.setAuthToken(b,S,k)},[o,b,S,k]);const Z=I.useCallback(me=>{const le=N.current;if(!le||!le.isConnected()||!le.isReadyForSubscriptions())return;const oe=khe(me);if(!oe){console.warn("[SubscriptionContext] Invalid subscription key:",me);return}const De=V.current.get(me);if(!De||De.refCount<1)return;const Ve=ye=>{B.current.set(me,ye),De.callbacks.forEach(xe=>{try{xe(ye)}catch(ae){console.error("[SubscriptionContext] Callback error for key",me,ae)}})};if(oe.type==="multiplex"&&oe.streamType&&oe.marketId!=null){const ye=Number(oe.marketId),xe=Number.isNaN(ye)?0:ye,ae=oe.streamType,Ee={stream_type:ae,filter:ae==="orderbook"?{marketIndices:[xe],includeSnapshot:!0}:{marketIndices:[xe]}},Ae=le.getMultiplexStreamClient();Ae.subscribeToChannel().then(()=>Ae.subscribeStreams([Ee])).then(()=>{const we=Ae.onStreamData(ae,Ie=>{Ie.data!=null&&Ve(Ie.data)});De.unsubFns.push(we)}).catch(we=>{const Ie=we instanceof Error?we:new Error(String(we));console.error("[SubscriptionContext] Multiplex subscribe error:",me,Ie),f(Ie)});return}if(oe.type==="buckets"){try{const ye=()=>{le.unsubscribeBuckets(xe)},xe=ae=>Ve(ae);le.subscribeBuckets(xe),De.unsubFns.push(ye)}catch(ye){const xe=ye instanceof Error?ye:new Error(String(ye));console.error("[SubscriptionContext] Buckets subscribe error:",xe),f(xe)}return}if(oe.type==="multiFeed"&&oe.subChannel&&oe.marketId!=null)try{const ye={};oe.subChannel==="kline"&&oe.interval&&(ye.interval=oe.interval,ye.symbol="BTC/USDC");const xe=Ee=>Ve(Ee);le.subscribeMultiFeedSubChannel(oe.subChannel,oe.marketId,xe,Object.keys(ye).length>0?ye:void 0);const ae=()=>{le.unsubscribeMultiFeedSubChannel(oe.subChannel,xe)};De.unsubFns.push(ae)}catch(ye){const xe=ye instanceof Error?ye:new Error(String(ye));console.error("[SubscriptionContext] MultiFeed subscribe error:",me,xe),f(xe)}},[]),H=I.useCallback((me,le)=>{var Ve,ye;if(!me||typeof le!="function")return;let oe=V.current.get(me);oe||(oe={refCount:0,callbacks:new Set,unsubFns:[]},V.current.set(me,oe));const De=oe.refCount===0;oe.refCount+=1,oe.callbacks.add(le),De&&((Ve=N.current)!=null&&Ve.isConnected())&&((ye=N.current)!=null&&ye.isReadyForSubscriptions())&&Z(me)},[Z]),K=I.useCallback((me,le)=>{const oe=V.current.get(me);oe&&(oe.callbacks.delete(le),oe.refCount-=1,oe.refCount<=0&&(oe.unsubFns.forEach(De=>{try{De()}catch(Ve){console.warn("[SubscriptionContext] Unsubscribe fn error:",Ve)}}),oe.unsubFns.length=0,V.current.delete(me),B.current.delete(me)))},[]),Y=I.useCallback(me=>B.current.get(me)??null,[]),ne=I.useCallback(()=>{var le,oe;if(!((le=N.current)!=null&&le.isConnected())||!((oe=N.current)!=null&&oe.isReadyForSubscriptions())){X.current=!0;return}X.current=!1,Array.from(V.current.keys()).forEach(De=>{const Ve=V.current.get(De);Ve&&Ve.refCount>0&&(Ve.unsubFns.forEach(ye=>{try{ye()}catch(xe){console.warn("[SubscriptionContext] Resubscribe cleanup:",xe)}}),Ve.unsubFns.length=0,Z(De))})},[Z]);I.useEffect(()=>{if(l&&o&&X.current){const me=setTimeout(()=>{ne()},100);return()=>clearTimeout(me)}},[l,o,ne]);const te=I.useCallback((me,le,oe,De)=>{if(!N.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!me||typeof me!="string"){console.warn("[SubscriptionContext] Invalid marketId:",me);return}if(q.current.has(me))return;const Ve=Number(me),ye=Number.isNaN(Ve)?0:Ve,xe=[{stream_type:"priceFeed",filter:{marketIndices:[ye]}},{stream_type:"markPrice",filter:{marketIndices:[ye]}},{stream_type:"orderbook",filter:{marketIndices:[ye],includeSnapshot:!0}},{stream_type:"trades",filter:{marketIndices:[ye]}}],ae=N.current.getMultiplexStreamClient(),Ee=[],Ae=(we,Ie)=>{const st={type:"data",channel:"multiplex",subChannel:we,data:Ie};L.current.set(we,st);const Kt=q.current.get(me);Kt==null||Kt.callback(st)};q.current.set(me,{subs:xe,unsubFns:Ee,callback:oe}),ae.subscribeToChannel().then(()=>ae.subscribeStreams(xe)).then(()=>{Ee.push(ae.onStreamData("priceFeed",we=>{we.data!=null&&Ae("priceFeed",we.data)})),Ee.push(ae.onStreamData("markPrice",we=>{we.data!=null&&Ae("markPrice",we.data)})),Ee.push(ae.onStreamData("orderbook",we=>{we.data!=null&&Ae("orderbook",we.data)})),Ee.push(ae.onStreamData("trades",we=>{we.data!=null&&Ae("trades",we.data)}))}).catch(we=>{const Ie=we instanceof Error?we:new Error(String(we));console.error("[SubscriptionContext] Multiplex subscription error:",Ie),f(Ie),q.current.delete(me)})},[]),re=I.useCallback((me,le,oe,De,Ve)=>{if(!N.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!me||typeof me!="string"){console.warn("[SubscriptionContext] Invalid marketId:",me);return}if(le!=null&&le!==""&&(typeof le!="string"||!le.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty or BASE/QUOTE):",le);return}if(!oe||typeof oe!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",oe);return}const ye=`subChannel:${me}:${oe}`;if(W.current.has(ye))return;const xe=Number(me),ae=Number.isNaN(xe)?0:xe,Ee={stream_type:oe,filter:oe==="orderbook"?{marketIndices:[ae],includeSnapshot:!0}:{marketIndices:[ae]}},Ae=N.current.getMultiplexStreamClient();Ae.subscribeToChannel().then(()=>Ae.subscribeStreams([Ee])).then(()=>{const we=Ae.onStreamData(oe,Ie=>{if(Ie.data==null)return;const st={type:"data",channel:"multiplex",subChannel:oe,data:Ie.data};L.current.set(ye,st),L.current.set(oe,st),De(Ie.data)});W.current.set(ye,{unsubFn:we,sub:Ee})}).catch(we=>{const Ie=we instanceof Error?we:new Error(String(we));console.error("[SubscriptionContext] Sub-channel subscription error:",Ie),f(Ie)})},[]),Q=I.useCallback((me,le,oe)=>{if(!N.current)return;const De=q.current.get(me);if(De)try{De.unsubFns.forEach(Ve=>Ve()),De.subs.length>0&&N.current.getMultiplexStreamClient().unsubscribeStreams(De.subs),q.current.delete(me)}catch(Ve){const ye=Ve instanceof Error?Ve:new Error(String(Ve));console.error("[SubscriptionContext] Unsubscribe error:",ye),f(ye),q.current.delete(me)}},[]),ee=I.useCallback((me,le,oe)=>{if(!N.current)return;const De=`subChannel:${me}:${le}`,Ve=W.current.get(De);if(Ve)try{Ve.unsubFn(),N.current.getMultiplexStreamClient().unsubscribeStreams([Ve.sub]),W.current.delete(De)}catch(ye){const xe=ye instanceof Error?ye:new Error(String(ye));console.error("[SubscriptionContext] Unsubscribe error:",xe),f(xe)}},[]),ve=I.useCallback(()=>{a(me=>!me)},[]),ge=I.useCallback(me=>{a(me)},[]),We=I.useCallback(me=>L.current.get(me)||null,[]),Re=I.useCallback(()=>new Map(L.current),[]),Me=I.useCallback(me=>{me?L.current.delete(me):L.current.clear()},[]),je=I.useCallback(()=>{f(null)},[]),it=I.useCallback(me=>{O(me)},[]),Be=I.useRef(null),Ue=I.useRef(null);Ue.current=T;const Xe=I.useRef(null),Ye=I.useRef(null),ut=I.useCallback(async()=>{const me=Ue.current;if(!(!me||!v))try{const oe=await new io({baseURL:v}).getMarketTrades(me,100);if(oe&&Array.isArray(oe)&&oe.length>0){const De=RN(oe),ye=[...oe].sort((xe,ae)=>us(ae.timestamp)-us(xe.timestamp))[0];D(xe=>{if(!xe)return xe;const ae=ct(ye.price);return{...xe,recentTrades:De,lastPrice:{marketIndex:me,price:ae,quantity:ct(ye.quantity),timestamp:us(ye.timestamp),isBuyerMaker:!1,tradeId:ye.tradeId||""},displayPrice:ae,displayTimestamp:us(ye.timestamp),loading:!1}})}}catch(le){D(oe=>oe?{...oe,error:le instanceof Error?le.message:"Failed to refresh",loading:!1}:null)}},[v]);I.useEffect(()=>{const me=T;if(!me){if(Be.current){const xe=Be.current,ae=Xe.current,Ee=Ye.current;ae&&K(`lastPrice:${xe}`,ae),Ee&&K(`markPrice:${xe}`,Ee),Xe.current=null,Ye.current=null}D(null),Be.current=null;return}const le=Be.current;if(le&&le!==me){const xe=Xe.current,ae=Ye.current;xe&&K(`lastPrice:${le}`,xe),ae&&K(`markPrice:${le}`,ae),Xe.current=null,Ye.current=null}D(xe=>({...Che,loading:!0,error:null,isConnected:l}));const oe=`lastPrice:${me}`,De=`markPrice:${me}`,Ve=xe=>{const ae=xe;if(!(ae!=null&&ae.price))return;const Ee=ct(ae.price),Ae=ct(ae.quantity??"0"),we=jM(ae.timestamp);D(Ie=>{if(!Ie)return Ie;const st={marketIndex:me,price:Ee,quantity:Ae,timestamp:we,isBuyerMaker:ae.isBuyerMaker??!1,tradeId:ae.tradeId??""};let Kt=null;Ie.lastPrice&&typeof Ie.lastPrice.price=="number"&&(Ee>Ie.lastPrice.price?Kt="up":Ee<Ie.lastPrice.price&&(Kt="down"));const $t=ae.derived?Ie.recentTrades:[{time:we,size:Ae,price:Ee,isBuyerMaker:ae.isBuyerMaker??!1},...Ie.recentTrades].slice(0,100),fn=st.price;return{...Ie,lastPrice:st,recentTrades:$t,displayPrice:fn,displayTimestamp:we,priceChange:Kt,loading:!1}})},ye=xe=>{const ae=xe;if((ae==null?void 0:ae.markPrice)==null)return;const Ee=ct(ae.markPrice),Ae=jM(ae.timestamp);D(we=>{var $t,fn;if(!we)return we;const Ie={symbol:ae.symbol||"",markPrice:Ee,timestamp:Ae},st=($t=we.lastPrice)!=null&&$t.timestamp&&we.lastPrice.timestamp>=Ae?we.displayPrice:Ee,Kt=(fn=we.lastPrice)!=null&&fn.timestamp&&we.lastPrice.timestamp>=Ae?we.displayTimestamp??0:Ae;return{...we,markPrice:Ie,displayPrice:st??Ee,displayTimestamp:Kt??Ae,loading:!1}})};return Xe.current=Ve,Ye.current=ye,H(oe,Ve),H(De,ye),v?new io({baseURL:v}).getMarketTrades(me,100).then(ae=>{if(ae&&Array.isArray(ae)&&ae.length>0){const Ee=RN(ae),we=[...ae].sort((Ie,st)=>us(st.timestamp)-us(Ie.timestamp))[0];D(Ie=>{if(!Ie)return Ie;const st=ct(we.price);return{...Ie,recentTrades:Ee,lastPrice:{marketIndex:me,price:st,quantity:ct(we.quantity),timestamp:us(we.timestamp),isBuyerMaker:!1,tradeId:we.tradeId||""},displayPrice:st,displayTimestamp:us(we.timestamp),loading:!1}})}else D(Ee=>Ee?{...Ee,loading:!1}:null)}).catch(ae=>{D(Ee=>Ee?{...Ee,error:ae instanceof Error?ae.message:"Failed to load trades",loading:!1}:null)}):D(xe=>xe?{...xe,loading:!1}:null),Be.current=me,()=>{K(oe,Ve),K(De,ye),Xe.current=null,Ye.current=null,Be.current===me&&(Be.current=null)}},[T,v,l,H,K]);const Ut=I.useMemo(()=>({client:N.current,isEnabled:o,isConnected:l,connectionState:u,error:d,toggleEnabled:ve,setEnabled:ge,clearError:je,subscribe:H,unsubscribe:K,getRetainedDataByKey:Y,tradePriceMarketId:T,tradePriceData:R,setTradePriceMarketId:it,refreshTradePrice:ut,baseURL:v,setBaseURL:F,getRetainedData:We,getAllRetainedData:Re,clearRetainedData:Me,wsURL:m,setWsURL:g,authToken:b,setAuthToken:w,walletAddress:S,setWalletAddress:_,deviceID:k,setDeviceID:C,subscribeMultiFeedWithRetention:te,subscribeSubChannelWithRetention:re,unsubscribeMultiFeed:Q,unsubscribeSubChannel:ee}),[o,l,u,d,ve,ge,je,H,K,Y,T,R,it,ut,v,F,We,Re,Me,m,b,S,k,te,re,Q,ee]);return E.jsx(JG.Provider,{value:Ut,children:n})},ni=()=>{const n=I.useContext(JG);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function zN(n,e){return{asks:[],bids:[],spread:0,midPrice:0,marketIndex:n.marketIndex||e||"",sequenceId:n.sequenceId||"",firstUpdateId:n.firstUpdateId||0,lastUpdateId:n.lastUpdateId||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function x0(n){return n.map(([e,t])=>[typeof e=="string"?parseFloat(e):e,typeof t=="string"?parseFloat(t):t])}function ou(n){const e=[...n].sort((r,i)=>i[0]-r[0]);let t=0;return e.map(([r,i])=>(t+=i,{price:r,size:i,cumulative:t,flash:null}))}function ZG(n){const e=n.useWebSocket!==!1,[t,r]=I.useState([]),[i,s]=I.useState([]),[o,a]=I.useState(0),[l,c]=I.useState(0),[u,h]=I.useState(""),[d,f]=I.useState(""),[m,g]=I.useState(0),[v,y]=I.useState(0),[b,w]=I.useState(""),[S,_]=I.useState(""),[k,C]=I.useState(!0),[T,O]=I.useState(null),[R,D]=I.useState(!1),[F,N]=I.useState(null),z=I.useRef(null),$=I.useRef(null),L=I.useRef(null),B=I.useRef(new Map),j=I.useRef(null),q=I.useRef({asks:[],bids:[],spread:0,midPrice:0,marketIndex:"",sequenceId:"",firstUpdateId:0,lastUpdateId:0,checksum:"",timestamp:""});I.useEffect(()=>{q.current={asks:t,bids:i,spread:o,midPrice:l,marketIndex:u,sequenceId:d,firstUpdateId:m,lastUpdateId:v,checksum:b,timestamp:S}},[t,i,o,l,u,d,m,v,b,S]);const W=I.useCallback((Q,ee)=>{const ve=new Map,ge=new Map,We=new Map,Re=new Map;Q.asks.forEach(le=>{le.size>0&&ve.set(le.price,le.size)}),Q.bids.forEach(le=>{le.size>0&&ge.set(le.price,le.size)}),ee.asks&&ee.asks.forEach(([le,oe])=>{if(typeof le!="number"||typeof oe!="number"||isNaN(le)||isNaN(oe)||le<=0||oe<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:le,size:oe});return}const De=ve.get(le)??0,Ve=ve.has(le);oe===0?Ve&&ve.delete(le):Ve?De!==oe&&(ve.set(le,oe),We.set(le,oe>De?"up":"down")):(ve.set(le,oe),We.set(le,"up"))}),ee.bids&&ee.bids.forEach(([le,oe])=>{if(typeof le!="number"||typeof oe!="number"||isNaN(le)||isNaN(oe)||le<=0||oe<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:le,size:oe});return}const De=ge.get(le)??0,Ve=ge.has(le);oe===0?Ve&&ge.delete(le):Ve?De!==oe&&(ge.set(le,oe),Re.set(le,oe>De?"up":"down")):(ge.set(le,oe),Re.set(le,"up"))});const Me=Array.from(ve.entries()),je=Array.from(ge.entries()),it=ou(Me),Be=ou(je),Ue=Date.now();if(it.forEach(le=>{const oe=We.get(le.price);oe?(le.flash=oe,B.current.set(`ask-${le.price}`,Ue)):le.flash=null}),Be.forEach(le=>{const oe=Re.get(le.price);oe?(le.flash=oe,B.current.set(`bid-${le.price}`,Ue)):le.flash=null}),We.size>0||Re.size>0){const le=it.filter(De=>De.flash!==null).length,oe=Be.filter(De=>De.flash!==null).length;(le!==We.size||oe!==Re.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:We.size,appliedAskFlashes:le,bidChangesCount:Re.size,appliedBidFlashes:oe})}const Xe=n.maxDepth||100,Ye=it.slice(0,Xe),ut=Be.slice(0,Xe);let Ut=0,me=0;if(Ye.length>0&&ut.length>0){const le=Ye[Ye.length-1].price,oe=ut[0].price;Ut=le-oe,me=(le+oe)/2}return{asks:Ye,bids:ut,spread:Ut,midPrice:me,marketIndex:Q.marketIndex,sequenceId:Q.sequenceId,firstUpdateId:Q.firstUpdateId,lastUpdateId:Q.lastUpdateId,checksum:Q.checksum,timestamp:Q.timestamp}},[n.maxDepth]),V=I.useCallback(async(Q,ee={})=>{if(!z.current){ee.errorMessage&&console.error(ee.errorMessage);return}const{setLoadingState:ve=!1,updateMarketIdRef:ge=!1}=ee;ve&&(C(!0),O(null));try{const We=await z.current.getOrderbook(Q,!0);if(We&&(We.bids||We.asks)){const Re=x0(We.asks||[]),Me=x0(We.bids||[]),je=ou(Re),it=ou(Me),Be=n.maxDepth||100,Ue=je.slice(0,Be),Xe=it.slice(0,Be);let Ye=0,ut=0;if(Ue.length>0&&Xe.length>0){const le=Ue[Ue.length-1].price,oe=Xe[0].price;Ye=le-oe,ut=(le+oe)/2}ge&&($.current=Q);const Ut=q.current,me={asks:Ue,bids:Xe,spread:Ye,midPrice:ut,marketIndex:Q,sequenceId:Ut.sequenceId||"",firstUpdateId:Ut.firstUpdateId||0,lastUpdateId:Ut.lastUpdateId||0,checksum:Ut.checksum||"",timestamp:Ut.timestamp||new Date().toISOString()};return r(Ue),s(Xe),a(Ye),c(ut),h(Q),f(me.sequenceId),g(me.firstUpdateId),y(me.lastUpdateId),w(me.checksum),_(me.timestamp),me}}catch(We){const Re=ee.errorMessage||(We instanceof Error?We.message:"Failed to load orderbook");ve?O(Re):console.error(Re)}finally{ve&&C(!1)}},[n.maxDepth]),X=I.useCallback(async()=>{const Q=q.current,ee=zN(Q);r(ee.asks),s(ee.bids),a(ee.spread),c(ee.midPrice),await V(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,V]),Z=I.useCallback(async()=>{const Q=q.current,ee=zN(Q,n.marketId);r(ee.asks),s(ee.bids),a(ee.spread),c(ee.midPrice),h(ee.marketIndex),await V(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,V]),H=I.useCallback(async Q=>{const ee=await V(Q,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${Q}`});return ee&&console.log(`[useOrderbook] Fetched snapshot for market ${Q} and updated orderbook`),ee},[V]),K=I.useCallback((Q,ee)=>{if(Q.snapshot===!0||Q.type==="snapshot"){const ge=x0(Q.asks||[]),We=x0(Q.bids||[]),Re=ou(ge),Me=ou(We),je=n.maxDepth||100,it=Re.slice(0,je),Be=Me.slice(0,je);let Ue=0,Xe=0;if(it.length>0&&Be.length>0){const Ye=it[it.length-1].price,ut=Be[0].price;Ue=Ye-ut,Xe=(Ye+ut)/2}return{asks:it,bids:Be,spread:Ue,midPrice:Xe,marketIndex:Q.marketIndex??ee.marketIndex,sequenceId:Q.sequenceId||ee.sequenceId,firstUpdateId:Q.firstUpdateId??ee.firstUpdateId,lastUpdateId:Q.lastUpdateId??ee.lastUpdateId,checksum:Q.checksum||ee.checksum,timestamp:Q.timestamp||ee.timestamp,snapshot:Q.snapshot}}else{const ge=W(ee,{bids:Q.bids,asks:Q.asks});return{...ge,marketIndex:Q.marketIndex??ge.marketIndex,sequenceId:Q.sequenceId||ge.sequenceId,firstUpdateId:Q.firstUpdateId??ge.firstUpdateId,lastUpdateId:Q.lastUpdateId??ge.lastUpdateId,checksum:Q.checksum||ge.checksum,timestamp:Q.timestamp||ge.timestamp}}},[W,n.maxDepth]),Y=I.useCallback(async Q=>{if(!Q||!Q.bids&&!Q.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}const ee=Q.sequenceId??Q.sequence_id;if(!Q.marketIndex||ee===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing marketIndex or sequenceId)",{hasMarketId:!!Q.marketIndex,hasSequenceId:ee!==void 0});return}const ve=$.current||n.marketId;let ge=q.current;if(Q.marketIndex!==ve){console.log(`[useOrderbook] Received update for market ${Q.marketIndex}, current market is ${ve}. Fetching snapshot...`);const je=await H(Q.marketIndex);je&&(ge=je)}const We=Q,Re={marketIndex:Q.marketIndex??"",sequenceId:Q.sequenceId??We.sequence_id??"",firstUpdateId:Q.firstUpdateId??We.first_update_id??0,lastUpdateId:Q.lastUpdateId??We.last_update_id??0,checksum:Q.checksum??"",timestamp:Q.timestamp??"",bids:(Q.bids??[]).map(([je,it])=>[ct(je),ct(it)]),asks:(Q.asks??[]).map(([je,it])=>[ct(je),ct(it)]),spread:0,midPrice:0,snapshot:Q.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:Re.marketIndex,sequenceId:Re.sequenceId,bidsCount:Re.bids.length,asksCount:Re.asks.length,isSnapshot:Re.snapshot});const Me=K(Re,ge);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:Re.sequenceId,bidsCount:Me.bids.length,asksCount:Me.asks.length,spread:Me.spread,midPrice:Me.midPrice,bestBid:Me.bids.length>0?Me.bids[0].price:null,bestAsk:Me.asks.length>0?Me.asks[Me.asks.length-1].price:null}),r(Me.asks),s(Me.bids),a(Me.spread),c(Me.midPrice),h(Me.marketIndex),f(Me.sequenceId),g(Me.firstUpdateId),y(Me.lastUpdateId),w(Me.checksum),_(Me.timestamp)},[K,H,n.marketId]);j.current=Y;const{subscribe:ne,unsubscribe:te,isConnected:re}=ni();return I.useEffect(()=>{const Q=new io({baseURL:n.baseURL});if(z.current=Q,$.current===null&&($.current=n.marketId),e){D(re),N(re?null:"WebSocket not connected. Using HTTP polling.");const ee=`orderbook:${n.marketId}`,ve=ge=>{var We;(We=j.current)==null||We.call(j,ge)};return ne(ee,ve),!re&&z.current&&L.current===null&&(X(),L.current=window.setInterval(()=>X(),5e3)),()=>{L.current!==null&&(clearInterval(L.current),L.current=null),$.current=null,te(ee,ve)}}else return D(!1),N(null),z.current&&L.current===null&&(X(),L.current=window.setInterval(()=>X(),5e3)),()=>{L.current!==null&&(clearInterval(L.current),L.current=null),$.current=null}},[n.baseURL,n.marketId,e,re,ne,te]),I.useEffect(()=>{z.current&&(r([]),s([]),a(0),c(0),h(n.marketId),f(""),g(0),y(0),w(""),_(""),C(!0),O(null),N(null),Z(),$.current=n.marketId)},[n.marketId,e,Z]),I.useEffect(()=>(L.current!==null&&(clearInterval(L.current),L.current=null),(!e||!R&&e)&&z.current&&!n.disablePolling&&(X(),L.current=window.setInterval(()=>{X()},3e4)),()=>{L.current!==null&&(clearInterval(L.current),L.current=null)}),[R,e,n.marketId,n.disablePolling,X]),I.useEffect(()=>{const Q=setInterval(()=>{const ee=Date.now(),ve=500;let ge=!1;const We=t.map(Me=>{const je=`ask-${Me.price}`,it=B.current.get(je);return Me.flash&&it&&ee-it>=ve?(ge=!0,B.current.delete(je),{...Me,flash:null}):Me}),Re=i.map(Me=>{const je=`bid-${Me.price}`,it=B.current.get(je);return Me.flash&&it&&ee-it>=ve?(ge=!0,B.current.delete(je),{...Me,flash:null}):Me});ge&&(r(We),s(Re))},100);return()=>clearInterval(Q)},[t,i]),{asks:t,bids:i,spread:o,midPrice:l,market_id:u,sequence_id:d,first_update_id:m,last_update_id:v,checksum:b,timestamp:S,loading:k,error:T,isConnected:R,wsError:F,refresh:Z}}const eV={amountPct:.411,intervalMs:100,amountChangeThresholdPct:1.304,defaultMidPrice:7e4,defaultLevelsCount:20};function The(n,e=5){const t=Math.max(n*.001,1e-4),r=.1,i=[],s=[];for(let u=0;u<e;u++){const h=n+(e-u)*t,d=n-(u+1)*t;i.push({price:h,size:r*(1+u*.2),cumulative:0,flash:null}),s.push({price:d,size:r*(1+u*.2),cumulative:0,flash:null})}i.sort((u,h)=>h.price-u.price),s.sort((u,h)=>h.price-u.price);let o=0,a=0;const l=i.map(u=>(o+=u.size,{...u,cumulative:o})),c=s.map(u=>(a+=u.size,{...u,cumulative:a}));return{asks:l,bids:c}}const Mhe={maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3},l1={enabled:!1,jitter:eV,fakePending:Mhe},Ihe=1e-6;function tV(n,e,t){if(n===0||e<=0)return n;const r=n*e,s=((Math.sin(t*1e3)+1)/2-.5)*2*r;return Math.max(0,n+s)}function Phe(n,e,t,r,i){const s=tV(n,e,t);if(r===void 0||i===void 0||i<=0)return s;const o=Math.max(i*Ihe,.01);return r==="ask"?Math.max(s,i+o):Math.min(s,i-o)}function w0(n,e,t,r){if(n.length===0)return[];const i=e.amountPct,s=r==null?void 0:r.side,o=r==null?void 0:r.midPrice,a=n.map((c,u)=>{const h=t+c.price*1e6+u,d=t+c.size*1e3+u*7;return{...c,price:Phe(c.price,i,h,s,o),size:tV(c.size,i,d),cumulative:0}});a.sort((c,u)=>u.price-c.price);let l=0;return a.map(c=>(l+=c.size,{...c,cumulative:l}))}const c1=5e-4,u1=.0025;function qN(n,e,t,r,i){const s=Date.now(),o=r.minLifetimeMs+Math.random()*(r.maxLifetimeMs-r.minLifetimeMs),a=c1+Math.pow(Math.random(),1.6)*(u1-c1),l=e*a*(n==="ask"?1:-1),c=e+l,u=t*r.volumeScalePct*(.7+Math.random()*.6),d=1+.5*((u1-a)/(u1-c1)),f=Math.max(.01,u*d);return{price:c,size:f,cumulative:f,flash:null,isPending:!0,id:i,createdAt:s,expiresAt:s+o}}function UN(n,e,t){const r=[...n,...e];r.sort((o,a)=>a.price-o.price);const i=r.slice(0,t);let s=0;return i.map(o=>(s+=o.size,{...o,cumulative:s}))}function Ohe(n,e=l1,t=100){const r=e.enabled===!0,i=e.jitter??l1.jitter,s=e.fakePending??l1.fakePending,[o,a]=I.useState(n.asks),[l,c]=I.useState(n.bids),[u,h]=I.useState([]),[d,f]=I.useState([]),m=I.useRef(0),g=I.useRef(null),v=I.useRef(0),y=I.useRef(n),b=I.useRef(s),w=I.useRef(null);y.current=n,b.current=s;const S=(i==null?void 0:i.defaultMidPrice)??1,_=(i==null?void 0:i.defaultLevelsCount)??5,k=I.useMemo(()=>The(S,_),[S,_]),C=I.useMemo(()=>{const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids;if(R.length===0||D.length===0)return S;const F=Math.min(...R.map(z=>z.price)),N=Math.max(...D.map(z=>z.price));return(F+N)/2},[n.asks,n.bids,k,S]);I.useEffect(()=>{if(!r||!i)return;const R=n.asks.length>0?n.asks:k.asks,D=n.bids.length>0?n.bids:k.bids,F=R.reduce((X,Z)=>X+Z.size,0),N=D.reduce((X,Z)=>X+Z.size,0),z=w.current,$=i.amountChangeThresholdPct??0;if(z!==null&&$>0){const X=z.askTotal>0?Math.abs(F-z.askTotal)/z.askTotal:1,Z=z.bidTotal>0?Math.abs(N-z.bidTotal)/z.bidTotal:1;if(X<$&&Z<$)return}w.current={askTotal:F,bidTotal:N};const L=m.current,B={midPrice:C},j=w0(R,i,L,{...B,side:"ask"}),q=w0(D,i,L,{...B,side:"bid"}),W=j.length?Math.min(...j.map(X=>X.price)):1/0,V=q.length?Math.max(...q.map(X=>X.price)):-1/0;W<=V?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(R.map(X=>({...X}))),c(D.map(X=>({...X})))):(a(j),c(q))},[r,i,n.asks,n.bids,k,C]),I.useEffect(()=>{if(!r||!i)return;const R=i.intervalMs??500,D=setInterval(()=>{m.current+=1;const F=m.current,N=n.asks.length>0?n.asks:k.asks,z=n.bids.length>0?n.bids:k.bids,$={midPrice:C},L=w0(N,i,F,{...$,side:"ask"}),B=w0(z,i,F,{...$,side:"bid"}),j=L.length?Math.min(...L.map(W=>W.price)):1/0,q=B.length?Math.max(...B.map(W=>W.price)):-1/0;j<=q?(console.warn("useEnhancedOrderbook: crossed order book detected after jitter; falling back to raw data."),a(N.map(W=>({...W}))),c(z.map(W=>({...W})))):(a(L),c(B))},R);return()=>clearInterval(D)},[r,i,n.asks,n.bids,k,C]);const T=I.useRef(()=>{const R=b.current;if(!R)return;const D=R.minAddDelayMs+Math.random()*(R.maxAddDelayMs-R.minAddDelayMs);g.current=setTimeout(()=>{var j,q;g.current=null;const F=y.current,N=F.asks.length>0&&F.bids.length>0?(F.asks[F.asks.length-1].price+F.bids[0].price)/2:0,z=(((j=F.asks[F.asks.length-1])==null?void 0:j.size)??0)||(((q=F.bids[0])==null?void 0:q.size)??0)||1;if(N<=0){T.current();return}const $=b.current;if(!$)return;v.current+=1;const L=`fake-ask-${v.current}`,B=`fake-bid-${v.current}`;h(W=>[...W,qN("ask",N,z,$,L)].slice(-$.maxFakeLevelsPerSide)),f(W=>[...W,qN("bid",N,z,$,B)].slice(-$.maxFakeLevelsPerSide)),T.current()},D)});return I.useEffect(()=>{if(!(!r||!s))return T.current(),()=>{g.current&&(clearTimeout(g.current),g.current=null)}},[r]),I.useEffect(()=>{if(!r)return;const R=setInterval(()=>{const D=Date.now();h(F=>F.filter(N=>N.expiresAt>D)),f(F=>F.filter(N=>N.expiresAt>D))},500);return()=>clearInterval(R)},[r]),I.useEffect(()=>{r||(w.current=null,h([]),f([]),a(n.asks.map(R=>({...R}))),c(n.bids.map(R=>({...R}))))},[r,n.asks,n.bids]),I.useMemo(()=>{const R=n.isConnected?!1:n.loading??!1;if(!r)return{...n,loading:R,asks:n.asks.map(z=>({...z})),bids:n.bids.map(z=>({...z}))};const D=UN(o,u,t),F=UN(l,d,t);let N=n.spread;if(D.length>0&&F.length>0){const z=D[D.length-1].price,$=F[0].price;N=z-$}return{...n,loading:R,asks:D,bids:F,spread:N}},[r,n,o,l,u,d,t])}const Rhe={lastPrice:null,markPrice:null,displayPrice:null,displayTimestamp:null,recentTrades:[],loading:!0,error:null,isConnected:!1,priceChange:null};function nV(n){const{setTradePriceMarketId:e,tradePriceData:t,refreshTradePrice:r,setBaseURL:i,isConnected:s}=ni();I.useEffect(()=>{n.baseURL&&i(n.baseURL)},[n.baseURL,i]),I.useEffect(()=>{n.marketId&&n.marketId.trim()!==""&&e(n.marketId)},[n.marketId,e]);const o=t??Rhe,a=o.lastPrice,l=o.markPrice,c=o.loading,u=o.error,h=o.isConnected??s,d=o.priceChange,f=o.recentTrades,m=o.displayPrice,g=o.displayTimestamp,v=I.useMemo(()=>r,[r]);return{lastPrice:a,markPrice:l,displayPrice:m,displayTimestamp:g,recentTrades:f,loading:c,error:u,isConnected:h,priceChange:d,refresh:v,infoClient:null,isLastPriceData:nhe,isMarkPriceData:rhe}}const h1=n=>{if(n)return Array.isArray(n)?n[0]:n};function Dhe(n){const e=n.historyDepth??10,t=n.marketId,[r,i]=I.useState(void 0),[s,o]=I.useState(void 0),[a,l]=I.useState(void 0),[c,u]=I.useState(!0),[h,d]=I.useState(null),[f,m]=I.useState(!1),{subscribe:g,unsubscribe:v,isConnected:y}=ni();I.useEffect(()=>{if(u(!1),m(y),!t)return;i(void 0),o(void 0),l(void 0),d(null);const _=D=>{i(F=>e===1?D:[D,...Array.isArray(F)?F:F?[F]:[]].slice(0,e))},k=D=>{o(F=>e===1?D:[D,...Array.isArray(F)?F:F?[F]:[]].slice(0,e))},C=D=>{l(F=>e===1?D:[D,...Array.isArray(F)?F:F?[F]:[]].slice(0,e))},T=`funding_rate:${t}`,O=`deviation:${t}`,R=`twap:${t}`;return g(T,_),g(O,k),g(R,C),()=>{v(T,_),v(O,k),v(R,C)}},[t,e,y,g,v]);const b=I.useMemo(()=>h1(r),[r]),w=I.useMemo(()=>h1(s),[s]),S=I.useMemo(()=>h1(a),[a]);return{fundingRate:r,deviation:s,twap:a,latestFundingRate:b,latestDeviation:w,latestTWAP:S,loading:c,error:h,isConnected:f}}function Ahe(n){const e=n.useWebSocket!==!1,[t,r]=I.useState([]),[i,s]=I.useState(!0),[o,a]=I.useState(""),[l,c]=I.useState(!1),u=I.useRef(null),h=I.useRef(0),d=I.useRef(n);d.current=n;const f=I.useCallback(async()=>{if(!u.current)return;const b=d.current;if(!b.walletAddress||b.walletAddress.trim()===""){a(""),r([]),s(!1);return}a("");try{const w=await xO(bO.http,()=>u.current.getPositions(b.walletAddress));if(Array.isArray(w)){const S=w.map(DN);r(_=>{if(_.length!==S.length)return S;const k=JSON.stringify(_),C=JSON.stringify(S);return k===C?_:S})}else r(S=>S.length===0?S:[])}catch(w){a(w instanceof Error?w.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",w)}finally{s(!1)}},[]),m=I.useCallback(b=>{const w=b;if(w.marketIndex){const S=DN(w);r(_=>{const k=_.findIndex(C=>C.positionId===S.positionId);if(k>=0){const C=[..._];C[k]=S;const T=JSON.stringify(_),O=JSON.stringify(C);return T===O?_:C}else return[..._,S]})}},[]),{subscribe:g,unsubscribe:v,isConnected:y}=ni();return I.useEffect(()=>{const b=new io({baseURL:n.baseURL,sessionToken:n.authToken});u.current=b,f(),c(y);const S=`positions:${n.marketId??"0"}`,_=k=>m(k);return e?(g(S,_),!y&&n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>f(),n.refreshInterval)),()=>{h.current!==null&&h.current!==0&&(clearInterval(h.current),h.current=0),v(S,_)}):(n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>f(),n.refreshInterval)),()=>{h.current!==null&&h.current!==0&&(clearInterval(h.current),h.current=0)})},[n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,e,y,g,v,f,m]),{positions:t,loading:i,error:o,isConnected:l,refresh:f}}function Nhe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Lhe=n=>{switch(n){case"success":return jhe;case"info":return zhe;case"warning":return Bhe;case"error":return qhe;default:return null}},Fhe=Array(12).fill(0),$he=({visible:n,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},fe.createElement("div",{className:"sonner-spinner"},Fhe.map((t,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Bhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hhe=()=>{const[n,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let UM=1;class Whe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:UM++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async c=>{if(o=["resolve",c],fe.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Ghe(c)&&!c.ok){s=!1;const h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description,m=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(c instanceof Error){s=!1;const h=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}else if(t.success!==void 0){s=!1;const h=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description,m=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:d,...m})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;const u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description,f=typeof u=="object"&&!fe.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...f})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||UM++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ur=new Whe,Yhe=(n,e)=>{const t=(e==null?void 0:e.id)||UM++;return Ur.addToast({title:n,...e,id:t}),t},Ghe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Vhe=Yhe,Khe=()=>Ur.toasts,Xhe=()=>Ur.getActiveToasts(),tt=Object.assign(Vhe,{success:Ur.success,info:Ur.info,warning:Ur.warning,error:Ur.error,custom:Ur.custom,message:Ur.message,promise:Ur.promise,dismiss:Ur.dismiss,loading:Ur.loading},{getHistory:Khe,getToasts:Xhe});Nhe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _0(n){return n.label!==void 0}const Qhe=3,Jhe="24px",Zhe="16px",HN=4e3,ede=356,tde=14,nde=45,rde=200;function As(...n){return n.filter(Boolean).join(" ")}function ide(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const sde=n=>{var e,t,r,i,s,o,a,l,c;const{invert:u,toast:h,unstyled:d,interacting:f,setHeights:m,visibleToasts:g,heights:v,index:y,toasts:b,expanded:w,removeToast:S,defaultRichColors:_,closeButton:k,style:C,cancelButtonStyle:T,actionButtonStyle:O,className:R="",descriptionClassName:D="",duration:F,position:N,gap:z,expandByDefault:$,classNames:L,icons:B,closeButtonAriaLabel:j="Close toast"}=n,[q,W]=fe.useState(null),[V,X]=fe.useState(null),[Z,H]=fe.useState(!1),[K,Y]=fe.useState(!1),[ne,te]=fe.useState(!1),[re,Q]=fe.useState(!1),[ee,ve]=fe.useState(!1),[ge,We]=fe.useState(0),[Re,Me]=fe.useState(0),je=fe.useRef(h.duration||F||HN),it=fe.useRef(null),Be=fe.useRef(null),Ue=y===0,Xe=y+1<=g,Ye=h.type,ut=h.dismissible!==!1,Ut=h.className||"",me=h.descriptionClassName||"",le=fe.useMemo(()=>v.findIndex(Pe=>Pe.toastId===h.id)||0,[v,h.id]),oe=fe.useMemo(()=>{var Pe;return(Pe=h.closeButton)!=null?Pe:k},[h.closeButton,k]),De=fe.useMemo(()=>h.duration||F||HN,[h.duration,F]),Ve=fe.useRef(0),ye=fe.useRef(0),xe=fe.useRef(0),ae=fe.useRef(null),[Ee,Ae]=N.split("-"),we=fe.useMemo(()=>v.reduce((Pe,ce,dt)=>dt>=le?Pe:Pe+ce.height,0),[v,le]),Ie=Hhe(),st=h.invert||u,Kt=Ye==="loading";ye.current=fe.useMemo(()=>le*z+we,[le,we]),fe.useEffect(()=>{je.current=De},[De]),fe.useEffect(()=>{H(!0)},[]),fe.useEffect(()=>{const Pe=Be.current;if(Pe){const ce=Pe.getBoundingClientRect().height;return Me(ce),m(dt=>[{toastId:h.id,height:ce,position:h.position},...dt]),()=>m(dt=>dt.filter(ot=>ot.toastId!==h.id))}},[m,h.id]),fe.useLayoutEffect(()=>{if(!Z)return;const Pe=Be.current,ce=Pe.style.height;Pe.style.height="auto";const dt=Pe.getBoundingClientRect().height;Pe.style.height=ce,Me(dt),m(ot=>ot.find($e=>$e.toastId===h.id)?ot.map($e=>$e.toastId===h.id?{...$e,height:dt}:$e):[{toastId:h.id,height:dt,position:h.position},...ot])},[Z,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const $t=fe.useCallback(()=>{Y(!0),We(ye.current),m(Pe=>Pe.filter(ce=>ce.toastId!==h.id)),setTimeout(()=>{S(h)},rde)},[h,S,m,ye]);fe.useEffect(()=>{if(h.promise&&Ye==="loading"||h.duration===1/0||h.type==="loading")return;let Pe;return w||f||Ie?(()=>{if(xe.current<Ve.current){const ot=new Date().getTime()-Ve.current;je.current=je.current-ot}xe.current=new Date().getTime()})():(()=>{je.current!==1/0&&(Ve.current=new Date().getTime(),Pe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),$t()},je.current))})(),()=>clearTimeout(Pe)},[w,f,h,Ye,Ie,$t]),fe.useEffect(()=>{h.delete&&($t(),h.onDismiss==null||h.onDismiss.call(h,h))},[$t,h.delete]);function fn(){var Pe;if(B!=null&&B.loading){var ce;return fe.createElement("div",{className:As(L==null?void 0:L.loader,h==null||(ce=h.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Ye==="loading"},B.loading)}return fe.createElement($he,{className:As(L==null?void 0:L.loader,h==null||(Pe=h.classNames)==null?void 0:Pe.loader),visible:Ye==="loading"})}const Un=h.icon||(B==null?void 0:B[Ye])||Lhe(Ye);var ht,pt;return fe.createElement("li",{tabIndex:0,ref:Be,className:As(R,Ut,L==null?void 0:L.toast,h==null||(e=h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ye],h==null||(t=h.classNames)==null?void 0:t[Ye]),"data-sonner-toast":"","data-rich-colors":(ht=h.richColors)!=null?ht:_,"data-styled":!(h.jsx||h.unstyled||d),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":ee,"data-removed":K,"data-visible":Xe,"data-y-position":Ee,"data-x-position":Ae,"data-index":y,"data-front":Ue,"data-swiping":ne,"data-dismissible":ut,"data-type":Ye,"data-invert":st,"data-swipe-out":re,"data-swipe-direction":V,"data-expanded":!!(w||$&&Z),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${K?ge:ye.current}px`,"--initial-height":$?"auto":`${Re}px`,...C,...h.style},onDragEnd:()=>{te(!1),W(null),ae.current=null},onPointerDown:Pe=>{Pe.button!==2&&(Kt||!ut||(it.current=new Date,We(ye.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(te(!0),ae.current={x:Pe.clientX,y:Pe.clientY})))},onPointerUp:()=>{var Pe,ce,dt;if(re||!ut)return;ae.current=null;const ot=Number(((Pe=Be.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ne=Number(((ce=Be.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$e=new Date().getTime()-((dt=it.current)==null?void 0:dt.getTime()),Oe=q==="x"?ot:Ne,At=Math.abs(Oe)/$e;if(Math.abs(Oe)>=nde||At>.11){We(ye.current),h.onDismiss==null||h.onDismiss.call(h,h),X(q==="x"?ot>0?"right":"left":Ne>0?"down":"up"),$t(),Q(!0);return}else{var Ze,jt;(Ze=Be.current)==null||Ze.style.setProperty("--swipe-amount-x","0px"),(jt=Be.current)==null||jt.style.setProperty("--swipe-amount-y","0px")}ve(!1),te(!1),W(null)},onPointerMove:Pe=>{var ce,dt,ot;if(!ae.current||!ut||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;const $e=Pe.clientY-ae.current.y,Oe=Pe.clientX-ae.current.x;var At;const Ze=(At=n.swipeDirections)!=null?At:ide(N);!q&&(Math.abs(Oe)>1||Math.abs($e)>1)&&W(Math.abs(Oe)>Math.abs($e)?"x":"y");let jt={x:0,y:0};const de=Ce=>1/(1.5+Math.abs(Ce)/20);if(q==="y"){if(Ze.includes("top")||Ze.includes("bottom"))if(Ze.includes("top")&&$e<0||Ze.includes("bottom")&&$e>0)jt.y=$e;else{const Ce=$e*de($e);jt.y=Math.abs(Ce)<Math.abs($e)?Ce:$e}}else if(q==="x"&&(Ze.includes("left")||Ze.includes("right")))if(Ze.includes("left")&&Oe<0||Ze.includes("right")&&Oe>0)jt.x=Oe;else{const Ce=Oe*de(Oe);jt.x=Math.abs(Ce)<Math.abs(Oe)?Ce:Oe}(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&ve(!0),(dt=Be.current)==null||dt.style.setProperty("--swipe-amount-x",`${jt.x}px`),(ot=Be.current)==null||ot.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},oe&&!h.jsx&&Ye!=="loading"?fe.createElement("button",{"aria-label":j,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!ut?()=>{}:()=>{$t(),h.onDismiss==null||h.onDismiss.call(h,h)},className:As(L==null?void 0:L.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(pt=B==null?void 0:B.close)!=null?pt:Uhe):null,(Ye||h.icon||h.promise)&&h.icon!==null&&((B==null?void 0:B[Ye])!==null||h.icon)?fe.createElement("div",{"data-icon":"",className:As(L==null?void 0:L.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||fn():null,h.type!=="loading"?Un:null):null,fe.createElement("div",{"data-content":"",className:As(L==null?void 0:L.content,h==null||(s=h.classNames)==null?void 0:s.content)},fe.createElement("div",{"data-title":"",className:As(L==null?void 0:L.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?fe.createElement("div",{"data-description":"",className:As(D,me,L==null?void 0:L.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),fe.isValidElement(h.cancel)?h.cancel:h.cancel&&_0(h.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Pe=>{_0(h.cancel)&&ut&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Pe),$t())},className:As(L==null?void 0:L.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,fe.isValidElement(h.action)?h.action:h.action&&_0(h.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:Pe=>{_0(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Pe),!Pe.defaultPrevented&&$t())},className:As(L==null?void 0:L.actionButton,h==null||(c=h.classNames)==null?void 0:c.actionButton)},h.action.label):null)};function WN(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function ode(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Zhe:Jhe;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}const ade=fe.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:u,mobileOffset:h,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:v=Qhe,toastOptions:y,dir:b=WN(),gap:w=tde,icons:S,containerAriaLabel:_="Notifications"}=e,[k,C]=fe.useState([]),T=fe.useMemo(()=>r?k.filter(Z=>Z.toasterId===r):k.filter(Z=>!Z.toasterId),[k,r]),O=fe.useMemo(()=>Array.from(new Set([s].concat(T.filter(Z=>Z.position).map(Z=>Z.position)))),[T,s]),[R,D]=fe.useState([]),[F,N]=fe.useState(!1),[z,$]=fe.useState(!1),[L,B]=fe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=fe.useRef(null),q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=fe.useRef(null),V=fe.useRef(!1),X=fe.useCallback(Z=>{C(H=>{var K;return(K=H.find(Y=>Y.id===Z.id))!=null&&K.delete||Ur.dismiss(Z.id),H.filter(({id:Y})=>Y!==Z.id)})},[]);return fe.useEffect(()=>Ur.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{C(H=>H.map(K=>K.id===Z.id?{...K,delete:!0}:K))});return}setTimeout(()=>{Pie.flushSync(()=>{C(H=>{const K=H.findIndex(Y=>Y.id===Z.id);return K!==-1?[...H.slice(0,K),{...H[K],...Z},...H.slice(K+1)]:[Z,...H]})})})}),[k]),fe.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:H})=>{B(H?"dark":"light")})}catch{Z.addListener(({matches:K})=>{try{B(K?"dark":"light")}catch(Y){console.error(Y)}})}},[d]),fe.useEffect(()=>{k.length<=1&&N(!1)},[k]),fe.useEffect(()=>{const Z=H=>{var K;if(o.every(te=>H[te]||H.code===te)){var ne;N(!0),(ne=j.current)==null||ne.focus()}H.code==="Escape"&&(document.activeElement===j.current||(K=j.current)!=null&&K.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),fe.useEffect(()=>{if(j.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,V.current=!1)}},[j.current]),fe.createElement("section",{ref:t,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Z,H)=>{var K;const[Y,ne]=Z.split("-");return T.length?fe.createElement("ol",{key:Z,dir:b==="auto"?WN():b,tabIndex:-1,ref:j,className:c,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":Y,"data-x-position":ne,style:{"--front-toast-height":`${((K=R[0])==null?void 0:K.height)||0}px`,"--width":`${ede}px`,"--gap":`${w}px`,...g,...ode(u,h)},onBlur:te=>{V.current&&!te.currentTarget.contains(te.relatedTarget)&&(V.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V.current||(V.current=!0,W.current=te.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{z||N(!1)},onDragEnd:()=>N(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},T.filter(te=>!te.position&&H===0||te.position===Z).map((te,re)=>{var Q,ee;return fe.createElement(sde,{key:te.id,icons:S,index:re,toast:te,defaultRichColors:f,duration:(Q=y==null?void 0:y.duration)!=null?Q:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:i,visibleToasts:v,closeButton:(ee=y==null?void 0:y.closeButton)!=null?ee:l,interacting:z,position:Z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:X,toasts:T.filter(ve=>ve.position==te.position),heights:R.filter(ve=>ve.position==te.position),setHeights:D,expandByDefault:a,gap:w,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),rf="onboard_mnemonic",au="onboard_wallet_address",sf="onboard_auth_token",of="onboard_refresh_token",af="onboard_expires_at";function lde(n){const[e,t]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(!1),[a,l]=I.useState(""),[c,u]=I.useState(void 0),[h,d]=I.useState(void 0),[f,m]=I.useState(!1),[g,v]=I.useState(null);I.useEffect(()=>{const R=localStorage.getItem(rf),D=localStorage.getItem(au),F=localStorage.getItem(sf),N=localStorage.getItem(of),z=localStorage.getItem(af);if(t(R||""),i(D||""),F&&l(F),N&&u(N),z){const $=parseInt(z,10);isNaN($)||d($)}},[]);const y=I.useCallback(async R=>{if(!R||R.trim()==="")return null;o(!0);try{eo.isReady()||await eo.initialize();const D=await eo.generateAddress(R.trim(),0);return D.success&&D.address?D.address:(console.error("Failed to generate address:",D.error),null)}catch(D){return console.error("Error generating address:",D),null}finally{o(!1)}},[]),b=I.useCallback(async R=>{const D=R.trim();if(D===""){t(""),i(""),localStorage.removeItem(rf),localStorage.removeItem(au);return}t(D),localStorage.setItem(rf,D);const F=await y(D);F?(i(F),localStorage.setItem(au,F)):(i(""),localStorage.removeItem(au))},[y]),w=I.useCallback((R,D)=>{const F=R.trim(),N=D.trim().toLowerCase();t(F),i(N),localStorage.setItem(rf,F),localStorage.setItem(au,N)},[]),S=I.useCallback(()=>{t(""),i(""),localStorage.removeItem(rf),localStorage.removeItem(au)},[]),_=I.useMemo(()=>{if(e==="")return"";const R=e.trim();if(R==="")return"";try{const D=sm.fromPhrase(R,"","m/44'/60'/0'/0/0");if(r&&D.address.toLowerCase()!==r.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const F=BigInt(D.privateKey),N=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(F===0n||F>=N)return console.error("Invalid private key: out of secp256k1 curve order"),"";const $=F.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test($)?$:(console.error("Invalid private key format"),"")}catch(D){return console.error("Error computing private key:",D),""}},[e,r]),k=I.useCallback(async(R,D,F,N)=>{m(!0),v(null);try{await b(R);const z=await mhe(R,D,F,N);if(z.success&&z.authToken)l(z.authToken),u(z.refreshToken),d(z.expiresAt),localStorage.setItem(sf,z.authToken),z.refreshToken&&localStorage.setItem(of,z.refreshToken),z.expiresAt&&localStorage.setItem(af,z.expiresAt.toString()),tt.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const $=z.error||"Onboarding failed";v($),l(""),u(void 0),d(void 0),localStorage.removeItem(sf),localStorage.removeItem(of),localStorage.removeItem(af),tt.error("Onboarding failed",{description:$,duration:6e3})}}catch(z){const $=(z==null?void 0:z.message)||"Unknown error during onboarding";v($),l(""),u(void 0),d(void 0),localStorage.removeItem(sf),localStorage.removeItem(of),localStorage.removeItem(af),tt.error("Onboarding error",{description:$,duration:6e3})}finally{m(!1)}},[b]),C=I.useCallback(()=>{v(null)},[]),T=I.useCallback(()=>{l(""),u(void 0),d(void 0),v(null),m(!1),localStorage.removeItem(sf),localStorage.removeItem(of),localStorage.removeItem(af)},[]),O=I.useCallback(()=>{S(),T()},[S,T]);return{mnemonic:e,walletAddress:r,privateKey:_,authToken:a,refreshToken:c,expiresAt:h,loading:f,error:g,addressLoading:s,onboard:k,setMnemonic:b,setAccountData:w,clearAccountData:S,clearError:C,reset:T,resetAll:O}}function $c(n,e=2,t=2,r="0.00"){return n==null||isNaN(n)?r:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:t})}function yy(n){return n==null||isNaN(n)?"--":$c(n,2,2,"--")}function Bl(n){return n==null||isNaN(n)?"--":$c(n,2,8,"--")}function by(n){return n==null||isNaN(n)?"0.000":$c(n,3,3,"0.000")}function cde(n){return n==null||isNaN(n)?"0":$c(n,3,8,"0")}function ude(n){return n==null||isNaN(n)?"0.00":$c(n,2,2,"0.00")}function hde(n){return n==null||isNaN(n)?"0.00":$c(n,2,2,"0.00")}function un(n){return n==null||isNaN(n)?"0.00":$c(n,2,2,"0.00")}function Rf(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function dde(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?Qn(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function YN(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function fde(n,e=6,t=4,r="--"){return!n||typeof n!="string"?r:n.length<=e+t?n:`${n.slice(0,e)}...${n.slice(-t)}`}function wO(n){const e=n.useWebSocket!==!1,[t,r]=I.useState([]),[i,s]=I.useState(!0),[o,a]=I.useState(""),[l,c]=I.useState(0),[u,h]=I.useState(!1),d=I.useRef(null),f=I.useRef(0),m=I.useRef(!0),g=I.useRef(n);g.current=n;const{subscribe:v,unsubscribe:y,isConnected:b}=ni(),w=I.useCallback(C=>{const T=the(C)?C:ehe(C);return NN(T)},[]),S=I.useCallback(async()=>{if(!d.current)return;const C=g.current;if(!C.walletAddress||C.walletAddress.trim()===""){c(0);return}try{const T=await d.current.getBalanceDecimal(C.walletAddress,"USDC"),O=typeof T.available=="number"?T.available:T.availableBalance?ct(T.availableBalance):0;c(O)}catch(T){console.warn("Failed to fetch spot wallet balance (USDC):",T),c(0)}},[]),_=I.useCallback(async()=>{if(!d.current)return;const C=g.current;if(!C.walletAddress||C.walletAddress.trim()===""){a("Wallet address is required"),r([]),s(!1),m.current=!1;return}a(""),m.current&&s(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e}),S(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const T=await d.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:T,responseType:typeof T,isArray:Array.isArray(T),responseLength:Array.isArray(T)?T.length:"N/A"});const O=Array.isArray(T)?T:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:O,bucketsDataLength:O.length,bucketsDataTypes:O.map((D,F)=>({index:F,type:typeof D,hasBucketId:!!(D!=null&&D.bucketId),bucketId:D.bucketId??""}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${O.length} buckets:`,O);const R=O.map(NN);r(R),e||(m.current=!1,s(!1))}catch(T){const O=T instanceof Error?T.message:"Failed to load bucket collections";a(O),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:T,errorMessage:O,walletAddress:C.walletAddress,stack:T instanceof Error?T.stack:void 0}),e||(m.current=!1,s(!1))}},[S,e]),k=I.useCallback(C=>{const T=C;if(!T||!T.buckets||!Array.isArray(T.buckets))return;console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:T,hasBuckets:!!T.buckets,bucketsIsArray:Array.isArray(T.buckets),bucketsLength:T.buckets.length}),console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",T.buckets);const O=T.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",O);const R=O.filter(D=>D.bucketId&&D.bucketId.trim()!==""&&D.status!=="dormant");if(R.length!==O.length){const D=O.length-R.length,F=O.filter(z=>!z.bucketId||z.bucketId.trim()===""),N=O.filter(z=>z.bucketId&&z.bucketId.trim()!==""&&z.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${D} collections (${F.length} with empty bucketId, ${N.length} with status "dormant")`,{filteredByBucketId:F,filteredByStatus:N})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:R.length,validCollections:R}),r(D=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:D.length,prev:D}),D.length!==R.length)return R;const F=JSON.stringify(D),N=JSON.stringify(R);return F===N?D:R}),m.current&&(m.current=!1,s(!1))},[w]);return I.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){s(!1),a("Wallet address is required"),r([]),f.current!==0&&(clearInterval(f.current),f.current=0);return}const C=new io({baseURL:n.baseURL,sessionToken:n.authToken});d.current=C,m.current=!0,_(),h(b);const T=O=>k(O);return e?(v("buckets",T),!b&&n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>_(),n.refreshInterval)),()=>{f.current!==0&&(clearInterval(f.current),f.current=0),y("buckets",T)}):(n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>_(),n.refreshInterval)),()=>{f.current!==0&&(clearInterval(f.current),f.current=0)})},[n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,b,v,y,_,k]),I.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:t.length,collections:t,loading:i,error:o,spotWalletBalance:l})},[t,i,o,l]),{collections:t,loading:i,error:o,refreshBucketBalance:_,refreshSpotWalletBalance:S,spotWalletBalance:l,isConnected:u}}function pde(n,e,t){return e!==n?E.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):E.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:t==="asc"?"":""})}function gd({message:n="Loading..."}){return E.jsx("div",{className:"message loading",children:n})}function vd({error:n}){return E.jsxs("div",{className:"message error",children:["Error: ",n]})}function zo({message:n}){return E.jsx("div",{className:"message empty",children:n})}function rV({message:n}){return E.jsx("div",{className:"message warning",children:n})}function _O({isConnected:n,connectedText:e=" LIVE",disconnectedText:t=" OFFLINE"}){return E.jsx("div",{className:"status-indicator",children:E.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:t})})}function yd({title:n,children:e}){return E.jsxs("div",{className:"layout-header",children:[E.jsx("div",{className:"layout-header-title",children:n}),e&&E.jsx("div",{className:"layout-header-actions",children:e})]})}function mde({tabs:n,activeTabId:e,onTabChange:t,children:r}){return E.jsxs("div",{className:"layout-header",children:[E.jsx("div",{className:"layout-header-title",children:E.jsx("div",{className:"tab-section-tabs",children:n.map(i=>E.jsx("button",{type:"button",className:`btn-tab ${e===i.id?"active":""}`,onClick:()=>t(i.id),children:i.label},i.id))})}),r&&E.jsx("div",{className:"layout-header-actions",children:r})]})}function Zn({field:n,currentSortField:e,sortDirection:t,onSort:r,children:i,center:s=!1}){return E.jsxs("div",{className:`table-header-cell ${s?"left":"right"}`,onClick:()=>r(n),children:[i,pde(n,e,t)]})}function HM({children:n,center:e=!1}){return E.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function gde({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),E.jsx("button",{onClick:t=>{console.log("[CancelButton] Button clicked",{disabled:e,event:t}),!e&&n?n(t):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:t=>{console.log("[CancelButton] Mouse down",{disabled:e,event:t})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function vde({onClick:n}){return E.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function yde({onConfirm:n,label:e="Slide to confirm",confirmThreshold:t=90,disabled:r=!1,icon:i}){const[s,o]=I.useState(0),[a,l]=I.useState(!1),c=I.useRef(null),u=I.useRef(null),h=f=>{r||(f.preventDefault(),l(!0))};I.useEffect(()=>{if(!a)return;const f=g=>{if(!c.current||r)return;const v=c.current.getBoundingClientRect(),y=g.clientX-v.left,b=v.width,w=Math.max(0,Math.min(100,y/b*100));o(w)},m=()=>{r||(s>=t?(n(),setTimeout(()=>{o(0)},200)):o(0),l(!1))};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[a,s,t,n,r]);const d=s>=t;return E.jsxs("div",{ref:c,className:`slider-confirm-bar ${r?"disabled":""} ${a?"dragging":""}`,children:[E.jsx("div",{className:`slider-confirm-bar-progress ${d?"confirmed":"default"} ${a?"no-transition":""}`,style:{width:`${s}%`}}),E.jsx("div",{className:"slider-confirm-bar-label",children:d?"Release to confirm":e}),E.jsx("div",{ref:u,onMouseDown:h,className:`slider-confirm-bar-thumb ${r?"disabled":""} ${a?"dragging":""} ${d?"confirmed":""}`,style:{left:`${s}%`},children:i?E.jsx("span",{className:`slider-confirm-bar-thumb-icon ${d?"confirmed":""}`,children:i}):E.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${d?"confirmed":""}`,children:""})})]})}function iV({isOpen:n,value:e,min:t,max:r,onConfirm:i,onCancel:s}){const[o,a]=I.useState("");if(I.useEffect(()=>{n&&a(e.toString())},[n,e]),!n)return null;const l=v=>{const y=o==="0"?v:o+v;parseFloat(y)<=r&&a(y)},c=()=>{o.includes(".")||a(o+".")},u=()=>{o.length>1?a(o.slice(0,-1)):a("0")},h=()=>{a("0")},d=()=>{const v=parseFloat(o)||0,y=Math.max(t,Math.min(r,v));i(y)},f=parseFloat(o)||0,m=f>=t&&f<=r,g=E.jsx("div",{className:"modal-overlay",onClick:s,style:{zIndex:1e4},children:E.jsxs("div",{className:"modal-content number-pad-content",onClick:v=>v.stopPropagation(),children:[E.jsx("div",{className:"modal-header",children:E.jsx("h3",{children:"Enter Amount"})}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("div",{className:"number-pad-display",children:[E.jsx("div",{className:"number-pad-display-value",children:un(f)}),E.jsxs("div",{className:"number-pad-display-range",children:["Min: ",un(t)," | Max: ",un(r)]}),!m&&f>0&&E.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",un(t)," and"," ",un(r)]})]}),E.jsxs("div",{className:"number-pad-grid",children:[E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"1"),children:"1"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"2"),children:"2"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"3"),children:"3"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"4"),children:"4"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"5"),children:"5"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"6"),children:"6"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"7"),children:"7"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"8"),children:"8"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"9"),children:"9"}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:c,children:"."}),E.jsx("button",{type:"button",className:"number-pad-button",onClick:l.bind(null,"0"),children:"0"}),E.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:u,children:""})]}),E.jsxs("div",{className:"number-pad-actions",children:[E.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),E.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{a(r.toString())},children:"Max"})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:s,className:"btn btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:d,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?Jo.createPortal(g,document.body):null}function bde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=fue,refreshInterval:o=yO,onBucketSelect:a,hide_header:l=!1,onRequestHeaderActions:c,onRequestOpenTransferModal:u}){const{collections:h,loading:d,error:f,isConnected:m,refreshBucketBalance:g}=wO({...e!=null&&{subscriptionClient:e},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),[v,y]=I.useState(null),[b,w]=I.useState("desc"),[S,_]=I.useState(""),[k,C]=I.useState("non-zero"),T=I.useMemo(()=>{let N=h.filter(z=>z&&z.bucketId&&typeof z.bucketId=="string"&&z.bucketId.trim()!=="");return k==="non-zero"?N=N.filter(z=>(z.totalEquity||0)>0):k==="dormant"?N=N.filter(z=>{var $;return(($=z.status)==null?void 0:$.toLowerCase())==="dormant"}):k==="active"&&(N=N.filter(z=>{var $;return(($=z.status)==null?void 0:$.toLowerCase())==="active"})),v?[...N].sort((z,$)=>{let L=0,B=0;switch(v){case"marginType":L=np(z),B=np($);break;case"usedMargin":L=z.usedMargin||0,B=$.usedMargin||0;break;case"totalEquity":L=z.totalEquity||0,B=$.totalEquity||0;break;case"riskRatio":L=n1(z),B=n1($);break;case"bucketId":L=z.bucketId||"",B=$.bucketId||"";break}if(typeof L=="string"&&typeof B=="string")return b==="asc"?L.localeCompare(B):B.localeCompare(L);const j=Number(L),q=Number(B);return b==="asc"?j-q:q-j}):N},[h,v,b,k]),O=N=>{v===N?w(b==="asc"?"desc":"asc"):(y(N),w("desc"))},R=(N,z)=>{a&&a(N,z),_(N)},D=()=>{C(N=>{switch(N){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})},F=I.useMemo(()=>E.jsxs(E.Fragment,{children:[E.jsx("div",{onClick:D,className:"btn-tab",title:k==="non-zero"?"Click to show active buckets":k==="active"?"Click to show dormant buckets":k==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:E.jsx("span",{children:k==="all"?"All":k==="non-zero"?"Non-Zero":k==="dormant"?"Dormant":"Active"})}),E.jsxs("div",{onClick:()=>u==null?void 0:u(),className:"btn-tab",style:{cursor:u?"pointer":void 0},children:[E.jsx("img",{src:"/transfer-repu.svg"}),E.jsx("span",{children:"Transfer"})]}),!m&&E.jsxs("div",{onClick:async()=>{g&&await g()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[E.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),E.jsx("span",{children:"Refresh"})]})]}),[k,D,u,m,g]);return I.useEffect(()=>{if(c){if(l&&!d&&!f)return c(F),()=>c(null);c(null)}},[l,c,d,f,F]),!r||r.trim()===""?E.jsx(rV,{message:"Wallet address required to view bucket collections"}):d&&h.length===0?E.jsx(gd,{message:"Loading bucket collections..."}):f?E.jsx(vd,{error:f}):E.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&E.jsx(yd,{title:"BUCKET COLLECTIONS",children:F}),E.jsxs("div",{className:"table-container shrinkable",children:[E.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[E.jsx(Zn,{field:"bucketId",currentSortField:v,sortDirection:b,onSort:O,left:!0,children:"Bucket ID"}),E.jsx(Zn,{field:"marginType",currentSortField:v,sortDirection:b,onSort:O,children:"Margin Type"}),E.jsx(Zn,{field:"usedMargin",currentSortField:v,sortDirection:b,onSort:O,children:"Used Margin"}),E.jsx(Zn,{field:"totalEquity",currentSortField:v,sortDirection:b,onSort:O,children:"Total Equity"}),E.jsx(Zn,{field:"riskRatio",currentSortField:v,sortDirection:b,onSort:O,left:!1,children:"Risk Ratio"})]}),T.length===0?E.jsx(zo,{message:h.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${h.length} collections (invalid data structure)`}):T.map((N,z)=>{const $=n1(N),L=np(N);return E.jsxs("div",{onClick:()=>R(N.bucketId,N.availableMargin),className:`table-row clickable ${z%2===0?"even":""} ${S===N.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[E.jsx("div",{className:"table-cell primary",children:N.bucketId||"---"}),E.jsx("div",{className:"table-cell",children:L.toUpperCase()}),E.jsx("div",{className:"table-cell right monospace",children:un(N.usedMargin||0)}),E.jsx("div",{className:"table-cell right monospace",children:un(N.totalEquity||0)}),E.jsx("div",{className:"table-cell right monospace",style:{color:$>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:Rf($)})]},`collection-${N.bucketId}-${z}`)})]})]})}const xde=fe.memo(bde);function wde({title:n="Dummy Component",message:e="This is a dummy component",height:t}){const[r,i]=I.useState(0);return E.jsxs("div",{className:"layout-container",style:{height:t},children:[E.jsx("div",{className:"layout-header",children:E.jsx("div",{className:"layout-header-title",children:n})}),E.jsxs("div",{style:{padding:"1rem",flex:1},children:[E.jsx("p",{className:"color-text-secondary",children:e}),E.jsxs("div",{style:{marginTop:"1rem"},children:[E.jsxs("p",{className:"color-text-primary",children:["Count: ",r]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[E.jsx("button",{className:"btn btn-success",onClick:()=>i(r+1),children:"Increment"}),E.jsx("button",{className:"btn btn-danger",onClick:()=>i(0),children:"Reset"})]})]})]})]})}fe.memo(wde);const _de=({...n})=>E.jsx(ade,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),Sde=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const t=document.createElement("textarea");return t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(t){return console.error("Failed to copy to clipboard:",t),!1}}},jn=n=>({label:"Copy",onClick:async()=>{await Sde(n)?tt.success("Error message copied to clipboard"):tt.error("Failed to copy error message")}});function d1(n){return n.orderId}function kde(n){const e=n.useWebSocket!==!1,[t,r]=I.useState([]),[i,s]=I.useState(!0),[o,a]=I.useState(null),[l,c]=I.useState(!1),u=I.useRef(null),h=I.useRef(!1),d=I.useRef(n.walletAddress),f=I.useRef(n);f.current=n;const{subscribe:m,unsubscribe:g,isConnected:v}=ni(),y=I.useCallback(async()=>{if(!u.current)return;const w=f.current;if(!w.walletAddress||w.walletAddress.trim()===""){a(null),r([]),s(!1);return}a(null);try{const _=(await xO(bO.http,()=>u.current.getOrders(w.walletAddress))).orders||[];if(_.length>0){const k=_.map(AN);r(C=>{if(C.length!==k.length)return k;const T=JSON.stringify(C),O=JSON.stringify(k);return T===O?C:k})}else r(k=>k.length===0?k:[])}catch(S){const _=S instanceof Error?S.message:"Failed to load orders";a(_),console.error("Failed to fetch orders after retries:",S)}finally{s(!1)}},[]),b=I.useCallback(w=>{let S=[];if(typeof w=="object"&&w!==null&&"orders"in w&&Array.isArray(w.orders))S=w.orders;else if(typeof w=="object"&&w!==null&&("order_id"in w||"orderId"in w))S=[w];else{console.warn("Received invalid order data, skipping:",w);return}r(_=>{const k=new Map;_.forEach(R=>{const D=d1(R);D&&k.set(D,R)});for(const R of S){if(!R||typeof R!="object"||!("orderId"in R)||typeof R.orderId!="string"||R.orderId.length===0){console.warn("Received invalid order data, skipping:",R);continue}const D=AN(R),F=d1(D);if(!F){console.warn("Received order without ID, skipping:",D);continue}const N=D.status.toUpperCase();N==="FILLED"||N==="CANCELLED"||N==="REJECTED"||N==="EXPIRED"||N==="CLOSED"||N==="DONE"?k.delete(F):k.set(F,D)}const C=Array.from(k.values()).filter(R=>d1(R)!==void 0);if(_.length!==C.length)return C;const T=JSON.stringify(_),O=JSON.stringify(C);return T===O?_:C})},[]);return I.useEffect(()=>{if(n.walletAddress!==d.current&&(h.current=!1,d.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){s(!1),a(null),r([]),h.current=!1;return}const w=new io({baseURL:n.baseURL,sessionToken:n.authToken});if(u.current=w,h.current||y().finally(()=>{h.current=!0}),c(v),e){const _=`orders:${n.marketId??"0"}`,k=C=>b(C);return m(_,k),()=>g(_,k)}return()=>{}},[n.baseURL,n.authToken,n.walletAddress,n.marketId,e,v,m,g,y,b]),{orders:t,loading:i,error:o,isConnected:l,refresh:y}}function Cde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=mue,refreshInterval:o=yO,hide_header:a=!1,onRequestHeaderActions:l}){const{client:c}=ni(),u=e??c,{orders:h,loading:d,error:f,isConnected:m,refresh:g}=kde({...u!=null&&{subscriptionClient:u},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{client:v,isReady:y}=Nb({baseURL:n,mnemonic:i??""}),b=I.useRef(0),[w,S]=I.useState(null),{getSymbolByMarketId:_}=md({baseURL:n,sessionToken:t,autoFetchMarkets:!1}),[k,C]=I.useState(ha),[T,O]=I.useState(null),[R,D]=I.useState(Yu),F=I.useMemo(()=>h.filter(V=>{const X=V.status.toUpperCase(),Z=X.startsWith("ORDER_STATUS_")?X:`ORDER_STATUS_${X}`;return k===ha?IN.some(H=>X===H.toUpperCase()||Z===H.toUpperCase()):!IN.some(H=>X===H.toUpperCase()||Z===H.toUpperCase())}),[h,k]),N=I.useMemo(()=>T?[...F].sort((V,X)=>{let Z=0,H=0;switch(T){case _N:Z=_(V.marketId)||`m-${V.marketId}`,H=_(X.marketId)||`m-${X.marketId}`;break;case SN:Z=V.side,H=X.side;break;case kN:Z=V.quantity,H=X.quantity;break;case CN:Z=V.price,H=X.price;break;case EN:Z=V.filledQuantity||0,H=X.filledQuantity||0;break;case TN:Z=V.status,H=X.status;break}if(typeof Z=="string"&&typeof H=="string")return R===Fa?Z.localeCompare(H):H.localeCompare(Z);const K=Number(Z),Y=Number(H);return isNaN(K)||isNaN(Y)?0:R===Fa?K-Y:Y-K}):F,[F,T,R]),z=V=>{T===V?D(R===Fa?Yu:Fa):(O(V),D(Yu))},$=V=>V.side,L=V=>{const X=(V||"").toUpperCase(),Z={PENDING:{short:"P",full:"Pending",color:PN},OPEN:{short:"O",full:"Open",color:Fue},FILLED:{short:"F",full:"Filled",color:$ue},CANCELLED:{short:"C",full:"Canceled",color:jue},PARTIAL:{short:"PF",full:"Partially Filled",color:PN}};return Z[X]?Z[X]:{short:"?",full:V||Jue,color:Bue}},B=V=>V===lm||V==="BUY"?zue:que,j=V=>!V||typeof V!="string"?Que:V.replace("ORDER_TYPE_",""),q=async V=>{var K;const X=V.orderId,Z=V.marketId;if(!X){const Y="Cannot cancel order without a valid order ID.";tt.error("Order ID is missing",{description:Y,action:jn(Y)});return}if(!Z){const Y="Cannot cancel order without a valid market ID.";tt.error("Market ID is missing",{description:Y,action:jn(Y)});return}if(!i){const Y=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${X}`;tt.error("Mnemonic required",{description:Y,duration:5e3,action:jn(Y)});return}if(typeof i!="string"||i.trim()===""){const Y=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${X}`;tt.error("Invalid mnemonic",{description:Y,duration:5e3,action:jn(Y)});return}if(w){tt.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}S(X);const H=tt.loading("Canceling order...",{description:`Canceling order ${X}`});b.current=typeof H=="number"?H:0;try{if(!v||!y){tt.error("Exchange client not ready",{description:"Please wait for the exchange client to initialize.",action:jn("Exchange client not ready")});return}const Y=await v.cancelOrder({orderId:X,marketId:Z}),ne=Y.success===!0||Y.result.success===!0||Y&&!Y.error&&!Y.message;b.current!==0&&(tt.dismiss(b.current),b.current=0);const te=Y.txhash;if(ne)tt.success("Order canceled successfully",{description:`Order ${X} has been canceled. TX: ${te}`}),g&&await g();else{const re=(Y==null?void 0:Y.error)||(Y==null?void 0:Y.message)||((K=Y==null?void 0:Y.response)==null?void 0:K.error)||"Failed to cancel order";throw new Error(re)}}catch(Y){b.current!==0&&(tt.dismiss(b.current),b.current=0);const te=`${Y instanceof Error?Y.message:"Unknown error occurred"}. Order ID: ${X}`;tt.error("Failed to cancel order",{description:te,duration:6e3,action:jn(te)})}finally{S(null)}},W=I.useMemo(()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"btn-tab",children:[E.jsx("span",{style:{fontSize:"0.7rem"},children:""}),E.jsx("span",{children:"Current Symbol"})]}),E.jsxs("div",{onClick:()=>C(k===ha?MN:ha),className:`btn-tab ${k===MN?"active":""}`,children:[E.jsx("img",{src:"/transfer-net.svg"}),E.jsx("span",{children:k===ha?Xue:Kue})]}),!m&&E.jsxs("div",{onClick:async()=>{g&&await g()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[E.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),E.jsx("span",{children:"Refresh"})]})]}),[k,m,g]);return I.useEffect(()=>{if(l){if(a&&!d&&!f)return l(W),()=>l(null);l(null)}},[a,l,d,f,W]),!r||r.trim()===""?E.jsx(rV,{message:Vue}):d?E.jsx(gd,{message:Uue}):f?E.jsx(vd,{error:f}):E.jsxs("div",{className:"layout-container",style:{height:s,...a?{borderRadius:0,background:"transparent"}:{}},children:[!a&&E.jsx(yd,{title:k===ha?Yue:Gue,children:W}),E.jsxs("div",{className:"table-container shrinkable",children:[E.jsxs("div",{className:"table-header",style:{gridTemplateColumns:ON},children:[E.jsx(Zn,{field:_N,currentSortField:T,sortDirection:R,onSort:z,children:"Symbol"}),E.jsx(Zn,{field:SN,currentSortField:T,sortDirection:R,onSort:z,children:"Side"}),E.jsx(HM,{center:!0,children:"Type"}),E.jsx(Zn,{field:kN,currentSortField:T,sortDirection:R,onSort:z,children:"Quantity"}),E.jsx(Zn,{field:CN,currentSortField:T,sortDirection:R,onSort:z,children:"Price"}),E.jsx(Zn,{field:EN,currentSortField:T,sortDirection:R,onSort:z,children:"Filled"}),E.jsx(Zn,{field:TN,currentSortField:T,sortDirection:R,onSort:z,children:"Status"}),E.jsx(HM,{center:!0,children:"Actions"})]}),N.length===0?E.jsx(zo,{message:k===ha?Hue:Wue}):N.map((V,X)=>{const Z=$(V),H=B(Z),{short:K,full:Y,color:ne}=L(V.status),te=_(V.marketId)||`m-${V.marketId}`;return E.jsxs("div",{className:`table-row ${X%2===0?"even":""}`,style:{gridTemplateColumns:ON},children:[E.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:E.jsx("span",{children:te})}),E.jsx("div",{className:"table-cell center",style:{color:H,fontWeight:500},children:Z}),E.jsx("div",{className:"table-cell center",children:j(V.type)}),E.jsx("div",{className:"table-cell right monospace",children:V.quantity}),E.jsx("div",{className:"table-cell right monospace",children:V.price}),E.jsxs("div",{className:"table-cell right monospace",children:[V.filledQuantity," / ",V.quantity]}),E.jsx("div",{className:"table-cell center",style:{color:ne,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:Y,children:K}),E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:k===ha?E.jsxs(E.Fragment,{children:[(!i||i.trim()==="")&&E.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),E.jsx(gde,{onClick:re=>{re.preventDefault(),re.stopPropagation(),!i||i.trim()===""||w===V.orderId||!!w||q(V)},disabled:!i||i.trim()===""||w===V.orderId||!!w})]}):E.jsx("span",{className:"color-text-dim",children:""})})]},`order-${V.orderId}`)})]})]})}const Ede=fe.memo(Cde);function Tde({baseURL:n=pd,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s=pue,refreshInterval:o=yO,selectedBucketId:a=null,hide_header:l=!1,onRequestHeaderActions:c}){const{client:u}=ni(),h=e??u,{positions:d,loading:f,error:m,isConnected:g,refresh:v}=Ahe({...h!=null&&{subscriptionClient:h},baseURL:n,authToken:t,walletAddress:r,refreshInterval:o}),{getSymbolByMarketId:y}=md({baseURL:n,sessionToken:t??"",autoFetchMarkets:!0}),{client:b,isReady:w,error:S}=Nb({baseURL:n,mnemonic:i??""});I.useEffect(()=>{if(S){const L=S.message;console.error("Failed to initialize FiClient:",S),tt.error("Exchange client initialization failed",{description:L,action:jn(L)})}},[S]);const[_,k]=I.useState(e1),[C,T]=I.useState(null),[O,R]=I.useState(Yu),D=I.useMemo(()=>{let L=[...d];return _===b0&&a&&(L=L.filter(B=>{const j=B.bucketId.toString(),q=a.toString();return j===q})),C?L.sort((B,j)=>{let q=0,W=0;switch(C){case pN:q=y(B.marketId)??B.symbol??"",W=y(j.marketId)??j.symbol??"";break;case mN:try{q=B.leverage??0,W=j.leverage??0}catch{q=0,W=0}break;case gN:q=B.size||0,W=j.size||0;break;case vN:q=B.liquidationPrice||0,W=j.liquidationPrice||0;break;case yN:q=B.unrealizedPnL||0,W=j.unrealizedPnL||0;break;case bN:q=B.entryPrice||0,W=j.entryPrice||0;break;case xN:q=B.margin||0,W=j.margin||0;break}if(typeof q=="string"&&typeof W=="string")return O===Fa?q.localeCompare(W):W.localeCompare(q);const V=Number(q),X=Number(W);return O===Fa?V-X:X-V}):L},[d,C,O,a,_,y]),F=L=>{C===L?R(O===Fa?Yu:Fa):(T(L),R(Yu))},N=I.useRef(0),z=async L=>{if(!i){const q="Please provide the 'mnemonic' prop to enable position closing.";tt.error("Mnemonic required",{description:q,action:jn(q)});return}if(!b||!w){const q="Please wait for the exchange client to initialize.";tt.error("Exchange client not ready",{description:q,action:jn(q)});return}const B=y(L.marketId)??L.symbol,j=tt.loading("Closing position...",{description:`Closing ${L.side} position for ${B} (Size: ${by(L.size)})`});N.current=typeof j=="number"?j:0;try{const q=await b.closePosition({positionId:L.positionId,marketId:L.marketId,marketPrice:L.markPrice,quantity:L.size});N.current!==0&&(tt.dismiss(N.current),N.current=0),tt.success("Position closed successfully",{description:`${L.side} position for ${B} has been closed. tx: ${q.txhash}`,duration:5e3}),v&&await v()}catch(q){N.current!==0&&(tt.dismiss(N.current),N.current=0);const W=q instanceof Error?q.message:"Unknown error occurred";tt.error("Failed to close position",{description:W,duration:6e3,action:jn(W)}),console.error("Failed to close position:",q)}},$=I.useMemo(()=>E.jsxs(E.Fragment,{children:[E.jsx("div",{onClick:()=>{k(e1),T(null)},className:`btn-tab ${_===e1?"active":""}`,children:Oue}),E.jsxs("div",{onClick:()=>{k(b0),T(null)},className:`btn-tab ${_===b0?"active":""}`,children:[E.jsx("img",{src:"/bucket-g.svg"}),E.jsx("span",{children:Rue})]}),!g&&E.jsxs("div",{onClick:async()=>{v&&await v()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[E.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),E.jsx("span",{children:"Refresh"})]})]}),[_,g,v]);return I.useEffect(()=>{if(c){if(l&&!f&&!m)return c($),()=>c(null);c(null)}},[l,c,f,m,$]),f?E.jsx(gd,{message:Mue}):m?E.jsx(vd,{error:m}):E.jsxs("div",{className:"layout-container",style:{height:s,...l?{borderRadius:0,background:"transparent"}:{}},children:[!l&&E.jsx(yd,{title:`${Pue} ${_===b0&&a?`(Bucket ${a})`:""}`,children:$}),E.jsxs("div",{className:"table-container",children:[E.jsxs("div",{className:"table-header",style:{gridTemplateColumns:wN},children:[E.jsx(Zn,{field:pN,currentSortField:C,sortDirection:O,onSort:F,left:!0,children:"Symbol"}),E.jsx(Zn,{field:mN,currentSortField:C,sortDirection:O,onSort:F,children:"Leverage"}),E.jsx(Zn,{field:gN,currentSortField:C,sortDirection:O,onSort:F,children:"Size"}),E.jsx(Zn,{field:vN,currentSortField:C,sortDirection:O,onSort:F,children:"Liq. Price"}),E.jsx(Zn,{field:yN,currentSortField:C,sortDirection:O,onSort:F,children:"P/L"}),E.jsx(Zn,{field:bN,currentSortField:C,sortDirection:O,onSort:F,children:"Entry Price"}),E.jsx(Zn,{field:xN,currentSortField:C,sortDirection:O,onSort:F,children:"Margin"}),E.jsx(HM,{center:!0,children:"Actions"})]}),D.length===0?E.jsx(zo,{message:Iue}):D.map((L,B)=>{const j=L.side===lm,q=(L.unrealizedPnL||0)>=0?Eue:Tue,W=dde(L.leverage,t1);return E.jsxs("div",{className:`table-row ${B%2===0?"even":""}`,style:{gridTemplateColumns:wN},children:[E.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:E.jsx("span",{children:y(L.marketId)??L.symbol})}),E.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${j?lm:qM}  ${W===t1?t1:W}x @ ${L.marginMode||am}`}),E.jsx("div",{className:"color-buy right monospace",children:by(L.size)}),E.jsx("div",{className:"table-cell right monospace",children:yy(L.liquidationPrice)}),E.jsx("div",{className:"table-cell right monospace",style:{color:q,fontWeight:500},children:hde(L.unrealizedPnL)}),E.jsx("div",{className:"table-cell right monospace",children:yy(L.entryPrice)}),E.jsx("div",{className:"table-cell right monospace",children:ude(L.margin)}),E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:E.jsx(vde,{onClick:()=>z(L)})})]},`position-${L.marketId}-${B}`)})]})]})}const Mde=fe.memo(Tde),GN={orders:"Orders",positions:"Positions",buckets:"Buckets"};function Ide({baseURL:n,subscriptionClient:e,authToken:t,walletAddress:r,mnemonic:i,height:s="400px",refreshInterval:o,selectedBucketId:a=null,onBucketSelect:l,onRequestOpenTransferModal:c,activeTab:u,onTabChange:h}){const{client:d}=ni(),f=e??d,[m,g]=I.useState("orders"),v=u!=null&&h!=null,y=v?u:m,b=v?h:g,[w,S]=I.useState(null),_=Object.keys(GN).map(k=>({id:k,label:GN[k]}));return E.jsxs("div",{className:"layout-container tab-section-root",style:{height:s},children:[E.jsx(mde,{tabs:_,activeTabId:y,onTabChange:k=>b(k),children:w}),E.jsxs("div",{className:"tab-section-content",children:[y==="orders"&&E.jsx(Ede,{baseURL:n,subscriptionClient:f,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,hide_header:!0,onRequestHeaderActions:S}),y==="positions"&&E.jsx(Mde,{baseURL:n,subscriptionClient:f,authToken:t,walletAddress:r,mnemonic:i,height:"100%",refreshInterval:o,selectedBucketId:a,hide_header:!0,onRequestHeaderActions:S}),y==="buckets"&&E.jsx(xde,{baseURL:n,subscriptionClient:f,walletAddress:r,mnemonic:i??"",authToken:t,height:"100%",refreshInterval:o,onBucketSelect:l,onRequestOpenTransferModal:c,hide_header:!0,onRequestHeaderActions:S})]})]})}const Pde=fe.memo(Ide);function Ode({baseURL:n=pd,selectedMarketId:e,height:t,onMarketSelect:r,favorites:i=[],onFavoriteToggle:s}){const{markets:o,tickers:a,selectedMarketId:l,setSelectedMarketId:c}=md({baseURL:n,autoFetchMarkets:!0}),{subscribe:u,unsubscribe:h,isConnected:d,getRetainedDataByKey:f}=ni(),[m,g]=I.useState(new Set(i)),[v,y]=I.useState("1H"),[b,w]=I.useState(null),S=I.useRef(null),_=I.useRef(null),k=e||l||null,{latestFundingRate:C}=Dhe({marketId:k||"",historyDepth:1}),T=I.useMemo(()=>{if(!(C!=null&&C.fundingRate))return null;try{return ct(C.fundingRate)}catch(Y){return console.error("[TickerBar] Error converting funding rate:",Y),null}},[C]),O=I.useMemo(()=>{if(!(C!=null&&C.indexPrice))return null;try{return ct(C.indexPrice)}catch(Y){return console.error("[TickerBar] Error converting index price:",Y),null}},[C]),R=I.useMemo(()=>{if(!(C!=null&&C.openInterestLong))return null;try{return ct(C.openInterestLong)}catch(Y){return console.error("[TickerBar] Error converting open interest long:",Y),null}},[C]),D=I.useMemo(()=>{if(!(C!=null&&C.openInterestShort))return null;try{return ct(C.openInterestShort)}catch(Y){return console.error("[TickerBar] Error converting open interest short:",Y),null}},[C]),F=I.useMemo(()=>{const Y=(C==null?void 0:C.longPercentage)!=null?ct(C.longPercentage):null,ne=(C==null?void 0:C.shortPercentage)!=null?ct(C.shortPercentage):null;return Y!=null&&ne!=null?`${Rf(Y)} / ${Rf(ne)}`:null},[C]),N=I.useMemo(()=>{if(!(C!=null&&C.markPrice))return null;try{return ct(C.markPrice)}catch(Y){return console.error("[TickerBar] Error converting mark_price:",Y),null}},[C]),z=I.useMemo(()=>b!==null?b:N,[b,N]),$=I.useMemo(()=>{const Y=new Set(m);return i.forEach(ne=>Y.add(ne)),Y},[i,m]),L=I.useMemo(()=>o.map(Y=>{const ne=Y.index??Y.marketIndex??"",te=a.get(ne),re=Y.moniker||Y.symbol||(Y.baseAsset&&Y.quoteAsset?`${Y.baseAsset}/${Y.quoteAsset}`:"Unknown"),Q=!Y.active||!(te!=null&&te.lastPrice)||typeof te.lastPrice=="string"&&te.lastPrice==="0";let ee=null;te!=null&&te.lastPrice&&(typeof te.lastPrice=="string"?ee=parseFloat(te.lastPrice):ee=te.lastPrice);let ve=null;return te!=null&&te.priceChangePercent24h&&(typeof te.priceChangePercent24h=="string"?ve=parseFloat(te.priceChangePercent24h):ve=te.priceChangePercent24h),{marketId:ne,symbol:re,price:ee,priceChangePercent:ve,isClosed:Q,isFavorite:$.has(ne)}}).filter(Y=>Y.marketId),[o,a,$]),B=I.useMemo(()=>k?o.find(Y=>Y.index===k||Y.marketIndex===k):null,[o,k]),j=I.useMemo(()=>k?a.get(k):null,[a,k]),q=I.useMemo(()=>B?B.moniker||B.symbol||(B.baseAsset&&B.quoteAsset?`${B.baseAsset}/${B.quoteAsset}`:"Unknown"):"Select Market",[B]),W=I.useMemo(()=>{if(!B)return"";const Y=B.baseAsset||"",ne=B.quoteAsset||"";return Y&&ne?`${Y} to ${ne}`:B.moniker||B.symbol||""},[B]),V=I.useMemo(()=>j!=null&&j.lastPrice?typeof j.lastPrice=="string"?parseFloat(j.lastPrice):j.lastPrice:null,[j]),X=I.useMemo(()=>j!=null&&j.priceChangePercent24h?typeof j.priceChangePercent24h=="string"?parseFloat(j.priceChangePercent24h):j.priceChangePercent24h:null,[j]);I.useEffect(()=>{if(!k||!d){w(null);return}const ne=`priceFeed:${k}`,te=f==null?void 0:f(ne);if(te&&typeof te=="object"&&"price"in te)try{const Q=ct(te.price);w(Q)}catch(Q){console.error("[TickerBar] Error processing retained priceFeed:",Q)}const re=Q=>{try{if(Q&&typeof Q=="object"&&Q!==null&&"price"in Q){const ee=ct(Q.price);w(ee)}}catch(ee){console.error("[TickerBar] Error processing priceFeed update:",ee)}};return _.current=re,u(ne,re),()=>{_.current&&(h(ne,_.current),_.current=null)}},[k,d,u,h,f]);const Z=Y=>{r?r(Y):c(Y)},H=(Y,ne)=>{ne.stopPropagation();const te=new Set($);te.has(Y)?te.delete(Y):te.add(Y),g(te),s&&s(Y)},K=Y=>{var re;const ne=((re=Y.split("/")[0])==null?void 0:re.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[ne]||ne.charAt(0)||"?"};return E.jsxs("div",{className:"ticker-bar-container",style:t?{height:t}:void 0,children:[E.jsx("div",{className:"ticker-bar-top",ref:S,children:E.jsx("div",{className:"ticker-bar-scroll",children:L.map((Y,ne)=>E.jsxs(fe.Fragment,{children:[E.jsxs("div",{className:`ticker-item ${Y.marketId===k?"active":""}`,onClick:()=>Z(Y.marketId),children:[E.jsx("span",{className:"ticker-favorite-star",onClick:te=>H(Y.marketId,te),style:{cursor:"pointer",opacity:Y.isFavorite?1:.3},children:""}),E.jsx("span",{className:"ticker-asset-icon",children:K(Y.symbol)}),E.jsx("span",{className:"ticker-symbol",children:Y.symbol}),E.jsx("span",{className:"ticker-value",children:Y.isClosed?E.jsx("span",{className:"ticker-closed",children:"CLOSED"}):Y.price!==null?Bl(Y.price):"--"})]}),ne<L.length-1&&E.jsx("div",{className:"ticker-separator"})]},Y.marketId))})}),E.jsxs("div",{className:"ticker-bar-bottom",children:[E.jsxs("div",{className:"ticker-detail-left",children:[E.jsx("div",{className:"ticker-detail-icon-large",children:B?K(q):"?"}),E.jsxs("div",{className:"ticker-detail-symbol-group",children:[E.jsx("div",{className:"ticker-detail-symbol-row",children:E.jsx("span",{className:"ticker-detail-symbol",children:q})}),E.jsx("div",{className:"ticker-detail-description",children:W})]}),E.jsxs("div",{className:"ticker-detail-price-group",children:[E.jsx("div",{className:"ticker-detail-price",children:V!==null?Bl(V):"--"}),X!==null&&E.jsxs("div",{className:`ticker-detail-change ${X>=0?"positive":"negative"}`,children:[X>=0?"+":"",Rf(X/100)]})]})]}),E.jsxs("div",{className:"ticker-detail-metrics",children:[E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Index Price",children:"Index Price"}),E.jsx("span",{className:"ticker-metric-value",children:O!==null?Bl(O):"--"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),E.jsx("span",{className:"ticker-metric-value",children:z!==null?Bl(z):"--"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),E.jsx("span",{className:"ticker-metric-value",children:R!==null?YN(R):"--"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),E.jsx("span",{className:"ticker-metric-value",children:D!==null?YN(D):"--"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),E.jsx("span",{className:"ticker-metric-value",children:F??"--"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),E.jsx("span",{className:`ticker-metric-value ${T!==null&&T<0?"negative":T!==null&&T>0?"positive":""}`,children:T!==null?Rf(T):"--"})]})]}),E.jsxs("div",{className:"ticker-detail-right",children:[E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),E.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),E.jsxs("div",{className:"ticker-metric",children:[E.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),E.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),E.jsx("div",{className:"ticker-timeframe-selector",children:E.jsxs("select",{className:"ticker-timeframe-select",value:v,onChange:Y=>y(Y.target.value),children:[E.jsx("option",{value:"1H",children:"1H"}),E.jsx("option",{value:"4H",children:"4H"}),E.jsx("option",{value:"1D",children:"1D"}),E.jsx("option",{value:"1W",children:"1W"}),E.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const Rde=fe.memo(Ode),Dde=I.forwardRef(function({baseURL:e=pd,mnemonic:t=BM,marketId:r,marketSymbol:i,selectedBucketBalance:s,selectedBucketId:o,onLeverageClick:a,onNumberCalculatorClick:l,authToken:c,walletAddress:u},h){const{client:d}=ni(),{selectedMarketId:f,selectedMarketSymbol:m}=md({baseURL:e,autoFetchMarkets:!0}),g=r||f||"",v=i||m||"",{lastPrice:y}=nV({baseURL:e,marketId:g}),b=(y==null?void 0:y.price)||0,w=I.useRef(0),S=I.useRef(0),_=I.useRef(!1),{collections:k,spotWalletBalance:C}=wO({subscriptionClient:d,baseURL:e,walletAddress:u||"",authToken:c||"",useWebSocket:!!u&&!!c}),T=I.useMemo(()=>!o||!k.length?null:k.find(Ne=>Ne.bucketId===o)||null,[k,o]),{orderType:O,setOrderType:R,fundPercent:D,sizeInput:F,price:N,leverage:z,marginMode:$,availableBalance:L,currentPrice:B,isReady:j,loading:q,result:W,setFundPercent:V,setSizeInput:X,setPrice:Z,setMarginMode:H,setLeverage:K,placeBuyOrder:Y,placeSellOrder:ne,changeLeverage:te,calculateValue:re,calculateMargin:Q,calculateSizeUSD:ee,getOrderPrice:ve,getAvailableTradeAmount:ge}=whe({baseURL:e,mnemonic:t,marketId:g,marketSymbol:v,selectedBucketBalance:s,selectedBucketId:o||void 0,tradePrice:b}),We=I.useMemo(()=>ve(),[ve,O,N,B]),Re=I.useMemo(()=>ge(),[ge,L,z]),Me=I.useMemo(()=>re(),[re,F,D,L,We,z]),je=I.useMemo(()=>Q(),[Q,z,Me]),it=I.useMemo(()=>Qn(String(Me)),[Me]),Be=I.useMemo(()=>Qn(String(je)),[je]),Ue=I.useMemo(()=>({minimumFractionDigits:ua,maximumFractionDigits:Sue}),[]),Xe=I.useMemo(()=>B.toFixed(ua),[B]),Ye=I.useMemo(()=>{const Ne=k.reduce(($e,Oe)=>$e+Oe.totalEquity,0);return C+Ne},[k,C]),ut=I.useMemo(()=>Ye.toLocaleString("en-US",Ue),[Ye,Ue]),Ut=I.useMemo(()=>C.toLocaleString("en-US",Ue),[C,Ue]),me=I.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",Ue):"--",[T,Ue]),le=I.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",Ue):"--",[T,Ue]),oe=I.useMemo(()=>T?T.unrealizedPnL.toLocaleString("en-US",Ue):"--",[T,Ue]),De=I.useMemo(()=>T?(T.marginRatio*100).toFixed(ua)+"%":"--",[T]),Ve=I.useMemo(()=>T?T.usedMargin.toLocaleString("en-US",Ue):"--",[T,Ue]),ye=I.useMemo(()=>T?`${T.leverage.toFixed(ua)}x`:"--",[T]),xe=I.useMemo(()=>fde(o||null),[o]);I.useEffect(()=>{if(T){const Ne=np(T);(Ne===am||Ne===kue)&&H(Ne)}},[T,H]);const ae=I.useCallback(()=>{R(zM)},[R]),Ee=I.useCallback(()=>{R(Zw)},[R]),Ae=I.useCallback(()=>{V(Math.min(Qw,D+Jw))},[D,V]),we=I.useCallback(()=>{V(Math.max(y0,D-Jw))},[D,V]),Ie=I.useCallback(Ne=>{const $e=parseInt(Ne.target.value);V($e)},[V]),st=I.useCallback(Ne=>{Z(parseFloat(Ne.target.value))},[Z]),[Kt,$t]=I.useState(!1),[fn,Un]=I.useState(""),ht=I.useCallback(Ne=>{const $e=Ne.target.value;Un($e);const Oe=parseFloat($e),At=isNaN(Oe)?0:Math.round(Oe*1e6)/1e6;X(At)},[X]),pt=I.useCallback(()=>{$t(!0),Un(qoe(F))},[F]),Pe=I.useCallback(()=>{$t(!1);const Ne=parseFloat(fn);X(Ne),Un("")},[fn,X]),ce=I.useCallback(()=>{const Ne=tt.loading("Submit transaction...",{description:"Placing buy order"});w.current=typeof Ne=="number"?Ne:0,Y()},[Y]),dt=I.useCallback(()=>{const Ne=tt.loading("Submit transaction...",{description:"Placing sell order"});w.current=typeof Ne=="number"?Ne:0,ne()},[ne]),ot=I.useCallback(async(Ne,$e)=>{_.current=!0;const Oe=tt.loading("Changing leverage...",{description:`Updating leverage to ${Ne}x`});S.current=typeof Oe=="number"?Oe:0;try{const At=($e==null?void 0:$e.leverageType)||($===am?"cross":"isolated"),Ze=($e==null?void 0:$e.bucketId)||o||"";await te(Ne,{...$e,bucketId:Ze,leverageType:At})}catch(At){_.current=!1,S.current!==0&&(tt.dismiss(S.current),S.current=0);const Ze=At instanceof Error?At.message:"Unknown error";tt.error("Leverage Change Failed",{description:Ze,action:jn(Ze)})}},[te,$,o]);return I.useImperativeHandle(h,()=>({leverage:z,setLeverage:K,calculateMaxRatio:Ne=>{const Oe=ee();return L>0&&Oe>0?(Oe/L).toFixed(ua):Ne.toFixed(ua)},changeLeverage:ot,setPrice:Ne=>{const $e=typeof Ne=="number"?Ne:parseFloat(Ne);isNaN($e)||Z($e)},setSizeInput:Ne=>{X(Ne)},getSizeInput:()=>F,getAvailableTradeAmount:()=>Re}),[z,K,ee,ve,L,ot,Z,X,F,Re]),I.useEffect(()=>{if(W)if(_.current)if(_.current=!1,S.current!==0&&(tt.dismiss(S.current),S.current=0),W.success){const Ne=W.orderId?`Transaction: ${W.orderId}`:W.message||"Leverage changed successfully";tt.success("Leverage Changed Successfully",{description:Ne})}else W.error&&tt.error("Leverage Change Failed",{description:W.error,action:jn(W.error||"")});else if(w.current!==0&&(tt.dismiss(w.current),w.current=0),W.success){const Ne=W.orderId?`Order ID: ${W.orderId}`:W.message||"Order placed successfully";tt.success("Order Placed Successfully",{description:Ne})}else W.error&&tt.error("Order Failed",{description:W.error,action:jn(W.error||"")})},[W]),E.jsxs("div",{className:"component",children:[E.jsx("h2",{children:v}),E.jsxs("div",{className:"trade-op-config",children:[E.jsxs("div",{className:"trade-op-badge",children:[E.jsx("span",{className:"trade-op-badge-label",children:$}),E.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),E.jsxs("div",{className:"trade-op-badge",onClick:a,style:{cursor:"pointer"},children:[E.jsxs("span",{className:"trade-op-badge-label",children:[z,"x"]}),E.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),E.jsxs("div",{className:"trade-op-order-type-selector",children:[E.jsx("button",{onClick:ae,className:`btn-toggle ${O===zM?"active":""}`,children:"MARKET"}),E.jsx("button",{onClick:Ee,className:`btn-toggle ${O===Zw?"active":""}`,children:"LIMIT"})]}),O===Zw&&E.jsx("div",{className:"trade-op-form-group",children:E.jsxs("div",{className:"trade-op-form-row",children:[E.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),E.jsx("input",{id:"price",type:"number",value:N,onChange:st,placeholder:Xe,step:bue,min:fN})]})}),E.jsxs("div",{className:"trade-op-form-group",children:[E.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[E.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),E.jsx("span",{className:"trade-op-icon",onClick:l,children:E.jsx("img",{src:"cal.svg"})}),E.jsxs("div",{className:"trade-op-size-controls",children:[E.jsx("input",{id:"size",type:"number",step:"0.000001",value:Kt?fn:F,onChange:ht,onFocus:pt,onBlur:Pe,placeholder:"0",min:fN,max:Re,className:"trade-op-input"}),E.jsxs("div",{className:"trade-op-size-buttons",children:[E.jsx("button",{onClick:Ae,className:"btn-small",children:""}),E.jsx("button",{onClick:we,className:"btn-small",children:""})]})]})]}),E.jsx("input",{type:"range",min:y0,max:Qw,value:D,onChange:Ie,step:Jw,style:{width:"100%","--slider-progress":`${(D-y0)/(Qw-y0)*100}%`},className:"filled-slider"}),E.jsxs("div",{className:"trade-op-slider-labels",children:[E.jsx("span",{children:"0"}),E.jsx("span",{children:"20"}),E.jsx("span",{children:"40"}),E.jsx("span",{children:"60"}),E.jsx("span",{children:"80"}),E.jsx("span",{children:"100"})]})]}),E.jsxs("div",{className:"trade-op-action-panel",children:[E.jsxs("div",{children:[E.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),E.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),E.jsx("button",{onClick:ce,disabled:q||!j||Me<=0,className:"btn-buy",children:q?"PLACING...":"BUY LONG"}),E.jsxs("div",{className:"trade-op-panel-details",children:[E.jsxs("div",{children:["Value ",it.toFixed(2)]}),E.jsxs("div",{children:["Margin ",Be.toFixed(2)]})]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),E.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),E.jsx("button",{onClick:dt,disabled:q||!j||Me<=0,className:"btn-sell",children:q?"PLACING...":"SELL SHORT"}),E.jsxs("div",{className:"trade-op-panel-details",children:[E.jsxs("div",{children:["Value ",it.toFixed(ua)]}),E.jsxs("div",{children:["Margin ",Be.toFixed(ua)]})]})]})]}),E.jsxs("div",{className:"trade-op-info-panel",children:[E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),E.jsxs("span",{className:"trade-op-info-value",children:[ut," USDC"]})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),E.jsxs("span",{className:"trade-op-info-value",children:[Ut," USDC"]})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsxs("span",{className:"trade-op-info-label",children:[o||"Bucket",":"]}),E.jsxs("span",{className:"trade-op-info-value",children:[me," USDC"]})]}),E.jsx("div",{className:"trade-op-info-row",children:E.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",xe]})}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),E.jsxs("span",{className:"trade-op-info-value",children:[le," USDC"]})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),E.jsxs("span",{className:"trade-op-info-value",children:[oe," USDC"]})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),E.jsx("span",{className:"trade-op-info-value",children:De})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),E.jsxs("span",{className:"trade-op-info-value",children:[Ve," USDC"]})]}),E.jsxs("div",{className:"trade-op-info-row",children:[E.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),E.jsx("span",{className:"trade-op-info-value",children:ye})]})]})]})});function Ade({baseURL:n=pd,marketId:e=gue,limit:t=vue}){const{lastPrice:r,displayPrice:i,recentTrades:s,loading:o,error:a,isConnected:l,priceChange:c}=nV({baseURL:n,marketId:e}),u=I.useRef(null),h=I.useRef(""),d=I.useRef(null),f=I.useCallback(()=>{const C=u.current;if(!C)return;const T=C.parentElement;if(!T)return;const O=C.textContent||"";if(!O)return;const R=window.getComputedStyle(T),D=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight),F=T.clientWidth-D;let N=12,z=48,$=N;const L=document.createElement("div");for(L.style.position="absolute",L.style.visibility="hidden",L.style.whiteSpace="nowrap",L.style.fontFamily=window.getComputedStyle(C).fontFamily,L.style.fontWeight=window.getComputedStyle(C).fontWeight,document.body.appendChild(L);N<=z;){const j=Math.floor((N+z)/2);L.style.fontSize=`${j}px`,L.textContent=O,L.offsetWidth<=F?($=j,N=j+1):z=j-1}document.body.removeChild(L);const B=parseFloat(window.getComputedStyle(C).fontSize);Math.abs(B-$)>.5&&(C.style.fontSize=`${$}px`)},[]);I.useEffect(()=>{if(i==null)return;const C=Bl(i);if(C===h.current)return;h.current=C,d.current!==null&&clearTimeout(d.current),d.current=window.setTimeout(()=>{f()},150);let T;const O=()=>{clearTimeout(T),T=window.setTimeout(()=>{d.current!==null&&clearTimeout(d.current),d.current=window.setTimeout(()=>{f()},150)},100)};return window.addEventListener("resize",O),()=>{d.current!==null&&clearTimeout(d.current),T!==void 0&&clearTimeout(T),window.removeEventListener("resize",O)}},[i,f]);const m=I.useCallback(C=>{if(!C||isNaN(C)||C<=0)return"Invalid";let T=C;T<9466848e5&&(T=T*1e3);const O=new Date(T);return isNaN(O.getTime())?"Invalid":O.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),g=I.useCallback(C=>C?"#51cf66":"#ff6b6b",[]),v=I.useCallback(C=>C?"BUY":"SELL",[]),y=I.useCallback(C=>C?"":"",[]);if(o)return E.jsx(gd,{message:"Loading trade price..."});if(a)return E.jsx(vd,{error:a});if(i==null)return E.jsx(zo,{message:"No trade data available"});const b=r&&r.isBuyerMaker!==void 0,w=b?g(r.isBuyerMaker):"#888",S=b?v(r.isBuyerMaker):"N/A",_=b?y(r.isBuyerMaker):"",k=c==="up"?"flash-price-up":c==="down"?"flash-price-down":"";return E.jsxs("div",{className:"layout-container trade-price-container",children:[E.jsx(yd,{title:E.jsx(_O,{isConnected:l}),children:E.jsx("div",{children:"Last Trade Price"})}),E.jsxs("div",{className:`trade-price-main ${k}`,children:[E.jsx("div",{ref:u,className:"trade-price-value",style:{color:w},children:Bl(i)}),E.jsxs("div",{className:"trade-price-side",style:{color:w},children:[E.jsx("span",{children:_}),E.jsx("span",{children:S})]})]}),E.jsx("div",{className:"trade-price-trades-table",children:s.length===0?E.jsx("div",{className:"message",children:"No trades available"}):E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Time"}),E.jsx("th",{className:"right",children:"Size"}),E.jsx("th",{className:"right",children:"Price"})]})}),E.jsx("tbody",{children:s.map((C,T)=>{const O=C.isBuyerMaker?"#51cf66":"#ff6b6b";return E.jsxs("tr",{children:[E.jsx("td",{children:m(C.time)}),E.jsx("td",{className:"right",children:cde(C.size)}),E.jsx("td",{className:"right price",style:{color:O},children:Bl(C.price)})]},`${T}-${C.time}-${C.price}-${C.size}`)})})]})})]})}const Nde=fe.memo(Ade),sV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return E.jsxs("div",{className:`orderbook-level ask${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[E.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${r}%`}}),E.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),E.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),E.jsx("div",{className:"orderbook-depth-indicator",children:E.jsx("div",{className:"orderbook-depth-line ask"})})]})},oV=({level:n,index:e,isLast:t,depthPercent:r,formatPrice:i,formatSize:s,onPriceClick:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",l=n.isPending?" pending":"",c=()=>{o&&o(n.price)};return E.jsxs("div",{className:`orderbook-level bid${l} ${a}`,style:{borderBottom:t?"none":void 0},children:[E.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${r}%`}}),E.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:o?"pointer":"default"},title:o?"Click to set price":void 0,children:i(n.price)}),E.jsx("div",{className:"orderbook-level-content right",children:s(n.size)}),E.jsx("div",{className:"orderbook-depth-indicator",children:E.jsx("div",{className:"orderbook-depth-line bid"})})]})};function Lde({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=KG,height:i=VG,onPriceClick:s}){var O,R;const{asks:o,bids:a,spread:l,midPrice:c,loading:u,error:h,isConnected:d,wsError:f}=ZG({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r}),m=I.useRef(null),g=I.useRef(null),v=I.useRef(null),y=I.useRef(0),b=I.useRef(0);I.useEffect(()=>{const D=o.length!==y.current,F=a.length!==b.current;if(!(!D&&!F))return y.current=o.length,b.current=a.length,v.current!==null&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(m.current&&D){const N=m.current;N.scrollTop=N.scrollHeight}if(g.current&&F){const N=g.current;N.scrollTop=0}v.current=null}),()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)}},[o.length,a.length]);const w=o.length>0?((O=o[o.length-1])==null?void 0:O.cumulative)??0:0,S=a.length>0?((R=a[a.length-1])==null?void 0:R.cumulative)??0:0,_=I.useMemo(()=>Math.max(w,S),[w,S]),k=yy,C=by,T=I.useCallback(D=>_===0?0:D/_*100,[_]);return u?E.jsx(gd,{message:"Loading orderbook..."}):h?E.jsx(vd,{error:h}):E.jsxs("div",{className:"layout-container",style:{height:i},children:[f&&(o.length>0||a.length>0)&&E.jsxs("div",{className:"orderbook-ws-warning",children:[E.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),E.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),E.jsx(yd,{title:E.jsx(_O,{isConnected:d}),children:E.jsxs("div",{children:["Depth: ",r]})}),c&&E.jsxs("div",{className:"orderbook-mid-price",children:[E.jsx("div",{className:"orderbook-mid-price-value",children:k(c)}),l!==void 0&&E.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",k(l)]})]}),E.jsxs("div",{className:"orderbook-content",children:[E.jsxs("div",{className:"orderbook-section",ref:m,children:[o.map((D,F)=>{const N=w-D.cumulative+D.size,z=T(N);return E.jsx(sV,{level:D,index:F,isLast:F===o.length-1,depthPercent:z,formatPrice:k,formatSize:C,onPriceClick:s},`ask-${D.price}-${F}`)}),o.length===0&&E.jsx(zo,{message:"No ask orders"})]}),E.jsxs("div",{className:"orderbook-section bids",ref:g,children:[a.map((D,F)=>{const N=T(D.cumulative);return E.jsx(oV,{level:D,index:F,isLast:F===a.length-1,depthPercent:N,formatPrice:k,formatSize:C,onPriceClick:s},`bid-${D.price}-${F}`)}),a.length===0&&E.jsx(zo,{message:"No bid orders"})]})]}),E.jsx(aV,{totalBids:S,totalAsks:w})]})}const aV=fe.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return E.jsxs("div",{className:"orderbook-footer",children:[E.jsxs("div",{className:"orderbook-footer-legend",children:[E.jsx("div",{className:"orderbook-footer-bar bid"}),E.jsx("span",{className:"color-text-muted",children:r})]}),E.jsxs("div",{className:"orderbook-footer-legend",children:[E.jsx("div",{className:"orderbook-footer-bar ask"}),E.jsx("span",{className:"color-text-muted",children:i})]})]})});aV.displayName="FooterSummary";fe.memo(Lde);function Fde(n,e,t,r){const i=o=>{const a=1-o;return 3*a*a*o*n+3*a*o*o*t+o*o*o},s=o=>{const a=1-o;return 3*a*a*o*e+3*a*o*o*r+o*o*o};return o=>{if(o<=0)return 0;if(o>=1)return 1;let a=0,l=1,c=.5;for(let u=0;u<12;u++){const h=i(c);if(Math.abs(h-o)<1e-4)break;h<o?a=c:l=c,c=(a+l)/2}return s(c)}}function $de({baseURL:n,subscriptionClient:e,marketId:t,maxDepth:r=KG,height:i=VG,onPriceClick:s,enhancementConfig:o}){var Z,H;const{client:a}=ni(),l=e??a,c=ZG({baseURL:n,...l!=null&&{subscriptionClient:l},marketId:t,maxDepth:r}),{asks:u,bids:h,spread:d,loading:f,error:m,isConnected:g,wsError:v}=Ohe({asks:c.asks,bids:c.bids,spread:c.spread,loading:c.loading,error:c.error,isConnected:c.isConnected,wsError:c.wsError},o??{enabled:!1},r),y=I.useRef(null),b=I.useRef(null),w=I.useRef(null),S=I.useRef(null),_=I.useRef(!1),k=I.useRef(null),C=I.useRef(null),T=I.useRef(!1),O=I.useRef(0),R=u.length>0?((Z=u[u.length-1])==null?void 0:Z.cumulative)??0:0,D=h.length>0?((H=h[h.length-1])==null?void 0:H.cumulative)??0:0,F=I.useMemo(()=>Math.max(R,D),[R,D]),N=yy,z=by,$=I.useCallback(K=>F===0?0:K/F*100,[F]),L=I.useCallback((K,Y,ne)=>{if(_.current)return;_.current=!0;const te=ne,re=Y-te,Q=300,ee=performance.now(),ve=ee+Q,ge=Fde(.57,.4,.55,1.17),We=Re=>{if(Re>=ve){K.scrollTop=Math.max(0,Y),_.current=!1,O.current=performance.now(),S.current&&(cancelAnimationFrame(S.current),S.current=null);return}const Me=Re-ee,je=Math.min(Me/Q,1),it=ge(je),Be=te+re*it;K.scrollTop=Math.max(0,Be),S.current=requestAnimationFrame(We)};S.current=requestAnimationFrame(We)},[]),B=I.useCallback((K=0)=>{if(_.current||performance.now()-O.current<500||!y.current||!b.current)return;const te=y.current,Q=b.current.clientHeight;if(Q===0)return;const ee=Q/2,ve=20.83333;if(u.length*ve<=ee||d<=0||u.length===0||h.length===0)return;if(!w.current){if(K<3){C.current&&clearTimeout(C.current);const Ye=50*(K+1);C.current=window.setTimeout(()=>{C.current=null,B(K+1)},Ye)}return}const We=w.current,Re=We.offsetTop,Me=We.offsetHeight;if(Me===0){if(K<3){C.current&&clearTimeout(C.current);const Ye=50*(K+1);C.current=window.setTimeout(()=>{C.current=null,B(K+1)},Ye)}return}const je=Re+Me/2,it=Q/2,Be=je-it-ve,Ue=te.scrollTop;Math.abs(Be-Ue)>1&&L(te,Math.max(0,Be),Ue)},[u.length,d,L]);I.useEffect(()=>{const K=()=>{T.current&&(T.current=!1,B())};return window.addEventListener("mouseup",K),()=>{window.removeEventListener("mouseup",K)}},[B]),I.useEffect(()=>{if(!y.current||!b.current)return;const K=requestAnimationFrame(()=>{requestAnimationFrame(()=>{B()})});return()=>{cancelAnimationFrame(K),S.current&&(cancelAnimationFrame(S.current),S.current=null),k.current&&(clearTimeout(k.current),k.current=null),C.current&&(clearTimeout(C.current),C.current=null),_.current=!1}},[u.length,h.length,d,F,B]);const j=I.useCallback(()=>{_.current&&S.current&&(cancelAnimationFrame(S.current),S.current=null,_.current=!1),k.current&&(clearTimeout(k.current),k.current=null)},[]),q=I.useCallback(K=>{const Y=K.currentTarget,ne=Y.offsetWidth-Y.clientWidth;if(ne>0){const te=Y.getBoundingClientRect();K.clientX-te.left>Y.clientWidth-ne-5&&(T.current=!0,j())}},[j]),W=I.useCallback(()=>{T.current&&j()},[j]),V=I.useCallback(()=>{T.current&&(T.current=!1,B())},[B]),X=I.useCallback(()=>{j(),k.current&&clearTimeout(k.current),T.current||(k.current=window.setTimeout(()=>{k.current=null,B()},150))},[B,j]);return f?E.jsx(gd,{message:"Loading orderbook..."}):m?E.jsx(vd,{error:m}):E.jsxs("div",{className:"layout-container",style:{height:i},children:[v&&(u.length>0||h.length>0)&&E.jsxs("div",{className:"orderbook-ws-warning",children:[E.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),E.jsx("span",{className:"orderbook-ws-warning-text",children:v})]}),E.jsx(yd,{title:E.jsx(_O,{isConnected:g??!1}),children:E.jsxs("div",{children:["Depth: ",r]})}),E.jsx("div",{className:"orderbook-content",ref:b,children:E.jsxs("div",{className:"orderbook-section",ref:y,onScroll:X,onMouseDown:q,onMouseMove:W,onMouseUp:V,onMouseLeave:V,children:[u.map((K,Y)=>{const ne=R-K.cumulative+K.size,te=$(ne);return E.jsx(sV,{level:K,index:Y,isLast:Y===u.length-1&&h.length===0,depthPercent:te,formatPrice:N,formatSize:z,onPriceClick:s},`ask-${K.price}-${Y}`)}),d>0&&u.length>0&&h.length>0&&E.jsxs("div",{className:"orderbook-mid-price-spread",ref:w,children:["Spread: ",N(d)]}),h.map((K,Y)=>{const ne=$(K.cumulative);return E.jsx(oV,{level:K,index:Y,isLast:Y===h.length-1,depthPercent:ne,formatPrice:N,formatSize:z,onPriceClick:s},`bid-${K.price}-${Y}`)}),u.length===0&&h.length===0&&E.jsx(zo,{message:"No orders"}),u.length===0&&h.length>0&&E.jsx(zo,{message:"No ask orders"}),h.length===0&&u.length>0&&E.jsx(zo,{message:"No bid orders"})]})}),E.jsx(lV,{totalBids:D,totalAsks:R})]})}const lV=fe.memo(({totalBids:n,totalAsks:e})=>{const t=n+e,r=t>0?`${(n/t*100).toFixed(0)}%`:"0%",i=t>0?`${(e/t*100).toFixed(0)}%`:"0%";return E.jsxs("div",{className:"orderbook-footer",children:[E.jsxs("div",{className:"orderbook-footer-legend",children:[E.jsx("div",{className:"orderbook-footer-bar bid"}),E.jsx("span",{className:"color-text-muted",children:r})]}),E.jsxs("div",{className:"orderbook-footer-legend",children:[E.jsx("div",{className:"orderbook-footer-bar ask"}),E.jsx("span",{className:"color-text-muted",children:i})]})]})});lV.displayName="FooterSummary";const jde=fe.memo($de);function bd(n){const{margin:e,containerPadding:t,containerWidth:r,cols:i}=n;return(r-e[0]*(i-1)-t[0]*2)/i}function zh(n,e,t){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*t):n}function lf(n,e,t,r,i,s,o){const{margin:a,containerPadding:l,rowHeight:c}=n,u=bd(n);let h,d,f,m;if(o?(h=Math.round(o.width),d=Math.round(o.height)):(h=zh(r,u,a[0]),d=zh(i,c,a[1])),s?(f=Math.round(s.top),m=Math.round(s.left)):o?(f=Math.round(o.top),m=Math.round(o.left)):(f=Math.round((c+a[1])*t+l[1]),m=Math.round((u+a[0])*e+l[0])),!s&&!o){if(Number.isFinite(r)){const v=Math.round((u+a[0])*(e+r)+l[0])-m-h;v!==a[0]&&(h+=v-a[0])}if(Number.isFinite(i)){const v=Math.round((c+a[1])*(t+i)+l[1])-f-d;v!==a[1]&&(d+=v-a[1])}}return{top:f,left:m,width:h,height:d}}function Bde(n,e,t,r,i){const{margin:s,containerPadding:o,cols:a,rowHeight:l,maxRows:c}=n,u=bd(n);let h=Math.round((t-o[0])/(u+s[0])),d=Math.round((e-o[1])/(l+s[1]));return h=xy(h,0,a-r),d=xy(d,0,c-i),{x:h,y:d}}function S0(n,e,t){const{margin:r,containerPadding:i,rowHeight:s}=n,o=bd(n),a=Math.round((t-i[0])/(o+r[0])),l=Math.round((e-i[1])/(s+r[1]));return{x:a,y:l}}function zde(n,e,t){const{margin:r,rowHeight:i}=n,s=bd(n),o=Math.max(1,Math.round((e+r[0])/(s+r[0]))),a=Math.max(1,Math.round((t+r[1])/(i+r[1])));return{w:o,h:a}}function xy(n,e,t){return Math.max(Math.min(n,t),e)}function SO(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function oc(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&SO(r,e))return r}}function cV(n,e){return n.filter(t=>SO(t,e))}function qde(n,e){return e==="horizontal"?uV(n):e==="vertical"||e==="wrap"?WM(n):[...n]}function WM(n){return[...n].sort((e,t)=>e.y!==t.y?e.y-t.y:e.x-t.x)}function uV(n){return[...n].sort((e,t)=>e.x!==t.x?e.x-t.x:e.y-t.y)}function Lb(n){let e=0;for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0){const i=r.y+r.h;i>e&&(e=i)}}return e}function Ml(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r!==void 0&&r.i===e)return r}}function Fb(n){return n.filter(e=>e.static===!0)}function wc(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,constraints:n.constraints,isBounded:n.isBounded}}function rl(n){const e=new Array(n.length);for(let t=0;t<n.length;t++){const r=n[t];r!==void 0&&(e[t]=wc(r))}return e}function Ude(n,e){const t=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e.i===i.i?t[r]=e:t[r]=i)}return t}function Hde(n,e,t){let r=Ml(n,e);return r?(r=t(wc(r)),[Ude(n,r),r]):[[...n],null]}function kO(n,e){const t=Fb(n);for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0)if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)t.push(i);else for(;oc(t,i);)i.y++}return n}function zl(n,e,t,r,i,s,o,a,l){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===r&&e.x===t)return[...n];const c=e.x,u=e.y;typeof t=="number"&&(e.x=t),typeof r=="number"&&(e.y=r),e.moved=!0;let h=qde(n,o);(o==="vertical"&&typeof r=="number"?u>=r:o==="horizontal"&&typeof t=="number"?c>=t:!1)&&(h=h.reverse());const f=cV(h,e),m=f.length>0;if(m&&l)return rl(n);if(m&&s)return e.x=c,e.y=u,e.moved=!1,n;let g=[...n];for(let v=0;v<f.length;v++){const y=f[v];y!==void 0&&(y.moved||(y.static?g=VN(g,y,e,i,o):g=VN(g,e,y,i,o)))}return g}function VN(n,e,t,r,i,s){const o=i==="horizontal",a=i==="vertical",l=e.static;if(r){r=!1;const h={x:o?Math.max(e.x-t.w,0):t.x,y:a?Math.max(e.y-t.h,0):t.y,w:t.w,h:t.h,i:"-1"},d=oc(n,h),f=d!==void 0&&d.y+d.h>e.y,m=d!==void 0&&e.x+e.w>d.x;if(!d)return zl(n,t,o?h.x:void 0,a?h.y:void 0,r,l,i);if(f&&a)return zl(n,t,void 0,t.y+1,r,l,i);if(f&&i===null)return e.y=t.y,t.y=t.y+t.h,[...n];if(m&&o)return zl(n,e,t.x,void 0,r,l,i)}const c=o?t.x+1:void 0,u=a?t.y+1:void 0;return c===void 0&&u===void 0?[...n]:zl(n,t,c,u,r,l,i)}function Ou(n,e,t){return Math.max(e,Math.min(t,n))}var Wde={name:"gridBounds",constrainPosition(n,e,t,{cols:r,maxRows:i}){return{x:Ou(e,0,Math.max(0,r-n.w)),y:Ou(t,0,Math.max(0,i-n.h))}},constrainSize(n,e,t,r,{cols:i,maxRows:s}){const o=r==="w"||r==="nw"||r==="sw"?n.x+n.w:i-n.x,a=r==="n"||r==="nw"||r==="ne"?n.y+n.h:s-n.y;return{w:Ou(e,1,Math.max(1,o)),h:Ou(t,1,Math.max(1,a))}}},Yde={name:"minMaxSize",constrainSize(n,e,t){return{w:Ou(e,n.minW??1,n.maxW??1/0),h:Ou(t,n.minH??1,n.maxH??1/0)}}},hV=[Wde,Yde];function k0(n,e,t,r,i){let s={x:t,y:r};for(const o of n)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));if(e.constraints)for(const o of e.constraints)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));return s}function Gde(n,e,t,r,i,s){let o={w:t,h:r};for(const a of n)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));if(e.constraints)for(const a of e.constraints)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));return o}function CO({top:n,left:e,width:t,height:r}){const i=`translate(${e}px,${n}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${t}px`,height:`${r}px`,position:"absolute"}}function dV({top:n,left:e,width:t,height:r}){return{top:`${n}px`,left:`${e}px`,width:`${t}px`,height:`${r}px`,position:"absolute"}}function KN(n){return n*100+"%"}function Vde(n,e,t,r){return n+t>r?e:t}function fV(n,e,t){return n<0?e:t}function Kde(n){return Math.max(0,n)}function wy(n){return Math.max(0,n)}var EO=(n,e,t)=>{const{left:r,height:i,width:s}=e,o=n.top-(i-n.height);return{left:r,width:s,height:fV(o,n.height,i),top:wy(o)}},TO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{top:r,height:s,width:Vde(n.left,n.width,o,t),left:Kde(i)}},MO=(n,e,t)=>{const{top:r,height:i,width:s}=e,o=n.left+n.width-s;return o<0?{height:i,width:n.left+n.width,top:wy(r),left:0}:{height:i,width:s,top:wy(r),left:o}},IO=(n,e,t)=>{const{top:r,left:i,height:s,width:o}=e;return{width:o,left:i,height:fV(r,n.height,s),top:wy(r)}},Xde=(n,e,t)=>EO(n,TO(n,e,t)),Qde=(n,e,t)=>EO(n,MO(n,e)),Jde=(n,e,t)=>IO(n,TO(n,e,t)),Zde=(n,e,t)=>IO(n,MO(n,e)),efe={n:EO,ne:Xde,e:TO,se:Jde,s:IO,sw:Zde,w:MO,nw:Qde};function tfe(n,e,t,r){const i=efe[n];return i?i(e,{...e,...t},r):t}var pV={type:"transform",scale:1,calcStyle(n){return CO(n)}},nfe={type:"absolute",scale:1,calcStyle(n){return dV(n)}};function rfe(n){return{type:"transform",scale:n,calcStyle(e){return CO(e)},calcDragPosition(e,t,r,i){return{left:(e-r)/n,top:(t-i)/n}}}}var ife=pV,sfe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},ofe={enabled:!0,bounded:!1,threshold:3},afe={enabled:!0,handles:["se"]},lfe={enabled:!1,defaultItem:{w:1,h:1}};function PO(n,e,t,r,i){const s=r==="x"?"w":"h";e[r]+=1;const o=n.findIndex(l=>l.i===e.i),a=i??Fb(n).length>0;for(let l=o+1;l<n.length;l++){const c=n[l];if(c!==void 0&&!c.static){if(!a&&c.y>e.y+e.h)break;SO(e,c)&&PO(n,c,t+e[s],r,a)}}e[r]=t}function cfe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),e.y=Math.min(r,e.y);e.y>0&&!oc(n,e);)e.y--;let i;for(;(i=oc(n,e))!==void 0;)PO(t,e,i.y+i.h,"y");return e.y=Math.max(e.y,0),e}function ufe(n,e,t,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0);e.x>0&&!oc(n,e);)e.x--;let i;for(;(i=oc(n,e))!==void 0;)if(PO(r,e,i.x+i.w,"x"),e.x+e.w>t)for(e.x=t-e.w,e.y++;e.x>0&&!oc(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var mV={type:"vertical",allowOverlap:!1,compact(n,e){const t=Fb(n);let r=Lb(t);const i=WM(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=wc(a);l.static||(l=cfe(t,l,i,r),r=Math.max(r,l.y+l.h),t.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s}},gV={type:"horizontal",allowOverlap:!1,compact(n,e){const t=Fb(n),r=uV(n),i=new Array(n.length);for(let s=0;s<r.length;s++){const o=r[s];if(o===void 0)continue;let a=wc(o);a.static||(a=ufe(t,a,e,r),t.push(a));const l=n.indexOf(o);i[l]=a,a.moved=!1}return i}},vV={type:null,allowOverlap:!1,compact(n,e){return rl(n)}},hfe={...mV,allowOverlap:!0,compact(n,e){return rl(n)}},dfe={...gV,allowOverlap:!0,compact(n,e){return rl(n)}},ffe={...vV,allowOverlap:!0};function $b(n,e=!1,t=!1){let r;return e?n==="vertical"?r=hfe:n==="horizontal"?r=dfe:r=ffe:n==="vertical"?r=mV:n==="horizontal"?r=gV:r=vV,t?{...r,preventCollision:t}:r}function yV(n){return Object.keys(n).sort((t,r)=>n[t]-n[r])}function XN(n,e){const t=yV(n);let r=t[0];if(r===void 0)throw new Error("No breakpoints defined");for(let i=1;i<t.length;i++){const s=t[i];if(s===void 0)continue;const o=n[s];e>o&&(r=s)}return r}function QN(n,e){const t=e[n];if(t===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return t}function f1(n,e,t,r,i,s){const o=n[t];if(o)return rl(o);let a=n[r];const l=yV(e),c=l.slice(l.indexOf(t));for(let f=0;f<c.length;f++){const m=c[f];if(m===void 0)continue;const g=n[m];if(g){a=g;break}}const u=rl(a||[]),h=kO(u,{cols:i});return(typeof s=="object"&&s!==null?s:$b(s)).compact(h,i)}function C0(n,e){if(Array.isArray(n))return n;const t=n,r=t[e];if(r!==void 0)return r;const i=Object.keys(t);for(const s of i){const o=t[s];if(o!==void 0)return o}return[10,10]}var jb={exports:{}},bV={},xV={exports:{}},pfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mfe=pfe,gfe=mfe;function wV(){}function _V(){}_V.resetWarningCache=wV;var vfe=function(){function n(r,i,s,o,a,l){if(l!==gfe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_V,resetWarningCache:wV};return t.PropTypes=t,t};xV.exports=vfe();var Bb=xV.exports;function SV(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=SV(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cm(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=SV(n))&&(r&&(r+=" "),r+=e);return r}const yfe=Object.freeze(Object.defineProperty({__proto__:null,clsx:cm,default:cm},Symbol.toStringTag,{value:"Module"})),bfe=ine(yfe);var En={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.dontSetMe=kfe;oo.findInArray=xfe;oo.int=Sfe;oo.isFunction=wfe;oo.isNum=_fe;function xfe(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function wfe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function _fe(n){return typeof n=="number"&&!isNaN(n)}function Sfe(n){return parseInt(n,10)}function kfe(n,e,t){if(n[e])return new Error(`Invalid prop ${e} passed to ${t} - do not set this, set it on the child.`)}var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.browserPrefixToKey=CV;jc.browserPrefixToStyle=Cfe;jc.default=void 0;jc.getPrefix=kV;const p1=["Moz","Webkit","O","ms"];function kV(){var t,r;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(r=(t=window.document)==null?void 0:t.documentElement)==null?void 0:r.style;if(!e||n in e)return"";for(let i=0;i<p1.length;i++)if(CV(n,p1[i])in e)return p1[i];return""}function CV(n,e){return e?`${e}${Efe(n)}`:n}function Cfe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function Efe(n){let e="",t=!0;for(let r=0;r<n.length;r++)t?(e+=n[r].toUpperCase(),t=!1):n[r]==="-"?t=!0:e+=n[r];return e}jc.default=kV();Object.defineProperty(En,"__esModule",{value:!0});En.addClassName=MV;En.addEvent=Mfe;En.addUserSelectStyles=jfe;En.createCSSTransform=Nfe;En.createSVGTransform=Lfe;En.getTouch=Ffe;En.getTouchIdentifier=$fe;En.getTranslation=OO;En.innerHeight=Rfe;En.innerWidth=Dfe;En.matchesSelector=TV;En.matchesSelectorAndParentsTo=Tfe;En.offsetXYFromParent=Afe;En.outerHeight=Pfe;En.outerWidth=Ofe;En.removeClassName=IV;En.removeEvent=Ife;En.scheduleRemoveUserSelectStyles=Bfe;var wi=oo,JN=EV(jc);function EV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(EV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}let E0="";function TV(n,e){return E0||(E0=(0,wi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,wi.isFunction)(n[t])})),(0,wi.isFunction)(n[E0])?n[E0](e):!1}function Tfe(n,e,t){let r=n;do{if(TV(r,e))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function Mfe(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.addEventListener?n.addEventListener(e,t,i):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function Ife(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.removeEventListener?n.removeEventListener(e,t,i):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function Pfe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,wi.int)(t.borderTopWidth),e+=(0,wi.int)(t.borderBottomWidth),e}function Ofe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,wi.int)(t.borderLeftWidth),e+=(0,wi.int)(t.borderRightWidth),e}function Rfe(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,wi.int)(t.paddingTop),e-=(0,wi.int)(t.paddingBottom),e}function Dfe(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,wi.int)(t.paddingLeft),e-=(0,wi.int)(t.paddingRight),e}function Afe(n,e,t){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-i.left)/t,o=(n.clientY+e.scrollTop-i.top)/t;return{x:s,y:o}}function Nfe(n,e){const t=OO(n,e,"px");return{[(0,JN.browserPrefixToKey)("transform",JN.default)]:t}}function Lfe(n,e){return OO(n,e,"")}function OO(n,e,t){let{x:r,y:i}=n,s=`translate(${r}${t},${i}${t})`;if(e){const o=`${typeof e.x=="string"?e.x:e.x+t}`,a=`${typeof e.y=="string"?e.y:e.y+t}`;s=`translate(${o}, ${a})`+s}return s}function Ffe(n,e){return n.targetTouches&&(0,wi.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,wi.findInArray)(n.changedTouches,t=>e===t.identifier)}function $fe(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function jfe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&MV(n.body,"react-draggable-transparent-selection")}function Bfe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{ZN(n)}):ZN(n)}function ZN(n){if(n)try{if(n.body&&IV(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function MV(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function IV(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.canDragX=Ufe;ao.canDragY=Hfe;ao.createCoreData=Yfe;ao.createDraggableData=Gfe;ao.getBoundPosition=zfe;ao.getControlPosition=Wfe;ao.snapToGrid=qfe;var ui=oo,Ru=En;function zfe(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:r}=n.props;r=typeof r=="string"?r:Vfe(r);const i=RO(n);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=i.getRootNode().querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=o.getComputedStyle(i),u=o.getComputedStyle(l);r={left:-i.offsetLeft+(0,ui.int)(u.paddingLeft)+(0,ui.int)(c.marginLeft),top:-i.offsetTop+(0,ui.int)(u.paddingTop)+(0,ui.int)(c.marginTop),right:(0,Ru.innerWidth)(l)-(0,Ru.outerWidth)(i)-i.offsetLeft+(0,ui.int)(u.paddingRight)-(0,ui.int)(c.marginRight),bottom:(0,Ru.innerHeight)(l)-(0,Ru.outerHeight)(i)-i.offsetTop+(0,ui.int)(u.paddingBottom)-(0,ui.int)(c.marginBottom)}}return(0,ui.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ui.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,ui.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ui.isNum)(r.top)&&(t=Math.max(t,r.top)),[e,t]}function qfe(n,e,t){const r=Math.round(e/n[0])*n[0],i=Math.round(t/n[1])*n[1];return[r,i]}function Ufe(n){return n.props.axis==="both"||n.props.axis==="x"}function Hfe(n){return n.props.axis==="both"||n.props.axis==="y"}function Wfe(n,e,t){const r=typeof e=="number"?(0,Ru.getTouch)(n,e):null;if(typeof e=="number"&&!r)return null;const i=RO(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ru.offsetXYFromParent)(r||n,s,t.props.scale)}function Yfe(n,e,t){const r=!(0,ui.isNum)(n.lastX),i=RO(n);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:i,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function Gfe(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Vfe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function RO(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var zb={},qb={};Object.defineProperty(qb,"__esModule",{value:!0});qb.default=Kfe;function Kfe(){}Object.defineProperty(zb,"__esModule",{value:!0});zb.default=void 0;var m1=PV(I),Er=DO(Bb),Xfe=DO(Jo),br=En,da=ao,g1=oo,cf=DO(qb);function DO(n){return n&&n.__esModule?n:{default:n}}function PV(n,e){if(typeof WeakMap=="function")var t=new WeakMap,r=new WeakMap;return(PV=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,l={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return l;if(o=s?r:t){if(o.has(i))return o.get(i);o.set(i,l)}for(const c in i)c!=="default"&&{}.hasOwnProperty.call(i,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,c))&&(a.get||a.set)?o(l,c,a):l[c]=i[c]);return l})(n,e)}function Tr(n,e,t){return(e=Qfe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qfe(n){var e=Jfe(n,"string");return typeof e=="symbol"?e:e+""}function Jfe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const ss={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let fa=ss.mouse,Ub=class extends m1.Component{constructor(){super(...arguments),Tr(this,"dragging",!1),Tr(this,"lastX",NaN),Tr(this,"lastY",NaN),Tr(this,"touchIdentifier",null),Tr(this,"mounted",!1),Tr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,br.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,br.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const i=(0,br.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,da.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,da.createCoreData)(this,o,a);(0,cf.default)("DraggableCore: handleDragStart: %j",l),(0,cf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,br.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,br.addEvent)(r,fa.move,this.handleDrag),(0,br.addEvent)(r,fa.stop,this.handleDragStop))}),Tr(this,"handleDrag",e=>{const t=(0,da.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,da.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const s=(0,da.createCoreData)(this,r,i);if((0,cf.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Tr(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,da.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,da.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const s=(0,da.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,br.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,cf.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,cf.default)("DraggableCore: Removing handlers"),(0,br.removeEvent)(a.ownerDocument,fa.move,this.handleDrag),(0,br.removeEvent)(a.ownerDocument,fa.stop,this.handleDragStop))}),Tr(this,"onMouseDown",e=>(fa=ss.mouse,this.handleDragStart(e))),Tr(this,"onMouseUp",e=>(fa=ss.mouse,this.handleDragStop(e))),Tr(this,"onTouchStart",e=>(fa=ss.touch,this.handleDragStart(e))),Tr(this,"onTouchEnd",e=>(fa=ss.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,br.addEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,br.removeEvent)(t,ss.mouse.move,this.handleDrag),(0,br.removeEvent)(t,ss.touch.move,this.handleDrag),(0,br.removeEvent)(t,ss.mouse.stop,this.handleDragStop),(0,br.removeEvent)(t,ss.touch.stop,this.handleDragStop),(0,br.removeEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,br.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){var e,t,r;return(e=this.props)!=null&&e.nodeRef?(r=(t=this.props)==null?void 0:t.nodeRef)==null?void 0:r.current:Xfe.default.findDOMNode(this)}render(){return m1.cloneElement(m1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};zb.default=Ub;Tr(Ub,"displayName","DraggableCore");Tr(Ub,"propTypes",{allowAnyClick:Er.default.bool,allowMobileScroll:Er.default.bool,children:Er.default.node.isRequired,disabled:Er.default.bool,enableUserSelectHack:Er.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Er.default.arrayOf(Er.default.number),handle:Er.default.string,cancel:Er.default.string,nodeRef:Er.default.object,onStart:Er.default.func,onDrag:Er.default.func,onStop:Er.default.func,onMouseDown:Er.default.func,scale:Er.default.number,className:g1.dontSetMe,style:g1.dontSetMe,transform:g1.dontSetMe});Tr(Ub,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),n.default=void 0;var e=h(I),t=u(Bb),r=u(Jo),i=bfe,s=En,o=ao,a=oo,l=u(zb),c=u(qb);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(typeof WeakMap=="function")var w=new WeakMap,S=new WeakMap;return(h=function(_,k){if(!k&&_&&_.__esModule)return _;var C,T,O={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return O;if(C=k?S:w){if(C.has(_))return C.get(_);C.set(_,O)}for(const R in _)R!=="default"&&{}.hasOwnProperty.call(_,R)&&((T=(C=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,R))&&(T.get||T.set)?C(O,R,T):O[R]=_[R]);return O})(y,b)}function d(){return d=Object.assign?Object.assign.bind():function(y){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var S in w)({}).hasOwnProperty.call(w,S)&&(y[S]=w[S])}return y},d.apply(null,arguments)}function f(y,b,w){return(b=m(b))in y?Object.defineProperty(y,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[b]=w,y}function m(y){var b=g(y,"string");return typeof b=="symbol"?b:b+""}function g(y,b){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var S=w.call(y,b);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}class v extends e.Component{static getDerivedStateFromProps(b,w){let{position:S}=b,{prevPropsPosition:_}=w;return S&&(!_||S.x!==_.x||S.y!==_.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:_}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(b){super(b),f(this,"onDragStart",(w,S)=>{if((0,c.default)("Draggable: onDragStart: %j",S),this.props.onStart(w,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(w,S)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",S);const _=(0,o.createDraggableData)(this,S),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:O}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[R,D]=(0,o.getBoundPosition)(this,k.x,k.y);k.x=R,k.y=D,k.slackX=this.state.slackX+(T-k.x),k.slackY=this.state.slackY+(O-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(w,_)===!1)return!1;this.setState(k)}),f(this,"onDragStop",(w,S)=>{if(!this.state.dragging||this.props.onStop(w,(0,o.createDraggableData)(this,S))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",S);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:O}=this.props.position;k.x=T,k.y=O}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var b,w;return((w=(b=this.props)==null?void 0:b.nodeRef)==null?void 0:w.current)??r.default.findDOMNode(this)}render(){const{axis:b,bounds:w,children:S,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:C,defaultClassNameDragged:T,position:O,positionOffset:R,scale:D,...F}=this.props;let N={},z=null;const L=!!!O||this.state.dragging,B=O||_,j={x:(0,o.canDragX)(this)&&L?this.state.x:B.x,y:(0,o.canDragY)(this)&&L?this.state.y:B.y};this.state.isElementSVG?z=(0,s.createSVGTransform)(j,R):N=(0,s.createCSSTransform)(j,R);const q=(0,i.clsx)(S.props.className||"",k,{[C]:this.state.dragging,[T]:this.state.dragged});return e.createElement(l.default,d({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:q,style:{...S.props.style,...N},transform:z}))}}n.default=v,f(v,"displayName","Draggable"),f(v,"propTypes",{...l.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),f(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(bV);const{default:OV,DraggableCore:Zfe}=bV;jb.exports=OV;jb.exports.default=OV;var epe=jb.exports.DraggableCore=Zfe,tpe=jb.exports,AO={exports:{}},Vm={},NO={};NO.__esModule=!0;NO.cloneElement=ape;var npe=rpe(I);function rpe(n){return n&&n.__esModule?n:{default:n}}function e5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function t5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(t),!0).forEach(function(r){ipe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ipe(n,e,t){return e=spe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function spe(n){var e=ope(n,"string");return typeof e=="symbol"?e:String(e)}function ope(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ape(n,e){return e.style&&n.props.style&&(e.style=t5(t5({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),npe.default.cloneElement(n,e)}var Km={};Km.__esModule=!0;Km.resizableProps=void 0;var mt=lpe(Bb);function lpe(n){return n&&n.__esModule?n:{default:n}}var cpe={axis:mt.default.oneOf(["both","x","y","none"]),className:mt.default.string,children:mt.default.element.isRequired,draggableOpts:mt.default.shape({allowAnyClick:mt.default.bool,cancel:mt.default.string,children:mt.default.node,disabled:mt.default.bool,enableUserSelectHack:mt.default.bool,offsetParent:mt.default.node,grid:mt.default.arrayOf(mt.default.number),handle:mt.default.string,nodeRef:mt.default.object,onStart:mt.default.func,onDrag:mt.default.func,onStop:mt.default.func,onMouseDown:mt.default.func,scale:mt.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="y"){var s;return(s=mt.default.number).isRequired.apply(s,t)}return mt.default.number.apply(mt.default,t)},handle:mt.default.oneOfType([mt.default.node,mt.default.func]),handleSize:mt.default.arrayOf(mt.default.number),lockAspectRatio:mt.default.bool,maxConstraints:mt.default.arrayOf(mt.default.number),minConstraints:mt.default.arrayOf(mt.default.number),onResizeStop:mt.default.func,onResizeStart:mt.default.func,onResize:mt.default.func,resizeHandles:mt.default.arrayOf(mt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:mt.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(i.axis==="both"||i.axis==="x"){var s;return(s=mt.default.number).isRequired.apply(s,t)}return mt.default.number.apply(mt.default,t)}};Km.resizableProps=cpe;Vm.__esModule=!0;Vm.default=void 0;var uf=ppe(I),upe=tpe,hpe=NO,dpe=Km,fpe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function RV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(RV=function(i){return i?t:e})(n)}function ppe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=RV(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function YM(){return YM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YM.apply(this,arguments)}function mpe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function n5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(t),!0).forEach(function(r){gpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gpe(n,e,t){return e=vpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vpe(n){var e=ype(n,"string");return typeof e=="symbol"?e:String(e)}function ype(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bpe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,GM(n,e)}function GM(n,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GM(n,e)}var LO=function(n){bpe(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var t=e.prototype;return t.componentWillUnmount=function(){this.resetData()},t.resetData=function(){this.lastHandleRect=this.slack=null},t.runConstraints=function(i,s){var o=this.props,a=o.minConstraints,l=o.maxConstraints,c=o.lockAspectRatio;if(!a&&!l&&!c)return[i,s];if(c){var u=this.props.width/this.props.height,h=i-this.props.width,d=s-this.props.height;Math.abs(h)>Math.abs(d*u)?s=i/u:i=s*u}var f=i,m=s,g=this.slack||[0,0],v=g[0],y=g[1];return i+=v,s+=y,a&&(i=Math.max(a[0],i),s=Math.max(a[1],s)),l&&(i=Math.min(l[0],i),s=Math.min(l[1],s)),this.slack=[v+(f-i),y+(m-s)],[i,s]},t.resizeHandler=function(i,s){var o=this;return function(a,l){var c=l.node,u=l.deltaX,h=l.deltaY;i==="onResizeStart"&&o.resetData();var d=(o.props.axis==="both"||o.props.axis==="x")&&s!=="n"&&s!=="s",f=(o.props.axis==="both"||o.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!d&&!f)){var m=s[0],g=s[s.length-1],v=c.getBoundingClientRect();if(o.lastHandleRect!=null){if(g==="w"){var y=v.left-o.lastHandleRect.left;u+=y}if(m==="n"){var b=v.top-o.lastHandleRect.top;h+=b}}o.lastHandleRect=v,g==="w"&&(u=-u),m==="n"&&(h=-h);var w=o.props.width+(d?u/o.props.transformScale:0),S=o.props.height+(f?h/o.props.transformScale:0),_=o.runConstraints(w,S);w=_[0],S=_[1];var k=w!==o.props.width||S!==o.props.height,C=typeof o.props[i]=="function"?o.props[i]:null,T=i==="onResize"&&!k;C&&!T&&(a.persist==null||a.persist(),C(a,{node:c,size:{width:w,height:S},handle:s})),i==="onResizeStop"&&o.resetData()}}},t.renderResizeHandle=function(i,s){var o=this.props.handle;if(!o)return uf.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:s});if(typeof o=="function")return o(i,s);var a=typeof o.type=="string",l=v1({ref:s},a?{}:{handleAxis:i});return uf.cloneElement(o,l)},t.render=function(){var i=this,s=this.props,o=s.children,a=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var c=s.resizeHandles;s.transformScale;var u=mpe(s,fpe);return(0,hpe.cloneElement)(o,v1(v1({},u),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(o.props.children,c.map(function(h){var d,f=(d=i.handleRefs[h])!=null?d:i.handleRefs[h]=uf.createRef();return uf.createElement(upe.DraggableCore,YM({},l,{nodeRef:f,key:"resizableHandle-"+h,onStop:i.resizeHandler("onResizeStop",h),onStart:i.resizeHandler("onResizeStart",h),onDrag:i.resizeHandler("onResize",h)}),i.renderResizeHandle(h,f))}))}))},e}(uf.Component);Vm.default=LO;LO.propTypes=dpe.resizableProps;LO.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Hb={};Hb.__esModule=!0;Hb.default=void 0;var y1=kpe(I),xpe=DV(Bb),wpe=DV(Vm),_pe=Km,Spe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function DV(n){return n&&n.__esModule?n:{default:n}}function AV(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(AV=function(i){return i?t:e})(n)}function kpe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=AV(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function VM(){return VM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VM.apply(this,arguments)}function r5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _y(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(t),!0).forEach(function(r){Cpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cpe(n,e,t){return e=Epe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Epe(n){var e=Tpe(n,"string");return typeof e=="symbol"?e:String(e)}function Tpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mpe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ipe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,KM(n,e)}function KM(n,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(n,e)}var NV=function(n){Ipe(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var c=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(c,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(c)},r}e.getDerivedStateFromProps=function(i,s){return s.propsWidth!==i.width||s.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var t=e.prototype;return t.render=function(){var i=this.props,s=i.handle,o=i.handleSize;i.onResize;var a=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,h=i.maxConstraints,d=i.lockAspectRatio,f=i.axis;i.width,i.height;var m=i.resizeHandles,g=i.style,v=i.transformScale,y=Mpe(i,Spe);return y1.createElement(wpe.default,{axis:f,draggableOpts:c,handle:s,handleSize:o,height:this.state.height,lockAspectRatio:d,maxConstraints:h,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:v,width:this.state.width},y1.createElement("div",VM({},y,{style:_y(_y({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(y1.Component);Hb.default=NV;NV.propTypes=_y(_y({},_pe.resizableProps),{},{children:xpe.default.element});AO.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Ppe=AO.exports.Resizable=Vm.default;AO.exports.ResizableBox=Hb.default;function LV(n){return function(t,r,i,s,o,a,l){return n(t,r,l)}}function Wb(n){return function(t,r,i,s){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i,s);var o=s.get(t),a=s.get(r);if(o&&a)return o===r&&a===t;s.set(t,r),s.set(r,t);var l=n(t,r,i,s);return s.delete(t),s.delete(r),l}}function FV(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function i5(n){return n.constructor===Object||n.constructor==null}function s5(n){return typeof n.then=="function"}function Yb(n,e){return n===e||n!==n&&e!==e}var Ope="[object Arguments]",Rpe="[object Boolean]",Dpe="[object Date]",Ape="[object RegExp]",Npe="[object Map]",Lpe="[object Number]",Fpe="[object Object]",$pe="[object Set]",jpe="[object String]",o5=Object.prototype.toString;function Gb(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areMapsEqual,i=n.areObjectsEqual,s=n.areRegExpsEqual,o=n.areSetsEqual,a=n.createIsNestedEqual,l=a(c);function c(u,h,d){if(u===h)return!0;if(!u||!h||typeof u!="object"||typeof h!="object")return u!==u&&h!==h;if(i5(u)&&i5(h))return i(u,h,l,d);var f=Array.isArray(u),m=Array.isArray(h);if(f||m)return f===m&&e(u,h,l,d);var g=o5.call(u);return g!==o5.call(h)?!1:g===Dpe?t(u,h,l,d):g===Ape?s(u,h,l,d):g===Npe?r(u,h,l,d):g===$pe?o(u,h,l,d):g===Fpe||g===Ope?s5(u)||s5(h)?!1:i(u,h,l,d):g===Rpe||g===Lpe||g===jpe?Yb(u.valueOf(),h.valueOf()):!1}return c}function $V(n,e,t,r){var i=n.length;if(e.length!==i)return!1;for(;i-- >0;)if(!t(n[i],e[i],i,i,n,e,r))return!1;return!0}var Bpe=Wb($V);function jV(n,e){return Yb(n.valueOf(),e.valueOf())}function BV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={},o=0;return n.forEach(function(a,l){if(i){var c=!1,u=0;e.forEach(function(h,d){!c&&!s[u]&&(c=t(l,d,o,u,n,e,r)&&t(a,h,l,d,n,e,r))&&(s[u]=!0),u++}),o++,i=c}}),i}var zpe=Wb(BV),qpe="_owner",Upe=Object.prototype.hasOwnProperty;function zV(n,e,t,r){var i=Object.keys(n),s=i.length;if(Object.keys(e).length!==s)return!1;for(var o;s-- >0;){if(o=i[s],o===qpe){var a=!!n.$$typeof,l=!!e.$$typeof;if((a||l)&&a!==l)return!1}if(!Upe.call(e,o)||!t(n[o],e[o],o,o,n,e,r))return!1}return!0}var Hpe=Wb(zV);function qV(n,e){return n.source===e.source&&n.flags===e.flags}function UV(n,e,t,r){var i=n.size===e.size;if(!i)return!1;if(!n.size)return!0;var s={};return n.forEach(function(o,a){if(i){var l=!1,c=0;e.forEach(function(u,h){!l&&!s[c]&&(l=t(o,u,a,h,n,e,r))&&(s[c]=!0),c++}),i=l}}),i}var Wpe=Wb(UV),HV=Object.freeze({areArraysEqual:$V,areDatesEqual:jV,areMapsEqual:BV,areObjectsEqual:zV,areRegExpsEqual:qV,areSetsEqual:UV,createIsNestedEqual:LV}),WV=Object.freeze({areArraysEqual:Bpe,areDatesEqual:jV,areMapsEqual:zpe,areObjectsEqual:Hpe,areRegExpsEqual:qV,areSetsEqual:Wpe,createIsNestedEqual:LV}),Ype=Gb(HV);function Mo(n,e){return Ype(n,e,void 0)}Gb(FV(HV,{createIsNestedEqual:function(){return Yb}}));Gb(WV);Gb(FV(WV,{createIsNestedEqual:function(){return Yb}}));function a5(n){const{children:e,cols:t,containerWidth:r,margin:i,containerPadding:s,rowHeight:o,maxRows:a,isDraggable:l,isResizable:c,isBounded:u,static:h,useCSSTransforms:d=!0,usePercentages:f=!1,transformScale:m=1,positionStrategy:g,dragThreshold:v=0,droppingPosition:y,className:b="",style:w,handle:S="",cancel:_="",x:k,y:C,w:T,h:O,minW:R=1,maxW:D=1/0,minH:F=1,maxH:N=1/0,i:z,resizeHandles:$,resizeHandle:L,constraints:B=hV,layoutItem:j,layout:q=[],onDragStart:W,onDrag:V,onDragStop:X,onResizeStart:Z,onResize:H,onResizeStop:K}=n,[Y,ne]=I.useState(!1),[te,re]=I.useState(!1),Q=I.useRef(null),ee=I.useRef({left:0,top:0}),ve=I.useRef({top:0,left:0,width:0,height:0}),ge=I.useRef(void 0),We=I.useRef(q);We.current=q;const Re=I.useRef(null),Me=I.useRef(null),je=I.useRef(!1),it=I.useRef({x:0,y:0}),Be=I.useRef(!1),Ue=I.useMemo(()=>({cols:t,containerPadding:s,containerWidth:r,margin:i,maxRows:a,rowHeight:o}),[t,s,r,i,a,o]),Xe=I.useMemo(()=>({cols:t,maxRows:a,containerWidth:r,containerHeight:0,rowHeight:o,margin:i,layout:[]}),[t,a,r,o,i]),Ye=I.useCallback(()=>({...Xe,layout:We.current}),[Xe]),ut=I.useMemo(()=>j??{i:z,x:k,y:C,w:T,h:O,minW:R,maxW:D,minH:F,maxH:N},[j,z,k,C,T,O,R,D,F,N]),Ut=I.useCallback(ht=>{if(g!=null&&g.calcStyle)return g.calcStyle(ht);if(d)return CO(ht);const pt=dV(ht);return f?{...pt,left:KN(ht.left/r),width:KN(ht.width/r)}:pt},[g,d,f,r]),me=I.useCallback((ht,{node:pt})=>{if(!W)return;const{offsetParent:Pe}=pt;if(!Pe)return;const ce=Pe.getBoundingClientRect(),dt=pt.getBoundingClientRect(),ot=dt.left/m,Ne=ce.left/m,$e=dt.top/m,Oe=ce.top/m;let At;if(g!=null&&g.calcDragPosition){const Ce=ht;At=g.calcDragPosition(Ce.clientX,Ce.clientY,Ce.clientX-dt.left,Ce.clientY-dt.top)}else At={left:ot-Ne+Pe.scrollLeft,top:$e-Oe+Pe.scrollTop};if(ee.current=At,v>0){const Ce=ht;it.current={x:Ce.clientX,y:Ce.clientY},je.current=!0,Be.current=!1,ne(!0);return}ne(!0);const Ze=S0(Ue,At.top,At.left),{x:jt,y:de}=k0(B,ut,Ze.x,Ze.y,Ye());W(z,jt,de,{e:ht,node:pt,newPosition:At})},[W,m,Ue,g,v,B,ut,Ye,z]),le=I.useCallback((ht,{node:pt,deltaX:Pe,deltaY:ce})=>{if(!V||!Y)return;const dt=ht;if(je.current&&!Be.current){const jt=dt.clientX-it.current.x,de=dt.clientY-it.current.y;if(Math.hypot(jt,de)<v)return;if(Be.current=!0,je.current=!1,W){const be=S0(Ue,ee.current.top,ee.current.left),{x:Te,y:et}=k0(B,ut,be.x,be.y,Ye());W(z,Te,et,{e:ht,node:pt,newPosition:ee.current})}}let ot=ee.current.top+ce,Ne=ee.current.left+Pe;if(u){const{offsetParent:jt}=pt;if(jt){const de=jt.clientHeight-zh(O,o,i[1]);ot=xy(ot,0,de);const Ce=bd(Ue),be=r-zh(T,Ce,i[0]);Ne=xy(Ne,0,be)}}const $e={top:ot,left:Ne};ee.current=$e;const Oe=S0(Ue,ot,Ne),{x:At,y:Ze}=k0(B,ut,Oe.x,Oe.y,Ye());V(z,At,Ze,{e:ht,node:pt,newPosition:$e})},[V,W,Y,v,u,O,o,i,Ue,r,T,z,B,ut,Ye]),oe=I.useCallback((ht,{node:pt})=>{if(!X||!Y)return;const Pe=je.current;if(je.current=!1,Be.current=!1,it.current={x:0,y:0},Pe){ne(!1),ee.current={left:0,top:0};return}const{left:ce,top:dt}=ee.current,ot={top:dt,left:ce};ne(!1),ee.current={left:0,top:0};const Ne=S0(Ue,dt,ce),{x:$e,y:Oe}=k0(B,ut,Ne.x,Ne.y,Ye());X(z,$e,Oe,{e:ht,node:pt,newPosition:ot})},[X,Y,Ue,B,ut,Ye,z]);Re.current=me,Me.current=le;const De=I.useCallback((ht,{node:pt,size:Pe,handle:ce},dt,ot)=>{const Ne=ot==="onResizeStart"?Z:ot==="onResize"?H:K;if(!Ne)return;let $e;pt?$e=tfe(ce,dt,Pe,r):$e={...Pe,top:dt.top,left:dt.left},ve.current=$e;const Oe=zde(Ue,$e.width,$e.height),{w:At,h:Ze}=Gde(B,ut,Oe.w,Oe.h,ce,Ye());Ne(z,At,Ze,{e:ht.nativeEvent,node:pt,size:$e,handle:ce})},[Z,H,K,r,Ue,z,B,ut,Ye]),Ve=I.useCallback((ht,pt)=>{re(!0);const Pe=lf(Ue,k,C,T,O),ce={...pt,handle:pt.handle};De(ht,ce,Pe,"onResizeStart")},[De,Ue,k,C,T,O]),ye=I.useCallback((ht,pt)=>{const Pe=lf(Ue,k,C,T,O),ce={...pt,handle:pt.handle};De(ht,ce,Pe,"onResize")},[De,Ue,k,C,T,O]),xe=I.useCallback((ht,pt)=>{re(!1),ve.current={top:0,left:0,width:0,height:0};const Pe=lf(Ue,k,C,T,O),ce={...pt,handle:pt.handle};De(ht,ce,Pe,"onResizeStop")},[De,Ue,k,C,T,O]);I.useEffect(()=>{var ce,dt;if(!y)return;const ht=Q.current;if(!ht)return;const pt=ge.current||{left:0,top:0},Pe=Y&&(y.left!==pt.left||y.top!==pt.top);if(Y){if(Pe){const ot=y.left-ee.current.left,Ne=y.top-ee.current.top,$e={node:ht,deltaX:ot,deltaY:Ne,lastX:ee.current.left,lastY:ee.current.top,x:y.left,y:y.top};(dt=Me.current)==null||dt.call(Me,y.e,$e)}}else{const ot={node:ht,deltaX:y.left,deltaY:y.top,lastX:0,lastY:0,x:y.left,y:y.top};(ce=Re.current)==null||ce.call(Re,y.e,ot)}ge.current=y},[y,Y,z]);const ae=lf(Ue,k,C,T,O,Y?ee.current:null,te?ve.current:null),Ee=fe.Children.only(e),Ae=lf(Ue,0,0,1,1),we=[Ae.width,Ae.height],Ie=[1/0,1/0],st=Ee.props,Kt=st.className,$t=st.style;let fn=fe.cloneElement(Ee,{ref:Q,className:cm("react-grid-item",Kt,b,{static:h,resizing:te,"react-draggable":l,"react-draggable-dragging":Y,dropping:!!y,cssTransforms:d}),style:{...w,...$t,...Ut(ae)}});const Un=L;return fn=E.jsx(Ppe,{draggableOpts:{disabled:!c},className:c?void 0:"react-resizable-hide",width:ae.width,height:ae.height,minConstraints:we,maxConstraints:Ie,onResizeStart:Ve,onResize:ye,onResizeStop:xe,transformScale:m,resizeHandles:$,handle:Un,children:fn}),fn=E.jsx(epe,{disabled:!l,onStart:me,onDrag:le,onStop:oe,handle:S,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:Q,children:fn}),fn}var xo=()=>{},l5="react-grid-layout",YV=!1;try{YV=/firefox/i.test(navigator.userAgent)}catch{}function Gpe(n,e){const t=fe.Children.toArray(n),r=fe.Children.toArray(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],o=r[i];if((s==null?void 0:s.key)!==(o==null?void 0:o.key))return!1}return!0}function c5(n,e,t,r){const i=[],s=new Set;fe.Children.forEach(e,a=>{if(!fe.isValidElement(a)||a.key===null)return;const l=String(a.key);s.add(l);const c=n.find(u=>u.i===l);if(c)i.push(wc(c));else{const h=a.props["data-grid"];h?i.push({i:l,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):i.push({i:l,x:0,y:Lb(i),w:1,h:1})}});const o=kO(i,{cols:t});return r.compact(o,t)}function Vpe(n){const{children:e,width:t,gridConfig:r,dragConfig:i,resizeConfig:s,dropConfig:o,positionStrategy:a=ife,compactor:l,constraints:c=hV,layout:u=[],droppingItem:h,autoSize:d=!0,className:f="",style:m={},innerRef:g,onLayoutChange:v=xo,onDragStart:y=xo,onDrag:b=xo,onDragStop:w=xo,onResizeStart:S=xo,onResize:_=xo,onResizeStop:k=xo,onDrop:C=xo,onDropDragOver:T=xo}=n,O=I.useMemo(()=>({...sfe,...r}),[r]),R=I.useMemo(()=>({...ofe,...i}),[i]),D=I.useMemo(()=>({...afe,...s}),[s]),F=I.useMemo(()=>({...lfe,...o}),[o]),{cols:N,rowHeight:z,maxRows:$,margin:L,containerPadding:B}=O,{enabled:j,bounded:q,handle:W,cancel:V,threshold:X}=R,{enabled:Z,handles:H,handleComponent:K}=D,{enabled:Y,defaultItem:ne,onDragOver:te}=F,re=l??$b("vertical"),Q=re.type,ee=re.allowOverlap,ve=re.preventCollision??!1,ge=I.useMemo(()=>h??{i:"__dropping-elem__",...ne},[h,ne]),We=a.type==="transform",Re=a.scale,Me=B??L,[je,it]=I.useState(!1),[Be,Ue]=I.useState(()=>c5(u,e,N,re)),[Xe,Ye]=I.useState(null),[ut,Ut]=I.useState(!1),[me,le]=I.useState(null),[oe,De]=I.useState(),Ve=I.useRef(null),ye=I.useRef(null),xe=I.useRef(null),ae=I.useRef(0),Ee=I.useRef(Be),Ae=I.useRef(u),we=I.useRef(e),Ie=I.useRef(Q),st=I.useRef(Be);st.current=Be,I.useEffect(()=>{it(!0),Mo(Be,u)||v(Be)},[]),I.useEffect(()=>{if(Xe||me)return;const de=!Mo(u,Ae.current),Ce=!Gpe(e,we.current),be=Q!==Ie.current;if(de||Ce||be){const et=c5(de?u:Be,e,N,re);Mo(et,Be)||Ue(et)}Ae.current=u,we.current=e,Ie.current=Q},[u,e,N,Q,re,Xe,me,Be]),I.useEffect(()=>{if(!Xe&&!Mo(Be,Ee.current)){Ee.current=Be;const de=Be.filter(Ce=>Ce.i!==ge.i);v(de)}},[Be,Xe,v,ge.i]);const Kt=I.useMemo(()=>{if(!d)return;const de=Lb(Be),Ce=Me[1];return de*z+(de-1)*L[1]+Ce*2+"px"},[d,Be,z,L,Me]),$t=I.useCallback((de,Ce,be,Te)=>{const et=st.current,Le=Ml(et,de);if(!Le)return;const Qe={w:Le.w,h:Le.h,x:Le.x,y:Le.y,i:de};Ve.current=wc(Le),xe.current=et,Ye(Qe),y(et,Le,Le,null,Te.e,Te.node)},[y]),fn=I.useCallback((de,Ce,be,Te)=>{const et=st.current,Le=Ve.current,Qe=Ml(et,de);if(!Qe)return;const at={w:Qe.w,h:Qe.h,x:Qe.x,y:Qe.y,i:de},rt=zl(et,Qe,Ce,be,!0,ve,Q,N,ee);b(rt,Le,Qe,at,Te.e,Te.node),Ue(re.compact(rt,N)),Ye(at)},[ve,Q,N,ee,re,b]),Un=I.useCallback((de,Ce,be,Te)=>{if(!Xe)return;const et=st.current,Le=Ve.current,Qe=Ml(et,de);if(!Qe)return;const at=zl(et,Qe,Ce,be,!0,ve,Q,N,ee),rt=re.compact(at,N);w(rt,Le,Qe,null,Te.e,Te.node);const xt=xe.current;Ve.current=null,xe.current=null,Ye(null),Ue(rt),xt&&!Mo(xt,rt)&&v(rt)},[Xe,ve,Q,N,ee,re,w,v]),ht=I.useCallback((de,Ce,be,Te)=>{const et=st.current,Le=Ml(et,de);Le&&(ye.current=wc(Le),xe.current=et,Ut(!0),S(et,Le,Le,null,Te.e,Te.node))},[S]),pt=I.useCallback((de,Ce,be,Te)=>{const et=st.current,Le=ye.current,{handle:Qe}=Te;let at=!1,rt,xt;const[zr,wt]=Hde(et,de,Ft=>(rt=Ft.x,xt=Ft.y,["sw","w","nw","n","ne"].includes(Qe)&&(["sw","nw","w"].includes(Qe)&&(rt=Ft.x+(Ft.w-Ce),Ce=Ft.x!==rt&&rt<0?Ft.w:Ce,rt=rt<0?0:rt),["ne","n","nw"].includes(Qe)&&(xt=Ft.y+(Ft.h-be),be=Ft.y!==xt&&xt<0?Ft.h:be,xt=xt<0?0:xt),at=!0),ve&&!ee&&cV(et,{...Ft,w:Ce,h:be,x:rt??Ft.x,y:xt??Ft.y}).filter(gl=>gl.i!==Ft.i).length>0&&(xt=Ft.y,be=Ft.h,rt=Ft.x,Ce=Ft.w,at=!1),Ft.w=Ce,Ft.h=be,Ft));if(!wt)return;let or=zr;at&&rt!==void 0&&xt!==void 0&&(or=zl(zr,wt,rt,xt,!0,ve,Q,N,ee));const Os={w:wt.w,h:wt.h,x:wt.x,y:wt.y,i:de,static:!0};_(or,Le,wt,Os,Te.e,Te.node),Ue(re.compact(or,N)),Ye(Os)},[ve,Q,N,ee,re,_]),Pe=I.useCallback((de,Ce,be,Te)=>{const et=st.current,Le=ye.current,Qe=Ml(et,de),at=re.compact(et,N);k(at,Le,Qe??null,null,Te.e,Te.node);const rt=xe.current;ye.current=null,xe.current=null,Ye(null),Ut(!1),Ue(at),rt&&!Mo(rt,at)&&v(at)},[N,re,k,v]),ce=I.useCallback(()=>{const de=st.current;if(!de.some(Te=>Te.i===ge.i)){le(null),Ye(null),De(void 0);return}const be=re.compact(de.filter(Te=>Te.i!==ge.i),N);Ue(be),le(null),Ye(null),De(void 0)},[ge.i,N,re]),dt=I.useCallback(de=>{var Tg;if(de.preventDefault(),de.stopPropagation(),YV&&!((Tg=de.nativeEvent.target)!=null&&Tg.classList.contains(l5)))return!1;const Ce=te?te(de.nativeEvent):T(de);if(Ce===!1)return me&&ce(),!1;const{dragOffsetX:be=0,dragOffsetY:Te=0,...et}=Ce??{},Le={...ge,...et},Qe=de.currentTarget.getBoundingClientRect(),at={cols:N,margin:L,maxRows:$,rowHeight:z,containerWidth:t,containerPadding:Me},rt=bd(at),xt=zh(Le.w,rt,L[0]),zr=zh(Le.h,z,L[1]),wt=xt/2,or=zr/2,Os=de.clientX-Qe.left+be-wt,Ft=de.clientY-Qe.top+Te-or,ho=Math.max(0,Os),gl=Math.max(0,Ft),Qc={left:ho/Re,top:gl/Re,e:de.nativeEvent};if(me)oe&&(oe.left!==Qc.left||oe.top!==Qc.top)&&De(Qc);else{const Fd=Bde(at,gl,ho,Le.w,Le.h);le(E.jsx("div",{},Le.i)),De(Qc),Ue([...st.current,{...Le,x:Fd.x,y:Fd.y,static:!1,isDraggable:!0}])}},[me,oe,ge,te,T,ce,Re,N,L,$,z,t,Me]),ot=I.useCallback(de=>{de.preventDefault(),de.stopPropagation(),ae.current--,ae.current<0&&(ae.current=0),ae.current===0&&ce()},[ce]),Ne=I.useCallback(de=>{de.preventDefault(),de.stopPropagation(),ae.current++},[]),$e=I.useCallback(de=>{de.preventDefault(),de.stopPropagation();const Ce=st.current,be=Ce.find(Te=>Te.i===ge.i);ae.current=0,ce(),C(Ce,be,de.nativeEvent)},[ge.i,ce,C]),Oe=I.useCallback((de,Ce)=>{if(!de||!de.key)return null;const be=Ml(Be,String(de.key));if(!be)return null;const Te=typeof be.isDraggable=="boolean"?be.isDraggable:!be.static&&j,et=typeof be.isResizable=="boolean"?be.isResizable:!be.static&&Z,Le=be.resizeHandles||[...H],Qe=Te&&q&&be.isBounded!==!1,at=K;return E.jsx(a5,{containerWidth:t,cols:N,margin:L,containerPadding:Me,maxRows:$,rowHeight:z,cancel:V,handle:W,onDragStart:$t,onDrag:fn,onDragStop:Un,onResizeStart:ht,onResize:pt,onResizeStop:Pe,isDraggable:Te,isResizable:et,isBounded:Qe,useCSSTransforms:We&&je,usePercentages:!je,transformScale:Re,positionStrategy:a,dragThreshold:X,w:be.w,h:be.h,x:be.x,y:be.y,i:be.i,minH:be.minH,minW:be.minW,maxH:be.maxH,maxW:be.maxW,static:be.static,droppingPosition:Ce?oe:void 0,resizeHandles:Le,resizeHandle:at,constraints:c,layoutItem:be,layout:Be,children:de},be.i)},[Be,t,N,L,Me,$,z,V,W,$t,fn,Un,ht,pt,Pe,j,Z,q,We,je,Re,a,X,oe,H,K,c]),At=()=>Xe?E.jsx(a5,{w:Xe.w,h:Xe.h,x:Xe.x,y:Xe.y,i:Xe.i,className:`react-grid-placeholder ${ut?"placeholder-resizing":""}`,containerWidth:t,cols:N,margin:L,containerPadding:Me,maxRows:$,rowHeight:z,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:We,transformScale:Re,constraints:c,layout:Be,children:E.jsx("div",{})}):null,Ze=cm(l5,f),jt={height:Kt,...m};return E.jsxs("div",{ref:g,className:Ze,style:jt,onDrop:Y?$e:void 0,onDragLeave:Y?ot:void 0,onDragEnter:Y?Ne:void 0,onDragOver:Y?dt:void 0,children:[fe.Children.map(e,de=>fe.isValidElement(de)?Oe(de):null),Y&&me&&Oe(me,!0),At()]})}var Kpe={lg:1200,md:996,sm:768,xs:480,xxs:0},Xpe={lg:12,md:10,sm:6,xs:4,xxs:2},b1=()=>{};function Qpe(n,e,t,r){const i=[];fe.Children.forEach(e,o=>{if(!fe.isValidElement(o)||o.key===null)return;const a=String(o.key),l=n.find(c=>c.i===a);if(l)i.push({...l,i:a});else{const u=o.props["data-grid"];u?i.push({i:a,x:u.x??0,y:u.y??0,w:u.w??1,h:u.h??1,minW:u.minW,maxW:u.maxW,minH:u.minH,maxH:u.maxH,static:u.static,isDraggable:u.isDraggable,isResizable:u.isResizable,resizeHandles:u.resizeHandles,isBounded:u.isBounded}):i.push({i:a,x:0,y:Lb(i),w:1,h:1})}});const s=kO(i,{cols:t});return r.compact(s,t)}function Jpe(n){const{children:e,width:t,breakpoint:r,breakpoints:i=Kpe,cols:s=Xpe,layouts:o={},rowHeight:a=150,maxRows:l=1/0,margin:c=[10,10],containerPadding:u=null,compactor:h,onBreakpointChange:d=b1,onLayoutChange:f=b1,onWidthChange:m=b1,...g}=n,v=h??$b("vertical"),y=v.type,b=v.allowOverlap,w=I.useMemo(()=>r??XN(i,t),[]),S=I.useMemo(()=>QN(w,s),[w,s]),_=I.useMemo(()=>f1(o,i,w,w,S,y),[]),[k,C]=I.useState(w),[T,O]=I.useState(S),[R,D]=I.useState(_),[F,N]=I.useState(o),z=I.useRef(t),$=I.useRef(r),L=I.useRef(i),B=I.useRef(s),j=I.useRef(o),q=I.useRef(y),W=I.useRef(F);I.useEffect(()=>{W.current=F},[F]);const V=I.useMemo(()=>Mo(o,j.current)?null:f1(o,i,k,k,T,v),[o,i,k,T,v]),X=V??R;I.useEffect(()=>{V!==null&&(D(V),N(o),W.current=o,j.current=o)},[V,o]),I.useEffect(()=>{if(y!==q.current){const ne=v.compact(rl(X),T),te={...W.current,[k]:ne};D(ne),N(te),W.current=te,f(ne,te),q.current=y}},[y,v,X,T,b,k,f]),I.useEffect(()=>{const ne=t!==z.current,te=r!==$.current,re=!Mo(i,L.current),Q=!Mo(s,B.current);if(ne||te||re||Q){const ee=r??XN(i,t),ve=QN(ee,s),ge=k;if(ge!==ee||re||Q){const Me={...W.current};Me[ge]||(Me[ge]=rl(R));let je=f1(Me,i,ee,ge,ve,v);je=Qpe(je,e,ve,v),Me[ee]=je,C(ee),O(ve),D(je),N(Me),W.current=Me,d(ee,ve),f(je,Me)}const We=C0(c,ee),Re=u?C0(u,ee):null;m(t,We,ve,Re),z.current=t,$.current=r,L.current=i,B.current=s}},[t,r,i,s,k,T,R,e,v,y,b,c,u,d,f,m]);const Z=I.useCallback(ne=>{const re={...W.current,[k]:ne};D(ne),N(re),W.current=re,f(ne,re)},[k,f]),H=I.useMemo(()=>C0(c,k),[c,k]),K=I.useMemo(()=>u===null?null:C0(u,k),[u,k]),Y=I.useMemo(()=>({cols:T,rowHeight:a,maxRows:l,margin:H,containerPadding:K}),[T,a,l,H,K]);return E.jsx(Vpe,{...g,width:t,gridConfig:Y,compactor:v,onLayoutChange:Z,layout:X,children:e})}function GV(n){const{children:e,width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,rowHeight:u,maxRows:h,margin:d,containerPadding:f,droppingItem:m,compactType:g,preventCollision:v=!1,allowOverlap:y=!1,verticalCompact:b,isDraggable:w=!0,isBounded:S=!1,draggableHandle:_,draggableCancel:k,isResizable:C=!0,resizeHandles:T=["se"],resizeHandle:O,isDroppable:R=!1,useCSSTransforms:D=!0,transformScale:F=1,autoSize:N,className:z,style:$,innerRef:L,onDragStart:B,onDrag:j,onDragStop:q,onResizeStart:W,onResize:V,onResizeStop:X,onDrop:Z,onDropDragOver:H}=n;let K=g===void 0?"vertical":g;b===!1&&(K=null);const Y={enabled:w,bounded:S,handle:_,cancel:k},ne={enabled:C,handles:T,handleComponent:O},te={enabled:R};let re;D?F!==1?re=rfe(F):re=pV:re=nfe;const Q=$b(K,y,v);return E.jsx(Jpe,{width:t,breakpoint:r,breakpoints:i,cols:s,layouts:o,rowHeight:u,maxRows:h,margin:d,containerPadding:f,compactor:Q,dragConfig:Y,resizeConfig:ne,dropConfig:te,positionStrategy:re,droppingItem:m,autoSize:N,className:z,style:$,innerRef:L,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,onDragStart:B,onDrag:j,onDragStop:q,onResizeStart:W,onResize:V,onResizeStop:X,onDrop:Z,onDropDragOver:H,children:e})}GV.displayName="ResponsiveReactGridLayout";var Zpe=GV,eme="react-grid-layout";function tme(n){function e(t){const{measureBeforeMount:r=!1,className:i,style:s,...o}=t,[a,l]=I.useState(1280),[c,u]=I.useState(!1),h=I.useRef(null),d=I.useRef(null);return I.useEffect(()=>{u(!0)},[]),I.useEffect(()=>{const f=h.current;if(!(f instanceof HTMLElement))return;const m=new ResizeObserver(g=>{if(g[0]){const v=g[0].contentRect.width;l(v)}});return m.observe(f),d.current=m,()=>{m.unobserve(f),m.disconnect()}},[c]),r&&!c?E.jsx("div",{className:cm(i,eme),style:s,ref:h}):E.jsx(n,{innerRef:h,className:i,style:s,...o,width:a})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const x1=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],nme=[[0,0,10,4],[0,4,8,16],[8,4,2,16],[0,43,3,10],[0,20,3,23],[3,20,7,23],[3,98,7,24],[3,78,7,20],[0,53,10,25]],u5=0,rme=8;function ime(n,e){return Math.floor(Math.random()*(e-n+1))+n}function sme(n){const e=Math.ceil(Math.random()*4)+1;return{x:ime(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function ome(n,e){const[t,r,i,s]=e;return{x:t,y:r,w:i,h:s,i:n.toString(),static:!0}}function rp(n,e){const t=n.length,r=[];for(let i=0;i<t;i++)i<n.length?r.push(ome(i,n[i])):r.push(sme(i));return r}function ame(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i],o=e[i];if(!s||!o){if(s!==o)return!1;continue}if(s.length!==o.length)return!1;for(let a=0;a<s.length;a++){const l=s[a],c=o[a];if(l.x!==c.x||l.y!==c.y||l.w!==c.w||l.h!==c.h)return!1}}return!0}function w1(n,e){const t={};for(const r in n){const i=n[r];i&&(t[r]=i.map(s=>({...s,static:e})))}return t}const lme=tme(Zpe);class VV extends fe.Component{constructor(t){super(t);ue(this,"isUpdatingLayout",!1);ue(this,"domCache",null);ue(this,"lastLayoutKey","");ue(this,"handleResponsiveLayoutChange",(t,r)=>{const i=Array.isArray(t)?t:[t],s=r;this.onLayoutChange(i,s)});ue(this,"generateNewLayout",()=>{const t=rp(x1),r=this.props.allStatic??this.state.allStatic,i=t.map(s=>({...s,static:r}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:i}})});this.state={currentBreakpoint:"lg",compactType:t.compactType??"vertical",mounted:!1,layouts:{lg:t.initialLayout||rp(x1)},allStatic:t.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const t=this.state.layouts.lg||[],{slotContent:r=[]}=this.props,i=this.props.allStatic??this.state.allStatic,s=`${t.length}-${i}-${r.length}`;if(this.domCache&&this.lastLayoutKey===s)return this.domCache;const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=a>=u5&&a<=rme,u=a-u5,h=c&&r[u]?r[u]:null,d=l.static??i;o.push(E.jsx("div",{className:d?"static":"",children:h?E.jsx("div",{className:"external-slot-content",children:h}):d?E.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["AREA ",a," CLASSIFIED"]}):E.jsx("span",{className:"text",children:a})},l.i||a.toString()))}return this.domCache=o,this.lastLayoutKey=s,o}onBreakpointChange(t){var r,i;this.setState({currentBreakpoint:t}),(i=(r=this.props).onBreakpointChange)==null||i.call(r,t)}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:t}=this.state,r=t==="horizontal"?"vertical":t==="vertical"?null:"horizontal";this.setState({compactType:r})}}onLayoutChange(t,r){if(this.isUpdatingLayout){this.props.onLayoutChange(t,r);return}const i=this.props.allStatic??this.state.allStatic;if(i){this.props.onLayoutChange(t,r);return}const s=w1(r,i);!ame(this.state.layouts,s)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:s},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(t,s)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const t=!this.state.allStatic,r=w1(this.state.layouts,t);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:t,layouts:r})}}componentDidUpdate(t){if(t.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),t.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const r=w1(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:r})}t.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const t=this.props.compactType??this.state.compactType;return E.jsx("div",{children:E.jsx(lme,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:t,preventCollision:!t,children:this.generateDOM()})})}}ue(VV,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:rp(x1)});function cme({isOpen:n,currentLeverage:e,tempLeverage:t,maxRatio:r,onLeverageChange:i,onConfirm:s,onCancel:o}){if(!n)return null;const a=E.jsx("div",{className:"modal-overlay",onClick:o,children:E.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[E.jsx("div",{className:"modal-header",children:E.jsx("h3",{children:"Select Leverage"})}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("div",{className:"leverage-max-ratio",children:[E.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),E.jsxs("div",{className:"leverage-max-ratio-value",children:[r,"x"]})]}),E.jsxs("div",{className:"leverage-slider-container",children:[E.jsx("input",{type:"range",min:Xw,max:dN,value:t,onChange:l=>i(parseInt(l.target.value)),className:"filled-slider",style:{"--slider-progress":`${(t-Xw)/(dN-Xw)*100}%`}}),E.jsxs("div",{className:"leverage-slider-labels",children:[E.jsx("span",{children:"1x"}),E.jsxs("span",{className:"leverage-current-value",children:[t,"x"]}),E.jsx("span",{children:"100x"})]})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:s,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?Jo.createPortal(a,document.body):null}function ume({isOpen:n,fromValue:e,toValue:t,options:r,bucketsData:i,transferAmount:s,createBucketAmount:o,createBucketAsset:a,createMarginType:l,transferMarginType:c,onFromChange:u,onToChange:h,onTransferAmountChange:d,onCreateBucketAmountChange:f,onCreateBucketAssetChange:m,onCreateMarginTypeChange:g,onTransferMarginTypeChange:v,onConfirm:y,onCancel:b,spotWalletBalance:w=0,activeTab:S,onActiveTabChange:_,isTransferring:k=!1,onOpen:C,collections:T}){const[O,R]=I.useState("transfer"),D=S??O,F=_??R,N=I.useRef(!1),[z,$]=I.useState(!1),[L,B]=I.useState("transfer"),[j,q]=I.useState(!1);I.useEffect(()=>{n&&!N.current&&C&&C(),N.current=n,n||q(!1)},[n,C,D]);const W=I.useMemo(()=>e==="spot-wallet"?null:i.find(re=>re.bucketId===e),[i,e]);I.useMemo(()=>{var Q;if(e==="spot-wallet"||!T)return null;const re=T.find(ee=>ee.bucketId===e);return((Q=re==null?void 0:re.marginType)==null?void 0:Q.toLowerCase())||null},[T,e]);const V=I.useMemo(()=>e==="spot-wallet"?w:(W==null?void 0:W.totalEquity)||0,[e,w,W]),X=10,Z=Math.max(X,V);if(fe.useEffect(()=>{if(e&&Z>0){const re=D==="transfer"?s:o;re>Z?D==="transfer"?d(Z):f(Z):re<X&&Z>=X&&(D==="transfer"?d(X):f(X))}},[e,Z,D,s,o,d,f]),!n)return null;const H=e&&t&&s>=X&&s<=Z,K=e&&o>=X&&o<=Z&&a&&l,Y=E.jsx("div",{className:"modal-overlay",onClick:b,children:E.jsxs("div",{className:"modal-content transfer-modal-content",onClick:re=>re.stopPropagation(),children:[E.jsx("div",{className:"modal-header",children:E.jsx("h3",{children:"Transfer Funds"})}),E.jsxs("div",{className:"transfer-modal-tabs",children:[E.jsx("button",{className:`transfer-tab ${D==="transfer"?"active":""}`,onClick:()=>F("transfer"),type:"button",disabled:k,children:"Transfer"}),E.jsx("button",{className:`transfer-tab ${D==="create"?"active":""}`,onClick:()=>F("create"),type:"button",disabled:k,children:"Create Bucket"})]}),E.jsx("div",{className:"modal-body",children:D==="transfer"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"transfer-field-group",children:[E.jsx("label",{className:"transfer-field-label",children:"From"}),E.jsxs("select",{value:e,onChange:re=>u(re.target.value),className:"transfer-select",children:[E.jsx("option",{value:"",children:"Select source bucket"}),r.map(re=>E.jsx("option",{value:re.value,children:re.label},re.value))]})]}),e&&E.jsxs("div",{className:"transfer-field-group",children:[E.jsx("label",{className:"transfer-field-label",children:"To"}),E.jsxs("select",{value:t,onChange:re=>h(re.target.value),className:"transfer-select",disabled:!e,children:[E.jsx("option",{value:"",children:"Select destination bucket"}),r.filter(re=>re.value!==e).map(re=>E.jsx("option",{value:re.value,children:re.label},re.value))]})]}),e&&Z>=X?E.jsxs("div",{className:"transfer-field-group",children:[E.jsxs("div",{className:"transfer-amount-header",children:[E.jsx("label",{className:"transfer-field-label",children:"Amount"}),E.jsxs("div",{className:"transfer-available-balance",children:["Available: ",un(V)]})]}),E.jsx("div",{className:"transfer-amount-display",onClick:()=>{B("transfer"),$(!0)},style:{cursor:"pointer"},children:E.jsx("span",{className:"transfer-amount-value",children:un(s)})}),E.jsxs("div",{className:"transfer-amount-container",children:[E.jsx("input",{type:"range",min:X,max:Z,step:.01,value:s,onChange:re=>d(parseFloat(re.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(s-X)/(Z-X)*100}%`}}),E.jsxs("div",{className:"transfer-amount-labels",children:[E.jsx("span",{children:un(X)}),E.jsx("span",{children:un(Z)})]})]})]}):e?E.jsx("div",{className:"transfer-field-group",children:E.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",un(X)]})}):null]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"transfer-field-group",children:[E.jsx("label",{className:"transfer-field-label",children:"From"}),E.jsxs("select",{value:e,onChange:re=>u(re.target.value),className:"transfer-select",children:[E.jsx("option",{value:"",children:"Select source bucket"}),r.map(re=>E.jsx("option",{value:re.value,children:re.label},re.value))]})]}),E.jsxs("div",{className:"transfer-field-group",children:[E.jsx("label",{className:"transfer-field-label",children:"Collateral Asset"}),E.jsxs("select",{value:a,onChange:re=>m(re.target.value),className:"transfer-select",children:[E.jsx("option",{value:"",children:"Select collateral asset"}),E.jsx("option",{value:"USDC",children:"USDC"}),E.jsx("option",{value:"USDT",children:"USDT"})]})]}),E.jsxs("div",{className:"transfer-field-group",children:[E.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),E.jsxs("select",{value:l,onChange:re=>g(re.target.value),className:"transfer-select",children:[E.jsx("option",{value:"",children:"Select margin type"}),E.jsx("option",{value:"cross",children:"Cross Margin"}),E.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&Z>=X?E.jsxs("div",{className:"transfer-field-group",children:[E.jsxs("div",{className:"transfer-amount-header",children:[E.jsx("label",{className:"transfer-field-label",children:"Amount"}),E.jsxs("div",{className:"transfer-available-balance",children:["Available: ",un(V)]})]}),E.jsx("div",{className:"transfer-amount-display",onClick:()=>{B("create"),$(!0)},style:{cursor:"pointer"},children:E.jsx("span",{className:"transfer-amount-value",children:un(o)})}),E.jsxs("div",{className:"transfer-amount-container",children:[E.jsx("input",{type:"range",min:X,max:Z,step:.01,value:o,onChange:re=>f(parseFloat(re.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-X)/(Z-X)*100}%`}}),E.jsxs("div",{className:"transfer-amount-labels",children:[E.jsx("span",{children:un(X)}),E.jsx("span",{children:un(Z)})]})]})]}):e?E.jsx("div",{className:"transfer-field-group",children:E.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",un(X)]})}):null]})}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:b,className:"btn btn-secondary",disabled:k,children:"Cancel"}),E.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[E.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:j?0:1,visibility:j?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:j?"none":"auto"},children:E.jsx(yde,{onConfirm:()=>{q(!0)},label:"Slide to confirm",disabled:k||(D==="transfer"?!H:!K),icon:E.jsx("img",{src:"/bconfirm.svg"})})}),E.jsx("button",{onClick:()=>{y(D==="transfer"?{type:"transfer",from:e,to:t,amount:s}:{type:"create",from:e,collateralAsset:a,marginType:l,amount:o})},className:"btn btn-primary",disabled:k||(D==="transfer"?!H:!K),style:{position:"absolute",top:0,right:0,opacity:j?1:0,visibility:j?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:j?"auto":"none",width:"100%",height:"100%",color:"black"},children:k?"Processing...":"Confirm"})]})]})]})}),ne=L==="transfer"?s:o,te=re=>{L==="transfer"?d(re):f(re),$(!1)};return E.jsxs(E.Fragment,{children:[typeof document<"u"?Jo.createPortal(Y,document.body):null,E.jsx(iV,{isOpen:z,value:ne,min:X,max:Z,onConfirm:te,onCancel:()=>$(!1)})]})}function Qt(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function ac(n,e){return n.width===e.width&&n.height===e.height}var hme=function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){t._observers=t._observers.filter(function(i){return i!==r})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function dme(n){return new hme(n)}var fme=function(){function n(e,t,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Qt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return Qt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Qt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;ac(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,r=Qt(this._transformBitmapSize(e,this._canvasElementClientSize)),i=ac(this.bitmapSize,r)?null:r;t===null&&i===null||t!==null&&i!==null&&ac(t,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(t,i))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}mme().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=h5(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=dme(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var r=h5(this._canvasElement);if(r!==null){var i=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?gme(s[0],i):Qt({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var r=t.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=Qt({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function pme(n,e){return new fme(n,e.transform,e.options)}function h5(n){return n.ownerDocument.defaultView}function mme(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function gme(n,e){return Qt({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var vme=function(){function n(e,t,r){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function _c(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var r=n.bitmapSize;if(r.width===0||r.height===0)return null;var i=n.canvasElement.getContext("2d",e);return i===null?null:new vme(i,t,r)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const KV={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var d5,f5;function qh(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function XV(n,e,t,r){n.beginPath();const i=n.lineWidth%2?.5:0;n.moveTo(t,e+i),n.lineTo(r,e+i),n.stroke()}function hr(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function ri(n){if(n===void 0)throw new Error("Value is undefined");return n}function ke(n){if(n===null)throw new Error("Value is null");return n}function $a(n){return ke(ri(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(d5||(d5={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(f5||(f5={}));class Fn{constructor(){this.t=[]}i(e,t,r){const i={h:e,l:t,o:r===!0};this.t.push(i)}_(e){const t=this.t.findIndex(r=>e===r.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,r){const i=[...this.t];this.t=this.t.filter(s=>!s.o),i.forEach(s=>s.h(e,t,r))}v(){return this.t.length>0}m(){this.t=[]}}function _i(n,...e){for(const t of e)for(const r in t)t[r]!==void 0&&Object.prototype.hasOwnProperty.call(t,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof t[r]!="object"||n[r]===void 0||Array.isArray(t[r])?n[r]=t[r]:_i(n[r],t[r]));return n}function Uh(n){return typeof n=="number"&&isFinite(n)}function um(n){return typeof n=="number"&&n%1==0}function Xm(n){return typeof n=="string"}function T0(n){return typeof n=="boolean"}function Lo(n){const e=n;if(!e||typeof e!="object")return e;let t,r,i;for(r in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],t[r]=i&&typeof i=="object"?Lo(i):i);return t}function p5(n){return n!==null}function yme(n){return n===null?void 0:n}const QV="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Sy(n,e,t){return e===void 0&&(e=QV),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class bme{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),r=this.W();return e.k===t&&e.T===r||(e.k=t,e.T=r,e.P=Sy(t,r),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function _1(n){return n<0?0:n>255?255:Math.round(n)||0}function m5(n){return .199*n[0]+.687*n[1]+.114*n[2]}class xme{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e==="transparent")return e;const r=this.K(e),i=r[3];return`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${t*i})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:m5(t)>160?"black":"white"}}J(e){return m5(this.K(e))}tt(e,t,r){const[i,s,o,a]=this.K(e),[l,c,u,h]=this.K(t),d=[_1(i+r*(l-i)),_1(s+r*(c-s)),_1(o+r*(u-o)),(f=a+r*(h-a),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const r=function(o){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=o;const l=window.getComputedStyle(a).color;return document.body.removeChild(a),l}(e),i=r.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const o of this.j){const a=o(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}}class wme{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,r){this.it.forEach(i=>{i.nt(e,t,r)})}}class Qm{nt(e,t,r){e.useBitmapCoordinateSpace(i=>this.et(i,t,r))}}class _me extends Qm{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(t))%2/2,a=l=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const u=s.ot[c],h=Math.round(u._t*t)+o,d=u.ut*r,f=l*r+o;e.moveTo(h,d),e.arc(h,d,f,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,a(s.ft+s.ct)),e.fillStyle=s.vt,a(s.ft)}}function Sme(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const kme={from:0,to:1};class Cme{constructor(e,t,r){this.Mt=new wme,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=r,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Sme),this.bt=this.St.map(t=>{const r=new _me;return r.ht(t),r}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),r=this.Ct.Bt(),i=this.O.Et();this.Pt(),t.forEach((s,o)=>{const a=this.St[o],l=s.At(r),c=s.Lt();!e&&l!==null&&s.It()&&c!==null?(a.vt=l.zt,a.ft=l.ft,a.ct=l.Ot,a.ot[0].gt=l.gt,a.ot[0].ut=s.Ft().Nt(l.gt,c.Wt),a.dt=l.Ht??this.O.Ut(a.ot[0].ut/s.Ft().$t()),a.ot[0].wt=r,a.ot[0]._t=i.qt(r),a.lt=kme):a.lt=null})}}class Eme extends Qm{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=this.jt.Yt.It,o=this.jt.Kt.It;if(!s&&!o)return;const a=Math.round(this.jt._t*r),l=Math.round(this.jt.ut*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*r),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,qh(e,this.jt.Yt.Zt),function(c,u,h,d){c.beginPath();const f=c.lineWidth%2?.5:0;c.moveTo(u+f,h),c.lineTo(u+f,d),c.stroke()}(e,a,0,t.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,qh(e,this.jt.Kt.Zt),XV(e,l,0,t.width))}}class Tme{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Eme(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,r=this.Gt;if(t.mode===2)return r.Kt.It=!1,void(r.Yt.It=!1);r.Kt.It=e&&this.Jt.ti(this.yt),r.Yt.It=e&&this.Jt.ii(),r.Kt.ct=t.horzLine.width,r.Kt.Zt=t.horzLine.style,r.Kt.R=t.horzLine.color,r.Yt.ct=t.vertLine.width,r.Yt.Zt=t.vertLine.style,r.Yt.R=t.vertLine.color,r._t=this.Jt.si(),r.ut=this.Jt.ni()}}function Vb(n,e,t,r,i,s){n.save(),n.globalCompositeOperation="copy",n.fillStyle=s,n.fillRect(e,t,r,i),n.restore()}function g5(n,e,t,r,i,s){n.beginPath(),n.roundRect?n.roundRect(e,t,r,i,s):(n.lineTo(e+r-s[1],t),s[1]!==0&&n.arcTo(e+r,t,e+r,t+s[1],s[1]),n.lineTo(e+r,t+i-s[2]),s[2]!==0&&n.arcTo(e+r,t+i,e+r-s[2],t+i,s[2]),n.lineTo(e+s[3],t+i),s[3]!==0&&n.arcTo(e,t+i,e,t+i-s[3],s[3]),n.lineTo(e,t+s[0]),s[0]!==0&&n.arcTo(e,t,e+s[0],t,s[0]))}function v5(n,e,t,r,i,s,o=0,a=[0,0,0,0],l=""){if(n.save(),!o||!l||l===s)return g5(n,e,t,r,i,a),n.fillStyle=s,n.fill(),void n.restore();const c=o/2;var u;g5(n,e+c,t+c,r-o,i-o,(u=-c,a.map(h=>h===0?h:h+u))),s!=="transparent"&&(n.fillStyle=s,n.fill()),l!=="transparent"&&(n.lineWidth=o,n.strokeStyle=l,n.closePath(),n.stroke()),n.restore()}function JV(n,e,t,r,i,s,o){n.save(),n.globalCompositeOperation="copy";const a=n.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),n.fillStyle=a,n.fillRect(e,t,r,i),n.restore()}class y5{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,r,i){if(!this.jt.It||this.jt.ri.length===0)return;const s=this.jt.R,o=this.ei.G,a=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=t.P;const u=this.hi(l,t,r,i),h=u.ai;return u.li?v5(c,h.oi,h._i,h.ui,h.ci,o,h.di,[h.ft,0,0,h.ft],o):v5(c,h.fi,h._i,h.ui,h.ci,o,h.di,[0,h.ft,h.ft,0],o),this.jt.pi&&(c.fillStyle=s,c.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.jt.Mi&&(c.fillStyle=t.D,c.fillRect(u.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=a.xi;l.font=t.P,l.textAlign=a.li?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,t,r,i){const{context:s,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.jt.pi||!this.jt.ki?t.C:0,h=this.jt.Pi?t.S:0,d=t.A+this.ei.Ti,f=t.I+this.ei.Ri,m=t.V,g=t.B,v=this.jt.ri,y=t.k,b=r.Di(s,v),w=Math.ceil(r.Ii(s,v)),S=y+d+f,_=t.S+m+g+w+u,k=Math.max(1,Math.floor(c));let C=Math.round(S*c);C%2!=k%2&&(C+=1);const T=h>0?Math.max(1,Math.floor(h*l)):0,O=Math.round(_*l),R=Math.round(u*l),D=this.ei.Vi??this.ei.Bi??this.ei.Ei,F=Math.round(D*c)-Math.floor(.5*c),N=Math.floor(F+k/2-C/2),z=N+C,$=i==="right",L=$?a.width-h:h,B=$?o.width-T:T;let j,q,W;return $?(j=B-O,q=B-R,W=L-u-m-h):(j=B+O,q=B+R,W=L+u+m),{li:$,ai:{_i:N,mi:F,Si:z,ui:O,ci:C,ft:2*l,di:T,oi:j,fi:B,wi:q,gi:k,bi:o.width},xi:{_i:N/c,Si:z/c,Ci:W,yi:b}}}}class Kb{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||y5)(this.Li,this.Ai),this.Ni=new(e||y5)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Mme extends Kb{constructor(e,t,r){super(),this.Jt=e,this.Ki=t,this.Zi=r}Yi(e,t,r){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||s===null)return;const o=this.Ki.Xi().Z(i.labelBackgroundColor);r.G=o.G,e.R=o.X;const a=2/12*this.Ki.k();r.Ti=a,r.Ri=a;const l=this.Zi(this.Ki);r.Ei=l.Ei,e.ri=this.Ki.Ji(l.gt,s),e.It=!0}}const Ime=/[1-9]/g;class ZV{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const r=e.useMediaCoordinateSpace(({context:d})=>(d.font=t.P,Math.round(t.Qi.Ii(d,ke(this.jt).ri,Ime))));if(r<=0)return;const i=t.ts,s=r+2*i,o=s/2,a=this.jt.ss;let l=this.jt.Ei,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+s>a&&(l-=Math.abs(a-(c+s)),c=Math.floor(l-o)+.5);const u=c+s,h=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:m})=>{const g=ke(this.jt);d.fillStyle=g.G;const v=Math.round(c*f),y=Math.round(0*m),b=Math.round(u*f),w=Math.round(h*m),S=Math.round(2*f);if(d.beginPath(),d.moveTo(v,y),d.lineTo(v,w-S),d.arcTo(v,w,v+S,w,S),d.lineTo(b-S,w),d.arcTo(b,w,b,w-S,S),d.lineTo(b,y),d.fill(),g.pi){const _=Math.round(g.Ei*f),k=y,C=Math.round((k+t.C)*m);d.fillStyle=g.R;const T=Math.max(1,Math.floor(f)),O=Math.floor(.5*f);d.fillRect(_-O,k,T,C-k)}}),e.useMediaCoordinateSpace(({context:d})=>{const f=ke(this.jt),m=0+t.S+t.C+t.A+t.k/2;d.font=t.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const g=t.Qi.Di(d,"Apr0");d.translate(c+i,m+g),d.fillText(f.ri,0,0)})}}class Pme{constructor(e,t,r){this.xt=!0,this.Xt=new ZV,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=r}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const r=this.ns.Et();if(r.Gi())return;e.ss=r.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const s=r.es(this.Ct.Bt());e.ri=r.rs(ke(s)),e.It=!0;const o=this.ns.Xi().Z(t.labelBackgroundColor);e.G=o.G,e.R=o.X,e.pi=r.N().ticksVisible}}class eK{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var b5;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(b5||(b5={}));class Ome extends eK{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((i,s)=>o=>{const a=s(),l=i();if(o===ke(this.yt).Rs())return{gt:l,Ei:a};{const c=ke(o.Lt());return{gt:o.Ds(a,c),Ei:a}}})(()=>this.ps,()=>this.Cs);const r=((i,s)=>()=>{const o=this.ns.Et().Is(i()),a=s();return o&&Number.isFinite(a)?{wt:o,Ei:a}:null})(()=>this.vs,()=>this.si());this.Vs=new Pme(this,e,r)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,r){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,r)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,r=t.Et();let i=null,s=null;for(const c of t.Us()){const u=c.qs().$s(e,-1);if(u){if(u.js===e)return e;(i===null||u.js>i)&&(i=u.js)}const h=c.qs().$s(e,1);if(h){if(h.js===e)return e;(s===null||h.js<s)&&(s=h.js)}}const o=[i,s].filter(p5);if(o.length===0)return e;const a=r.qt(e),l=o.map(c=>Math.abs(a-r.qt(c)));return o[l.indexOf(Math.min(...l))]}Ys(e){let t=this.bs.get(e);t||(t=new Tme(this,e),this.bs.set(e,t));let r=this.Ss.get(e);return r||(r=new Cme(this.ns,this,e),this.Ss.set(e,r)),[t,r]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const r=[];return this.yt===e&&r.push(this.Zs(this.gs,t,this.Ts)),r}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var t,r;(t=this.bs.get(e))==null||t.kt(),(r=this.Ss.get(e))==null||r.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,r){this.Qs(e,t,r)&&this.Ws()}Qs(e,t,r){const i=this.xs,s=this.Cs,o=this.ps,a=this.vs,l=this.yt,c=this.Js(r);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=r;const u=c!==null?c.Lt():null;return c!==null&&u!==null?(this.ps=t,this.Cs=c.Nt(t,u)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||s!==this.Cs||a!==this.vs||o!==this.ps||l!==this.yt}Fs(){const e=this.ns.tn().map(r=>r.qs().sn()).filter(p5),t=e.length===0?null:Math.max(...e);this.vs=t!==null?t:NaN}Zs(e,t,r){let i=e.get(t);return i===void 0&&(i=new Mme(this,t,r),e.set(t,i)),i}}function Xb(n){return n==="left"||n==="right"}class ur{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const r=function(i,s){return i===void 0?s:{an:Math.max(i.an,s.an),ln:i.ln||s.ln}}(this.nn.get(e),t);this.nn.set(e,r)}_n(){return this.rn}un(e){const t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((t,r)=>{this.hn(r,t)})}static Cn(){return new ur(2)}static yn(){return new ur(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(t=>t.fn===5);e!==-1&&this.en.splice(e,1)}}class tK{formatTickmarks(e){return e.map(t=>this.format(t))}}const x5=".";function Fo(n,e){if(!Uh(n))return"n/a";if(!um(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let Qb=class extends tK{constructor(e,t){if(super(),t||(t=1),Uh(e)&&um(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let r=Math.floor(e),i="";const s=this.Rn!==void 0?this.Rn:NaN;if(t>1){let o=+(Math.round(e*t)-r*t).toFixed(this.Rn);o>=t&&(o-=t,r+=1),i=x5+Fo(+o.toFixed(this.Rn)*this.kn,s)}else r=Math.round(r*t)/t,s>0&&(i=x5+Fo(0,s));return r.toFixed(0)+i}};class nK extends Qb{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Rme extends tK{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const r=Math.pow(10,this.Dn);return t=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}const Dme=/[2-9]/g;class ky{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,r){return this.Nn(e,t,r).width}Di(e,t,r){const i=this.Nn(e,t,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,t,r){const i=r||Dme,s=String(t).replace(i,"0");if(this.Ln.has(s))return ri(this.Ln.get(s)).Fn;if(this.Vn===this.zn){const a=this.An[this.En];delete this.An[this.En],this.Ln.delete(a),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&t.length||(this.Ln.set(s,{Fn:o,Wn:this.Bn}),this.An[this.Bn]=s,this.Vn++,this.Bn++),o}}class Ame{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,r){this.Hn=e,this.M=t,this.Un=r}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class rK{constructor(e,t,r){this.jn=e,this.$n=new ky(50),this.Yn=t,this.O=r,this.F=-1,this.Xt=new Ame(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;const r=e.Xn(t);if(r==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,r),this.Xt}}let Nme=class extends Qm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){var o;if(!((o=this.jt)!=null&&o.It))return null;const{ut:r,ct:i,te:s}=this.jt;return t>=r-i-7&&t<=r+i+7?{ie:this.jt,te:s}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const s=Math.round(this.jt.ut*i);s<0||s>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*r),qh(e,this.jt.Zt),XV(e,s,0,t.width))}};class FO{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new Nme,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Lme extends FO{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;const r=this.ee.N();if(!r.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=r.baseLineColor,this.se.ct=r.baseLineWidth,this.se.Zt=r.baseLineStyle)}}class Fme extends Qm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:r}){const i=this.jt;if(i===null)return;const s=Math.max(1,Math.floor(t)),o=s%2/2,a=Math.round(i.oe.x*t)+o,l=i.oe.y*r;e.fillStyle=i._e,e.beginPath();const c=Math.max(2,1.5*i.ue)*t;e.arc(a,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(a,l,i.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.de,e.beginPath(),e.arc(a,l,i.ft*t+s/2,0,2*Math.PI,!1),e.stroke()}}const $me=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class jme{constructor(e){this.Xt=new Fme,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),r=this.ye.Lt();if(t===null||r===null)return;const i=this.ye.Ve(!0);if(i.Be||!t.Ee(i.js))return;const s={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,r.Wt)},o=i.R,a=this.ye.N().lineWidth,l=this.Ae(this.Le(),o);this.Xt.ht({_e:o,ue:a,ce:l.ce,de:l.de,ft:l.ft,oe:s})}De(){const e=this.Xt.le();if(e!==null){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,r,i){const s=r+(i-r)*t;return this.ye.Qt().Xi().Y(e,s)}Ae(e,t){const r=e%2600/2600;let i;for(const c of $me)if(r>=c.fe&&r<=c.pe){i=c;break}hr(i!==void 0,"Last price animation internal logic error");const s=(r-i.fe)/(i.pe-i.fe);return{ce:this.ze(t,s,i.we,i.ge),de:this.ze(t,s,i.Me,i.be),ft:(o=s,a=i.ve,l=i.me,a+(l-a)*o)};var o,a,l}}class Bme extends FO{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const r=this.ee.Ve(t.priceLineSource===0);r.Be||(e.It=!0,e.ut=r.Ei,e.R=this.ee.Oe(r.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}let zme=class extends Kb{constructor(e){super(),this.Jt=e}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.Jt;if(!i.It())return;const s=i.N(),o=s.lastValueVisible,a=i.Ne()!=="",l=s.seriesLastValueMode===0,c=i.Ve(!1);if(c.Be)return;o&&(e.ri=this.Fe(c,o,l),e.It=e.ri.length!==0),(a||l)&&(t.ri=this.We(c,o,a,l),t.It=t.ri.length>0);const u=i.Oe(c.R),h=this.Jt.Qt().Xi().Z(u);r.G=h.G,r.Ei=c.Ei,t.Ht=i.Qt().Ut(c.Ei/i.Ft().$t()),e.Ht=u,e.R=h.X,t.R=h.X}We(e,t,r,i){let s="";const o=this.Jt.Ne();return r&&o.length!==0&&(s+=`${o} `),t&&i&&(s+=this.Jt.Ft().He()?e.Ue:e.$e),s.trim()}Fe(e,t,r){return t?r?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}};function w5(n,e,t,r){const i=Number.isFinite(e),s=Number.isFinite(t);return i&&s?n(e,t):i||s?i?e:t:r}class Lr{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Lr(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Lr(w5(Math.min,this.Ze(),e.Ze(),-1/0),w5(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Uh(e)||this.je-this.qe===0)return;const t=.5*(this.je+this.qe);let r=this.je-t,i=this.qe-t;r*=e,i*=e,this.je=t+r,this.qe=t+i}Qe(e){Uh(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Lr(e.minValue,e.maxValue)}}class Cy{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Cy(Lr.ir(e.priceRange),e.margins)}}const qme=[2,4,8,16,32,64,128,256,512],Ume="Custom series with conflation reducer must have a priceValueBuilder method";class Hme extends FO{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const r=this.hr.ar();r!==null&&(e.It=!0,e.ut=r,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class Wme extends Kb{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,r){e.It=!1,t.It=!1;const i=this.hr.N(),s=i.axisLabelVisible,o=i.title!=="",a=this.ye;if(!s||!a.It())return;const l=this.hr.ar();if(l===null)return;o&&(t.ri=i.title,t.It=!0),t.Ht=a.Qt().Ut(l/a.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const c=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);r.G=c.G;const u=i.axisLabelTextColor||c.X;e.R=u,t.R=u,r.Ei=l}lr(e){const t=this.ye.Lt();return t===null?"":this.ye.Ft().Ji(e,t.Wt)}}class Yme{constructor(e,t){this.ye=e,this.Ps=t,this._r=new Hme(e,this),this.jn=new Wme(e,this),this.ur=new rK(this.jn,e,e.Qt())}cr(e){_i(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const r=e.Lt();return r===null?null:t.Nt(this.Ps.price,r.Wt)}}class Gme{constructor(){this.wr=new WeakMap}gr(e,t,r){const i=1/t*r;if(e>=i)return 1;const s=i/e,o=Math.pow(2,Math.floor(Math.log2(s)));return Math.min(o,512)}Mr(e,t,r,i=!1,s){if(e.length===0||t<=1)return e;const o=this.br(t);if(o<=1)return e;const a=this.Sr(e);let l=a.Cr.get(o);return l!==void 0||(l=this.yr(e,o,r,i,s,a.Cr),a.Cr.set(o,l)),l}kr(e,t,r,i,s=!1,o){if(r<1||e.length===0)return e;const a=this.Sr(e),l=a.Cr.get(r);if(!l)return this.Mr(e,r,i,s,o);const c=this.Pr(e,t,r,l,s,i,o);return a.Cr.set(r,c),c}br(e){if(e<=2)return 2;for(const t of qme)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;const t=e[0],r=e[e.length-1];return 31*e.length+17*t.js+13*r.js}yr(e,t,r,i=!1,s,o=new Map){if(t===2)return this.Rr(e,2,r,i,s);const a=t/2;let l=o.get(a);return l||(l=this.yr(e,a,r,i,s,o),o.set(a,l)),this.Dr(l,r,i,s)}Rr(e,t,r,i=!1,s){const o=this.Ir(e,t,r,i,s);return this.Vr(o,i)}Dr(e,t,r=!1,i){const s=this.Ir(e,2,t,r,i);return this.Vr(s,r)}Ir(e,t,r,i=!1,s){const o=[];for(let a=0;a<e.length;a+=t)if(e.length-a>=t){const l=this.Br(e[a],e[a+1],r,i,s);l.Er=!1,o.push(l)}else if(o.length===0)o.push(this.Ar(e[a],!0));else{const l=o[o.length-1];o[o.length-1]=this.Lr(l,e[a],r,i,s)}return o}zr(e,t){return(e??1)+(t??1)}Br(e,t,r,i=!1,s){if(!i||!r||!s){const c=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],u=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:c,$r:u,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const o=r(this.Kr(e,s),this.Kr(t,s)),a=s(o),l=a.length?a[a.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],l),$r:Math.min(e.Wt[2],l),qr:l,jr:this.zr(e.jr,t.jr),Yr:o,Er:!1}}Lr(e,t,r,i=!1,s){if(!i||!r||!s)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const o=e.Yr,a=this.Kr(t,s),l=o?{data:o,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:s(o)}:null,c=l?r(l,a):a.data,u=l?s(c):a.priceValues,h=u.length?u[u.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,h),$r:Math.min(e.$r,h),qr:h,jr:e.jr+(t.jr??1),Yr:c,Er:!1}}Zr(e,t,r,i,s,o,a=!1,l){const c=t===i?s:e[t];if(r-t==1)return this.Ar(c,!0);const u=t+1===i?s:e[t+1];let h=this.Br(c,u,o,a,l);for(let d=t+2;d<r;d++){const f=d===i?s:e[d];h=this.Lr(h,f,o,a,l)}return h}Kr(e,t){const r=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(r)}}Xr(e,t=!1){const r=t===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[r?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:r?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map(r=>this.Xr(r,t))}Pr(e,t,r,i,s=!1,o,a){if(i.length===0)return i;const l=e.length-1,c=Math.floor(l/r)*r;if(Math.min(c+r,e.length)-c<r&&e.length>r){const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}if(Math.floor((l-1)/r)===Math.floor(l/r)||i.length===1){const u=Math.min(c+r,e.length),h=u-c;if(h<=0)return i;const d=h===1?this.Ar(c===l?t:e[c],!0):this.Zr(e,c,u,l,t,o,s,a);return i[i.length-1]=this.Xr(d,s),i}{const u=e.slice();return u[u.length-1]=t,this.Mr(u,r,o,s,a)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),r=this.Tr(e);return t.Qr!==r&&(t.Cr.clear(),t.Qr=r),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class Vme extends eK{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const Kme={Bar:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=ke(n(t,r)),a=$a(o.Wt[0])<=$a(o.Wt[3]);return{th:o.R??(a?i:s)}},Candlestick:(n,e,t,r)=>{const i=e.upColor,s=e.downColor,o=e.borderUpColor,a=e.borderDownColor,l=e.wickUpColor,c=e.wickDownColor,u=ke(n(t,r)),h=$a(u.Wt[0])<=$a(u.Wt[3]);return{th:u.R??(h?i:s),ih:u.Ht??(h?o:a),sh:u.nh??(h?l:c)}},Custom:(n,e,t,r)=>({th:ke(n(t,r)).R??e.color}),Area:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(n,e,t,r)=>{const i=ke(n(t,r));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(n,e,t,r)=>({th:ke(n(t,r)).R??e.color})};class Xme{constructor(e){this.fh=(t,r)=>r!==void 0?r.Wt:this.ye.qs().ph(t),this.ye=e,this.mh=Kme[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function iK(n,e,t,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],t)===n?(i=l+1,o-=a+1):o=a}return i}const Hh=iK.bind(null,!0),sK=iK.bind(null,!1);var _5;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(_5||(_5={}));const pa=30;class Qme{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){const r=this.Th(e,t);return r===null?null:{...this.Rh(r),js:this.Ph(r)}}Dh(){return this.Mh}Ih(e,t,r){if(this.Gi())return null;let i=null;for(const s of r)i=M0(i,this.Vh(e,t,s));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(t=>t.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const r=this.Eh(e);if(r===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return r}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return Hh(this.Mh,e,(t,r)=>t.js<r)}Oh(e){return sK(this.Mh,e,(t,r)=>t.js>r)}Nh(e,t,r){let i=null;for(let s=e;s<t;s++){const o=this.Mh[s].Wt[r];Number.isNaN(o)||(i===null?i={Fh:o,Wh:o}:(o<i.Fh&&(i.Fh=o),o>i.Wh&&(i.Wh=o)))}return i}Vh(e,t,r){if(this.Gi())return null;let i=null;const s=ke(this.kh()),o=ke(this.sn()),a=Math.max(e,s),l=Math.min(t,o),c=Math.ceil(a/pa)*pa,u=Math.max(c,Math.floor(l/pa)*pa);{const d=this.zh(a),f=this.Oh(Math.min(l,c,t));i=M0(i,this.Nh(d,f,r))}let h=this.bh.get(r);h===void 0&&(h=new Map,this.bh.set(r,h));for(let d=Math.max(c+1,a);d<u;d+=pa){const f=Math.floor(d/pa);let m=h.get(f);if(m===void 0){const g=this.zh(f*pa),v=this.Oh((f+1)*pa-1);m=this.Nh(g,v,r),h.set(f,m)}i=M0(i,m)}{const d=this.zh(u),f=this.Oh(l);i=M0(i,this.Nh(d,f,r))}return i}}function M0(n,e){return n===null?e:e===null?n:{Fh:Math.min(n.Fh,e.Fh),Wh:Math.max(n.Wh,e.Wh)}}function S1(){return new Qme}const Ey={setLineStyle:qh};class Jme{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Ey)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Ey)}}class Zme{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new Jme(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}class oK{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,t;(t=(e=this.Zh).updateAllViews)==null||t.call(e)}Ys(){var r,i,s;const e=((i=(r=this.Zh).paneViews)==null?void 0:i.call(r))??[];if(((s=this.Kh)==null?void 0:s.qh)===e)return this.Kh.jh;const t=e.map(o=>new Zme(o));return this.Kh={qh:e,jh:t},t}Qn(e,t){var r,i;return((i=(r=this.Zh).hitTest)==null?void 0:i.call(r,e,t))??null}}let ege=class extends oK{ds(){return[]}};class tge{constructor(e){this.Hh=e}nt(e,t,r){this.Hh.draw(e,Ey)}Uh(e,t,r){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Ey)}}class S5{constructor(e){this.Ln=null,this.$h=e}Tt(){var r;const e=this.$h.renderer();if(e===null)return null;if(((r=this.Ln)==null?void 0:r.qh)===e)return this.Ln.jh;const t=new tge(e);return this.Ln={qh:e,jh:t},t}Yh(){var e,t;return((t=(e=this.$h).zOrder)==null?void 0:t.call(e))??"normal"}}function aK(n){var e,t,r;return{ri:n.text(),Ei:n.coordinate(),Vi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),G:n.backColor(),It:((t=n.visible)==null?void 0:t.call(n))??!0,pi:((r=n.tickVisible)==null?void 0:r.call(n))??!0}}class nge{constructor(e,t){this.Xt=new ZV,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...aK(this.Xh)}),this.Xt}}class rge extends Kb{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,r){const i=aK(this.Xh);r.G=i.G,e.R=i.R;const s=2/12*this.Ki.k();r.Ti=s,r.Ri=s,r.Ei=i.Ei,r.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class ige extends oK{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){var i,s,o;const e=((s=(i=this.Zh).timeAxisViews)==null?void 0:s.call(i))??[];if(((o=this.Qh)==null?void 0:o.qh)===e)return this.Qh.jh;const t=this.ye.Qt().Et(),r=e.map(a=>new nge(a,t));return this.Qh={qh:e,jh:r},r}Ks(){var i,s,o;const e=((s=(i=this.Zh).priceAxisViews)==null?void 0:s.call(i))??[];if(((o=this.ta)==null?void 0:o.qh)===e)return this.ta.jh;const t=this.ye.Ft(),r=e.map(a=>new rge(a,t));return this.ta={qh:e,jh:r},r}na(){var r,i,s;const e=((i=(r=this.Zh).priceAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.ia)==null?void 0:s.qh)===e)return this.ia.jh;const t=e.map(o=>new S5(o));return this.ia={qh:e,jh:t},t}ea(){var r,i,s;const e=((i=(r=this.Zh).timeAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.sa)==null?void 0:s.qh)===e)return this.sa.jh;const t=e.map(o=>new S5(o));return this.sa={qh:e,jh:t},t}ra(e,t){var r,i;return((i=(r=this.Zh).autoscaleInfo)==null?void 0:i.call(r,e,t))??null}}function k1(n,e,t,r){n.forEach(i=>{e(i).forEach(s=>{s.Yh()===t&&r.push(s)})})}function C1(n){return n.Ys()}function sge(n){return n.na()}function oge(n){return n.ea()}const age=["Area","Line","Baseline"];class Jb extends Vme{constructor(e,t,r,i,s){super(e),this.jt=S1(),this._r=new Bme(this),this.ha=[],this.aa=new Lme(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new Gme,this.da=new Map,this.fa=null,this.Ps=r,this.pa=t;const o=new zme(this);if(this.gs=[o],this.ur=new rK(o,this,e),age.includes(this.pa)&&(this.la=new jme(this)),this.va(),this.$h=i(this,this.Qt(),s),this.pa==="Custom"){const a=this.$h;a.ma&&this.wa(a.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},r=this.Ft();if(this.Qt().Et().Gi()||r.Gi()||this.jt.Gi())return t;const i=this.Qt().Et().Ie(),s=this.Lt();if(i===null||s===null)return t;let o,a;if(e){const h=this.jt.Ch();if(h===null)return t;o=h,a=h.js}else{const h=this.jt.$s(i.bi(),-1);if(h===null||(o=this.jt.ph(h.js),o===null))return t;a=h.js}const l=o.Wt[3],c=this.ga().gh(a,{Wt:o}),u=r.Nt(l,s.Wt);return{Be:!1,gt:l,ri:r.Ji(l,s.Wt),Ue:r.Ma(l),$e:r.ba(l,s.Wt),R:c.th,Ei:u,js:a}}ga(){return this.oa!==null||(this.oa=new Xme(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:r,visible:i,priceFormat:s}=e;r!==void 0&&r!==this.Ps.priceScaleId&&t.Sa(this,r),i!==void 0&&i!==this.Ps.visible&&t.xa();const o=e.conflationThresholdFactor!==void 0;_i(this.Ps,e),o&&(this.da.clear(),this.Qt().dr()),s!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const r=this.Qt().Et().N();r.enableConflation&&r.precomputeConflationOnInit&&this.Pa(r.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new Yme(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const r=this.pa==="Custom",i=r&&this.fa||void 0,s=r&&this.$h.Oa?l=>{const c=l,u=this.$h.Oa(c);return Array.isArray(u)?u:[typeof u=="number"?u:0]}:void 0,o=this.ca.kr(this.jt.Dh(),e,t,i,r,s),a=S1();a.ht(o),this.da.set(t,a)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const t=this.za(),r=this.da.get(t);return r||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return t===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];k1(this.ua,C1,"top",t);const r=this.la;return r!==null&&r.It()&&(this._a===null&&r.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),r.Te(),t.unshift(r)),t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map(r=>r.pr());return e.push(...t),k1(this.ua,C1,"normal",e),e}qa(){return this.ja(C1,"bottom")}Ya(e){return this.ja(sge,e)}Ka(e){return this.ja(oge,e)}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const r=[...this.gs];for(const i of this.ha)r.push(i.mr());return this.ua.forEach(i=>{r.push(...i.Ks())}),r}fs(){const e=[];return this.ua.forEach(t=>{e.push(...t.fs())}),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){const r=this.Ps.autoscaleInfoProvider(()=>{const i=this.Ga(e,t);return i===null?null:i.tr()});return Cy.ir(r)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const t of this.gs)t.kt();for(const t of this.ha)t.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(t=>t.Ws())}Ft(){return ke(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new ige(e,this))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Xb(this.Ft().ol())}Ga(e,t){if(!um(e)||!um(t)||this.jt.Gi())return null;const r=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,t,r);let s=i!==null?new Lr(i.Fh,i.Wh):null,o=null;if(this.wh()==="Histogram"){const a=this.Ps.base,l=new Lr(a,a);s=s!==null?s.Sn(l):l}return this.ua.forEach(a=>{const l=a.ra(e,t);if(l!=null&&l.priceRange){const c=new Lr(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.Sn(c):c}l!=null&&l.margins&&(o=l.margins)}),new Cy(s,o)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new Rme(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new nK(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Qb(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){const r=[];return k1(this.ua,e,t,r),r}za(){const{ul:e,cl:t,dl:r}=this.fl();return this.ca.gr(e,t,r)}fl(){const e=this.Qt().Et(),t=e.ul(),r=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:t,cl:r,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const t=this.jt.Dh();let r;if(this.pa==="Custom"&&this.fa!==null){const s=this.rl();if(!s)throw new Error(Ume);r=this.ca.Mr(t,e,this.fa,!0,o=>s(o))}else r=this.ca.Mr(t,e);const i=S1();return i.ht(r),i}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){var r;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const i of t){const s=()=>{this.ml(i)},o=typeof window=="object"&&window||typeof self=="object"&&self;(r=o==null?void 0:o.gl)!=null&&r.wl?o.gl.wl(()=>{s()},{Ml:e}):Promise.resolve().then(()=>s())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const t=this.pl(e);this.da.set(e,t)}}const lge=[3],cge=[0,1,2,3];class uge{constructor(e){this.Ps=e}bl(e,t,r){let i=e;if(this.Ps.mode===0)return i;const s=r.Rs(),o=s.Lt();if(o===null)return i;const a=s.Nt(e,o),l=r.Sl().filter(u=>u instanceof Jb).reduce((u,h)=>{if(r.Zn(h)||!h.It())return u;const d=h.Ft(),f=h.qs();if(d.Gi()||!f.Ee(t))return u;const m=f.ph(t);if(m===null)return u;const g=$a(h.Lt()),v=this.Ps.mode===3?cge:lge;return u.concat(v.map(y=>d.Nt(m.Wt[y],g.Wt)))},[]);if(l.length===0)return i;l.sort((u,h)=>Math.abs(u-a)-Math.abs(h-a));const c=l[0];return i=s.Ds(c,o),i}}function ip(n,e,t){return Math.min(Math.max(n,e),t)}function I0(n,e,t){return e-n<=t}class hge extends Qm{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=ke(this.jt);if(o.xl){e.strokeStyle=o.Cl,qh(e,o.yl),e.beginPath();for(const a of o.kl){const l=Math.round(a.Pl*r);e.moveTo(l,-s),e.lineTo(l,t.height+s)}e.stroke()}if(o.Tl){e.strokeStyle=o.Rl,qh(e,o.Dl),e.beginPath();for(const a of o.Il){const l=Math.round(a.Pl*i);e.moveTo(-s,l),e.lineTo(t.width+s,l)}e.stroke()}})}}class dge{constructor(e){this.Xt=new hge,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(r=>({Pl:r.coord}))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class fge{constructor(e){this.$h=new dge(e)}pr(){return this.$h}}const E1={Bl:4,El:1e-4};function Du(n,e){const t=100*(n-e)/e;return e<0?-t:t}function pge(n,e){const t=Du(n.Ze(),e),r=Du(n.Ge(),e);return new Lr(t,r)}function sp(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function mge(n,e){const t=sp(n.Ze(),e),r=sp(n.Ge(),e);return new Lr(t,r)}function Ty(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.log10(t+e.El)+e.Bl;return n<0?-r:r}function op(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const r=Math.pow(10,t-e.Bl)-e.El;return n<0?-r:r}function hf(n,e){if(n===null)return null;const t=Ty(n.Ze(),e),r=Ty(n.Ge(),e);return new Lr(t,r)}function Au(n,e){if(n===null)return null;const t=op(n.Ze(),e),r=op(n.Ge(),e);return new Lr(t,r)}function T1(n){if(n===null)return E1;const e=Math.abs(n.Ge()-n.Ze());if(e>=1||e<1e-15)return E1;const t=Math.ceil(Math.abs(Math.log10(e))),r=E1.Bl+t;return{Bl:r,El:1/Math.pow(10,r)}}class M1{constructor(e,t){if(this.Al=e,this.Ll=t,function(r){if(r<0)return!1;if(r>1e18)return!0;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let r=this.Al;r!==1;){if(r%2==0)this.zl.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),r/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,r){const i=this.Al===0?0:1/this.Al;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),o=0,a=this.Ll[0];for(;;){const h=I0(s,i,1e-14)&&s>i+1e-14,d=I0(s,r*a,1e-14),f=I0(s,1,1e-14);if(!(h&&d&&f))break;s/=a,a=this.Ll[++o%this.Ll.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.zl.length>0&&(l=s,c=1,u=1e-14,Math.abs(l-c)<u))for(o=0,a=this.zl[0];I0(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.zl[++o%this.zl.length];var l,c,u;return s}}class k5{constructor(e,t,r,i){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=r,this.Wl=i}Ol(e,t){if(e<t)throw new Error("high < low");const r=this.Ki.$t(),i=(e-t)*this.Hl()/r,s=new M1(this.Al,[2,2.5,2]),o=new M1(this.Al,[2,2,2.5]),a=new M1(this.Al,[2.5,2,2]),l=[];return l.push(s.Ol(e,t,i),o.Ol(e,t,i),a.Ol(e,t,i)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let h=1;h<c.length;++h)c[h]<u&&(u=c[h]);return u}(l)}Ul(){const e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);const r=e.$t(),i=this.Fl(r-1,t),s=this.Fl(0,t),o=this.Ki.N().entireTextOnly?this.$l()/2:0,a=o,l=r-1-o,c=Math.max(i,s),u=Math.min(i,s);if(c===u)return void(this.Nl=[]);const h=this.Ol(c,u);if(this.ql(t,h,c,u,a,l),e.jl()&&this.Yl(h,u,c)){const m=this.Ki.Kl();this.Zl(t,h,a,l,m,2*m)}const d=this.Nl.map(m=>m.Gl),f=this.Ki.Xl(d);for(let m=0;m<this.Nl.length;m++)this.Nl[m].Jl=f[m]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,r,i,s,o){const a=this.Nl,l=this.Ki;let c=r%t;c+=c<0?t:0;const u=r>=i?1:-1;let h=null,d=0;for(let f=r-c;f>i;f-=t){const m=this.Wl(f,e,!0);h!==null&&Math.abs(m-h)<this.Hl()||m<s||m>o||(d<a.length?(a[d].Pl=m,a[d].Jl=l.Ql(f),a[d].Gl=f):a.push({Pl:m,Jl:l.Ql(f),Gl:f}),d++,h=m,l.io()&&(t=this.Ol(f*u,i)))}a.length=d}Zl(e,t,r,i,s,o){const a=this.Nl,l=this.so(e,r,s,o),c=this.so(e,i,-o,-s),u=this.Wl(0,e,!0)-this.Wl(t,e,!0);a.length>0&&a[0].Pl-l.Pl<u/2&&a.shift(),a.length>0&&c.Pl-a[a.length-1].Pl<u/2&&a.pop(),a.unshift(l),a.push(c)}so(e,t,r,i){const s=(r+i)/2,o=this.Fl(t+r,e),a=this.Fl(t+i,e),l=Math.min(o,a),c=Math.max(o,a),u=Math.max(.1,this.Ol(c,l)),h=this.Fl(t+s,e),d=h-h%u,f=this.Wl(d,e,!0);return{Jl:this.Ki.Ql(d),Pl:f,Gl:d}}Yl(e,t,r){let i=$a(this.Ki.er());return this.Ki.io()&&(i=Au(i,this.Ki.no())),i.Ze()-t<e&&r-i.Ge()<e}}function lK(n){return n.slice().sort((e,t)=>ke(e._s())-ke(t._s()))}var C5;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(C5||(C5={}));const E5=new nK,T5=new Qb(100,1);class gge{constructor(e,t,r,i,s){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Fn,this.fo=new Fn,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=T5,this.So=T1(null),this.xo=e,this.Ps=t,this.Co=r,this.yo=i,this.ko=s,this.Po=new k5(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(_i(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const t=ri(e.scaleMargins.top),r=ri(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(t+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+r}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let r=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&(function(s,o){if(s===null)return!1;const a=op(s.Ze(),o),l=op(s.Ge(),o);return isFinite(a)&&isFinite(l)}(this.sr,this.So)?(r=Au(this.sr,this.So),r!==null&&this.Lo(r)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(r=hf(this.sr,this.So),r!==null&&this.Lo(r));const i=t.ae!==this.Ps.mode;i&&(t.ae===2||this.He())&&this._l(),i&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const r=this.sr;(t||r===null&&e!==null||r!==null&&!r.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Du(e,t):this.Eo()&&(e=sp(e,t)),this.Ro(e,t)}Yo(e,t,r){this.Uo();const i=this.Ho(),s=ke(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m],v=g.gt;if(isNaN(v))continue;let y=v;f!==null&&(y=f(g.gt,t));const b=i+u*(y-o),w=c?b:this.eo-1-b;g.ut=w}}Zo(e,t,r){this.Uo();const i=this.Ho(),s=ke(this.er()),o=s.Ze(),a=s.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ko();for(let m=h;m<d;m++){const g=e[m];let v=g.Hr,y=g.Ur,b=g.$r,w=g.qr;f!==null&&(v=f(g.Hr,t),y=f(g.Ur,t),b=f(g.$r,t),w=f(g.qr,t));let S=i+u*(v-o),_=c?S:this.eo-1-S;g.Go=_,S=i+u*(y-o),_=c?S:this.eo-1-S,g.Xo=_,S=i+u*(b-o),_=c?S:this.eo-1-S,g.Jo=_,S=i+u*(w-o),_=c?S:this.eo-1-S,g.Qo=_}}Ds(e,t){const r=this.To(e,t);return this.t_(r,t)}t_(e,t){let r=e;return this.He()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,t):this.Eo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,t)),r}Sl(){return this.po}Dt(){return this.mo||(this.mo=lK(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const r=t.Lt();r!==null&&(e===null||r.Ea<e.Ea)&&(e=r)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=ke(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const r=ke(this.ho).Ke();t=Math.max(t,.1),r.Je(t),this.Lo(r)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=ke(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const t=ke(this.er()).Xe()/(this.Fo()-1);let r=e-this.bo;this.Ao()&&(r*=-1);const i=r*t,s=ke(this.ho).Ke();s.Qe(i),this.Lo(s,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Du(e,t));case 3:return this.Xa().format(sp(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,ke(this.vo).Xa())}ba(e,t){return e=Du(e,t),this.c_(e,E5)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const r of this.po)r._s()<e&&(e=r._s(),this.vo=r);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=T5,this.He()?(this.Ja=E5,t=100):this.Eo()?(this.Ja=new Qb(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new k5(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Ty(e,this.So):e;const r=ke(this.er()),i=this.Ho()+(this.Fo()-1)*(e-r.Ze())/r.Xe();return this.jo(i)}To(e,t){if(this.Uo(),this.Gi())return 0;const r=this.jo(e),i=ke(this.er()),s=i.Ze()+i.Xe()*((r-this.Ho())/(this.Fo()-1));return this.io()?op(s,this.So):s}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let t=null;const r=this.p_();let i=0,s=0;for(const l of r){if(!l.It())continue;const c=l.Lt();if(c===null)continue;const u=l.ra(e.Aa(),e.bi());let h=u&&u.er();if(h!==null){switch(this.Ps.mode){case 1:h=hf(h,this.So);break;case 2:h=pge(h,c.Wt);break;case 3:h=mge(h,c.Wt)}if(t=t===null?h:t.Sn(ke(h)),u!==null){const d=u.rr();d!==null&&(i=Math.max(i,d.above),s=Math.max(s,d.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),s=Math.max(s,this.Kl())),i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){const l=5*this.m_();this.io()&&(t=Au(t,this.So)),t=new Lr(t.Ze()-l,t.Ge()+l),this.io()&&(t=hf(t,this.So))}if(this.io()){const l=Au(t,this.So),c=T1(l);if(o=c,a=this.So,o.Bl!==a.Bl||o.El!==a.El){const u=this.ho!==null?Au(this.ho,this.So):null;this.So=c,t=hf(l,c),u!==null&&(this.ho=hf(u,c))}}this.Lo(t)}else this.sr===null&&(this.Lo(new Lr(-.5,.5)),this.So=T1(null));var o,a}Ko(){return this.He()?Du:this.Eo()?sp:this.io()?e=>Ty(e,this.So):null}g_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.format(e)):t(e)}M_(e,t,r){return t===void 0?(r===void 0&&(r=this.Xa()),r.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const r=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(r?i=>i.map(r):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const r=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(r?i=>i.map(r):void 0),t)}}function M5(n){return n instanceof Jb}class I5{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Fn,this.ua=[],this.Jh=e,this.ns=t,this.k_=new fge(this);const r=t.N();this.P_=this.T_("left",r.leftPriceScale),this.R_=this.T_("right",r.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(r)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const r of t){const i=ke(r[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?ri(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const t=e.Gh();return t.detached&&t.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(t=>{if(this.Zn(t)){const r=t.Ft();r!==null&&r.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(M5)}Sl(){return this.po}Zn(e){const t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,r){this.W_(e,t,r?e._s():this.po.length)}n_(e,t){const r=this.po.indexOf(e);hr(r!==-1,"removeDataSource: invalid data source"),this.po.splice(r,1),t||this.po.forEach((o,a)=>o.us(a));const i=ke(e.Ft()).ol();if(this.b_.has(i)){const o=ri(this.b_.get(i)),a=o.indexOf(e);a!==-1&&(o.splice(a,1),o.length===0&&this.b_.delete(i))}const s=e.Ft();s&&s.Sl().indexOf(e)>=0&&(s.n_(e),this.H_(s)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=lK(this.po)),this.mo}su(e,t){t=ip(t,0,this.po.length-1);const r=this.po.indexOf(e);hr(r!==-1,"setSeriesOrder: invalid data source"),this.po.splice(r,1),this.po.splice(t,0,e),this.po.forEach((i,s)=>i.us(s)),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(M5)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new ege(e))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map(r=>r.Qn(e,t)).filter(r=>r!==null)}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const r=this.Jh.Ie();r!==null&&e.v_(r)}e.Ws()}W_(e,t,r){let i=this.V_(t);if(i===null&&(i=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(r,0,e),!Xb(t)){const s=this.b_.get(t)||[];s.push(e),this.b_.set(t,s)}e.us(r),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,t,r){t.ae!==r.ae&&this.J_(e)}T_(e,t){const r={visible:!0,autoScale:!0,...Lo(t)},i=new gge(e,r,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function P0(n){return{hu:n.hu,au:{te:n.lu.externalId},ou:n.lu.cursorStyle}}function vge(n,e,t,r){for(const i of n){const s=i.Tt(r);if(s!==null&&s.Qn){const o=s.Qn(e,t);if(o!==null)return{_u:i,au:o}}}return null}function yge(n){return n.Ys!==void 0}function cK(n,e,t){const r=[n,...n.Dt()],i=function(s,o,a){var d;let l,c;for(const f of s){const m=((d=f.Za)==null?void 0:d.call(f,o,a))??[];for(const g of m)u=g.zOrder,h=l==null?void 0:l.zOrder,(!h||u==="top"&&h!=="top"||u==="normal"&&h==="bottom")&&(l=g,c=f)}var u,h;return l&&c?{lu:l,hu:c}:null}(r,e,t);if((i==null?void 0:i.lu.zOrder)==="top")return P0(i);for(const s of r){if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return P0(i);if(yge(s)){const o=vge(s.Ys(n),e,t,n);if(o!==null)return{hu:s,_u:o._u,au:o.au}}if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return P0(i)}return i!=null&&i.lu?P0(i):null}class bge{constructor(e,t,r=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=r}du(e){const t=e.time,r=this.cu.cacheKey(t),i=this.Ln.get(r);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const o=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(ri(o)),this.En++,this.Vn--}const s=this.uu(e);return this.Ln.set(r,{fu:s,Wn:this.Bn}),this.An.set(this.Bn,r),this.Vn++,this.Bn++,s}}class ap{constructor(e,t){hr(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function P5(n,e){return n===null||e===null?n===e:n.Ye(e)}class xge{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let r=t;r<e.length;++r){const i=e[r];let s=this.wu.get(i.timeWeight);s===void 0&&(s=[],this.wu.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,t,r,i,s){const o=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===o&&s===this.Ln.yu&&r===this.Ln.ku||(this.Ln={yu:s,ku:r,Vl:this.Pu(o,r,i),Cu:o}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const t=[];this.wu.forEach((r,i)=>{e<=r[0].index?t.push(i):r.splice(Hh(r,e,s=>s.index<e),1/0)});for(const r of t)this.wu.delete(r)}Pu(e,t,r){let i=[];const s=o=>!t||r.has(o.index);for(const o of Array.from(this.wu.keys()).sort((a,l)=>l-a)){if(!this.wu.get(o))continue;const a=i;i=[];const l=a.length;let c=0;const u=ri(this.wu.get(o)),h=u.length;let d=1/0,f=-1/0;for(let m=0;m<h;m++){const g=u[m],v=g.index;for(;c<l;){const y=a[c],b=y.index;if(!(b<v&&s(y))){d=b;break}c++,i.push(y),f=b,d=1/0}if(d-v>=e&&v-f>=e&&s(g))i.push(g),f=v;else if(this.gu)return a}for(;c<l;c++)s(a[c])&&i.push(a[c])}return i}}class Gu{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new ap(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Gu(null)}}function wge(n,e){return n.weight>e.weight?n:e}class _ge{constructor(e,t,r,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new xge,this.Au=new Map,this.Lu=Gu.Iu(),this.zu=!0,this.Ou=new Fn,this.Nu=new Fn,this.Fu=new Fn,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=r,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=i,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){_i(this.yo,e),this.tc(),this.Gu()}cr(e,t){_i(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var t;return((t=this.Bu[e])==null?void 0:t.time)??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const r=Hh(this.Bu,this.cu.key(e),(i,s)=>this.cu.key(i.time)<s);return this.cu.key(e)<this.cu.key(this.Bu[r].time)?t?r:null:r}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),r=Math.round(e.to),i=ke(this._c()),s=ke(this.uc());return{from:ke(this.es(Math.max(i,t))),to:ke(this.es(Math.min(s,r)))}}cc(e){return{from:ke(this.ec(e.from,!0)),to:ke(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const t=this.ac(),r=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Ku*e/r;this.Ku=i}if(this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){const i=r-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!um(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const r=this.vc(),i=t===void 0?0:t.from,s=t===void 0?e.length:t.to;for(let o=i;o<s;o++){const a=e[o].wt,l=r+this.Yu-a,c=this.S_-(l+.5)*this.Ku-1;e[o]._t=c}}wc(e,t){const r=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(r)?this.bc(r):r}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0){const r=this.Yu*t/this.Ku;this.Yu=r}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),r=Math.round(t/e),i=ke(this.Ie()),s=Math.max(i.Aa(),i.Aa()-r),o=Math.max(i.bi(),i.bi()-r),a=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+r,c=this.uc()-r,u=this.yc(),h=this.Ps.fixLeftEdge||u,d=this.Ps.fixRightEdge||u;let f=0;for(const m of a){if(!(s<=m.index&&m.index<=o))continue;let g;f<this.qu.length?(g=this.qu[f],g.coord=this.qt(m.index),g.label=this.kc(m),g.weight=m.weight):(g={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.kc(m),weight:m.weight},this.qu.push(g)),this.Ku>t/2&&!u?g.needAlignCoordinate=!1:g.needAlignCoordinate=h&&m.index<=l||d&&m.index>=c,f++}return this.qu.length=f,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const r=this.gc(e),i=this.ul(),s=i+t*(i/10);this.gn(s),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(r-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const t=ip(this.S_-e,0,this.S_),r=ip(this.S_-ke(this.Mo),0,this.S_);t!==0&&r!==0&&this.gn(this.Wu.ul*t/r)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const t=(this.bo-e)/this.ul();this.Yu=ke(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.Yu,i=performance.now();this.ns.vn({Ec:s=>(s-i)/t>=1,Ac:s=>{const o=(s-i)/t;return o>=1?e:r+(e-r)*o}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const r=e.mu(),i=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/r),this.Yu=e.bi()-this.vc(),t&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(e===null||t===null)return;const r=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new ap(e,t+r),!0)}Wc(e){const t=new ap(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const r of t.ll())this.Uu.set(r,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const r=[1];let i=2;for(;i<=512;)t<e/i&&r.push(i),i*=2;return r}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),r=this.vc()+this.Yu-t;return Math.round(1e6*r)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Gu.Iu());const e=this.vc(),t=this.S_/this.Ku,r=this.Yu+e,i=new ap(r-t+1,r);this.qc(new Gu(i))}dc(){const e=ip(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,r=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(r,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new bge(r=>this.Gc(r),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,P5(t.Ru(),this.Lu.Ru())||this.Ou.p(),P5(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const t=this.Ie();if(t===null)return;const r=t.Aa()-e;if(r<0){const i=this.Yu-r-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=function*(i){const s=Math.round(i),o=s<i;let a=1;for(;;)o?(yield s+a,yield s-a):(yield s-a,yield s+a),a++}(e),r=this.uc();for(;r;){const i=t.next().value;if(this.Uu.get(i))return i;if(i<0||i>r)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var O5,R5,D5,A5,N5;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(O5||(O5={}));class Sge{constructor(e,t,r){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Fn,this.nd=new Fn,this.ed=null,this.rd=e,this.Ps=t,this.cu=r,this.ko=new xme(this.Ps.layout.colorParsers),this.hd=new bme(this),this.Jh=new _ge(this,t.timeScale,this.Ps.localization,r),this.Ct=new Ome(this,t.crosshair),this.ad=new uge(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(ur.yn())}dr(){this.dd(ur.Cn())}Ua(){this.dd(new ur(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){var r,i,s,o;if(((r=this.td)==null?void 0:r.hu)===(e==null?void 0:e.hu)&&((s=(i=this.td)==null?void 0:i.au)==null?void 0:s.te)===((o=e==null?void 0:e.au)==null?void 0:o.te))return;const t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==(t==null?void 0:t.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){_i(this.Ps,e),this.Xc.forEach(t=>t.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,r=0){const i=this.Xc[r];if(i===void 0)return;if(e==="left")return _i(this.Ps,{leftPriceScale:t}),i.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e==="right")return _i(this.Ps,{rightPriceScale:t}),i.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const s=this.wd(e,r);s!==null&&(s.Ft.cr(t),this.sd.p())}wd(e,t){const r=this.Xc[t];if(r===void 0)return null;const i=r.V_(e);return i!==null?{Gs:r,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(t=>t.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(hr(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;hr(e>=0&&e<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc.reduce((h,d)=>h+d.E_(),0),s=this.Xc.reduce((h,d)=>h+d.$t(),0),o=s-30*(this.Xc.length-1);t=Math.min(o,Math.max(30,t));const a=i/s,l=r.$t();r.A_(t*a);let c=t-l,u=this.Xc.length-1;for(const h of this.Xc)if(h!==r){const d=Math.min(o,Math.max(30,h.$t()-c/u));c-=h.$t()-d,u-=1;const f=d*a;h.A_(f)}this.Ca()}Cd(e,t){hr(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc[t];this.Xc[e]=i,this.Xc[t]=r,this.Ca()}yd(e,t){if(hr(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[r]=this.Xc.splice(e,1);this.Xc.splice(t,0,r),this.Ca()}j_(e,t,r){e.j_(t,r)}Y_(e,t,r){e.Y_(t,r),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,r){t.Vo()||e.Z_(t,r)}G_(e,t,r){t.Vo()||(e.G_(t,r),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const r=this.Et();if(r.Gi()||t===0)return;const i=r.ss();e=Math.max(1,Math.min(e,i)),r.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,t,r,i,s){this.Ct.Bs(e,t);let o=NaN,a=this.Jh.wc(e,!0);const l=this.Jh.Ie();l!==null&&(a=Math.min(Math.max(l.Aa(),a),l.bi())),a=this.Ct.Hs(a);const c=i.Rs(),u=c.Lt();if(u!==null&&(o=c.Ds(t,u)),o=this.ad.bl(o,a,i),this.Ct.zs(a,o,i),this.Ua(),!s){const h=cK(i,e,t);this.vd(h&&{hu:h.hu,au:h.au,ou:h.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},r)}}Ld(e,t,r){const i=r.Rs(),s=i.Lt(),o=i.Nt(e,ke(s)),a=this.Jh.ec(t,!0),l=this.Jh.qt(ke(a));this.Ad(l,o,null,r,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const t=this.Ct.As(),r=this.Ct.Ls();this.Ad(t,r,null,e)}this.Ct.Ws()}Od(e,t,r){const i=this.Jh.Is(0);t!==void 0&&r!==void 0&&this.Jh.kt(t,r);const s=this.Jh.Is(0),o=this.Jh.vc(),a=this.Jh.Ie();if(a!==null&&i!==null&&s!==null){const l=a.Ee(o),c=this.cu.key(i)>this.cu.key(s),u=e!==null&&e>o&&!c,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=l&&(r!==void 0||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(u&&!d){const f=e-o;this.Jh.Mn(this.Jh.Cc()-f)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(r){return r instanceof I5}(e))return e;const t=this.Xc.find(r=>r.Dt().includes(e));return t===void 0?null:t}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const r=this.ld(t);this.Wd(e,r),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),r=this.Jc.indexOf(e);hr(r!==-1,"Series not found");const i=ke(t);this.Jc.splice(r,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,t){const r=ke(this.Kn(e));r.n_(e,!0),r.i_(e,t,!0)}Fc(){const e=ur.Cn();e.cn(),this.dd(e)}$d(e){const t=ur.Cn();t.pn(e),this.dd(t)}wn(){const e=ur.Cn();e.wn(),this.dd(e)}gn(e){const t=ur.Cn();t.gn(e),this.dd(t)}Mn(e){const t=ur.Cn();t.Mn(e),this.dd(t)}vn(e){const t=ur.Cn();t.vn(e),this.dd(t)}dn(){const e=ur.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(hr(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const r=ke(this.Kn(e));r.n_(e);const i=this.ld(t);this.Wd(e,i),r.Sl().length===0&&this.Ud(r),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,r=this.od;if(t===r)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==r||this.ed.rh!==t)this.ed={eh:r,rh:t,Zd:new Map};else{const s=this.ed.Zd.get(e);if(s!==void 0)return s}const i=this.ko.tt(r,t,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new I5(this.Jh,this);this.Xc.push(t);const r=e??this.Xc.length-1,i=ur.yn();return i.hn(r,{an:0,ln:!0}),this.dd(i),t}ld(e){return hr(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(t=>t.F_().includes(e))}kd(e,t){const r=new ur(t);if(e!==null){const i=this.Xc.indexOf(e);r.hn(i,{an:t})}return r}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(t=>t.eu().pr().kt())}Wd(e,t){const r=e.N().priceScaleId,i=r!==void 0?r:this.qd();t.i_(e,i),Xb(i)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function uK(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const t=Math.round(n);if(Math.abs(t-n)<1e-8)return e;n*=10}return e}function XM(n){return!Uh(n)&&!Xm(n)}function hK(n){return Uh(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(R5||(R5={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(D5||(D5={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(A5||(A5={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(N5||(N5={}));const L5=n=>n.getUTCFullYear();function kge(n,e,t){return e.replace(/yyyy/g,(r=>Fo(L5(r),4))(n)).replace(/yy/g,(r=>Fo(L5(r)%100,2))(n)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(n,t)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(n,t)).replace(/MM/g,(r=>Fo((i=>i.getUTCMonth()+1)(r),2))(n)).replace(/dd/g,(r=>Fo((i=>i.getUTCDate())(r),2))(n))}class dK{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return kge(e,this.Qd,this.tf)}}class Cge{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Fo(e.getUTCHours(),2)).replace("%m",Fo(e.getUTCMinutes(),2)).replace("%s",Fo(e.getUTCSeconds(),2))}}const Ege={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Tge{constructor(e={}){const t={...Ege,...e};this.hf=new dK(t.sf,t.rf),this.af=new Cge(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function O0(n){return 60*n*60*1e3}function I1(n){return 60*n*1e3}const R0=[{_f:(F5=1,1e3*F5),uf:10},{_f:I1(1),uf:20},{_f:I1(5),uf:21},{_f:I1(30),uf:22},{_f:O0(1),uf:30},{_f:O0(3),uf:31},{_f:O0(6),uf:32},{_f:O0(12),uf:33}];var F5;function $5(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=R0.length-1;t>=0;--t)if(Math.floor(e.getTime()/R0[t]._f)!==Math.floor(n.getTime()/R0[t]._f))return R0[t].uf;return 0}function P1(n){let e=n;if(Xm(n)&&(e=$O(n)),!XM(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(t.getTime()/1e3),df:e}}function j5(n){if(!hK(n))throw new Error("time must be of type isUTCTimestamp");return{cf:n}}function $O(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function B5(n){Xm(n.time)&&(n.time=$O(n.time))}class z5{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(t){t.forEach(B5)}(e):B5(e)}createConverterToInternalObj(e){return ke(function(t){return t.length===0?null:XM(t[0].time)||Xm(t[0].time)?P1:j5}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return hK(t=e)?j5(t):XM(t)?P1(t):P1($O(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Tge({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new dK(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,t.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=s.df===void 0?new Date(1e3*s.cf):new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,t.locale)}maxTickMarkWeight(e){let t=e.reduce(wge,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.cf,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const c=r[l],u=new Date(1e3*c.time.cf);o!==null&&(c.timeWeight=$5(u,o)),a+=c.time.cf-(s||c.time.cf),s=c.time.cf,o=u}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),c=new Date(1e3*(r[0].time.cf-l));r[0].timeWeight=$5(new Date(1e3*r[0].time.cf),c)}})(e,t)}static pf(e){return _i({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Wh=typeof window<"u";function q5(){return!!Wh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function O1(){return!!Wh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function QM(n){return n+n%2}function Mge(n){Wh&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Zb{constructor(e,t,r){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!O1(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const s=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:o}=this.Zf(Ns(i),this.bf);o<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}}else{const s=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:o}=this.Zf(Ns(i),this.wf);o<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=r,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=R1(e.changedTouches,ke(this.Wf));if(t===null||(this.Ff=D0(e),this.Af!==null)||this.Of)return;this.zf=!0;const r=this.Zf(Ns(t),ke(this.yf)),{up:i,cp:s,Kf:o}=r;if(this.kf||!(o<5)){if(!this.kf){const a=.5*i,l=s>=a&&!this.Ps.dp(),c=a>s&&!this.Ps.fp();l||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const a=this.Yf(e,t);this.Gf(a,this.Jf.pp),lu(e)}}}vp(e){if(e.button!==0)return;const t=this.Zf(Ns(e),ke(this.Cf)),{Kf:r}=t;if(r>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,t){const r=Math.abs(t._t-e._t),i=Math.abs(t.ut-e.ut);return{up:r,cp:i,Kf:r+i}}wp(e){let t=R1(e.changedTouches,ke(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=D0(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const r=this.Yf(e,t);if(this.Gf(r,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Ns(t),this.bf);i<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(r,this.Jf.Mp),this.Jf.Mp&&lu(e));this.gf===0&&lu(e),e.touches.length===0&&this.xf&&(this.xf=!1,lu(e))}$f(e){if(e.button!==0)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),q5()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:r}=this.Zf(Ns(e),this.wf);r<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=D0(e);const r=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Ns(t),this.Ef&&(this.Ef(),this.Ef=null);{const s=this._p.bind(this),o=this.wp.bind(this);this.Ef=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,t);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Ns(t))}kp(e){if(e.button!==0)return;const t=this.np.ownerDocument.documentElement;q5()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Ns(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),s=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",s)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s)}if(this.Nf=!0,this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Ns(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=r=>{this.Jf.Tp&&(r.composed&&this.np.contains(r.composedPath()[0])||r.target&&this.np.contains(r.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}O1()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Mge(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const t=U5(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),lu(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=U5(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!O1()}Cp(e){const t=R1(e.touches,ke(this.Wf));if(t===null)return;const r=this.Yf(e,t);this.Gf(r,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:D0(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const r=t||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:r.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&lu(e)}}}}function U5(n,e){const t=n.clientX-e.clientX,r=n.clientY-e.clientY;return Math.sqrt(t*t+r*r)}function lu(n){n.cancelable&&n.preventDefault()}function Ns(n){return{_t:n.pageX,ut:n.pageY}}function D0(n){return n.timeStamp||performance.now()}function R1(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}class Ige{constructor(e,t,r){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[r],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Qt({width:this.Kp.sv().width,height:1})}nv(){return Qt({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,r){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,r,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const r=document.createElement("div"),i=r.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(r);const s={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Zb(r,s,{dp:()=>!1,fp:()=>!0}),this.Up={hv:r,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),r=t/(this.Kp.sv().height+this.Gp.sv().height),i=30*r;t<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-i,vv:t,mv:r,wv:i},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(t===null)return;const r=(e.pageY-t.dv)*t.mv,i=ip(t.fv+r,t.wv,t.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(t.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function D1(n,e){return n.gv-e.gv}function A1(n,e,t){const r=(n.gv-e.gv)/(n.wt-e.wt);return Math.sign(r)*Math.min(Math.abs(r),t)}class Pge{constructor(e,t,r,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=r,this.kn=i}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let r=0;const i=A1(this.Mv,this.bv,this.Tv),s=D1(this.Mv,this.bv),o=[i],a=[s];if(r+=s,this.Sv!==null){const c=A1(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(i)){const u=D1(this.bv,this.Sv);if(o.push(c),a.push(u),r+=u,this.xv!==null){const h=A1(this.Sv,this.xv,this.Tv);if(Math.sign(h)===Math.sign(i)){const d=D1(this.Sv,this.xv);o.push(h),a.push(d),r+=d}}}}let l=0;for(let c=0;c<o.length;++c)l+=a[c]/r*o[c];Math.abs(l)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=l,this.yv=function(c,u){const h=Math.log(u);return Math.log(1*h/-c)/h}(Math.abs(l),this.Rv))}Ac(e){const t=ke(this.Cv),r=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,r)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const t=e-ke(this.Cv).wt;return Math.min(t,this.yv)}}class Oge{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Sc(n,e){const t=ke(n.ownerDocument).createElement("canvas");n.appendChild(t);const r=pme(t,{options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function kc(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function JM(n,e,t,r){n.Uh&&n.Uh(e,t,r)}function Ev(n,e,t,r){n.nt(e,t,r)}function ZM(n,e,t,r){const i=n(t,r);for(const s of i){const o=s.Tt(r);o!==null&&e(o)}}function N1(n,e){return t=>{var r,i;return function(s){return s.Ft!==void 0}(t)?(((r=t.Ft())==null?void 0:r.ol())??"")!==e?[]:((i=t.Ya)==null?void 0:i.call(t,n))??[]:[]}}function H5(n,e,t,r){if(!n.length)return;let i=0;const s=n[0].$t(r,!0);let o=e===1?t/2-(n[0].Hi()-s/2):n[0].Hi()-s/2-t/2;o=Math.max(0,o);for(let a=1;a<n.length;a++){const l=n[a],c=n[a-1],u=c.$t(r,!1),h=l.Hi(),d=c.Hi();if(e===1?h>d-u:h<d+u){const f=d-u*e;l.Ui(f);const m=f-e*u/2;if((e===1?m<0:m>t)&&o>0){const g=e===1?-1-m:m-t,v=Math.min(g,o);for(let y=i;y<n.length;y++)n[y].Ui(n[y].Hi()+e*v);o-=v}}else i=a,o=e===1?d-u-h:h-(d+u)}}class W5{constructor(e,t,r,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new ky(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=r,this.Jv=i==="left",this.Qv=N1("normal",i),this.tm=N1("top",i),this.im=N1("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Sc(this.Jp,Qt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=Sc(this.Jp,Qt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Zb(this.nm.canvasElement,a,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),kc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),kc(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const t=this.lm(),r=ke(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));r.save();const i=this.Ki.Vl();r.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(r,i[0].Jl),this.qv.Ii(r,i[i.length-1].Jl)));const s=this.um();for(let c=s.length;c--;){const u=this.qv.Ii(r,s[c].ri());u>e&&(e=u)}const o=this.Ki.Lt();if(o!==null&&this.Uv!==null&&(a=this.Ps.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const c=this.Ki.Ds(1,o),u=this.Ki.Ds(this.Uv.height-2,o);e=Math.max(e,this.qv.Ii(r,this.Ki.Ji(Math.floor(Math.min(c,u))+.11111111111111,o)),this.qv.Ii(r,this.Ki.Ji(Math.ceil(Math.max(c,u))-.11111111111111,o)))}var a;r.restore();const l=e||34;return QM(Math.ceil(t.S+t.C+t.V+t.B+5+l))}dm(e){this.Uv!==null&&ac(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return ke(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,ke(this.Ft()))}pm(e){if(this.Uv===null)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=_c(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s)}),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const r=_c(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.xm(r),this.yt.Mm(r,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!0,t.j_(r,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv(),i=this.Ki;t.Y_(r,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),r=this.Ki;this.$v&&(this.$v=!1,e.K_(t,r))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!1,t.K_(r,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=this.Ki===null?void 0:this.Ki;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Ks(this.yt.cv(),t);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.yt.cv().Qt(),o=s.$(),a=s.Kd();o===a?Vb(e,0,0,r,i,o):JV(e,0,0,r,i,o,a)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*r));let s;s=this.Jv?t.width-i:0,e.fillRect(s,0,i,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const t=this.Ki.Vl(),r=this.Ki.N(),i=this.lm(),s=this.Jv?this.Uv.width-i.C:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),h=Math.round(i.C*a);o.beginPath();for(const d of t)o.rect(Math.floor(s*a),Math.round(d.Pl*l)-u,h,c);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this._m(),o.fillStyle=r.textColor??this.Co.textColor,o.textAlign=this.Jv?"right":"left",o.textBaseline="middle";const a=this.Jv?Math.round(s-i.V):Math.round(s+i.C+i.V),l=t.map(c=>this.qv.Di(o,c.Jl));for(let c=t.length;c--;){const u=t[c];o.fillText(u.Jl,a,u.Pl+l[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const t=[],r=this.Ki.Dt().slice(),i=this.yt.cv(),s=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach(l=>{i.Zn(l)&&r.push(l)});const o=this.Ki.Sl()[0],a=this.Ki;r.forEach(l=>{const c=l.Ks(i,a);c.forEach(u=>{u.$i()&&u.Wi()===null&&(u.Ui(null),t.push(u))}),o===l&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(t,s,e)}ym(e,t,r){if(this.Uv===null)return;const i=e.filter(o=>o.Ei()<=r),s=e.filter(o=>o.Ei()>r);i.sort((o,a)=>a.Ei()-o.Ei()),i.length&&s.length&&s.push(i[0]),s.sort((o,a)=>o.Ei()-a.Ei());for(const o of e){const a=Math.floor(o.$t(t)/2),l=o.Ei();l>-a&&l<a&&o.Ui(a),l>this.Uv.height-a&&l<this.Uv.height+a&&o.Ui(this.Uv.height-a)}H5(i,1,this.Uv.height,t),H5(s,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;const t=this.um(),r=this.lm(),i=this.Jv?"right":"left";t.forEach(s=>{s.qi()&&s.Tt(ke(this.Ki)).nt(e,r,this.qv,i)})}xm(e){if(this.Uv===null||this.Ki===null)return;const t=this.yt.Gv().Qt(),r=[],i=this.yt.cv(),s=t.gd().Ks(i,this.Ki);s.length&&r.push(s);const o=this.lm(),a=this.Jv?"right":"left";r.forEach(l=>{l.forEach(c=>{c.Tt(ke(this.Ki)).nt(e,o,this.qv,a)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return Sy(this.Co.fontSize,this.Co.fontFamily)}}function Rge(n,e){var t;return((t=n.qa)==null?void 0:t.call(n,e))??[]}function Y5(n,e){var t;return((t=n.Ys)==null?void 0:t.call(n,e))??[]}function G5(n,e){var t;return((t=n.ds)==null?void 0:t.call(n,e))??[]}function Dge(n,e){var t;return((t=n.Ha)==null?void 0:t.call(n,e))??[]}class jO{constructor(e,t){this.Uv=Qt({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Fn,this.Vm=new Fn,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(r),this.sm=Sc(r,Qt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=Sc(r,Qt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Zb(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),kc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),kc(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return ke(this.Nm)}qm(e){var t;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(jO.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Oge(this.Wm,this.Lv),this.Tm.kt()):((t=this.Tm)==null||t.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(ke(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(ke(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,r=e.localY;this.Zm(t,r,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const r=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,r)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const t=e.localX,r=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=ke(this.zm),s=i.x+(t-this.Am.x),o=i.y+(r-this.Am.y);this.Zm(s,o,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const r=this.Nm;return r===null?null:cK(r,e,t)}hw(e,t){ke(t==="left"?this.km:this.Pm).dm(Qt({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ac(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=ke(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const r=t.Ft();r!==null&&e.H_(r),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e!==null&&e.drawImage(o,t,r)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=_c(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s)}),this.Nm&&(this.lw(i,Rge),this.ow(i),this.lw(i,Y5),this.lw(i,G5)))}this.nm.applySuggestedBitmapSize();const r=_c(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this._w(r),this.lw(r,Dge),this.lw(r,G5))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const r=t.localX,i=t.localY;e.v()&&e.p(this.ns().Et().wc(r),{x:r,y:i},t)}wm({context:e,bitmapSize:t}){const{width:r,height:i}=t,s=this.ns(),o=s.$(),a=s.Kd();o===a?Vb(e,0,0,r,i,a):JV(e,0,0,r,i,o,a)}ow(e){const t=ke(this.Nm),r=t.eu().pr().Tt(t);r!==null&&r.nt(e,!1)}_w(e){this.dw(e,Y5,Ev,this.ns().gd())}lw(e,t){const r=ke(this.Nm),i=r.Dt(),s=r.ru();for(const o of s)this.dw(e,t,JM,o);for(const o of i)this.dw(e,t,JM,o);for(const o of s)this.dw(e,t,Ev,o);for(const o of i)this.dw(e,t,Ev,o)}dw(e,t,r,i){const s=ke(this.Nm),o=s.Qt().pd(),a=o!==null&&o.hu===i,l=o!==null&&a&&o.au!==void 0?o.au.ie:void 0;ZM(t,c=>r(c,e,a,l),i,s)}jm(){if(this.Nm===null)return;const e=this.Lv,t=this.Nm.U_().N().visible,r=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),r||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();t&&this.km===null&&(this.km=new W5(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),r&&this.Pm===null&&(this.Pm=new W5(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,r){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,r,ke(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,r){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,r);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),r=this.cv();if(t.X_(r,r.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){const i=performance.now(),s=t.Et();this.Om.fe(s.Cc(),i),this.Om.Ec(i)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ke(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const t=this.ns(),r=t.Et();if(r.Gi())return;const i=this.Lv.N(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Np)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Np))return;const a=this.Nm.Rs(),l=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:l,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&o.touch||!e.Np&&o.mouse){const c=r.ul();this.Om=new Pge(.2/c,7/c,.997,15/c),this.Om.Dv(r.Cc(),this.Rm.cf)}else this.Om=null;a.Gi()||t.Z_(this.Nm,a,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(a.Gi()||t.G_(this.Nm,a,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(r.Cc(),l))}}class V5{constructor(e,t,r,i,s){this.xt=!0,this.Uv=Qt({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=r.Nd,this.Ps=t,this.ww=i,this.gw=s,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Sc(this.Jp,Qt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),kc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ac(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=_c(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)})}nv(){return this.sm.bitmapSize}ev(e,t,r){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,t,r)}gm({context:e,bitmapSize:t,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*r),o=Math.floor(this.hd.N().S*i),a=this.Jv?t.width-s:0;e.fillRect(a,0,s,o)}wm({context:e,bitmapSize:t}){Vb(e,0,0,t.width,t.height,this.gw())}}function BO(n){return e=>{var t;return((t=e.Ka)==null?void 0:t.call(e,n))??[]}}const Age=BO("normal"),Nge=BO("top"),Lge=BO("bottom");class Fge{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Qt({width:0,height:0}),this.xw=new Fn,this.qv=new ky(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Sc(this.kw,Qt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Sc(this.kw,Qt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Zb(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),kc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),kc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,r){ac(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Qt({width:t,height:e.height})),this.bw!==null&&this.bw.dm(Qt({width:r,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,r,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,t,r),i)){const o=this.nm.canvasElement;e.drawImage(o,t,r)}}pm(e){if(e===0)return;const t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=_c(this.sm,t);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s),this.Aw(i,Lge)}),this.bm(i),this.Aw(i,Age)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const r=_c(this.nm,t);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],r),this.Aw(r,Nge))}Aw(e,t){const r=this.Lv.Qt().tn();for(const i of r)ZM(t,s=>JM(s,e,!1,void 0),i,void 0);for(const i of r)ZM(t,s=>Ev(s,e,!1,void 0),i,void 0)}wm({context:e,bitmapSize:t}){Vb(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:r}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*r));e.fillRect(0,0,t.width,i)}}bm(e){const t=this.Lv.Qt().Et(),r=t.Vl();if(!r||r.length===0)return;const i=this.cu.maxTickMarkWeight(r),s=this.Bw(),o=t.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.strokeStyle=this.zw(),a.fillStyle=this.zw();const u=Math.max(1,Math.floor(l)),h=Math.floor(.5*l);a.beginPath();const d=Math.round(s.C*c);for(let f=r.length;f--;){const m=Math.round(r[f].coord*l);a.rect(m-h,0,u,d)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.S+s.C+s.A+s.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this._m();for(const c of r)if(c.weight<i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}this.Lv.N().timeScale.allowBoldLabels&&(a.font=this.Nw());for(const c of r)if(c.weight>=i){const u=c.needAlignCoordinate?this.Ow(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}})}Ow(e,t,r){const i=this.qv.Ii(e,r),s=i/2,o=Math.floor(t-s)+.5;return o<0?t+=Math.abs(0-o):o+i>this.Uv.width&&(t-=Math.abs(this.Uv.width-(o+i))),t}Lw(e,t){const r=this.Bw();for(const i of e)for(const s of i.fs())s.Tt().nt(t,r)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return Sy(this.F(),this.Ps.fontFamily)}Nw(){return Sy(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new ky,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const r=this.F();e.k=r,e.P=t,e.A=3*r/12,e.I=3*r/12,e.ts=9*r/12,e.L=0,e.Ew=4*r/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const r={Nd:this.Lv.Qt().Nd()},i=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,s=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new V5("left",t,r,i,s),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new V5("right",t,r,i,s),this.yw.appendChild(this.bw.iv()))}}var qU;const $ge=!!Wh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!Wh&&((qU=navigator==null?void 0:navigator.userAgentData)!=null&&qU.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class jge{constructor(e,t,r){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Fn,this.Vm=new Fn,this.nd=new Fn,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=r,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),L1(this.Ps)&&this.Jw(!0),this.ns=new Sge(this.rd.bind(this),this.Ps,r),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new Fge(this,this.cu),this.Zw.appendChild(this.tg.iv());const s=t.autoSize&&this.ig();let o=this.Ps.width,a=this.Ps.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this.sg(o,a),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],ke(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,r=!1){if(this.eo===t&&this.S_===e)return;const i=function(a){const l=Math.floor(a.width),c=Math.floor(a.height);return Qt({width:l-l%2,height:c-c%2})}(Qt({width:e,height:t}));this.eo=i.height,this.S_=i.width;const s=this.eo+"px",o=this.S_+"px";ke(this.Vv).style.height=s,ke(this.Vv).style.width=o,this.Zw.style.height=s,this.Zw.style.width=o,r?this.lg(ur.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=ur.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const t=L1(this.Ps);this.ns.cr(e);const r=L1(this.Ps);r!==t&&this.Jw(r),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),r=document.createElement("canvas");r.width=t.width,r.height=t.height;const i=ke(r.getContext("2d"));return this.cg(i,e),r}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:ke(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return ri(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let r=0,i=0;const s=this.Fw[0],o=(l,c)=>{let u=0;for(let h=0;h<this.Fw.length;h++){const d=this.Fw[h],f=ke(l==="left"?d.uw():d.cw()),m=f.nv();if(e!==null&&f.ev(e,c,u,t),u+=m.height,h<this.Fw.length-1){const g=this.Ww[h],v=g.nv();e!==null&&g.ev(e,c,u),u+=v.height}}};this.fg()&&(o("left",0),r+=ke(s.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const c=this.Fw[l],u=c.nv();if(e!==null&&c.ev(e,r,i,t),i+=u.height,l<this.Fw.length-1){const h=this.Ww[l],d=h.nv();e!==null&&h.ev(e,r,i),i+=d.height}}r+=s.nv().width,this.pg()&&(o("right",r),r+=ke(s.cw()).nv().width);const a=(l,c,u)=>{ke(l==="left"?this.tg.Tw():this.tg.Rw()).ev(ke(e),c,u)};if(this.Ps.timeScale.visible){const l=this.tg.nv();if(e!==null){let c=0;this.fg()&&(a("left",c,i),c=ke(s.uw()).nv().width),this.tg.ev(e,c,i,t),c+=l.width,this.pg()&&a("right",c,i)}i+=l.height}return Qt({width:r,height:i})}Mg(){let e=0,t=0,r=0;for(const v of this.Fw)this.fg()&&(t=Math.max(t,ke(v.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(r=Math.max(r,ke(v.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=v.E_();t=QM(t),r=QM(r);const i=this.S_,s=this.eo,o=Math.max(i-t-r,0),a=1*this.Ww.length,l=this.Ps.timeScale.visible;let c=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var u;c=(u=c)+u%2;const h=a+c,d=s<h?0:s-h,f=d/e;let m=0;const g=window.devicePixelRatio||1;for(let v=0;v<this.Fw.length;++v){const y=this.Fw[v];y.qm(this.ns.Xs()[v]);let b=0,w=0;w=v===this.Fw.length-1?Math.ceil((d-m)*g)/g:Math.round(y.E_()*f*g)/g,b=Math.max(w,2),m+=b,y.dm(Qt({width:o,height:b})),this.fg()&&y.hw(t,"left"),this.pg()&&y.hw(r,"right"),y.cv()&&this.ns.bd(y.cv(),b)}this.tg.Iw(Qt({width:l?o:0,height:c}),l?t:0,l?r:0),this.ns.L_(o),this.Uw!==t&&(this.Uw=t),this.$w!==r&&(this.$w=r)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return $ge?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),r=t*e.deltaX/100,i=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(o,s)}r!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*r)}lg(e,t){var i;const r=e._n();r===3&&this.Sg(),r!==3&&r!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach(s=>{s.Ym()}),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const r of e.bn())this.xn(r,t)}xg(e){const t=this.ns.Xs();for(let r=0;r<t.length;r++)e.un(r).ln&&t[r].tu()}xn(e,t){const r=this.ns.Et();switch(e.fn){case 0:r.Fc();break;case 1:r.Wc(e.Wt);break;case 2:r.gn(e.Wt);break;case 3:r.Mn(e.Wt);break;case 4:r.Pc();break;case 5:e.Wt.Ec(t)||r.Mn(e.Wt.Ac(t))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(t=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const r=this.qw;this.qw=null,this.lg(r,t);for(const i of r.bn())if(i.fn===5&&!i.Wt.Ec(t)){this.Qt().vn(i.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,r=this.Fw.length;for(let i=t;i<r;i++){const s=ri(this.Fw.pop());this.Zw.removeChild(s.iv()),s.nw().u(this),s.ew().u(this),s.m();const o=this.Ww.pop();o!==void 0&&this.hg(o)}for(let i=r;i<t;i++){const s=new jO(this,e[i]);if(s.nw().i(this.yg.bind(this,s),this),s.ew().i(this.kg.bind(this,s),this),this.Fw.push(s),i>0){const o=new Ige(this,i-1,i);this.Ww.push(o),this.Zw.insertBefore(o.iv(),this.tg.iv())}this.Zw.insertBefore(s.iv(),this.tg.iv())}for(let i=0;i<t;i++){const s=e[i],o=this.Fw[i];o.cv()!==s?o.qm(s):o.$m()}this.eg(),this.Mg()}Pg(e,t,r,i){var h;const s=new Map;e!==null&&this.ns.tn().forEach(d=>{const f=d.qs().$s(e);f!==null&&s.set(d,f)});let o;if(e!==null){const d=(h=this.ns.Et().es(e))==null?void 0:h.originalTime;d!==void 0&&(o=d)}const a=this.Qt().pd(),l=a!==null&&a.hu instanceof Jb?a.hu:void 0,c=a!==null&&a.au!==void 0?a.au.te:void 0,u=this.Tg(i);return{Gr:o,js:e??void 0,Rg:t??void 0,Dg:u!==-1?u:void 0,Ig:l,Vg:s,Bg:c,Eg:r??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const r=this.Qt().gd().Gs();r!==null&&(t=this.Qt().Xs().indexOf(r))}return t}yg(e,t,r,i){this.Im.p(()=>this.Pg(t,r,i,e))}kg(e,t,r,i){this.Vm.p(()=>this.Pg(t,r,i,e))}Qw(e,t,r){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p(()=>this.Pg(e,t,r))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function L1(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function Bge(n){return n.open===void 0&&n.value===void 0}function zge(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function K5(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.color!==void 0&&(s.R=t.color),s}function qge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.lineColor!==void 0&&(s.vt=t.lineColor),t.topColor!==void 0&&(s.eh=t.topColor),t.bottomColor!==void 0&&(s.rh=t.bottomColor),s}function Uge(n,e,t,r){const i=t.value,s={js:e,wt:n,Wt:[i,i,i,i],Gr:r};return t.topLineColor!==void 0&&(s.hh=t.topLineColor),t.bottomLineColor!==void 0&&(s.ah=t.bottomLineColor),t.topFillColor1!==void 0&&(s.oh=t.topFillColor1),t.topFillColor2!==void 0&&(s._h=t.topFillColor2),t.bottomFillColor1!==void 0&&(s.uh=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(s.dh=t.bottomFillColor2),s}function Hge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),i}function Wge(n,e,t,r){const i={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:r};return t.color!==void 0&&(i.R=t.color),t.borderColor!==void 0&&(i.Ht=t.borderColor),t.wickColor!==void 0&&(i.nh=t.wickColor),i}function Yge(n,e,t,r,i){const s=ri(i)(t),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],c=[l,o,a,l],{time:u,color:h,...d}=t;return{js:e,wt:n,Wt:c,Gr:r,le:d,R:h}}function cu(n){return n.Wt!==void 0}function X5(n,e){return e.customValues!==void 0&&(n.Ag=e.customValues),n}function wl(n){return(e,t,r,i,s,o)=>function(a,l){return l?l(a):Bge(a)}(r,o)?X5({wt:e,js:t,Gr:i},r):X5(n(e,t,r,i,s),r)}function Q5(n){return{Candlestick:wl(Wge),Bar:wl(Hge),Area:wl(qge),Baseline:wl(Uge),Histogram:wl(K5),Line:wl(K5),Custom:wl(Yge)}[n]}function J5(n){return{js:0,Lg:new Map,Ea:n}}function Z5(n,e){if(n!==void 0&&n.length!==0)return{zg:e.key(n[0].wt),Og:e.key(n[n.length-1].wt)}}function e4(n){let e;return n.forEach(t=>{e===void 0&&(e=t.Gr)}),ri(e)}class Gge{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let r=this.Ng.size!==0,i=!1;const s=this.Fg.get(e);if(s!==void 0)if(this.Fg.size===1)r=!1,i=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(e)&&(i=!0);let o=[];if(t.length!==0){const l=t.map(f=>f.time),c=this.cu.createConverterToInternalObj(t),u=Q5(e.wh()),h=e.rl(),d=e.hl();o=t.map((f,m)=>{const g=c(f.time),v=this.cu.key(g);let y=this.Ng.get(v);y===void 0&&(y=J5(g),this.Ng.set(v,y),i=!0);const b=u(g,y.js,f,l[m],h,d);return y.Lg.set(e,b),b})}r&&this.$g(),this.qg(e,o);let a=-1;if(i){const l=[];this.Ng.forEach(c=>{l.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:e4(c.Lg)})}),l.sort((c,u)=>this.cu.key(c.time)-this.cu.key(u.time)),a=this.jg(l)}return this.Yg(e,a,function(l,c,u){const h=Z5(l,u),d=Z5(c,u);if(h!==void 0&&d!==void 0)return{Kg:!1,Ta:h.Og>=d.Og&&h.zg>=d.zg}}(this.Fg.get(e),s,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,r){if(r&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=t;(function(y){y.Gr===void 0&&(y.Gr=y.time)})(i),this.cu.preprocessData(t);const s=this.cu.createConverterToInternalObj([t])(t.time),o=this.Wg.get(e);if(!r&&o!==void 0&&this.cu.key(s)<this.cu.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let a=this.Ng.get(this.cu.key(s));if(r&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=a===void 0;a===void 0&&(a=J5(s),this.Ng.set(this.cu.key(s),a));const c=Q5(e.wh()),u=e.rl(),h=e.hl(),d=c(s,a.js,t,i.Gr,u,h),f=!r&&!l&&o!==void 0&&this.cu.key(s)===this.cu.key(o);a.Lg.set(e,d),r?this.Gg(e,d,a.js):f&&e.La()&&cu(d)?(e.kr(d),this.Xg(e,d)):this.Xg(e,d);const m={Ta:cu(d),Kg:r};if(!l)return this.Yg(e,-1,m);const g={timeWeight:0,time:a.Ea,pointData:a,originalTime:e4(a.Lg)},v=Hh(this.Hg,this.cu.key(g.time),(y,b)=>this.cu.key(y.time)<b);this.Hg.splice(v,0,g);for(let y=v;y<this.Hg.length;++y)A0(this.Hg[y].pointData,y);return this.cu.fillWeightsForPoints(this.Hg,v),this.Yg(e,v,m)}Jg(e,t){const r=this.Fg.get(e);if(r===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,r.length);const i=r.splice(-t).reverse();r.length===0?this.Wg.delete(e):this.Wg.set(e,r[r.length-1].wt);for(const s of i){const o=this.Ng.get(this.cu.key(s.wt));if(o&&(o.Lg.delete(e),o.Lg.size===0)){this.Ng.delete(this.cu.key(o.Ea)),this.Hg.splice(o.js,1);for(let a=o.js;a<this.Hg.length;++a)A0(this.Hg[a].pointData,a)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let r=this.Fg.get(e);r===void 0&&(r=[],this.Fg.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.cu.key(t.wt)>this.cu.key(i.wt)?cu(t)&&r.push(t):cu(t)?r[r.length-1]=t:r.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,r){const i=this.Fg.get(e);if(i===void 0)return;const s=Hh(i,r,(o,a)=>o.js<a);cu(t)?i[s]=t:i.splice(s,1)}qg(e,t){t.length!==0?(this.Fg.set(e,t.filter(cu)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let r=0;r<this.Hg.length&&r<e.length;++r){const i=this.Hg[r],s=e[r];if(this.cu.key(i.time)!==this.cu.key(s.time)){t=r;break}s.timeWeight=i.timeWeight,A0(s.pointData,r)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let r=t;r<e.length;++r)A0(e[r].pointData,r);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))}),e}Yg(e,t,r){const i=this.Qg();if(t!==-1)this.Fg.forEach((s,o)=>{i.F_.set(o,{le:s,iM:o===e?r:void 0})}),this.Fg.has(e)||i.F_.set(e,{le:[],iM:r}),i.Et.sM=this.Hg,i.Et.nM=t;else{const s=this.Fg.get(e);i.F_.set(e,{le:s||[],iM:r})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function A0(n,e){n.js=e,n.Lg.forEach(t=>{t.js=e})}function Vge(n,e){return n.wt<e}function Kge(n,e){return e<n.wt}function Xge(n,e,t){const r=e.Aa(),i=e.bi(),s=Hh(n,r,Vge),o=sK(n,i,Kge);if(!t)return{from:s,to:o};let a=s,l=o;return s>0&&s<n.length&&n[s].wt>=r&&(a=s-1),o>0&&o<n.length&&n[o-1].wt<=i&&(l=o+1),{from:a,to:l}}class Qge{constructor(e,t,r){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=r}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const r=t.Ie();if(r===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=Xge(this.aM,r,this._M),this.mM(e,t,i.Wt),this.wM())}}class Jge{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,r){this.gM.draw(e,this.Ki,t,r)}}class Zge extends Qge{constructor(e,t,r){super(e,t,!1),this.$h=r,this.cM=new Jge(this.$h.renderer(),i=>{const s=e.Lt();return s===null?null:e.Ft().Nt(i,s.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le}))}mM(e,t){t.mc(this.aM,yme(this.lM))}wM(){this.$h.update({bars:this.aM.map(e0e),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function e0e(n){return{x:n._t,time:n.wt,originalData:n.MM,barColor:n.th}}const t0e={color:"#2196f3"},n0e=(n,e,t)=>{const r=$a(t);return new Zge(n,e,r)};function zO(n){const e={value:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function t4(n){const e=zO(n);return n.R!==void 0&&(e.color=n.R),e}function r0e(n){const e=zO(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.eh!==void 0&&(e.topColor=n.eh),n.rh!==void 0&&(e.bottomColor=n.rh),e}function i0e(n){const e=zO(n);return n.hh!==void 0&&(e.topLineColor=n.hh),n.ah!==void 0&&(e.bottomLineColor=n.ah),n.oh!==void 0&&(e.topFillColor1=n.oh),n._h!==void 0&&(e.topFillColor2=n._h),n.uh!==void 0&&(e.bottomFillColor1=n.uh),n.dh!==void 0&&(e.bottomFillColor2=n.dh),e}function fK(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function s0e(n){const e=fK(n);return n.R!==void 0&&(e.color=n.R),e}function o0e(n){const e=fK(n),{R:t,Ht:r,nh:i}=n;return t!==void 0&&(e.color=t),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Tv(n){return{Area:r0e,Line:t4,Baseline:i0e,Histogram:t4,Bar:s0e,Candlestick:o0e,Custom:a0e}[n]}function a0e(n){const e=n.Gr;return{...n.le,time:e}}const l0e={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},c0e={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},u0e={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:QV,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},F1={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},h0e={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function n4(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:u0e,crosshair:l0e,grid:c0e,overlayPriceScales:{...F1},leftPriceScale:{...F1,visible:!1},rightPriceScale:{...F1,visible:!0},timeScale:h0e,localization:{locale:Wh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class pK{constructor(e,t,r){this.Yp=e,this.bM=t,this.SM=r??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Xb(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Lr(e.from,e.to))}getVisibleRange(){let e,t,r=this.Ki().er();if(r===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),s=uK(i);r=Au(r,this.Ki().no()),e=Number((Math.round(r.Ze()/i)*i).toFixed(s)),t=Number((Math.round(r.Ge()/i)*i).toFixed(s))}else e=r.Ze(),t=r.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return ke(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class d0e{constructor(e,t,r,i){this.Yp=e,this.yt=r,this.xM=t,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),r=t.Gd(this.yt);t.xd(r,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(hr(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new pK(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},r=0){return this.CM.addCustomSeries(e,t,r)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const f0e={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class r4{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class p0e{constructor(e,t,r,i,s,o){this.kM=new Fn,this.ee=e,this.PM=t,this.TM=r,this.cu=s,this.CM=i,this.RM=o}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;const t=new Gu(new ap(e.from,e.to)).Ru(),r=this.ee.qs();if(r.Gi())return null;const i=r.$s(t.Aa(),1),s=r.$s(t.bi(),-1),o=ke(r.kh()),a=ke(r.sn());if(i!==null&&s!==null&&i.js>s.js)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.js===o?e.from-o:i.js-o,barsAfter:s===null||s.js===a?a-e.to:a-s.js};return i!==null&&s!==null&&(l.from=i.Gr,l.to=s.Gr),l}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);t.length!==0&&this.IM("update");const r=Tv(this.seriesType());return t.map(i=>r(i))}dataByIndex(e,t){const r=this.ee.qs().$s(e,t);return r===null?null:Tv(this.seriesType())(r)}data(){const e=Tv(this.seriesType());return this.ee.qs().Dh().map(t=>e(t))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Lo(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=_i(Lo(f0e),e),r=this.ee.Da(t);return new r4(r)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new r4(e))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=ke(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class m0e{constructor(e,t,r){this.EM=new Fn,this.Nu=new Fn,this.xw=new Fn,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=r}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},r=this.Jh.cc(t);this.ns.$d(r)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){hr(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const r=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(r,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),r=t.wc(e),i=t.es(r);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Lo(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function i4(n){return function(e){if(T0(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;T0(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),T0(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const t=e.handleScroll;T0(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(n),n}class g0e{constructor(e,t,r){this.OM=new Map,this.NM=new Map,this.FM=new Fn,this.WM=new Fn,this.HM=new Fn,this.Xc=new WeakMap,this.UM=new Gge(t);const i=r===void 0?Lo(n4()):_i(Lo(n4()),i4(r));this.$M=t,this.Yp=new jge(e,i,t),this.Yp.nw().i(o=>{this.FM.v()&&this.FM.p(this.qM(o()))},this),this.Yp.ew().i(o=>{this.WM.v()&&this.WM.p(this.qM(o()))},this),this.Yp.Md().i(o=>{this.HM.v()&&this.HM.p(this.qM(o()))},this);const s=this.Yp.Qt();this.jM=new m0e(s,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,r){this.autoSizeActive()||this.Yp.sg(e,t,r)}addCustomSeries(e,t={},r=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...t0e,...s.defaultOptions()},YM:n0e,KM:s}))($a(e));return this.ZM(i,t,r)}addSeries(e,t={},r=0){return this.ZM(e,t,r)}removeSeries(e){const t=ri(this.OM.get(e)),r=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(r),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,r){this.GM(this.UM.Zg(e,t,r))}BM(e,t){const[r,i]=this.UM.Jg(e,t);return r.length!==0&&this.GM(i),r}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new pK(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(i4(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let r,i;try{t||(r=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{t||r===void 0||this.Yp.Qt().cr({crosshair:{mode:r}})}return i}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,r){const i=this.OM.get(r);if(i===void 0)return;const s=this.Yp.Qt().Kn(i);s!==null&&this.Yp.Qt().Ld(e,t,s)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},r=0){hr(e.YM!==void 0),function(l){if(l===void 0||l.type==="custom")return;const c=l;c.minMove!==void 0&&c.precision===void 0&&(c.precision=uK(c.minMove))}(t.priceFormat),e.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(t);const i=_i(Lo(KV),Lo(e.defaultOptions),t),s=e.YM,o=new Jb(this.Yp.Qt(),e.type,i,s,e.KM);this.Yp.Qt().Fd(o,r);const a=new p0e(o,this,this,this,this.$M,l=>this.XM(l));return this.OM.set(a,o),this.NM.set(o,a),a}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((r,i)=>i.ht(r.le,r.iM)),t.Et().Ju(),t.Sc()}JM(e){return ri(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach((i,s)=>{const o=s.wh(),a=Tv(o)(i);if(o!=="Custom")hr(zge(a));else{const l=s.hl();hr(!l||l(a)===!1)}t.set(this.JM(s),a)});const r=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:r,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new d0e(this.Yp,r=>this.JM(r),e,this),this.Xc.set(e,t)),t}}function v0e(n){if(Xm(n)){const e=document.getElementById(n);return hr(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function y0e(n,e,t){const r=v0e(n),i=new g0e(r,e,t);return e.setOptions(i.options()),i}function b0e(n,e){return y0e(n,new z5,z5.pf(e))}({...KV});const x0e=I.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:t=500,showVolume:r=!0},i)=>{const s=I.useRef(null),o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),[c,u]=I.useState(null),h=g=>{if(g==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof g=="number")return isNaN(g)||!isFinite(g)||g<0?(console.warn("[KlineChart] Invalid price number:",g),0):g;if(typeof g=="string"){if(g.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const v=Qn(g);return isNaN(v)||!isFinite(v)||v<0?(console.warn("[KlineChart] Invalid price after conversion:",g,"->",v),0):v}catch(v){return console.error("[KlineChart] Error parsing price:",g,v),0}}return console.warn("[KlineChart] Invalid price type:",typeof g,g),0},d=g=>{if(g.open===void 0||g.open===null||g.high===void 0||g.high===null||g.low===void 0||g.low===null||g.close===void 0||g.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",g),null;const v=Math.floor((g.openTime??g.closeTime??Date.now())/1e3),y=h(g.open),b=h(g.high),w=h(g.low),S=h(g.close);if(y<=0||b<=0||w<=0||S<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:g,parsed:{open:y,high:b,low:w,close:S}}),null;const _=Math.max(y,b,w,S),k=Math.min(y,b,w,S);return(b!==_||w!==k)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:b,low:w},corrected:{high:_,low:k}}),{time:v,open:y,high:_,low:k,close:S}},f=g=>{if(!g.volume)return null;const v=Math.floor((g.openTime??g.closeTime??Date.now())/1e3);let y;if(typeof g.volume=="number"){if(isNaN(g.volume)||!isFinite(g.volume)||g.volume<0)return console.warn("[KlineChart] Invalid volume number:",g.volume),null;y=g.volume}else if(typeof g.volume=="string"&&g.volume.trim()!=="")try{if(y=Qn(g.volume),isNaN(y)||!isFinite(y)||y<0)return console.warn("[KlineChart] Invalid volume after conversion:",g.volume,"->",y),null}catch(_){return console.error("[KlineChart] Error converting volume from satoshi:",g.volume,_),null}else return console.warn("[KlineChart] Invalid volume type:",typeof g.volume,g.volume),null;const b=h(g.close),w=h(g.open);if(b<=0||w<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:w,close:b}),null;const S=b>=w;return{time:v,value:y,color:S?"#26a69a80":"#ef535080"}},m=g=>{if(!a.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!g||typeof g!="object"){console.warn("[KlineChart] Invalid kline update data:",g);return}try{const v=d(g);if(!v){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const y=r?f(g):null;a.current.update(v),u(v.close),r&&l.current&&y&&l.current.update(y)}catch(v){console.error("[KlineChart] Error updating chart:",v)}};return I.useImperativeHandle(i,()=>({updateChart:m})),I.useEffect(()=>{if(!s.current)return;if(o.current){try{o.current.remove()}catch(w){console.warn("[KlineChart] Error removing existing chart:",w)}o.current=null,a.current=null,l.current=null}let g=null,v=null,y=null;const b=()=>{if(!s.current)return;const w=s.current,S=w.clientWidth||w.offsetWidth,_=t||500;if(!S||S<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:w.clientWidth,offsetWidth:w.offsetWidth}),v=requestAnimationFrame(b);return}if(_<=0){console.warn("[KlineChart] Invalid height:",_);return}let k,C=null;try{g=b0e(w,{width:S,height:_,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof g.addCandlestickSeries=="function"?k=g.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):k=g.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),r&&(typeof g.addHistogramSeries=="function"?C=g.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):C=g.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(T){console.error("[KlineChart] Error creating chart or series:",T);return}if(n.length>0&&k)try{k.setData(n),u(n[n.length-1].close)}catch(T){console.error("[KlineChart] Error setting initial data:",T)}o.current=g,a.current=k,l.current=C,y=()=>{if(s.current&&o.current){const T=s.current.clientWidth||s.current.offsetWidth;T>0&&o.current.applyOptions({width:T})}},window.addEventListener("resize",y)};return b(),()=>{if(v!==null&&cancelAnimationFrame(v),y&&window.removeEventListener("resize",y),g)try{g.remove()}catch(w){console.error("[KlineChart] Error removing chart:",w)}o.current=null,a.current=null,l.current=null}},[t,r]),I.useEffect(()=>{if(a.current&&n.length>0)try{a.current.setData(n),u(n[n.length-1].close)}catch(g){console.error("[KlineChart] Error setting initial data:",g)}},[n]),E.jsxs("div",{style:{position:"relative",width:"100%"},children:[E.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:E.jsxs("span",{children:[e," Live Kline Chart",c!==null&&` - Current: $${c.toFixed(2)}`]})}),E.jsx("div",{ref:s,style:{position:"relative",width:"100%"}})]})});x0e.displayName="KlineChart";function mK(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function w0e(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}mK();const t=document.createElement("script");t.id="tradingview-widget-script",t.src=_ue,t.async=!0,t.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},t.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(t)})}function _0e(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function S0e(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function k0e({symbol:n=xue,interval:e=wue,isCollapsed:t=!1,className:r=""}){const i=I.useRef(null),s=I.useRef(null),o=I.useRef(S0e());return I.useEffect(()=>{if(t||!i.current)return;i.current&&(i.current.id=o.current);let a=!0;return w0e().then(()=>{if(!a||!i.current)return;const l={symbol:n,interval:e,containerId:o.current};s.current=_0e(l)}).catch(l=>{console.error("Failed to load TradingView widget:",l)}),()=>{a=!1,s.current&&(s.current=null)}},[n,e,t]),I.useEffect(()=>()=>{mK()},[]),t?E.jsx("div",{className:`tradingview-widget-container ${r}`}):E.jsx("div",{className:`tradingview-widget-wrapper ${r}`,children:E.jsx("div",{ref:i,id:o.current,className:"tradingview-widget-container"})})}function C0e({isOpen:n,onClose:e,networkChainName:t,walletAddress:r,onCopyAddress:i,onBucketTransfer:s,onDisconnect:o,anchorRef:a}){const l=()=>{r&&navigator.clipboard.writeText(r).then(()=>tt.success("Address copied to clipboard"),()=>tt.error("Failed to copy address")),i==null||i()},c=()=>{e(),s==null||s()},u=()=>{e(),o==null||o()};if(!n)return null;const h=E.jsx("div",{className:"wallet-modal-overlay",onClick:e,role:"presentation",children:E.jsxs("div",{className:"wallet-modal-panel",onClick:d=>d.stopPropagation(),role:"dialog","aria-label":"Wallet",children:[E.jsx("div",{className:"wallet-modal-header",children:E.jsx("h3",{children:"Wallet"})}),E.jsxs("div",{className:"wallet-modal-body",children:[E.jsxs("div",{className:"wallet-modal-row",children:[E.jsx("span",{className:"wallet-modal-label",children:"Network"}),E.jsx("span",{className:"wallet-modal-value",children:t})]}),E.jsxs("div",{className:"wallet-modal-row",children:[E.jsx("span",{className:"wallet-modal-label",children:"Address"}),E.jsx("span",{className:"wallet-modal-address",title:r,children:r})]}),E.jsxs("div",{className:"wallet-modal-actions",children:[E.jsx("button",{type:"button",className:"wallet-modal-btn wallet-modal-btn-secondary",onClick:l,children:"Copy Address"}),E.jsx("button",{type:"button",className:"wallet-modal-btn wallet-modal-btn-secondary",onClick:c,children:"Bucket Transfer"}),E.jsx("button",{type:"button",className:"wallet-modal-btn wallet-modal-btn-danger",onClick:u,children:"Disconnect"})]})]})]})});return typeof document<"u"?Jo.createPortal(h,document.body):null}const E0e=[{label:"Trade"},{label:"Portfolio"},{label:"Public Pools"},{label:"Staking"},{label:"Stats"},{label:"Tools",hasDropdown:!0}];function T0e(n,e=6){return n.length<=e*2?n:`${n.slice(0,e)}...${n.slice(-e)}`}function M0e({brandName:n="Morpheum",menuItems:e=E0e,walletAddress:t="",onConnectClick:r,networkChainName:i="Morpheum Network",onBucketTransfer:s,onDisconnect:o,onSettingsClick:a,statusText:l,onNetworkClick:c,logo:u}){const[h,d]=I.useState(!1),[f,m]=I.useState(!1),g=!!(t!=null&&t.trim()),v=()=>{g?m(!0):r==null||r()};return E.jsxs("header",{className:"menubar",role:"banner",children:[E.jsxs("div",{className:"menubar-inner",children:[E.jsx("div",{className:"menubar-left",children:E.jsxs("a",{href:"/",className:"menubar-logo-link","aria-label":`${n} home`,children:[u??E.jsx("div",{className:"menubar-logo-placeholder","aria-hidden":!0,children:E.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M6 4L22 4L22 24L6 24L6 4Z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),E.jsx("path",{d:"M6 14L22 14",stroke:"currentColor",strokeWidth:"2"})]})}),E.jsx("span",{className:"menubar-brand",children:n})]})}),E.jsxs("nav",{className:"menubar-nav","aria-label":"Main navigation",children:[E.jsxs("button",{type:"button",className:"menubar-hamburger","aria-expanded":h,"aria-controls":"menubar-menu",onClick:()=>d(y=>!y),children:[E.jsx("span",{}),E.jsx("span",{}),E.jsx("span",{})]}),E.jsx("ul",{id:"menubar-menu",className:`menubar-menu ${h?"menubar-menu-open":""}`,children:e.map(y=>E.jsx("li",{children:E.jsxs("a",{href:y.href??"#",className:"menubar-menu-item",onClick:b=>{(!y.href||y.href==="#")&&b.preventDefault(),d(!1)},children:[y.label,y.hasDropdown&&E.jsx("svg",{className:"menubar-chevron",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none","aria-hidden":!0,children:E.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})},y.label))})]}),E.jsxs("div",{className:"menubar-right",children:[l&&E.jsxs("div",{className:"menubar-status",title:l,children:[E.jsx("span",{className:"menubar-status-dot"}),E.jsx("span",{className:"menubar-status-text",children:l})]}),c&&E.jsxs("button",{type:"button",className:"menubar-icon-btn",onClick:c,"aria-label":"Network or language",children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"12",cy:"12",r:"10"}),E.jsx("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),E.jsx("svg",{className:"menubar-chevron",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",children:E.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]}),E.jsx("button",{type:"button",className:"menubar-icon-btn",onClick:a,"aria-label":"Settings",children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"12",cy:"12",r:"3"}),E.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})}),E.jsx("button",{type:"button",className:"menubar-connect-btn",onClick:v,children:g?T0e(t):"Connect Wallet"})]})]}),E.jsx(C0e,{isOpen:f,onClose:()=>m(!1),networkChainName:i,walletAddress:t,onBucketTransfer:()=>{m(!1),s==null||s()},onDisconnect:o})]})}const I0e={animation:!0,orderFillSound:!0,orderFillNotification:!0,setSizeOnClick:!0,setSizeOnClickSound:!1},P0e={colorTheme:"theme1",language:"en",soundStyle:"style1",orderbook:I0e},O0e=[{value:"theme1",label:"Color Theme 1"},{value:"theme2",label:"Color Theme 2"},{value:"theme3",label:"Color Theme 3"}],R0e=[{value:"en",label:"English"},{value:"ko",label:"Korean"},{value:"zh",label:"Chinese"},{value:"tr",label:"Turkish"},{value:"es",label:"Spanish"}],D0e=[{value:"style1",label:"Style 1"},{value:"style2",label:"Style 2"},{value:"style3",label:"Style 3"}];function A0e({isOpen:n,onClose:e,state:t,onStateChange:r,anchorRef:i}){const s=I.useCallback((a,l)=>{r({...t,orderbook:{...t.orderbook,[a]:l}})},[t,r]);if(!n)return null;const o=E.jsx("div",{className:"settings-modal-overlay",onClick:e,role:"presentation",children:E.jsxs("div",{className:"settings-modal-panel",onClick:a=>a.stopPropagation(),role:"dialog","aria-label":"Settings",children:[E.jsxs("div",{className:"settings-modal-header",children:[E.jsx("h3",{children:"Settings"}),E.jsx("button",{type:"button",className:"settings-modal-close",onClick:e,"aria-label":"Close settings",children:E.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),E.jsxs("div",{className:"settings-modal-body",children:[E.jsxs("section",{className:"settings-section",children:[E.jsx("h4",{className:"settings-section-title",children:"Theme"}),E.jsx("div",{className:"settings-options",children:O0e.map(({value:a,label:l})=>E.jsx("button",{type:"button",className:`settings-option ${t.colorTheme===a?"active":""}`,onClick:()=>r({...t,colorTheme:a}),children:l},a))})]}),E.jsxs("section",{className:"settings-section",children:[E.jsx("h4",{className:"settings-section-title",children:"Language"}),E.jsx("div",{className:"settings-options",children:R0e.map(({value:a,label:l})=>E.jsx("button",{type:"button",className:`settings-option ${t.language===a?"active":""}`,onClick:()=>r({...t,language:a}),children:l},a))})]}),E.jsxs("section",{className:"settings-section",children:[E.jsx("h4",{className:"settings-section-title",children:"Sound Theme Preference"}),E.jsx("div",{className:"settings-options",children:D0e.map(({value:a,label:l})=>E.jsx("button",{type:"button",className:`settings-option ${t.soundStyle===a?"active":""}`,onClick:()=>r({...t,soundStyle:a}),children:l},a))})]}),E.jsxs("section",{className:"settings-section",children:[E.jsx("h4",{className:"settings-section-title",children:"Orderbook Preferences"}),E.jsxs("div",{className:"settings-toggles",children:[E.jsxs("label",{className:"settings-toggle",children:[E.jsx("input",{type:"checkbox",checked:t.orderbook.animation,onChange:a=>s("animation",a.target.checked)}),E.jsx("span",{children:"Animation"})]}),E.jsxs("label",{className:"settings-toggle",children:[E.jsx("input",{type:"checkbox",checked:t.orderbook.orderFillSound,onChange:a=>s("orderFillSound",a.target.checked)}),E.jsx("span",{children:"Order Fill Sound"})]}),E.jsxs("label",{className:"settings-toggle",children:[E.jsx("input",{type:"checkbox",checked:t.orderbook.orderFillNotification,onChange:a=>s("orderFillNotification",a.target.checked)}),E.jsx("span",{children:"Order Fill Notification (Background)"})]}),E.jsxs("label",{className:"settings-toggle",children:[E.jsx("input",{type:"checkbox",checked:t.orderbook.setSizeOnClick,onChange:a=>s("setSizeOnClick",a.target.checked)}),E.jsx("span",{children:"Order Book Set Size on Click"})]}),E.jsxs("label",{className:"settings-toggle",children:[E.jsx("input",{type:"checkbox",checked:t.orderbook.setSizeOnClickSound,onChange:a=>s("setSizeOnClickSound",a.target.checked)}),E.jsx("span",{children:"Order Book Set Size on Click Sound"})]})]})]})]}),E.jsxs("div",{className:"settings-modal-footer",children:[E.jsx("span",{className:"settings-status-badge",children:"Online"}),E.jsxs("span",{className:"settings-version",children:[new Date().toLocaleDateString(),".006a0e1"]})]})]})});return typeof document<"u"?Jo.createPortal(o,document.body):null}var N0e={value:()=>{}};function gK(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Mv(t)}function Mv(n){this._=n}function L0e(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Mv.prototype=gK.prototype={constructor:Mv,on:function(n,e){var t=this._,r=L0e(n+"",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=F0e(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=s4(t[i],n.name,e);else if(e==null)for(i in t)t[i]=s4(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Mv(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function F0e(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function s4(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=N0e,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var eI="http://www.w3.org/1999/xhtml";const o4={svg:"http://www.w3.org/2000/svg",xhtml:eI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ex(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),o4.hasOwnProperty(e)?{space:o4[e],local:n}:n}function $0e(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===eI&&e.documentElement.namespaceURI===eI?e.createElement(n):e.createElementNS(t,n)}}function j0e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function vK(n){var e=ex(n);return(e.local?j0e:$0e)(e)}function B0e(){}function qO(n){return n==null?B0e:function(){return this.querySelector(n)}}function z0e(n){typeof n!="function"&&(n=qO(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ss(r,this._parents)}function q0e(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function U0e(){return[]}function yK(n){return n==null?U0e:function(){return this.querySelectorAll(n)}}function H0e(n){return function(){return q0e(n.apply(this,arguments))}}function W0e(n){typeof n=="function"?n=H0e(n):n=yK(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(n.call(l,l.__data__,c,o)),i.push(l));return new Ss(r,i)}function bK(n){return function(){return this.matches(n)}}function xK(n){return function(e){return e.matches(n)}}var Y0e=Array.prototype.find;function G0e(n){return function(){return Y0e.call(this.children,n)}}function V0e(){return this.firstElementChild}function K0e(n){return this.select(n==null?V0e:G0e(typeof n=="function"?n:xK(n)))}var X0e=Array.prototype.filter;function Q0e(){return Array.from(this.children)}function J0e(n){return function(){return X0e.call(this.children,n)}}function Z0e(n){return this.selectAll(n==null?Q0e:J0e(typeof n=="function"?n:xK(n)))}function eve(n){typeof n!="function"&&(n=bK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ss(r,this._parents)}function wK(n){return new Array(n.length)}function tve(){return new Ss(this._enter||this._groups.map(wK),this._parents)}function My(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}My.prototype={constructor:My,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function nve(n){return function(){return n}}function rve(n,e,t,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new My(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function ive(n,e,t,r,i,s,o){var a,l,c=new Map,u=e.length,h=s.length,d=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(d[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?i[a]=l:c.set(f,l));for(a=0;a<h;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(r[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new My(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(d[a])===l&&(i[a]=l)}function sve(n){return n.__data__}function ove(n,e){if(!arguments.length)return Array.from(this,sve);var t=e?ive:rve,r=this._parents,i=this._groups;typeof n!="function"&&(n=nve(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],h=i[c],d=h.length,f=ave(n.call(u,u&&u.__data__,c,r)),m=f.length,g=a[c]=new Array(m),v=o[c]=new Array(m),y=l[c]=new Array(d);t(u,h,g,v,y,f,e);for(var b=0,w=0,S,_;b<m;++b)if(S=g[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<m;);S._next=_||null}}return o=new Ss(o,r),o._enter=a,o._exit=l,o}function ave(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function lve(){return new Ss(this._exit||this._groups.map(wK),this._parents)}function cve(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function uve(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=t[l],u=r[l],h=c.length,d=a[l]=new Array(h),f,m=0;m<h;++m)(f=c[m]||u[m])&&(d[m]=f);for(;l<i;++l)a[l]=t[l];return new Ss(a,this._parents)}function hve(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function dve(n){n||(n=fve);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Ss(i,this._parents).order()}function fve(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function pve(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function mve(){return Array.from(this)}function gve(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function vve(){let n=0;for(const e of this)++n;return n}function yve(){return!this.node()}function bve(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,a;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this}function xve(n){return function(){this.removeAttribute(n)}}function wve(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _ve(n,e){return function(){this.setAttribute(n,e)}}function Sve(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function kve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function Cve(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Eve(n,e){var t=ex(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?wve:xve:typeof e=="function"?t.local?Cve:kve:t.local?Sve:_ve)(t,e))}function _K(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Tve(n){return function(){this.style.removeProperty(n)}}function Mve(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Ive(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function Pve(n,e,t){return arguments.length>1?this.each((e==null?Tve:typeof e=="function"?Ive:Mve)(n,e,t??"")):Yh(this.node(),n)}function Yh(n,e){return n.style.getPropertyValue(e)||_K(n).getComputedStyle(n,null).getPropertyValue(e)}function Ove(n){return function(){delete this[n]}}function Rve(n,e){return function(){this[n]=e}}function Dve(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function Ave(n,e){return arguments.length>1?this.each((e==null?Ove:typeof e=="function"?Dve:Rve)(n,e)):this.node()[n]}function SK(n){return n.trim().split(/^|\s+/)}function UO(n){return n.classList||new kK(n)}function kK(n){this._node=n,this._names=SK(n.getAttribute("class")||"")}kK.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function CK(n,e){for(var t=UO(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function EK(n,e){for(var t=UO(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Nve(n){return function(){CK(this,n)}}function Lve(n){return function(){EK(this,n)}}function Fve(n,e){return function(){(e.apply(this,arguments)?CK:EK)(this,n)}}function $ve(n,e){var t=SK(n+"");if(arguments.length<2){for(var r=UO(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?Fve:e?Nve:Lve)(t,e))}function jve(){this.textContent=""}function Bve(n){return function(){this.textContent=n}}function zve(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function qve(n){return arguments.length?this.each(n==null?jve:(typeof n=="function"?zve:Bve)(n)):this.node().textContent}function Uve(){this.innerHTML=""}function Hve(n){return function(){this.innerHTML=n}}function Wve(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Yve(n){return arguments.length?this.each(n==null?Uve:(typeof n=="function"?Wve:Hve)(n)):this.node().innerHTML}function Gve(){this.nextSibling&&this.parentNode.appendChild(this)}function Vve(){return this.each(Gve)}function Kve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xve(){return this.each(Kve)}function Qve(n){var e=typeof n=="function"?n:vK(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Jve(){return null}function Zve(n,e){var t=typeof n=="function"?n:vK(n),r=e==null?Jve:typeof e=="function"?e:qO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function eye(){var n=this.parentNode;n&&n.removeChild(this)}function tye(){return this.each(eye)}function nye(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function rye(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function iye(n){return this.select(n?rye:nye)}function sye(n){return arguments.length?this.property("__data__",n):this.node().__data__}function oye(n){return function(e){n.call(this,e,this.__data__)}}function aye(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function lye(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function cye(n,e,t){return function(){var r=this.__on,i,s=oye(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function uye(n,e,t){var r=aye(n+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?cye:lye,i=0;i<s;++i)this.each(a(r[i],e,t));return this}function TK(n,e,t){var r=_K(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function hye(n,e){return function(){return TK(this,n,e)}}function dye(n,e){return function(){return TK(this,n,e.apply(this,arguments))}}function fye(n,e){return this.each((typeof e=="function"?dye:hye)(n,e))}function*pye(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var mye=[null];function Ss(n,e){this._groups=n,this._parents=e}function Jm(){return new Ss([[document.documentElement]],mye)}function gye(){return this}Ss.prototype=Jm.prototype={constructor:Ss,select:z0e,selectAll:W0e,selectChild:K0e,selectChildren:Z0e,filter:eve,data:ove,enter:tve,exit:lve,join:cve,merge:uve,selection:gye,order:hve,sort:dve,call:pve,nodes:mve,node:gve,size:vve,empty:yve,each:bve,attr:Eve,style:Pve,property:Ave,classed:$ve,text:qve,html:Yve,raise:Vve,lower:Xve,append:Qve,insert:Zve,remove:tye,clone:iye,datum:sye,on:uye,dispatch:fye,[Symbol.iterator]:pye};function HO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function MK(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Zm(){}var hm=.7,Iy=1/hm,Vu="\\s*([+-]?\\d+)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vye=/^#([0-9a-f]{3,8})$/,yye=new RegExp(`^rgb\\(${Vu},${Vu},${Vu}\\)$`),bye=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),xye=new RegExp(`^rgba\\(${Vu},${Vu},${Vu},${dm}\\)$`),wye=new RegExp(`^rgba\\(${no},${no},${no},${dm}\\)$`),_ye=new RegExp(`^hsl\\(${dm},${no},${no}\\)$`),Sye=new RegExp(`^hsla\\(${dm},${no},${no},${dm}\\)$`),a4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HO(Zm,fm,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:l4,formatHex:l4,formatHex8:kye,formatHsl:Cye,formatRgb:c4,toString:c4});function l4(){return this.rgb().formatHex()}function kye(){return this.rgb().formatHex8()}function Cye(){return IK(this).formatHsl()}function c4(){return this.rgb().formatRgb()}function fm(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=vye.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?u4(e):t===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?N0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?N0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yye.exec(n))?new Kr(e[1],e[2],e[3],1):(e=bye.exec(n))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xye.exec(n))?N0(e[1],e[2],e[3],e[4]):(e=wye.exec(n))?N0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_ye.exec(n))?f4(e[1],e[2]/100,e[3]/100,1):(e=Sye.exec(n))?f4(e[1],e[2]/100,e[3]/100,e[4]):a4.hasOwnProperty(n)?u4(a4[n]):n==="transparent"?new Kr(NaN,NaN,NaN,0):null}function u4(n){return new Kr(n>>16&255,n>>8&255,n&255,1)}function N0(n,e,t,r){return r<=0&&(n=e=t=NaN),new Kr(n,e,t,r)}function Eye(n){return n instanceof Zm||(n=fm(n)),n?(n=n.rgb(),new Kr(n.r,n.g,n.b,n.opacity)):new Kr}function tI(n,e,t,r){return arguments.length===1?Eye(n):new Kr(n,e,t,r??1)}function Kr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}HO(Kr,tI,MK(Zm,{brighter(n){return n=n==null?Iy:Math.pow(Iy,n),new Kr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?hm:Math.pow(hm,n),new Kr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Kr(lc(this.r),lc(this.g),lc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h4,formatHex:h4,formatHex8:Tye,formatRgb:d4,toString:d4}));function h4(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function Tye(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function d4(){const n=Py(this.opacity);return`${n===1?"rgb(":"rgba("}${lc(this.r)}, ${lc(this.g)}, ${lc(this.b)}${n===1?")":`, ${n})`}`}function Py(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function lc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ql(n){return n=lc(n),(n<16?"0":"")+n.toString(16)}function f4(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new vs(n,e,t,r)}function IK(n){if(n instanceof vs)return new vs(n.h,n.s,n.l,n.opacity);if(n instanceof Zm||(n=fm(n)),!n)return new vs;if(n instanceof vs)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new vs(o,a,l,n.opacity)}function Mye(n,e,t,r){return arguments.length===1?IK(n):new vs(n,e,t,r??1)}function vs(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}HO(vs,Mye,MK(Zm,{brighter(n){return n=n==null?Iy:Math.pow(Iy,n),new vs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?hm:Math.pow(hm,n),new vs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Kr($1(n>=240?n-240:n+120,i,r),$1(n,i,r),$1(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new vs(p4(this.h),L0(this.s),L0(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Py(this.opacity);return`${n===1?"hsl(":"hsla("}${p4(this.h)}, ${L0(this.s)*100}%, ${L0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function p4(n){return n=(n||0)%360,n<0?n+360:n}function L0(n){return Math.max(0,Math.min(1,n||0))}function $1(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const PK=n=>()=>n;function Iye(n,e){return function(t){return n+t*e}}function Pye(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Oye(n){return(n=+n)==1?OK:function(e,t){return t-e?Pye(e,t,n):PK(isNaN(e)?t:e)}}function OK(n,e){var t=e-n;return t?Iye(n,t):PK(isNaN(n)?e:n)}const m4=function n(e){var t=Oye(e);function r(i,s){var o=t((i=tI(i)).r,(s=tI(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),c=OK(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function _a(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var nI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j1=new RegExp(nI.source,"g");function Rye(n){return function(){return n}}function Dye(n){return function(e){return n(e)+""}}function Aye(n,e){var t=nI.lastIndex=j1.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=nI.exec(n))&&(i=j1.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:_a(r,i)})),t=j1.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Dye(l[0].x):Rye(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var g4=180/Math.PI,rI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RK(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*g4,skewX:Math.atan(l)*g4,scaleX:o,scaleY:a}}var F0;function Nye(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?rI:RK(e.a,e.b,e.c,e.d,e.e,e.f)}function Lye(n){return n==null||(F0||(F0=document.createElementNS("http://www.w3.org/2000/svg","g")),F0.setAttribute("transform",n),!(n=F0.transform.baseVal.consolidate()))?rI:(n=n.matrix,RK(n.a,n.b,n.c,n.d,n.e,n.f))}function DK(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push("translate(",null,e,null,t);m.push({i:g-4,x:_a(c,h)},{i:g-2,x:_a(u,d)})}else(h||d)&&f.push("translate("+h+e+d+t)}function o(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:_a(c,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(c,u,h,d){c!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:_a(c,u)}):u&&h.push(i(h)+"skewX("+u+r)}function l(c,u,h,d,f,m){if(c!==h||u!==d){var g=f.push(i(f)+"scale(",null,",",null,")");m.push({i:g-4,x:_a(c,h)},{i:g-2,x:_a(u,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,d),o(c.rotate,u.rotate,h,d),a(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(f){for(var m=-1,g=d.length,v;++m<g;)h[(v=d[m]).i]=v.x(f);return h.join("")}}}var Fye=DK(Nye,"px, ","px)","deg)"),$ye=DK(Lye,", ",")",")"),Gh=0,Df=0,df=0,AK=1e3,Oy,Af,Ry=0,Cc=0,tx=0,pm=typeof performance=="object"&&performance.now?performance:Date,NK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function WO(){return Cc||(NK(jye),Cc=pm.now()+tx)}function jye(){Cc=0}function Dy(){this._call=this._time=this._next=null}Dy.prototype=LK.prototype={constructor:Dy,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?WO():+t)+(e==null?0:+e),!this._next&&Af!==this&&(Af?Af._next=this:Oy=this,Af=this),this._call=n,this._time=t,iI()},stop:function(){this._call&&(this._call=null,this._time=1/0,iI())}};function LK(n,e,t){var r=new Dy;return r.restart(n,e,t),r}function Bye(){WO(),++Gh;for(var n=Oy,e;n;)(e=Cc-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Gh}function v4(){Cc=(Ry=pm.now())+tx,Gh=Df=0;try{Bye()}finally{Gh=0,qye(),Cc=0}}function zye(){var n=pm.now(),e=n-Ry;e>AK&&(tx-=e,Ry=n)}function qye(){for(var n,e=Oy,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Oy=t);Af=n,iI(r)}function iI(n){if(!Gh){Df&&(Df=clearTimeout(Df));var e=n-Cc;e>24?(n<1/0&&(Df=setTimeout(v4,n-pm.now()-tx)),df&&(df=clearInterval(df))):(df||(Ry=pm.now(),df=setInterval(zye,AK)),Gh=1,NK(v4))}}function y4(n,e,t){var r=new Dy;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var Uye=gK("start","end","cancel","interrupt"),Hye=[],FK=0,b4=1,sI=2,Iv=3,x4=4,oI=5,Pv=6;function nx(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;Wye(n,t,{name:e,index:r,group:i,on:Uye,tween:Hye,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:FK})}function YO(n,e){var t=Es(n,e);if(t.state>FK)throw new Error("too late; already scheduled");return t}function lo(n,e){var t=Es(n,e);if(t.state>Iv)throw new Error("too late; already running");return t}function Es(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Wye(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=LK(s,0,t.time);function s(c){t.state=b4,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,h,d,f;if(t.state!==b4)return l();for(u in r)if(f=r[u],f.name===t.name){if(f.state===Iv)return y4(o);f.state===x4?(f.state=Pv,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Pv,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete r[u])}if(y4(function(){t.state===Iv&&(t.state=x4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=sI,t.on.call("start",n,n.__data__,t.index,t.group),t.state===sI){for(t.state=Iv,i=new Array(d=t.tween.length),u=0,h=-1;u<d;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(i[++h]=f);i.length=h+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=oI,1),h=-1,d=i.length;++h<d;)i[h].call(n,u);t.state===oI&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Pv,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function Yye(n,e){var t=n.__transition,r,i,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>sI&&r.state<oI,r.state=Pv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function Gye(n){return this.each(function(){Yye(this,n)})}function Vye(n,e){var t,r;return function(){var i=lo(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Kye(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=lo(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Xye(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Es(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?Vye:Kye)(t,n,e))}function GO(n,e,t){var r=n._id;return n.each(function(){var i=lo(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Es(i,r).value[e]}}function $K(n,e){var t;return(typeof e=="number"?_a:e instanceof fm?m4:(t=fm(e))?(e=t,m4):Aye)(n,e)}function Qye(n){return function(){this.removeAttribute(n)}}function Jye(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Zye(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function ebe(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function tbe(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function nbe(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function rbe(n,e){var t=ex(n),r=t==="transform"?$ye:$K;return this.attrTween(n,typeof e=="function"?(t.local?nbe:tbe)(t,r,GO(this,"attr."+n,e)):e==null?(t.local?Jye:Qye)(t):(t.local?ebe:Zye)(t,r,e))}function ibe(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function sbe(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function obe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&sbe(n,s)),t}return i._value=e,i}function abe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&ibe(n,s)),t}return i._value=e,i}function lbe(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=ex(n);return this.tween(t,(r.local?obe:abe)(r,e))}function cbe(n,e){return function(){YO(this,n).delay=+e.apply(this,arguments)}}function ube(n,e){return e=+e,function(){YO(this,n).delay=e}}function hbe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?cbe:ube)(e,n)):Es(this.node(),e).delay}function dbe(n,e){return function(){lo(this,n).duration=+e.apply(this,arguments)}}function fbe(n,e){return e=+e,function(){lo(this,n).duration=e}}function pbe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?dbe:fbe)(e,n)):Es(this.node(),e).duration}function mbe(n,e){if(typeof e!="function")throw new Error;return function(){lo(this,n).ease=e}}function gbe(n){var e=this._id;return arguments.length?this.each(mbe(e,n)):Es(this.node(),e).ease}function vbe(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;lo(this,n).ease=t}}function ybe(n){if(typeof n!="function")throw new Error;return this.each(vbe(this._id,n))}function bbe(n){typeof n!="function"&&(n=bK(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ko(r,this._parents,this._name,this._id)}function xbe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,h=o[a]=new Array(u),d,f=0;f<u;++f)(d=l[f]||c[f])&&(h[f]=d);for(;a<r;++a)o[a]=e[a];return new Ko(o,this._parents,this._name,this._id)}function wbe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function _be(n,e,t){var r,i,s=wbe(e)?YO:lo;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}function Sbe(n,e){var t=this._id;return arguments.length<2?Es(this.node(),t).on.on(n):this.each(_be(t,n,e))}function kbe(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function Cbe(){return this.on("end.remove",kbe(this._id))}function Ebe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=qO(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,h,d=0;d<l;++d)(u=a[d])&&(h=n.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,nx(c[d],e,t,d,c,Es(u,t)));return new Ko(s,this._parents,e,t)}function Tbe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=yK(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=n.call(u,u.__data__,h,l),f,m=Es(u,t),g=0,v=d.length;g<v;++g)(f=d[g])&&nx(f,e,t,g,d,m);s.push(d),o.push(u)}return new Ko(s,o,e,t)}var Mbe=Jm.prototype.constructor;function Ibe(){return new Mbe(this._groups,this._parents)}function Pbe(n,e){var t,r,i;return function(){var s=Yh(this,n),o=(this.style.removeProperty(n),Yh(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function jK(n){return function(){this.style.removeProperty(n)}}function Obe(n,e,t){var r,i=t+"",s;return function(){var o=Yh(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function Rbe(n,e,t){var r,i,s;return function(){var o=Yh(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Yh(this,n))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function Dbe(n,e){var t,r,i,s="style."+e,o="end."+s,a;return function(){var l=lo(this,n),c=l.on,u=l.value[s]==null?a||(a=jK(e)):void 0;(c!==t||i!==u)&&(r=(t=c).copy()).on(o,i=u),l.on=r}}function Abe(n,e,t){var r=(n+="")=="transform"?Fye:$K;return e==null?this.styleTween(n,Pbe(n,r)).on("end.style."+n,jK(n)):typeof e=="function"?this.styleTween(n,Rbe(n,r,GO(this,"style."+n,e))).each(Dbe(this._id,n)):this.styleTween(n,Obe(n,r,e),t).on("end.style."+n,null)}function Nbe(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Lbe(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Nbe(n,o,t)),r}return s._value=e,s}function Fbe(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Lbe(n,e,t??""))}function $be(n){return function(){this.textContent=n}}function jbe(n){return function(){var e=n(this);this.textContent=e??""}}function Bbe(n){return this.tween("text",typeof n=="function"?jbe(GO(this,"text",n)):$be(n==null?"":n+""))}function zbe(n){return function(e){this.textContent=n.call(this,e)}}function qbe(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&zbe(i)),e}return r._value=n,r}function Ube(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,qbe(n))}function Hbe(){for(var n=this._name,e=this._id,t=BK(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Es(l,e);nx(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ko(r,this._parents,n,t)}function Wbe(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};t.each(function(){var c=lo(this,r),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Ybe=0;function Ko(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function BK(){return++Ybe}var wo=Jm.prototype;Ko.prototype={constructor:Ko,select:Ebe,selectAll:Tbe,selectChild:wo.selectChild,selectChildren:wo.selectChildren,filter:bbe,merge:xbe,selection:Ibe,transition:Hbe,call:wo.call,nodes:wo.nodes,node:wo.node,size:wo.size,empty:wo.empty,each:wo.each,on:Sbe,attr:rbe,attrTween:lbe,style:Abe,styleTween:Fbe,text:Bbe,textTween:Ube,remove:Cbe,tween:Xye,delay:hbe,duration:pbe,ease:gbe,easeVarying:ybe,end:Wbe,[Symbol.iterator]:wo[Symbol.iterator]};function Gbe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Vbe={time:null,delay:0,duration:250,ease:Gbe};function Kbe(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Xbe(n){var e,t;n instanceof Ko?(e=n._id,n=n._name):(e=BK(),(t=Vbe).time=WO(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&nx(l,n,e,c,o,t||Kbe(l,e));return new Ko(r,this._parents,n,e)}Jm.prototype.interrupt=Gye;Jm.prototype.transition=Xbe;function Nf(n,e,t){this.k=n,this.x=e,this.y=t}Nf.prototype={constructor:Nf,scale:function(n){return n===1?this:new Nf(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Nf(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Nf.prototype;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function eg(n){return n+.5|0}const ja=(n,e,t)=>Math.max(Math.min(n,t),e);function Lf(n){return ja(eg(n*2.55),0,255)}function Qa(n){return ja(eg(n*255),0,255)}function Io(n){return ja(eg(n/2.55)/100,0,1)}function w4(n){return ja(eg(n*100),0,100)}const Di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},aI=[..."0123456789ABCDEF"],Qbe=n=>aI[n&15],Jbe=n=>aI[(n&240)>>4]+aI[n&15],$0=n=>(n&240)>>4===(n&15),Zbe=n=>$0(n.r)&&$0(n.g)&&$0(n.b)&&$0(n.a);function exe(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Di[n[1]]*17,g:255&Di[n[2]]*17,b:255&Di[n[3]]*17,a:e===5?Di[n[4]]*17:255}:(e===7||e===9)&&(t={r:Di[n[1]]<<4|Di[n[2]],g:Di[n[3]]<<4|Di[n[4]],b:Di[n[5]]<<4|Di[n[6]],a:e===9?Di[n[7]]<<4|Di[n[8]]:255})),t}const txe=(n,e)=>n<255?e(n):"";function nxe(n){var e=Zbe(n)?Qbe:Jbe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+txe(n.a,e):void 0}const rxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zK(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function ixe(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function sxe(n,e,t){const r=zK(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function oxe(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function VO(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=oxe(t,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function KO(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Qa)}function XO(n,e,t){return KO(zK,n,e,t)}function axe(n,e,t){return KO(sxe,n,e,t)}function lxe(n,e,t){return KO(ixe,n,e,t)}function qK(n){return(n%360+360)%360}function cxe(n){const e=rxe.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Lf(+e[5]):Qa(+e[5]));const i=qK(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=axe(i,s,o):e[1]==="hsv"?r=lxe(i,s,o):r=XO(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function uxe(n,e){var t=VO(n);t[0]=qK(t[0]+e),t=XO(t),n.r=t[0],n.g=t[1],n.b=t[2]}function hxe(n){if(!n)return;const e=VO(n),t=e[0],r=w4(e[1]),i=w4(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Io(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const _4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dxe(){const n={},e=Object.keys(S4),t=Object.keys(_4);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,_4[s]);s=parseInt(S4[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let j0;function fxe(n){j0||(j0=dxe(),j0.transparent=[0,0,0,0]);const e=j0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mxe(n){const e=pxe.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Lf(o):ja(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Lf(r):ja(r,0,255)),i=255&(e[4]?Lf(i):ja(i,0,255)),s=255&(e[6]?Lf(s):ja(s,0,255)),{r,g:i,b:s,a:t}}}function gxe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Io(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,uu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vxe(n,e,t){const r=uu(Io(n.r)),i=uu(Io(n.g)),s=uu(Io(n.b));return{r:Qa(B1(r+t*(uu(Io(e.r))-r))),g:Qa(B1(i+t*(uu(Io(e.g))-i))),b:Qa(B1(s+t*(uu(Io(e.b))-s))),a:n.a+t*(e.a-n.a)}}function B0(n,e,t){if(n){let r=VO(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=XO(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function UK(n,e){return n&&Object.assign(e||{},n)}function k4(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Qa(n[3]))):(e=UK(n,{r:0,g:0,b:0,a:1}),e.a=Qa(e.a)),e}function yxe(n){return n.charAt(0)==="r"?mxe(n):cxe(n)}class mm{constructor(e){if(e instanceof mm)return e;const t=typeof e;let r;t==="object"?r=k4(e):t==="string"&&(r=exe(e)||fxe(e)||yxe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=UK(this._rgb);return e&&(e.a=Io(e.a)),e}set rgb(e){this._rgb=k4(e)}rgbString(){return this._valid?gxe(this._rgb):void 0}hexString(){return this._valid?nxe(this._rgb):void 0}hslString(){return this._valid?hxe(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=vxe(this._rgb,e._rgb,t)),this}clone(){return new mm(this.rgb)}alpha(e){return this._rgb.a=Qa(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=eg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return B0(this._rgb,2,e),this}darken(e){return B0(this._rgb,2,-e),this}saturate(e){return B0(this._rgb,1,e),this}desaturate(e){return B0(this._rgb,1,-e),this}rotate(e){return uxe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _o(){}const bxe=(()=>{let n=0;return()=>n++})();function vn(n){return n==null}function dn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ii(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ls(n,e){return ii(n)?n:e}function yt(n,e){return typeof n>"u"?e:n}const xxe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,HK=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Wt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Bt(n,e,t,r){let i,s,o;if(dn(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(bt(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Ay(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Ny(n){if(dn(n))return n.map(Ny);if(bt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Ny(n[t[i]]);return e}return n}function WK(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function wxe(n,e,t,r){if(!WK(n))return;const i=e[n],s=t[n];bt(i)&&bt(s)?gm(i,s,r):e[n]=Ny(s)}function gm(n,e,t){const r=dn(e)?e:[e],i=r.length;if(!bt(n))return n;t=t||{};const s=t.merger||wxe;let o;for(let a=0;a<i;++a){if(o=r[a],!bt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function lp(n,e){return gm(n,e,{merger:_xe})}function _xe(n,e,t){if(!WK(n))return;const r=e[n],i=t[n];bt(r)&&bt(i)?lp(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ny(i))}const C4={"":n=>n,x:n=>n.x,y:n=>n.y};function Sxe(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function kxe(n){const e=Sxe(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function vm(n,e){return(C4[e]||(C4[e]=kxe(e)))(n)}function QO(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ki=n=>typeof n<"u",ei=n=>typeof n=="function",E4=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Cxe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Lt=Math.PI,fr=2*Lt,Exe=fr+Lt,Ly=Number.POSITIVE_INFINITY,JO=Lt/180,pr=Lt/2,qi=Lt/4,Fy=Lt*2/3,YK=Math.log10,Vh=Math.sign;function cp(n,e,t){return Math.abs(n-e)<t}function T4(n){const e=Math.round(n);n=cp(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(YK(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function Txe(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function Mxe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Kh(n){return!Mxe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ixe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Pxe(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function nr(n){return n*(Lt/180)}function GK(n){return n*(180/Lt)}function M4(n){if(!ii(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function lI(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Lt&&(s+=fr),{angle:s,distance:i}}function Xh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Oxe(n,e){return(n-e+Exe)%fr-Lt}function ya(n){return(n%fr+fr)%fr}function $y(n,e,t,r){const i=ya(n),s=ya(e),o=ya(t),a=ya(s-i),l=ya(o-i),c=ya(i-s),u=ya(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Ks(n,e,t){return Math.max(e,Math.min(t,n))}function Rxe(n){return Ks(n,-32768,32767)}function Ff(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function ZO(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const cI=(n,e,t,r)=>ZO(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),Dxe=(n,e,t)=>ZO(n,t,r=>n[r][e]>=t);function Axe(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const VK=["push","pop","shift","splice","unshift"];function Nxe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VK.forEach(t=>{const r="_onData"+QO(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function I4(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(VK.forEach(s=>{delete n[s]}),delete n._chartjs)}function Lxe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const KK=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function XK(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,KK.call(window,()=>{r=!1,n.apply(e,t)}))}}function Fxe(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const eR=n=>n==="start"?"left":n==="end"?"right":"center",xr=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,$xe=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,z0=n=>n===0||n===1,P4=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*fr/t)),O4=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*fr/t)+1,up={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*pr)+1,easeOutSine:n=>Math.sin(n*pr),easeInOutSine:n=>-.5*(Math.cos(Lt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>z0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>z0(n)?n:P4(n,.075,.3),easeOutElastic:n=>z0(n)?n:O4(n,.075,.3),easeInOutElastic(n){return z0(n)?n:n<.5?.5*P4(n*2,.1125,.45):.5+.5*O4(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-up.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?up.easeInBounce(n*2)*.5:up.easeOutBounce(n*2-1)*.5+.5};function tR(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function R4(n){return tR(n)?n:new mm(n)}function z1(n){return tR(n)?n:new mm(n).saturate(.5).darken(.1).hexString()}const jxe=["x","y","borderWidth","radius","tension"],Bxe=["color","borderColor","backgroundColor"];function zxe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Bxe},numbers:{type:"number",properties:jxe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function qxe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const D4=new Map;function Uxe(n,e){e=e||{};const t=n+JSON.stringify(e);let r=D4.get(t);return r||(r=new Intl.NumberFormat(n,e),D4.set(t,r)),r}function nR(n,e,t){return Uxe(e,t).format(n)}const Hxe={values(n){return dn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Wxe(n,t)}const o=YK(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),nR(n,r,l)}};function Wxe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var QK={formatters:Hxe};function Yxe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:QK.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ec=Object.create(null),uI=Object.create(null);function hp(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function q1(n,e,t){return typeof e=="string"?gm(hp(n,e),t):gm(hp(n,""),e)}class Gxe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>z1(i.backgroundColor),this.hoverBorderColor=(r,i)=>z1(i.borderColor),this.hoverColor=(r,i)=>z1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return q1(this,e,t)}get(e){return hp(this,e)}describe(e,t){return q1(uI,e,t)}override(e,t){return q1(Ec,e,t)}route(e,t,r,i){const s=hp(this,e),o=hp(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return bt(l)?Object.assign({},c,l):yt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var Cn=new Gxe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zxe,qxe,Yxe]);function Vxe(n){return!n||vn(n.size)||vn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function A4(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function _l(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function N4(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function hI(n,e,t,r){JK(n,e,t,r,null)}function JK(n,e,t,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,m=e.rotation,g=e.radius;let v=(m||0)*JO;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,g,0,0,fr):n.arc(t,r,g,0,fr),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Fy,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),v+=Fy,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+qi)*l,h=Math.cos(v+qi)*(i?i/2-c:l),a=Math.sin(v+qi)*l,d=Math.sin(v+qi)*(i?i/2-c:l),n.arc(t-h,r-a,c,v-Lt,v-pr),n.arc(t+d,r-o,c,v-pr,v),n.arc(t+h,r+a,c,v,v+pr),n.arc(t-d,r+o,c,v+pr,v+Lt),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=qi;case"rectRot":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+d,r-o),n.lineTo(t+h,r+a),n.lineTo(t-d,r+o),n.closePath();break;case"crossRot":v+=qi;case"cross":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"star":h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o),v+=qi,h=Math.cos(v)*(i?i/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(i?i/2:g),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"line":o=i?i/2:Math.cos(v)*g,a=Math.sin(v)*g,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(i?i/2:g),r+Math.sin(v)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ym(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function rx(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ix(n){n.restore()}function Kxe(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Xxe(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Qxe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),vn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Jxe(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function Zxe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function bm(n,e,t,r,i,s={}){const o=dn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,Qxe(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Zxe(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),vn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),Jxe(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function jy(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Lt,Lt,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Lt,pr,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,pr,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-pr,!0),n.lineTo(t+o.topLeft,r)}const ewe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,twe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nwe(n,e){const t=(""+n).match(ewe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const rwe=n=>+n||0;function ZK(n,e){const t={},r=bt(e),i=r?Object.keys(e):e,s=bt(n)?r?o=>yt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=rwe(s(o));return t}function iwe(n){return ZK(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(n){return ZK(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Sr(n){const e=iwe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gn(n,e){n=n||{},e=e||Cn.font;let t=yt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=yt(n.style,e.style);r&&!(""+r).match(twe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:yt(n.family,e.family),lineHeight:nwe(yt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:yt(n.weight,e.weight),string:""};return i.string=Vxe(i),i}function q0(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function swe(n,e,t){const{min:r,max:i}=n,s=HK(e,(i-r)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Bc(n,e){return Object.assign(Object.create(n),e)}function rR(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=rX("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>rR([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return tX(a,l,()=>fwe(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return F4(a).includes(l)},ownKeys(a){return F4(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Qh(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:eX(n,r),setContext:s=>Qh(n,s,t,r),override:s=>Qh(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return tX(s,o,()=>awe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function eX(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:ei(t)?t:()=>t,isIndexable:ei(r)?r:()=>r}}const owe=(n,e)=>n?n+QO(e):e,iR=(n,e)=>bt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tX(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function awe(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return ei(a)&&o.isScriptable(e)&&(a=lwe(e,a,n,t)),dn(a)&&a.length&&(a=cwe(e,a,n,o.isIndexable)),iR(e,a)&&(a=Qh(a,i,s&&s[e],o)),a}function lwe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||r);return a.delete(n),iR(n,l)&&(l=sR(i._scopes,i,n,l)),l}function cwe(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(bt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=sR(c,i,n,u);e.push(Qh(h,s,o&&o[n],a))}}return e}function nX(n,e,t){return ei(n)?n(e,t):n}const uwe=(n,e)=>n===!0?e:typeof n=="string"?vm(e,n):void 0;function hwe(n,e,t,r,i){for(const s of e){const o=uwe(t,s);if(o){n.add(o);const a=nX(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function sR(n,e,t,r){const i=e._rootScopes,s=nX(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let l=L4(a,o,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=L4(a,o,s,l,r),l===null)?!1:rR(Array.from(a),[""],i,s,()=>dwe(e,t,r))}function L4(n,e,t,r,i){for(;t;)t=hwe(n,e,t,r,i);return t}function dwe(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return dn(i)&&bt(t)?t:i||{}}function fwe(n,e,t,r){let i;for(const s of e)if(i=rX(owe(s,n),t),typeof i<"u")return iR(n,i)?sR(t,r,n,i):i}function rX(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function F4(n){let e=n._keys;return e||(e=n._keys=pwe(n._scopes)),e}function pwe(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const mwe=Number.EPSILON||1e-14,Jh=(n,e)=>e<n.length&&!n[e].skip&&n[e],iX=n=>n==="x"?"y":"x";function gwe(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=Xh(s,i),l=Xh(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function vwe(n,e,t){const r=n.length;let i,s,o,a,l,c=Jh(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Jh(n,u+1),!(!l||!c)){if(cp(e[u],0,mwe)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function ywe(n,e,t="x"){const r=iX(t),i=n.length;let s,o,a,l=Jh(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Jh(n,c+1),!a)continue;const u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function bwe(n,e="x"){const t=iX(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Jh(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=Jh(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?Vh(i[o-1])!==Vh(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}vwe(n,i,s),ywe(n,s,e)}function U0(n,e,t){return Math.max(Math.min(n,t),e)}function xwe(n,e){let t,r,i,s,o,a=ym(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&ym(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=U0(i.cp1x,e.left,e.right),i.cp1y=U0(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=U0(i.cp2x,e.left,e.right),i.cp2y=U0(i.cp2y,e.top,e.bottom)))}function wwe(n,e,t,r,i){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")bwe(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=gwe(c,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&xwe(n,t)}function oR(){return typeof window<"u"&&typeof document<"u"}function aR(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function By(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const sx=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function _we(n,e){return sx(n).getPropertyValue(e)}const Swe=["top","right","bottom","left"];function cc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=Swe[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const kwe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Cwe(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(kwe(i,s,n.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Il(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=sx(t),s=i.boxSizing==="border-box",o=cc(i,"padding"),a=cc(i,"border","width"),{x:l,y:c,box:u}=Cwe(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*t.width/r),y:Math.round((c-d)/m*t.height/r)}}function Ewe(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&aR(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=sx(s),l=cc(a,"border","width"),c=cc(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=By(a.maxWidth,s,"clientWidth"),i=By(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Ly,maxHeight:i||Ly}}const Ba=n=>Math.round(n*10)/10;function Twe(n,e,t,r){const i=sx(n),s=cc(i,"margin"),o=By(i.maxWidth,n,"clientWidth")||Ly,a=By(i.maxHeight,n,"clientHeight")||Ly,l=Ewe(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=cc(i,"border","width"),f=cc(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ba(Math.min(c,o,l.maxWidth)),u=Ba(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ba(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Ba(Math.floor(u*r))),{width:c,height:u}}function $4(n,e,t){const r=e||1,i=Ba(n.height*r),s=Ba(n.width*r);n.height=Ba(n.height),n.width=Ba(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Mwe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};oR()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function j4(n,e){const t=_we(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Pl(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Iwe(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Pwe(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Pl(n,i,t),a=Pl(i,s,t),l=Pl(s,e,t),c=Pl(o,a,t),u=Pl(a,l,t);return Pl(c,u,t)}const Owe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Rwe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Xu(n,e,t){return n?Owe(e,t):Rwe()}function sX(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function oX(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function aX(n){return n==="angle"?{between:$y,compare:Oxe,normalize:ya}:{between:Ff,compare:(e,t)=>e-t,normalize:e=>e}}function B4({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function Dwe(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=aX(r),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Awe(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=aX(r),{start:u,end:h,loop:d,style:f}=Dwe(n,e,t),m=[];let g=!1,v=null,y,b,w;const S=()=>l(i,w,y)&&a(i,w)!==0,_=()=>a(s,y)===0||l(s,w,y),k=()=>g||S(),C=()=>!g||_();for(let T=u,O=u;T<=h;++T)b=e[T%o],!b.skip&&(y=c(b[r]),y!==w&&(g=l(y,i,s),v===null&&k()&&(v=a(y,i)===0?T:O),v!==null&&C()&&(m.push(B4({start:v,end:T,loop:d,count:o,style:f})),v=null),O=T,w=y));return v!==null&&m.push(B4({start:v,end:h,loop:d,count:o,style:f})),m}function Nwe(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Awe(r[i],n.points,e);s.length&&t.push(...s)}return t}function Lwe(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Fwe(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function $we(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=Lwe(t,i,s,r);if(r===!0)return z4(n,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return z4(n,Fwe(t,o,l,c),t,e)}function z4(n,e,t,r){return!r||!r.setContext||!t?e:jwe(n,e,t,r)}function jwe(n,e,t,r){const i=n._chart.getContext(),s=q4(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,h=e[0].start,d=h;function f(m,g,v,y){const b=a?-1:1;if(m!==g){for(m+=l;t[m%l].skip;)m-=b;for(;t[g%l].skip;)g+=b;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const m of e){h=a?h:m.start;let g=t[h%l],v;for(d=h+1;d<=m.end;d++){const y=t[d%l];v=q4(r.setContext(Bc(i,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Bwe(v,u)&&f(h,d-1,m.loop,u),g=y,u=v}h<d-1&&f(h,d-1,m.loop,u)}return c}function q4(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Bwe(n,e){if(!e)return!1;const t=[],r=function(i,s){return tR(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function H0(n,e,t){return n.options.clip?n[t]:e[t]}function zwe(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:H0(t,e,"left"),right:H0(t,e,"right"),top:H0(r,e,"top"),bottom:H0(r,e,"bottom")}:e}function qwe(n,e){const t=e._clip;if(t.disabled)return!1;const r=zwe(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Uwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=KK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ko=new Uwe;const U4="transparent",Hwe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=R4(n||U4),i=r.valid&&R4(e||U4);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Wwe{constructor(e,t,r,i){const s=t[r];i=q0([e.to,i,s,e.from]);const o=q0([e.from,s,i]);this._active=!0,this._fn=e.fn||Hwe[e.type||typeof o],this._easing=up[e.easing]||up.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=q0([e.to,t,i,e.from]),this._from=q0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class lR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!bt(e))return;const t=Object.keys(Cn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!bt(s))return;const o={};for(const a of t)o[a]=s[a];(dn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=Gwe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Ywe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new Wwe(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ko.add(this._chart,r),!0}}function Ywe(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Gwe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function H4(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Vwe(n,e,t){if(t===!1)return!1;const r=H4(n,t),i=H4(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Kwe(n){let e,t,r,i;return bt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function lX(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function W4(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,r.all)continue;break}c=n.values[l],ii(c)&&(s||e===0||Vh(e)===Vh(c))&&(e+=c)}return!u&&!r.all?0:e}function Xwe(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:n[u]};return a}function U1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Qwe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Jwe(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function Zwe(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Y4(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function G4(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Qwe(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const m=e[f],{[l]:g,[c]:v}=m,y=m._stacks||(m._stacks={});d=y[c]=Zwe(i,u,g),d[a]=v,d._top=Y4(d,o,!0,r.type),d._bottom=Y4(d,o,!1,r.type);const b=d._visualValues||(d._visualValues={});b[a]=v}}function H1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function e1e(n,e){return Bc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function t1e(n,e,t){return Bc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ff(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const W1=n=>n==="reset"||n==="none",V4=(n,e)=>e?n:Object.assign({},n),n1e=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:lX(t,!0),values:null};class dp{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=U1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ff(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,s=t.xAxisID=yt(r.xAxisID,H1(e,"x")),o=t.yAxisID=yt(r.yAxisID,H1(e,"y")),a=t.rAxisID=yt(r.rAxisID,H1(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,o,a),u=t.vAxisID=i(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&I4(this._data,this),e._stacked&&ff(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(bt(t)){const i=this._cachedMeta;this._data=Xwe(t,i)}else if(r!==t){if(r){I4(r,this);const i=this._cachedMeta;ff(i),i._parsed=[]}t&&Object.isExtensible(t)&&Nxe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=U1(t.vScale,t),t.stack!==r.stack&&(i=!0,ff(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(G4(this,t._parsed),t._stacked=U1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{dn(i[e])?d=this.parseArrayData(r,i,e,t):bt(i[e])?d=this.parseObjectData(r,i,e,t):d=this.parsePrimitiveData(r,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&G4(this,d)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+r,h[d]={[a]:u||s.parse(c[m],m),[l]:o.parse(t[m],m)};return h}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=t[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=t[d],c[u]={x:s.parse(vm(f,a),d),y:o.parse(vm(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:lX(i,!0),values:t._stacks[e.axis]._visualValues};return W4(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=W4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=n1e(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Jwe(a);let d,f;function m(){f=i[d];const g=f[a.axis];return!ii(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ii(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Kwe(yt(this.options.clip,Vwe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=t1e(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=e1e(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&ki(r);if(a)return V4(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Cn.elements[e]),m=()=>this.getContext(r,i,t),g=c.resolveNamedOptions(d,f,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(V4(g,l))),g}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,t))}const c=new lR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||W1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){W1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!W1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&ff(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(dp,"defaults",{}),ue(dp,"datasetElementType",null),ue(dp,"dataElementType",null);function r1e(n,e,t){let r=1,i=1,s=0,o=0;if(e<fr){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,S,_)=>$y(w,a,l,!0)?1:Math.max(S,S*t,_,_*t),m=(w,S,_)=>$y(w,a,l,!0)?-1:Math.min(S,S*t,_,_*t),g=f(0,c,h),v=f(pr,u,d),y=m(Lt,c,h),b=m(Lt+pr,u,d);r=(g-y)/2,i=(v-b)/2,s=-(g+y)/2,o=-(v+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class $f extends dp{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(bt(r[e])){const{key:l="value"}=this._parsing;s=c=>+vm(r[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return nr(this.options.rotation-90)}_getCircumference(){return nr(this.options.circumference)}_getRotationExtents(){let e=fr,t=-fr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(xxe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:g}=r1e(h,u,l),v=(r.width-o)/d,y=(r.height-o)/f,b=Math.max(Math.min(v,y)/2,0),w=HK(this.options.radius,b),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/fr)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(t,i);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,s);for(b=t;b<t+r;++b){const w=this._circumference(b,s),S=e[b],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:m,innerRadius:f};v&&(_.options=g||this.resolveDataElementOptions(b,S.active?"active":i)),y+=w,this.updateElement(S,b,_,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?fr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=nR(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ue($f,"id","doughnut"),ue($f,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ue($f,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ue($f,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});function Sl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cR{constructor(e){ue(this,"options");this.options=e||{}}static override(e){Object.assign(cR.prototype,e)}init(){}formats(){return Sl()}parse(){return Sl()}format(){return Sl()}add(){return Sl()}diff(){return Sl()}startOf(){return Sl()}endOf(){return Sl()}}var i1e={_date:cR};function s1e(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?Dxe:cI;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(s,e,t-h),f=c(s,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!vn(g[h.axis]));u.lo-=Math.max(0,f);const m=d.slice(u.hi).findIndex(g=>!vn(g[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function ox(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=s1e(s[a],e,o,i);for(let f=h;f<=d;++f){const m=u[f];m.skip||r(m,c,f)}}}function o1e(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Y1(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||ox(n,t,e,function(a,l,c){!i&&!ym(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function a1e(n,e,t,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=lI(o,{x:e.x,y:e.y});$y(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return ox(n,t,e,s),i}function l1e(n,e,t,r,i,s){let o=[];const a=o1e(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!f)return;const v=a(e,m);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return ox(n,t,e,c),o}function G1(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?a1e(n,e,t,i):l1e(n,e,t,r,i,s)}function K4(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return ox(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var c1e={modes:{index(n,e,t,r){const i=Il(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?Y1(n,i,s,r,o):G1(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=Il(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?Y1(n,i,s,r,o):G1(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){const i=Il(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Y1(n,i,s,r,o)},nearest(n,e,t,r){const i=Il(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return G1(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=Il(e,n);return K4(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Il(e,n);return K4(n,i,"y",t.intersect,r)}}};const cX=["left","top","right","bottom"];function pf(n,e){return n.filter(t=>t.pos===e)}function X4(n,e){return n.filter(t=>cX.indexOf(t.pos)===-1&&t.box.axis===e)}function mf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function u1e(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function h1e(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!cX.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function d1e(n,e){const t=h1e(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}function f1e(n){const e=u1e(n),t=mf(e.filter(c=>c.box.fullSize),!0),r=mf(pf(e,"left"),!0),i=mf(pf(e,"right")),s=mf(pf(e,"top"),!0),o=mf(pf(e,"bottom")),a=X4(e,"x"),l=X4(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:pf(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Q4(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function uX(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function p1e(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!bt(i)){t.size&&(n[i]-=t.size);const h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&uX(o,s.getPadding());const a=Math.max(0,e.outerWidth-Q4(o,n,"left","right")),l=Math.max(0,e.outerHeight-Q4(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function m1e(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function g1e(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function jf(n,e,t,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,g1e(a.horizontal,e));const{same:h,other:d}=p1e(e,t,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&jf(i,e,t,r)||u}function W0(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function J4(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;ki(c.start)&&(o=c.start),l.fullSize?W0(l,i.left,o,t.outerWidth-i.right-i.left,d):W0(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;ki(c.start)&&(s=c.start),l.fullSize?W0(l,s,i.top,d,t.outerHeight-i.bottom-i.top):W0(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var Yi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Sr(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=f1e(n.boxes),l=a.vertical,c=a.horizontal;Bt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);uX(d,Sr(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),m=d1e(l.concat(c),h);jf(a.fullSize,f,h,m),jf(l,f,h,m),jf(c,f,h,m)&&jf(l,f,h,m),m1e(f),J4(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,J4(a.rightAndBottom,f,h,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Bt(a.chartArea,g=>{const v=g.box;Object.assign(v,n.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class hX{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class v1e extends hX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ov="$chartjs",y1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Z4=n=>n===null||n==="";function b1e(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Ov]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Z4(i)){const s=j4(n,"width");s!==void 0&&(n.width=s)}if(Z4(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=j4(n,"height");s!==void 0&&(n.height=s)}return n}const dX=Mwe?{passive:!0}:!1;function x1e(n,e,t){n&&n.addEventListener(e,t,dX)}function w1e(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,dX)}function _1e(n,e){const t=y1e[n.type]||n.type,{x:r,y:i}=Il(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function zy(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function S1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||zy(a.addedNodes,r),o=o&&!zy(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function k1e(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||zy(a.removedNodes,r),o=o&&!zy(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const xm=new Map;let eL=0;function fX(){const n=window.devicePixelRatio;n!==eL&&(eL=n,xm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function C1e(n,e){xm.size||window.addEventListener("resize",fX),xm.set(n,e)}function E1e(n){xm.delete(n),xm.size||window.removeEventListener("resize",fX)}function T1e(n,e,t){const r=n.canvas,i=r&&aR(r);if(!i)return;const s=XK((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),C1e(n,s),o}function V1(n,e,t){t&&t.disconnect(),e==="resize"&&E1e(n)}function M1e(n,e,t){const r=n.canvas,i=XK(s=>{n.ctx!==null&&t(_1e(s,n))},n);return x1e(r,e,i),i}class I1e extends hX{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(b1e(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Ov])return!1;const r=t[Ov].initial;["height","width"].forEach(s=>{const o=r[s];vn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[Ov],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:S1e,detach:k1e,resize:T1e}[t]||M1e;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:V1,detach:V1,resize:V1}[t]||w1e)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Twe(e,t,r,i)}isAttached(e){const t=e&&aR(e);return!!(t&&t.isConnected)}}function P1e(n){return!oR()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?v1e:I1e}var sv;let ai=(sv=class{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},ue(sv,"defaults",{}),ue(sv,"defaultRoutes"),sv);function O1e(n,e){const t=n.options.ticks,r=R1e(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?A1e(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return N1e(e,c,s,o/i),c;const u=D1e(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Y0(e,c,u,vn(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Y0(e,c,u,s[h],s[h+1]);return Y0(e,c,u,l,vn(f)?e.length:l+f),c}return Y0(e,c,u),c}function R1e(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function D1e(n,e,t){const r=L1e(n),i=e.length/t;if(!r)return Math.max(i,1);const s=Txe(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function A1e(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function N1e(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Y0(n,e,t,r,i){const s=yt(r,0),o=Math.min(yt(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function L1e(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const F1e=n=>n==="left"?"right":n==="right"?"left":n,tL=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,nL=(n,e)=>Math.min(e||n,n);function rL(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function $1e(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function j1e(n,e){Bt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function gf(n){return n.drawTicks?n.tickLength:0}function iL(n,e){if(!n.display)return 0;const t=Gn(n.font,e),r=Sr(n.padding);return(dn(n.text)?n.text.length:1)*t.lineHeight+r.height}function B1e(n,e){return Bc(n,{scale:e,type:"scale"})}function z1e(n,e,t){return Bc(n,{tick:t,index:e,type:"tick"})}function q1e(n,e,t){let r=eR(n);return(t&&e!=="right"||!t&&e==="right")&&(r=F1e(r)),r}function U1e(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,m;const g=o-i,v=a-s;if(n.isHorizontal()){if(f=xr(r,s,a),bt(t)){const y=Object.keys(t)[0],b=t[y];m=u[y].getPixelForValue(b)+g-e}else t==="center"?m=(c.bottom+c.top)/2+g-e:m=tL(n,t,e);d=a-s}else{if(bt(t)){const y=Object.keys(t)[0],b=t[y];f=u[y].getPixelForValue(b)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=tL(n,t,e);m=xr(r,o,i),h=t==="left"?-pr:pr}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class xd extends ai{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Ls(e,Number.POSITIVE_INFINITY),t=Ls(t,Number.NEGATIVE_INFINITY),r=Ls(r,Number.POSITIVE_INFINITY),i=Ls(i,Number.NEGATIVE_INFINITY),{min:Ls(e,r),max:Ls(t,i),minDefined:ii(e),maxDefined:ii(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Ls(t,Ls(r,t)),max:Ls(r,Ls(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=swe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?rL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=O1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Wt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=nL(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Ks(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-gf(e.grid)-t.padding-iL(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=GK(Math.min(Math.asin(Ks((u.highest.height+6)/a,-1,1)),Math.asin(Ks(l/c,-1,1))-Math.asin(Ks(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=iL(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=gf(s)+l):(e.height=this.maxHeight,e.width=gf(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,m=nr(this.labelRotation),g=Math.cos(m),v=Math.sin(m);if(a){const y=r.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*t.height):(d=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)vn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=rL(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/nL(t,r));let c=0,u=0,h,d,f,m,g,v,y,b,w,S,_;for(h=0;h<t;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=v=g.string,y=s[v]=s[v]||{data:{},gc:[]},b=g.lineHeight,w=S=0,!vn(m)&&!dn(m))w=A4(i,y.data,y.gc,w,m),S=b;else if(dn(m))for(d=0,f=m.length;d<f;++d)_=m[d],!vn(_)&&!dn(_)&&(w=A4(i,y.data,y.gc,w,_),S+=b);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}j1e(s,t);const k=o.indexOf(c),C=a.indexOf(u),T=O=>({width:o[O]||0,height:a[O]||0});return{first:T(0),last:T(t-1),widest:T(k),highest:T(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Rxe(this._alignToPixels?_l(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=z1e(this.getContext(),e,r))}return this.$context||(this.$context=B1e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=nr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=gf(s),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,v=g/2,y=function(L){return _l(r,L,g)};let b,w,S,_,k,C,T,O,R,D,F,N;if(o==="top")b=y(this.bottom),C=this.bottom-d,O=b-v,D=y(e.top)+v,N=e.bottom;else if(o==="bottom")b=y(this.top),D=e.top,N=y(e.bottom)-v,C=b+v,O=this.top+d;else if(o==="left")b=y(this.right),k=this.right-d,T=b-v,R=y(e.left)+v,F=e.right;else if(o==="right")b=y(this.left),R=e.left,F=y(e.right)-v,k=b+v,T=this.left+d;else if(t==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(bt(o)){const L=Object.keys(o)[0],B=o[L];b=y(this.chart.scales[L].getPixelForValue(B))}D=e.top,N=e.bottom,C=b+v,O=C+d}else if(t==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(bt(o)){const L=Object.keys(o)[0],B=o[L];b=y(this.chart.scales[L].getPixelForValue(B))}k=b-v,T=k-d,R=e.left,F=e.right}const z=yt(i.ticks.maxTicksLimit,h),$=Math.max(1,Math.ceil(h/z));for(w=0;w<h;w+=$){const L=this.getContext(w),B=s.setContext(L),j=a.setContext(L),q=B.lineWidth,W=B.color,V=j.dash||[],X=j.dashOffset,Z=B.tickWidth,H=B.tickColor,K=B.tickBorderDash||[],Y=B.tickBorderDashOffset;S=$1e(this,w,l),S!==void 0&&(_=_l(r,S,q),c?k=T=R=F=_:C=O=D=N=_,f.push({tx1:k,ty1:C,tx2:T,ty2:O,x1:R,y1:D,x2:F,y2:N,width:q,color:W,borderDash:V,borderDashOffset:X,tickWidth:Z,tickColor:H,tickBorderDash:K,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=gf(r.grid),f=d+u,m=h?-u:f,g=-nr(this.labelRotation),v=[];let y,b,w,S,_,k,C,T,O,R,D,F,N="middle";if(i==="top")k=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(d);C=$.textAlign,_=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(d);C=$.textAlign,_=$.x}else if(t==="x"){if(i==="center")k=(e.top+e.bottom)/2+f;else if(bt(i)){const $=Object.keys(i)[0],L=i[$];k=this.chart.scales[$].getPixelForValue(L)+f}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")_=(e.left+e.right)/2-f;else if(bt(i)){const $=Object.keys(i)[0],L=i[$];_=this.chart.scales[$].getPixelForValue(L)}C=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?N="top":l==="end"&&(N="bottom"));const z=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){w=a[y],S=w.label;const $=s.setContext(this.getContext(y));T=this.getPixelForTick(y)+s.labelOffset,O=this._resolveTickFontOptions(y),R=O.lineHeight,D=dn(S)?S.length:1;const L=D/2,B=$.color,j=$.textStrokeColor,q=$.textStrokeWidth;let W=C;o?(_=T,C==="inner"&&(y===b-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?c==="near"||g!==0?F=-D*R+R/2:c==="center"?F=-z.highest.height/2-L*R+R:F=-z.highest.height+R/2:c==="near"||g!==0?F=R/2:c==="center"?F=z.highest.height/2-L*R:F=z.highest.height-D*R,h&&(F*=-1),g!==0&&!$.showLabelBackdrop&&(_+=R/2*Math.sin(g))):(k=T,F=(1-D)*R/2);let V;if($.showLabelBackdrop){const X=Sr($.backdropPadding),Z=z.heights[y],H=z.widths[y];let K=F-X.top,Y=0-X.left;switch(N){case"middle":K-=Z/2;break;case"bottom":K-=Z;break}switch(C){case"center":Y-=H/2;break;case"right":Y-=H;break;case"inner":y===b-1?Y-=H:y>0&&(Y-=H/2);break}V={left:Y,top:K,width:H+X.width,height:Z+X.height,color:$.backdropColor}}v.push({label:S,font:O,textOffset:F,options:{rotation:g,color:B,strokeColor:j,strokeWidth:q,textAlign:W,textBaseline:N,translation:[_,k],backdrop:V}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-nr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const l=i[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=_l(e,this.left,o)-o/2,u=_l(e,this.right,a)+a/2,h=d=l):(h=_l(e,this.top,o)-o/2,d=_l(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&rx(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;bm(r,c,0,u,l,a)}i&&ix(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Gn(r.font),o=Sr(r.padding),a=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||bt(t)?(l+=o.bottom,dn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=U1e(this,l,t,a);bm(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:q1e(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=yt(e.grid&&e.grid.z,-1),i=yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xd.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Gn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class G0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Y1e(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,H1e(e,o,r),this.override&&Cn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Cn[i]&&(delete Cn[i][r],this.override&&delete Ec[r])}}function H1e(n,e,t){const r=gm(Object.create(null),[t?Cn.get(t):{},Cn.get(e),n.defaults]);Cn.set(e,r),n.defaultRoutes&&W1e(e,n.defaultRoutes),n.descriptors&&Cn.describe(e,n.descriptors)}function W1e(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");Cn.route(s,i,l,a)})}function Y1e(n){return"id"in n&&"defaults"in n}class G1e{constructor(){this.controllers=new G0(dp,"datasets",!0),this.elements=new G0(ai,"elements"),this.plugins=new G0(Object,"plugins"),this.scales=new G0(xd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Bt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=QO(e);Wt(r["before"+i],[],r),t[e](r),Wt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Bs=new G1e;class V1e{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[t,i,s.options];if(Wt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){vn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=yt(r.options&&r.options.plugins,{}),s=K1e(r);return i===!1&&!t?[]:Q1e(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function K1e(n){const e={},t=[],r=Object.keys(Bs.plugins.items);for(let s=0;s<r.length;s++)t.push(Bs.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function X1e(n,e){return!e&&n===!1?null:n===!0?{}:n}function Q1e(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=X1e(r[l],i);c!==null&&s.push({plugin:a,options:J1e(n.config,{plugin:a,local:t[l]},c,o)})}return s}function J1e(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dI(n,e){const t=Cn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Z1e(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function e_e(n,e){return n===e?"_index_":"_value_"}function sL(n){if(n==="x"||n==="y"||n==="r")return n}function t_e(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fI(n,...e){if(sL(n))return n;for(const t of e){const r=t.axis||t_e(t.position)||n.length>1&&sL(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function oL(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function n_e(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return oL(n,"x",t[0])||oL(n,"y",t[0])}return{}}function r_e(n,e){const t=Ec[n.type]||{scales:{}},r=e.scales||{},i=dI(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!bt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=fI(o,a,n_e(o,n),Cn.scales[a.type]),c=e_e(l,i),u=t.scales||{};s[o]=lp(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||dI(a,e),u=(Ec[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=Z1e(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),lp(s[f],[{axis:d},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];lp(a,[Cn.scales[a.type],Cn.scale])}),s}function pX(n){const e=n.options||(n.options={});e.plugins=yt(e.plugins,{}),e.scales=r_e(n,e)}function mX(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function i_e(n){return n=n||{},n.data=mX(n.data),pX(n),n}const aL=new Map,gX=new Set;function V0(n,e){let t=aL.get(n);return t||(t=e(),aL.set(n,t),gX.add(t)),t}const vf=(n,e,t)=>{const r=vm(e,t);r!==void 0&&n.add(r)};class s_e{constructor(e){this._config=i_e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return V0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return V0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return V0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return V0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>vf(l,e,h))),u.forEach(h=>vf(l,i,h)),u.forEach(h=>vf(l,Ec[s]||{},h)),u.forEach(h=>vf(l,Cn,h)),u.forEach(h=>vf(l,uI,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),gX.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ec[t]||{},Cn.datasets[t]||{},{type:t},Cn,uI]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=lL(this._resolverCache,e,i);let l=o;if(a_e(o,t)){s.$shared=!1,r=ei(r)?r():r;const c=this.createResolver(e,r,a);l=Qh(o,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=lL(this._resolverCache,e,r);return bt(t)?Qh(s,t,void 0,i):s}}function lL(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:rR(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const o_e=n=>bt(n)&&Object.getOwnPropertyNames(n).some(e=>ei(n[e]));function a_e(n,e){const{isScriptable:t,isIndexable:r}=eX(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(ei(a)||o_e(a))||o&&dn(a))return!0}return!1}var l_e="4.5.1";const c_e=["top","bottom","left","right","chartArea"];function cL(n,e){return n==="top"||n==="bottom"||c_e.indexOf(n)===-1&&e==="x"}function uL(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function hL(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[n],e)}function u_e(n){const e=n.chart,t=e.options.animation;Wt(t&&t.onProgress,[n],e)}function vX(n){return oR()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rv={},dL=n=>{const e=vX(n);return Object.values(Rv).filter(t=>t.canvas===e).pop()};function h_e(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function d_e(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class gs{static register(...e){Bs.add(...e),fL()}static unregister(...e){Bs.remove(...e),fL()}constructor(e,t){const r=this.config=new s_e(t),i=vX(e),s=dL(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||P1e(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=bxe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new V1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Fxe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Rv[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ko.listen(this,"complete",hL),ko.listen(this,"progress",u_e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return vn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return N4(this.canvas,this.ctx),this}stop(){return ko.stop(this),this}resize(e,t){ko.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,$4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Wt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Bt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=fI(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Bt(s,o=>{const a=o.options,l=a.id,c=fI(l,a),u=yt(a.type,o.dtype);(a.position===void 0||cL(a.position,c)!==cL(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=Bs.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Bt(i,(o,a)=>{o||delete r[a]}),Bt(r,o=>{Yi.configure(this,o,o.options),Yi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(uL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||dI(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Bs.getController(a),{datasetElementType:c,dataElementType:u}=Cn.datasets[a];Object.assign(l,{dataElementType:Bs.getElement(u),datasetElementType:c&&Bs.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Bt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Bt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uL("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Bt(this.scales,e=>{Yi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!E4(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;h_e(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!E4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yi.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Bt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,ei(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ko.has(this)?this.attached&&!ko.running(this)&&ko.start(this):(this.draw(),hL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=qwe(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&rx(t,i),e.controller.draw(),i&&ix(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ym(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=c1e.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Bc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);ki(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ko.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),N4(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Bt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Bt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Bt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ay(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),l=Cxe(e),c=d_e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Wt(s.onHover,[e,a,this],this),l&&Wt(s.onClick,[e,a,this],this));const u=!Ay(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}ue(gs,"defaults",Cn),ue(gs,"instances",Rv),ue(gs,"overrides",Ec),ue(gs,"registry",Bs),ue(gs,"version",l_e),ue(gs,"getChart",dL);function fL(){return Bt(gs.instances,n=>n._plugins.invalidate())}function yX(n,e,t=e){n.lineCap=yt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(yt(t.borderDash,e.borderDash)),n.lineDashOffset=yt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=yt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=yt(t.borderWidth,e.borderWidth),n.strokeStyle=yt(t.borderColor,e.borderColor)}function f_e(n,e,t){n.lineTo(t.x,t.y)}function p_e(n){return n.stepped?Kxe:n.tension||n.cubicInterpolationMode==="monotone"?Xxe:f_e}function bX(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function m_e(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=bX(i,t,r),u=p_e(s);let{move:h=!0,reverse:d}=r||{},f,m,g;for(f=0;f<=c;++f)m=i[(a+(d?c-f:f))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,g,m,d,s.stepped),g=m);return l&&(m=i[(a+(d?c:0))%o],u(n,g,m,d,s.stepped)),!!l}function g_e(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=bX(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,m,g,v,y;const b=S=>(o+(c?a-S:S))%s,w=()=>{g!==v&&(n.lineTo(u,v),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(f=i[b(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const S=f.x,_=f.y,k=S|0;k===m?(_<g?g=_:_>v&&(v=_),u=(h*u+S)/++h):(w(),n.lineTo(S,_),m=k,h=0,g=v=_),y=_}w()}function pI(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?g_e:m_e}function v_e(n){return n.stepped?Iwe:n.tension||n.cubicInterpolationMode==="monotone"?Pwe:Pl}function y_e(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),yX(n,e.options),n.stroke(i)}function b_e(n,e,t,r){const{segments:i,options:s}=e,o=pI(e);for(const a of i)yX(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const x_e=typeof Path2D=="function";function w_e(n,e,t,r){x_e&&!e.options.segment?y_e(n,e,t,r):b_e(n,e,t,r)}class Bf extends ai{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;wwe(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$we(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Nwe(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=v_e(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],m=s[d];if(f===m){a.push(f);continue}const g=Math.abs((i-f[t])/(m[t]-f[t])),v=l(f,m,g,r.stepped);v[t]=e[t],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,t,r){return pI(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=pI(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),w_e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ue(Bf,"id","line"),ue(Bf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ue(Bf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ue(Bf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function pL(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Dv extends ai{constructor(t){super();ue(this,"parsed");ue(this,"skip");ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return pL(this,t,"x",r)}inYRange(t,r){return pL(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!ym(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,hI(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ue(Dv,"id","point"),ue(Dv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ue(Dv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const mL=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},__e=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let gL=class extends ai{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Gn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=mL(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,g)=>{const v=r+t/2+s.measureText(m.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:i},c[c.length-1]+=v+a}),h}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,m=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:b,itemHeight:w}=S_e(r,t,s,v,i);y>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,g++,d=f=0),l[y]={left:m,top:f,col:g,width:b,height:w},d=Math.max(d,b),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Xu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=xr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=xr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=xr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=xr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rx(e,this),this._draw(),ix(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Cn.color,l=Xu(e.rtl,this.left,this.width),c=Gn(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=mL(o,h),y=function(k,C,T){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const O=yt(T.lineWidth,1);if(i.fillStyle=yt(T.fillStyle,a),i.lineCap=yt(T.lineCap,"butt"),i.lineDashOffset=yt(T.lineDashOffset,0),i.lineJoin=yt(T.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=yt(T.strokeStyle,a),i.setLineDash(yt(T.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:O},D=l.xPlus(k,m/2),F=C+d;JK(i,R,D,F,o.pointStyleWidth&&m)}else{const R=C+Math.max((h-g)/2,0),D=l.leftForLtr(k,m),F=Ku(T.borderRadius);i.beginPath(),Object.values(F).some(N=>N!==0)?jy(i,{x:D,y:R,w:m,h:g,radius:F}):i.rect(D,R,m,g),i.fill(),O!==0&&i.stroke()}i.restore()},b=function(k,C,T){bm(i,T.text,k,C+v/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:xr(s,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:xr(s,this.top+S+u,this.bottom-t[0].height),line:0},sX(this.ctx,e.textDirection);const _=v+u;this.legendItems.forEach((k,C)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const T=i.measureText(k.text).width,O=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),R=m+d+T;let D=f.x,F=f.y;l.setWidth(this.width),w?C>0&&D+R+u>this.right&&(F=f.y+=_,f.line++,D=f.x=xr(s,this.left+u,this.right-r[f.line])):C>0&&F+_>this.bottom&&(D=f.x=D+t[f.line].width+u,f.line++,F=f.y=xr(s,this.top+S+u,this.bottom-t[f.line].height));const N=l.x(D);if(y(N,F,k),D=$xe(O,D+m+d,w?D+R:this.right,e.rtl),b(l.x(D),F,k),w)f.x+=R+u;else if(typeof k.text!="string"){const z=c.lineHeight;f.y+=xX(k,z)+u}else f.y+=_}),oX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Gn(t.font),i=Sr(t.padding);if(!t.display)return;const s=Xu(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=xr(e.align,h,this.right-d);else{const m=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+xr(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=xr(a,h,h+d);o.textAlign=s.textAlign(eR(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,bm(o,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=Gn(e.font),r=Sr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Ff(e,this.left,this.right)&&Ff(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ff(e,i.left,i.left+i.width)&&Ff(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!E_e(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=__e(i,r);i&&!s&&Wt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Wt(t.onHover,[e,r,this],this)}else r&&Wt(t.onClick,[e,r,this],this)}};function S_e(n,e,t,r,i){const s=k_e(r,n,e,t),o=C_e(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function k_e(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function C_e(n,e,t){let r=n;return typeof e.text!="string"&&(r=xX(e,t)),r}function xX(n,e){const t=n.text?n.text.length:0;return e*t}function E_e(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var T_e={id:"legend",_element:gL,start(n,e,t){const r=n.legend=new gL({ctx:n.ctx,options:t,chart:n});Yi.configure(n,r,t),Yi.addBox(n,r)},stop(n){Yi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Yi.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Sr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class wX extends ai{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=dn(r.text)?r.text.length:1;this._padding=Sr(r.padding);const s=i*Gn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=xr(a,r,s),h=t+e,c=s-r):(o.position==="left"?(u=r+e,h=xr(a,i,t),l=Lt*-.5):(u=s-e,h=xr(a,t,i),l=Lt*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Gn(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);bm(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:eR(t.align),textBaseline:"middle",translation:[o,a]})}}function M_e(n,e){const t=new wX({ctx:n.ctx,options:e,chart:n});Yi.configure(n,t,e),Yi.addBox(n,t),n.titleBlock=t}var I_e={id:"title",_element:wX,start(n,e,t){M_e(n,t)},stop(n){const e=n.titleBlock;Yi.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Yi.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zf={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Xh(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function $s(n,e){return e&&(dn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Co(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function P_e(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function vL(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=Gn(e.bodyFont),c=Gn(e.titleFont),u=Gn(e.footerFont),h=s.length,d=i.length,f=r.length,m=Sr(e.padding);let g=m.height,v=0,y=r.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*S+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const w=function(S){v=Math.max(v,t.measureText(S).width+b)};return t.save(),t.font=c.string,Bt(n.title,w),t.font=l.string,Bt(n.beforeBody.concat(n.afterBody),w),b=e.displayColors?o+2+e.boxPadding:0,Bt(r,S=>{Bt(S.before,w),Bt(S.lines,w),Bt(S.after,w)}),b=0,t.font=u.string,Bt(n.footer,w),t.restore(),v+=m.width,{width:v,height:g}}function O_e(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function R_e(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function D_e(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),R_e(c,n,e,t)&&(c="center"),c}function yL(n,e,t){const r=t.yAlign||e.yAlign||O_e(n,t);return{xAlign:t.xAlign||e.xAlign||D_e(n,e,t,r),yAlign:r}}function A_e(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function N_e(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function bL(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ku(o);let m=A_e(e,a);const g=N_e(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:Ks(m,0,r.width-e.width),y:Ks(g,0,r.height-e.height)}}function K0(n,e,t){const r=Sr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function xL(n){return $s([],Co(n))}function L_e(n,e,t){return Bc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function wL(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const _X={beforeTitle:_o,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:_o,beforeBody:_o,beforeLabel:_o,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return vn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_o,afterBody:_o,beforeFooter:_o,footer:_o,afterFooter:_o};function qr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?_X[e].call(t,r):i}class mI extends ai{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new lR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=L_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=qr(r,"beforeTitle",this,e),s=qr(r,"title",this,e),o=qr(r,"afterTitle",this,e);let a=[];return a=$s(a,Co(i)),a=$s(a,Co(s)),a=$s(a,Co(o)),a}getBeforeBody(e,t){return xL(qr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Bt(e,s=>{const o={before:[],lines:[],after:[]},a=wL(r,s);$s(o.before,Co(qr(a,"beforeLabel",this,s))),$s(o.lines,qr(a,"label",this,s)),$s(o.after,Co(qr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return xL(qr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=qr(r,"beforeFooter",this,e),s=qr(r,"footer",this,e),o=qr(r,"afterFooter",this,e);let a=[];return a=$s(a,Co(i)),a=$s(a,Co(s)),a=$s(a,Co(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(P_e(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Bt(a,u=>{const h=wL(e.callbacks,u);i.push(qr(h,"labelColor",this,u)),s.push(qr(h,"labelPointStyle",this,u)),o.push(qr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=zf[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=vL(this,r),c=Object.assign({},a,l),u=yL(this.chart,r,c),h=bL(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ku(a),{x:d,y:f}=e,{width:m,height:g}=t;let v,y,b,w,S,_;return s==="center"?(S=f+g/2,i==="left"?(v=d,y=v-o,w=S+o,_=S-o):(v=d+m,y=v+o,w=S-o,_=S+o),b=v):(i==="left"?y=d+Math.max(l,u)+o:i==="right"?y=d+m-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,S=w-o,v=y-o,b=y+o):(w=f+g,S=w+o,v=y+o,b=y-o),_=w),{x1:v,x2:y,x3:b,y1:w,y2:S,y3:_}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Xu(r.rtl,this.x,this.width);for(e.x=K0(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",o=Gn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Gn(s.bodyFont),h=K0(this,"left",s),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(d,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hI(e,g,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hI(e,g,v,y)}else{e.lineWidth=bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),v=i.leftForLtr(i.xPlus(d,1),c-2),y=Ku(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,jy(e,{x:g,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),jy(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Gn(r.bodyFont);let d=h.lineHeight,f=0;const m=Xu(r.rtl,this.x,this.width),g=function(T){t.fillText(T,m.x(e.x+f),e.y+d/2),e.y+=d+s},v=m.textAlign(o);let y,b,w,S,_,k,C;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=K0(this,v,r),t.fillStyle=r.bodyColor,Bt(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,k=i.length;S<k;++S){for(y=i[S],b=this.labelTextColors[S],t.fillStyle=b,Bt(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(t,e,S,m,r),d=Math.max(h.lineHeight,l)),_=0,C=w.length;_<C;++_)g(w[_]),d=h.lineHeight;Bt(y.after,g)}f=0,d=h.lineHeight,Bt(this.afterBody,g),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Xu(r.rtl,this.x,this.width);for(e.x=K0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",o=Gn(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Ku(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+c,l+u-m),t.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=zf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=vL(this,e),l=Object.assign({},o,this._size),c=yL(t,e,l),u=bL(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Sr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),sX(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),oX(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Ay(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),l=t||!Ay(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=zf[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}ue(mI,"positioners",zf);var F_e={id:"tooltip",_element:mI,positioners:zf,afterInit(n,e,t){t&&(n.tooltip=new mI({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_X},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $_e=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function j_e(n,e,t,r){const i=n.indexOf(e);if(i===-1)return $_e(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const B_e=(n,e)=>n===null?null:Ks(Math.round(n),0,e);function _L(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class gI extends xd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(vn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:j_e(r,e,yt(t,e),this._addedLabels),B_e(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return _L.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ue(gI,"id","category"),ue(gI,"defaults",{ticks:{callback:_L}});function z_e(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=s||1,m=u-1,{min:g,max:v}=e,y=!vn(o),b=!vn(a),w=!vn(c),S=(v-g)/(h+1);let _=T4((v-g)/m/f)*f,k,C,T,O;if(_<1e-14&&!y&&!b)return[{value:g},{value:v}];O=Math.ceil(v/_)-Math.floor(g/_),O>m&&(_=T4(O*_/m/f)*f),vn(l)||(k=Math.pow(10,l),_=Math.ceil(_*k)/k),i==="ticks"?(C=Math.floor(g/_)*_,T=Math.ceil(v/_)*_):(C=g,T=v),y&&b&&s&&Ixe((a-o)/s,_/1e3)?(O=Math.round(Math.min((a-o)/_,u)),_=(a-o)/O,C=o,T=a):w?(C=y?o:C,T=b?a:T,O=c-1,_=(T-C)/O):(O=(T-C)/_,cp(O,Math.round(O),_/1e3)?O=Math.round(O):O=Math.ceil(O));const R=Math.max(M4(_),M4(C));k=Math.pow(10,vn(l)?R:l),C=Math.round(C*k)/k,T=Math.round(T*k)/k;let D=0;for(y&&(d&&C!==o?(t.push({value:o}),C<o&&D++,cp(Math.round((C+D*_)*k)/k,o,SL(o,S,n))&&D++):C<o&&D++);D<O;++D){const F=Math.round((C+D*_)*k)/k;if(b&&F>a)break;t.push({value:F})}return b&&d&&T!==a?t.length&&cp(t[t.length-1].value,a,SL(a,S,n))?t[t.length-1].value=a:t.push({value:a}):(!b||T===a)&&t.push({value:T}),t}function SL(n,e,{horizontal:t,minRotation:r}){const i=nr(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class q_e extends xd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return vn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=t?i:l,a=l=>s=r?s:l;if(e){const l=Vh(i),c=Vh(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=z_e(i,s);return e.bounds==="ticks"&&Pxe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return nR(e,this.chart.options.locale,this.options.ticks.format)}}class vI extends q_e{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ii(e)?e:0,this.max=ii(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=nr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ue(vI,"id","linear"),ue(vI,"defaults",{ticks:{callback:QK.formatters.numeric}});const ax={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gr=Object.keys(ax);function kL(n,e){return n-e}function CL(n,e){if(vn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ii(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Kh(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function EL(n,e,t,r){const i=Gr.length;for(let s=Gr.indexOf(n);s<i-1;++s){const o=ax[Gr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Gr[s]}return Gr[i-1]}function U_e(n,e,t,r,i){for(let s=Gr.length-1;s>=Gr.indexOf(t);s--){const o=Gr[s];if(ax[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Gr[t?Gr.indexOf(t):0]}function H_e(n){for(let e=Gr.indexOf(n)+1,t=Gr.length;e<t;++e)if(ax[Gr[e]].common)return Gr[e]}function TL(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=ZO(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function W_e(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function ML(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:W_e(n,r,i,t)}class qy extends xd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new i1e._date(e.adapters.date);i.init(t),lp(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:CL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ii(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ii(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Axe(i,s,o);return this._unit=t.unit||(r.autoSkip?EL(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):U_e(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:H_e(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ML(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ks(t,0,o),r=Ks(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||EL(s.minUnit,t,r,this._getLabelCapacity(t)),a=yt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Kh(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)TL(u,d,m);return(d===r||i.bounds==="ticks"||f===1)&&TL(u,d,m),Object.keys(u).sort(kL).map(g=>+g)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return Wt(o,[e,t,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=r[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=nr(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ML(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(CL(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Lxe(e.sort(kL))}}ue(qy,"id","time"),ue(qy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function X0(n,e,t){let r=0,i=n.length-1,s,o,a,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=cI(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=cI(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:l}=n[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class IL extends qy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=X0(t,this.min),this._tableRange=X0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(X0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return X0(this._table,r*this._tableRange+this._minPos,!0)}}ue(IL,"id","timeseries"),ue(IL,"defaults",qy.defaults);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const PL={modes:{point(n,e){return Av(n,e,{intersect:!0})},nearest(n,e,t){return V_e(n,e,t)},x(n,e,t){return Av(n,e,{intersect:t.intersect,axis:"x"})},y(n,e,t){return Av(n,e,{intersect:t.intersect,axis:"y"})}}};function uR(n,e,t){return(PL.modes[t.mode]||PL.modes.nearest)(n,e,t)}function Y_e(n,e,t){return t!=="x"&&t!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,t,!0)}function G_e(n,e,t){return t==="x"?{x:n.x,y:e.y}:t==="y"?{x:e.x,y:n.y}:e}function Av(n,e,t){return n.filter(r=>t.intersect?r.inRange(e.x,e.y):Y_e(r,e,t.axis))}function V_e(n,e,t){let r=Number.POSITIVE_INFINITY;return Av(n,e,t).reduce((i,s)=>{const o=s.getCenterPoint(),a=G_e(e,o,t.axis),l=Xh(e,a);return l<r?(i=[s],r=l):l===r&&i.push(s),i},[]).sort((i,s)=>i._index-s._index).slice(0,1)}function zc(n,e,t){const r=Math.cos(t),i=Math.sin(t),s=e.x,o=e.y;return{x:s+r*(n.x-s)-i*(n.y-o),y:o+i*(n.x-s)+r*(n.y-o)}}const K_e=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,Ul=.001,lx=(n,e,t)=>Math.min(t,Math.max(e,n)),SX=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function X_e(n,e,t){for(const r of Object.keys(n))n[r]=lx(n[r],e,t);return n}function Q_e(n,e,t,r){return!n||!e||t<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(t+r,2)}function kX(n,{x:e,y:t,x2:r,y2:i},s,{borderWidth:o,hitTolerance:a}){const l=(o+a)/2,c=n.x>=e-l-Ul&&n.x<=r+l+Ul,u=n.y>=t-l-Ul&&n.y<=i+l+Ul;return s==="x"?c:(s==="y"||c)&&u}function CX(n,{rect:e,center:t},r,{rotation:i,borderWidth:s,hitTolerance:o}){const a=zc(n,t,nr(-i));return kX(a,e,r,{borderWidth:s,hitTolerance:o})}function qc(n,e){const{centerX:t,centerY:r}=n.getProps(["centerX","centerY"],e);return{x:t,y:r}}function J_e(n,e,t,r=!0){const i=t.split(".");let s=0;for(const o of e.split(".")){const a=i[s++];if(parseInt(o,10)<parseInt(a,10))break;if(K_e(a,o)){if(r)throw new Error(`${n} v${t} is not supported. v${e} or newer is required.`);return!1}}return!0}const EX=n=>typeof n=="string"&&n.endsWith("%"),TX=n=>parseFloat(n)/100,MX=n=>lx(TX(n),0,1),yf=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),Z_e={box:n=>yf(n.centerX,n.centerY),doughnutLabel:n=>yf(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>yf(n.centerX,n.centerY),line:n=>yf(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>yf(n.centerX,n.centerY)};function hR(n,e){return e==="start"?0:e==="end"?n:EX(e)?MX(e)*n:n/2}function il(n,e,t=!0){return typeof e=="number"?e:EX(e)?(t?MX(e):TX(e))*n:n}function eSe(n,e){const{x:t,width:r}=n,i=e.textAlign;return i==="center"?t+r/2:i==="end"||i==="right"?t+r:t}function IX(n,e,{borderWidth:t,position:r,xAdjust:i,yAdjust:s},o){const a=bt(o),l=e.width+(a?o.width:0)+t,c=e.height+(a?o.height:0)+t,u=dR(r),h=OL(n.x,l,i,u.x),d=OL(n.y,c,s,u.y);return{x:h,y:d,x2:h+l,y2:d+c,width:l,height:c,centerX:h+l/2,centerY:d+c/2}}function dR(n,e="center"){return bt(n)?{x:yt(n.x,e),y:yt(n.y,e)}:(n=yt(n,e),{x:n,y:n})}const PX=(n,e)=>n&&n.autoFit&&e<1;function OX(n,e){const t=n.font,r=dn(t)?t:[t];return PX(n,e)?r.map(function(i){const s=Gn(i);return s.size=Math.floor(i.size*e),s.lineHeight=i.lineHeight,Gn(s)}):r.map(i=>Gn(i))}function RX(n){return n&&(ki(n.xValue)||ki(n.yValue))}function OL(n,e,t=0,r){return n-hR(e,r)+t}function wd(n,e,t){const r=t.init;if(r){if(r===!0)return AX(e,t)}else return;return tSe(n,e,t)}function DX(n,e,t){let r=!1;return e.forEach(i=>{ei(n[i])?(r=!0,t[i]=n[i]):ki(t[i])&&delete t[i]}),r}function AX(n,e){const t=e.type||"line";return Z_e[t](n)}function tSe(n,e,t){const r=Wt(t.init,[{chart:n,properties:e,options:t}]);if(r===!0)return AX(e,t);if(bt(r))return r}const K1=new Map,nSe=n=>isNaN(n)||n<=0,rSe=n=>n.reduce(function(e,t){return e+=t.string,e},"");function cx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function ux(n,{x:e,y:t},r){r&&(n.translate(e,t),n.rotate(nr(r)),n.translate(-e,-t))}function Xo(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function _d(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function hx(n,e){const t=e.content;if(cx(t))return{width:il(t.width,e.width),height:il(t.height,e.height)};const r=OX(e),i=e.textStrokeWidth,s=dn(t)?t:[t],o=s.join()+rSe(r)+i+(n._measureText?"-spriting":"");return K1.has(o)||K1.set(o,aSe(n,s,r,i)),K1.get(o)}function NX(n,e,t){const{x:r,y:i,width:s,height:o}=e;n.save(),_d(n,t);const a=Xo(n,t);n.fillStyle=t.backgroundColor,n.beginPath(),jy(n,{x:r,y:i,w:s,h:o,radius:X_e(Ku(t.borderRadius),0,Math.min(s,o)/2)}),n.closePath(),n.fill(),a&&(n.shadowColor=t.borderShadowColor,n.stroke()),n.restore()}function LX(n,e,t,r){const i=t.content;if(cx(i)){n.save(),n.globalAlpha=uSe(t.opacity,i.style.opacity),n.drawImage(i,e.x,e.y,e.width,e.height),n.restore();return}const s=dn(i)?i:[i],o=OX(t,r),a=t.color,l=dn(a)?a:[a],c=eSe(e,t),u=e.y+t.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=t.textAlign,iSe(n,t)&&lSe(n,{x:c,y:u},s,o),cSe(n,{x:c,y:u},s,{fonts:o,colors:l}),n.restore()}function iSe(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function sSe(n,e,t,r){const{radius:i,options:s}=e,o=s.pointStyle,a=s.rotation;let l=(a||0)*JO;if(cx(o)){n.save(),n.translate(t,r),n.rotate(l),n.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),n.restore();return}nSe(i)||oSe(n,{x:t,y:r,radius:i,rotation:a,style:o,rad:l})}function oSe(n,{x:e,y:t,radius:r,rotation:i,style:s,rad:o}){let a,l,c,u;switch(n.beginPath(),s){default:n.arc(e,t,r,0,fr),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Fy,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),o+=Fy,n.lineTo(e+Math.sin(o)*r,t-Math.cos(o)*r),n.closePath();break;case"rectRounded":u=r*.516,c=r-u,a=Math.cos(o+qi)*c,l=Math.sin(o+qi)*c,n.arc(e-a,t-l,u,o-Lt,o-pr),n.arc(e+l,t-a,u,o-pr,o),n.arc(e+a,t+l,u,o,o+pr),n.arc(e-l,t+a,u,o+pr,o+Lt),n.closePath();break;case"rect":if(!i){c=Math.SQRT1_2*r,n.rect(e-c,t-c,2*c,2*c);break}o+=qi;case"rectRot":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+l,t-a),n.lineTo(e+a,t+l),n.lineTo(e-l,t+a),n.closePath();break;case"crossRot":o+=qi;case"cross":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"star":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a),o+=qi,a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"line":a=Math.cos(o)*r,l=Math.sin(o)*r,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l);break;case"dash":n.moveTo(e,t),n.lineTo(e+Math.cos(o)*r,t+Math.sin(o)*r);break}n.fill()}function aSe(n,e,t,r){n.save();const i=e.length;let s=0,o=r;for(let a=0;a<i;a++){const l=t[Math.min(a,t.length-1)];n.font=l.string;const c=e[a];s=Math.max(s,n.measureText(c).width+r),o+=l.lineHeight}return n.restore(),{width:s,height:o}}function lSe(n,{x:e,y:t},r,i){n.beginPath();let s=0;r.forEach(function(o,a){const l=i[Math.min(a,i.length-1)],c=l.lineHeight;n.font=l.string,n.strokeText(o,e,t+c/2+s),s+=c}),n.stroke()}function cSe(n,{x:e,y:t},r,{fonts:i,colors:s}){let o=0;r.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=i[Math.min(l,i.length-1)],h=u.lineHeight;n.beginPath(),n.font=u.string,n.fillStyle=c,n.fillText(a,e,t+h/2+o),o+=h,n.fill()})}function uSe(n,e){const t=Kh(n)?n:e;return Kh(t)?lx(t,0,1):1}const FX=["left","bottom","top","right"];function hSe(n,e){const{pointX:t,pointY:r,options:i}=e,s=i.callout,o=s&&s.display&&gSe(e,s);if(!o||ySe(e,s,o))return;if(n.save(),n.beginPath(),!Xo(n,s))return n.restore();const{separatorStart:l,separatorEnd:c}=dSe(e,o),{sideStart:u,sideEnd:h}=pSe(e,o,l);(s.margin>0||i.borderWidth===0)&&(n.moveTo(l.x,l.y),n.lineTo(c.x,c.y)),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y);const d=zc({x:t,y:r},e.getCenterPoint(),nr(-e.rotation));n.lineTo(d.x,d.y),n.stroke(),n.restore()}function dSe(n,e){const{x:t,y:r,x2:i,y2:s}=n,o=fSe(n,e);let a,l;return e==="left"||e==="right"?(a={x:t+o,y:r},l={x:a.x,y:s}):(a={x:t,y:r+o},l={x:i,y:a.y}),{separatorStart:a,separatorEnd:l}}function fSe(n,e){const{width:t,height:r,options:i}=n,s=i.callout.margin+i.borderWidth/2;return e==="right"?t+s:e==="bottom"?r+s:-s}function pSe(n,e,t){const{y:r,width:i,height:s,options:o}=n,a=o.callout.start,l=mSe(e,o.callout);let c,u;return e==="left"||e==="right"?(c={x:t.x,y:r+il(s,a)},u={x:c.x+l,y:c.y}):(c={x:t.x+il(i,a),y:t.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function mSe(n,e){const t=e.side;return n==="left"||n==="top"?-t:t}function gSe(n,e){const t=e.position;return FX.includes(t)?t:vSe(n,e)}function vSe(n,e){const{x:t,y:r,x2:i,y2:s,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=n,f={x:u,y:h},m=e.start,g=il(o,m),v=il(a,m),y=[t,t+g,t+g,i],b=[r+v,s,r,s],w=[];for(let S=0;S<4;S++){const _=zc({x:y[S],y:b[S]},f,nr(d));w.push({position:FX[S],distance:Xh(_,{x:l,y:c})})}return w.sort((S,_)=>S.distance-_.distance)[0].position}function ySe(n,e,t){const{pointX:r,pointY:i}=n,s=e.margin;let o=r,a=i;return t==="left"?o+=s:t==="right"?o-=s:t==="top"?a+=s:t==="bottom"&&(a-=s),n.inRange(o,a)}const RL={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function Zh(n,e,t){return e=typeof e=="number"?e:n.parse(e),ii(e)?n.getPixelForValue(e):t}function Tc(n,e,t){const r=e[t];if(r||t==="scaleID")return r;const i=t.charAt(0),s=Object.values(n).filter(o=>o.axis&&o.axis===i);return s.length?s[0].id:i}function $X(n,e){if(n){const t=n.options.reverse,r=Zh(n,e.min,t?e.end:e.start),i=Zh(n,e.max,t?e.start:e.end);return{start:r,end:i}}}function jX(n,e){const{chartArea:t,scales:r}=n,i=r[Tc(r,e,"xScaleID")],s=r[Tc(r,e,"yScaleID")];let o=t.width/2,a=t.height/2;return i&&(o=Zh(i,e.xValue,i.left+i.width/2)),s&&(a=Zh(s,e.yValue,s.top+s.height/2)),{x:o,y:a}}function fR(n,e){const t=n.scales,r=t[Tc(t,e,"xScaleID")],i=t[Tc(t,e,"yScaleID")];if(!r&&!i)return{};let{left:s,right:o}=r||n.chartArea,{top:a,bottom:l}=i||n.chartArea;const c=DL(r,{min:e.xMin,max:e.xMax,start:s,end:o});s=c.start,o=c.end;const u=DL(i,{min:e.yMin,max:e.yMax,start:l,end:a});return a=u.start,l=u.end,{x:s,y:a,x2:o,y2:l,width:o-s,height:l-a,centerX:s+(o-s)/2,centerY:a+(l-a)/2}}function BX(n,e){if(!RX(e)){const t=fR(n,e);let r=e.radius;(!r||isNaN(r))&&(r=Math.min(t.width,t.height)/2,e.radius=r);const i=r*2,s=t.centerX+e.xAdjust,o=t.centerY+e.yAdjust;return{x:s-r,y:o-r,x2:s+r,y2:o+r,centerX:s,centerY:o,width:i,height:i,radius:r}}return xSe(n,e)}function bSe(n,e){const{scales:t,chartArea:r}=n,i=t[e.scaleID],s={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?wSe(i,s,e):_Se(t,s,e),s}function zX(n,e){const t=fR(n,e);return t.initProperties=wd(n,t,e),t.elements=[{type:"label",optionScope:"label",properties:CSe(n,t,e),initProperties:t.initProperties}],t}function xSe(n,e){const t=jX(n,e),r=e.radius*2;return{x:t.x-e.radius+e.xAdjust,y:t.y-e.radius+e.yAdjust,x2:t.x+e.radius+e.xAdjust,y2:t.y+e.radius+e.yAdjust,centerX:t.x+e.xAdjust,centerY:t.y+e.yAdjust,radius:e.radius,width:r,height:r}}function DL(n,e){const t=$X(n,e)||e;return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}function wSe(n,e,t){const r=Zh(n,t.value,NaN),i=Zh(n,t.endValue,r);n.isHorizontal()?(e.x=r,e.x2=i):(e.y=r,e.y2=i)}function _Se(n,e,t){for(const r of Object.keys(RL)){const i=n[Tc(n,t,r)];if(i){const{min:s,max:o,start:a,end:l,startProp:c,endProp:u}=RL[r],h=$X(i,{min:t[s],max:t[o],start:i[a],end:i[l]});e[c]=h.start,e[u]=h.end}}}function SSe({properties:n,options:e},t,r,i){const{x:s,x2:o,width:a}=n;return qX({start:s,end:o,borderWidth:e.borderWidth},{position:r.x,padding:{start:i.left,end:i.right},adjust:e.label.xAdjust,size:t.width})}function kSe({properties:n,options:e},t,r,i){const{y:s,y2:o,height:a}=n;return qX({start:s,end:o,borderWidth:e.borderWidth},{position:r.y,padding:{start:i.top,end:i.bottom},adjust:e.label.yAdjust,size:t.height})}function qX(n,e){const{start:t,end:r,borderWidth:i}=n,{position:s,padding:{start:o,end:a},adjust:l}=e,c=r-i-t-o-a-e.size;return t+i/2+l+hR(c,s)}function CSe(n,e,t){const r=t.label;r.backgroundColor="transparent",r.callout.display=!1;const i=dR(r.position),s=Sr(r.padding),o=hx(n.ctx,r),a=SSe({properties:e,options:t},o,i,s),l=kSe({properties:e,options:t},o,i,s),c=o.width+s.width,u=o.height+s.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:r.rotation}}const yI=["enter","leave"],pR=yI.concat("click");function ESe(n,e,t){e.listened=DX(t,pR,e.listeners),e.moveListened=!1,yI.forEach(r=>{ei(t[r])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(r=>{!e.listened&&ei(r.click)&&(e.listened=!0),e.moveListened||yI.forEach(i=>{ei(r[i])&&(e.listened=!0,e.moveListened=!0)})})}function TSe(n,e,t){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return MSe(n,e,t);case"click":return ISe(n,e,t)}}function MSe(n,e,t){if(!n.moveListened)return;let r;e.type==="mousemove"?r=uR(n.visibleElements,e,t.interaction):r=[];const i=n.hovered;n.hovered=r;const s={state:n,event:e};let o=AL(s,"leave",i,r);return AL(s,"enter",r,i)||o}function AL({state:n,event:e},t,r,i){let s;for(const o of r)i.indexOf(o)<0&&(s=UX(o.options[t]||n.listeners[t],o,e)||s);return s}function ISe(n,e,t){const r=n.listeners,i=uR(n.visibleElements,e,t.interaction);let s;for(const o of i)s=UX(o.options.click||r.click,o,e)||s;return s}function UX(n,e,t){return Wt(n,[e.$context,t])===!0}const Uy=["afterDraw","beforeDraw"];function PSe(n,e,t){const r=e.visibleElements;e.hooked=DX(t,Uy,e.hooks),e.hooked||r.forEach(i=>{e.hooked||Uy.forEach(s=>{ei(i.options[s])&&(e.hooked=!0)})})}function NL(n,e,t){if(n.hooked){const r=e.options[t]||n.hooks[t];return Wt(r,[e.$context])}}function OSe(n,e,t){const r=LSe(n.scales,e,t);let i=LL(e,r,"min","suggestedMin");i=LL(e,r,"max","suggestedMax")||i,i&&ei(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function RSe(n,e){for(const t of n)ASe(t,e)}function LL(n,e,t,r){if(ii(e[t])&&!DSe(n.options,t,r)){const i=n[t]!==e[t];return n[t]=e[t],i}}function DSe(n,e,t){return ki(n[e])||ki(n[t])}function ASe(n,e){for(const t of["scaleID","xScaleID","yScaleID"]){const r=Tc(e,n,t);r&&!e[r]&&NSe(n,t)&&console.warn(`No scale found with id '${r}' for annotation '${n.id}'`)}}function NSe(n,e){if(e==="scaleID")return!0;const t=e.charAt(0);for(const r of["Min","Max","Value"])if(ki(n[t+r]))return!0;return!1}function LSe(n,e,t){const r=e.axis,i=e.id,s=r+"ScaleID",o={min:yt(e.min,Number.NEGATIVE_INFINITY),max:yt(e.max,Number.POSITIVE_INFINITY)};for(const a of t)a.scaleID===i?FL(a,e,["value","endValue"],o):Tc(n,a,s)===i&&FL(a,e,[r+"Min",r+"Max",r+"Value"],o);return o}function FL(n,e,t,r){for(const i of t){const s=n[i];if(ki(s)){const o=e.parse(s);r.min=Math.min(r.min,o),r.max=Math.max(r.max,o)}}}class Sd extends ai{inRange(e,t,r,i){const{x:s,y:o}=zc({x:e,y:t},this.getCenterPoint(i),nr(-this.options.rotation));return kX({x:s,y:o},this.getProps(["x","y","x2","y2"],i),r,this.options)}getCenterPoint(e){return qc(this,e)}draw(e){e.save(),ux(e,this.getCenterPoint(),this.options.rotation),NX(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return zX(e,t)}}Sd.id="boxAnnotation";Sd.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Sd.defaultRoutes={borderColor:"color",backgroundColor:"color"};Sd.descriptors={label:{_fallback:!0}};class dx extends ai{inRange(e,t,r,i){return CX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return qc(this,e)}draw(e){const t=this.options;!t.display||!t.content||(qSe(e,this),e.save(),ux(e,this.getCenterPoint(),this.rotation),LX(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const r=FSe(e,t);if(!r)return{};const{controllerMeta:i,point:s,radius:o}=jSe(e,t,r);let a=hx(e.ctx,t);const l=BSe(a,o);PX(t,l)&&(a={width:a.width*l,height:a.height*l});const{position:c,xAdjust:u,yAdjust:h}=t,d=IX(s,a,{borderWidth:0,position:c,xAdjust:u,yAdjust:h});return{initProperties:wd(e,d,t),...d,...i,rotation:t.rotation,_fitRatio:l}}}dx.id="doughnutLabelAnnotation";dx.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};dx.defaultRoutes={};function FSe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(t,r){const i=r.controller;return i instanceof $f&&$Se(n,e,r.data)&&(!t||i.innerRadius<t.controller.innerRadius)&&i.options.circumference>=90?r:t},void 0)}function $Se(n,e,t){if(!e.autoHide)return!0;for(let r=0;r<t.length;r++)if(!t[r].hidden&&n.getDataVisibility(r))return!0}function jSe({chartArea:n},e,t){const{left:r,top:i,right:s,bottom:o}=n,{innerRadius:a,offsetX:l,offsetY:c}=t.controller,u=(r+s)/2+l,h=(i+o)/2+c,d={left:Math.max(u-a,r),right:Math.min(u+a,s),top:Math.max(h-a,i),bottom:Math.min(h+a,o)},f={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},m=e.spacing+e.borderWidth/2,g=a-m,v=f.y>h,y=v?i+m:o-m,b=zSe(y,u,h,g);return{controllerMeta:{_centerX:u,_centerY:h,_radius:g,_counterclockwise:v,...b},point:f,radius:Math.min(a,Math.min(d.right-d.left,d.bottom-d.top)/2)}}function BSe({width:n,height:e},t){const r=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return t*2/r}function zSe(n,e,t,r){const i=Math.pow(t-n,2),s=Math.pow(r,2),o=e*-2,a=Math.pow(e,2)+i-s,l=Math.pow(o,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:fr};const c=(-o-Math.sqrt(l))/2,u=(-o+Math.sqrt(l))/2;return{_startAngle:lI({x:e,y:t},{x:c,y:n}).angle,_endAngle:lI({x:e,y:t},{x:u,y:n}).angle}}function qSe(n,e){const{_centerX:t,_centerY:r,_radius:i,_startAngle:s,_endAngle:o,_counterclockwise:a,options:l}=e;n.save();const c=Xo(n,l);n.fillStyle=l.backgroundColor,n.beginPath(),n.arc(t,r,i,s,o,a),n.closePath(),n.fill(),c&&n.stroke(),n.restore()}class tg extends ai{inRange(e,t,r,i){return CX({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},r,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return qc(this,e)}draw(e){const t=this.options,r=!ki(this._visible)||this._visible;!t.display||!t.content||!r||(e.save(),ux(e,this.getCenterPoint(),this.rotation),hSe(e,this),NX(e,this,t),LX(e,USe(this),t),e.restore())}resolveElementProperties(e,t){let r;if(RX(t))r=jX(e,t);else{const{centerX:a,centerY:l}=fR(e,t);r={x:a,y:l}}const i=Sr(t.padding),s=hx(e.ctx,t),o=IX(r,s,t,i);return{initProperties:wd(e,o,t),pointX:r.x,pointY:r.y,...o,rotation:t.rotation}}}tg.id="labelAnnotation";tg.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};tg.defaultRoutes={borderColor:"color"};function USe({x:n,y:e,width:t,height:r,options:i}){const s=i.borderWidth/2,o=Sr(i.padding);return{x:n+o.left+s,y:e+o.top+s,width:t-o.left-o.right-i.borderWidth,height:r-o.top-o.bottom-i.borderWidth}}const mR=(n,e,t)=>({x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}),bI=(n,e,t)=>mR(e,t,Math.abs((n-e.y)/(t.y-e.y))).x,$L=(n,e,t)=>mR(e,t,Math.abs((n-e.x)/(t.x-e.x))).y,qf=n=>n*n,HSe=(n,e,{x:t,y:r,x2:i,y2:s},o)=>o==="y"?{start:Math.min(r,s),end:Math.max(r,s),value:e}:{start:Math.min(t,i),end:Math.max(t,i),value:n},jL=(n,e,t,r)=>(1-r)*(1-r)*n+2*(1-r)*r*e+r*r*t,xI=(n,e,t,r)=>({x:jL(n.x,e.x,t.x,r),y:jL(n.y,e.y,t.y,r)}),BL=(n,e,t,r)=>2*(1-r)*(e-n)+2*r*(t-e),zL=(n,e,t,r)=>-Math.atan2(BL(n.x,e.x,t.x,r),BL(n.y,e.y,t.y,r))+.5*Lt;class ng extends ai{inRange(e,t,r,i){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y"){const o={mouseX:e,mouseY:t},{path:a,ctx:l}=this;if(a){Xo(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:u}=this.$context,h=e*u.currentDevicePixelRatio,d=t*u.currentDevicePixelRatio,f=l.isPointInStroke(a,h,d)||wI(this,o,i);return l.restore(),f}const c=qf(s);return VSe(this,o,c,i)||wI(this,o,i)}return WSe(this,{mouseX:e,mouseY:t},r,{hitSize:s,useFinalPosition:i})}getCenterPoint(e){return qc(this,e)}draw(e){const{x:t,y:r,x2:i,y2:s,cp:o,options:a}=this;if(e.save(),!Xo(e,a))return e.restore();_d(e,a);const l=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2));if(a.curve&&o)return nke(e,this,o,l),e.restore();const{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=HX(this),f=Math.atan2(s-r,i-t);e.translate(t,r),e.rotate(f),e.beginPath(),e.moveTo(0+h,0),e.lineTo(l-d,0),e.shadowColor=a.borderShadowColor,e.stroke(),_I(e,0,h,c),_I(e,l,-d,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const r=bSe(e,t),{x:i,y:s,x2:o,y2:a}=r,l=YSe(r,e.chartArea),c=l?GSe({x:i,y:s},{x:o,y:a},e.chartArea):{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)};if(c.centerX=(o+i)/2,c.centerY=(a+s)/2,c.initProperties=wd(e,c,t),t.curve){const h={x:c.x,y:c.y},d={x:c.x2,y:c.y2};c.cp=tke(c,t,Xh(h,d))}const u=KSe(e,c,t.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}ng.id="lineAnnotation";const qL={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};ng.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},qL),fill:!1,length:12,start:Object.assign({},qL),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},tg.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ng.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};ng.defaultRoutes={borderColor:"color"};function WSe(n,{mouseX:e,mouseY:t},r,{hitSize:i,useFinalPosition:s}){const o=HSe(e,t,n.getProps(["x","y","x2","y2"],s),r);return SX(o,i)||wI(n,{mouseX:e,mouseY:t},s,r)}function YSe({x:n,y:e,x2:t,y2:r},{top:i,right:s,bottom:o,left:a}){return!(n<a&&t<a||n>s&&t>s||e<i&&r<i||e>o&&r>o)}function UL({x:n,y:e},t,{top:r,right:i,bottom:s,left:o}){return n<o&&(e=$L(o,{x:n,y:e},t),n=o),n>i&&(e=$L(i,{x:n,y:e},t),n=i),e<r&&(n=bI(r,{x:n,y:e},t),e=r),e>s&&(n=bI(s,{x:n,y:e},t),e=s),{x:n,y:e}}function GSe(n,e,t){const{x:r,y:i}=UL(n,e,t),{x:s,y:o}=UL(e,n,t);return{x:r,y:i,x2:s,y2:o,width:Math.abs(s-r),height:Math.abs(o-i)}}function VSe(n,{mouseX:e,mouseY:t},r=Ul,i){const{x:s,y:o,x2:a,y2:l}=n.getProps(["x","y","x2","y2"],i),c=a-s,u=l-o,h=qf(c)+qf(u),d=h===0?-1:((e-s)*c+(t-o)*u)/h;let f,m;return d<0?(f=s,m=o):d>1?(f=a,m=l):(f=s+d*c,m=o+d*u),qf(e-f)+qf(t-m)<=r}function wI(n,{mouseX:e,mouseY:t},r,i){const s=n.label;return s.options.display&&s.inRange(e,t,i,r)}function KSe(n,e,t){const r=t.borderWidth,i=Sr(t.padding),s=hx(n.ctx,t),o=s.width+i.width+r,a=s.height+i.height+r;return QSe(e,t,{width:o,height:a,padding:i},n.chartArea)}function XSe(n){const{x:e,y:t,x2:r,y2:i}=n,s=Math.atan2(i-t,r-e);return s>Lt/2?s-Lt:s<Lt/-2?s+Lt:s}function QSe(n,e,t,r){const{width:i,height:s,padding:o}=t,{xAdjust:a,yAdjust:l}=e,c={x:n.x,y:n.y},u={x:n.x2,y:n.y2},h=e.rotation==="auto"?XSe(n):nr(e.rotation),d=JSe(i,s,h),f=ZSe(n,e,{labelSize:d,padding:o},r),m=n.cp?xI(c,n.cp,u,f):mR(c,u,f),g={size:d.w,min:r.left,max:r.right,padding:o.left},v={size:d.h,min:r.top,max:r.bottom,padding:o.top},y=WL(m.x,g)+a,b=WL(m.y,v)+l;return{x:y-i/2,y:b-s/2,x2:y+i/2,y2:b+s/2,centerX:y,centerY:b,pointX:m.x,pointY:m.y,width:i,height:s,rotation:GK(h)}}function JSe(n,e,t){const r=Math.cos(t),i=Math.sin(t);return{w:Math.abs(n*r)+Math.abs(e*i),h:Math.abs(n*i)+Math.abs(e*r)}}function ZSe(n,e,t,r){let i;const s=eke(n,r);return e.position==="start"?i=HL({w:n.x2-n.x,h:n.y2-n.y},t,e,s):e.position==="end"?i=1-HL({w:n.x-n.x2,h:n.y-n.y2},t,e,s):i=hR(1,e.position),i}function HL(n,e,t,r){const{labelSize:i,padding:s}=e,o=n.w*r.dx,a=n.h*r.dy,l=o>0&&(i.w/2+s.left-r.x)/o,c=a>0&&(i.h/2+s.top-r.y)/a;return lx(Math.max(l,c),0,.25)}function eke(n,e){const{x:t,x2:r,y:i,y2:s}=n,o=Math.min(i,s)-e.top,a=Math.min(t,r)-e.left,l=e.bottom-Math.max(i,s),c=e.right-Math.max(t,r);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function WL(n,e){const{size:t,min:r,max:i,padding:s}=e,o=t/2;return t>i-r?(i+r)/2:(r>=n-s-o&&(n=r+s+o),i<=n+s+o&&(n=i-s-o),n)}function HX(n){const e=n.options,t=e.arrowHeads&&e.arrowHeads.start,r=e.arrowHeads&&e.arrowHeads.end;return{startOpts:t,endOpts:r,startAdjust:YL(n,t),endAdjust:YL(n,r)}}function YL(n,e){if(!e||!e.display)return 0;const{length:t,width:r}=e,i=n.options.borderWidth/2,s={x:t,y:r+i};return Math.abs(bI(0,s,{x:0,y:i}))}function _I(n,e,t,r){if(!r||!r.display)return;const{length:i,width:s,fill:o,backgroundColor:a,borderColor:l}=r,c=Math.abs(e-i)+t;n.beginPath(),_d(n,r),Xo(n,r),n.moveTo(c,-s),n.lineTo(e+t,0),n.lineTo(c,s),o===!0?(n.fillStyle=a||l,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=r.borderShadowColor,n.stroke()}function tke(n,e,t){const{x:r,y:i,x2:s,y2:o,centerX:a,centerY:l}=n,c=Math.atan2(o-i,s-r),u=dR(e.controlPoint,0),h={x:a+il(t,u.x,!1),y:l+il(t,u.y,!1)};return zc(h,{x:a,y:l},c)}function GL(n,{x:e,y:t},{angle:r,adjust:i},s){!s||!s.display||(n.save(),n.translate(e,t),n.rotate(r),_I(n,0,-i,s),n.restore())}function nke(n,e,t,r){const{x:i,y:s,x2:o,y2:a,options:l}=e,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=HX(e),f={x:i,y:s},m={x:o,y:a},g=zL(f,t,m,0),v=zL(f,t,m,1)-Lt,y=xI(f,t,m,h/r),b=xI(f,t,m,1-d/r),w=new Path2D;n.beginPath(),w.moveTo(y.x,y.y),w.quadraticCurveTo(t.x,t.y,b.x,b.y),n.shadowColor=l.borderShadowColor,n.stroke(w),e.path=w,e.ctx=n,GL(n,y,{angle:g,adjust:h},c),GL(n,b,{angle:v,adjust:d},u)}class rg extends ai{inRange(e,t,r,i){const s=this.options.rotation,o=(this.options.borderWidth+this.options.hitTolerance)/2;if(r!=="x"&&r!=="y")return rke({x:e,y:t},this.getProps(["width","height","centerX","centerY"],i),s,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],i),h=r==="y"?{start:l,end:u}:{start:a,end:c},d=zc({x:e,y:t},this.getCenterPoint(i),nr(-s));return d[r]>=h.start-o-Ul&&d[r]<=h.end+o+Ul}getCenterPoint(e){return qc(this,e)}draw(e){const{width:t,height:r,centerX:i,centerY:s,options:o}=this;e.save(),ux(e,this.getCenterPoint(),o.rotation),_d(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const a=Xo(e,o);e.ellipse(i,s,r/2,t/2,Lt/2,0,2*Lt),e.fill(),a&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return zX(e,t)}}rg.id="ellipseAnnotation";rg.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},Sd.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};rg.defaultRoutes={borderColor:"color",backgroundColor:"color"};rg.descriptors={label:{_fallback:!0}};function rke(n,e,t,r){const{width:i,height:s,centerX:o,centerY:a}=e,l=i/2,c=s/2;if(l<=0||c<=0)return!1;const u=nr(t||0),h=Math.cos(u),d=Math.sin(u),f=Math.pow(h*(n.x-o)+d*(n.y-a),2),m=Math.pow(d*(n.x-o)-h*(n.y-a),2);return f/Math.pow(l+r,2)+m/Math.pow(c+r,2)<=1.0001}class fx extends ai{inRange(e,t,r,i){const{x:s,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],i),u=(this.options.borderWidth+this.options.hitTolerance)/2;return r!=="x"&&r!=="y"?Q_e({x:e,y:t},this.getCenterPoint(i),c/2,u):SX(r==="y"?{start:o,end:l,value:t}:{start:s,end:a,value:e},u)}getCenterPoint(e){return qc(this,e)}draw(e){const t=this.options,r=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,_d(e,t);const i=Xo(e,t);sSe(e,this,this.centerX,this.centerY),i&&!cx(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=r}resolveElementProperties(e,t){const r=BX(e,t);return r.initProperties=wd(e,r,t),r}}fx.id="pointAnnotation";fx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};fx.defaultRoutes={borderColor:"color",backgroundColor:"color"};class px extends ai{inRange(e,t,r,i){if(r!=="x"&&r!=="y")return this.options.radius>=.1&&this.elements.length>1&&ske(this.elements,e,t,i);const s=zc({x:e,y:t},this.getCenterPoint(i),nr(-this.options.rotation)),o=this.elements.map(c=>r==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return s[r]>=a&&s[r]<=l}getCenterPoint(e){return qc(this,e)}draw(e){const{elements:t,options:r}=this;e.save(),e.beginPath(),e.fillStyle=r.backgroundColor,_d(e,r);const i=Xo(e,r);let s=!0;for(const o of t)s?(e.moveTo(o.x,o.y),s=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),i&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const r=BX(e,t),{sides:i,rotation:s}=t,o=[],a=2*Lt/i;let l=s*JO;for(let c=0;c<i;c++,l+=a){const u=ike(r,t,l);u.initProperties=wd(e,r,t),o.push(u)}return r.elements=o,r}}px.id="polygonAnnotation";px.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};px.defaultRoutes={borderColor:"color",backgroundColor:"color"};function ike({centerX:n,centerY:e},{radius:t,borderWidth:r,hitTolerance:i},s){const o=(r+i)/2,a=Math.sin(s),l=Math.cos(s),c={x:n+a*t,y:e-l*t};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:n+a*(t+o),bY:e-l*(t+o)}}}function ske(n,e,t,r){let i=!1,s=n[n.length-1].getProps(["bX","bY"],r);for(const o of n){const a=o.getProps(["bX","bY"],r);a.bY>t!=s.bY>t&&e<(s.bX-a.bX)*(t-a.bY)/(s.bY-a.bY)+a.bX&&(i=!i),s=a}return i}const Ja={box:Sd,doughnutLabel:dx,ellipse:rg,label:tg,line:ng,point:fx,polygon:px};Object.keys(Ja).forEach(n=>{Cn.describe(`elements.${Ja[n].id}`,{_fallback:"plugins.annotation.common"})});const oke={update:Object.assign},ake=pR.concat(Uy),VL=(n,e)=>bt(e)?kI(n,e):n,SI=n=>n==="color"||n==="font";function gR(n="line"){return Ja[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function lke(n,e,t,r){const i=uke(n,t.animations,r),s=e.annotations,o=fke(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],c=WX(o,a,l.type),u=l.setContext(dke(n,c,o,l)),h=c.resolveElementProperties(n,u);h.skip=cke(h),"elements"in h&&(hke(c,h.elements,u,i),delete h.elements),ki(c.x)||Object.assign(c,h),Object.assign(c,h.initProperties),h.options=YX(u),i.update(c,h)}}function cke(n){return isNaN(n.x)||isNaN(n.y)}function uke(n,e,t){return t==="reset"||t==="none"||t==="resize"?oke:new lR(n,e)}function hke(n,e,t,r){const i=n.elements||(n.elements=[]);i.length=e.length;for(let s=0;s<e.length;s++){const o=e[s],a=o.properties,l=WX(i,s,o.type,o.initProperties),c=t[o.optionScope].override(o);a.options=YX(c),r.update(l,a)}}function WX(n,e,t,r){const i=Ja[gR(t)];let s=n[e];return(!s||!(s instanceof i))&&(s=n[e]=new i,Object.assign(s,r)),s}function YX(n){const e=Ja[gR(n.type)],t={};t.id=n.id,t.type=n.type,t.drawTime=n.drawTime,Object.assign(t,kI(n,e.defaults),kI(n,e.defaultRoutes));for(const r of ake)t[r]=n[r];return t}function kI(n,e){const t={};for(const r of Object.keys(e)){const i=e[r],s=n[r];SI(r)&&dn(s)?t[r]=s.map(o=>VL(o,i)):t[r]=VL(s,i)}return t}function dke(n,e,t,r){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return t.filter(i=>i&&i.options)},id:r.id,type:"annotation"}))}function fke(n,e){const t=e.length,r=n.length;if(r<t){const i=t-r;n.splice(r,0,...new Array(i))}else r>t&&n.splice(t,r-t);return n}var pke="3.1.0";const ba=new Map,KL=n=>n.type!=="doughnutLabel",mke=pR.concat(Uy);var gke={id:"annotation",version:pke,beforeRegister(){J_e("chart.js","4.0",gs.version)},afterRegister(){gs.register(Ja)},afterUnregister(){gs.unregister(Ja)},beforeInit(n){ba.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,t){const r=ba.get(n),i=r.annotations=[];let s=t.annotations;bt(s)?Object.keys(s).forEach(o=>{const a=s[o];bt(a)&&(a.id=o,i.push(a))}):dn(s)&&i.push(...s),RSe(i.filter(KL),n.scales)},afterDataLimits(n,e){const t=ba.get(n);OSe(n,e.scale,t.annotations.filter(KL).filter(r=>r.display&&r.adjustScaleRange))},afterUpdate(n,e,t){const r=ba.get(n);ESe(n,r,t),lke(n,r,t,e.mode),r.visibleElements=r.elements.filter(i=>!i.skip&&i.options.display),PSe(n,r,t)},beforeDatasetsDraw(n,e,t){bf(n,"beforeDatasetsDraw",t.clip)},afterDatasetsDraw(n,e,t){bf(n,"afterDatasetsDraw",t.clip)},beforeDatasetDraw(n,e,t){bf(n,e.index,t.clip)},beforeDraw(n,e,t){bf(n,"beforeDraw",t.clip)},afterDraw(n,e,t){bf(n,"afterDraw",t.clip)},beforeEvent(n,e,t){const r=ba.get(n);TSe(r,e.event,t)&&(e.changed=!0)},afterDestroy(n){ba.delete(n)},getAnnotations(n){const e=ba.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,t){return uR(n,e,t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!mke.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Ja[gR(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:SI,_fallback:!0},_indexable:SI}},additionalOptionScopes:[""]};function bf(n,e,t){const{ctx:r,chartArea:i}=n,s=ba.get(n);t&&rx(r,i);const o=vke(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)yke(r,i,s,a);t&&ix(r)}function vke(n,e){const t=[];for(const r of n)if(r.options.drawTime===e&&t.push({element:r,main:!0}),r.elements&&r.elements.length)for(const i of r.elements)i.options.display&&i.options.drawTime===e&&t.push({element:i});return t}function yke(n,e,t,r){const i=r.element;r.main?(NL(t,i,"beforeDraw"),i.draw(n,e),NL(t,i,"afterDraw")):i.draw(n,e)}gs.register(gI,vI,Dv,Bf,I_e,F_e,T_e,gke);/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Br(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var bke=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;Br(bke);var xke=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;Br(xke);var wke=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;Br(wke);var _ke=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;Br(_ke);var Ske=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;Br(Ske);var kke=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;Br(kke);var Cke=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;Br(Cke);var Eke=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;Br(Eke);var Tke=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;Br(Tke);var Mke=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;Br(Mke);var Ike=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;Br(Ike);var Pke=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;Br(Pke);var Oke=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;Br(Oke);var Rke=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;Br(Rke);var Dke=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;Br(Dke);var XL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ts(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var CI={exports:{}},Nv={exports:{}},Ake=Nv.exports,QL;function Ms(){return QL||(QL=1,function(n,e){(function(t,r){n.exports=r()})(Ake,function(){var t;function r(){return t.apply(null,arguments)}function i(p){t=p}function s(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function o(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function a(p,x){return Object.prototype.hasOwnProperty.call(p,x)}function l(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var x;for(x in p)if(a(p,x))return!1;return!0}function c(p){return p===void 0}function u(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function h(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function d(p,x){var M=[],P,A=p.length;for(P=0;P<A;++P)M.push(x(p[P],P));return M}function f(p,x){for(var M in x)a(x,M)&&(p[M]=x[M]);return a(x,"toString")&&(p.toString=x.toString),a(x,"valueOf")&&(p.valueOf=x.valueOf),p}function m(p,x,M,P){return TD(p,x,M,P,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(p){return p._pf==null&&(p._pf=g()),p._pf}var y;Array.prototype.some?y=Array.prototype.some:y=function(p){var x=Object(this),M=x.length>>>0,P;for(P=0;P<M;P++)if(P in x&&p.call(this,x[P],P,x))return!0;return!1};function b(p){var x=null,M=!1,P=p._d&&!isNaN(p._d.getTime());if(P&&(x=v(p),M=y.call(x.parsedDateParts,function(A){return A!=null}),P=x.overflow<0&&!x.empty&&!x.invalidEra&&!x.invalidMonth&&!x.invalidWeekday&&!x.weekdayMismatch&&!x.nullInput&&!x.invalidFormat&&!x.userInvalidated&&(!x.meridiem||x.meridiem&&M),p._strict&&(P=P&&x.charsLeftOver===0&&x.unusedTokens.length===0&&x.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=P;else return P;return p._isValid}function w(p){var x=m(NaN);return p!=null?f(v(x),p):v(x).userInvalidated=!0,x}var S=r.momentProperties=[],_=!1;function k(p,x){var M,P,A,G=S.length;if(c(x._isAMomentObject)||(p._isAMomentObject=x._isAMomentObject),c(x._i)||(p._i=x._i),c(x._f)||(p._f=x._f),c(x._l)||(p._l=x._l),c(x._strict)||(p._strict=x._strict),c(x._tzm)||(p._tzm=x._tzm),c(x._isUTC)||(p._isUTC=x._isUTC),c(x._offset)||(p._offset=x._offset),c(x._pf)||(p._pf=v(x)),c(x._locale)||(p._locale=x._locale),G>0)for(M=0;M<G;M++)P=S[M],A=x[P],c(A)||(p[P]=A);return p}function C(p){k(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,r.updateOffset(this),_=!1)}function T(p){return p instanceof C||p!=null&&p._isAMomentObject!=null}function O(p){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function R(p,x){var M=!0;return f(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,p),M){var P=[],A,G,ie,He=arguments.length;for(G=0;G<He;G++){if(A="",typeof arguments[G]=="object"){A+=`
[`+G+"] ";for(ie in arguments[0])a(arguments[0],ie)&&(A+=ie+": "+arguments[0][ie]+", ");A=A.slice(0,-2)}else A=arguments[G];P.push(A)}O(p+`
Arguments: `+Array.prototype.slice.call(P).join("")+`
`+new Error().stack),M=!1}return x.apply(this,arguments)},x)}var D={};function F(p,x){r.deprecationHandler!=null&&r.deprecationHandler(p,x),D[p]||(O(x),D[p]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function N(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function z(p){var x,M;for(M in p)a(p,M)&&(x=p[M],N(x)?this[M]=x:this["_"+M]=x);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(p,x){var M=f({},p),P;for(P in x)a(x,P)&&(o(p[P])&&o(x[P])?(M[P]={},f(M[P],p[P]),f(M[P],x[P])):x[P]!=null?M[P]=x[P]:delete M[P]);for(P in p)a(p,P)&&!a(x,P)&&o(p[P])&&(M[P]=f({},M[P]));return M}function L(p){p!=null&&this.set(p)}var B;Object.keys?B=Object.keys:B=function(p){var x,M=[];for(x in p)a(p,x)&&M.push(x);return M};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function q(p,x,M){var P=this._calendar[p]||this._calendar.sameElse;return N(P)?P.call(x,M):P}function W(p,x,M){var P=""+Math.abs(p),A=x-P.length,G=p>=0;return(G?M?"+":"":"-")+Math.pow(10,Math.max(0,A)).toString().substr(1)+P}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,X=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Z={},H={};function K(p,x,M,P){var A=P;typeof P=="string"&&(A=function(){return this[P]()}),p&&(H[p]=A),x&&(H[x[0]]=function(){return W(A.apply(this,arguments),x[1],x[2])}),M&&(H[M]=function(){return this.localeData().ordinal(A.apply(this,arguments),p)})}function Y(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function ne(p){var x=p.match(V),M,P;for(M=0,P=x.length;M<P;M++)H[x[M]]?x[M]=H[x[M]]:x[M]=Y(x[M]);return function(A){var G="",ie;for(ie=0;ie<P;ie++)G+=N(x[ie])?x[ie].call(A,p):x[ie];return G}}function te(p,x){return p.isValid()?(x=re(x,p.localeData()),Z[x]=Z[x]||ne(x),Z[x](p)):p.localeData().invalidDate()}function re(p,x){var M=5;function P(A){return x.longDateFormat(A)||A}for(X.lastIndex=0;M>=0&&X.test(p);)p=p.replace(X,P),X.lastIndex=0,M-=1;return p}var Q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ee(p){var x=this._longDateFormat[p],M=this._longDateFormat[p.toUpperCase()];return x||!M?x:(this._longDateFormat[p]=M.match(V).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[p])}var ve="Invalid date";function ge(){return this._invalidDate}var We="%d",Re=/\d{1,2}/;function Me(p){return this._ordinal.replace("%d",p)}var je={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function it(p,x,M,P){var A=this._relativeTime[M];return N(A)?A(p,x,M,P):A.replace(/%d/i,p)}function Be(p,x){var M=this._relativeTime[p>0?"future":"past"];return N(M)?M(x):M.replace(/%s/i,x)}var Ue={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Xe(p){return typeof p=="string"?Ue[p]||Ue[p.toLowerCase()]:void 0}function Ye(p){var x={},M,P;for(P in p)a(p,P)&&(M=Xe(P),M&&(x[M]=p[P]));return x}var ut={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ut(p){var x=[],M;for(M in p)a(p,M)&&x.push({unit:M,priority:ut[M]});return x.sort(function(P,A){return P.priority-A.priority}),x}var me=/\d/,le=/\d\d/,oe=/\d{3}/,De=/\d{4}/,Ve=/[+-]?\d{6}/,ye=/\d\d?/,xe=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ae=/\d{1,4}/,we=/[+-]?\d{1,6}/,Ie=/\d+/,st=/[+-]?\d+/,Kt=/Z|[+-]\d\d:?\d\d/gi,$t=/Z|[+-]\d\d(?::?\d\d)?/gi,fn=/[+-]?\d+(\.\d{1,3})?/,Un=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ht=/^[1-9]\d?/,pt=/^([1-9]\d|\d)/,Pe;Pe={};function ce(p,x,M){Pe[p]=N(x)?x:function(P,A){return P&&M?M:x}}function dt(p,x){return a(Pe,p)?Pe[p](x._strict,x._locale):new RegExp(ot(p))}function ot(p){return Ne(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(x,M,P,A,G){return M||P||A||G}))}function Ne(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $e(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function Oe(p){var x=+p,M=0;return x!==0&&isFinite(x)&&(M=$e(x)),M}var At={};function Ze(p,x){var M,P=x,A;for(typeof p=="string"&&(p=[p]),u(x)&&(P=function(G,ie){ie[x]=Oe(G)}),A=p.length,M=0;M<A;M++)At[p[M]]=P}function jt(p,x){Ze(p,function(M,P,A,G){A._w=A._w||{},x(M,A._w,A,G)})}function de(p,x,M){x!=null&&a(At,p)&&At[p](x,M._a,M,p)}function Ce(p){return p%4===0&&p%100!==0||p%400===0}var be=0,Te=1,et=2,Le=3,Qe=4,at=5,rt=6,xt=7,zr=8;K("Y",0,0,function(){var p=this.year();return p<=9999?W(p,4):"+"+p}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),ce("Y",st),ce("YY",ye,le),ce("YYYY",Ae,De),ce("YYYYY",we,Ve),ce("YYYYYY",we,Ve),Ze(["YYYYY","YYYYYY"],be),Ze("YYYY",function(p,x){x[be]=p.length===2?r.parseTwoDigitYear(p):Oe(p)}),Ze("YY",function(p,x){x[be]=r.parseTwoDigitYear(p)}),Ze("Y",function(p,x){x[be]=parseInt(p,10)});function wt(p){return Ce(p)?366:365}r.parseTwoDigitYear=function(p){return Oe(p)+(Oe(p)>68?1900:2e3)};var or=Ft("FullYear",!0);function Os(){return Ce(this.year())}function Ft(p,x){return function(M){return M!=null?(gl(this,p,M),r.updateOffset(this,x),this):ho(this,p)}}function ho(p,x){if(!p.isValid())return NaN;var M=p._d,P=p._isUTC;switch(x){case"Milliseconds":return P?M.getUTCMilliseconds():M.getMilliseconds();case"Seconds":return P?M.getUTCSeconds():M.getSeconds();case"Minutes":return P?M.getUTCMinutes():M.getMinutes();case"Hours":return P?M.getUTCHours():M.getHours();case"Date":return P?M.getUTCDate():M.getDate();case"Day":return P?M.getUTCDay():M.getDay();case"Month":return P?M.getUTCMonth():M.getMonth();case"FullYear":return P?M.getUTCFullYear():M.getFullYear();default:return NaN}}function gl(p,x,M){var P,A,G,ie,He;if(!(!p.isValid()||isNaN(M))){switch(P=p._d,A=p._isUTC,x){case"Milliseconds":return void(A?P.setUTCMilliseconds(M):P.setMilliseconds(M));case"Seconds":return void(A?P.setUTCSeconds(M):P.setSeconds(M));case"Minutes":return void(A?P.setUTCMinutes(M):P.setMinutes(M));case"Hours":return void(A?P.setUTCHours(M):P.setHours(M));case"Date":return void(A?P.setUTCDate(M):P.setDate(M));case"FullYear":break;default:return}G=M,ie=p.month(),He=p.date(),He=He===29&&ie===1&&!Ce(G)?28:He,A?P.setUTCFullYear(G,ie,He):P.setFullYear(G,ie,He)}}function Qc(p){return p=Xe(p),N(this[p])?this[p]():this}function Tg(p,x){if(typeof p=="object"){p=Ye(p);var M=Ut(p),P,A=M.length;for(P=0;P<A;P++)this[M[P].unit](p[M[P].unit])}else if(p=Xe(p),N(this[p]))return this[p](x);return this}function Fd(p,x){return(p%x+x)%x}var In;Array.prototype.indexOf?In=Array.prototype.indexOf:In=function(p){var x;for(x=0;x<this.length;++x)if(this[x]===p)return x;return-1};function Lx(p,x){if(isNaN(p)||isNaN(x))return NaN;var M=Fd(x,12);return p+=(x-M)/12,M===1?Ce(p)?29:28:31-M%7%2}K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),K("MMMM",0,0,function(p){return this.localeData().months(this,p)}),ce("M",ye,ht),ce("MM",ye,le),ce("MMM",function(p,x){return x.monthsShortRegex(p)}),ce("MMMM",function(p,x){return x.monthsRegex(p)}),Ze(["M","MM"],function(p,x){x[Te]=Oe(p)-1}),Ze(["MMM","MMMM"],function(p,x,M,P){var A=M._locale.monthsParse(p,P,M._strict);A!=null?x[Te]=A:v(M).invalidMonth=p});var RJ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,DJ=Un,AJ=Un;function NJ(p,x){return p?s(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||pD).test(x)?"format":"standalone"][p.month()]:s(this._months)?this._months:this._months.standalone}function LJ(p,x){return p?s(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[pD.test(x)?"format":"standalone"][p.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FJ(p,x,M){var P,A,G,ie=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],P=0;P<12;++P)G=m([2e3,P]),this._shortMonthsParse[P]=this.monthsShort(G,"").toLocaleLowerCase(),this._longMonthsParse[P]=this.months(G,"").toLocaleLowerCase();return M?x==="MMM"?(A=In.call(this._shortMonthsParse,ie),A!==-1?A:null):(A=In.call(this._longMonthsParse,ie),A!==-1?A:null):x==="MMM"?(A=In.call(this._shortMonthsParse,ie),A!==-1?A:(A=In.call(this._longMonthsParse,ie),A!==-1?A:null)):(A=In.call(this._longMonthsParse,ie),A!==-1?A:(A=In.call(this._shortMonthsParse,ie),A!==-1?A:null))}function $J(p,x,M){var P,A,G;if(this._monthsParseExact)return FJ.call(this,p,x,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++){if(A=m([2e3,P]),M&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months(A,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort(A,"").replace(".","")+"$","i")),!M&&!this._monthsParse[P]&&(G="^"+this.months(A,"")+"|^"+this.monthsShort(A,""),this._monthsParse[P]=new RegExp(G.replace(".",""),"i")),M&&x==="MMMM"&&this._longMonthsParse[P].test(p))return P;if(M&&x==="MMM"&&this._shortMonthsParse[P].test(p))return P;if(!M&&this._monthsParse[P].test(p))return P}}function mD(p,x){if(!p.isValid())return p;if(typeof x=="string"){if(/^\d+$/.test(x))x=Oe(x);else if(x=p.localeData().monthsParse(x),!u(x))return p}var M=x,P=p.date();return P=P<29?P:Math.min(P,Lx(p.year(),M)),p._isUTC?p._d.setUTCMonth(M,P):p._d.setMonth(M,P),p}function gD(p){return p!=null?(mD(this,p),r.updateOffset(this,!0),this):ho(this,"Month")}function jJ(){return Lx(this.year(),this.month())}function BJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||vD.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=DJ),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function zJ(p){return this._monthsParseExact?(a(this,"_monthsRegex")||vD.call(this),p?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=AJ),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function vD(){function p(lt,St){return St.length-lt.length}var x=[],M=[],P=[],A,G,ie,He;for(A=0;A<12;A++)G=m([2e3,A]),ie=Ne(this.monthsShort(G,"")),He=Ne(this.months(G,"")),x.push(ie),M.push(He),P.push(He),P.push(ie);x.sort(p),M.sort(p),P.sort(p),this._monthsRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+x.join("|")+")","i")}function qJ(p,x,M,P,A,G,ie){var He;return p<100&&p>=0?(He=new Date(p+400,x,M,P,A,G,ie),isFinite(He.getFullYear())&&He.setFullYear(p)):He=new Date(p,x,M,P,A,G,ie),He}function $d(p){var x,M;return p<100&&p>=0?(M=Array.prototype.slice.call(arguments),M[0]=p+400,x=new Date(Date.UTC.apply(null,M)),isFinite(x.getUTCFullYear())&&x.setUTCFullYear(p)):x=new Date(Date.UTC.apply(null,arguments)),x}function Mg(p,x,M){var P=7+x-M,A=(7+$d(p,0,P).getUTCDay()-x)%7;return-A+P-1}function yD(p,x,M,P,A){var G=(7+M-P)%7,ie=Mg(p,P,A),He=1+7*(x-1)+G+ie,lt,St;return He<=0?(lt=p-1,St=wt(lt)+He):He>wt(p)?(lt=p+1,St=He-wt(p)):(lt=p,St=He),{year:lt,dayOfYear:St}}function jd(p,x,M){var P=Mg(p.year(),x,M),A=Math.floor((p.dayOfYear()-P-1)/7)+1,G,ie;return A<1?(ie=p.year()-1,G=A+fo(ie,x,M)):A>fo(p.year(),x,M)?(G=A-fo(p.year(),x,M),ie=p.year()+1):(ie=p.year(),G=A),{week:G,year:ie}}function fo(p,x,M){var P=Mg(p,x,M),A=Mg(p+1,x,M);return(wt(p)-P+A)/7}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),ce("w",ye,ht),ce("ww",ye,le),ce("W",ye,ht),ce("WW",ye,le),jt(["w","ww","W","WW"],function(p,x,M,P){x[P.substr(0,1)]=Oe(p)});function UJ(p){return jd(p,this._week.dow,this._week.doy).week}var HJ={dow:0,doy:6};function WJ(){return this._week.dow}function YJ(){return this._week.doy}function GJ(p){var x=this.localeData().week(this);return p==null?x:this.add((p-x)*7,"d")}function VJ(p){var x=jd(this,1,4).week;return p==null?x:this.add((p-x)*7,"d")}K("d",0,"do","day"),K("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),K("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),K("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),ce("d",ye),ce("e",ye),ce("E",ye),ce("dd",function(p,x){return x.weekdaysMinRegex(p)}),ce("ddd",function(p,x){return x.weekdaysShortRegex(p)}),ce("dddd",function(p,x){return x.weekdaysRegex(p)}),jt(["dd","ddd","dddd"],function(p,x,M,P){var A=M._locale.weekdaysParse(p,P,M._strict);A!=null?x.d=A:v(M).invalidWeekday=p}),jt(["d","e","E"],function(p,x,M,P){x[P]=Oe(p)});function KJ(p,x){return typeof p!="string"?p:isNaN(p)?(p=x.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function XJ(p,x){return typeof p=="string"?x.weekdaysParse(p)%7||7:isNaN(p)?null:p}function Fx(p,x){return p.slice(x,7).concat(p.slice(0,x))}var QJ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JJ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ZJ=Un,eZ=Un,tZ=Un;function nZ(p,x){var M=s(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(x)?"format":"standalone"];return p===!0?Fx(M,this._week.dow):p?M[p.day()]:M}function rZ(p){return p===!0?Fx(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function iZ(p){return p===!0?Fx(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function sZ(p,x,M){var P,A,G,ie=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],P=0;P<7;++P)G=m([2e3,1]).day(P),this._minWeekdaysParse[P]=this.weekdaysMin(G,"").toLocaleLowerCase(),this._shortWeekdaysParse[P]=this.weekdaysShort(G,"").toLocaleLowerCase(),this._weekdaysParse[P]=this.weekdays(G,"").toLocaleLowerCase();return M?x==="dddd"?(A=In.call(this._weekdaysParse,ie),A!==-1?A:null):x==="ddd"?(A=In.call(this._shortWeekdaysParse,ie),A!==-1?A:null):(A=In.call(this._minWeekdaysParse,ie),A!==-1?A:null):x==="dddd"?(A=In.call(this._weekdaysParse,ie),A!==-1||(A=In.call(this._shortWeekdaysParse,ie),A!==-1)?A:(A=In.call(this._minWeekdaysParse,ie),A!==-1?A:null)):x==="ddd"?(A=In.call(this._shortWeekdaysParse,ie),A!==-1||(A=In.call(this._weekdaysParse,ie),A!==-1)?A:(A=In.call(this._minWeekdaysParse,ie),A!==-1?A:null)):(A=In.call(this._minWeekdaysParse,ie),A!==-1||(A=In.call(this._weekdaysParse,ie),A!==-1)?A:(A=In.call(this._shortWeekdaysParse,ie),A!==-1?A:null))}function oZ(p,x,M){var P,A,G;if(this._weekdaysParseExact)return sZ.call(this,p,x,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++){if(A=m([2e3,1]).day(P),M&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays(A,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort(A,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin(A,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(G="^"+this.weekdays(A,"")+"|^"+this.weekdaysShort(A,"")+"|^"+this.weekdaysMin(A,""),this._weekdaysParse[P]=new RegExp(G.replace(".",""),"i")),M&&x==="dddd"&&this._fullWeekdaysParse[P].test(p))return P;if(M&&x==="ddd"&&this._shortWeekdaysParse[P].test(p))return P;if(M&&x==="dd"&&this._minWeekdaysParse[P].test(p))return P;if(!M&&this._weekdaysParse[P].test(p))return P}}function aZ(p){if(!this.isValid())return p!=null?this:NaN;var x=ho(this,"Day");return p!=null?(p=KJ(p,this.localeData()),this.add(p-x,"d")):x}function lZ(p){if(!this.isValid())return p!=null?this:NaN;var x=(this.day()+7-this.localeData()._week.dow)%7;return p==null?x:this.add(p-x,"d")}function cZ(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var x=XJ(p,this.localeData());return this.day(this.day()%7?x:x-7)}else return this.day()||7}function uZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=ZJ),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function hZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=eZ),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dZ(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$x.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tZ),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $x(){function p(Cr,yo){return yo.length-Cr.length}var x=[],M=[],P=[],A=[],G,ie,He,lt,St;for(G=0;G<7;G++)ie=m([2e3,1]).day(G),He=Ne(this.weekdaysMin(ie,"")),lt=Ne(this.weekdaysShort(ie,"")),St=Ne(this.weekdays(ie,"")),x.push(He),M.push(lt),P.push(St),A.push(He),A.push(lt),A.push(St);x.sort(p),M.sort(p),P.sort(p),A.sort(p),this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+x.join("|")+")","i")}function jx(){return this.hours()%12||12}function fZ(){return this.hours()||24}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,jx),K("k",["kk",2],0,fZ),K("hmm",0,0,function(){return""+jx.apply(this)+W(this.minutes(),2)}),K("hmmss",0,0,function(){return""+jx.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)});function xD(p,x){K(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),x)})}xD("a",!0),xD("A",!1);function wD(p,x){return x._meridiemParse}ce("a",wD),ce("A",wD),ce("H",ye,pt),ce("h",ye,ht),ce("k",ye,ht),ce("HH",ye,le),ce("hh",ye,le),ce("kk",ye,le),ce("hmm",xe),ce("hmmss",ae),ce("Hmm",xe),ce("Hmmss",ae),Ze(["H","HH"],Le),Ze(["k","kk"],function(p,x,M){var P=Oe(p);x[Le]=P===24?0:P}),Ze(["a","A"],function(p,x,M){M._isPm=M._locale.isPM(p),M._meridiem=p}),Ze(["h","hh"],function(p,x,M){x[Le]=Oe(p),v(M).bigHour=!0}),Ze("hmm",function(p,x,M){var P=p.length-2;x[Le]=Oe(p.substr(0,P)),x[Qe]=Oe(p.substr(P)),v(M).bigHour=!0}),Ze("hmmss",function(p,x,M){var P=p.length-4,A=p.length-2;x[Le]=Oe(p.substr(0,P)),x[Qe]=Oe(p.substr(P,2)),x[at]=Oe(p.substr(A)),v(M).bigHour=!0}),Ze("Hmm",function(p,x,M){var P=p.length-2;x[Le]=Oe(p.substr(0,P)),x[Qe]=Oe(p.substr(P))}),Ze("Hmmss",function(p,x,M){var P=p.length-4,A=p.length-2;x[Le]=Oe(p.substr(0,P)),x[Qe]=Oe(p.substr(P,2)),x[at]=Oe(p.substr(A))});function pZ(p){return(p+"").toLowerCase().charAt(0)==="p"}var mZ=/[ap]\.?m?\.?/i,gZ=Ft("Hours",!0);function vZ(p,x,M){return p>11?M?"pm":"PM":M?"am":"AM"}var _D={calendar:j,longDateFormat:Q,invalidDate:ve,ordinal:We,dayOfMonthOrdinalParse:Re,relativeTime:je,months:RJ,monthsShort:fD,week:HJ,weekdays:QJ,weekdaysMin:JJ,weekdaysShort:bD,meridiemParse:mZ},an={},Bd={},zd;function yZ(p,x){var M,P=Math.min(p.length,x.length);for(M=0;M<P;M+=1)if(p[M]!==x[M])return M;return P}function SD(p){return p&&p.toLowerCase().replace("_","-")}function bZ(p){for(var x=0,M,P,A,G;x<p.length;){for(G=SD(p[x]).split("-"),M=G.length,P=SD(p[x+1]),P=P?P.split("-"):null;M>0;){if(A=Ig(G.slice(0,M).join("-")),A)return A;if(P&&P.length>=M&&yZ(G,P)>=M-1)break;M--}x++}return zd}function xZ(p){return!!(p&&p.match("^[^/\\\\]*$"))}function Ig(p){var x=null,M;if(an[p]===void 0&&n&&n.exports&&xZ(p))try{x=zd._abbr,M=Ts,M("./locale/"+p),na(x)}catch{an[p]=null}return an[p]}function na(p,x){var M;return p&&(c(x)?M=po(p):M=Bx(p,x),M?zd=M:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),zd._abbr}function Bx(p,x){if(x!==null){var M,P=_D;if(x.abbr=p,an[p]!=null)F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=an[p]._config;else if(x.parentLocale!=null)if(an[x.parentLocale]!=null)P=an[x.parentLocale]._config;else if(M=Ig(x.parentLocale),M!=null)P=M._config;else return Bd[x.parentLocale]||(Bd[x.parentLocale]=[]),Bd[x.parentLocale].push({name:p,config:x}),null;return an[p]=new L($(P,x)),Bd[p]&&Bd[p].forEach(function(A){Bx(A.name,A.config)}),na(p),an[p]}else return delete an[p],null}function wZ(p,x){if(x!=null){var M,P,A=_D;an[p]!=null&&an[p].parentLocale!=null?an[p].set($(an[p]._config,x)):(P=Ig(p),P!=null&&(A=P._config),x=$(A,x),P==null&&(x.abbr=p),M=new L(x),M.parentLocale=an[p],an[p]=M),na(p)}else an[p]!=null&&(an[p].parentLocale!=null?(an[p]=an[p].parentLocale,p===na()&&na(p)):an[p]!=null&&delete an[p]);return an[p]}function po(p){var x;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return zd;if(!s(p)){if(x=Ig(p),x)return x;p=[p]}return bZ(p)}function _Z(){return B(an)}function zx(p){var x,M=p._a;return M&&v(p).overflow===-2&&(x=M[Te]<0||M[Te]>11?Te:M[et]<1||M[et]>Lx(M[be],M[Te])?et:M[Le]<0||M[Le]>24||M[Le]===24&&(M[Qe]!==0||M[at]!==0||M[rt]!==0)?Le:M[Qe]<0||M[Qe]>59?Qe:M[at]<0||M[at]>59?at:M[rt]<0||M[rt]>999?rt:-1,v(p)._overflowDayOfYear&&(x<be||x>et)&&(x=et),v(p)._overflowWeeks&&x===-1&&(x=xt),v(p)._overflowWeekday&&x===-1&&(x=zr),v(p).overflow=x),p}var SZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,CZ=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EZ=/^\/?Date\((-?\d+)/i,TZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,MZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kD(p){var x,M,P=p._i,A=SZ.exec(P)||kZ.exec(P),G,ie,He,lt,St=Pg.length,Cr=qx.length;if(A){for(v(p).iso=!0,x=0,M=St;x<M;x++)if(Pg[x][1].exec(A[1])){ie=Pg[x][0],G=Pg[x][2]!==!1;break}if(ie==null){p._isValid=!1;return}if(A[3]){for(x=0,M=Cr;x<M;x++)if(qx[x][1].exec(A[3])){He=(A[2]||" ")+qx[x][0];break}if(He==null){p._isValid=!1;return}}if(!G&&He!=null){p._isValid=!1;return}if(A[4])if(CZ.exec(A[4]))lt="Z";else{p._isValid=!1;return}p._f=ie+(He||"")+(lt||""),Hx(p)}else p._isValid=!1}function IZ(p,x,M,P,A,G){var ie=[PZ(p),fD.indexOf(x),parseInt(M,10),parseInt(P,10),parseInt(A,10)];return G&&ie.push(parseInt(G,10)),ie}function PZ(p){var x=parseInt(p,10);return x<=49?2e3+x:x<=999?1900+x:x}function OZ(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RZ(p,x,M){if(p){var P=bD.indexOf(p),A=new Date(x[0],x[1],x[2]).getDay();if(P!==A)return v(M).weekdayMismatch=!0,M._isValid=!1,!1}return!0}function DZ(p,x,M){if(p)return MZ[p];if(x)return 0;var P=parseInt(M,10),A=P%100,G=(P-A)/100;return G*60+A}function CD(p){var x=TZ.exec(OZ(p._i)),M;if(x){if(M=IZ(x[4],x[3],x[2],x[5],x[6],x[7]),!RZ(x[1],M,p))return;p._a=M,p._tzm=DZ(x[8],x[9],x[10]),p._d=$d.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),v(p).rfc2822=!0}else p._isValid=!1}function AZ(p){var x=EZ.exec(p._i);if(x!==null){p._d=new Date(+x[1]);return}if(kD(p),p._isValid===!1)delete p._isValid;else return;if(CD(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:r.createFromInputFallback(p)}r.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function Jc(p,x,M){return p??x??M}function NZ(p){var x=new Date(r.now());return p._useUTC?[x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()]:[x.getFullYear(),x.getMonth(),x.getDate()]}function Ux(p){var x,M,P=[],A,G,ie;if(!p._d){for(A=NZ(p),p._w&&p._a[et]==null&&p._a[Te]==null&&LZ(p),p._dayOfYear!=null&&(ie=Jc(p._a[be],A[be]),(p._dayOfYear>wt(ie)||p._dayOfYear===0)&&(v(p)._overflowDayOfYear=!0),M=$d(ie,0,p._dayOfYear),p._a[Te]=M.getUTCMonth(),p._a[et]=M.getUTCDate()),x=0;x<3&&p._a[x]==null;++x)p._a[x]=P[x]=A[x];for(;x<7;x++)p._a[x]=P[x]=p._a[x]==null?x===2?1:0:p._a[x];p._a[Le]===24&&p._a[Qe]===0&&p._a[at]===0&&p._a[rt]===0&&(p._nextDay=!0,p._a[Le]=0),p._d=(p._useUTC?$d:qJ).apply(null,P),G=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[Le]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==G&&(v(p).weekdayMismatch=!0)}}function LZ(p){var x,M,P,A,G,ie,He,lt,St;x=p._w,x.GG!=null||x.W!=null||x.E!=null?(G=1,ie=4,M=Jc(x.GG,p._a[be],jd(tn(),1,4).year),P=Jc(x.W,1),A=Jc(x.E,1),(A<1||A>7)&&(lt=!0)):(G=p._locale._week.dow,ie=p._locale._week.doy,St=jd(tn(),G,ie),M=Jc(x.gg,p._a[be],St.year),P=Jc(x.w,St.week),x.d!=null?(A=x.d,(A<0||A>6)&&(lt=!0)):x.e!=null?(A=x.e+G,(x.e<0||x.e>6)&&(lt=!0)):A=G),P<1||P>fo(M,G,ie)?v(p)._overflowWeeks=!0:lt!=null?v(p)._overflowWeekday=!0:(He=yD(M,P,A,G,ie),p._a[be]=He.year,p._dayOfYear=He.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Hx(p){if(p._f===r.ISO_8601){kD(p);return}if(p._f===r.RFC_2822){CD(p);return}p._a=[],v(p).empty=!0;var x=""+p._i,M,P,A,G,ie,He=x.length,lt=0,St,Cr;for(A=re(p._f,p._locale).match(V)||[],Cr=A.length,M=0;M<Cr;M++)G=A[M],P=(x.match(dt(G,p))||[])[0],P&&(ie=x.substr(0,x.indexOf(P)),ie.length>0&&v(p).unusedInput.push(ie),x=x.slice(x.indexOf(P)+P.length),lt+=P.length),H[G]?(P?v(p).empty=!1:v(p).unusedTokens.push(G),de(G,P,p)):p._strict&&!P&&v(p).unusedTokens.push(G);v(p).charsLeftOver=He-lt,x.length>0&&v(p).unusedInput.push(x),p._a[Le]<=12&&v(p).bigHour===!0&&p._a[Le]>0&&(v(p).bigHour=void 0),v(p).parsedDateParts=p._a.slice(0),v(p).meridiem=p._meridiem,p._a[Le]=FZ(p._locale,p._a[Le],p._meridiem),St=v(p).era,St!==null&&(p._a[be]=p._locale.erasConvertYear(St,p._a[be])),Ux(p),zx(p)}function FZ(p,x,M){var P;return M==null?x:p.meridiemHour!=null?p.meridiemHour(x,M):(p.isPM!=null&&(P=p.isPM(M),P&&x<12&&(x+=12),!P&&x===12&&(x=0)),x)}function $Z(p){var x,M,P,A,G,ie,He=!1,lt=p._f.length;if(lt===0){v(p).invalidFormat=!0,p._d=new Date(NaN);return}for(A=0;A<lt;A++)G=0,ie=!1,x=k({},p),p._useUTC!=null&&(x._useUTC=p._useUTC),x._f=p._f[A],Hx(x),b(x)&&(ie=!0),G+=v(x).charsLeftOver,G+=v(x).unusedTokens.length*10,v(x).score=G,He?G<P&&(P=G,M=x):(P==null||G<P||ie)&&(P=G,M=x,ie&&(He=!0));f(p,M||x)}function jZ(p){if(!p._d){var x=Ye(p._i),M=x.day===void 0?x.date:x.day;p._a=d([x.year,x.month,M,x.hour,x.minute,x.second,x.millisecond],function(P){return P&&parseInt(P,10)}),Ux(p)}}function BZ(p){var x=new C(zx(ED(p)));return x._nextDay&&(x.add(1,"d"),x._nextDay=void 0),x}function ED(p){var x=p._i,M=p._f;return p._locale=p._locale||po(p._l),x===null||M===void 0&&x===""?w({nullInput:!0}):(typeof x=="string"&&(p._i=x=p._locale.preparse(x)),T(x)?new C(zx(x)):(h(x)?p._d=x:s(M)?$Z(p):M?Hx(p):zZ(p),b(p)||(p._d=null),p))}function zZ(p){var x=p._i;c(x)?p._d=new Date(r.now()):h(x)?p._d=new Date(x.valueOf()):typeof x=="string"?AZ(p):s(x)?(p._a=d(x.slice(0),function(M){return parseInt(M,10)}),Ux(p)):o(x)?jZ(p):u(x)?p._d=new Date(x):r.createFromInputFallback(p)}function TD(p,x,M,P,A){var G={};return(x===!0||x===!1)&&(P=x,x=void 0),(M===!0||M===!1)&&(P=M,M=void 0),(o(p)&&l(p)||s(p)&&p.length===0)&&(p=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=A,G._l=M,G._i=p,G._f=x,G._strict=P,BZ(G)}function tn(p,x,M,P){return TD(p,x,M,P,!1)}var qZ=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=tn.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:w()}),UZ=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=tn.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:w()});function MD(p,x){var M,P;if(x.length===1&&s(x[0])&&(x=x[0]),!x.length)return tn();for(M=x[0],P=1;P<x.length;++P)(!x[P].isValid()||x[P][p](M))&&(M=x[P]);return M}function HZ(){var p=[].slice.call(arguments,0);return MD("isBefore",p)}function WZ(){var p=[].slice.call(arguments,0);return MD("isAfter",p)}var YZ=function(){return Date.now?Date.now():+new Date},qd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GZ(p){var x,M=!1,P,A=qd.length;for(x in p)if(a(p,x)&&!(In.call(qd,x)!==-1&&(p[x]==null||!isNaN(p[x]))))return!1;for(P=0;P<A;++P)if(p[qd[P]]){if(M)return!1;parseFloat(p[qd[P]])!==Oe(p[qd[P]])&&(M=!0)}return!0}function VZ(){return this._isValid}function KZ(){return rs(NaN)}function Og(p){var x=Ye(p),M=x.year||0,P=x.quarter||0,A=x.month||0,G=x.week||x.isoWeek||0,ie=x.day||0,He=x.hour||0,lt=x.minute||0,St=x.second||0,Cr=x.millisecond||0;this._isValid=GZ(x),this._milliseconds=+Cr+St*1e3+lt*6e4+He*1e3*60*60,this._days=+ie+G*7,this._months=+A+P*3+M*12,this._data={},this._locale=po(),this._bubble()}function Rg(p){return p instanceof Og}function Wx(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function XZ(p,x,M){var P=Math.min(p.length,x.length),A=Math.abs(p.length-x.length),G=0,ie;for(ie=0;ie<P;ie++)Oe(p[ie])!==Oe(x[ie])&&G++;return G+A}function ID(p,x){K(p,0,0,function(){var M=this.utcOffset(),P="+";return M<0&&(M=-M,P="-"),P+W(~~(M/60),2)+x+W(~~M%60,2)})}ID("Z",":"),ID("ZZ",""),ce("Z",$t),ce("ZZ",$t),Ze(["Z","ZZ"],function(p,x,M){M._useUTC=!0,M._tzm=Yx($t,p)});var QZ=/([\+\-]|\d\d)/gi;function Yx(p,x){var M=(x||"").match(p),P,A,G;return M===null?null:(P=M[M.length-1]||[],A=(P+"").match(QZ)||["-",0,0],G=+(A[1]*60)+Oe(A[2]),G===0?0:A[0]==="+"?G:-G)}function Gx(p,x){var M,P;return x._isUTC?(M=x.clone(),P=(T(p)||h(p)?p.valueOf():tn(p).valueOf())-M.valueOf(),M._d.setTime(M._d.valueOf()+P),r.updateOffset(M,!1),M):tn(p).local()}function Vx(p){return-Math.round(p._d.getTimezoneOffset())}r.updateOffset=function(){};function JZ(p,x,M){var P=this._offset||0,A;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=Yx($t,p),p===null)return this}else Math.abs(p)<16&&!M&&(p=p*60);return!this._isUTC&&x&&(A=Vx(this)),this._offset=p,this._isUTC=!0,A!=null&&this.add(A,"m"),P!==p&&(!x||this._changeInProgress?DD(this,rs(p-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?P:Vx(this)}function ZZ(p,x){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,x),this):-this.utcOffset()}function eee(p){return this.utcOffset(0,p)}function tee(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(Vx(this),"m")),this}function nee(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=Yx(Kt,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function ree(p){return this.isValid()?(p=p?tn(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function iee(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function see(){if(!c(this._isDSTShifted))return this._isDSTShifted;var p={},x;return k(p,this),p=ED(p),p._a?(x=p._isUTC?m(p._a):tn(p._a),this._isDSTShifted=this.isValid()&&XZ(p._a,x.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function oee(){return this.isValid()?!this._isUTC:!1}function aee(){return this.isValid()?this._isUTC:!1}function PD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lee=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function rs(p,x){var M=p,P=null,A,G,ie;return Rg(p)?M={ms:p._milliseconds,d:p._days,M:p._months}:u(p)||!isNaN(+p)?(M={},x?M[x]=+p:M.milliseconds=+p):(P=lee.exec(p))?(A=P[1]==="-"?-1:1,M={y:0,d:Oe(P[et])*A,h:Oe(P[Le])*A,m:Oe(P[Qe])*A,s:Oe(P[at])*A,ms:Oe(Wx(P[rt]*1e3))*A}):(P=cee.exec(p))?(A=P[1]==="-"?-1:1,M={y:vl(P[2],A),M:vl(P[3],A),w:vl(P[4],A),d:vl(P[5],A),h:vl(P[6],A),m:vl(P[7],A),s:vl(P[8],A)}):M==null?M={}:typeof M=="object"&&("from"in M||"to"in M)&&(ie=uee(tn(M.from),tn(M.to)),M={},M.ms=ie.milliseconds,M.M=ie.months),G=new Og(M),Rg(p)&&a(p,"_locale")&&(G._locale=p._locale),Rg(p)&&a(p,"_isValid")&&(G._isValid=p._isValid),G}rs.fn=Og.prototype,rs.invalid=KZ;function vl(p,x){var M=p&&parseFloat(p.replace(",","."));return(isNaN(M)?0:M)*x}function OD(p,x){var M={};return M.months=x.month()-p.month()+(x.year()-p.year())*12,p.clone().add(M.months,"M").isAfter(x)&&--M.months,M.milliseconds=+x-+p.clone().add(M.months,"M"),M}function uee(p,x){var M;return p.isValid()&&x.isValid()?(x=Gx(x,p),p.isBefore(x)?M=OD(p,x):(M=OD(x,p),M.milliseconds=-M.milliseconds,M.months=-M.months),M):{milliseconds:0,months:0}}function RD(p,x){return function(M,P){var A,G;return P!==null&&!isNaN(+P)&&(F(x,"moment()."+x+"(period, number) is deprecated. Please use moment()."+x+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=M,M=P,P=G),A=rs(M,P),DD(this,A,p),this}}function DD(p,x,M,P){var A=x._milliseconds,G=Wx(x._days),ie=Wx(x._months);p.isValid()&&(P=P??!0,ie&&mD(p,ho(p,"Month")+ie*M),G&&gl(p,"Date",ho(p,"Date")+G*M),A&&p._d.setTime(p._d.valueOf()+A*M),P&&r.updateOffset(p,G||ie))}var hee=RD(1,"add"),dee=RD(-1,"subtract");function AD(p){return typeof p=="string"||p instanceof String}function fee(p){return T(p)||h(p)||AD(p)||u(p)||mee(p)||pee(p)||p===null||p===void 0}function pee(p){var x=o(p)&&!l(p),M=!1,P=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],A,G,ie=P.length;for(A=0;A<ie;A+=1)G=P[A],M=M||a(p,G);return x&&M}function mee(p){var x=s(p),M=!1;return x&&(M=p.filter(function(P){return!u(P)&&AD(p)}).length===0),x&&M}function gee(p){var x=o(p)&&!l(p),M=!1,P=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],A,G;for(A=0;A<P.length;A+=1)G=P[A],M=M||a(p,G);return x&&M}function vee(p,x){var M=p.diff(x,"days",!0);return M<-6?"sameElse":M<-1?"lastWeek":M<0?"lastDay":M<1?"sameDay":M<2?"nextDay":M<7?"nextWeek":"sameElse"}function yee(p,x){arguments.length===1&&(arguments[0]?fee(arguments[0])?(p=arguments[0],x=void 0):gee(arguments[0])&&(x=arguments[0],p=void 0):(p=void 0,x=void 0));var M=p||tn(),P=Gx(M,this).startOf("day"),A=r.calendarFormat(this,P)||"sameElse",G=x&&(N(x[A])?x[A].call(this,M):x[A]);return this.format(G||this.localeData().calendar(A,this,tn(M)))}function bee(){return new C(this)}function xee(p,x){var M=T(p)?p:tn(p);return this.isValid()&&M.isValid()?(x=Xe(x)||"millisecond",x==="millisecond"?this.valueOf()>M.valueOf():M.valueOf()<this.clone().startOf(x).valueOf()):!1}function wee(p,x){var M=T(p)?p:tn(p);return this.isValid()&&M.isValid()?(x=Xe(x)||"millisecond",x==="millisecond"?this.valueOf()<M.valueOf():this.clone().endOf(x).valueOf()<M.valueOf()):!1}function _ee(p,x,M,P){var A=T(p)?p:tn(p),G=T(x)?x:tn(x);return this.isValid()&&A.isValid()&&G.isValid()?(P=P||"()",(P[0]==="("?this.isAfter(A,M):!this.isBefore(A,M))&&(P[1]===")"?this.isBefore(G,M):!this.isAfter(G,M))):!1}function See(p,x){var M=T(p)?p:tn(p),P;return this.isValid()&&M.isValid()?(x=Xe(x)||"millisecond",x==="millisecond"?this.valueOf()===M.valueOf():(P=M.valueOf(),this.clone().startOf(x).valueOf()<=P&&P<=this.clone().endOf(x).valueOf())):!1}function kee(p,x){return this.isSame(p,x)||this.isAfter(p,x)}function Cee(p,x){return this.isSame(p,x)||this.isBefore(p,x)}function Eee(p,x,M){var P,A,G;if(!this.isValid())return NaN;if(P=Gx(p,this),!P.isValid())return NaN;switch(A=(P.utcOffset()-this.utcOffset())*6e4,x=Xe(x),x){case"year":G=Dg(this,P)/12;break;case"month":G=Dg(this,P);break;case"quarter":G=Dg(this,P)/3;break;case"second":G=(this-P)/1e3;break;case"minute":G=(this-P)/6e4;break;case"hour":G=(this-P)/36e5;break;case"day":G=(this-P-A)/864e5;break;case"week":G=(this-P-A)/6048e5;break;default:G=this-P}return M?G:$e(G)}function Dg(p,x){if(p.date()<x.date())return-Dg(x,p);var M=(x.year()-p.year())*12+(x.month()-p.month()),P=p.clone().add(M,"months"),A,G;return x-P<0?(A=p.clone().add(M-1,"months"),G=(x-P)/(P-A)):(A=p.clone().add(M+1,"months"),G=(x-P)/(A-P)),-(M+G)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Tee(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Mee(p){if(!this.isValid())return null;var x=p!==!0,M=x?this.clone().utc():this;return M.year()<0||M.year()>9999?te(M,x?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?x?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",te(M,"Z")):te(M,x?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Iee(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",x="",M,P,A,G;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",x="Z"),M="["+p+'("]',P=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",A="-MM-DD[T]HH:mm:ss.SSS",G=x+'[")]',this.format(M+P+A+G)}function Pee(p){p||(p=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var x=te(this,p);return this.localeData().postformat(x)}function Oee(p,x){return this.isValid()&&(T(p)&&p.isValid()||tn(p).isValid())?rs({to:this,from:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Ree(p){return this.from(tn(),p)}function Dee(p,x){return this.isValid()&&(T(p)&&p.isValid()||tn(p).isValid())?rs({from:this,to:p}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Aee(p){return this.to(tn(),p)}function ND(p){var x;return p===void 0?this._locale._abbr:(x=po(p),x!=null&&(this._locale=x),this)}var LD=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function FD(){return this._locale}var Ag=1e3,Zc=60*Ag,Ng=60*Zc,$D=(365*400+97)*24*Ng;function eu(p,x){return(p%x+x)%x}function jD(p,x,M){return p<100&&p>=0?new Date(p+400,x,M)-$D:new Date(p,x,M).valueOf()}function BD(p,x,M){return p<100&&p>=0?Date.UTC(p+400,x,M)-$D:Date.UTC(p,x,M)}function Nee(p){var x,M;if(p=Xe(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?BD:jD,p){case"year":x=M(this.year(),0,1);break;case"quarter":x=M(this.year(),this.month()-this.month()%3,1);break;case"month":x=M(this.year(),this.month(),1);break;case"week":x=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":x=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":x=M(this.year(),this.month(),this.date());break;case"hour":x=this._d.valueOf(),x-=eu(x+(this._isUTC?0:this.utcOffset()*Zc),Ng);break;case"minute":x=this._d.valueOf(),x-=eu(x,Zc);break;case"second":x=this._d.valueOf(),x-=eu(x,Ag);break}return this._d.setTime(x),r.updateOffset(this,!0),this}function Lee(p){var x,M;if(p=Xe(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?BD:jD,p){case"year":x=M(this.year()+1,0,1)-1;break;case"quarter":x=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":x=M(this.year(),this.month()+1,1)-1;break;case"week":x=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":x=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":x=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":x=this._d.valueOf(),x+=Ng-eu(x+(this._isUTC?0:this.utcOffset()*Zc),Ng)-1;break;case"minute":x=this._d.valueOf(),x+=Zc-eu(x,Zc)-1;break;case"second":x=this._d.valueOf(),x+=Ag-eu(x,Ag)-1;break}return this._d.setTime(x),r.updateOffset(this,!0),this}function Fee(){return this._d.valueOf()-(this._offset||0)*6e4}function $ee(){return Math.floor(this.valueOf()/1e3)}function jee(){return new Date(this.valueOf())}function Bee(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function zee(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function qee(){return this.isValid()?this.toISOString():null}function Uee(){return b(this)}function Hee(){return f({},v(this))}function Wee(){return v(this).overflow}function Yee(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),ce("N",Kx),ce("NN",Kx),ce("NNN",Kx),ce("NNNN",rte),ce("NNNNN",ite),Ze(["N","NN","NNN","NNNN","NNNNN"],function(p,x,M,P){var A=M._locale.erasParse(p,P,M._strict);A?v(M).era=A:v(M).invalidEra=p}),ce("y",Ie),ce("yy",Ie),ce("yyy",Ie),ce("yyyy",Ie),ce("yo",ste),Ze(["y","yy","yyy","yyyy"],be),Ze(["yo"],function(p,x,M,P){var A;M._locale._eraYearOrdinalRegex&&(A=p.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?x[be]=M._locale.eraYearOrdinalParse(p,A):x[be]=parseInt(p,10)});function Gee(p,x){var M,P,A,G=this._eras||po("en")._eras;for(M=0,P=G.length;M<P;++M){switch(typeof G[M].since){case"string":A=r(G[M].since).startOf("day"),G[M].since=A.valueOf();break}switch(typeof G[M].until){case"undefined":G[M].until=1/0;break;case"string":A=r(G[M].until).startOf("day").valueOf(),G[M].until=A.valueOf();break}}return G}function Vee(p,x,M){var P,A,G=this.eras(),ie,He,lt;for(p=p.toUpperCase(),P=0,A=G.length;P<A;++P)if(ie=G[P].name.toUpperCase(),He=G[P].abbr.toUpperCase(),lt=G[P].narrow.toUpperCase(),M)switch(x){case"N":case"NN":case"NNN":if(He===p)return G[P];break;case"NNNN":if(ie===p)return G[P];break;case"NNNNN":if(lt===p)return G[P];break}else if([ie,He,lt].indexOf(p)>=0)return G[P]}function Kee(p,x){var M=p.since<=p.until?1:-1;return x===void 0?r(p.since).year():r(p.since).year()+(x-p.offset)*M}function Xee(){var p,x,M,P=this.localeData().eras();for(p=0,x=P.length;p<x;++p)if(M=this.clone().startOf("day").valueOf(),P[p].since<=M&&M<=P[p].until||P[p].until<=M&&M<=P[p].since)return P[p].name;return""}function Qee(){var p,x,M,P=this.localeData().eras();for(p=0,x=P.length;p<x;++p)if(M=this.clone().startOf("day").valueOf(),P[p].since<=M&&M<=P[p].until||P[p].until<=M&&M<=P[p].since)return P[p].narrow;return""}function Jee(){var p,x,M,P=this.localeData().eras();for(p=0,x=P.length;p<x;++p)if(M=this.clone().startOf("day").valueOf(),P[p].since<=M&&M<=P[p].until||P[p].until<=M&&M<=P[p].since)return P[p].abbr;return""}function Zee(){var p,x,M,P,A=this.localeData().eras();for(p=0,x=A.length;p<x;++p)if(M=A[p].since<=A[p].until?1:-1,P=this.clone().startOf("day").valueOf(),A[p].since<=P&&P<=A[p].until||A[p].until<=P&&P<=A[p].since)return(this.year()-r(A[p].since).year())*M+A[p].offset;return this.year()}function ete(p){return a(this,"_erasNameRegex")||Xx.call(this),p?this._erasNameRegex:this._erasRegex}function tte(p){return a(this,"_erasAbbrRegex")||Xx.call(this),p?this._erasAbbrRegex:this._erasRegex}function nte(p){return a(this,"_erasNarrowRegex")||Xx.call(this),p?this._erasNarrowRegex:this._erasRegex}function Kx(p,x){return x.erasAbbrRegex(p)}function rte(p,x){return x.erasNameRegex(p)}function ite(p,x){return x.erasNarrowRegex(p)}function ste(p,x){return x._eraYearOrdinalRegex||Ie}function Xx(){var p=[],x=[],M=[],P=[],A,G,ie,He,lt,St=this.eras();for(A=0,G=St.length;A<G;++A)ie=Ne(St[A].name),He=Ne(St[A].abbr),lt=Ne(St[A].narrow),x.push(ie),p.push(He),M.push(lt),P.push(ie),P.push(He),P.push(lt);this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+x.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lg(p,x){K(0,[p,p.length],0,x)}Lg("gggg","weekYear"),Lg("ggggg","weekYear"),Lg("GGGG","isoWeekYear"),Lg("GGGGG","isoWeekYear"),ce("G",st),ce("g",st),ce("GG",ye,le),ce("gg",ye,le),ce("GGGG",Ae,De),ce("gggg",Ae,De),ce("GGGGG",we,Ve),ce("ggggg",we,Ve),jt(["gggg","ggggg","GGGG","GGGGG"],function(p,x,M,P){x[P.substr(0,2)]=Oe(p)}),jt(["gg","GG"],function(p,x,M,P){x[P]=r.parseTwoDigitYear(p)});function ote(p){return zD.call(this,p,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ate(p){return zD.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function lte(){return fo(this.year(),1,4)}function cte(){return fo(this.isoWeekYear(),1,4)}function ute(){var p=this.localeData()._week;return fo(this.year(),p.dow,p.doy)}function hte(){var p=this.localeData()._week;return fo(this.weekYear(),p.dow,p.doy)}function zD(p,x,M,P,A){var G;return p==null?jd(this,P,A).year:(G=fo(p,P,A),x>G&&(x=G),dte.call(this,p,x,M,P,A))}function dte(p,x,M,P,A){var G=yD(p,x,M,P,A),ie=$d(G.year,0,G.dayOfYear);return this.year(ie.getUTCFullYear()),this.month(ie.getUTCMonth()),this.date(ie.getUTCDate()),this}K("Q",0,"Qo","quarter"),ce("Q",me),Ze("Q",function(p,x){x[Te]=(Oe(p)-1)*3});function fte(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}K("D",["DD",2],"Do","date"),ce("D",ye,ht),ce("DD",ye,le),ce("Do",function(p,x){return p?x._dayOfMonthOrdinalParse||x._ordinalParse:x._dayOfMonthOrdinalParseLenient}),Ze(["D","DD"],et),Ze("Do",function(p,x){x[et]=Oe(p.match(ye)[0])});var qD=Ft("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),ce("DDD",Ee),ce("DDDD",oe),Ze(["DDD","DDDD"],function(p,x,M){M._dayOfYear=Oe(p)});function pte(p){var x=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?x:this.add(p-x,"d")}K("m",["mm",2],0,"minute"),ce("m",ye,pt),ce("mm",ye,le),Ze(["m","mm"],Qe);var mte=Ft("Minutes",!1);K("s",["ss",2],0,"second"),ce("s",ye,pt),ce("ss",ye,le),Ze(["s","ss"],at);var gte=Ft("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return this.millisecond()*10}),K(0,["SSSSS",5],0,function(){return this.millisecond()*100}),K(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),K(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),K(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),K(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ce("S",Ee,me),ce("SS",Ee,le),ce("SSS",Ee,oe);var ra,UD;for(ra="SSSS";ra.length<=9;ra+="S")ce(ra,Ie);function vte(p,x){x[rt]=Oe(("0."+p)*1e3)}for(ra="S";ra.length<=9;ra+="S")Ze(ra,vte);UD=Ft("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");function yte(){return this._isUTC?"UTC":""}function bte(){return this._isUTC?"Coordinated Universal Time":""}var Se=C.prototype;Se.add=hee,Se.calendar=yee,Se.clone=bee,Se.diff=Eee,Se.endOf=Lee,Se.format=Pee,Se.from=Oee,Se.fromNow=Ree,Se.to=Dee,Se.toNow=Aee,Se.get=Qc,Se.invalidAt=Wee,Se.isAfter=xee,Se.isBefore=wee,Se.isBetween=_ee,Se.isSame=See,Se.isSameOrAfter=kee,Se.isSameOrBefore=Cee,Se.isValid=Uee,Se.lang=LD,Se.locale=ND,Se.localeData=FD,Se.max=UZ,Se.min=qZ,Se.parsingFlags=Hee,Se.set=Tg,Se.startOf=Nee,Se.subtract=dee,Se.toArray=Bee,Se.toObject=zee,Se.toDate=jee,Se.toISOString=Mee,Se.inspect=Iee,typeof Symbol<"u"&&Symbol.for!=null&&(Se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Se.toJSON=qee,Se.toString=Tee,Se.unix=$ee,Se.valueOf=Fee,Se.creationData=Yee,Se.eraName=Xee,Se.eraNarrow=Qee,Se.eraAbbr=Jee,Se.eraYear=Zee,Se.year=or,Se.isLeapYear=Os,Se.weekYear=ote,Se.isoWeekYear=ate,Se.quarter=Se.quarters=fte,Se.month=gD,Se.daysInMonth=jJ,Se.week=Se.weeks=GJ,Se.isoWeek=Se.isoWeeks=VJ,Se.weeksInYear=ute,Se.weeksInWeekYear=hte,Se.isoWeeksInYear=lte,Se.isoWeeksInISOWeekYear=cte,Se.date=qD,Se.day=Se.days=aZ,Se.weekday=lZ,Se.isoWeekday=cZ,Se.dayOfYear=pte,Se.hour=Se.hours=gZ,Se.minute=Se.minutes=mte,Se.second=Se.seconds=gte,Se.millisecond=Se.milliseconds=UD,Se.utcOffset=JZ,Se.utc=eee,Se.local=tee,Se.parseZone=nee,Se.hasAlignedHourOffset=ree,Se.isDST=iee,Se.isLocal=oee,Se.isUtcOffset=aee,Se.isUtc=PD,Se.isUTC=PD,Se.zoneAbbr=yte,Se.zoneName=bte,Se.dates=R("dates accessor is deprecated. Use date instead.",qD),Se.months=R("months accessor is deprecated. Use month instead",gD),Se.years=R("years accessor is deprecated. Use year instead",or),Se.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ZZ),Se.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",see);function xte(p){return tn(p*1e3)}function wte(){return tn.apply(null,arguments).parseZone()}function HD(p){return p}var Rt=L.prototype;Rt.calendar=q,Rt.longDateFormat=ee,Rt.invalidDate=ge,Rt.ordinal=Me,Rt.preparse=HD,Rt.postformat=HD,Rt.relativeTime=it,Rt.pastFuture=Be,Rt.set=z,Rt.eras=Gee,Rt.erasParse=Vee,Rt.erasConvertYear=Kee,Rt.erasAbbrRegex=tte,Rt.erasNameRegex=ete,Rt.erasNarrowRegex=nte,Rt.months=NJ,Rt.monthsShort=LJ,Rt.monthsParse=$J,Rt.monthsRegex=zJ,Rt.monthsShortRegex=BJ,Rt.week=UJ,Rt.firstDayOfYear=YJ,Rt.firstDayOfWeek=WJ,Rt.weekdays=nZ,Rt.weekdaysMin=iZ,Rt.weekdaysShort=rZ,Rt.weekdaysParse=oZ,Rt.weekdaysRegex=uZ,Rt.weekdaysShortRegex=hZ,Rt.weekdaysMinRegex=dZ,Rt.isPM=pZ,Rt.meridiem=vZ;function Fg(p,x,M,P){var A=po(),G=m().set(P,x);return A[M](G,p)}function WD(p,x,M){if(u(p)&&(x=p,p=void 0),p=p||"",x!=null)return Fg(p,x,M,"month");var P,A=[];for(P=0;P<12;P++)A[P]=Fg(p,P,M,"month");return A}function Qx(p,x,M,P){typeof p=="boolean"?(u(x)&&(M=x,x=void 0),x=x||""):(x=p,M=x,p=!1,u(x)&&(M=x,x=void 0),x=x||"");var A=po(),G=p?A._week.dow:0,ie,He=[];if(M!=null)return Fg(x,(M+G)%7,P,"day");for(ie=0;ie<7;ie++)He[ie]=Fg(x,(ie+G)%7,P,"day");return He}function _te(p,x){return WD(p,x,"months")}function Ste(p,x){return WD(p,x,"monthsShort")}function kte(p,x,M){return Qx(p,x,M,"weekdays")}function Cte(p,x,M){return Qx(p,x,M,"weekdaysShort")}function Ete(p,x,M){return Qx(p,x,M,"weekdaysMin")}na("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var x=p%10,M=Oe(p%100/10)===1?"th":x===1?"st":x===2?"nd":x===3?"rd":"th";return p+M}}),r.lang=R("moment.lang is deprecated. Use moment.locale instead.",na),r.langData=R("moment.langData is deprecated. Use moment.localeData instead.",po);var mo=Math.abs;function Tte(){var p=this._data;return this._milliseconds=mo(this._milliseconds),this._days=mo(this._days),this._months=mo(this._months),p.milliseconds=mo(p.milliseconds),p.seconds=mo(p.seconds),p.minutes=mo(p.minutes),p.hours=mo(p.hours),p.months=mo(p.months),p.years=mo(p.years),this}function YD(p,x,M,P){var A=rs(x,M);return p._milliseconds+=P*A._milliseconds,p._days+=P*A._days,p._months+=P*A._months,p._bubble()}function Mte(p,x){return YD(this,p,x,1)}function Ite(p,x){return YD(this,p,x,-1)}function GD(p){return p<0?Math.floor(p):Math.ceil(p)}function Pte(){var p=this._milliseconds,x=this._days,M=this._months,P=this._data,A,G,ie,He,lt;return p>=0&&x>=0&&M>=0||p<=0&&x<=0&&M<=0||(p+=GD(Jx(M)+x)*864e5,x=0,M=0),P.milliseconds=p%1e3,A=$e(p/1e3),P.seconds=A%60,G=$e(A/60),P.minutes=G%60,ie=$e(G/60),P.hours=ie%24,x+=$e(ie/24),lt=$e(VD(x)),M+=lt,x-=GD(Jx(lt)),He=$e(M/12),M%=12,P.days=x,P.months=M,P.years=He,this}function VD(p){return p*4800/146097}function Jx(p){return p*146097/4800}function Ote(p){if(!this.isValid())return NaN;var x,M,P=this._milliseconds;if(p=Xe(p),p==="month"||p==="quarter"||p==="year")switch(x=this._days+P/864e5,M=this._months+VD(x),p){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(x=this._days+Math.round(Jx(this._months)),p){case"week":return x/7+P/6048e5;case"day":return x+P/864e5;case"hour":return x*24+P/36e5;case"minute":return x*1440+P/6e4;case"second":return x*86400+P/1e3;case"millisecond":return Math.floor(x*864e5)+P;default:throw new Error("Unknown unit "+p)}}function go(p){return function(){return this.as(p)}}var KD=go("ms"),Rte=go("s"),Dte=go("m"),Ate=go("h"),Nte=go("d"),Lte=go("w"),Fte=go("M"),$te=go("Q"),jte=go("y"),Bte=KD;function zte(){return rs(this)}function qte(p){return p=Xe(p),this.isValid()?this[p+"s"]():NaN}function yl(p){return function(){return this.isValid()?this._data[p]:NaN}}var Ute=yl("milliseconds"),Hte=yl("seconds"),Wte=yl("minutes"),Yte=yl("hours"),Gte=yl("days"),Vte=yl("months"),Kte=yl("years");function Xte(){return $e(this.days()/7)}var vo=Math.round,tu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qte(p,x,M,P,A){return A.relativeTime(x||1,!!M,p,P)}function Jte(p,x,M,P){var A=rs(p).abs(),G=vo(A.as("s")),ie=vo(A.as("m")),He=vo(A.as("h")),lt=vo(A.as("d")),St=vo(A.as("M")),Cr=vo(A.as("w")),yo=vo(A.as("y")),ia=G<=M.ss&&["s",G]||G<M.s&&["ss",G]||ie<=1&&["m"]||ie<M.m&&["mm",ie]||He<=1&&["h"]||He<M.h&&["hh",He]||lt<=1&&["d"]||lt<M.d&&["dd",lt];return M.w!=null&&(ia=ia||Cr<=1&&["w"]||Cr<M.w&&["ww",Cr]),ia=ia||St<=1&&["M"]||St<M.M&&["MM",St]||yo<=1&&["y"]||["yy",yo],ia[2]=x,ia[3]=+p>0,ia[4]=P,Qte.apply(null,ia)}function Zte(p){return p===void 0?vo:typeof p=="function"?(vo=p,!0):!1}function ene(p,x){return tu[p]===void 0?!1:x===void 0?tu[p]:(tu[p]=x,p==="s"&&(tu.ss=x-1),!0)}function tne(p,x){if(!this.isValid())return this.localeData().invalidDate();var M=!1,P=tu,A,G;return typeof p=="object"&&(x=p,p=!1),typeof p=="boolean"&&(M=p),typeof x=="object"&&(P=Object.assign({},tu,x),x.s!=null&&x.ss==null&&(P.ss=x.s-1)),A=this.localeData(),G=Jte(this,!M,P,A),M&&(G=A.pastFuture(+this,G)),A.postformat(G)}var Zx=Math.abs;function nu(p){return(p>0)-(p<0)||+p}function $g(){if(!this.isValid())return this.localeData().invalidDate();var p=Zx(this._milliseconds)/1e3,x=Zx(this._days),M=Zx(this._months),P,A,G,ie,He=this.asSeconds(),lt,St,Cr,yo;return He?(P=$e(p/60),A=$e(P/60),p%=60,P%=60,G=$e(M/12),M%=12,ie=p?p.toFixed(3).replace(/\.?0+$/,""):"",lt=He<0?"-":"",St=nu(this._months)!==nu(He)?"-":"",Cr=nu(this._days)!==nu(He)?"-":"",yo=nu(this._milliseconds)!==nu(He)?"-":"",lt+"P"+(G?St+G+"Y":"")+(M?St+M+"M":"")+(x?Cr+x+"D":"")+(A||P||p?"T":"")+(A?yo+A+"H":"")+(P?yo+P+"M":"")+(p?yo+ie+"S":"")):"P0D"}var Ct=Og.prototype;Ct.isValid=VZ,Ct.abs=Tte,Ct.add=Mte,Ct.subtract=Ite,Ct.as=Ote,Ct.asMilliseconds=KD,Ct.asSeconds=Rte,Ct.asMinutes=Dte,Ct.asHours=Ate,Ct.asDays=Nte,Ct.asWeeks=Lte,Ct.asMonths=Fte,Ct.asQuarters=$te,Ct.asYears=jte,Ct.valueOf=Bte,Ct._bubble=Pte,Ct.clone=zte,Ct.get=qte,Ct.milliseconds=Ute,Ct.seconds=Hte,Ct.minutes=Wte,Ct.hours=Yte,Ct.days=Gte,Ct.weeks=Xte,Ct.months=Vte,Ct.years=Kte,Ct.humanize=tne,Ct.toISOString=$g,Ct.toString=$g,Ct.toJSON=$g,Ct.locale=ND,Ct.localeData=FD,Ct.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$g),Ct.lang=LD,K("X",0,0,"unix"),K("x",0,0,"valueOf"),ce("x",st),ce("X",fn),Ze("X",function(p,x,M){M._d=new Date(parseFloat(p)*1e3)}),Ze("x",function(p,x,M){M._d=new Date(Oe(p))});//! moment.js
return r.version="2.30.1",i(tn),r.fn=Se,r.min=HZ,r.max=WZ,r.now=YZ,r.utc=m,r.unix=xte,r.months=_te,r.isDate=h,r.locale=na,r.invalid=w,r.duration=rs,r.isMoment=T,r.weekdays=kte,r.parseZone=wte,r.localeData=po,r.isDuration=Rg,r.monthsShort=Ste,r.weekdaysMin=Ete,r.defineLocale=Bx,r.updateLocale=wZ,r.locales=_Z,r.weekdaysShort=Cte,r.normalizeUnits=Xe,r.relativeTimeRounding=Zte,r.relativeTimeThreshold=ene,r.calendarFormat=vee,r.prototype=Se,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Nv)),Nv.exports}var Nke=CI.exports,JL;function Lke(){return JL||(JL=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Nke,function(t){//! moment.js locale configuration
function r(s,o,a,l){var c={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[s+" Tage",s+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[s+" Monate",s+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[s+" Jahre",s+" Jahren"]};return o?c[a][0]:c[a][1]}var i=t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:r,mm:"%d Minuten",h:r,hh:"%d Stunden",d:r,dd:r,w:r,ww:"%d Wochen",M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})}()),CI.exports}Lke();var EI={exports:{}},Fke=EI.exports,ZL;function $ke(){return ZL||(ZL=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Fke,function(t){//! moment.js locale configuration
var r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),s=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return a})}()),EI.exports}$ke();var TI={exports:{}},jke=TI.exports,e8;function Bke(){return e8||(e8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(jke,function(t){//! moment.js locale configuration
var r=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,o=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],a=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:r,monthsShortStrictRegex:i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(l,c){switch(c){case"D":return l+(l===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return l+(l===1?"er":"e");case"w":case"W":return l+(l===1?"re":"e")}},week:{dow:1,doy:4}});return a})}()),TI.exports}Bke();var MI={exports:{}},zke=MI.exports,t8;function qke(){return t8||(t8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(zke,function(t){//! moment.js locale configuration
var r=t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r})}()),MI.exports}qke();var II={exports:{}},Uke=II.exports,n8;function Hke(){return n8||(n8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Uke,function(t){//! moment.js locale configuration
var r=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(i,s){return s[1]===""?1:parseInt(s[1]||i,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(i){return i===""},meridiem:function(i,s,o){return i<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(i){return i.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(i){return this.week()!==i.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(i,s){switch(s){case"y":return i===1?"":i+"";case"d":case"D":case"DDD":return i+"";default:return i}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return r})}()),II.exports}Hke();var PI={exports:{}},Wke=PI.exports,r8;function Yke(){return r8||(r8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Wke,function(t){//! moment.js locale configuration
var r="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),s=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?i[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(l){return l+(l===1||l===8||l>=20?"ste":"de")},week:{dow:1,doy:4}});return a})}()),PI.exports}Yke();var OI={exports:{}},Gke=OI.exports,i8;function Vke(){return i8||(i8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Gke,function(t){//! moment.js locale configuration
var r="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function o(c){return c%10<5&&c%10>1&&~~(c/10)%10!==1}function a(c,u,h){var d=c+" ";switch(h){case"ss":return d+(o(c)?"sekundy":"sekund");case"m":return u?"minuta":"minut";case"mm":return d+(o(c)?"minuty":"minut");case"h":return u?"godzina":"godzin";case"hh":return d+(o(c)?"godziny":"godzin");case"ww":return d+(o(c)?"tygodnie":"tygodni");case"MM":return d+(o(c)?"miesice":"miesicy");case"yy":return d+(o(c)?"lata":"lat")}}var l=t.defineLocale("pl",{months:function(c,u){return c?/D MMMM/.test(u)?i[c.month()]:r[c.month()]:r},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return l})}()),OI.exports}Vke();var RI={exports:{}},Kke=RI.exports,s8;function Xke(){return s8||(s8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Kke,function(t){//! moment.js locale configuration
function r(a,l){var c=a.split("_");return l%10===1&&l%100!==11?c[0]:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?c[1]:c[2]}function i(a,l,c){var u={ss:l?"__":"__",mm:l?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return c==="m"?l?"":"":a+" "+r(u[c],+a)}var s=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],o=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(a){if(a.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,w:"",ww:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,l,c){return a<4?"":a<12?"":a<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(a,l){switch(l){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:4}});return o})}()),RI.exports}Xke();var DI={exports:{}},Qke=DI.exports,o8;function Jke(){return o8||(o8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Qke,function(t){//! moment.js locale configuration
var r={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},i=t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(s,o,a){return s<12?a?"":"":a?"s":"S"},meridiemParse:/||s|S/,isPM:function(s){return s==="s"||s==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(s,o){switch(o){case"d":case"D":case"Do":case"DD":return s;default:if(s===0)return s+"'nc";var a=s%10,l=s%100-a,c=s>=100?100:null;return s+(r[a]||r[l]||r[c])}},week:{dow:1,doy:7}});return i})}()),DI.exports}Jke();var AI={exports:{}},Zke=AI.exports,a8;function eCe(){return a8||(a8=1,function(n,e){(function(t,r){r(typeof Ts=="function"?Ms():t.moment)})(Zke,function(t){//! moment.js locale configuration
function r(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function i(l,c,u){var h={ss:c?"__":"__",mm:c?"__":"__",hh:c?"__":"__",dd:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":u==="h"?c?"":"":l+" "+r(h[u],+l)}function s(l,c){var u={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return l===!0?u.nominative.slice(1,7).concat(u.nominative.slice(0,1)):l?(h=/(\[[]\]) ?dddd/.test(c)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(c)?"genitive":"nominative",u[h][l.day()]):u.nominative}function o(l){return function(){return l+""+(this.hours()===11?"":"")+"] LT"}}var a=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:s,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":case"w":case"W":return l+"-";case"D":return l+"-";default:return l}},week:{dow:1,doy:7}});return a})}()),AI.exports}eCe();var l8={},xf,c8;function Tn(){if(c8)return xf;c8=1;var n=function(e){return e&&e.Math===Math&&e};return xf=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof XL=="object"&&XL)||n(typeof xf=="object"&&xf)||function(){return this}()||Function("return this")(),xf}var X1,u8;function Tt(){return u8||(u8=1,X1=function(n){try{return!!n()}catch{return!0}}),X1}var Q1,h8;function ig(){if(h8)return Q1;h8=1;var n=Tt();return Q1=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Q1}var J1,d8;function mx(){if(d8)return J1;d8=1;var n=ig(),e=Function.prototype,t=e.apply,r=e.call;return J1=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),J1}var Z1,f8;function Ot(){if(f8)return Z1;f8=1;var n=ig(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return Z1=n?r:function(i){return function(){return t.apply(i,arguments)}},Z1}var e_,p8;function co(){if(p8)return e_;p8=1;var n=Ot(),e=n({}.toString),t=n("".slice);return e_=function(r){return t(e(r),8,-1)},e_}var t_,m8;function vR(){if(m8)return t_;m8=1;var n=co(),e=Ot();return t_=function(t){if(n(t)==="Function")return e(t)},t_}var n_,g8;function ir(){if(g8)return n_;g8=1;var n=typeof document=="object"&&document.all;return n_=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},n_}var r_={},i_,v8;function $n(){if(v8)return i_;v8=1;var n=Tt();return i_=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),i_}var s_,y8;function li(){if(y8)return s_;y8=1;var n=ig(),e=Function.prototype.call;return s_=n?e.bind(e):function(){return e.apply(e,arguments)},s_}var o_={},b8;function gx(){if(b8)return o_;b8=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return o_.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,o_}var a_,x8;function sg(){return x8||(x8=1,a_=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),a_}var l_,w8;function vx(){if(w8)return l_;w8=1;var n=Ot(),e=Tt(),t=co(),r=Object,i=n("".split);return l_=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,l_}var c_,_8;function og(){return _8||(_8=1,c_=function(n){return n==null}),c_}var u_,S8;function Zo(){if(S8)return u_;S8=1;var n=og(),e=TypeError;return u_=function(t){if(n(t))throw new e("Can't call method on "+t);return t},u_}var h_,k8;function Is(){if(k8)return h_;k8=1;var n=vx(),e=Zo();return h_=function(t){return n(e(t))},h_}var d_,C8;function kr(){if(C8)return d_;C8=1;var n=ir();return d_=function(e){return typeof e=="object"?e!==null:n(e)},d_}var f_,E8;function en(){return E8||(E8=1,f_={}),f_}var p_,T8;function Ii(){if(T8)return p_;T8=1;var n=en(),e=Tn(),t=ir(),r=function(i){return t(i)?i:void 0};return p_=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},p_}var m_,M8;function on(){if(M8)return m_;M8=1;var n=Ot();return m_=n({}.isPrototypeOf),m_}var g_,I8;function kd(){if(I8)return g_;I8=1;var n=Tn(),e=n.navigator,t=e&&e.userAgent;return g_=t?String(t):"",g_}var v_,P8;function ag(){if(P8)return v_;P8=1;var n=Tn(),e=kd(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),v_=a,v_}var y_,O8;function Cd(){if(O8)return y_;O8=1;var n=ag(),e=Tt(),t=Tn(),r=t.String;return y_=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),y_}var b_,R8;function GX(){if(R8)return b_;R8=1;var n=Cd();return b_=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",b_}var x_,D8;function lg(){if(D8)return x_;D8=1;var n=Ii(),e=ir(),t=on(),r=GX(),i=Object;return x_=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},x_}var w_,A8;function Ed(){if(A8)return w_;A8=1;var n=String;return w_=function(e){try{return n(e)}catch{return"Object"}},w_}var __,N8;function uo(){if(N8)return __;N8=1;var n=ir(),e=Ed(),t=TypeError;return __=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},__}var S_,L8;function yR(){if(L8)return S_;L8=1;var n=uo(),e=og();return S_=function(t,r){var i=t[r];return e(i)?void 0:n(i)},S_}var k_,F8;function tCe(){if(F8)return k_;F8=1;var n=li(),e=ir(),t=kr(),r=TypeError;return k_=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},k_}var C_={exports:{}},E_,$8;function Td(){return $8||($8=1,E_=!0),E_}var T_,j8;function nCe(){if(j8)return T_;j8=1;var n=Tn(),e=Object.defineProperty;return T_=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},T_}var B8;function bR(){if(B8)return C_.exports;B8=1;var n=Td(),e=Tn(),t=nCe(),r="__core-js_shared__",i=C_.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),C_.exports}var M_,z8;function Md(){if(z8)return M_;z8=1;var n=bR();return M_=function(e,t){return n[e]||(n[e]=t||{})},M_}var I_,q8;function ci(){if(q8)return I_;q8=1;var n=Zo(),e=Object;return I_=function(t){return e(n(t))},I_}var P_,U8;function sr(){if(U8)return P_;U8=1;var n=Ot(),e=ci(),t=n({}.hasOwnProperty);return P_=Object.hasOwn||function(i,s){return t(e(i),s)},P_}var O_,H8;function yx(){if(H8)return O_;H8=1;var n=Ot(),e=0,t=Math.random(),r=n(1.1.toString);return O_=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},O_}var R_,W8;function qn(){if(W8)return R_;W8=1;var n=Tn(),e=Md(),t=sr(),r=yx(),i=Cd(),s=GX(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return R_=function(c){return t(a,c)||(a[c]=i&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},R_}var D_,Y8;function VX(){if(Y8)return D_;Y8=1;var n=li(),e=kr(),t=lg(),r=yR(),i=tCe(),s=qn(),o=TypeError,a=s("toPrimitive");return D_=function(l,c){if(!e(l)||t(l))return l;var u=r(l,a),h;if(u){if(c===void 0&&(c="default"),h=n(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},D_}var A_,G8;function xR(){if(G8)return A_;G8=1;var n=VX(),e=lg();return A_=function(t){var r=n(t,"string");return e(r)?r:r+""},A_}var N_,V8;function KX(){if(V8)return N_;V8=1;var n=Tn(),e=kr(),t=n.document,r=e(t)&&e(t.createElement);return N_=function(i){return r?t.createElement(i):{}},N_}var L_,K8;function XX(){if(K8)return L_;K8=1;var n=$n(),e=Tt(),t=KX();return L_=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),L_}var X8;function bx(){if(X8)return r_;X8=1;var n=$n(),e=li(),t=gx(),r=sg(),i=Is(),s=xR(),o=sr(),a=XX(),l=Object.getOwnPropertyDescriptor;return r_.f=n?l:function(u,h){if(u=i(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return r(!e(t.f,u,h),u[h])},r_}var F_,Q8;function rCe(){if(Q8)return F_;Q8=1;var n=Tt(),e=ir(),t=/#|\.prototype\./,r=function(l,c){var u=s[i(l)];return u===a?!0:u===o?!1:e(c)?n(c):!!c},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return F_=r,F_}var $_,J8;function cg(){if(J8)return $_;J8=1;var n=vR(),e=uo(),t=ig(),r=n(n.bind);return $_=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},$_}var j_={},B_,Z8;function QX(){if(Z8)return B_;Z8=1;var n=$n(),e=Tt();return B_=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),B_}var z_,e6;function ea(){if(e6)return z_;e6=1;var n=kr(),e=String,t=TypeError;return z_=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},z_}var t6;function es(){if(t6)return j_;t6=1;var n=$n(),e=XX(),t=QX(),r=ea(),i=xR(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return j_.f=n?t?function(d,f,m){if(r(d),f=i(f),r(m),typeof d=="function"&&f==="prototype"&&"value"in m&&u in m&&!m[u]){var g=a(d,f);g&&g[u]&&(d[f]=m.value,m={configurable:c in m?m[c]:g[c],enumerable:l in m?m[l]:g[l],writable:!1})}return o(d,f,m)}:o:function(d,f,m){if(r(d),f=i(f),r(m),e)try{return o(d,f,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(d[f]=m.value),d},j_}var q_,n6;function Id(){if(n6)return q_;n6=1;var n=$n(),e=es(),t=sg();return q_=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},q_}var U_,r6;function Je(){if(r6)return U_;r6=1;var n=Tn(),e=mx(),t=vR(),r=ir(),i=bx().f,s=rCe(),o=en(),a=cg(),l=Id(),c=sr(),u=function(h){var d=function(f,m,g){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,m)}return new h(f,m,g)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return U_=function(h,d){var f=h.target,m=h.global,g=h.stat,v=h.proto,y=m?n:g?n[f]:n[f]&&n[f].prototype,b=m?o:o[f]||l(o,f,{})[f],w=b.prototype,S,_,k,C,T,O,R,D,F;for(C in d)S=s(m?C:f+(g?".":"#")+C,h.forced),_=!S&&y&&c(y,C),O=b[C],_&&(h.dontCallGetSet?(F=i(y,C),R=F&&F.value):R=y[C]),T=_&&R?R:d[C],!(!S&&!v&&typeof O==typeof T)&&(h.bind&&_?D=a(T,n):h.wrap&&_?D=u(T):v&&r(T)?D=t(T):D=T,(h.sham||T&&T.sham||O&&O.sham)&&l(D,"sham",!0),l(b,C,D),v&&(k=f+"Prototype",c(o,k)||l(o,k,{}),l(o[k],C,T),h.real&&w&&(S||!w[C])&&l(w,C,T)))},U_}var H_,i6;function cl(){if(i6)return H_;i6=1;var n=co();return H_=Array.isArray||function(t){return n(t)==="Array"},H_}var W_,s6;function iCe(){if(s6)return W_;s6=1;var n=Math.ceil,e=Math.floor;return W_=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},W_}var Y_,o6;function Pd(){if(o6)return Y_;o6=1;var n=iCe();return Y_=function(e){var t=+e;return t!==t||t===0?0:n(t)},Y_}var G_,a6;function JX(){if(a6)return G_;a6=1;var n=Pd(),e=Math.min;return G_=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},G_}var V_,l6;function Ps(){if(l6)return V_;l6=1;var n=JX();return V_=function(e){return n(e.length)},V_}var K_,c6;function wR(){if(c6)return K_;c6=1;var n=TypeError,e=9007199254740991;return K_=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},K_}var X_,u6;function xx(){if(u6)return X_;u6=1;var n=$n(),e=es(),t=sg();return X_=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},X_}var Q_,h6;function _R(){if(h6)return Q_;h6=1;var n=qn(),e=n("toStringTag"),t={};return t[e]="z",Q_=String(t)==="[object z]",Q_}var J_,d6;function ul(){if(d6)return J_;d6=1;var n=_R(),e=ir(),t=co(),r=qn(),i=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return J_=n?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),i))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},J_}var Z_,f6;function sCe(){if(f6)return Z_;f6=1;var n=Ot(),e=ir(),t=bR(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Z_=t.inspectSource,Z_}var eS,p6;function ZX(){if(p6)return eS;p6=1;var n=Ot(),e=Tt(),t=ir(),r=ul(),i=Ii(),s=sCe(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=n(l.exec),u=!l.test(o),h=function(m){if(!t(m))return!1;try{return a(o,[],m),!0}catch{return!1}},d=function(m){if(!t(m))return!1;switch(r(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return d.sham=!0,eS=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,eS}var tS,m6;function oCe(){if(m6)return tS;m6=1;var n=cl(),e=ZX(),t=kr(),r=qn(),i=r("species"),s=Array;return tS=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},tS}var nS,g6;function wx(){if(g6)return nS;g6=1;var n=oCe();return nS=function(e,t){return new(n(e))(t===0?0:t)},nS}var rS,v6;function ug(){if(v6)return rS;v6=1;var n=Tt(),e=qn(),t=ag(),r=e("species");return rS=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},rS}var y6;function eQ(){if(y6)return l8;y6=1;var n=Je(),e=Tt(),t=cl(),r=kr(),i=ci(),s=Ps(),o=wR(),a=xx(),l=wx(),c=ug(),u=qn(),h=ag(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var v=[];return v[d]=!1,v.concat()[0]!==v}),m=function(v){if(!r(v))return!1;var y=v[d];return y!==void 0?!!y:t(v)},g=!f||!c("concat");return n({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var b=i(this),w=l(b,0),S=0,_,k,C,T,O;for(_=-1,C=arguments.length;_<C;_++)if(O=_===-1?b:arguments[_],m(O))for(T=s(O),o(S+T),k=0;k<T;k++,S++)k in O&&a(w,S,O[k]);else o(S+1),a(w,S++,O);return w.length=S,w}}),l8}var b6={},x6={},iS,w6;function ts(){if(w6)return iS;w6=1;var n=ul(),e=String;return iS=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},iS}var sS={},oS,_6;function _x(){if(_6)return oS;_6=1;var n=Pd(),e=Math.max,t=Math.min;return oS=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},oS}var aS,S6;function SR(){if(S6)return aS;S6=1;var n=Is(),e=_x(),t=Ps(),r=function(i){return function(s,o,a){var l=n(s),c=t(l);if(c===0)return!i&&-1;var u=e(a,c),h;if(i&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===o)return i||u||0;return!i&&-1}};return aS={includes:r(!0),indexOf:r(!1)},aS}var lS,k6;function hg(){return k6||(k6=1,lS={}),lS}var cS,C6;function tQ(){if(C6)return cS;C6=1;var n=Ot(),e=sr(),t=Is(),r=SR().indexOf,i=hg(),s=n([].push);return cS=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~r(u,h)||s(u,h));return u},cS}var uS,E6;function kR(){return E6||(E6=1,uS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),uS}var hS,T6;function dg(){if(T6)return hS;T6=1;var n=tQ(),e=kR();return hS=Object.keys||function(r){return n(r,e)},hS}var M6;function CR(){if(M6)return sS;M6=1;var n=$n(),e=QX(),t=es(),r=ea(),i=Is(),s=dg();return sS.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var c=i(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},sS}var dS,I6;function aCe(){if(I6)return dS;I6=1;var n=Ii();return dS=n("document","documentElement"),dS}var fS,P6;function Sx(){if(P6)return fS;P6=1;var n=Md(),e=yx(),t=n("keys");return fS=function(r){return t[r]||(t[r]=e(r))},fS}var pS,O6;function fg(){if(O6)return pS;O6=1;var n=ea(),e=CR(),t=kR(),r=hg(),i=aCe(),s=KX(),o=Sx(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(b){return l+u+a+b+l+"/"+u+a},m=function(b){b.write(f("")),b.close();var w=b.parentWindow.Object;return b=null,w},g=function(){var b=s("iframe"),w="java"+u+":",S;return b.style.display="none",i.appendChild(b),b.src=String(w),S=b.contentWindow.document,S.open(),S.write(f("document.F=Object")),S.close(),S.F},v,y=function(){try{v=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&v?m(v):g():m(v);for(var b=t.length;b--;)delete y[c][t[b]];return y()};return r[h]=!0,pS=Object.create||function(w,S){var _;return w!==null?(d[c]=n(w),_=new d,d[c]=null,_[h]=w):_=y(),S===void 0?_:e.f(_,S)},pS}var mS={},R6;function kx(){if(R6)return mS;R6=1;var n=tQ(),e=kR(),t=e.concat("length","prototype");return mS.f=Object.getOwnPropertyNames||function(i){return n(i,t)},mS}var gS={},vS,D6;function Od(){if(D6)return vS;D6=1;var n=Ot();return vS=n([].slice),vS}var A6;function nQ(){if(A6)return gS;A6=1;var n=co(),e=Is(),t=kx().f,r=Od(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return gS.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},gS}var yS={},N6;function Cx(){return N6||(N6=1,yS.f=Object.getOwnPropertySymbols),yS}var bS,L6;function pg(){if(L6)return bS;L6=1;var n=Id();return bS=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},bS}var xS,F6;function ER(){if(F6)return xS;F6=1;var n=es();return xS=function(e,t,r){return n.f(e,t,r)},xS}var wS={},$6;function Ex(){if($6)return wS;$6=1;var n=qn();return wS.f=n,wS}var _S,j6;function xn(){if(j6)return _S;j6=1;var n=en(),e=sr(),t=Ex(),r=es().f;return _S=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},_S}var SS,B6;function rQ(){if(B6)return SS;B6=1;var n=li(),e=Ii(),t=qn(),r=pg();return SS=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},SS}var kS,z6;function lCe(){if(z6)return kS;z6=1;var n=_R(),e=ul();return kS=n?{}.toString:function(){return"[object "+e(this)+"]"},kS}var CS,q6;function Uc(){if(q6)return CS;q6=1;var n=_R(),e=es().f,t=Id(),r=sr(),i=lCe(),s=qn(),o=s("toStringTag");return CS=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(r(h,o)||e(h,o,{configurable:!0,value:l}),u&&!n&&t(h,"toString",i))},CS}var ES,U6;function cCe(){if(U6)return ES;U6=1;var n=Tn(),e=ir(),t=n.WeakMap;return ES=e(t)&&/native code/.test(String(t)),ES}var TS,H6;function mg(){if(H6)return TS;H6=1;var n=cCe(),e=Tn(),t=kr(),r=Id(),i=sr(),s=bR(),o=Sx(),a=hg(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,m=function(b){return f(b)?d(b):h(b,{})},g=function(b){return function(w){var S;if(!t(w)||(S=d(w)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(n||s.state){var v=s.state||(s.state=new u);v.get=v.get,v.has=v.has,v.set=v.set,h=function(b,w){if(v.has(b))throw new c(l);return w.facade=b,v.set(b,w),w},d=function(b){return v.get(b)||{}},f=function(b){return v.has(b)}}else{var y=o("state");a[y]=!0,h=function(b,w){if(i(b,y))throw new c(l);return w.facade=b,r(b,y,w),w},d=function(b){return i(b,y)?b[y]:{}},f=function(b){return i(b,y)}}return TS={set:h,get:d,has:f,enforce:m,getterFor:g},TS}var MS,W6;function hl(){if(W6)return MS;W6=1;var n=cg(),e=Ot(),t=vx(),r=ci(),i=Ps(),s=wx(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,m=l===7,g=l===5||f;return function(v,y,b,w){for(var S=r(v),_=t(S),k=i(_),C=n(y,b),T=0,O=w||s,R=c?O(v,k):u||m?O(v,0):void 0,D,F;k>T;T++)if((g||T in _)&&(D=_[T],F=C(D,T,S),l))if(c)R[T]=F;else if(F)switch(l){case 3:return!0;case 5:return D;case 6:return T;case 2:o(R,D)}else switch(l){case 4:return!1;case 7:o(R,D)}return f?-1:h||d?d:R}};return MS={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},MS}var Y6;function uCe(){if(Y6)return x6;Y6=1;var n=Je(),e=Tn(),t=li(),r=Ot(),i=Td(),s=$n(),o=Cd(),a=Tt(),l=sr(),c=on(),u=ea(),h=Is(),d=xR(),f=ts(),m=sg(),g=fg(),v=dg(),y=kx(),b=nQ(),w=Cx(),S=bx(),_=es(),k=CR(),C=gx(),T=pg(),O=ER(),R=Md(),D=Sx(),F=hg(),N=yx(),z=qn(),$=Ex(),L=xn(),B=rQ(),j=Uc(),q=mg(),W=hl().forEach,V=D("hidden"),X="Symbol",Z="prototype",H=q.set,K=q.getterFor(X),Y=Object[Z],ne=e.Symbol,te=ne&&ne[Z],re=e.RangeError,Q=e.TypeError,ee=e.QObject,ve=S.f,ge=_.f,We=b.f,Re=C.f,Me=r([].push),je=R("symbols"),it=R("op-symbols"),Be=R("wks"),Ue=!ee||!ee[Z]||!ee[Z].findChild,Xe=function(xe,ae,Ee){var Ae=ve(Y,ae);Ae&&delete Y[ae],ge(xe,ae,Ee),Ae&&xe!==Y&&ge(Y,ae,Ae)},Ye=s&&a(function(){return g(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!==7})?Xe:ge,ut=function(xe,ae){var Ee=je[xe]=g(te);return H(Ee,{type:X,tag:xe,description:ae}),s||(Ee.description=ae),Ee},Ut=function(ae,Ee,Ae){ae===Y&&Ut(it,Ee,Ae),u(ae);var we=d(Ee);return u(Ae),l(je,we)?(Ae.enumerable?(l(ae,V)&&ae[V][we]&&(ae[V][we]=!1),Ae=g(Ae,{enumerable:m(0,!1)})):(l(ae,V)||ge(ae,V,m(1,g(null))),ae[V][we]=!0),Ye(ae,we,Ae)):ge(ae,we,Ae)},me=function(ae,Ee){u(ae);var Ae=h(Ee),we=v(Ae).concat(ye(Ae));return W(we,function(Ie){(!s||t(oe,Ae,Ie))&&Ut(ae,Ie,Ae[Ie])}),ae},le=function(ae,Ee){return Ee===void 0?g(ae):me(g(ae),Ee)},oe=function(ae){var Ee=d(ae),Ae=t(Re,this,Ee);return this===Y&&l(je,Ee)&&!l(it,Ee)?!1:Ae||!l(this,Ee)||!l(je,Ee)||l(this,V)&&this[V][Ee]?Ae:!0},De=function(ae,Ee){var Ae=h(ae),we=d(Ee);if(!(Ae===Y&&l(je,we)&&!l(it,we))){var Ie=ve(Ae,we);return Ie&&l(je,we)&&!(l(Ae,V)&&Ae[V][we])&&(Ie.enumerable=!0),Ie}},Ve=function(ae){var Ee=We(h(ae)),Ae=[];return W(Ee,function(we){!l(je,we)&&!l(F,we)&&Me(Ae,we)}),Ae},ye=function(xe){var ae=xe===Y,Ee=We(ae?it:h(xe)),Ae=[];return W(Ee,function(we){l(je,we)&&(!ae||l(Y,we))&&Me(Ae,je[we])}),Ae};return o||(ne=function(){if(c(te,this))throw new Q("Symbol is not a constructor");var ae=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),Ee=N(ae),Ae=function(we){var Ie=this===void 0?e:this;Ie===Y&&t(Ae,it,we),l(Ie,V)&&l(Ie[V],Ee)&&(Ie[V][Ee]=!1);var st=m(1,we);try{Ye(Ie,Ee,st)}catch(Kt){if(!(Kt instanceof re))throw Kt;Xe(Ie,Ee,st)}};return s&&Ue&&Ye(Y,Ee,{configurable:!0,set:Ae}),ut(Ee,ae)},te=ne[Z],T(te,"toString",function(){return K(this).tag}),T(ne,"withoutSetter",function(xe){return ut(N(xe),xe)}),C.f=oe,_.f=Ut,k.f=me,S.f=De,y.f=b.f=Ve,w.f=ye,$.f=function(xe){return ut(z(xe),xe)},s&&(O(te,"description",{configurable:!0,get:function(){return K(this).description}}),i||T(Y,"propertyIsEnumerable",oe,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ne}),W(v(Be),function(xe){L(xe)}),n({target:X,stat:!0,forced:!o},{useSetter:function(){Ue=!0},useSimple:function(){Ue=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:le,defineProperty:Ut,defineProperties:me,getOwnPropertyDescriptor:De}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ve}),B(),j(ne,X),F[V]=!0,x6}var G6={},IS,V6;function iQ(){if(V6)return IS;V6=1;var n=Cd();return IS=n&&!!Symbol.for&&!!Symbol.keyFor,IS}var K6;function hCe(){if(K6)return G6;K6=1;var n=Je(),e=Ii(),t=sr(),r=ts(),i=Md(),s=iQ(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=r(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),G6}var X6={},Q6;function dCe(){if(Q6)return X6;Q6=1;var n=Je(),e=sr(),t=lg(),r=Ed(),i=Md(),s=iQ(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),X6}var J6={},PS,Z6;function fCe(){if(Z6)return PS;Z6=1;var n=Ot(),e=cl(),t=ir(),r=co(),i=ts(),s=n([].push);return PS=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||r(u)==="Number"||r(u)==="String")&&s(l,i(u))}var h=l.length,d=!0;return function(f,m){if(d)return d=!1,m;if(e(this))return m;for(var g=0;g<h;g++)if(l[g]===f)return m}}},PS}var eF;function sQ(){if(eF)return J6;eF=1;var n=Je(),e=Ii(),t=mx(),r=li(),i=Ot(),s=Tt(),o=ir(),a=lg(),l=Od(),c=fCe(),u=Cd(),h=String,d=e("JSON","stringify"),f=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),v=i("".replace),y=i(1.1.toString),b=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,_=!u||s(function(){var O=e("Symbol")("stringify detection");return d([O])!=="[null]"||d({a:O})!=="{}"||d(Object(O))!=="{}"}),k=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),C=function(O,R){var D=l(arguments),F=c(R);if(!(!o(F)&&(O===void 0||a(O))))return D[1]=function(N,z){if(o(F)&&(z=r(F,this,h(N),z)),!a(z))return z},t(d,null,D)},T=function(O,R,D){var F=m(D,R-1),N=m(D,R+1);return f(w,O)&&!f(S,N)||f(S,O)&&!f(w,F)?"\\u"+y(g(O,0),16):O};return d&&n({target:"JSON",stat:!0,arity:3,forced:_||k},{stringify:function(R,D,F){var N=l(arguments),z=t(_?C:d,null,N);return k&&typeof z=="string"?v(z,b,T):z}}),J6}var tF={},nF;function pCe(){if(nF)return tF;nF=1;var n=Je(),e=Cd(),t=Tt(),r=Cx(),i=ci(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),tF}var rF;function oQ(){return rF||(rF=1,uCe(),hCe(),dCe(),sQ(),pCe()),b6}var iF={},sF;function aQ(){if(sF)return iF;sF=1;var n=xn();return n("asyncDispose"),iF}var oF={},aF;function mCe(){if(aF)return oF;aF=1;var n=xn();return n("asyncIterator"),oF}var lF={},cF;function lQ(){if(cF)return lF;cF=1;var n=xn();return n("dispose"),lF}var uF={},hF;function gCe(){if(hF)return uF;hF=1;var n=xn();return n("hasInstance"),uF}var dF={},fF;function vCe(){if(fF)return dF;fF=1;var n=xn();return n("isConcatSpreadable"),dF}var pF={},mF;function cQ(){if(mF)return pF;mF=1;var n=xn();return n("iterator"),pF}var gF={},vF;function yCe(){if(vF)return gF;vF=1;var n=xn();return n("match"),gF}var yF={},bF;function bCe(){if(bF)return yF;bF=1;var n=xn();return n("matchAll"),yF}var xF={},wF;function xCe(){if(wF)return xF;wF=1;var n=xn();return n("replace"),xF}var _F={},SF;function wCe(){if(SF)return _F;SF=1;var n=xn();return n("search"),_F}var kF={},CF;function _Ce(){if(CF)return kF;CF=1;var n=xn();return n("species"),kF}var EF={},TF;function SCe(){if(TF)return EF;TF=1;var n=xn();return n("split"),EF}var MF={},IF;function uQ(){if(IF)return MF;IF=1;var n=xn(),e=rQ();return n("toPrimitive"),e(),MF}var PF={},OF;function kCe(){if(OF)return PF;OF=1;var n=Ii(),e=xn(),t=Uc();return e("toStringTag"),t(n("Symbol"),"Symbol"),PF}var RF={},DF;function CCe(){if(DF)return RF;DF=1;var n=xn();return n("unscopables"),RF}var AF={},NF;function ECe(){if(NF)return AF;NF=1;var n=Tn(),e=Uc();return e(n.JSON,"JSON",!0),AF}var OS,LF;function TCe(){if(LF)return OS;LF=1,eQ(),oQ(),aQ(),mCe(),lQ(),gCe(),vCe(),cQ(),yCe(),bCe(),xCe(),wCe(),_Ce(),SCe(),uQ(),kCe(),CCe(),ECe();var n=en();return OS=n.Symbol,OS}var FF={},RS,$F;function gg(){return $F||($F=1,RS=function(){}),RS}var DS,jF;function Rd(){return jF||(jF=1,DS={}),DS}var AS,BF;function MCe(){if(BF)return AS;BF=1;var n=$n(),e=sr(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return AS={EXISTS:i,PROPER:s,CONFIGURABLE:o},AS}var NS,zF;function hQ(){if(zF)return NS;zF=1;var n=Tt();return NS=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),NS}var LS,qF;function Tx(){if(qF)return LS;qF=1;var n=sr(),e=ir(),t=ci(),r=Sx(),i=hQ(),s=r("IE_PROTO"),o=Object,a=o.prototype;return LS=i?o.getPrototypeOf:function(l){var c=t(l);if(n(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},LS}var FS,UF;function dQ(){if(UF)return FS;UF=1;var n=Tt(),e=ir(),t=kr(),r=fg(),i=Tx(),s=pg(),o=qn(),a=Td(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=i(i(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||n(function(){var m={};return u[l].call(m)!==m});return f?u={}:a&&(u=r(u)),e(u[l])||s(u,l,function(){return this}),FS={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},FS}var $S,HF;function ICe(){if(HF)return $S;HF=1;var n=dQ().IteratorPrototype,e=fg(),t=sg(),r=Uc(),i=Rd(),s=function(){return this};return $S=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(n,{next:t(+!c,l)}),r(o,u,!1,!0),i[u]=s,o},$S}var jS,WF;function PCe(){if(WF)return jS;WF=1;var n=Ot(),e=uo();return jS=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},jS}var BS,YF;function OCe(){if(YF)return BS;YF=1;var n=kr();return BS=function(e){return n(e)||e===null},BS}var zS,GF;function RCe(){if(GF)return zS;GF=1;var n=OCe(),e=String,t=TypeError;return zS=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},zS}var qS,VF;function DCe(){if(VF)return qS;VF=1;var n=PCe(),e=kr(),t=Zo(),r=RCe();return qS=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,c){return t(l),r(c),e(l)&&(i?o(l,c):l.__proto__=c),l}}():void 0),qS}var US,KF;function TR(){if(KF)return US;KF=1;var n=Je(),e=li(),t=Td(),r=MCe(),i=ir(),s=ICe(),o=Tx(),a=DCe(),l=Uc(),c=Id(),u=pg(),h=qn(),d=Rd(),f=dQ(),m=r.PROPER,g=r.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,b=h("iterator"),w="keys",S="values",_="entries",k=function(){return this};return US=function(C,T,O,R,D,F,N){s(O,T,R);var z=function(H){if(H===D&&q)return q;if(!y&&H&&H in B)return B[H];switch(H){case w:return function(){return new O(this,H)};case S:return function(){return new O(this,H)};case _:return function(){return new O(this,H)}}return function(){return new O(this)}},$=T+" Iterator",L=!1,B=C.prototype,j=B[b]||B["@@iterator"]||D&&B[D],q=!y&&j||z(D),W=T==="Array"&&B.entries||j,V,X,Z;if(W&&(V=o(W.call(new C)),V!==Object.prototype&&V.next&&(!t&&o(V)!==v&&(a?a(V,v):i(V[b])||u(V,b,k)),l(V,$,!0,!0),t&&(d[$]=k))),m&&D===S&&j&&j.name!==S&&(!t&&g?c(B,"name",S):(L=!0,q=function(){return e(j,this)})),D)if(X={values:z(S),keys:F?q:z(w),entries:z(_)},N)for(Z in X)(y||L||!(Z in B))&&u(B,Z,X[Z]);else n({target:T,proto:!0,forced:y||L},X);return(!t||N)&&B[b]!==q&&u(B,b,q,{name:D}),d[T]=q,X},US}var HS,XF;function MR(){return XF||(XF=1,HS=function(n,e){return{value:n,done:e}}),HS}var WS,QF;function dl(){if(QF)return WS;QF=1;var n=Is(),e=gg(),t=Rd(),r=mg(),i=es().f,s=TR(),o=MR(),a=Td(),l=$n(),c="Array Iterator",u=r.set,h=r.getterFor(c);WS=s(Array,"Array",function(f,m){u(this,{type:c,target:n(f),index:0,kind:m})},function(){var f=h(this),m=f.target,g=f.index++;if(!m||g>=m.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{i(d,"name",{value:"values"})}catch{}return WS}var YS,JF;function ACe(){return JF||(JF=1,YS={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),YS}var ZF;function fl(){if(ZF)return FF;ZF=1,dl();var n=ACe(),e=Tn(),t=Uc(),r=Rd();for(var i in n)t(e[i],i),r[i]=r.Array;return FF}var GS,e9;function fQ(){if(e9)return GS;e9=1;var n=TCe();return fl(),GS=n,GS}var VS,t9;function NCe(){return t9||(t9=1,VS=fQ()),VS}var LCe=NCe(),FCe=nt(LCe),n9={},r9;function $Ce(){if(r9)return n9;r9=1;var n=Je(),e=cl(),t=ZX(),r=kr(),i=_x(),s=Ps(),o=Is(),a=xx(),l=qn(),c=ug(),u=Od(),h=c("slice"),d=l("species"),f=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(v,y){var b=o(this),w=s(b),S=i(v,w),_=i(y===void 0?w:y,w),k,C,T;if(e(b)&&(k=b.constructor,t(k)&&(k===f||e(k.prototype))?k=void 0:r(k)&&(k=k[d],k===null&&(k=void 0)),k===f||k===void 0))return u(b,S,_);for(C=new(k===void 0?f:k)(m(_-S,0)),T=0;S<_;S++,T++)S in b&&a(C,T,b[S]);return C.length=T,C}}),n9}var KS,i9;function Mn(){if(i9)return KS;i9=1;var n=Tn(),e=en();return KS=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},KS}var XS,s9;function jCe(){if(s9)return XS;s9=1,$Ce();var n=Mn();return XS=n("Array","slice"),XS}var QS,o9;function BCe(){if(o9)return QS;o9=1;var n=on(),e=jCe(),t=Array.prototype;return QS=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},QS}var JS,a9;function zCe(){if(a9)return JS;a9=1;var n=BCe();return JS=n,JS}var ZS,l9;function qCe(){return l9||(l9=1,ZS=zCe()),ZS}var UCe=qCe(),Dd=nt(UCe),c9={},ek,u9;function pQ(){if(u9)return ek;u9=1;var n=Ii(),e=Ot(),t=kx(),r=Cx(),i=ea(),s=e([].concat);return ek=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),c=r.f;return c?s(l,c(a)):l},ek}var h9;function HCe(){if(h9)return c9;h9=1;var n=Je(),e=pQ();return n({target:"Reflect",stat:!0},{ownKeys:e}),c9}var tk,d9;function WCe(){if(d9)return tk;d9=1,HCe();var n=en();return tk=n.Reflect.ownKeys,tk}var nk,f9;function YCe(){if(f9)return nk;f9=1;var n=WCe();return nk=n,nk}var rk,p9;function GCe(){return p9||(p9=1,rk=YCe()),rk}var VCe=GCe(),KCe=nt(VCe),m9={},g9;function XCe(){if(g9)return m9;g9=1;var n=Je(),e=cl();return n({target:"Array",stat:!0},{isArray:e}),m9}var ik,v9;function QCe(){if(v9)return ik;v9=1,XCe();var n=en();return ik=n.Array.isArray,ik}var sk,y9;function JCe(){if(y9)return sk;y9=1;var n=QCe();return sk=n,sk}var ok,b9;function ZCe(){return b9||(b9=1,ok=JCe()),ok}var e2e=ZCe(),Et=nt(e2e),x9={},w9;function t2e(){if(w9)return x9;w9=1;var n=Je(),e=hl().map,t=ug(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),x9}var ak,_9;function n2e(){if(_9)return ak;_9=1,t2e();var n=Mn();return ak=n("Array","map"),ak}var lk,S9;function r2e(){if(S9)return lk;S9=1;var n=on(),e=n2e(),t=Array.prototype;return lk=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},lk}var ck,k9;function i2e(){if(k9)return ck;k9=1;var n=r2e();return ck=n,ck}var uk,C9;function s2e(){return C9||(C9=1,uk=i2e()),uk}var o2e=s2e(),zt=nt(o2e),E9={},T9;function a2e(){if(T9)return E9;T9=1;var n=Je(),e=ci(),t=dg(),r=Tt(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),E9}var hk,M9;function l2e(){if(M9)return hk;M9=1,a2e();var n=en();return hk=n.Object.keys,hk}var dk,I9;function c2e(){if(I9)return dk;I9=1;var n=l2e();return dk=n,dk}var fk,P9;function u2e(){return P9||(P9=1,fk=c2e()),fk}var h2e=u2e(),Vn=nt(h2e),O9={},R9;function d2e(){if(R9)return O9;R9=1;var n=Je(),e=Ot(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),O9}var pk,D9;function f2e(){if(D9)return pk;D9=1,d2e();var n=en();return pk=n.Date.now,pk}var mk,A9;function p2e(){if(A9)return mk;A9=1;var n=f2e();return mk=n,mk}var gk,N9;function m2e(){return N9||(N9=1,gk=p2e()),gk}var g2e=m2e(),pi=nt(g2e),L9={},vk,F9;function v2e(){if(F9)return vk;F9=1;var n=Ot(),e=uo(),t=kr(),r=sr(),i=Od(),s=ig(),o=Function,a=n([].concat),l=n([].join),c={},u=function(h,d,f){if(!r(c,d)){for(var m=[],g=0;g<d;g++)m[g]="a["+g+"]";c[d]=o("C,a","return new C("+l(m,",")+")")}return c[d](h,f)};return vk=s?o.bind:function(d){var f=e(this),m=f.prototype,g=i(arguments,1),v=function(){var b=a(g,i(arguments));return this instanceof v?u(f,b.length,b):f.apply(d,b)};return t(m)&&(v.prototype=m),v},vk}var $9;function y2e(){if($9)return L9;$9=1;var n=Je(),e=v2e();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),L9}var yk,j9;function b2e(){if(j9)return yk;j9=1,y2e();var n=Mn();return yk=n("Function","bind"),yk}var bk,B9;function x2e(){if(B9)return bk;B9=1;var n=on(),e=b2e(),t=Function.prototype;return bk=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},bk}var xk,z9;function w2e(){if(z9)return xk;z9=1;var n=x2e();return xk=n,xk}var wk,q9;function _2e(){return q9||(q9=1,wk=w2e()),wk}var S2e=_2e(),he=nt(S2e),U9={},_k,H9;function Ad(){if(H9)return _k;H9=1;var n=Tt();return _k=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},_k}var Sk,W9;function k2e(){if(W9)return Sk;W9=1;var n=hl().forEach,e=Ad(),t=e("forEach");return Sk=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Sk}var Y9;function C2e(){if(Y9)return U9;Y9=1;var n=Je(),e=k2e();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),U9}var kk,G9;function E2e(){if(G9)return kk;G9=1,C2e();var n=Mn();return kk=n("Array","forEach"),kk}var Ck,V9;function T2e(){if(V9)return Ck;V9=1;var n=E2e();return Ck=n,Ck}var Ek,K9;function M2e(){if(K9)return Ek;K9=1;var n=ul(),e=sr(),t=on(),r=T2e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ek=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Ek}var Tk,X9;function I2e(){return X9||(X9=1,Tk=M2e()),Tk}var P2e=I2e(),ze=nt(P2e),Q9={},J9;function O2e(){if(J9)return Q9;J9=1;var n=Je(),e=Ot(),t=cl(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),Q9}var Mk,Z9;function R2e(){if(Z9)return Mk;Z9=1,O2e();var n=Mn();return Mk=n("Array","reverse"),Mk}var Ik,e7;function D2e(){if(e7)return Ik;e7=1;var n=on(),e=R2e(),t=Array.prototype;return Ik=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Ik}var Pk,t7;function A2e(){if(t7)return Pk;t7=1;var n=D2e();return Pk=n,Pk}var Ok,n7;function N2e(){return n7||(n7=1,Ok=A2e()),Ok}var L2e=N2e(),F2e=nt(L2e),r7={},Rk,i7;function $2e(){if(i7)return Rk;i7=1;var n=$n(),e=cl(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Rk=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Rk}var Dk,s7;function mQ(){if(s7)return Dk;s7=1;var n=Ed(),e=TypeError;return Dk=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Dk}var o7;function j2e(){if(o7)return r7;o7=1;var n=Je(),e=ci(),t=_x(),r=Pd(),i=Ps(),s=$2e(),o=wR(),a=wx(),l=xx(),c=mQ(),u=ug(),h=u("splice"),d=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(g,v){var y=e(this),b=i(y),w=t(g,b),S=arguments.length,_,k,C,T,O,R;for(S===0?_=k=0:S===1?(_=0,k=b-w):(_=S-2,k=f(d(r(v),0),b-w)),o(b+_-k),C=a(y,k),T=0;T<k;T++)O=w+T,O in y&&l(C,T,y[O]);if(C.length=k,_<k){for(T=w;T<b-k;T++)O=T+k,R=T+_,O in y?y[R]=y[O]:c(y,R);for(T=b;T>b-k+_;T--)c(y,T-1)}else if(_>k)for(T=b-k;T>w;T--)O=T+k-1,R=T+_-1,O in y?y[R]=y[O]:c(y,R);for(T=0;T<_;T++)y[T+w]=arguments[T+2];return s(y,b-k+_),C}}),r7}var Ak,a7;function B2e(){if(a7)return Ak;a7=1,j2e();var n=Mn();return Ak=n("Array","splice"),Ak}var Nk,l7;function z2e(){if(l7)return Nk;l7=1;var n=on(),e=B2e(),t=Array.prototype;return Nk=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Nk}var Lk,c7;function q2e(){if(c7)return Lk;c7=1;var n=z2e();return Lk=n,Lk}var Fk,u7;function U2e(){return u7||(u7=1,Fk=q2e()),Fk}var H2e=U2e(),Dr=nt(H2e),h7={},$k,d7;function W2e(){if(d7)return $k;d7=1;var n=$n(),e=Ot(),t=li(),r=Tt(),i=dg(),s=Cx(),o=gx(),a=ci(),l=vx(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return $k=!c||r(function(){if(n&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return d[m]=7,g.split("").forEach(function(v){f[v]=v}),c({},d)[m]!==7||i(c({},f)).join("")!==g})?function(f,m){for(var g=a(f),v=arguments.length,y=1,b=s.f,w=o.f;v>y;)for(var S=l(arguments[y++]),_=b?h(i(S),b(S)):i(S),k=_.length,C=0,T;k>C;)T=_[C++],(!n||t(w,S,T))&&(g[T]=S[T]);return g}:c,$k}var f7;function Y2e(){if(f7)return h7;f7=1;var n=Je(),e=W2e();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),h7}var jk,p7;function G2e(){if(p7)return jk;p7=1,Y2e();var n=en();return jk=n.Object.assign,jk}var Bk,m7;function V2e(){if(m7)return Bk;m7=1;var n=G2e();return Bk=n,Bk}var zk,g7;function K2e(){return g7||(g7=1,zk=V2e()),zk}var X2e=K2e(),sl=nt(X2e),v7={},y7;function Q2e(){if(y7)return v7;y7=1;var n=Je(),e=SR().includes,t=Tt(),r=gg(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),v7}var qk,b7;function J2e(){if(b7)return qk;b7=1,Q2e();var n=Mn();return qk=n("Array","includes"),qk}var x7={},Uk,w7;function Z2e(){if(w7)return Uk;w7=1;var n=kr(),e=co(),t=qn(),r=t("match");return Uk=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Uk}var Hk,_7;function eEe(){if(_7)return Hk;_7=1;var n=Z2e(),e=TypeError;return Hk=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Hk}var Wk,S7;function tEe(){if(S7)return Wk;S7=1;var n=qn(),e=n("match");return Wk=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Wk}var k7;function nEe(){if(k7)return x7;k7=1;var n=Je(),e=Ot(),t=eEe(),r=Zo(),i=ts(),s=tEe(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(r(this)),i(t(l)),arguments.length>1?arguments[1]:void 0)}}),x7}var Yk,C7;function rEe(){if(C7)return Yk;C7=1,nEe();var n=Mn();return Yk=n("String","includes"),Yk}var Gk,E7;function iEe(){if(E7)return Gk;E7=1;var n=on(),e=J2e(),t=rEe(),r=Array.prototype,i=String.prototype;return Gk=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},Gk}var Vk,T7;function sEe(){if(T7)return Vk;T7=1;var n=iEe();return Vk=n,Vk}var Kk,M7;function oEe(){return M7||(M7=1,Kk=sEe()),Kk}var aEe=oEe(),ed=nt(aEe),I7={},P7;function lEe(){if(P7)return I7;P7=1;var n=Je(),e=Tt(),t=ci(),r=Tx(),i=hQ(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),I7}var Xk,O7;function cEe(){if(O7)return Xk;O7=1,lEe();var n=en();return Xk=n.Object.getPrototypeOf,Xk}var Qk,R7;function uEe(){if(R7)return Qk;R7=1;var n=cEe();return Qk=n,Qk}var Jk,D7;function hEe(){return D7||(D7=1,Jk=uEe()),Jk}var dEe=hEe(),A7=nt(dEe),Zk,N7;function fEe(){if(N7)return Zk;N7=1,eQ();var n=Mn();return Zk=n("Array","concat"),Zk}var eC,L7;function pEe(){if(L7)return eC;L7=1;var n=on(),e=fEe(),t=Array.prototype;return eC=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},eC}var tC,F7;function mEe(){if(F7)return tC;F7=1;var n=pEe();return tC=n,tC}var nC,$7;function gEe(){return $7||($7=1,nC=mEe()),nC}var vEe=gEe(),On=nt(vEe),j7={},B7;function yEe(){if(B7)return j7;B7=1;var n=Je(),e=hl().filter,t=ug(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),j7}var rC,z7;function bEe(){if(z7)return rC;z7=1,yEe();var n=Mn();return rC=n("Array","filter"),rC}var iC,q7;function xEe(){if(q7)return iC;q7=1;var n=on(),e=bEe(),t=Array.prototype;return iC=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},iC}var sC,U7;function wEe(){if(U7)return sC;U7=1;var n=xEe();return sC=n,sC}var oC,H7;function _Ee(){return H7||(H7=1,oC=wEe()),oC}var SEe=_Ee(),vt=nt(SEe),W7={},aC,Y7;function gQ(){if(Y7)return aC;Y7=1;var n=$n(),e=Tt(),t=Ot(),r=Tx(),i=dg(),s=Is(),o=gx().f,a=t(o),l=t([].push),c=n&&e(function(){var h=Object.create(null);return h[2]=2,!a(h,2)}),u=function(h){return function(d){for(var f=s(d),m=i(f),g=c&&r(f)===null,v=m.length,y=0,b=[],w;v>y;)w=m[y++],(!n||(g?w in f:a(f,w)))&&l(b,h?[w,f[w]]:f[w]);return b}};return aC={entries:u(!0),values:u(!1)},aC}var G7;function kEe(){if(G7)return W7;G7=1;var n=Je(),e=gQ().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),W7}var lC,V7;function CEe(){if(V7)return lC;V7=1,kEe();var n=en();return lC=n.Object.values,lC}var cC,K7;function EEe(){if(K7)return cC;K7=1;var n=CEe();return cC=n,cC}var uC,X7;function TEe(){return X7||(X7=1,uC=EEe()),uC}var MEe=TEe(),IR=nt(MEe),Q7={},hC,J7;function PR(){return J7||(J7=1,hC=`	
\v\f\r \u2028\u2029\uFEFF`),hC}var dC,Z7;function vQ(){if(Z7)return dC;Z7=1;var n=Ot(),e=Zo(),t=ts(),r=PR(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(c){var u=t(e(c));return l&1&&(u=i(u,s,"")),l&2&&(u=i(u,o,"$1")),u}};return dC={start:a(1),end:a(2),trim:a(3)},dC}var fC,e$;function IEe(){if(e$)return fC;e$=1;var n=Tn(),e=Tt(),t=Ot(),r=ts(),i=vQ().trim,s=PR(),o=n.parseInt,a=n.Symbol,l=a&&a.iterator,c=/^[+-]?0x/i,u=t(c.exec),h=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return fC=h?function(f,m){var g=i(r(f));return o(g,m>>>0||(u(c,g)?16:10))}:o,fC}var t$;function PEe(){if(t$)return Q7;t$=1;var n=Je(),e=IEe();return n({global:!0,forced:parseInt!==e},{parseInt:e}),Q7}var pC,n$;function OEe(){if(n$)return pC;n$=1,PEe();var n=en();return pC=n.parseInt,pC}var mC,r$;function REe(){if(r$)return mC;r$=1;var n=OEe();return mC=n,mC}var gC,i$;function DEe(){return i$||(i$=1,gC=REe()),gC}var AEe=DEe(),mi=nt(AEe),s$={},o$;function NEe(){if(o$)return s$;o$=1;var n=Je(),e=vR(),t=SR().indexOf,r=Ad(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:t(this,l,c)}}),s$}var vC,a$;function LEe(){if(a$)return vC;a$=1,NEe();var n=Mn();return vC=n("Array","indexOf"),vC}var yC,l$;function FEe(){if(l$)return yC;l$=1;var n=on(),e=LEe(),t=Array.prototype;return yC=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},yC}var bC,c$;function $Ee(){if(c$)return bC;c$=1;var n=FEe();return bC=n,bC}var xC,u$;function jEe(){return u$||(u$=1,xC=$Ee()),xC}var BEe=jEe(),Gt=nt(BEe),h$={},d$;function zEe(){if(d$)return h$;d$=1;var n=Je(),e=gQ().entries;return n({target:"Object",stat:!0},{entries:function(r){return e(r)}}),h$}var wC,f$;function qEe(){if(f$)return wC;f$=1,zEe();var n=en();return wC=n.Object.entries,wC}var _C,p$;function UEe(){if(p$)return _C;p$=1;var n=qEe();return _C=n,_C}var SC,m$;function HEe(){return m$||(m$=1,SC=UEe()),SC}var WEe=HEe(),YEe=nt(WEe),g$={},v$;function GEe(){if(v$)return g$;v$=1;var n=Je(),e=$n(),t=fg();return n({target:"Object",stat:!0,sham:!e},{create:t}),g$}var kC,y$;function VEe(){if(y$)return kC;y$=1,GEe();var n=en(),e=n.Object;return kC=function(r,i){return e.create(r,i)},kC}var CC,b$;function KEe(){if(b$)return CC;b$=1;var n=VEe();return CC=n,CC}var EC,x$;function XEe(){return x$||(x$=1,EC=KEe()),EC}var QEe=XEe(),vg=nt(QEe),w$={},TC,_$;function yQ(){if(_$)return TC;_$=1;var n=Pd(),e=ts(),t=Zo(),r=RangeError;return TC=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},TC}var MC,S$;function JEe(){if(S$)return MC;S$=1;var n=Ot(),e=JX(),t=ts(),r=yQ(),i=Zo(),s=n(r),o=n("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(i(u)),m=e(h),g=f.length,v=d===void 0?" ":t(d),y,b;return m<=g||v===""?f:(y=m-g,b=s(v,a(y/v.length)),b.length>y&&(b=o(b,0,y)),c?f+b:b+f)}};return MC={start:l(!1),end:l(!0)},MC}var IC,k$;function ZEe(){if(k$)return IC;k$=1;var n=Ot(),e=Tt(),t=JEe().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),c=n(o.getUTCDate),u=n(o.getUTCFullYear),h=n(o.getUTCHours),d=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),m=n(o.getUTCMonth),g=n(o.getUTCSeconds);return IC=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var y=this,b=u(y),w=d(y),S=b<0?"-":b>9999?"+":"";return S+t(s(b),S?6:4,0)+"-"+t(m(y)+1,2,0)+"-"+t(c(y),2,0)+"T"+t(h(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(w,3,0)+"Z"}:a,IC}var C$;function eTe(){if(C$)return w$;C$=1;var n=Je(),e=li(),t=ci(),r=VX(),i=ZEe(),s=co(),o=Tt(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=r(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(i,u):u.toISOString()}}),w$}var PC,E$;function tTe(){if(E$)return PC;E$=1,eTe(),sQ();var n=en(),e=mx();return n.JSON||(n.JSON={stringify:JSON.stringify}),PC=function(r,i,s){return e(n.JSON.stringify,null,arguments)},PC}var OC,T$;function nTe(){if(T$)return OC;T$=1;var n=tTe();return OC=n,OC}var RC,M$;function rTe(){return M$||(M$=1,RC=nTe()),RC}var iTe=rTe(),Yr=nt(iTe),I$={},P$={},DC,O$;function bQ(){if(O$)return DC;O$=1;var n=Tn(),e=kd(),t=co(),r=function(i){return e.slice(0,i.length)===i};return DC=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),DC}var AC,R$;function sTe(){if(R$)return AC;R$=1;var n=TypeError;return AC=function(e,t){if(e<t)throw new n("Not enough arguments");return e},AC}var NC,D$;function xQ(){if(D$)return NC;D$=1;var n=Tn(),e=mx(),t=ir(),r=bQ(),i=kd(),s=Od(),o=sTe(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&function(){var c=n.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return NC=function(c,u){var h=u?2:1;return l?function(d,f){var m=o(arguments.length,1)>h,g=t(d)?d:a(d),v=m?s(arguments,h):[],y=m?function(){e(g,this,v)}:g;return u?c(y,f):c(y)}:c},NC}var A$;function oTe(){if(A$)return P$;A$=1;var n=Je(),e=Tn(),t=xQ(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),P$}var N$={},L$;function aTe(){if(L$)return N$;L$=1;var n=Je(),e=Tn(),t=xQ(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),N$}var F$;function wQ(){return F$||(F$=1,oTe(),aTe()),I$}var LC,$$;function lTe(){if($$)return LC;$$=1,wQ();var n=en();return LC=n.setTimeout,LC}var FC,j$;function cTe(){return j$||(j$=1,FC=lTe()),FC}var uTe=cTe(),ti=nt(uTe),B$={},$C,z$;function hTe(){if(z$)return $C;z$=1;var n=ci(),e=_x(),t=Ps();return $C=function(i){for(var s=n(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=c===void 0?o:e(c,o);u>l;)s[l++]=i;return s},$C}var q$;function dTe(){if(q$)return B$;q$=1;var n=Je(),e=hTe(),t=gg();return n({target:"Array",proto:!0},{fill:e}),t("fill"),B$}var jC,U$;function fTe(){if(U$)return jC;U$=1,dTe();var n=Mn();return jC=n("Array","fill"),jC}var BC,H$;function pTe(){if(H$)return BC;H$=1;var n=on(),e=fTe(),t=Array.prototype;return BC=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},BC}var zC,W$;function mTe(){if(W$)return zC;W$=1;var n=pTe();return zC=n,zC}var qC,Y$;function gTe(){return Y$||(Y$=1,qC=mTe()),qC}var vTe=gTe(),_Q=nt(vTe),UC={exports:{}},G$;function yTe(){return G$||(G$=1,function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(UC)),UC.exports}var bTe=yTe(),OR=nt(bTe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ks(){return ks=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ks.apply(this,arguments)}function ns(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Q0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var NI;typeof Object.assign!="function"?NI=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:NI=Object.assign;var Mc=NI,V$=["","webkit","Moz","MS","ms","o"],xTe=typeof document>"u"?{style:{}}:document.createElement("div"),wTe="function",Nu=Math.round,Ic=Math.abs,RR=Date.now;function Mx(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<V$.length;){if(t=V$[s],r=t?t+i:e,r in n)return r;s++}}var qo;typeof window>"u"?qo={}:qo=window;var SQ=Mx(xTe.style,"touchAction"),kQ=SQ!==void 0;function _Te(){if(!kQ)return!1;var n={},e=qo.CSS&&qo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?qo.CSS.supports("touch-action",t):!0}),n}var CQ="compute",EQ="auto",LI="manipulation",uc="none",wm="pan-x",_m="pan-y",J0=_Te(),STe=/mobile|tablet|ip(ad|hone|od)|android/i,TQ="ontouchstart"in qo,kTe=Mx(qo,"PointerEvent")!==void 0,CTe=TQ&&STe.test(navigator.userAgent),yg="touch",ETe="pen",DR="mouse",TTe="kinect",MTe=25,Fr=1,Hc=2,zn=4,si=8,Hy=1,bg=2,xg=4,wg=8,td=16,ro=bg|xg,hc=wg|td,MQ=ro|hc,IQ=["x","y"],Wy=["clientX","clientY"];function Uo(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Ix(n,e){return typeof n===wTe?n.apply(e&&e[0]||void 0,e):n}function Hl(n,e){return n.indexOf(e)>-1}function ITe(n){if(Hl(n,uc))return uc;var e=Hl(n,wm),t=Hl(n,_m);return e&&t?uc:e||t?e?wm:_m:Hl(n,LI)?LI:EQ}var PQ=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===CQ&&(r=this.compute()),kQ&&this.manager.element.style&&J0[r]&&(this.manager.element.style[SQ]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Uo(this.manager.recognizers,function(i){Ix(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),ITe(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Hl(o,uc)&&!J0[uc],l=Hl(o,_m)&&!J0[_m],c=Hl(o,wm)&&!J0[wm];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&ro||c&&s&hc))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function AR(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function OQ(n){var e=n.length;if(e===1)return{x:Nu(n[0].clientX),y:Nu(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Nu(t/e),y:Nu(r/e)}}function K$(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Nu(n.pointers[t].clientX),clientY:Nu(n.pointers[t].clientY)},t++;return{timeStamp:RR(),pointers:e,center:OQ(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Yy(n,e,t){t||(t=IQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function FI(n,e,t){t||(t=IQ);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function RQ(n,e){return n===e?Hy:Ic(n)>=Ic(e)?n<0?bg:xg:e<0?wg:td}function PTe(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Fr||s.eventType===zn)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function DQ(n,e,t){return{x:e/n||0,y:t/n||0}}function OTe(n,e){return Yy(e[0],e[1],Wy)/Yy(n[0],n[1],Wy)}function RTe(n,e){return FI(e[1],e[0],Wy)+FI(n[1],n[0],Wy)}function DTe(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==si&&(r>MTe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=DQ(r,l,c);s=u.x,o=u.y,i=Ic(u.x)>Ic(u.y)?u.x:u.y,a=RQ(l,c),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function ATe(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=K$(e)),i>1&&!t.firstMultiple?t.firstMultiple=K$(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=OQ(r);e.timeStamp=RR(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=FI(a,l),e.distance=Yy(a,l),PTe(t,e),e.offsetDirection=RQ(e.deltaX,e.deltaY);var c=DQ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ic(c.x)>Ic(c.y)?c.x:c.y,e.scale=o?OTe(o.pointers,r):1,e.rotation=o?RTe(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,DTe(t,e);var u=n.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,AR(d,u)&&(u=d),e.target=u}function NTe(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Fr&&r-i===0,o=e&(zn|si)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,ATe(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Sm(n){return n.trim().split(/\s+/g)}function fp(n,e,t){Uo(Sm(e),function(r){n.addEventListener(r,t,!1)})}function pp(n,e,t){Uo(Sm(e),function(r){n.removeEventListener(r,t,!1)})}function X$(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Nd=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Ix(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&fp(this.element,this.evEl,this.domHandler),this.evTarget&&fp(this.target,this.evTarget,this.domHandler),this.evWin&&fp(X$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&pp(this.element,this.evEl,this.domHandler),this.evTarget&&pp(this.target,this.evTarget,this.domHandler),this.evWin&&pp(X$(this.element),this.evWin,this.domHandler)},n}();function Pc(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var LTe={pointerdown:Fr,pointermove:Hc,pointerup:zn,pointercancel:si,pointerout:si},FTe={2:yg,3:ETe,4:DR,5:TTe},AQ="pointerdown",NQ="pointermove pointerup pointercancel";qo.MSPointerEvent&&!qo.PointerEvent&&(AQ="MSPointerDown",NQ="MSPointerMove MSPointerUp MSPointerCancel");var LQ=function(n){ns(e,n);function e(){var r,i=e.prototype;return i.evEl=AQ,i.evWin=NQ,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=LTe[a],c=FTe[i.pointerType]||i.pointerType,u=c===yg,h=Pc(s,i.pointerId,"pointerId");l&Fr&&(i.button===0||u)?h<0&&(s.push(i),h=s.length-1):l&(zn|si)&&(o=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),o&&s.splice(h,1))},e}(Nd);function km(n){return Array.prototype.slice.call(n,0)}function NR(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Pc(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var $Te={touchstart:Fr,touchmove:Hc,touchend:zn,touchcancel:si},jTe="touchstart touchmove touchend touchcancel",LR=function(n){ns(e,n);function e(){var r;return e.prototype.evTarget=jTe,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=$Te[i.type],o=BTe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:yg,srcEvent:i})},e}(Nd);function BTe(n,e){var t=km(n.touches),r=this.targetIds;if(e&(Fr|Hc)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=km(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return AR(c.target,l)}),e===Fr)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(zn|si)&&delete r[o[i].identifier],i++;if(a.length)return[NR(s.concat(a),"identifier",!0),a]}var zTe={mousedown:Fr,mousemove:Hc,mouseup:zn},qTe="mousedown",UTe="mousemove mouseup",FR=function(n){ns(e,n);function e(){var r,i=e.prototype;return i.evEl=qTe,i.evWin=UTe,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=zTe[i.type];s&Fr&&i.button===0&&(this.pressed=!0),s&Hc&&i.which!==1&&(s=zn),this.pressed&&(s&zn&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:DR,srcEvent:i}))},e}(Nd),HTe=2500,Q$=25;function J$(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,HTe)}}function WTe(n,e){n&Fr?(this.primaryTouch=e.changedPointers[0].identifier,J$.call(this,e)):n&(zn|si)&&J$.call(this,e)}function YTe(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=Q$&&o<=Q$)return!0}return!1}var FQ=function(){var n=function(e){ns(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,c){var u=c.pointerType===yg,h=c.pointerType===DR;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)WTe.call(Q0(Q0(o)),l,c);else if(h&&YTe.call(Q0(Q0(o)),c))return;o.callback(a,l,c)}},o.touch=new LR(o.manager,o.handler),o.mouse=new FR(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Nd);return n}();function GTe(n){var e,t=n.options.inputClass;return t?e=t:kTe?e=LQ:CTe?e=LR:TQ?e=FQ:e=FR,new e(n,NTe)}function Lu(n,e,t){return Array.isArray(n)?(Uo(n,t[e],t),!0):!1}var Lv=1,Ki=2,nd=4,Za=8,Ho=Za,Cm=16,Xs=32,VTe=1;function KTe(){return VTe++}function Z0(n,e){var t=e.manager;return t?t.get(n):n}function Z$(n){return n&Cm?"cancel":n&Za?"end":n&nd?"move":n&Ki?"start":""}var _g=function(){function n(t){t===void 0&&(t={}),this.options=ks({enable:!0},t),this.id=KTe(),this.manager=null,this.state=Lv,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Mc(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Lu(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Z0(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Lu(r,"dropRecognizeWith",this)?this:(r=Z0(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Lu(r,"requireFailure",this))return this;var i=this.requireFail;return r=Z0(r,this),Pc(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Lu(r,"dropRequireFailure",this))return this;r=Z0(r,this);var i=Pc(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Za&&o(i.options.event+Z$(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Za&&o(i.options.event+Z$(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Xs},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Xs|Lv)))return!1;r++}return!0},e.recognize=function(r){var i=Mc({},r);if(!Ix(this.options.enable,[this,i])){this.reset(),this.state=Xs;return}this.state&(Ho|Cm|Xs)&&(this.state=Lv),this.state=this.process(i),this.state&(Ki|nd|Za|Cm)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n}(),$I=function(n){ns(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ks({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[LI]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime<o.time;if(this.reset(),i.eventType&Fr&&this.count===0)return this.failTimeout();if(l&&c&&a){if(i.eventType!==zn)return this.failTimeout();var u=this.pTime?i.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Yy(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!u?this.count=1:this.count+=1,this._input=i;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ho,s.tryEmit()},o.interval),Ki):Ho}return Xs},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Xs},this.options.interval),Xs},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Ho&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(_g),rd=function(n){ns(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ks({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Ki|nd),l=this.attrTest(i);return a&&(o&si||!l)?s|Cm:a||l?o&zn?s|Za:s&Ki?s|nd:Ki:Xs},e}(_g);function $Q(n){return n===td?"down":n===wg?"up":n===bg?"left":n===xg?"right":""}var $R=function(n){ns(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ks({event:"pan",threshold:10,pointers:1,direction:MQ},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&ro&&s.push(_m),i&hc&&s.push(wm),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,c=i.deltaX,u=i.deltaY;return l&s.direction||(s.direction&ro?(l=c===0?Hy:c<0?bg:xg,o=c!==this.pX,a=Math.abs(i.deltaX)):(l=u===0?Hy:u<0?wg:td,o=u!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return rd.prototype.attrTest.call(this,i)&&(this.state&Ki||!(this.state&Ki)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=$Q(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e}(rd),jQ=function(n){ns(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ks({event:"swipe",threshold:10,velocity:.3,direction:ro|hc,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return $R.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(ro|hc)?o=i.overallVelocity:s&ro?o=i.overallVelocityX:s&hc&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ic(o)>this.options.velocity&&i.eventType&zn},t.emit=function(i){var s=$Q(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(rd),BQ=function(n){ns(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ks({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[uc]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Ki)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e}(rd),zQ=function(n){ns(e,n);function e(r){return r===void 0&&(r={}),n.call(this,ks({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[uc]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Ki)},e}(rd),qQ=function(n){ns(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,ks({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[EQ]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(zn|si)&&!c)this.reset();else if(i.eventType&Fr)this.reset(),this._timer=setTimeout(function(){s.state=Ho,s.tryEmit()},o.time);else if(i.eventType&zn)return Ho;return Xs},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===Ho&&(i&&i.eventType&zn?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=RR(),this.manager.emit(this.options.event,this._input)))},e}(_g),UQ={domEvents:!1,touchAction:CQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ej=[[zQ,{enable:!1}],[BQ,{enable:!1},["rotate"]],[jQ,{direction:ro}],[$R,{direction:ro},["swipe"]],[$I],[$I,{event:"doubletap",taps:2},["tap"]],[qQ]],XTe=1,tj=2;function nj(n,e){var t=n.element;if(t.style){var r;Uo(n.options.cssProps,function(i,s){r=Mx(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function QTe(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var rj=function(){function n(t,r){var i=this;this.options=Mc({},UQ,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=GTe(this),this.touchAction=new PQ(this,this.options.touchAction),nj(this,!0),Uo(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Mc(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?tj:XTe},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Ho)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==tj&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Ki|nd|Za)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof _g)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(Lu(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Lu(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Pc(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Uo(Sm(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Uo(Sm(r),function(o){i?s[o]&&s[o].splice(Pc(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&QTe(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&nj(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),JTe={touchstart:Fr,touchmove:Hc,touchend:zn,touchcancel:si},ZTe="touchstart",eMe="touchstart touchmove touchend touchcancel",tMe=function(n){ns(e,n);function e(){var r,i=e.prototype;return i.evTarget=ZTe,i.evWin=eMe,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=JTe[i.type];if(s===Fr&&(this.started=!0),!!this.started){var o=nMe.call(this,i,s);s&(zn|si)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:yg,srcEvent:i})}},e}(Nd);function nMe(n,e){var t=km(n.touches),r=km(n.changedTouches);return e&(zn|si)&&(t=NR(t.concat(r),"identifier",!0)),[t,r]}function HQ(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var WQ=HQ(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),rMe=HQ(function(n,e){return WQ(n,e,!0)},"merge","Use `assign`.");function iMe(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Mc(i,t)}function ij(n,e){return function(){return n.apply(e,arguments)}}var jR=function(){var n=function(t,r){return r===void 0&&(r={}),new rj(t,ks({recognizers:ej.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=MQ,n.DIRECTION_DOWN=td,n.DIRECTION_LEFT=bg,n.DIRECTION_RIGHT=xg,n.DIRECTION_UP=wg,n.DIRECTION_HORIZONTAL=ro,n.DIRECTION_VERTICAL=hc,n.DIRECTION_NONE=Hy,n.DIRECTION_DOWN=td,n.INPUT_START=Fr,n.INPUT_MOVE=Hc,n.INPUT_END=zn,n.INPUT_CANCEL=si,n.STATE_POSSIBLE=Lv,n.STATE_BEGAN=Ki,n.STATE_CHANGED=nd,n.STATE_ENDED=Za,n.STATE_RECOGNIZED=Ho,n.STATE_CANCELLED=Cm,n.STATE_FAILED=Xs,n.Manager=rj,n.Input=Nd,n.TouchAction=PQ,n.TouchInput=LR,n.MouseInput=FR,n.PointerEventInput=LQ,n.TouchMouseInput=FQ,n.SingleTouchInput=tMe,n.Recognizer=_g,n.AttrRecognizer=rd,n.Tap=$I,n.Pan=$R,n.Swipe=jQ,n.Pinch=BQ,n.Rotate=zQ,n.Press=qQ,n.on=fp,n.off=pp,n.each=Uo,n.merge=rMe,n.extend=WQ,n.bindFn=ij,n.assign=Mc,n.inherit=iMe,n.bindFn=ij,n.prefixed=Mx,n.toArray=km,n.inArray=Pc,n.uniqueArray=NR,n.splitStr=Sm,n.boolOrFn=Ix,n.hasParent=AR,n.addEventListeners=fp,n.removeEventListeners=pp,n.defaults=Mc({},UQ,{preset:ej}),n}();jR.defaults;const BR=FCe("DELETE");function YQ(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return zR({},n,...t)}function zR(){const n=Gy(...arguments);return VQ(n),n}function Gy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Gy(zR(e[0],e[1]),...Dd(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of KCe(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===BR?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!Et(r[s])&&!Et(i[s])?r[s]=Gy(r[s],i[s]):r[s]=GQ(i[s]));return r}function GQ(n){return Et(n)?zt(n).call(n,e=>GQ(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Gy({},n):n}function VQ(n){for(const e of Vn(n))n[e]===BR?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&VQ(n[e])}function sMe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return oMe(e.length?e:[pi()])}function oMe(n){let[e,t,r]=aMe(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function aMe(){const n=lMe();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function lMe(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function cMe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const qR=typeof window<"u"?window.Hammer||jR:function(){return cMe()};function Qs(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=qR(this._dom.overlay);t.on("tap",he(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ze(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{uMe(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}OR(Qs.prototype);Qs.current=null;Qs.prototype.destroy=function(){this.deactivate();for(const t of F2e(n=Dr(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Qs.prototype.activate=function(){Qs.current&&Qs.current.deactivate(),Qs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Qs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Qs.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function uMe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const hMe=/^\/?Date\((-?\d+)/i,dMe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,fMe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,pMe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,mMe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function mp(n){return n instanceof Number||typeof n=="number"}function KQ(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(KQ(e),n.removeChild(e))}}function gi(n){return n instanceof String||typeof n=="string"}function jI(n){return typeof n=="object"&&n!==null}function gMe(n){if(n instanceof Date)return!0;if(gi(n)){if(hMe.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function Oc(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function XQ(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Oc(n,e,r,t);else{const i=n[r],s=e[r];jI(i)&&jI(s)&&XQ(i,s,t)}}const vMe=sl;function yMe(n,e){if(!Et(n))throw new Error("Array with property names expected as first argument");for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];for(const s of r)for(let o=0;o<n.length;o++){const a=n[o];s&&Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}function bMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Em(e[s],t[s],!1,r):Oc(e,t,s,r);else{if(Et(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Oc(e,t,s,r)}}return e}function xMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!ed(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Em(e[i],t[i]):Oc(e,t,i,r);else if(Et(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Oc(e,t,i,r);return e}function Em(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&A7(e[s])===Object.prototype)n[s]===void 0?n[s]=Em({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&A7(n[s])===Object.prototype?Em(n[s],e[s],t):Oc(n,e,s,r);else if(Et(e[s])){var i;n[s]=Dd(i=e[s]).call(i)}else Oc(n,e,s,r);return n}function wMe(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!=e[t])return!1;return!0}function Uf(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":Et(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Tm(n,e){return[...n,e]}function QQ(n){return Dd(n).call(n)}function _Me(n){return n.getBoundingClientRect().left}function SMe(n){return n.getBoundingClientRect().right}function kMe(n){return n.getBoundingClientRect().top}function CMe(n,e){let t=n.className.split(" ");const r=e.split(" ");t=On(t).call(t,vt(r).call(r,function(i){return!ed(t).call(t,i)})),n.className=t.join(" ")}function EMe(n,e){let t=n.className.split(" ");const r=e.split(" ");t=vt(t).call(t,function(i){return!ed(r).call(r,i)}),n.className=t.join(" ")}function TMe(n,e){if(Et(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}const MMe=IR;function IMe(n,e,t){return n[e]!==t?(n[e]=t,!0):!1}function PMe(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function OMe(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function RMe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function DMe(n,e){let t=n;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const AMe={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),gi(n)?n:mp(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function Px(n){let e;switch(n.length){case 3:case 4:return e=fMe.exec(n),e?{r:mi(e[1]+e[1],16),g:mi(e[2]+e[2],16),b:mi(e[3]+e[3],16)}:null;case 6:case 7:return e=dMe.exec(n),e?{r:mi(e[1],16),g:mi(e[2],16),b:mi(e[3],16)}:null;default:return null}}function NMe(n,e){if(ed(n).call(n,"rgba"))return n;if(ed(n).call(n,"rgb")){const t=n.substr(Gt(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Px(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function UR(n,e,t){var r;return"#"+Dd(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function LMe(n,e){if(gi(n)){let r=n;if(WR(r)){var t;const i=zt(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return mi(s)});r=UR(i[0],i[1],i[2])}if(HR(r)===!0){const i=ZQ(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=BI(o.h,o.s,o.v),l=BI(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:gi(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:gi(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:gi(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:gi(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Fu(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,l=(i-r)/i;return{h:a,s:l,v:i}}function JQ(n){const e=document.createElement("div"),t={};e.style.cssText=n;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function FMe(n,e){const t=JQ(e);for(const[r,i]of YEe(t))n.style.setProperty(r,i)}function $Me(n,e){const t=JQ(e);for(const r of Vn(t))n.style.removeProperty(r)}function gp(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=u,s=l;break;case 1:r=c,i=t,s=l;break;case 2:r=l,i=t,s=u;break;case 3:r=l,i=c,s=t;break;case 4:r=u,i=l,s=t;break;case 5:r=t,i=l,s=c;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function BI(n,e,t){const r=gp(n,e,t);return UR(r.r,r.g,r.b)}function ZQ(n){const e=Px(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Fu(e.r,e.g,e.b)}function HR(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function WR(n){return pMe.test(n)}function eJ(n){return mMe.test(n)}function jMe(n,e){if(e!==null&&typeof e=="object"){const t=vg(e);for(let r=0;r<n.length;r++)Object.prototype.hasOwnProperty.call(e,n[r])&&typeof e[n[r]]=="object"&&(t[n[r]]=YR(e[n[r]]));return t}else return null}function YR(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=vg(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=YR(n[t]));return e}function BMe(n,e){for(let t=0;t<n.length;t++){const r=n[t];let i;for(i=t;i>0&&e(r,n[i-1])<0;i--)n[i]=n[i-1];n[i]=r}return n}function zMe(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,m,g){s(f[g])||(f[g]={});const v=m[g],y=f[g];for(const b in v)Object.prototype.hasOwnProperty.call(v,b)&&(y[b]=v[b])},l=e[t],u=s(r)&&!o(r)?r[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=l;return}if(l===null&&!s(n[t]))if(i(u))n[t]=vg(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(n,e,t),n[t].enabled=d}function qMe(n,e,t,r){let s=0,o=0,a=n.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=n[l],u=r===void 0?c[t]:c[t][r],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function UMe(n,e,t,r,i){let o=0,a=0,l=n.length-1,c,u,h,d;for(i=i??function(f,m){return f==m?0:f<m?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=n[Math.max(0,d-1)][t],u=n[d][t],h=n[Math.min(n.length-1,d+1)][t],i(u,e)==0)return d;if(i(c,e)<0&&i(u,e)>0)return r=="before"?Math.max(0,d-1):d;if(i(u,e)<0&&i(h,e)>0)return r=="before"?d:Math.min(n.length-1,d+1);i(u,e)<0?a=d+1:l=d-1,o++}return-1}const HMe={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function WMe(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const t=n.offsetWidth;e.style.overflow="scroll";let r=n.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function YMe(n,e){let t;Et(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const GMe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let tJ=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return GMe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),gi(e)===!0){if(WR(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(eJ(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(HR(e)===!0){const s=Px(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Yr(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=sl({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ti(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=sl({},e)),this.color=e;const r=Fu(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Fu(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=gp(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=Fu(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_Q(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=he(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=he(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=he(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=he(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new qR(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=gp(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const m=u/this.r,g=Fu(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;const v=gp(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function zI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(zI(...Dd(e).call(e,1))),r}}let VMe=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},sl(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tJ(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),vt(e)!==void 0&&(this.options.filter=vt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);vt(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=vt(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Gt(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return ze(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(zI("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Gt(e).call(e,t)!==-1&&(s=Gt(e).call(e,t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ti(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ti(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=vt(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],c=Tm(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Et(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const u=this._getValue(c);if(Et(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=Tm(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(zI("pre","const options = "+Yr(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},KMe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=mi(e),this.y=mi(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},wf=!1,sj;const qI="background: #FFeeee; color: #dd0000";let XMe=class wn{static validate(e,t,r){wf=!1,sj=t;let i=t;return r!==void 0&&(i=t[r]),wn.parse(e,i,[]),wf}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&wn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){wn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=wn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),wn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(u){console.error("%c"+u+wn.printLocation(o,e),qI)},l=wn.getType(t[e]),c=s[l];c!==void 0?wn.getType(c)==="array"&&Gt(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+wn.print(c)+' not "'+t[e]+'". '),wf=!0):l==="object"&&i!=="__any__"&&(o=Tm(o,e),wn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+wn.print(Vn(s))+". Received ["+l+'] "'+t[e]+'"'),wf=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=wn.findInOptions(e,t,r,!1),s=wn.findInOptions(e,sj,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+wn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+wn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+wn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+wn.printLocation(i.path,e):l=". Did you mean one of these: "+wn.print(Vn(t))+wn.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,qI),wf=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const h in t){let d;if(t[h].__type__!==void 0&&i===!0){const f=wn.findInOptions(e,t[h],Tm(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Gt(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=wn.levenshteinDistance(e,h),s>d&&(o=h,a=QQ(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Yr(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const QMe=Qs,JMe=tJ,ZMe=VMe,eIe=qR,tIe=KMe,nIe=qI,rIe=XMe;var iIe=Object.freeze({__proto__:null,Activator:QMe,Alea:sMe,ColorPicker:JMe,Configurator:ZMe,DELETE:BR,HSVToHex:BI,HSVToRGB:gp,Hammer:eIe,Popup:tIe,RGBToHSV:Fu,RGBToHex:UR,VALIDATOR_PRINT_STYLE:nIe,Validator:rIe,addClassName:CMe,addCssText:FMe,binarySearchCustom:qMe,binarySearchValue:UMe,bridgeObject:YR,copyAndExtendArray:Tm,copyArray:QQ,deepExtend:Em,deepObjectAssign:zR,easingFunctions:HMe,equalArray:wMe,extend:vMe,fillIfDefined:XQ,forEach:TMe,getAbsoluteLeft:_Me,getAbsoluteRight:SMe,getAbsoluteTop:kMe,getScrollBarWidth:WMe,getTarget:RMe,getType:Uf,hasParent:DMe,hexToHSV:ZQ,hexToRGB:Px,insertSort:BMe,isDate:gMe,isNumber:mp,isObject:jI,isString:gi,isValidHex:HR,isValidRGB:WR,isValidRGBA:eJ,mergeOptions:zMe,option:AMe,overrideOpacity:NMe,parseColor:LMe,preventDefault:OMe,pureDeepObjectAssign:YQ,recursiveDOMDelete:KQ,removeClassName:EMe,removeCssText:$Me,selectiveBridgeObject:jMe,selectiveDeepExtend:bMe,selectiveExtend:yMe,selectiveNotDeepExtend:xMe,throttle:PMe,toArray:MMe,topMost:YMe,updateProperty:IMe});function Ca(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function ji(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const r=n[e];for(var t=0;t<r.redundant.length;t++)r.redundant[t].parentNode.removeChild(r.redundant[t]);r.redundant=[]}}function sIe(n){Ca(n),ji(n),Ca(n)}function xs(n,e,t){var r;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(r=e[n].redundant[0],e[n].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",n),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},t.appendChild(r)),e[n].used.push(r),r}function HC(n,e,t,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElement(n),r!==void 0?t.insertBefore(i,r):t.appendChild(i)):(i=document.createElement(n),e[n]={used:[],redundant:[]},r!==void 0?t.insertBefore(i,r):t.appendChild(i)),e[n].used.push(i),i}function id(n,e,t,r,i,s){var o;if(t.style=="circle"?(o=xs("circle",r,i),o.setAttributeNS(null,"cx",n),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=xs("rect",r,i),o.setAttributeNS(null,"x",n-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=xs("text",r,i);s.xOffset&&(n=n+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",e)}return o}function UI(n,e,t,r,i,s,o,a){if(r!=0){r<0&&(r*=-1,e-=r);var l=xs("rect",s,o);l.setAttributeNS(null,"x",n-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",i),a&&l.setAttributeNS(null,"style",a)}}function oIe(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var WC,oj;function aIe(){if(oj)return WC;oj=1,oQ();var n=en();return WC=n.Object.getOwnPropertySymbols,WC}var YC,aj;function lIe(){if(aj)return YC;aj=1;var n=aIe();return YC=n,YC}var GC,lj;function cIe(){return lj||(lj=1,GC=lIe()),GC}var uIe=cIe(),Vy=nt(uIe),VC={exports:{}},cj={},uj;function hIe(){if(uj)return cj;uj=1;var n=Je(),e=Tt(),t=Is(),r=bx().f,i=$n(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),cj}var hj;function dIe(){if(hj)return VC.exports;hj=1,hIe();var n=en(),e=n.Object,t=VC.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),VC.exports}var KC,dj;function fIe(){if(dj)return KC;dj=1;var n=dIe();return KC=n,KC}var XC,fj;function pIe(){return fj||(fj=1,XC=fIe()),XC}var mIe=pIe(),Ox=nt(mIe),pj={},mj;function gIe(){if(mj)return pj;mj=1;var n=Je(),e=$n(),t=pQ(),r=Is(),i=bx(),s=xx();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),c=i.f,u=t(l),h={},d=0,f,m;u.length>d;)m=c(l,f=u[d++]),m!==void 0&&s(h,f,m);return h}}),pj}var QC,gj;function vIe(){if(gj)return QC;gj=1,gIe();var n=en();return QC=n.Object.getOwnPropertyDescriptors,QC}var JC,vj;function yIe(){if(vj)return JC;vj=1;var n=vIe();return JC=n,JC}var ZC,yj;function bIe(){return yj||(yj=1,ZC=yIe()),ZC}var xIe=bIe(),Ky=nt(xIe),e2={exports:{}},bj={},xj;function wIe(){if(xj)return bj;xj=1;var n=Je(),e=$n(),t=CR().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),bj}var wj;function _Ie(){if(wj)return e2.exports;wj=1,wIe();var n=en(),e=n.Object,t=e2.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),e2.exports}var t2,_j;function SIe(){if(_j)return t2;_j=1;var n=_Ie();return t2=n,t2}var n2,Sj;function kIe(){return Sj||(Sj=1,n2=SIe()),n2}var CIe=kIe(),nJ=nt(CIe),r2={exports:{}},kj={},Cj;function EIe(){if(Cj)return kj;Cj=1;var n=Je(),e=$n(),t=es().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),kj}var Ej;function TIe(){if(Ej)return r2.exports;Ej=1,EIe();var n=en(),e=n.Object,t=r2.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),r2.exports}var i2,Tj;function rJ(){if(Tj)return i2;Tj=1;var n=TIe();return i2=n,i2}var s2,Mj;function MIe(){if(Mj)return s2;Mj=1;var n=rJ();return s2=n,s2}var o2,Ij;function IIe(){if(Ij)return o2;Ij=1;var n=MIe();return o2=n,o2}var a2,Pj;function PIe(){return Pj||(Pj=1,a2=IIe()),a2}var OIe=PIe(),RIe=nt(OIe),Oj={},Rj;function DIe(){if(Rj)return Oj;Rj=1;var n=qn(),e=es().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Oj}var Dj={},Aj;function AIe(){return Aj||(Aj=1,aQ()),Dj}var Nj={},Lj;function NIe(){return Lj||(Lj=1,lQ()),Nj}var Fj={},$j;function LIe(){if($j)return Fj;$j=1;var n=xn();return n("metadata"),Fj}var l2,jj;function FIe(){if(jj)return l2;jj=1;var n=fQ();return DIe(),AIe(),NIe(),LIe(),l2=n,l2}var Bj={},c2,zj;function iJ(){if(zj)return c2;zj=1;var n=Ii(),e=Ot(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return c2=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},c2}var qj;function $Ie(){if(qj)return Bj;qj=1;var n=Je(),e=iJ();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Bj}var Uj={},u2,Hj;function sJ(){if(Hj)return u2;Hj=1;for(var n=Md(),e=Ii(),t=Ot(),r=lg(),i=qn(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=n("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];r(s[f])&&i(f)}catch{}return u2=function(g){if(o&&o(g))return!0;try{for(var v=l(g),y=0,b=a(c),w=b.length;y<w;y++)if(c[b[y]]==v)return!0}catch{}return!1},u2}var Wj;function jIe(){if(Wj)return Uj;Wj=1;var n=Je(),e=sJ();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Uj}var Yj={},Gj;function BIe(){if(Gj)return Yj;Gj=1;var n=xn();return n("customMatcher"),Yj}var Vj={},Kj;function zIe(){if(Kj)return Vj;Kj=1;var n=xn();return n("observable"),Vj}var Xj={},Qj;function qIe(){if(Qj)return Xj;Qj=1;var n=Je(),e=iJ();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Xj}var Jj={},Zj;function UIe(){if(Zj)return Jj;Zj=1;var n=Je(),e=sJ();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Jj}var eB={},tB;function HIe(){if(tB)return eB;tB=1;var n=xn();return n("matcher"),eB}var nB={},rB;function WIe(){if(rB)return nB;rB=1;var n=xn();return n("metadataKey"),nB}var iB={},sB;function YIe(){if(sB)return iB;sB=1;var n=xn();return n("patternMatch"),iB}var oB={},aB;function GIe(){if(aB)return oB;aB=1;var n=xn();return n("replaceAll"),oB}var h2,lB;function VIe(){if(lB)return h2;lB=1;var n=FIe();return $Ie(),jIe(),BIe(),zIe(),qIe(),UIe(),HIe(),WIe(),YIe(),GIe(),h2=n,h2}var d2,cB;function KIe(){return cB||(cB=1,d2=VIe()),d2}var XIe=KIe(),ev=nt(XIe),uB={},f2,hB;function QIe(){if(hB)return f2;hB=1;var n=Ot(),e=Pd(),t=ts(),r=Zo(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(c,u){var h=t(r(c)),d=e(u),f=h.length,m,g;return d<0||d>=f?l?"":void 0:(m=s(h,d),m<55296||m>56319||d+1===f||(g=s(h,d+1))<56320||g>57343?l?i(h,d):m:l?o(h,d,d+2):(m-55296<<10)+(g-56320)+65536)}};return f2={codeAt:a(!1),charAt:a(!0)},f2}var dB;function Rx(){if(dB)return uB;dB=1;var n=QIe().charAt,e=ts(),t=mg(),r=TR(),i=MR(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?i(void 0,!0):(d=n(u,h),c.index+=d.length,i(d,!1))}),uB}var p2,fB;function JIe(){if(fB)return p2;fB=1,dl(),Rx(),cQ();var n=Ex();return p2=n.f("iterator"),p2}var m2,pB;function oJ(){if(pB)return m2;pB=1;var n=JIe();return fl(),m2=n,m2}var g2,mB;function ZIe(){if(mB)return g2;mB=1;var n=oJ();return g2=n,g2}var v2,gB;function ePe(){if(gB)return v2;gB=1;var n=ZIe();return v2=n,v2}var y2,vB;function tPe(){return vB||(vB=1,y2=ePe()),y2}var nPe=tPe(),rPe=nt(nPe);function Mm(n){"@babel/helpers - typeof";return Mm=typeof ev=="function"&&typeof rPe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ev=="function"&&e.constructor===ev&&e!==ev.prototype?"symbol":typeof e},Mm(n)}var b2,yB;function iPe(){if(yB)return b2;yB=1,uQ();var n=Ex();return b2=n.f("toPrimitive"),b2}var x2,bB;function sPe(){if(bB)return x2;bB=1;var n=iPe();return x2=n,x2}var w2,xB;function oPe(){if(xB)return w2;xB=1;var n=sPe();return w2=n,w2}var _2,wB;function aPe(){if(wB)return _2;wB=1;var n=oPe();return _2=n,_2}var S2,_B;function lPe(){return _B||(_B=1,S2=aPe()),S2}var cPe=lPe(),uPe=nt(cPe);function hPe(n,e){if(Mm(n)!="object"||!n)return n;var t=n[uPe];if(t!==void 0){var r=t.call(n,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dPe(n){var e=hPe(n,"string");return Mm(e)=="symbol"?e:e+""}function gn(n,e,t){return(e=dPe(e))in n?RIe(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var SB={},k2,kB;function fPe(){if(kB)return k2;kB=1;var n=uo(),e=ci(),t=vx(),r=Ps(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),m=r(d);if(n(c),m===0&&u<2)throw new i(s);var g=a?m-1:0,v=a?-1:1;if(u<2)for(;;){if(g in f){h=f[g],g+=v;break}if(g+=v,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=v)g in f&&(h=c(h,f[g],g,d));return h}};return k2={left:o(!1),right:o(!0)},k2}var C2,CB;function pPe(){if(CB)return C2;CB=1;var n=bQ();return C2=n==="NODE",C2}var EB;function mPe(){if(EB)return SB;EB=1;var n=Je(),e=fPe().left,t=Ad(),r=ag(),i=pPe(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),SB}var E2,TB;function gPe(){if(TB)return E2;TB=1,mPe();var n=Mn();return E2=n("Array","reduce"),E2}var T2,MB;function vPe(){if(MB)return T2;MB=1;var n=on(),e=gPe(),t=Array.prototype;return T2=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},T2}var M2,IB;function yPe(){if(IB)return M2;IB=1;var n=vPe();return M2=n,M2}var I2,PB;function bPe(){return PB||(PB=1,I2=yPe()),I2}var xPe=bPe(),Dx=nt(xPe),OB={},P2,RB;function wPe(){if(RB)return P2;RB=1;var n=cl(),e=Ps(),t=wR(),r=cg(),i=function(s,o,a,l,c,u,h,d){for(var f=c,m=0,g=h?r(h,d):!1,v,y;m<l;)m in a&&(v=g?g(a[m],m,o):a[m],u>0&&n(v)?(y=e(v),f=i(s,o,v,y,f,u-1)-1):(t(f+1),s[f]=v),f++),m++;return f};return P2=i,P2}var DB;function _Pe(){if(DB)return OB;DB=1;var n=Je(),e=wPe(),t=uo(),r=ci(),i=Ps(),s=wx();return n({target:"Array",proto:!0},{flatMap:function(a){var l=r(this),c=i(l),u;return t(a),u=s(l,0),u.length=e(u,l,l,c,0,1,a,arguments.length>1?arguments[1]:void 0),u}}),OB}var AB={},NB;function SPe(){if(NB)return AB;NB=1;var n=gg();return n("flatMap"),AB}var O2,LB;function kPe(){if(LB)return O2;LB=1,_Pe(),SPe();var n=Mn();return O2=n("Array","flatMap"),O2}var R2,FB;function CPe(){if(FB)return R2;FB=1;var n=on(),e=kPe(),t=Array.prototype;return R2=function(r){var i=r.flatMap;return r===t||n(t,r)&&i===t.flatMap?e:i},R2}var D2,$B;function EPe(){if($B)return D2;$B=1;var n=CPe();return D2=n,D2}var A2,jB;function TPe(){return jB||(jB=1,A2=EPe()),A2}var MPe=TPe(),IPe=nt(MPe),N2,BB;function PPe(){return BB||(BB=1,N2=oJ()),N2}var OPe=PPe(),$u=nt(OPe),zB={},qB={},L2={exports:{}},F2,UB;function RPe(){if(UB)return F2;UB=1;var n=Tt();return F2=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),F2}var $2,HB;function DPe(){if(HB)return $2;HB=1;var n=Tt(),e=kr(),t=co(),r=RPe(),i=Object.isExtensible,s=n(function(){});return $2=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,$2}var j2,WB;function APe(){if(WB)return j2;WB=1;var n=Tt();return j2=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),j2}var YB;function aJ(){if(YB)return L2.exports;YB=1;var n=Je(),e=Ot(),t=hg(),r=kr(),i=sr(),s=es().f,o=kx(),a=nQ(),l=DPe(),c=yx(),u=APe(),h=!1,d=c("meta"),f=0,m=function(S){s(S,d,{value:{objectID:"O"+f++,weakData:{}}})},g=function(S,_){if(!r(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!i(S,d)){if(!l(S))return"F";if(!_)return"E";m(S)}return S[d].objectID},v=function(S,_){if(!i(S,d)){if(!l(S))return!0;if(!_)return!1;m(S)}return S[d].weakData},y=function(S){return u&&h&&l(S)&&!i(S,d)&&m(S),S},b=function(){w.enable=function(){},h=!0;var S=o.f,_=e([].splice),k={};k[d]=1,S(k).length&&(o.f=function(C){for(var T=S(C),O=0,R=T.length;O<R;O++)if(T[O]===d){_(T,O,1);break}return T},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},w=L2.exports={enable:b,fastKey:g,getWeakData:v,onFreeze:y};return t[d]=!0,L2.exports}var B2,GB;function NPe(){if(GB)return B2;GB=1;var n=qn(),e=Rd(),t=n("iterator"),r=Array.prototype;return B2=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},B2}var z2,VB;function lJ(){if(VB)return z2;VB=1;var n=ul(),e=yR(),t=og(),r=Rd(),i=qn(),s=i("iterator");return z2=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},z2}var q2,KB;function cJ(){if(KB)return q2;KB=1;var n=li(),e=uo(),t=ea(),r=Ed(),i=lJ(),s=TypeError;return q2=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},q2}var U2,XB;function GR(){if(XB)return U2;XB=1;var n=li(),e=ea(),t=yR();return U2=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},U2}var H2,QB;function VR(){if(QB)return H2;QB=1;var n=cg(),e=li(),t=ea(),r=Ed(),i=NPe(),s=Ps(),o=on(),a=cJ(),l=lJ(),c=GR(),u=TypeError,h=function(f,m){this.stopped=f,this.result=m},d=h.prototype;return H2=function(f,m,g){var v=g&&g.that,y=!!(g&&g.AS_ENTRIES),b=!!(g&&g.IS_RECORD),w=!!(g&&g.IS_ITERATOR),S=!!(g&&g.INTERRUPTED),_=n(m,v),k,C,T,O,R,D,F,N=function($){return k&&c(k,"normal"),new h(!0,$)},z=function($){return y?(t($),S?_($[0],$[1],N):_($[0],$[1])):S?_($,N):_($)};if(b)k=f.iterator;else if(w)k=f;else{if(C=l(f),!C)throw new u(r(f)+" is not iterable");if(i(C)){for(T=0,O=s(f);O>T;T++)if(R=z(f[T]),R&&o(d,R))return R;return new h(!1)}k=a(f,C)}for(D=b?f.next:k.next;!(F=e(D,k)).done;){try{R=z(F.value)}catch($){c(k,"throw",$)}if(typeof R=="object"&&R&&o(d,R))return R}return new h(!1)},H2}var W2,JB;function uJ(){if(JB)return W2;JB=1;var n=on(),e=TypeError;return W2=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},W2}var Y2,ZB;function hJ(){if(ZB)return Y2;ZB=1;var n=Je(),e=Tn(),t=aJ(),r=Tt(),i=Id(),s=VR(),o=uJ(),a=ir(),l=kr(),c=og(),u=Uc(),h=es().f,d=hl().forEach,f=$n(),m=mg(),g=m.set,v=m.getterFor;return Y2=function(y,b,w){var S=y.indexOf("Map")!==-1,_=y.indexOf("Weak")!==-1,k=S?"set":"add",C=e[y],T=C&&C.prototype,O={},R;if(!f||!a(C)||!(_||T.forEach&&!r(function(){new C().entries().next()})))R=w.getConstructor(b,y,S,k),t.enable();else{R=b(function(N,z){g(o(N,D),{type:y,collection:new C}),c(z)||s(z,N[k],{that:N,AS_ENTRIES:S})});var D=R.prototype,F=v(y);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var z=N==="add"||N==="set";N in T&&!(_&&N==="clear")&&i(D,N,function($,L){var B=F(this).collection;if(!z&&_&&!l($))return N==="get"?void 0:!1;var j=B[N]($===0?0:$,L);return z?this:j})}),_||h(D,"size",{configurable:!0,get:function(){return F(this).collection.size}})}return u(R,y,!1,!0),O[y]=R,n({global:!0,forced:!0},O),_||w.setStrong(R,y,S),R},Y2}var G2,ez;function LPe(){if(ez)return G2;ez=1;var n=pg();return G2=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},G2}var V2,tz;function FPe(){if(tz)return V2;tz=1;var n=Ii(),e=ER(),t=qn(),r=$n(),i=t("species");return V2=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},V2}var K2,nz;function dJ(){if(nz)return K2;nz=1;var n=fg(),e=ER(),t=LPe(),r=cg(),i=uJ(),s=og(),o=VR(),a=TR(),l=MR(),c=FPe(),u=$n(),h=aJ().fastKey,d=mg(),f=d.set,m=d.getterFor;return K2={getConstructor:function(g,v,y,b){var w=g(function(T,O){i(T,S),f(T,{type:v,index:n(null),first:null,last:null,size:0}),u||(T.size=0),s(O)||o(O,T[b],{that:T,AS_ENTRIES:y})}),S=w.prototype,_=m(v),k=function(T,O,R){var D=_(T),F=C(T,O),N,z;return F?F.value=R:(D.last=F={index:z=h(O,!0),key:O,value:R,previous:N=D.last,next:null,removed:!1},D.first||(D.first=F),N&&(N.next=F),u?D.size++:T.size++,z!=="F"&&(D.index[z]=F)),T},C=function(T,O){var R=_(T),D=h(O),F;if(D!=="F")return R.index[D];for(F=R.first;F;F=F.next)if(F.key===O)return F};return t(S,{clear:function(){for(var O=this,R=_(O),D=R.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=null),D=D.next;R.first=R.last=null,R.index=n(null),u?R.size=0:O.size=0},delete:function(T){var O=this,R=_(O),D=C(O,T);if(D){var F=D.next,N=D.previous;delete R.index[D.index],D.removed=!0,N&&(N.next=F),F&&(F.previous=N),R.first===D&&(R.first=F),R.last===D&&(R.last=N),u?R.size--:O.size--}return!!D},forEach:function(O){for(var R=_(this),D=r(O,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:R.first;)for(D(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(O){return!!C(this,O)}}),t(S,y?{get:function(O){var R=C(this,O);return R&&R.value},set:function(O,R){return k(this,O===0?0:O,R)}}:{add:function(O){return k(this,O=O===0?0:O,O)}}),u&&e(S,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(g,v,y){var b=v+" Iterator",w=m(v),S=m(b);a(g,v,function(_,k){f(this,{type:b,target:_,state:w(_),kind:k,last:null})},function(){for(var _=S(this),k=_.kind,C=_.last;C&&C.removed;)C=C.previous;return!_.target||!(_.last=C=C?C.next:_.state.first)?(_.target=null,l(void 0,!0)):l(k==="keys"?C.key:k==="values"?C.value:[C.key,C.value],!1)},y?"entries":"values",!y,!0),c(v)}},K2}var rz;function $Pe(){if(rz)return qB;rz=1;var n=hJ(),e=dJ();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),qB}var iz;function jPe(){return iz||(iz=1,$Pe()),zB}var sz={},X2,oz;function fJ(){return oz||(oz=1,X2=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),X2}var Q2,az;function BPe(){if(az)return Q2;az=1;var n=Ii(),e=fJ(),t=n("Map");return Q2={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},Q2}var lz;function zPe(){if(lz)return sz;lz=1;var n=Je(),e=Ot(),t=uo(),r=Zo(),i=VR(),s=BPe(),o=Td(),a=Tt(),l=s.Map,c=s.has,u=s.get,h=s.set,d=e([].push),f=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,v){r(g),t(v);var y=new l,b=0;return i(g,function(w){var S=v(w,b++);c(y,S)?d(u(y,S),w):h(y,S,[w])}),y}}),sz}var J2,cz;function qPe(){if(cz)return J2;cz=1,dl(),jPe(),zPe(),Rx();var n=en();return J2=n.Map,J2}var Z2,uz;function UPe(){if(uz)return Z2;uz=1;var n=qPe();return fl(),Z2=n,Z2}var eE,hz;function HPe(){return hz||(hz=1,eE=UPe()),eE}var WPe=HPe(),pJ=nt(WPe),dz={},fz={},pz;function YPe(){if(pz)return fz;pz=1;var n=hJ(),e=dJ();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),fz}var mz;function GPe(){return mz||(mz=1,YPe()),dz}var gz={},tE,vz;function Wc(){if(vz)return tE;vz=1;var n=Ed(),e=TypeError;return tE=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},tE}var nE,yz;function Yc(){if(yz)return nE;yz=1;var n=Ii(),e=fJ(),t=n("Set"),r=t.prototype;return nE={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},nE}var rE,bz;function Gc(){if(bz)return rE;bz=1;var n=li();return rE=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},rE}var iE,xz;function Sg(){if(xz)return iE;xz=1;var n=Gc();return iE=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},iE}var sE,wz;function KR(){if(wz)return sE;wz=1;var n=Yc(),e=Sg(),t=n.Set,r=n.add;return sE=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},sE}var oE,_z;function kg(){return _z||(_z=1,oE=function(n){return n.size}),oE}var aE,Sz;function VPe(){return Sz||(Sz=1,aE=function(n){return{iterator:n,next:n.next,done:!1}}),aE}var lE,kz;function Vc(){if(kz)return lE;kz=1;var n=uo(),e=ea(),t=li(),r=Pd(),i=VPe(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=n(u.has),this.keys=n(u.keys)};return c.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},lE=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=r(h);if(d<0)throw new o(s);return new c(u,d)},lE}var cE,Cz;function KPe(){if(Cz)return cE;Cz=1;var n=Wc(),e=Yc(),t=KR(),r=kg(),i=Vc(),s=Sg(),o=Gc(),a=e.has,l=e.remove;return cE=function(u){var h=n(this),d=i(u),f=t(h);return r(h)<=d.size?s(h,function(m){d.includes(m)&&l(f,m)}):o(d.getIterator(),function(m){a(f,m)&&l(f,m)}),f},cE}var uE,Ez;function Kc(){return Ez||(Ez=1,uE=function(){return!1}),uE}var Tz;function XPe(){if(Tz)return gz;Tz=1;var n=Je(),e=KPe(),t=Tt(),r=Kc(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),gz}var Mz={},hE,Iz;function QPe(){if(Iz)return hE;Iz=1;var n=Wc(),e=Yc(),t=kg(),r=Vc(),i=Sg(),s=Gc(),o=e.Set,a=e.add,l=e.has;return hE=function(u){var h=n(this),d=r(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(m){l(h,m)&&a(f,m)}):i(h,function(m){d.includes(m)&&a(f,m)}),f},hE}var Pz;function JPe(){if(Pz)return Mz;Pz=1;var n=Je(),e=Tt(),t=QPe(),r=Kc(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),Mz}var Oz={},dE,Rz;function ZPe(){if(Rz)return dE;Rz=1;var n=Wc(),e=Yc().has,t=kg(),r=Vc(),i=Sg(),s=Gc(),o=GR();return dE=function(l){var c=n(this),u=r(l);if(t(c)<=u.size)return i(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},dE}var Dz;function eOe(){if(Dz)return Oz;Dz=1;var n=Je(),e=ZPe(),t=Kc(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),Oz}var Az={},fE,Nz;function tOe(){if(Nz)return fE;Nz=1;var n=Wc(),e=kg(),t=Sg(),r=Vc();return fE=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},fE}var Lz;function nOe(){if(Lz)return Az;Lz=1;var n=Je(),e=tOe(),t=Kc(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),Az}var Fz={},pE,$z;function rOe(){if($z)return pE;$z=1;var n=Wc(),e=Yc().has,t=kg(),r=Vc(),i=Gc(),s=GR();return pE=function(a){var l=n(this),c=r(a);if(t(l)<c.size)return!1;var u=c.getIterator();return i(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},pE}var jz;function iOe(){if(jz)return Fz;jz=1;var n=Je(),e=rOe(),t=Kc(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),Fz}var Bz={},mE,zz;function sOe(){if(zz)return mE;zz=1;var n=Wc(),e=Yc(),t=KR(),r=Vc(),i=Gc(),s=e.add,o=e.has,a=e.remove;return mE=function(c){var u=n(this),h=r(c).getIterator(),d=t(u);return i(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},mE}var gE,qz;function mJ(){return qz||(qz=1,gE=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),gE}var Uz;function oOe(){if(Uz)return Bz;Uz=1;var n=Je(),e=sOe(),t=mJ(),r=Kc(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),Bz}var Hz={},vE,Wz;function aOe(){if(Wz)return vE;Wz=1;var n=Wc(),e=Yc().add,t=KR(),r=Vc(),i=Gc();return vE=function(o){var a=n(this),l=r(o).getIterator(),c=t(a);return i(l,function(u){e(c,u)}),c},vE}var Yz;function lOe(){if(Yz)return Hz;Yz=1;var n=Je(),e=aOe(),t=mJ(),r=Kc(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),Hz}var yE,Gz;function cOe(){if(Gz)return yE;Gz=1,dl(),GPe(),XPe(),JPe(),eOe(),nOe(),iOe(),oOe(),lOe(),Rx();var n=en();return yE=n.Set,yE}var bE,Vz;function uOe(){if(Vz)return bE;Vz=1;var n=cOe();return fl(),bE=n,bE}var xE,Kz;function hOe(){return Kz||(Kz=1,xE=uOe()),xE}var dOe=hOe(),dc=nt(dOe),wE,Xz;function fOe(){if(Xz)return wE;Xz=1,dl(),Rx();var n=cJ();return wE=n,wE}var _E,Qz;function pOe(){if(Qz)return _E;Qz=1;var n=fOe();return fl(),_E=n,_E}var SE,Jz;function mOe(){if(Jz)return SE;Jz=1;var n=pOe();return SE=n,SE}var kE,Zz;function gOe(){if(Zz)return kE;Zz=1;var n=mOe();return kE=n,kE}var CE,eq;function vOe(){return eq||(eq=1,CE=gOe()),CE}var EE,tq;function yOe(){return tq||(tq=1,EE=vOe()),EE}var bOe=yOe(),TE=nt(bOe),nq={},ME,rq;function xOe(){if(rq)return ME;rq=1;var n=Od(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var c=e(s/2),u=t(n(r,0,c),i),h=t(n(r,c),i),d=u.length,f=h.length,m=0,g=0;m<d||g<f;)r[m+g]=m<d&&g<f?i(u[m],h[g])<=0?u[m++]:h[g++]:m<d?u[m++]:h[g++];return r};return ME=t,ME}var IE,iq;function wOe(){if(iq)return IE;iq=1;var n=kd(),e=n.match(/firefox\/(\d+)/i);return IE=!!e&&+e[1],IE}var PE,sq;function _Oe(){if(sq)return PE;sq=1;var n=kd();return PE=/MSIE|Trident/.test(n),PE}var OE,oq;function SOe(){if(oq)return OE;oq=1;var n=kd(),e=n.match(/AppleWebKit\/(\d+)\./);return OE=!!e&&+e[1],OE}var aq;function kOe(){if(aq)return nq;aq=1;var n=Je(),e=Ot(),t=uo(),r=ci(),i=Ps(),s=mQ(),o=ts(),a=Tt(),l=xOe(),c=Ad(),u=wOe(),h=_Oe(),d=ag(),f=SOe(),m=[],g=e(m.sort),v=e(m.push),y=a(function(){m.sort(void 0)}),b=a(function(){m.sort(null)}),w=c("sort"),S=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var C="",T,O,R,D;for(T=65;T<76;T++){switch(O=String.fromCharCode(T),T){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(D=0;D<47;D++)m.push({k:O+D,v:R})}for(m.sort(function(F,N){return N.v-F.v}),D=0;D<m.length;D++)O=m[D].k.charAt(0),C.charAt(C.length-1)!==O&&(C+=O);return C!=="DGBEFHACIJK"}}),_=y||!b||!w||!S,k=function(C){return function(T,O){return O===void 0?-1:T===void 0?1:C!==void 0?+C(T,O)||0:o(T)>o(O)?1:-1}};return n({target:"Array",proto:!0,forced:_},{sort:function(T){T!==void 0&&t(T);var O=r(this);if(S)return T===void 0?g(O):g(O,T);var R=[],D=i(O),F,N;for(N=0;N<D;N++)N in O&&v(R,O[N]);for(l(R,k(T)),F=i(R),N=0;N<F;)O[N]=R[N++];for(;N<D;)s(O,N++);return O}}),nq}var RE,lq;function COe(){if(lq)return RE;lq=1,kOe();var n=Mn();return RE=n("Array","sort"),RE}var DE,cq;function EOe(){if(cq)return DE;cq=1;var n=on(),e=COe(),t=Array.prototype;return DE=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},DE}var AE,uq;function TOe(){if(uq)return AE;uq=1;var n=EOe();return AE=n,AE}var NE,hq;function MOe(){return hq||(hq=1,NE=TOe()),NE}var IOe=MOe(),Nn=nt(IOe),dq={},fq;function POe(){if(fq)return dq;fq=1;var n=Je(),e=hl().some,t=Ad(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),dq}var LE,pq;function OOe(){if(pq)return LE;pq=1,POe();var n=Mn();return LE=n("Array","some"),LE}var FE,mq;function ROe(){if(mq)return FE;mq=1;var n=on(),e=OOe(),t=Array.prototype;return FE=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},FE}var $E,gq;function DOe(){if(gq)return $E;gq=1;var n=ROe();return $E=n,$E}var jE,vq;function AOe(){return vq||(vq=1,jE=DOe()),jE}var NOe=AOe(),XR=nt(NOe),BE,yq;function LOe(){if(yq)return BE;yq=1,dl();var n=Mn();return BE=n("Array","keys"),BE}var zE,bq;function FOe(){if(bq)return zE;bq=1;var n=LOe();return zE=n,zE}var qE,xq;function $Oe(){if(xq)return qE;xq=1,fl();var n=ul(),e=sr(),t=on(),r=FOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return qE=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},qE}var UE,wq;function jOe(){return wq||(wq=1,UE=$Oe()),UE}var BOe=jOe(),hu=nt(BOe),HE,_q;function zOe(){if(_q)return HE;_q=1,dl();var n=Mn();return HE=n("Array","values"),HE}var WE,Sq;function qOe(){if(Sq)return WE;Sq=1;var n=zOe();return WE=n,WE}var YE,kq;function UOe(){if(kq)return YE;kq=1,fl();var n=ul(),e=sr(),t=on(),r=qOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return YE=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},YE}var GE,Cq;function HOe(){return Cq||(Cq=1,GE=UOe()),GE}var WOe=HOe(),Eq=nt(WOe),VE,Tq;function YOe(){if(Tq)return VE;Tq=1,dl();var n=Mn();return VE=n("Array","entries"),VE}var KE,Mq;function GOe(){if(Mq)return KE;Mq=1;var n=YOe();return KE=n,KE}var XE,Iq;function VOe(){if(Iq)return XE;Iq=1,fl();var n=ul(),e=sr(),t=on(),r=GOe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return XE=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},XE}var QE,Pq;function KOe(){return Pq||(Pq=1,QE=VOe()),QE}var XOe=KOe(),QOe=nt(XOe),JE,Oq;function JOe(){return Oq||(Oq=1,JE=rJ()),JE}var ZOe=JOe(),QR=nt(ZOe);const lr=[];for(let n=0;n<256;++n)lr.push((n+256).toString(16).slice(1));function eRe(n,e=0){return(lr[n[e+0]]+lr[n[e+1]]+lr[n[e+2]]+lr[n[e+3]]+"-"+lr[n[e+4]]+lr[n[e+5]]+"-"+lr[n[e+6]]+lr[n[e+7]]+"-"+lr[n[e+8]]+lr[n[e+9]]+"-"+lr[n[e+10]]+lr[n[e+11]]+lr[n[e+12]]+lr[n[e+13]]+lr[n[e+14]]+lr[n[e+15]]).toLowerCase()}let ZE;const tRe=new Uint8Array(16);function nRe(){if(!ZE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ZE=crypto.getRandomValues.bind(crypto)}return ZE(tRe)}const rRe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Rq={randomUUID:rRe};function iRe(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??nRe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eRe(r)}function fc(n,e,t){return Rq.randomUUID&&!n?Rq.randomUUID():iRe(n)}function Dq(n,e){var t=Vn(n);if(Vy){var r=Vy(n);e&&(r=vt(r).call(r,function(i){return Ox(n,i).enumerable})),t.push.apply(t,r)}return t}function Aq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?ze(t=Dq(Object(i),!0)).call(t,function(s){gn(n,s,i[s])}):Ky?nJ(n,Ky(i)):ze(r=Dq(Object(i))).call(r,function(s){QR(n,s,Ox(i,s))})}return n}function sRe(n){return new aRe(n)}class oRe{constructor(e,t,r){var i,s,o;gn(this,"_source",void 0),gn(this,"_transformers",void 0),gn(this,"_target",void 0),gn(this,"_listeners",{add:he(i=this._add).call(i,this),remove:he(s=this._remove).call(s,this),update:he(o=this._update).call(o,this)}),this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var t;return Dx(t=this._transformers).call(t,(r,i)=>i(r),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class aRe{constructor(e){gn(this,"_source",void 0),gn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(t=>vt(t).call(t,e)),this}map(e){return this._transformers.push(t=>zt(t).call(t,e)),this}flatMap(e){return this._transformers.push(t=>IPe(t).call(t,e)),this}to(e){return new oRe(this._source,this._transformers,e)}}function Nq(n){return typeof n=="string"||typeof n=="number"}class JR{constructor(e){gn(this,"delay",void 0),gn(this,"max",void 0),gn(this,"_queue",[]),gn(this,"_timeout",null),gn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new JR(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=ti(()=>{this.flush()},this.delay))}flush(){var e,t;ze(e=Dr(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Xy{constructor(){gn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),gn(this,"subscribe",Xy.prototype.on),gn(this,"unsubscribe",Xy.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");ze(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=vt(r=this._subscribers[e]).call(r,i=>i!==t)}}class Wl{constructor(e){gn(this,"_pairs",void 0),this._pairs=e}*[$u](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return zt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return zt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=vg(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new pJ(this._pairs)}toIdSet(){return new dc(this.toIdArray())}toItemSet(){return new dc(this.toItemArray())}cache(){return new Wl([...this._pairs])}distinct(e){const t=new dc;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new Wl({*[$u](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Wl({*[$u](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=TE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const t=TE(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new Wl({[$u]:()=>{var t;return TE(Nn(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,l]=i;return e(o,l,s,a)}))}})}}function lRe(n,e){return n[e]==null&&(n[e]=fc()),n}class ZR extends Xy{get idProp(){return this._idProp}constructor(e,t){super(),gn(this,"flush",void 0),gn(this,"length",void 0),gn(this,"_options",void 0),gn(this,"_data",void 0),gn(this,"_idProp",void 0),gn(this,"_queue",null),e&&!Et(e)&&(t=e,e=[]),this._options=t||{},this._data=new pJ,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=JR.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(Et(e)){const s=zt(e).call(e,o=>o[this._idProp]);if(XR(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=sl({},this._data.get(u)),f=this._updateItem(h);i.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);r.push(h)}};if(Et(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const c={items:i,oldData:s,data:o};this._trigger("update",c,t)}return On(r).call(r,i)}updateOnly(e,t){var r;Et(e)||(e=[e]);const i=zt(r=zt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],c=YQ(o,a);return this._data.set(l,c),{id:l,oldData:o,updatedData:c}});if(i.length){const s={items:zt(i).call(i,o=>o.id),oldData:zt(i).call(i,o=>o.oldData),data:zt(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;Nq(e)?(r=e,s=t):Et(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&vt(s),l=[];let c,u,h;if(r!=null)c=this._data.get(r),c&&a&&!a(c)&&(c=void 0);else if(i!=null)for(let f=0,m=i.length;f<m;f++)c=this._data.get(i[f]),c!=null&&(!a||a(c))&&l.push(c);else{var d;u=[...hu(d=this._data).call(d)];for(let f=0,m=u.length;f<m;f++)h=u[f],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&c!=null)c=this._filterFields(c,f);else for(let m=0,g=l.length;m<g;m++)l[m]=this._filterFields(l[m],f)}if(o=="Object"){const f={};for(let m=0,g=l.length;m<g;m++){const v=l[m],y=v[this._idProp];f[y]=v}return f}else return r!=null?c??null:l}getIds(e){const t=this._data,r=e&&vt(e),i=e&&e.order,s=[...hu(t).call(t)],o=[];if(r)if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&r(h)&&a.push(h)}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&r(u)&&o.push(u[this._idProp])}else if(i){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,i);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&vt(t),i=this._data,s=[...hu(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!r||r(c))&&e(c,l)}}map(e,t){const r=t&&vt(t),i=[],s=this._data,o=[...hu(s).call(s)];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!r||r(u))&&i.push(e(u,c))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&Dx(r=Et(t)?t:Vn(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;Nn(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Nn(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=Et(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(r.push(c),i.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(Nq(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...hu(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of Eq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of Eq(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...hu(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(i[d]==u){h=!0;break}!h&&u!==void 0&&(i[s]=u,s++)}return i}_addItem(e){const t=lRe(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Yr(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,Aq(Aq({},r),e)),t}stream(e){if(e){const r=this._data;return new Wl({*[$u](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new Wl({[$u]:he(t=QOe(this._data)).call(t,this._data)})}}}function cRe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof ze(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof zt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function uRe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof ze(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof zt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&cRe(n,e.getDataSet())}var hRe=Ms(),Li=nt(hRe);const Xr=typeof window<"u"&&window.moment||Li;var tv={exports:{}},ln={},nv={exports:{}},kl={},Lq;function gJ(){if(Lq)return kl;Lq=1;function n(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var r=/javascript\s*\:/img;function i(s,o){return r.test(o)?"":o}return kl.whiteList=n(),kl.getDefaultWhiteList=n,kl.onAttr=e,kl.onIgnoreAttr=t,kl.safeAttrValue=i,kl}var eT,Fq;function vJ(){return Fq||(Fq=1,eT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),eT}var tT,$q;function dRe(){if($q)return tT;$q=1;var n=vJ();function e(t,r){t=n.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=n.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var m=n.trim(d.slice(0,f)),g=n.trim(d.slice(f+1));if(m){var v=r(o,l.length,m,g,d);v&&(l+=v+"; ")}}}o=a+1}for(;a<i;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return n.trim(l)}return tT=e,tT}var nT,jq;function fRe(){if(jq)return nT;jq=1;var n=gJ(),e=dRe();vJ();function t(s){return s==null}function r(s){var o={};for(var a in s)o[a]=s[a];return o}function i(s){s=r(s||{}),s.whiteList=s.whiteList||n.whiteList,s.onAttr=s.onAttr||n.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||n.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||n.safeAttrValue,this.options=s}return i.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,m,g,v,y){var b=l[g],w=!1;if(b===!0?w=b:typeof b=="function"?w=b(v):b instanceof RegExp&&(w=b.test(v)),w!==!0&&(w=!1),v=h(g,v),!!v){var S={position:m,sourcePosition:f,source:y,isWhite:w};if(w){var _=c(g,v,S);return t(_)?g+":"+v:_}else{var _=u(g,v,S);if(!t(_))return _}}});return d},nT=i,nT}var Bq;function HI(){return Bq||(Bq=1,function(n,e){var t=gJ(),r=fRe();function i(o,a){var l=new r(a);return l.process(o)}e=n.exports=i,e.FilterCSS=r;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=n.exports)}(nv,nv.exports)),nv.exports}var rT,zq;function eD(){return zq||(zq=1,rT={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,i;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,t=e.exec(n);return t?t.index:-1}}),rT}var qq;function yJ(){if(qq)return ln;qq=1;var n=HI().FilterCSS,e=HI().getDefaultWhiteList,t=eD();function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var i=new n;function s(L,B,j){}function o(L,B,j){}function a(L,B,j){}function l(L,B,j){}function c(L){return L.replace(h,"&lt;").replace(d,"&gt;")}function u(L,B,j,q){if(j=R(j),B==="href"||B==="src"){if(j=t.trim(j),j==="#")return"#";if(!(j.substr(0,7)==="http://"||j.substr(0,8)==="https://"||j.substr(0,7)==="mailto:"||j.substr(0,4)==="tel:"||j.substr(0,11)==="data:image/"||j.substr(0,6)==="ftp://"||j.substr(0,2)==="./"||j.substr(0,3)==="../"||j[0]==="#"||j[0]==="/"))return""}else if(B==="background"){if(b.lastIndex=0,b.test(j))return""}else if(B==="style"){if(w.lastIndex=0,w.test(j)||(S.lastIndex=0,S.test(j)&&(b.lastIndex=0,b.test(j))))return"";q!==!1&&(q=q||i,j=q.process(j))}return j=D(j),j}var h=/</g,d=/>/g,f=/"/g,m=/&quot;/g,g=/&#([a-zA-Z0-9]*);?/gim,v=/&colon;?/gim,y=/&newline;?/gim,b=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,S=/u\s*r\s*l\s*\(.*/gi;function _(L){return L.replace(f,"&quot;")}function k(L){return L.replace(m,'"')}function C(L){return L.replace(g,function(j,q){return q[0]==="x"||q[0]==="X"?String.fromCharCode(parseInt(q.substr(1),16)):String.fromCharCode(parseInt(q,10))})}function T(L){return L.replace(v,":").replace(y," ")}function O(L){for(var B="",j=0,q=L.length;j<q;j++)B+=L.charCodeAt(j)<32?" ":L.charAt(j);return t.trim(B)}function R(L){return L=k(L),L=C(L),L=T(L),L=O(L),L}function D(L){return L=_(L),L=c(L),L}function F(){return""}function N(L,B){typeof B!="function"&&(B=function(){});var j=!Array.isArray(L);function q(X){return j?!0:t.indexOf(L,X)!==-1}var W=[],V=!1;return{onIgnoreTag:function(X,Z,H){if(q(X))if(H.isClosing){var K="[/removed]",Y=H.position+K.length;return W.push([V!==!1?V:H.position,Y]),V=!1,K}else return V||(V=H.position),"[removed]";else return B(X,Z,H)},remove:function(X){var Z="",H=0;return t.forEach(W,function(K){Z+=X.slice(H,K[0]),H=K[1]}),Z+=X.slice(H),Z}}}function z(L){for(var B="",j=0;j<L.length;){var q=L.indexOf("<!--",j);if(q===-1){B+=L.slice(j);break}B+=L.slice(j,q);var W=L.indexOf("-->",q);if(W===-1)break;j=W+3}return B}function $(L){var B=L.split("");return B=B.filter(function(j){var q=j.charCodeAt(0);return q===127?!1:q<=31?q===10||q===13:!0}),B.join("")}return ln.whiteList=r(),ln.getDefaultWhiteList=r,ln.onTag=s,ln.onIgnoreTag=o,ln.onTagAttr=a,ln.onIgnoreTagAttr=l,ln.safeAttrValue=u,ln.escapeHtml=c,ln.escapeQuote=_,ln.unescapeQuote=k,ln.escapeHtmlEntities=C,ln.escapeDangerHtml5Entities=T,ln.clearNonPrintableCharacter=O,ln.friendlyAttrValue=R,ln.escapeAttrValue=D,ln.onIgnoreTagStripAll=F,ln.StripTagBody=N,ln.stripCommentTag=z,ln.stripBlankChar=$,ln.attributeWrapSign='"',ln.cssFilter=i,ln.getDefaultCSSWhiteList=e,ln}var rv={},Uq;function bJ(){if(Uq)return rv;Uq=1;var n=eD();function e(h){var d=n.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=n.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function r(h,d,f){var m="",g=0,v=!1,y=!1,b=0,w=h.length,S="",_="";e:for(b=0;b<w;b++){var k=h.charAt(b);if(v===!1){if(k==="<"){v=b;continue}}else if(y===!1){if(k==="<"){m+=f(h.slice(g,b)),v=b,g=b;continue}if(k===">"||b===w-1){m+=f(h.slice(g,v)),_=h.slice(v,b+1),S=e(_),m+=d(v,m.length,S,_,t(_)),g=b+1,v=!1;continue}if(k==='"'||k==="'")for(var C=1,T=h.charAt(b-C);T.trim()===""||T==="=";){if(T==="="){y=k;continue e}T=h.charAt(b-++C)}}else if(k===y){y=!1;continue}}return g<w&&(m+=f(h.substr(g))),m}var i=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,m=0,g=[],v=!1,y=h.length;function b(C,T){if(C=n.trim(C),C=C.replace(i,"").toLowerCase(),!(C.length<1)){var O=d(C,T||"");O&&g.push(O)}}for(var w=0;w<y;w++){var S=h.charAt(w),_,k;if(v===!1&&S==="="){v=h.slice(f,w),f=w+1,m=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,w+1);continue}if(v!==!1&&w===m){if(k=h.indexOf(S,w+1),k===-1)break;_=n.trim(h.slice(m+1,k)),b(v,_),v=!1,w=k,f=w+1;continue}if(/\s|\n|\t/.test(S))if(h=h.replace(/\s|\n|\t/g," "),v===!1)if(k=o(h,w),k===-1){_=n.trim(h.slice(f,w)),b(_),v=!1,f=w+1;continue}else{w=k-1;continue}else if(k=l(h,w-1),k===-1){_=n.trim(h.slice(f,w)),_=u(_),b(v,_),v=!1,f=w+1;continue}else continue}return f<h.length&&(v===!1?b(h.slice(f)):b(v,u(n.trim(h.slice(f))))),n.trim(g.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return rv.parseTag=r,rv.parseAttr=s,rv}var iT,Hq;function pRe(){if(Hq)return iT;Hq=1;var n=HI().FilterCSS,e=yJ(),t=bJ(),r=t.parseTag,i=t.parseAttr,s=eD();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(m){return m.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,m=f.whiteList,g=f.onTag,v=f.onIgnoreTag,y=f.onTagAttr,b=f.onIgnoreTagAttr,w=f.safeAttrValue,S=f.escapeHtml,_=d.attributeWrapSign,k=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var C=!1;f.stripIgnoreTagBody&&(C=e.StripTagBody(f.stripIgnoreTagBody,v),v=C.onIgnoreTag);var T=r(h,function(O,R,D,F,N){var z={sourcePosition:O,position:R,isClosing:N,isWhite:Object.prototype.hasOwnProperty.call(m,D)},$=g(D,F,z);if(!o($))return $;if(z.isWhite){if(z.isClosing)return"</"+D+">";var L=a(F),B=m[D],j=i(L.html,function(q,W){var V=s.indexOf(B,q)!==-1,X=y(D,q,W,V);return o(X)?V?(W=w(D,q,W,k),W?q+"="+_+W+_:q):(X=b(D,q,W,V),o(X)?void 0:X):X});return F="<"+D,j&&(F+=" "+j),L.closing&&(F+=" /"),F+=">",F}else return $=v(D,F,z),o($)?S(F):$},S);return C&&(T=C.remove(T)),T},iT=u,iT}var Wq;function mRe(){return Wq||(Wq=1,function(n,e){var t=yJ(),r=bJ(),i=pRe();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.filterXSS=s,e.FilterXSS=i,function(){for(var a in t)e[a]=t[a];for(var l in r)e[l]=r[l]}(),typeof window<"u"&&(window.filterXSS=n.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=n.exports)}(tv,tv.exports)),tv.exports}var gRe=mRe(),vRe=nt(gRe);function Yq(n,e){var t=Vn(n);if(Vy){var r=Vy(n);e&&(r=vt(r).call(r,function(i){return Ox(n,i).enumerable})),t.push.apply(t,r)}return t}function Gq(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?ze(t=Yq(Object(i),!0)).call(t,function(s){gn(n,s,i[s])}):Ky?nJ(n,Ky(i)):ze(r=Yq(Object(i))).call(r,function(s){QR(n,s,Ox(i,s))})}return n}function Rc(n){var e;if(!n)return!1;let t=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return t?uRe(t,n):!1}const sT=/^\/?Date\((-?\d+)/i,yRe=/^\d+$/;function tD(n,e){let t;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return gi(n)&&!isNaN(Date.parse(n))?Li(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return tD(n,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+Uf(n)+" to type "+e):r}case"Moment":if(mp(n))return Li(n);if(n instanceof Date)return Li(n.valueOf());if(Li.isMoment(n))return Li(n);if(gi(n))return t=sT.exec(n),t?Li(Number(t[1])):(t=yRe.exec(n),Li(t?Number(n):n));throw new TypeError("Cannot convert object of type "+Uf(n)+" to type "+e);case"ISODate":if(mp(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Li.isMoment(n))return n.toDate().toISOString();if(gi(n))return t=sT.exec(n),t?new Date(Number(t[1])).toISOString():Li(n).format();throw new Error("Cannot convert object of type "+Uf(n)+" to type ISODate");case"ASPDate":if(mp(n))return"/Date("+n+")/";if(n instanceof Date||Li.isMoment(n))return"/Date("+n.valueOf()+")/";if(gi(n)){t=sT.exec(n);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(n).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+Uf(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Qy(n){var e,t,r,i,s,o;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const l=n._idProp,c=new ZR({fieldId:l}),u=zt(e=sRe(n)).call(e,h=>{var d;return Dx(d=Vn(h)).call(d,(f,m)=>(f[m]=tD(h[m],a[m]),f),{})}).to(c);return u.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:he(t=ze(c)).call(t,c),get:he(r=c.get).call(r,c),getIds:he(i=c.getIds).call(i,c),off:he(s=c.off).call(s,c),on:he(o=c.on).call(o,c),get length(){return c.length},idProp:l,type:a,rawDS:n,coercedDS:c,dispose:()=>u.stop()}}const xJ=n=>{const e=new vRe.FilterXSS(n);return t=>typeof t=="string"?e.process(t):t},bRe=n=>n;let WI=xJ();const xRe=n=>{n&&(n.disabled===!0?(WI=bRe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(WI=xJ(n.filterOptions)))},U=Gq(Gq({},iIe),{},{convert:tD,setupXSSProtection:xRe});QR(U,"xss",{get:function(){return WI}});var Vq={},oT,Kq;function wRe(){if(Kq)return oT;Kq=1;var n=Tn(),e=Tt(),t=Ot(),r=ts(),i=vQ().trim,s=PR(),o=t("".charAt),a=n.parseFloat,l=n.Symbol,c=l&&l.iterator,u=1/a(s+"-0")!==-1/0||c&&!e(function(){a(Object(c))});return oT=u?function(d){var f=i(r(d)),m=a(f);return m===0&&o(f,0)==="-"?-0:m}:a,oT}var Xq;function _Re(){if(Xq)return Vq;Xq=1;var n=Je(),e=wRe();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Vq}var aT,Qq;function SRe(){if(Qq)return aT;Qq=1,_Re();var n=en();return aT=n.parseFloat,aT}var lT,Jq;function kRe(){if(Jq)return lT;Jq=1;var n=SRe();return lT=n,lT}var cT,Zq;function CRe(){return Zq||(Zq=1,cT=kRe()),cT}var ERe=CRe(),Jy=nt(ERe);class pl{constructor(){this.options=null,this.props=null}setOptions(e){e&&U.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var eU={},tU;function TRe(){if(tU)return eU;tU=1;var n=Je(),e=yQ();return n({target:"String",proto:!0},{repeat:e}),eU}var uT,nU;function MRe(){if(nU)return uT;nU=1,TRe();var n=Mn();return uT=n("String","repeat"),uT}var hT,rU;function IRe(){if(rU)return hT;rU=1;var n=on(),e=MRe(),t=String.prototype;return hT=function(r){var i=r.repeat;return typeof r=="string"||r===t||n(t,r)&&i===t.repeat?e:i},hT}var dT,iU;function PRe(){if(iU)return dT;iU=1;var n=IRe();return dT=n,dT}var fT,sU;function ORe(){return sU||(sU=1,fT=PRe()),fT}var RRe=ORe(),gu=nt(RRe);function nD(n,e,t){if(t&&!Et(t))return nD(n,e,[t]);if(e.hiddenDates=[],t&&Et(t)==!0){var r;for(let i=0;i<t.length;i++)if(gu(t[i])===void 0){const s={};s.start=n(t[i].start).toDate().valueOf(),s.end=n(t[i].end).toDate().valueOf(),e.hiddenDates.push(s)}Nn(r=e.hiddenDates).call(r,(i,s)=>i.start-s.start)}}function Zy(n,e,t){if(t&&!Et(t))return Zy(n,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){nD(n,e,t);const r=n(e.range.start),i=n(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(gu(t[h])!==void 0){let d=n(t[h].start),f=n(t[h].end);if(d._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(t[h].start));if(f._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(t[h].end));if(f-d>=4*o){let g=0,v=i.clone();switch(gu(t[h])){case"daily":d.day()!=f.day()&&(g=1),d=d.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7,"days"),f=f.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7-g,"days"),v.add(1,"weeks");break;case"weekly":{const y=f.diff(d,"days"),b=d.day();d=d.date(r.date()).month(r.month()).year(r.year()),f=d.clone(),d=d.day(b).subtract(1,"weeks"),f=f.day(b).add(y,"days").subtract(1,"weeks"),v.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(g=1),d=d.month(r.month()).year(r.year()).subtract(1,"months"),f=f.month(r.month()).year(r.year()).subtract(1,"months").add(g,"months"),v.add(1,"months");break;case"yearly":d.year()!=f.year()&&(g=1),d=d.year(r.year()).subtract(1,"years"),f=f.year(r.year()).subtract(1,"years").add(g,"years"),v.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gu(t[h]));return}for(;d<v;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),gu(t[h])){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gu(t[h]));return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}DRe(e);const a=tb(e.range.start,e.hiddenDates),l=tb(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function DRe(n){var e;const t=n.hiddenDates,r=[];for(var i=0;i<t.length;i++)for(let s=0;s<t.length;s++)i!=s&&t[s].remove!=!0&&t[i].remove!=!0&&(t[s].start>=t[i].start&&t[s].end<=t[i].end?t[s].remove=!0:t[s].start>=t[i].start&&t[s].start<=t[i].end?(t[i].end=t[s].end,t[s].remove=!0):t[s].end>=t[i].start&&t[s].end<=t[i].end&&(t[i].start=t[s].start,t[s].remove=!0));for(i=0;i<t.length;i++)t[i].remove!==!0&&r.push(t[i]);n.hiddenDates=r,Nn(e=n.hiddenDates).call(e,(s,o)=>s.start-o.start)}function ARe(n,e,t){let r=!1;const i=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(i>=a&&i<s){r=!0;break}}if(r==!0&&i<e._end.valueOf()&&i!=t){const o=n(t),a=n(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function oU(n,e,t){let r;if(n.body.hiddenDates.length==0)return r=n.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const i=tb(e,n.body.hiddenDates);i.hidden==!0&&(e=i.startDate);const s=vp(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){r=n.range.conversion(t,s);const o=NRe(n.body.hiddenDates,e,r.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+o,-(r.offset-e.valueOf())*r.scale}else if(e>n.range.end){const o={start:n.range.start,end:e};return e=lU(n.options.moment,n.body.hiddenDates,o,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}else return e=lU(n.options.moment,n.body.hiddenDates,n.range,e),r=n.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}}function aU(n,e,t){if(n.body.hiddenDates.length==0){const r=n.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=vp(n.body.hiddenDates,n.range.start,n.range.end),s=(n.range.end-n.range.start-r)*e/t,o=LRe(n.body.hiddenDates,n.range,s);return new Date(o+s+n.range.start)}}function vp(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<t&&(r+=o-s)}return r}function NRe(n,e,t){let r=0;for(let i=0;i<n.length;i++){const s=n[i].start,o=n[i].end;s>=e&&o<=t&&(r+=o-s)}return r}function lU(n,e,t,r){return r=n(r).toDate().valueOf(),r-=eb(n,e,t,r),r}function eb(n,e,t,r){let i=0;r=n(r).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&r>=a&&(i+=a-o)}return i}function LRe(n,e,t){let r=0,i=0,s=e.start;for(let o=0;o<n.length;o++){const a=n[o].start,l=n[o].end;if(a>=e.start&&l<e.end){if(i+=a-s,s=l,i>=t)break;r+=l-a}}return r}function Ol(n,e,t,r){const i=tb(e,n);return i.hidden==!0?t<0?r==!0?i.startDate-(i.endDate-e)-1:i.startDate-1:r==!0?i.endDate+(e-i.startDate)+1:i.endDate+1:e}function tb(n,e){for(let i=0;i<e.length;i++){var t=e[i].start,r=e[i].end;if(n>=t&&n<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}class rD extends pl{constructor(e,t){var r,i,s,o,a,l,c;super();const u=Xr().hours(0).minutes(0).seconds(0).milliseconds(0),h=u.clone().add(-3,"days").valueOf(),d=u.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=h,this.end=d):(this.start=t.start||h,this.end=t.end||d),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:Xr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=U.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",he(r=this._onDragStart).call(r,this)),this.body.emitter.on("panmove",he(i=this._onDrag).call(i,this)),this.body.emitter.on("panend",he(s=this._onDragEnd).call(s,this)),this.body.emitter.on("mousewheel",he(o=this._onMouseWheel).call(o,this)),this.body.emitter.on("touch",he(a=this._onTouch).call(a,this)),this.body.emitter.on("pinch",he(l=this._onPinch).call(l,this)),this.body.dom.rollingModeBtn.addEventListener("click",he(c=this.startRolling).call(c,this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];U.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const i=U.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=i-r*s,a=i+r*(1-s),l={animation:!1};e.setRange(o,a,l),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=ti(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,i,s){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const o=this,a=e!=null?U.convert(e,"Date").valueOf():null,l=t!=null?U.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const h=this.start,d=this.end,f=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,m=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",g=U.easingFunctions[m];if(!g){var c;throw new Error(On(c="Unknown easing function ".concat(Yr(m),". Choose from: ")).call(c,Vn(U.easingFunctions).join(", ")))}const v=pi();let y=!1;const b=()=>{if(!o.props.touch.dragging){const S=pi()-v,_=g(S/f),k=S>f,C=k||a===null?a:h+(a-h)*_,T=k||l===null?l:d+(l-d)*_;u=o._applyRange(C,T),Zy(o.options.moment,o.body,o.options.hiddenDates),y=y||u;const O={start:new Date(o.start),end:new Date(o.end),byUser:r.byUser,event:r.event};if(s&&s(_,u,k),u&&o.body.emitter.emit("rangechange",O),k){if(y&&(o.body.emitter.emit("rangechanged",O),i))return i()}else o.animationTimer=ti(b,20)}};return b()}else{var u=this._applyRange(a,l);if(Zy(this.options.moment,this.body,this.options.hiddenDates),u){const h={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(o.timeoutID),o.timeoutID=ti(()=>{o.body.emitter.emit("rangechanged",h)},200),i)return i()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?U.convert(e,"Date").valueOf():this.start,i=t!=null?U.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?U.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?U.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(r)||r===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(i)||i===null)throw new Error('Invalid end "'.concat(t,'"'));if(i<r&&(i=r),o!==null&&r<o&&(a=o-r,r+=a,i+=a,s!=null&&i>s&&(i=s)),s!==null&&i>s&&(a=i-s,r-=a,i-=a,o!=null&&r<o&&(r=o)),this.options.zoomMin!==null){let c=Jy(this.options.zoomMin);c<0&&(c=0),i-r<c&&(this.end-this.start===c&&r>=this.start-.5&&i<=this.end?(r=this.start,i=this.end):(a=c-(i-r),r-=a/2,i+=a/2))}if(this.options.zoomMax!==null){let c=Jy(this.options.zoomMax);c<0&&(c=0),i-r>c&&(this.end-this.start===c&&r<this.start&&i>this.end?(r=this.start,i=this.end):(a=i-r-c,r+=a/2,i-=a/2))}const l=this.start!=r||this.end!=i;return!(r>=this.start&&r<=this.end||i>=this.start&&i<=this.end)&&!(this.start>=r&&this.start<=i||this.end>=r&&this.end<=i)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return rD.conversion(this.start,this.end,e,t)}static conversion(e,t,r,i){return i===void 0&&(i=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-i)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;cU(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let i=this.props.touch.end-this.props.touch.start;const s=vp(this.body.hiddenDates,this.start,this.end);i-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=r/o*i:a=-r/o*i;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Ol(this.body.hiddenDates,l,this.previousDelta-r,!0),h=Ol(this.body.hiddenDates,c,this.previousDelta-r,!0);if(u!=l||h!=c){this.deltaDifference+=r,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=r,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let i;t<0?i=1-t/r:i=1/(1+t/r);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(i,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,U.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;U.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,i=vp(this.body.hiddenDates,this.start,this.end),s=eb(this.options.moment,this.body.hiddenDates,this,r),o=i-s;let a=r-s+(this.props.touch.start-(r-s))*t,l=r+o+(this.props.touch.end-(r+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Ol(this.body.hiddenDates,a,1-t,!0),u=Ol(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),i=this.options.rtl?t-r.left:r.right-t,s=this.body.util.toTime(i);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(cU(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const i=this.body.domProps.center.height;return t=this.conversion(i),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,i){t==null&&(t=(this.start+this.end)/2);const s=vp(this.body.hiddenDates,this.start,this.end),o=eb(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const u=Ol(this.body.hiddenDates,l,r,!0),h=Ol(this.body.hiddenDates,c,-r,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:i};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,i=this.end+t*e;this.start=r,this.end=i}moveTo(e){const r=(this.start+this.end)/2-e,i=this.start-r,s=this.end-r,o={animation:!1,byUser:!0,event:null};this.setRange(i,s,o)}destroy(){this.stopRolling()}}function cU(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var pT,uU;function FRe(){if(uU)return pT;uU=1,wQ();var n=en();return pT=n.setInterval,pT}var mT,hU;function $Re(){return hU||(hU=1,mT=FRe()),mT}var jRe=$Re(),BRe=nt(jRe),_f=null;function YI(n,e){var t=e||{preventDefault:!1};if(n.Manager){var r=n,i=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),YI(new r(c,h),h)};return r.assign(i,r),i.Manager=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),YI(new r.Manager(c,h),h)},i}var s=Object.create(n),o=n.element;o.hammer||(o.hammer=[]),o.hammer.push(s),n.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(_f=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],n.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(n.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){_f=u.target,n.emit(c,u)},s.destroy=function(){var c=n.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete n.element.hammer,s._handlers={},n.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=_f;for(var d=_f.isConnected?_f:c.target;d&&!u;){var f=d.hammer;if(f){for(var m,g=0;g<f.length;g++)if(m=f[g]._handlers[c.type],m)for(var v=0;v<m.length&&!u;v++)m[v](c)}d=d.parentNode}}return s}function zRe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let GI;if(typeof window<"u"){const n=window.Hammer||jR;GI=YI(n,{preventDefault:"mouse"})}else GI=function(){return zRe()};var Rr=GI;function wJ(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function qRe(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}function URe(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class Dc{constructor(e,t,r,i,s){this.moment=s&&s.moment||Xr,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Et(i)?this.hiddenDates=i:i!=null?this.hiddenDates=[i]:this.hiddenDates=[],this.format=Dc.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=U.deepExtend({},Dc.FORMAT);this.format=U.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):pi(),this._end=t!=null?this.moment(t.valueOf()):pi(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Ol(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,ARe(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,i=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),i*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),i*2>e&&(this.scale="day",this.step=2),i>e&&(this.scale="day",this.step=1),i/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){let i=Xr(e);if(t=="year"){const s=i.year()+Math.round(i.month()/12);i=i.year(Math.round(s/r)*r).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")i.date()>15?i=i.date(1).add(1,"month"):i=i.date(1),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")i.weekday()>2?i=i.weekday(0).add(1,"week"):i=i.weekday(0),i=i.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/24)*24);break;default:i=i.hours(Math.round(i.hours()/12)*12);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:i=i.hours(Math.round(i.hours()/12)*12);break;default:i=i.hours(Math.round(i.hours()/6)*6);break}i=i.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(r){case 4:i=i.minutes(Math.round(i.minutes()/60)*60);break;default:i=i.minutes(Math.round(i.minutes()/30)*30);break}i=i.seconds(0).milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:i=i.minutes(Math.round(i.minutes()/5)*5).seconds(0);break;case 5:i=i.seconds(Math.round(i.seconds()/60)*60);break;default:i=i.seconds(Math.round(i.seconds()/30)*30);break}i=i.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:i=i.seconds(Math.round(i.seconds()/5)*5).milliseconds(0);break;case 5:i=i.milliseconds(Math.round(i.milliseconds()/1e3)*1e3);break;default:i=i.milliseconds(Math.round(i.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=r>5?r/2:1;i=i.milliseconds(Math.round(i.milliseconds()/s)*s)}return i}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){var e;const t=this.moment,r=this.moment(this.current),i=r.locale?r.locale("en"):r.lang("en"),s=this.step,o=[];function a(d){return d/s%2==0?" vis-even":" vis-odd"}function l(d){return d.isSame(pi(),"day")?" vis-today":d.isSame(t().add(1,"day"),"day")?" vis-tomorrow":d.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function c(d){return d.isSame(pi(),"week")?" vis-current-week":""}function u(d){return d.isSame(pi(),"month")?" vis-current-month":""}function h(d){return d.isSame(pi(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(i)),o.push(a(i.milliseconds()));break;case"second":o.push(l(i)),o.push(a(i.seconds()));break;case"minute":o.push(l(i)),o.push(a(i.minutes()));break;case"hour":o.push(On(e="vis-h".concat(i.hours())).call(e,this.step==4?"-h"+(i.hours()+4):"")),o.push(l(i)),o.push(a(i.hours()));break;case"weekday":o.push("vis-".concat(i.format("dddd").toLowerCase())),o.push(l(i)),o.push(c(i)),o.push(a(i.date()));break;case"day":o.push("vis-day".concat(i.date())),o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(l(i)),o.push(u(i)),o.push(this.step<=2?l(i):""),o.push(this.step<=2?"vis-".concat(i.format("dddd").toLowerCase()):""),o.push(a(i.date()-1));break;case"week":o.push("vis-week".concat(i.format("w"))),o.push(c(i)),o.push(a(i.week()));break;case"month":o.push("vis-".concat(i.format("MMMM").toLowerCase())),o.push(u(i)),o.push(a(i.month()));break;case"year":o.push("vis-year".concat(i.year())),o.push(h(i)),o.push(a(i.year()));break}return vt(o).call(o,String).join(" ")}}Dc.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class VI extends pl{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:U.extend({},Dc.FORMAT),moment:Xr,timeAxis:null},this.options=U.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(U.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),U.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof Xr.locale=="function"?Xr.locale(e.locale):Xr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,i=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==i;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height="".concat(this.props.height,"px"),this._repaintLabels(),l?i.insertBefore(t,l):i.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(r,c):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=U.convert(this.body.range.start,"Number"),r=U.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=i-eb(this.options.moment,this.body.hiddenDates,this.body.range,i);s-=this.body.util.toTime(0).valueOf();const o=new Dc(new Date(t),new Date(r),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,m=0,g,v,y,b=0;const w=1e3;let S;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&b<w;){switch(b++,d=o.isMajor(),S=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),g=m,m=h-u,o.scale){case"week":f=!0;break;default:f=m>=g*.4;break}if(this.options.showMinorLabels&&f){var _=this._repaintMinorText(u,o.getLabelMinor(l),e,S);_.style.width="".concat(m,"px")}d&&this.options.showMajorLabels?(u>0&&(y==null&&(y=u),_=this._repaintMajorText(u,o.getLabelMajor(l),e,S)),v=this._repaintMajorLine(u,m,e,S)):f?v=this._repaintMinorLine(u,m,e,S):v&&(v.style.width="".concat(mi(v.style.width)+m,"px"))}if(b===w&&!dU&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(w," lines.")),dU=!0),this.options.showMajorLabels){const k=this.body.util.toTime(0),C=o.getLabelMajor(k),T=C.length*(this.props.majorCharWidth||10)+10;(y==null||T<y)&&this._repaintMajorText(0,C,e,S)}ze(U).call(U,this.dom.redundant,k=>{for(;k.length;){const C=k.pop();C&&C.parentNode&&C.parentNode.removeChild(C)}})}_repaintMinorText(e,t,r,i){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=U.xss(t);let o=r=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className="vis-text vis-minor ".concat(i),s}_repaintMajorText(e,t,r,i){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=U.xss(t),s.className="vis-text vis-major ".concat(i);let o=r=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,r){var i;const s=this.options.rtl?t*-1:t;e.style.transform=On(i="translate(".concat(s,"px, ")).call(i,r,"px)")}_repaintMinorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.minorLineHeight,"px");let l=r=="top"?a.majorLabelHeight:this.body.domProps.top.height,c=e-a.minorLineWidth/2;return this._setXY(o,c,l),o.className=On(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(s,i),o}_repaintMajorLine(e,t,r,i){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.majorLineHeight,"px");let l=r=="top"?0:this.body.domProps.top.height,c=e-a.majorLineWidth/2;return this._setXY(o,c,l),o.className=On(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(s,i),o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var dU=!1;function HRe(n){var e=window,t={},r={keydown:{},keyup:{}},i={},s;for(s=97;s<=122;s++)i[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)i[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)i[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)i["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)i["num"+s]={code:96+s,shift:!1};i["num*"]={code:106,shift:!1},i["num+"]={code:107,shift:!1},i["num-"]={code:109,shift:!1},i["num/"]={code:111,shift:!1},i["num."]={code:110,shift:!1},i.left={code:37,shift:!1},i.up={code:38,shift:!1},i.right={code:39,shift:!1},i.down={code:40,shift:!1},i.space={code:32,shift:!1},i.enter={code:13,shift:!1},i.shift={code:16,shift:void 0},i.esc={code:27,shift:!1},i.backspace={code:8,shift:!1},i.tab={code:9,shift:!1},i.ctrl={code:17,shift:!1},i.alt={code:18,shift:!1},i.delete={code:46,shift:!1},i.pageup={code:33,shift:!1},i.pagedown={code:34,shift:!1},i["="]={code:187,shift:!1},i["-"]={code:189,shift:!1},i["]"]={code:221,shift:!1},i["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(r[u][c.keyCode]!==void 0)for(var h=r[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);r[h][i[c].code]===void 0&&(r[h][i[c].code]=[]),r[h][i[c].code].push({fn:u,shift:i[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in i)i.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in i)if(i.hasOwnProperty(u)){if(c.shiftKey==!0&&i[u].shift==!0&&c.keyCode==i[u].code)return u;if(c.shiftKey==!1&&i[u].shift==!1&&c.keyCode==i[u].code)return u;if(c.keyCode==i[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),i[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=r[h][i[c].code];if(f!==void 0)for(var m=0;m<f.length;m++)f[m].fn==u&&f[m].shift==i[c].shift||d.push(r[h][i[c].code][m]);r[h][i[c].code]=d}else r[h][i[c].code]=[]},t.reset=function(){r={keydown:{},keyup:{}}},t.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}function Gi(n){var e,t;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Rr(this.dom.overlay),this.hammer.on("tap",he(e=this._onTapOverlay).call(e,this));var r=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ze(i).call(i,function(s){r.hammer.on(s,function(o){o.stopPropagation()})}),document&&document.body&&(this.onClick=function(s){WRe(s.target,n)||r.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=HRe(),this.escListener=he(t=this.deactivate).call(t,this)}OR(Gi.prototype);Gi.current=null;Gi.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Gi.prototype.activate=function(){var n;Gi.current&&Gi.current.deactivate(),Gi.current=this,this.active=!0,this.dom.overlay.style.display="none",U.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),he(n=this.keycharm).call(n,"esc",this.escListener)};Gi.prototype.deactivate=function(){Gi.current===this&&(Gi.current=null),this.active=!1,this.dom.overlay.style.display="",U.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Gi.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function WRe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const iD={current:"current",time:"time",deleteSelected:"Delete selected"},YRe=iD,GRe=iD,sD={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},VRe=sD,KRe=sD,oD={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},XRe=oD,QRe=oD,aD={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},JRe=aD,ZRe=aD,Cg={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},eDe=Cg,tDe=Cg,nDe=Cg,rDe=Cg,_J={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},iDe=_J,SJ={current:"",time:"",deleteSelected:" "},sDe=SJ,kJ={current:"",time:"",deleteSelected:" "},oDe=kJ,CJ={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},aDe=CJ,lD={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},lDe=lD,cDe=lD,EJ={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},uDe=EJ,TJ={current:"",time:"",deleteSelected:""},hDe=TJ,MJ={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},dDe=MJ,Ax={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},fDe=Ax,pDe=Ax,mDe=Ax,IJ={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},gDe=IJ,sd={en:iD,en_EN:YRe,en_US:GRe,it:sD,it_IT:VRe,it_CH:KRe,nl:oD,nl_NL:XRe,nl_BE:QRe,de:aD,de_DE:JRe,de_CH:ZRe,fr:Cg,fr_FR:eDe,fr_CA:tDe,fr_BE:nDe,fr_CH:rDe,es:_J,es_ES:iDe,uk:SJ,uk_UA:sDe,ru:kJ,ru_RU:oDe,pl:CJ,pl_PL:aDe,pt:lD,pt_BR:lDe,pt_PT:cDe,tr:EJ,tr_TR:uDe,ja:TJ,ja_JP:hDe,lt:IJ,lt_LT:gDe,sv:MJ,sv_SE:dDe,nb:Ax,nn:pDe,nb_NO:fDe,nn_NO:mDe};class PJ extends pl{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={moment:Xr,locales:sd,locale:"en",id:void 0,title:void 0},this.options=U.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=U.extend({},sd,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];ze(r=Vn(this.options.locales)).call(r,s=>{this.options.locales[s]=U.extend({},i,this.options.locales[s])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&U.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,t,r;const i=document.createElement("div");i["custom-time"]=this,i.className="vis-custom-time ".concat(this.options.id||""),i.style.position="absolute",i.style.top="0px",i.style.height="100%",this.bar=i;const s=document.createElement("div");s.style.position="relative",s.style.top="0px",this.options.rtl?s.style.right="-10px":s.style.left="-10px",s.style.height="100%",s.style.width="20px";function o(a){this.body.range._onMouseWheel(a)}s.addEventListener?(s.addEventListener("mousewheel",he(o).call(o,this),!1),s.addEventListener("DOMMouseScroll",he(o).call(o,this),!1)):s.attachEvent("onmousewheel",he(o).call(o,this)),i.appendChild(s),this.hammer=new Rr(s),this.hammer.on("panstart",he(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",he(t=this._onDrag).call(t,this)),this.hammer.on("panend",he(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Rr.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),r=this.options.locales.en);let i=this.options.title;if(i===void 0){var s;i=On(s="".concat(r.time,": ")).call(s,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),i=i.charAt(0).toUpperCase()+i.substring(1)}else typeof i=="function"&&(i=i.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=i,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=U.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=U.xss(e),this.marker.style.position="absolute",t){var r;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",he(r=this._onMarkerChange).call(r,this)),this.marker.title=e,this.marker.addEventListener("blur",i=>{this.title!=i.target.innerHTML&&(this._onMarkerChanged(i),this.title=i.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,i=this.body.util.toTime(r),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(i,s,o):i;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}}class cD{_create(e){var t,r,i;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",he(t=this._onTouch).call(t,this)),this.on("panmove",he(r=this._onDrag).call(r,this));const s=this;this._origRedraw=he(i=this._redraw).call(i,this),this._redraw=U.throttle(this._origRedraw),this.on("_change",m=>{s.itemSet&&s.itemSet.initialItemSetDrawn&&m&&m.queue==!0?s._redraw():s._origRedraw()}),this.hammer=new Rr(this.dom.root);const o=this.hammer.get("pinch").set({enable:!0});o&&URe(o),this.hammer.get("pan").set({threshold:5,direction:Rr.DIRECTION_ALL}),this.timelineListeners={};const a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ze(a).call(a,m=>{const g=v=>{s.isActive()&&s.emit(m,v)};s.hammer.on(m,g),s.timelineListeners[m]=g}),wJ(this.hammer,m=>{s.emit("touch",m)}),qRe(this.hammer,m=>{s.emit("release",m)});function l(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let g=0,v=0;"detail"in m&&(v=m.detail*-1),"wheelDelta"in m&&(v=m.wheelDelta),"wheelDeltaY"in m&&(v=m.wheelDeltaY),"wheelDeltaX"in m&&(g=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(g=v*-1,v=0),"deltaY"in m&&(v=m.deltaY*-1),"deltaX"in m&&(g=m.deltaX);var y=40,b=800;m.deltaMode&&(m.deltaMode===1?(g*=y,v*=y):(g*=y,v*=b));const w=this.options.verticalScroll,S=Math.abs(v)>=Math.abs(g),_=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(w&&S&&!_){const k=this.props.scrollTop,C=k+v;this._setScrollTop(C)!==k&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let C=(S?v:g)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&S&&(C=-C);const T=this.range.start+C,O=this.range.end+C,R={animation:!1,byUser:!0,event:m};this.range.setRange(T,O,R),m.preventDefault();return}}const c="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(c,he(l).call(l,this),!1),this.dom.top.addEventListener(c,he(l).call(l,this),!1),this.dom.bottom.addEventListener(c,he(l).call(l,this),!1);function u(m){if(s.options.verticalScroll&&(m.preventDefault(),s.isActive())){const g=-m.target.scrollTop;s._setScrollTop(g),s._redraw(),s.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",he(u).call(u,this)),this.dom.right.parentNode.addEventListener("scroll",he(u).call(u,this));let h=!1;function d(m){var g;if(m.preventDefault&&(s.emit("dragover",s.getEventProperties(m)),m.preventDefault()),Gt(g=m.target.className).call(g,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function f(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var g=JSON.parse(m.dataTransfer.getData("text"));if(!g||!g.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},g.target!=="item"?s.itemSet._onAddItem(m):s.itemSet._onDropObjectOnItem(m),s.emit("drop",s.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",he(d).call(d,this),!1),this.dom.center.addEventListener("drop",he(f).call(f,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var t;if(e){const o=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(U.selectiveExtend(o,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const a=this.timeAxis2=new VI(this.body,this.options);a.setOptions=l=>{const c=l?U.extend({},l):{};c.orientation="top",VI.prototype.setOptions.call(a,c)},this.components.push(a)}}else if(this.timeAxis2){var r;const a=Gt(r=this.components).call(r,this.timeAxis2);if(a!==-1){var i;Dr(i=this.components).call(i,a,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&nD(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Gi(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(ze(t=this.components).call(t,o=>o.setOptions(e)),"configure"in e){var s;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const o=U.deepExtend({},this.options);ze(s=this.components).call(s,a=>{U.deepExtend(o,a.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const t in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,t)&&delete this.timelineListeners[t];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,ze(e=this.components).call(e,t=>t.destroy()),this.body=null}setCustomTime(e,t){var r;const i=vt(r=this.customTimes).call(r,s=>t===s.options.id);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Yr(t)));i.length>0&&i[0].setCustomTime(e)}getCustomTime(e){var t;const r=vt(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Yr(e)));return r[0].getCustomTime()}setCustomTimeMarker(e,t,r){var i;const s=vt(i=this.customTimes).call(i,o=>o.options.id===t);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Yr(t)));s.length>0&&s[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){var r;const i=vt(r=this.customTimes).call(r,s=>s.options.id===t);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Yr(t)));if(i.length>0)return i[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){var r;const i=e!==void 0?U.convert(e,"Date"):new Date;if(XR(r=this.customTimes).call(r,a=>a.options.id===t))throw new Error("A custom time with id ".concat(Yr(t)," already exists"));const o=new PJ(this.body,U.extend({},this.options,{time:i,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){var t;const r=vt(t=this.customTimes).call(t,i=>i.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(Yr(e)));ze(r).call(r,i=>{var s,o,a,l;Dr(s=this.customTimes).call(s,Gt(o=this.customTimes).call(o,i),1),Dr(a=this.components).call(a,Gt(l=this.components).call(l,i),1),i.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const i=r.max-r.min,s=new Date(r.min.valueOf()-i*.01),o=new Date(r.max.valueOf()+i*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,i){typeof arguments[2]=="function"&&(i=arguments[2],r={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],i=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},i)):(s=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:s},i))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.range.end-this.range.start,s=U.convert(e,"Date").valueOf(),o=s-i/2,a=s+i/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const i=this.getWindow(),s=i.start.valueOf(),o=i.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,r)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const t=this.dom;if(!t||!t.container||t.root.offsetWidth==0)return;let r=!1;const i=this.options,s=this.props;Zy(this.options.moment,this.body,this.options.hiddenDates),i.orientation=="top"?(U.addClassName(t.root,"vis-top"),U.removeClassName(t.root,"vis-bottom")):(U.removeClassName(t.root,"vis-top"),U.addClassName(t.root,"vis-bottom")),i.rtl?(U.addClassName(t.root,"vis-rtl"),U.removeClassName(t.root,"vis-ltr")):(U.addClassName(t.root,"vis-ltr"),U.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=U.option.asSize(i.maxHeight,""),t.root.style.minHeight=U.option.asSize(i.minHeight,""),t.root.style.width=U.option.asSize(i.width,"");const o=t.root.offsetWidth;s.border.left=1,s.border.right=1,s.border.top=1,s.border.bottom=1,s.center.height=t.center.offsetHeight,s.left.height=t.left.offsetHeight,s.right.height=t.right.offsetHeight,s.top.height=t.top.clientHeight||-s.border.top,s.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-s.border.bottom;const a=Math.max(s.left.height,s.center.height,s.right.height),l=s.top.height+a+s.bottom.height+s.border.top+s.border.bottom;t.root.style.height=U.option.asSize(i.height,"".concat(l,"px")),s.root.height=t.root.offsetHeight,s.background.height=s.root.height;const c=s.root.height-s.top.height-s.bottom.height;s.centerContainer.height=c,s.leftContainer.height=c,s.rightContainer.height=s.leftContainer.height,s.root.width=o,s.background.width=s.root.width,this.initialDrawDone||(s.scrollbarWidth=U.getScrollBarWidth());const u=t.leftContainer.clientWidth,h=t.rightContainer.clientWidth;i.verticalScroll?i.rtl?(s.left.width=u||-s.border.left,s.right.width=h+s.scrollbarWidth||-s.border.right):(s.left.width=u+s.scrollbarWidth||-s.border.left,s.right.width=h||-s.border.right):(s.left.width=u||-s.border.left,s.right.width=h||-s.border.right),this._setDOM();let d=this._updateScrollTop();i.orientation.item!="top"&&(d+=Math.max(s.centerContainer.height-s.center.height-s.border.top-s.border.bottom,0)),t.center.style.transform="translateY(".concat(d,"px)");const f=s.scrollTop==0?"hidden":"",m=s.scrollTop==s.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=f,t.shadowBottom.style.visibility=m,t.shadowTopLeft.style.visibility=f,t.shadowBottomLeft.style.visibility=m,t.shadowTopRight.style.visibility=f,t.shadowBottomRight.style.visibility=m,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||s.center.height<s.centerContainer.height)&&(t.left.style.top="".concat(d,"px"),t.right.style.top="".concat(d,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),s.left.width=u||-s.border.left,s.right.width=h||-s.border.right,this._setDOM());const g=s.center.height>s.centerContainer.height;this.hammer.get("pan").set({direction:g?Rr.DIRECTION_ALL:Rr.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),ze(e=this.components).call(e,y=>{r=y.redraw()||r});const v=5;if(r)if(this.redrawCount<v){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height="".concat(e.background.height,"px"),t.backgroundVertical.style.height="".concat(e.background.height,"px"),t.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),t.centerContainer.style.height="".concat(e.centerContainer.height,"px"),t.leftContainer.style.height="".concat(e.leftContainer.height,"px"),t.rightContainer.style.height="".concat(e.rightContainer.height,"px"),t.background.style.width="".concat(e.background.width,"px"),t.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),t.backgroundHorizontal.style.width="".concat(e.background.width,"px"),t.centerContainer.style.width="".concat(e.center.width,"px"),t.top.style.width="".concat(e.top.width,"px"),t.bottom.style.width="".concat(e.bottom.width,"px"),t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top="".concat(e.top.height,"px"),t.centerContainer.style.left="".concat(e.left.width,"px"),t.centerContainer.style.top="".concat(e.top.height,"px"),t.leftContainer.style.left="0",t.leftContainer.style.top="".concat(e.top.height,"px"),t.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),t.rightContainer.style.top="".concat(e.top.height,"px"),t.top.style.left="".concat(e.left.width,"px"),t.top.style.top="0",t.bottom.style.left="".concat(e.left.width,"px"),t.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return aU(this,e,this.props.center.width)}_toGlobalTime(e){return aU(this,e,this.props.root.width)}_toScreen(e){return oU(this,e,this.props.center.width)}_toGlobalScreen(e){return oU(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=U.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=BRe(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}OR(cD.prototype);class vDe extends pl{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Xr,locales:sd,locale:"en"},this.options=U.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=U.extend({},sd,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];ze(r=Vn(this.options.locales)).call(r,s=>{this.options.locales[s]=U.extend({},i,this.options.locales[s])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&U.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,t;const r=this.body.dom.backgroundVertical;this.bar.parentNode!=r&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),r.appendChild(this.bar),this.start());let i=this.options.moment(pi()+this.offset);this.options.alignCurrentTime&&(i=i.startOf(this.options.alignCurrentTime));const s=this.body.util.toScreen(i);let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en);let a=On(e=On(t="".concat(o.current," ")).call(t,o.time,": ")).call(e,i.format("dddd, MMMM Do YYYY, H:mm:ss"));a=a.charAt(0).toUpperCase()+a.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(s*-1,"px)"):this.bar.style.transform="translateX(".concat(s,"px)"),this.bar.title=a}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let i=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=ti(t,i)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=U.convert(e,"Date").valueOf(),r=pi();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(pi()+this.offset)}}var fU={},pU;function yDe(){if(pU)return fU;pU=1;var n=Je(),e=hl().find,t=gg(),r="find",i=!0;return r in[]&&Array(1)[r](function(){i=!1}),n({target:"Array",proto:!0,forced:i},{find:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),t(r),fU}var gT,mU;function bDe(){if(mU)return gT;mU=1,yDe();var n=Mn();return gT=n("Array","find"),gT}var vT,gU;function xDe(){if(gU)return vT;gU=1;var n=on(),e=bDe(),t=Array.prototype;return vT=function(r){var i=r.find;return r===t||n(t,r)&&i===t.find?e:i},vT}var yT,vU;function wDe(){if(vU)return yT;vU=1;var n=xDe();return yT=n,yT}var bT,yU;function _De(){return yU||(yU=1,bT=wDe()),bT}var SDe=_De(),kDe=nt(SDe);const hi=.001;function CDe(n){Nn(n).call(n,(e,t)=>e.data.start-t.data.start)}function EDe(n){Nn(n).call(n,(e,t)=>{const r="end"in e.data?e.data.end:e.data.start,i="end"in t.data?t.data.end:t.data.start;return r-i})}function bU(n,e,t,r){return uD(n,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,r)===null}function TDe(n,e,t){const r=uD(n,e.item,!1,i=>i.stack,()=>!0,i=>i.baseTop);t.height=r-t.top+.5*e.item.vertical}function MDe(n,e,t,r){for(let i=0;i<n.length;i++){if(n[i].data.subgroup==null){n[i].top=e.item.vertical;continue}if(n[i].data.subgroup===void 0||!r)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[n[i].data.subgroup].index||(s+=t[o].height,t[n[i].data.subgroup].top=s);n[i].top=s+.5*e.item.vertical}r||IDe(n,e,t)}function IDe(n,e,t){var r;uD(Nn(r=IR(t)).call(r,(i,s)=>i.index>s.index?1:i.index<s.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let i=0;i<n.length;i++)n[i].data.subgroup!==void 0&&(n[i].top=t[n[i].data.subgroup].top+.5*e.item.vertical)}function xU(n,e,t){let r=!1;const i=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?i[t[s].index]=s:i.push(s);for(let s=0;s<i.length;s++){let o=i[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;r=r||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=n[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));r&&t[o].stack&&TDe(n[o],e,t[o])}}function uD(n,e,t,r,i,s,o){let a=b=>b.start,l=b=>b.end;t||(!!(n[0]&&n[0].options.rtl)?a=w=>w.right:a=w=>w.left,l=w=>a(w)+w.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const b of n)if(r(b))c.push(b);else if(i(b)){const w=a(b);h!==null&&w<h-hi&&(d=0),h=w,d=iv(u,S=>a(S)-hi>w,d),Dr(u).call(u,d,0,b),d++}h=null;let f=null;d=0;let m=0,g=0,v=0;for(;c.length>0;){var y;const b=c.shift();b.top=s(b);const w=a(b),S=l(b);h!==null&&w<h-hi&&(m=0,g=0,d=0,f=null),(h===null||w>h+hi)&&(m=iv(u,C=>w<l(C)-hi,m)),h=w,(f===null||f<S-hi)&&(g=iv(u,C=>S<a(C)-hi,Math.max(m,g))),f!==null&&f-hi>S&&(g=ODe(u,C=>S+hi>=a(C),m,g)+1),f=S;const _=Nn(y=RDe(u,C=>w<l(C)-hi,m,g)).call(y,(C,T)=>C.top-T.top);for(let C=0;C<_.length;C++){const T=_[C];PDe(b,T,e)&&(b.top=T.top+T.height+e.vertical)}i(b)&&(d=iv(u,C=>a(C)-hi>w,d),Dr(u).call(u,d,0,b),d<m&&m++,d<=g&&g++,d++);const k=b.top+b.height;if(k>v&&(v=k),o&&o())return null}return v}function PDe(n,e,t){return n.top-t.vertical+hi<e.top+e.height&&n.top+n.height+t.vertical-hi>e.top}function iv(n,e,t){t||(t=0);for(let r=t;r<n.length;r++)if(e(n[r]))return r;return n.length}function ODe(n,e,t,r){t||(t=0),r||(r=n.length);for(let i=r-1;i>=t;i--)if(e(n[i]))return i;return t-1}function RDe(n,e,t,r){t||(t=0),r?r=Math.min(r,n.length):r=n.length;const i=[];for(let s=t;s<r;s++)e(n[s])&&i.push(n[s]);return i}const DDe="__background__",wU={BACKGROUND:DDe};class KI{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const i=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",i),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",i)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,o)&&(this.subgroupVisibility[o]=e.subgroupVisibility[o]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var i;r=he(i=this.itemSet.options.groupTemplate).call(i,this),t=r(e,this.dom.inner)}else t=e&&e.content;if(t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=U.xss(t):this.dom.inner.innerHTML=U.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?U.removeClassName(this.dom.inner,"vis-hidden"):U.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),U.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(U.removeClassName(this.dom.label,"collapsed"),U.addClassName(this.dom.label,"expanded")):(U.removeClassName(this.dom.label,"expanded"),U.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,U.removeClassName(this.dom.label,"collapsed"),U.removeClassName(this.dom.label,"expanded"),U.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(U.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?U.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):U.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):U.addClassName(this.dom.label,"vis-group-level-0");const s=e&&e.className||null;s!=this.className&&(this.className&&(U.removeClassName(this.dom.label,this.className),U.removeClassName(this.dom.foreground,this.className),U.removeClassName(this.dom.background,this.className),U.removeClassName(this.dom.axis,this.className)),U.addClassName(this.dom.label,s),U.addClassName(this.dom.foreground,s),U.addClassName(this.dom.background,s),U.addClassName(this.dom.axis,s),this.className=s),this.style&&(U.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(U.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(ze(U).call(U,this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),r=t[o].length)}),r>0)for(let s=0;s<r;s++)ze(U).call(U,t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let i=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(pi()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,i=!s}):e.itemSet.userContinueNotBail==!1?i=!0:i=!1)}return i}_redrawItems(e,t,r,i){if(e||this.stackDirty||this.isVisible&&!t){var o,a,l,c,u,h;const y={byEnd:vt(o=this.orderedItems.byEnd).call(o,_=>!_.isCluster),byStart:vt(a=this.orderedItems.byStart).call(a,_=>!_.isCluster)},b={byEnd:[...new dc(vt(l=zt(c=this.orderedItems.byEnd).call(c,_=>_.cluster)).call(l,_=>!!_))],byStart:[...new dc(vt(u=zt(h=this.orderedItems.byStart).call(h,_=>_.cluster)).call(u,_=>!!_))]},w=()=>{var _,k;const C=this._updateItemsInRange(y,vt(_=this.visibleItems).call(_,O=>!O.isCluster),i),T=this._updateClustersInRange(b,vt(k=this.visibleItems).call(k,O=>O.isCluster),i);return[...C,...T]},S=_=>{let k={};for(const T in this.subgroups){var C;if(!Object.prototype.hasOwnProperty.call(this.subgroups,T))continue;const O=vt(C=this.visibleItems).call(C,R=>R.data.subgroup===T);k[T]=_?Nn(O).call(O,(R,D)=>_(R.data,D.data)):O}return k};if(typeof this.itemSet.options.order=="function"){const _=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const k=S(this.itemSet.options.order);xU(k,r,this.subgroups),this.visibleItems=w(),this._updateSubGroupHeights(r)}else{var d,f,m,g;this.visibleItems=w(),this._updateSubGroupHeights(r);const k=Nn(d=vt(f=Dd(m=this.visibleItems).call(m)).call(f,C=>C.isCluster||!C.isCluster&&!C.cluster)).call(d,(C,T)=>_.itemSet.options.order(C.data,T.data));this.shouldBailStackItems=bU(k,r,!0,he(g=this._shouldBailItemsRedraw).call(g,this))}}else if(this.visibleItems=w(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const _=S();xU(_,r,this.subgroups)}else{var v;this.shouldBailStackItems=bU(this.visibleItems,r,!0,he(v=this._shouldBailItemsRedraw).call(v,this))}else MDe(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let _=0;_<this.visibleItems.length;_++)this.visibleItems[_].repositionX(),this.subgroupVisibility[this.visibleItems[_].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[_].data.subgroup]||this.visibleItems[_].hide());this.itemSet.options.cluster&&ze(U).call(U,this.items,_=>{_.cluster&&_.displayed&&_.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=U.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return e=U.updateProperty(this.props.label,"width",r)||e,e=U.updateProperty(this.props.label,"height",i)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const i=this.visibleItems[t];i.repositionY(e),!this.isVisible&&this.groupId!=wU.BACKGROUND&&i.displayed&&i.hide()}}redraw(e,t,r,i){var s,o,a,l,c;let u=!1;const h=this.isVisible;let d;const f=[()=>{r=this._didMarkerHeightChange.call(this)||r},he(s=this._updateSubGroupHeights).call(s,this,t),he(o=this._calculateGroupSizeAndPosition).call(o,this),()=>{var m;this.isVisible=he(m=this._isGroupVisible).call(m,this)(e,t)},()=>{var m;he(m=this._redrawItems).call(m,this)(r,h,t,e)},he(a=this._updateSubgroupsSizes).call(a,this),()=>{var m;d=this.height=he(m=this._calculateHeight).call(m,this)(t)},he(l=this._calculateGroupSizeAndPosition).call(l,this),()=>{var m;u=he(m=this._didResize).call(m,this)(u,d)},()=>{var m;he(m=this._applyGroupHeight).call(m,this)(d)},()=>{var m;he(m=this._updateItemsVerticalPosition).call(m,this)(t)},he(c=()=>(!this.isVisible&&this.height&&(u=!1),u)).call(c,this)];if(i)return f;{let m;return ze(f).call(f,g=>{m=g()}),m}}_updateSubGroupHeights(e){if(Vn(this.subgroups).length>0){const t=this;this._resetSubgroups(),ze(U).call(U,this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=U.toArray(this.items):r=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(r.length>0){let i=r[0].top,s=r[0].top+r[0].height;if(ze(U).call(U,r,o=>{i=Math.min(i,o.top),s=Math.max(s,o.top+o.height)}),i>e.axis){const o=i-e.axis;s-=o,ze(U).call(U,r,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)}add(e){var t;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!ed(t=this.visibleItems).call(t,e)){const r=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,r)}}_addToSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const r in e.subgroups){var t;if(!Object.prototype.hasOwnProperty.call(e.subgroups,r))continue;const i=e.subgroups[r].items[0].data.end||e.subgroups[r].items[0].data.start;let s=e.subgroups[r].items[0].data.start,o=i-1;ze(t=e.subgroups[r].items).call(t,a=>{new Date(a.data.start)<new Date(s)&&(s=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[r].start=s,e.subgroups[r].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});Nn(e).call(e,(t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);Nn(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var t,r;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const i=Gt(t=this.visibleItems).call(t,e);i!=-1&&Dr(r=this.visibleItems).call(r,i,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(t!=null){const s=this.subgroups[t];if(s){var r;const o=Gt(r=s.items).call(r,e);if(o>=0){var i;Dr(i=s.items).call(i,o,1),s.items.length?this._updateSubgroupsSizes():delete this.subgroups[t]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=U.toArray(this.items),t=[],r=[];for(let i=0;i<e.length;i++)e[i].data.end!==void 0&&r.push(e[i]),t.push(e[i]);this.orderedItems={byStart:t,byEnd:r},CDe(this.orderedItems.byStart),EDe(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const i=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=wU.BACKGROUND){for(let v=0;v<t.length;v++){var o=t[v];o.displayed&&o.hide()}return i}const a=(r.end-r.start)/4,l=r.start-a,c=r.end+a,u=v=>v<l?-1:v<=c?0:1,h=v=>{const{start:y,end:b}=v;return b<l?-1:y<=c?0:1};if(t.length>0)for(let v=0;v<t.length;v++)this._checkIfVisibleWithReference(t[v],i,s,r);const d=U.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,i,s,v=>v.data.start<l||v.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let v=0;v<e.byEnd.length;v++)this._checkIfVisibleWithReference(e.byEnd[v],i,s,r)}else{const v=U.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(v,e.byEnd,i,s,y=>y.data.end<l||y.data.start>c)}this._sortVisibleItems(e.byStart,i,s);const f={};let m=0;for(let v=0;v<i.length;v++){const y=i[v];y.displayed||(f[v]=y.redraw(!0),m=f[v].length)}if(m>0)for(let v=0;v<m;v++)ze(U).call(U,f,y=>{y[v]()});for(let v=0;v<i.length;v++)i[v].repositionX();return i}_traceVisible(e,t,r,i,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&i[a.id]===void 0&&(i[a.id]=!0,r.push(a))}}}_sortVisibleItems(e,t,r){t.length=0;for(let i=0;i<e.length;i++){let s=e[i];r[s.id]&&t.push(s)}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,i){e.isVisible(i)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const i=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],i,s,r);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],i,s,r);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],i,s,r);const o={};let a=0;for(let u=0;u<i.length;u++){const h=i[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)ze(U).call(U,o,function(u){u[c]()});for(let u=0;u<i.length;u++)i[u].repositionX();return i}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class OJ extends KI{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let i=0,s=this.visibleItems.length;i<s;i++)this.visibleItems[i].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class Ld{constructor(e,t,r){var i;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:sd,locale:"en"},this.options=U.extend({},this.defaultOptions,r),this.options.locales=U.extend({},sd,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];ze(i=Vn(this.options.locales)).call(i,o=>{this.options.locales[o]=U.extend({},s,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,t;const r=this,i=document.createElement("div");i.className="vis-drag-center",i.dragCenterItem=this,this.hammerDragCenter=new Rr(i),this.hammerDragCenter.on("tap",s=>{r.parent.itemSet.body.emitter.emit("click",{event:s,item:r.id})}),this.hammerDragCenter.on("doubletap",s=>{s.stopPropagation(),r.parent.itemSet._onUpdateItem(r),r.parent.itemSet.body.emitter.emit("doubleClick",{event:s,item:r.id})}),this.hammerDragCenter.on("panstart",s=>{s.stopPropagation(),r.parent.itemSet._onDragStart(s)}),this.hammerDragCenter.on("panmove",he(e=r.parent.itemSet._onDrag).call(e,r.parent.itemSet)),this.hammerDragCenter.on("panend",he(t=r.parent.itemSet._onDragEnd).call(t,r.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(i,this.dom.dragLeft):this.dom.box.appendChild(i):this.dom.point&&this.dom.point.appendChild(i),this.dom.dragCenter=i}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),s=this.options.locales.en),i.title=s.deleteSelected,this.hammerDeleteButton=new Rr(i).on("tap",o=>{o.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(i),this.dom.deleteButton=i}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",e.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const i=50,s=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-i<-s?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let l,c;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var r;c=he(r=this.options.tooltipOnItemUpdateTime.template).call(r,this),l=c(this.data)}else l="start: ".concat(Xr(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(l+="<br> end: ".concat(Xr(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=U.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,i,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var u;o=he(u=this.options.visibleFrameTemplate).call(u,this),s=U.xss(o(a,c))}else s="";if(c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),r){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=U.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=s}}if(this.options.template){var h;i=he(h=this.options.template).call(h,this),t=i(a,e,this.data)}else t=this.data.content;if(t instanceof Object&&!(t instanceof Element))i(a,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=U.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(Et(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Vn(this.data);else return;for(const r of t){const i=this.data[r];i!=null?e.setAttribute("data-".concat(r),i):e.removeAttribute("data-".concat(r))}}}_updateStyle(e){this.style&&(U.removeCssText(e,this.style),this.style=null),this.data.style&&(U.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},U.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},U.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return he(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}Ld.prototype.stack=!0;class ADe extends Ld{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,i=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-i<e.end:r=="left"?t=this.data.start.getTime()+i>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+i/2>e.start&&this.data.start.getTime()-i/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var t,r,i,s;let o;const a=[he(t=this._createDomElement).call(t,this),he(r=this._appendDomElement).call(r,this),he(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;he(l=this._updateDomComponentsSizes).call(l,this)(o)}},he(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return ze(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=On(o="translate(".concat(l,"px, ")).call(o,s,"px)")};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,i=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-i/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-i/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-i/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height="".concat(r,"px"),t.bottom="",t.top="0"}else{const i=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height="".concat(i,"px"),t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class NDe extends Ld{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(r,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var t,r,i,s;let o;const a=[he(t=this._createDomElement).call(t,this),he(r=this._appendDomElement).call(r,this),he(i=this._updateDirtyDomComponents).call(i,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;he(l=this._updateDomComponentsSizes).call(l,this)(o)}},he(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return ze(a).call(a,c=>{l=c()}),l}}repositionXY(){const e=this.options.rtl;(function(r,i,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i===void 0&&s===void 0)return;const l=a?i*-1:i;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(i===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=On(o="translate(".concat(l,"px, ")).call(o,s,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class Ac extends Ld{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var t,r,i,s;let o;const a=[he(t=this._createDomElement).call(t,this),he(r=this._appendDomElement).call(r,this),he(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=he(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;he(l=this._updateDomComponentsSizes).call(l,this)(o)}},he(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return ze(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),i=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),i>2*t&&(i=2*t));const l=Math.max(Math.round((i-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=l,a=Math.min(i-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(l,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(l-a,0),"px)");break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((l-a)/2,0),"px)");break;default:if(this.overflow?i>0?o=Math.max(-r,0):o=-a:r<0?o=-r:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(o,"px)")}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top="".concat(this.top,"px"):t.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}Ac.prototype.baseClassName="vis-item vis-range";class Xc extends Ld{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var t,r,i,s;let o;const a=[he(t=this._createDomElement).call(t,this),he(r=this._appendDomElement).call(r,this),he(i=this._updateDirtyDomComponents).call(i,this),()=>{if(this.dirty){var l;o=he(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;he(l=this._updateDomComponentsSizes).call(l,this)(o)}},he(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return ze(a).call(a,c=>{l=c()}),l}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[r].height,"px"),t=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[r].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof OJ?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Xc.prototype.baseClassName="vis-item vis-background";Xc.prototype.stack=!1;Xc.prototype.show=Ac.prototype.show;Xc.prototype.hide=Ac.prototype.hide;Xc.prototype.repositionX=Ac.prototype.repositionX;class LDe{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=mi(e),this.y=mi(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=U.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0)),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var _U={},SU;function FDe(){if(SU)return _U;SU=1;var n=Je(),e=hl().every,t=Ad(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_U}var xT,kU;function $De(){if(kU)return xT;kU=1,FDe();var n=Mn();return xT=n("Array","every"),xT}var wT,CU;function jDe(){if(CU)return wT;CU=1;var n=on(),e=$De(),t=Array.prototype;return wT=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},wT}var _T,EU;function BDe(){if(EU)return _T;EU=1;var n=jDe();return _T=n,_T}var ST,TU;function zDe(){return TU||(TU=1,ST=BDe()),ST}var qDe=zDe(),UDe=nt(qDe);class Nx extends Ld{constructor(e,t,r){const i=sl({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,i),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=fc(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),i=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&i>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r,i,s,o,a,l,c=[he(t=this._createDomElement).call(t,this),he(r=this._appendDomElement).call(r,this),he(i=this._updateDirtyDomComponents).call(i,this),he(s=function(){this.dirty&&(l=this._getDomComponentsSizes())}).call(s,this),he(o=function(){if(this.dirty){var h;he(h=this._updateDomComponentsSizes).call(h,this)(l)}}).call(o,this),he(a=this._repaintDomAdditionals).call(a,this)];if(e)return c;var u;return ze(c).call(c,function(h){u=h()}),u}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,i=this.dom.dot.offsetWidth;if(t){const s=r+e+(t-e)/2,o=s-i/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform="translateX(".concat(a,"px)"),this.dom.dot.style.transform="translateX(".concat(l,"px)")}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-i/2)*-1:e-i/2;this.dom.line.style.transform="translateX(".concat(s,"px)"),this.dom.dot.style.transform="translateX(".concat(o,"px)")}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,i=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-i+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let t of this.data.uiItems)t.cluster=this;this.data.items=zt(e=this.data.uiItems).call(e,t=>t.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,t,r;const i=zt(e=this.data.uiItems).call(e,a=>({start:a.data.start.valueOf(),end:a.data.end?a.data.end.valueOf():a.data.start.valueOf()}));this.data.min=Math.min(...zt(i).call(i,a=>Math.min(a.start,a.end||a.start))),this.data.max=Math.max(...zt(i).call(i,a=>Math.max(a.start,a.end||a.start)));const s=zt(t=this.data.uiItems).call(t,a=>a.center),o=Dx(s).call(s,(a,l)=>a+l,0)/this.data.uiItems.length;XR(r=this.data.uiItems).call(r,a=>a.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(o),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return vt(e=this.data.uiItems).call(e,t=>t.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=he(e=Nx.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}}Nx.prototype.baseClassName="vis-item vis-range vis-cluster";const HDe="__ungrouped__",WDe={UNGROUPED:HDe};class YDe{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new Nx(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:i,clusterCriteria:s}=typeof r=="boolean"?{}:r;s||(s=()=>!0),i=i||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let m=h[f],g=1,v=f-1;for(;v>=0&&m.center-h[v].center<l/2;)!h[v].cluster&&s(m.data,h[v].data)&&g++,v--;let y=f+1;for(;y<h.length&&h[y].center-m.center<l/2;)s(m.data,h[y].data)&&g++,y++;let b=c.length-1;for(;b>=0&&m.center-c[b].center<l;)m.group==c[b].group&&s(m.data,c[b].data)&&g++,b--;if(g>i){const w=g-i+1,S=[];let _=f;for(;S.length<w&&_<h.length;)s(h[f].data,h[_].data)&&S.push(h[_]),_++;const k=this.itemSet.getGroupId(m.data),C=this.itemSet.groups[k]||this.itemSet.groups[WDe.UNGROUPED];let T=this._getClusterForItems(S,C,e,r);c.push(T),f+=w}else delete m.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const r of IR(this.items)){const i=r.parent?r.parent.groupId:"";let s=e[i];s||(s=[],e[i]=s),s.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(let r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&Nn(t=e[r]).call(t,(i,s)=>i.center-s.center)}this.dataChanged=!1}_getClusterForItems(e,t,r,i){var s;const o=zt(s=r||[]).call(s,m=>{var g;return{cluster:m,itemsIds:new dc(zt(g=m.data.uiItems).call(g,v=>v.id))}});let a;if(o.length){for(let m of o)if(m.itemsIds.size===e.length&&UDe(e).call(e,g=>m.itemsIds.has(g.id))){a=m.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=i.titleTemplate||"";const c={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},u=l.replace(/{count}/,e.length),h='<div title="'+u+'">'+e.length+"</div>",d=sl({},i,this.itemSet.options),f={content:h,title:u,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,c,d),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const du="__ungrouped__",ma="__background__";class od extends pl{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(i,s){const o=s.order;s.order=i.order,i.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Dc.snap,onDropObjectOnItem(i,s,o){o(s)},onAdd(i,s){s(i)},onUpdate(i,s){s(i)},onMove(i,s){s(i)},onRemove(i,s){s(i)},onMoving(i,s){s(i)},onAddGroup(i,s){s(i)},onMoveGroup(i,s){s(i)},onRemoveGroup(i,s){s(i)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=U.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(i,s){r._onAdd(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(i,s){r._onUpdate(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(i,s){r._onRemove(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(i,s,o){if(r._onAddGroups(s.items),r.groupsData&&r.groupsData.length>0){var a;const l=r.groupsData.getDataSet();ze(a=l.get()).call(a,c=>{if(c.nestedGroups){var u;c.showNested!=!1&&(c.showNested=!0);let h=[];ze(u=c.nestedGroups).call(u,d=>{const f=l.get(d);f&&(f.nestedInGroup=c.id,c.showNested==!1&&(f.visible=!1),h=On(h).call(h,f))}),l.update(h,o)}})}},update(i,s){r._onUpdateGroups(s.items)},remove(i,s){r._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){var e,t,r,i,s,o,a,l,c,u,h,d,f,m,g;const v=document.createElement("div");v.className="vis-itemset",v["vis-itemset"]=this,this.dom.frame=v;const y=document.createElement("div");y.className="vis-background",v.appendChild(y),this.dom.background=y;const b=document.createElement("div");b.className="vis-foreground",v.appendChild(b),this.dom.foreground=b;const w=document.createElement("div");w.className="vis-axis",this.dom.axis=w;const S=document.createElement("div");S.className="vis-labelset",this.dom.labelSet=S,this._updateUngrouped();const _=new OJ(ma,null,this);_.show(),this.groups[ma]=_,this.hammer=new Rr(this.body.dom.centerContainer),this.hammer.on("hammer.input",k=>{k.isFirst&&this._onTouch(k)}),this.hammer.on("panstart",he(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",he(t=this._onDrag).call(t,this)),this.hammer.on("panend",he(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Rr.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",he(i=this._onSelectItem).call(i,this)),this.hammer.on("press",he(s=this._onMultiSelectItem).call(s,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",he(o=this._onAddItem).call(o,this)),this.options.rtl?this.groupHammer=new Rr(this.body.dom.rightContainer):this.groupHammer=new Rr(this.body.dom.leftContainer),this.groupHammer.on("tap",he(a=this._onGroupClick).call(a,this)),this.groupHammer.on("panstart",he(l=this._onGroupDragStart).call(l,this)),this.groupHammer.on("panmove",he(c=this._onGroupDrag).call(c,this)),this.groupHammer.on("panend",he(u=this._onGroupDragEnd).call(u,this)),this.groupHammer.get("pan").set({threshold:5,direction:Rr.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",he(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",he(d=this._onMouseOut).call(d,this)),this.body.dom.centerContainer.addEventListener("mousemove",he(f=this._onMouseMove).call(f,this)),this.body.dom.centerContainer.addEventListener("contextmenu",he(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",he(g=this._onMouseWheel).call(g,this)),this.show()}setOptions(e){if(e){var t,r;const i=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];U.selectiveExtend(i,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(U.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(U.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&U.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),ze(t=["locale","locales"]).call(t,o=>{o in e&&(this.options[o]=e[o])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&U.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&U.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const s=o=>{const a=e[o];if(a){if(typeof a!="function"){var l;throw new Error(On(l="option ".concat(o," must be a function ")).call(l,o,"(item, callback)"))}this.options[o]=a}};ze(r=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(r,s),e.cluster?(sl(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new YDe(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&ze(U).call(U,this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&ze(U).call(U,this.groups,(t,r)=>{r!==ma&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=ti(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var t;e==null&&(e=[]),Et(e)||(e=[e]);const r=vt(t=this.selection).call(t,i=>Gt(e).call(e,i)===-1);for(let i of r){const s=this.getItemById(i);s&&s.unselect()}this.selection=[...e];for(let i of e){const s=this.getItemById(i);s&&s.select()}}getSelection(){var e;return On(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const i=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>r&&i.push(l.id)}return i}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){var t;return this.items[e]||kDe(t=this.clusters).call(t,r=>r.id===e)}_deselect(e){const t=this.selection;for(let r=0,i=t.length;r<i;r++)if(t[r]==e){Dr(t).call(t,r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=U.option.asSize,i=this.options,s=i.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=i.stack!=this.lastStack,d=i.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),g={item:e.item,axis:e.axis},v={item:e.item,axis:e.item.vertical/2};let y=0;const b=e.axis+e.item.vertical;this.groups[ma].redraw(t,v,f);const w={};let S=0;if(ze(U).call(U,this.groups,(k,C)=>{if(C===ma)return;const T=k==m?g:v,O=!0;w[C]=k.redraw(t,T,f,O),S=w[C].length}),S>0){const k={};for(let C=0;C<S;C++)ze(U).call(U,w,(T,O)=>{k[O]=T[C]()});ze(U).call(U,this.groups,(C,T)=>{if(T===ma)return;o=k[T]||o,y+=C.height}),y=Math.max(y,b)}return y=Math.max(y,b),a.style.height=r(y),this.props.width=a.offsetWidth,this.props.height=y,this.dom.axis.style.top=r(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[du]||null}_updateUngrouped(){let e=this.groups[du],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[du];for(r in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,r))continue;t=this.items[r],t.parent&&t.parent.remove(t);const i=this.getGroupId(t.data),s=this.groups[i];s&&s.add(t)||t.hide()}}}else if(!e){e=new KI(null,null,this),this.groups[du]=e;for(r in this.items)Object.prototype.hasOwnProperty.call(this.items,r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const i=this.itemsData;if(!e)this.itemsData=null;else if(Rc(e))this.itemsData=Qy(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(ze(U).call(U,this.itemListeners,(s,o)=>{i.off(o,s)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){const s=this.id;ze(U).call(U,this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(ze(U).call(U,this.groupListeners,(s,o)=>{t.groupsData.off(o,s)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(Rc(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i;const s=this.groupsData.getDataSet();ze(i=s.get()).call(i,a=>{if(a.nestedGroups){var l;ze(l=a.nestedGroups).call(l,c=>{const u=s.get(c);u.nestedInGroup=a.id,a.showNested==!1&&(u.visible=!1),s.update(u)})}});const o=this.id;ze(U).call(U,this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?ma:this.groupsData?e.group:du}_onUpdate(e){const t=this;ze(e).call(e,r=>{const i=t.itemsData.get(r);let s=t.items[r];const o=i?t._getType(i):null,a=od.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,i)),!s&&i)if(a)s=new a(i,t.conversion,t.options),s.id=r,t._addItem(s),l&&(this.selection.push(r),s.select());else throw new TypeError('Unknown item type "'.concat(o,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;ze(e).call(e,i=>{const s=r.items[i];s&&(t++,r._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){ze(U).call(U,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;ze(e).call(e,r=>{const i=t.groupsData.get(r);let s=t.groups[r];if(s)s.setData(i);else{if(r==du||r==ma)throw new Error("Illegal group id. ".concat(r," is a reserved id."));const o=vg(t.options);U.extend(o,{height:null}),s=new KI(r,i,t),t.groups[r]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==r&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){ze(e).call(e,t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!U.equalArray(e,this.groupIds);if(t){const r=this.groups;ze(e).call(e,i=>{r[i].hide()}),ze(e).call(e,i=>{r[i].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(i,s){let o=[];return ze(s).call(s,a=>{if(o.push(a),i.groupsData.get(a).nestedGroups){var c;const u=zt(c=i.groupsData.get({filter(h){return h.nestedInGroup==a},order:i.options.groupOrder})).call(c,h=>h.id);o=On(o).call(o,t(i,u))}}),o}const r=vt(e).call(e,i=>!this.groupsData.get(i).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var t,r;e.hide(),delete this.items[e.id];const i=Gt(t=this.selection).call(t,e.id);i!=-1&&Dr(r=this.selection).call(r,i,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof Ac&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let i;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)i={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(o)i={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[i];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=zt(l).call(l,c=>{const u=r.items[c],h=r._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),i=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=fc();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new Ac(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const m={item:f,initialX:e.center.x,data:f.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.center.x-i.left+r.offsetLeft,e.center.y-i.top+r.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var t;e.stopPropagation();const r=this,i=this.options.snap||null,s=this.body.dom.root.offsetLeft,o=this.options.rtl?s+this.body.domProps.right.width:s+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),c=this.touchParams.selectedItem,u=(this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateGroup;let h=null;if(u&&c&&c.data.group!=null){const d=r.groupFromTarget(e);d&&(h=this._getGroupIndex(d.groupId))}ze(t=this.touchParams.itemProps).call(t,d=>{const f=r.body.util.toTime(e.center.x-o),m=r.body.util.toTime(d.initialX-o);let g,v,y,b,w;this.options.rtl?g=-(f-m):g=f-m;let S=this._cloneItemData(d.item.data);if(d.item.editable!=null&&!d.item.editable.updateTime&&!d.item.editable.updateGroup&&!r.options.editable.overrideItems)return;if((this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateTime){if(d.dragLeft)this.options.rtl?S.end!=null&&(y=U.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w):S.start!=null&&(v=U.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b);else if(d.dragRight)this.options.rtl?S.start!=null&&(v=U.convert(d.data.start,"Date"),b=new Date(v.valueOf()+g),S.start=i?i(b,a,l):b):S.end!=null&&(y=U.convert(d.data.end,"Date"),w=new Date(y.valueOf()+g),S.end=i?i(w,a,l):w);else if(S.start!=null)if(v=U.convert(d.data.start,"Date").valueOf(),b=new Date(v+g),S.end!=null){y=U.convert(d.data.end,"Date");const k=y.valueOf()-v.valueOf();S.start=i?i(b,a,l):b,S.end=new Date(S.start.valueOf()+k)}else S.start=i?i(b,a,l):b}if(u&&!d.dragLeft&&!d.dragRight&&h!=null&&S.group!=null){let k=h-d.groupOffset;k=Math.max(0,k),k=Math.min(r.groupIds.length-1,k),S.group=r.groupIds[k]}S=this._cloneItemData(S),r.options.onMoving(S,k=>{k&&d.item.setData(this._cloneItemData(k,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const i=e.parent;i.remove(e),i.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,ze(r).call(r,i=>{const s=i.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(i.item.data,a=>{t._removeItem(i.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(i.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(i.item.setData(i.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);ti(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let i=r.get(e.groupId);i.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let u=o;o=[];for(let h=0;h<u.length;h++){let d=r.get(u[h]);d.nestedGroups&&(o=On(o).call(o,d.nestedGroups))}o.length>0&&(s=On(s).call(s,o))}var a;if(i.showNested){var l=r.get(i.nestedGroups);for(let u=0;u<l.length;u++){let h=l[u];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&l.push(...r.get(h.nestedGroups))}a=zt(l).call(l,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}else{var c;a=zt(c=r.get(s)).call(c,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!i.showNested,u})}r.update(On(a).call(a,i)),i.showNested?(U.removeClassName(e.dom.label,"collapsed"),U.addClassName(e.dom.label,"expanded")):(U.removeClassName(e.dom.label,"expanded"),U.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const i=r.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=r.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(i){if(o.top+a<s)return}else{const l=r.height;if(o.top+l-a>s)return}}if(r&&r!=this.groupTouchParams.group){const i=t.get(r.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&i&&(this.options.groupOrderSwap(s,i,t),t.update(s),t.update(i));const o=t.getIds({order:this.options.groupOrder});if(!U.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=Gt(o).call(o,a[u+d]),m=t.get(o[u+h]),g=t.get(a[u+d]);this.options.groupOrderSwap(m,g,t),t.update(m),t.update(g);const v=o[u+h];o[u+h]=a[u+d],o[f]=v,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,i=t.groupsData.getDataSet(),s=U.extend({},i.get(r));t.options.onMoveGroup(s,o=>{if(o)o[i._idProp]=r,i.update(o);else{const a=i.getIds({order:t.options.groupOrder});if(!U.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=Gt(a).call(a,l[u]),d=i.get(a[u]),f=i.get(l[u]);t.options.groupOrderSwap(d,f,i),i.update(d),i.update(f);const m=a[u];a[u]=l[u],a[h]=m,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const i=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||i.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const i=t.getTitle();if(this.options.showTooltips&&i){this.popup==null&&(this.popup=new LDe(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,i=r.getBoundingClientRect();this.popup.setPosition(e.clientX-i.left+r.offsetLeft,e.clientY-i.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,i=>{i&&t.itemsData.update(i)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x:e.center.x-i.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:r?r(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||fc(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c)):(u={start:r?r(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=fc(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&r.length>0&&(a=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&r.push(t.id);const l=od._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||a==o){r=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Xc)&&r.push(u.id)}}}else{const o=Gt(r).call(r,t.id);o==-1?r.push(t.id):Dr(r).call(r,o,1)}const s=vt(r).call(r,o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return ze(e).call(e,i=>{(r==null||i.start<r)&&(r=i.start),i.end!=null?(t==null||i.end>t)&&(t=i.end):(t==null||i.start>t)&&(t=i.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let i=0;i<r.length;i++){const s=r[i],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(i===this.groupIds.length-1&&t>l.top)return o}else if(i===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=U.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=U.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=U.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var t;const s=new dc(zt(e).call(e,l=>l.id)),o=vt(t=this.clusters).call(t,l=>!s.has(l.id));let a=!1;for(let l of o){var r;const c=Gt(r=this.selection).call(r,l.id);if(c!==-1){var i;l.unselect(),Dr(i=this.selection).call(i,c,1),a=!0}}if(a){const l=this.getSelection();this.body.emitter.emit("select",{items:l,event})}}this.clusters=e||[]}}od.types={background:Xc,box:ADe,range:Ac,point:NDe};od.prototype._onAdd=od.prototype._onUpdate;let Sf=!1,MU,XI="background: #FFeeee; color: #dd0000";class pn{constructor(){}static validate(e,t,r){Sf=!1,MU=t;let i=t;return r!==void 0&&(i=t[r]),pn.parse(e,i,[]),Sf}static parse(e,t,r){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&pn.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){pn.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=pn.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),pn.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){let a=function(u){console.log("%c"+u+pn.printLocation(o,e),XI)},l=pn.getType(t[e]),c=s[l];c!==void 0?pn.getType(c)==="array"&&Gt(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+pn.print(c)+' not "'+t[e]+'". '),Sf=!0):l==="object"&&i!=="__any__"&&(o=U.copyAndExtendArray(o,e),pn.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+pn.print(Vn(s))+". Received ["+l+'] "'+t[e]+'"'),Sf=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let i=pn.findInOptions(e,t,r,!1),s=pn.findInOptions(e,MU,[],!0),o=8,a=4,l;i.indexMatch!==void 0?l=" in "+pn.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+pn.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+pn.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+pn.printLocation(i.path,e):l=". Did you mean one of these: "+pn.print(Vn(t))+pn.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+l,XI),Sf=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let h in t){if(!Object.prototype.hasOwnProperty.call(t,h))continue;let d;if(t[h].__type__!==void 0&&i===!0){let f=pn.findInOptions(e,t[h],U.copyAndExtendArray(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;Gt(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=pn.levenshteinDistance(e,h),s>d&&(o=h,a=U.copyArray(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Yr(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],i;for(i=0;i<=t.length;i++)r[i]=[i];var s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}}var GDe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class VDe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return GDe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;var i=this._isColorString(e);if(i!==void 0&&(e=i),U.isString(e)===!0){if(U.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(U.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(U.isValidHex(e)===!0){let s=U.hexToRGB(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Yr(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=U.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ti(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=U.extend({},e)),this.color=e;let r=U.RGBToHSV(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=U.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=U.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=U.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_Q(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=he(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=he(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=he(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=he(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Rr(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),wJ(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=U.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let m=u/this.r,g=U.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=f,g.s=m;let v=U.HSVToRGB(g.h,g.s,g.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class KDe{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},U.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new VDe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),vt(e)!==void 0&&(this.options.filter=vt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);vt(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=vt(this.options),t=0,r=!1;for(let i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Gt(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){let s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return ze(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=U.xss(e),this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?i.innerHTML=U.xss("<i><b>"+e+":</b></i>"):i.innerHTML=U.xss(e+":"),i}_makeDropdown(e,t,r){let i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&Gt(e).call(e,t)!==-1&&(s=Gt(e).call(e,t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],i.appendChild(c)}let o=this;i.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){let i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let g=1.2;t<0&&t*g<s?(l.min=Math.ceil(t*g),u=l.min,c="range increased"):t/g<s&&(l.min=Math.ceil(t/g),u=l.min,c="range increased"),t*g>o&&o!==1&&(l.max=Math.ceil(t*g),u=l.max,c="range increased"),l.value=t}else l.value=i;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=U.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ti(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ti(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let s=this;i.onchange=function(){s._update(this.checked,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let s=this;i.onchange=function(){s._update(this.value,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){let i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{let s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=vt(this.options),o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;i=!0;let l=e[a],c=U.copyAndExtendArray(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Et(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=r===!1)),i!==!1){o=!0;let u=this._getValue(c);if(Et(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(Gt(t).call(t,"physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=U.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let m=this._makeLabel(a,c,!0);this._makeItem(c,m),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Yr(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}class XDe{constructor(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=r,this.autoScaleEnd=i,this.formattingFunction=l,r||i){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let i=0;r<0&&(i=r);let s=!1;for(let o=i;Math.abs(o)<=Math.abs(r);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?"".concat(t):typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let i=this._start+r;this._end-i>1e-5;i+=t)i!=this._start&&e.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,i=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=r,this._end=this._start+d;const f=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],g=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const v=l-f;this._end+=v/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=g/this.scale,this._end=this._start+d):(this._start+=m-g/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>i+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<i-r){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class IU extends pl{constructor(e,t,r,i){super(),this.id=fc(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return"".concat(Jy(o.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return"".concat(Jy(o.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=U.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top="".concat(s.body.domProps.scrollTop,"px")})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];U.selectiveDeepExtend(r,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){Ca(this.svgElements);let e;const t=this.options.iconWidth,r=15,i=4;let s=i+.5*r;this.options.orientation==="left"?e=i:e=this.width-t-i;const o=Vn(this.groups);Nn(o).call(o,(a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,r,this.framework,e,s),s+=r+i);ji(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(Ca(this.svgElements),ji(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const r in this.groups)Object.prototype.hasOwnProperty.call(this.groups,r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const r=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=a?r.majorCharHeight:0,r.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,s==="left"?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;Ca(this.DOMelements.lines),Ca(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let i=!0;r.max!=null&&(this.range.end=r.max,i=!1);let s=!0;r.min!=null&&(this.range.start=r.min,s=!1),this.scale=new XDe(this.range.start,this.range.end,s,i,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const o=this.scale.getLines();ze(o).call(o,c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width="".concat(this.width,"px"),ji(this.DOMelements.lines),ji(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width="".concat(this.width,"px"),ji(this.DOMelements.lines),ji(this.DOMelements.labels),this.redraw(),e=!0):(ji(this.DOMelements.lines),ji(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,i,s){const o=HC("div",this.DOMelements.labels,this.dom.frame);o.className=i,o.innerHTML=U.xss(t),r==="left"?(o.style.left="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="right"):(o.style.right="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="left"),o.style.top="".concat(e-.5*s+this.options.labelOffsetY,"px"),t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,r,i,s){if(this.master===!0){const o=HC("div",this.DOMelements.lines,this.dom.lineContainer);o.className=r,o.innerHTML="",t==="left"?o.style.left="".concat(this.width-i,"px"):o.style.right="".concat(this.width-i,"px"),o.style.width="".concat(s,"px"),o.style.top="".concat(e,"px")}}_redrawTitle(e){if(Ca(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=HC("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-".concat(e),t.innerHTML=U.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&U.addCssText(t,this.options[e].title.style),e==="left"?t.style.left="".concat(this.props.titleCharHeight,"px"):t.style.right="".concat(this.props.titleCharHeight,"px"),t.style.width="".concat(this.height,"px")}ji(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Eg(){}Eg.draw=function(n,e,t,r){r=r||0;for(var i=QDe(t,e),s=0;s<n.length;s++)if(!i)id(n[s].screen_x+r,n[s].screen_y,QI(e),t.svgElements,t.svg,n[s].label);else{var o=i(n[s],e);(o===!0||typeof o=="object")&&id(n[s].screen_x+r,n[s].screen_y,QI(e,o),t.svgElements,t.svg,n[s].label)}};Eg.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=xs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),id(e+.5*r,t,QI(n),s.svgElements,s.svg)};function QI(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function QDe(n,e){var t=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(t=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function Ar(){}Ar.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a=xs("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*r),c=n.options.barChart.width,u=c/l,h=Math.round(.4*i),d=Math.round(.75*i),f=Math.round((r-2*l)/3);if(UI(e+.5*l+f,t+o-h-1,l,h,n.className+" vis-bar",s.svgElements,s.svg,n.style),UI(e+1.5*l+f+2,t+o-d-1,l,d,n.className+" vis-bar",s.svgElements,s.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/u,className:n.className};id(e+.5*l+f,t+o-h-1,m,s.svgElements,s.svg),id(e+1.5*l+f+2,t+o-d-1,m,s.svgElements,s.svg)}};Ar.draw=function(n,e,t){var r=[],i={},s,o,a,l,c,u,h=0;for(c=0;c<n.length;c++)if(l=t.groups[n[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[n[c]]===void 0||t.options.groups.visibility[n[c]]===!0))for(u=0;u<e[n[c]].length;u++)r.push({screen_x:e[n[c]][u].screen_x,screen_end:e[n[c]][u].screen_end,screen_y:e[n[c]][u].screen_y,x:e[n[c]][u].x,end:e[n[c]][u].end,y:e[n[c]][u].y,groupId:n[c],label:e[n[c]][u].label}),h+=1;if(h!==0)for(Nn(r).call(r,function(g,v){return g.screen_x===v.screen_x?g.groupId<v.groupId?-1:1:g.screen_x-v.screen_x}),Ar._getDataIntersections(i,r),c=0;c<r.length;c++){l=t.groups[r[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=r[c].screen_x;var f=0;if(i[o]===void 0)c+1<r.length&&(s=Math.abs(r[c+1].screen_x-o)),a=Ar._getSafeDrawData(s,l,d);else{var m=c+(i[o].amount-i[o].resolved);m<r.length&&(s=Math.abs(r[m].screen_x-o)),a=Ar._getSafeDrawData(s,l,d),i[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?r[c].screen_y<l.zeroPosition?(f=i[o].accumulatedNegative,i[o].accumulatedNegative+=l.zeroPosition-r[c].screen_y):(f=i[o].accumulatedPositive,i[o].accumulatedPositive+=l.zeroPosition-r[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/i[o].amount,a.offset+=i[o].resolved*a.width-.5*a.width*(i[o].amount+1))}let g=a.width,v=r[c].screen_x;if(r[c].screen_end!=null?(g=r[c].screen_end-r[c].screen_x,v+=g*.5):v+=a.offset,UI(v,r[c].screen_y-f,g,l.zeroPosition-r[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let y={screen_x:r[c].screen_x,screen_y:r[c].screen_y-f,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};Eg.draw([y],l,t,a.offset)}}};Ar._getDataIntersections=function(n,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(n[e[r].screen_x]===void 0&&(n[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[r].screen_x].amount+=1)};Ar._getSafeDrawData=function(n,e,t){var r,i;return n<e.options.barChart.width&&n>0?(r=n<t?t:n,i=0,e.options.barChart.align==="left"?i-=.5*n:e.options.barChart.align==="right"&&(i+=.5*n)):(r=e.options.barChart.width,i=0,e.options.barChart.align==="left"?i-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(i+=.5*e.options.barChart.width)),{width:r,offset:i}};Ar.getStackedYRange=function(n,e,t,r,i){if(n.length>0){Nn(n).call(n,function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};Ar._getDataIntersections(s,n),e[r]=Ar._getStackedYRange(s,n),e[r].yAxisOrientation=i,t.push(r)}};Ar._getStackedYRange=function(n,e){for(var t,r=e[0].screen_y,i=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,n[t]===void 0?(r=r>e[s].screen_y?e[s].screen_y:r,i=i<e[s].screen_y?e[s].screen_y:i):e[s].screen_y<0?n[t].accumulatedNegative+=e[s].screen_y:n[t].accumulatedPositive+=e[s].screen_y;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r=r>n[o].accumulatedNegative?n[o].accumulatedNegative:r,r=r>n[o].accumulatedPositive?n[o].accumulatedPositive:r,i=i<n[o].accumulatedNegative?n[o].accumulatedNegative:i,i=i<n[o].accumulatedPositive?n[o].accumulatedPositive:i);return{min:r,max:i}};function dr(){}dr.calcPath=function(n,e){if(n!=null&&n.length>0){var t=[];return e.options.interpolation.enabled==!0?t=dr._catmullRom(n,e):t=dr._linear(n),t}};dr.drawIcon=function(n,e,t,r,i,s){var o=i*.5,a,l,c=xs("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=xs("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",n.className),n.style!==void 0&&a.setAttributeNS(null,"style",n.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),n.options.shaded.enabled==!0&&(l=xs("path",s.svgElements,s.svg),n.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+r)+","+(t+o)+"L"+(e+r)+","+t),l.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&l.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var u={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};id(e+.5*r,t,u,s.svgElements,s.svg)}};dr.drawShading=function(n,e,t,r){if(e.options.shaded.enabled==!0){var i=Number(r.svg.style.height.replace("px","")),s=xs("path",r.svgElements,r.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=i:l=Math.min(Math.max(0,e.zeroPosition),i),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,o,!1)+" V"+l+" H"+n[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};dr.draw=function(n,e,t){if(n!=null&&n!=null){var r=xs("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var i="L";e.options.interpolation.enabled==!0&&(i="C"),r.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,i,!1))}};dr.serializePath=function(n,e,t){if(n.length<2)return"";var r=e,i;if(t)for(i=n.length-2;i>0;i--)r+=n[i][0]+","+n[i][1]+" ";else for(i=1;i<n.length;i++)r+=n[i][0]+","+n[i][1]+" ";return r};dr._catmullRomUniform=function(n){var e,t,r,i,s,o,a=[];a.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var l=1/6,c=n.length,u=0;u<c-1;u++)e=u==0?n[0]:n[u-1],t=n[u],r=n[u+1],i=u+2<c?n[u+2]:r,s={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*l},o={screen_x:(t.screen_x+6*r.screen_x-i.screen_x)*l,screen_y:(t.screen_y+6*r.screen_y-i.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([r.screen_x,r.screen_y]);return a};dr._catmullRom=function(n,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(n);var r,i,s,o,a,l,c,u,h,d,f,m,g,v,y,b,w,S,_,k=[];k.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var C=n.length,T=0;T<C-1;T++)r=T==0?n[0]:n[T-1],i=n[T],s=n[T+1],o=T+2<C?n[T+2]:s,c=Math.sqrt(Math.pow(r.screen_x-i.screen_x,2)+Math.pow(r.screen_y-i.screen_y,2)),u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),v=Math.pow(h,t),b=Math.pow(h,2*t),y=Math.pow(u,t),w=Math.pow(u,2*t),_=Math.pow(c,t),S=Math.pow(c,2*t),d=2*S+3*_*y+w,f=2*b+3*v*y+w,m=3*_*(_+y),m>0&&(m=1/m),g=3*v*(v+y),g>0&&(g=1/g),a={screen_x:(-w*r.screen_x+d*i.screen_x+S*s.screen_x)*m,screen_y:(-w*r.screen_y+d*i.screen_y+S*s.screen_y)*m},l={screen_x:(b*i.screen_x+f*s.screen_x-w*o.screen_x)*g,screen_y:(b*i.screen_y+f*s.screen_y-w*o.screen_y)*g},a.screen_x==0&&a.screen_y==0&&(a=i),l.screen_x==0&&l.screen_y==0&&(l=s),k.push([a.screen_x,a.screen_y]),k.push([l.screen_x,l.screen_y]),k.push([s.screen_x,s.screen_y]);return k};dr._linear=function(n){for(var e=[],t=0;t<n.length;t++)e.push([n[t].screen_x,n[t].screen_y]);return e};function ml(n,e,t,r){this.id=e;var i=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=U.selectiveBridgeObject(i,t),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}ml.prototype.setItems=function(n){n!=null?(this.itemsData=n,Nn(this.options)==!0&&U.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};ml.prototype.getItems=function(){return this.itemsData};ml.prototype.setZeroPosition=function(n){this.zeroPosition=n};ml.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];U.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),U.mergeOptions(this.options,n,"interpolation"),U.mergeOptions(this.options,n,"drawPoints"),U.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};ml.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};ml.prototype.getLegend=function(n,e,t,r,i){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(i==null||i==null)&&(i=.5*e),this.options.style){case"line":dr.drawIcon(this,r,i,n,e,t);break;case"points":case"point":Eg.drawIcon(this,r,i,n,e,t);break;case"bar":Ar.drawIcon(this,r,i,n,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};ml.prototype.getYRange=function(n){for(var e=n[0].y,t=n[0].y,r=0;r<n.length;r++)e=e>n[r].y?n[r].y:e,t=t<n[r].y?n[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function Ci(n,e,t,r){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=U.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}Ci.prototype=new pl;Ci.prototype.clear=function(){this.groups={},this.amountOfGroups=0};Ci.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};Ci.prototype.updateGroup=function(n,e){this.groups[n]=e};Ci.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};Ci.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};Ci.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Ci.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Ci.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];U.selectiveDeepExtend(e,this.options,n)};Ci.prototype.redraw=function(){var n=0,e=Vn(this.groups);Nn(e).call(e,function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var i=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+i+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(s+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=U.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};Ci.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=Vn(this.groups);Nn(n).call(n,function(c,u){return c<u?-1:1}),sIe(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,i=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=i+5+t+"px";for(var a=0;a<n.length;a++){var l=n[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(i,s,this.framework,r,o),o+=s+this.options.iconSpacing)}}};var nb="__ungrouped__";function Vt(n,e){this.id=fc(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=U.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,i){t._onAdd(i.items)},update:function(r,i){t._onUpdate(i.items)},remove:function(r,i){t._onRemove(i.items)}},this.groupListeners={add:function(r,i){t._onAddGroups(i.items)},update:function(r,i){t._onUpdateGroups(i.items)},remove:function(r,i){t._onRemoveGroups(i.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=U.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Vt.prototype=new pl;Vt.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new IU(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new IU(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Ci(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Ci(this.body,this.options.legend,"right",this.options.groups),this.show()};Vt.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&mi((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),U.selectiveDeepExtend(e,this.options,n),U.mergeOptions(this.options,n,"interpolation"),U.mergeOptions(this.options,n,"drawPoints"),U.mergeOptions(this.options,n,"shaded"),U.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,nb)&&this.groups[nb].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Vt.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Vt.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Vt.prototype.setItems=function(n){var e=this,t,r=this.itemsData;if(!n)this.itemsData=null;else if(Rc(n))this.itemsData=Qy(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(ze(U).call(U,this.itemListeners,function(s,o){r.off(o,s)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;ze(U).call(U,this.itemListeners,function(s,o){e.itemsData.on(o,s,i)}),t=this.itemsData.getIds(),this._onAdd(t)}};Vt.prototype.setGroups=function(n){var e=this,t;if(this.groupsData){ze(U).call(U,this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!n)this.groupsData=null;else if(Rc(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var i=this.id;ze(U).call(U,this.groupListeners,function(s,o){e.groupsData.on(o,s,i)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};Vt.prototype._onUpdate=function(n){this._updateAllGroupData(n)};Vt.prototype._onAdd=function(n){this._onUpdate(n)};Vt.prototype._onRemove=function(n){this._onUpdate(n)};Vt.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};Vt.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};Vt.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Vt.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};Vt.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new ml(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Vt.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),i=this.itemsData.idProp,s={};n&&zt(n).call(n,function(v){s[v]=v});for(var o={},a=0;a<r.length;a++){var l=r[a],c=l.group;c==null&&(c=nb),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&n){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){g=this.groups[c];var h=g.getItems();t[c]=vt(h).call(h,function(v){return u[v[i]]=v[i],v[i]!==s[v[i]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<r.length;a++)if(l=r[a],c=l.group,c==null&&(c=nb),!(!e&&n&&l[i]!==s[l[i]]&&Object.prototype.hasOwnProperty.call(u,l[i]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=U.bridgeObject(l);f.x=U.convert(l.x,"Date"),f.end=U.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[i]=l[i];var m=t[c].length-o[c]--;t[c][m]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var g=void 0;this.groupsData!=null&&(g=this.groupsData.get(c)),g==null&&(g={id:c,content:this.options.defaultGroup+c}),this._updateGroup(g,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Vt.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var r;this.svg.style.width=U.option.asSize(3*this.props.width),this.svg.style.left=U.option.asSize(-this.props.width),(Gt(r=this.options.height+"").call(r,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var i=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/s,a=i*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};Vt.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:t.options.zIndex})}U.insertSort(n,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=n[i].id;return r};Vt.prototype._updateGraph=function(){if(Ca(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,t={},r=!1,i=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,i,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),r=this._updateYAxis(o,t),r==!0)return ji(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)n=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(l!=null&&(this._stack(a[n.id],a[l.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=l.id))),l=n),this._convertYcoordinates(a[o[e]],n);var c={};for(e=0;e<o.length;e++)if(n=this.groups[o[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=dr.calcPath(u,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(Gt(o).call(o,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=dr.calcPath(a[h],this.groups[h])),dr.drawShading(c[o[e]],n,c[h],this.framework)}else dr.drawShading(c[o[e]],n,void 0,this.framework)}for(Ar.draw(o,a,this.framework),e=0;e<o.length;e++)if(n=this.groups[o[e]],a[o[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=dr.calcPath(a[o[e]],n)),dr.draw(c[o[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&Eg.draw(a[o[e]],n,this.framework);break}}}return ji(this.svgElements),!1};Vt.prototype._stack=function(n,e){var t,r,i,s,o;t=0;for(var a=0;a<n.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===n[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>n[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),r=o.x-s.x,i=o.y-s.y,r==0?n[a].y=n[a].orginalY+o.y:n[a].y=n[a].orginalY+i/r*(n[a].x-s.x)+s.y}};Vt.prototype._getRelevantData=function(n,e,t,r){var i,s,o,a;if(n.length>0)for(s=0;s<n.length;s++){i=this.groups[n[s]];var l=i.getItems();if(Nn(i.options)==!0){var c=function(f,m){return f.getTime()==m.getTime()?0:f<m?-1:1},u=Math.max(0,U.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,U.binarySearchValue(l,r,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=i.itemsData[o],d[o-u]=a;e[n[s]]=d}else e[n[s]]=i.itemsData}};Vt.prototype._applySampling=function(n,e){var t;if(n.length>0){for(var r=0;r<n.length;r++)if(t=this.groups[n[r]],t.options.sampling==!0){var i=e[n[r]];if(i.length>0){var s=1,o=i.length,a=this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=i[u]}e[n[r]]=Dr(c).call(c,0,Math.round(o/s))}}}};Vt.prototype._getYRanges=function(n,e,t){var r,i,s,o=[],a=[],l;if(n.length>0){for(s=0;s<n.length;s++)r=e[n[s]],l=this.groups[n[s]].options,r.length>0&&(i=this.groups[n[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=On(o).call(o,r):a=On(a).call(a,r):t[n[s]]=i.getYRange(r,n[s]));Ar.getStackedYRange(o,t,n,"__barStackLeft","left"),Ar.getStackedYRange(a,t,n,"__barStackRight","right")}};Vt.prototype._updateYAxis=function(n,e){var t=!1,r=!1,i=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(n.length>0){for(var h=0;h<n.length;h++){var d=this.groups[n[h]];d&&d.options.yAxisOrientation!="right"?(r=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(i=!0,o=1e9,l=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(c=e[n[h]].min,u=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(r=!0,s=s>c?c:s,a=a<u?u:a):(i=!0,o=o>c?c:o,l=l<u?u:l));r==!0&&this.yAxisLeft.setRange(s,a),i==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(i,this.yAxisRight)||t,i==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(i==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)Gt(n).call(n,f[h])!=-1&&Dr(n).call(n,Gt(n).call(n,f[h]),1);return t};Vt.prototype._toggleAxisVisiblity=function(n,e){var t=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};Vt.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,t=0;t<n.length;t++)n[t].screen_x=e(n[t].x)+this.props.width,n[t].screen_y=n[t].y,n[t].end!=null?n[t].screen_end=e(n[t].end)+this.props.width:n[t].screen_end=void 0};Vt.prototype._convertYcoordinates=function(n,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var i=0;i<n.length;i++)n[i].screen_y=Math.round(t.convertValue(n[i].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let ft="string",Mt="boolean",Ht="number",JDe="array",fu="date",cn="object",ZDe="dom",pu="moment",PU="any",e3e={configure:{enabled:{boolean:Mt},filter:{boolean:Mt,function:"function"},container:{dom:ZDe},__type__:{object:cn,boolean:Mt,function:"function"}},alignCurrentTime:{string:ft,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:ft},sort:{boolean:Mt},sampling:{boolean:Mt},stack:{boolean:Mt},graphHeight:{string:ft,number:Ht},shaded:{enabled:{boolean:Mt},orientation:{string:["bottom","top","zero","group"]},groupId:{object:cn},__type__:{boolean:Mt,object:cn}},style:{string:["line","bar","points"]},barChart:{width:{number:Ht},minWidth:{number:Ht},sideBySide:{boolean:Mt},align:{string:["left","center","right"]},__type__:{object:cn}},interpolation:{enabled:{boolean:Mt},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Ht},__type__:{object:cn,boolean:Mt}},drawPoints:{enabled:{boolean:Mt},onRender:{function:"function"},size:{number:Ht},style:{string:["square","circle"]},__type__:{object:cn,boolean:Mt,function:"function"}},dataAxis:{showMinorLabels:{boolean:Mt},showMajorLabels:{boolean:Mt},showWeekScale:{boolean:Mt},icons:{boolean:Mt},width:{string:ft,number:Ht},visible:{boolean:Mt},alignZeros:{boolean:Mt},left:{range:{min:{number:Ht,undefined:"undefined"},max:{number:Ht,undefined:"undefined"},__type__:{object:cn}},format:{function:"function"},title:{text:{string:ft,number:Ht,undefined:"undefined"},style:{string:ft,undefined:"undefined"},__type__:{object:cn}},__type__:{object:cn}},right:{range:{min:{number:Ht,undefined:"undefined"},max:{number:Ht,undefined:"undefined"},__type__:{object:cn}},format:{function:"function"},title:{text:{string:ft,number:Ht,undefined:"undefined"},style:{string:ft,undefined:"undefined"},__type__:{object:cn}},__type__:{object:cn}},__type__:{object:cn}},legend:{enabled:{boolean:Mt},icons:{boolean:Mt},left:{visible:{boolean:Mt},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:cn}},right:{visible:{boolean:Mt},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:cn}},__type__:{object:cn,boolean:Mt}},groups:{visibility:{any:PU},__type__:{object:cn}},autoResize:{boolean:Mt},throttleRedraw:{number:Ht},clickToUse:{boolean:Mt},end:{number:Ht,date:fu,string:ft,moment:pu},format:{minorLabels:{millisecond:{string:ft,undefined:"undefined"},second:{string:ft,undefined:"undefined"},minute:{string:ft,undefined:"undefined"},hour:{string:ft,undefined:"undefined"},weekday:{string:ft,undefined:"undefined"},day:{string:ft,undefined:"undefined"},week:{string:ft,undefined:"undefined"},month:{string:ft,undefined:"undefined"},quarter:{string:ft,undefined:"undefined"},year:{string:ft,undefined:"undefined"},__type__:{object:cn}},majorLabels:{millisecond:{string:ft,undefined:"undefined"},second:{string:ft,undefined:"undefined"},minute:{string:ft,undefined:"undefined"},hour:{string:ft,undefined:"undefined"},weekday:{string:ft,undefined:"undefined"},day:{string:ft,undefined:"undefined"},week:{string:ft,undefined:"undefined"},month:{string:ft,undefined:"undefined"},quarter:{string:ft,undefined:"undefined"},year:{string:ft,undefined:"undefined"},__type__:{object:cn}},__type__:{object:cn}},moment:{function:"function"},height:{string:ft,number:Ht},hiddenDates:{start:{date:fu,number:Ht,string:ft,moment:pu},end:{date:fu,number:Ht,string:ft,moment:pu},repeat:{string:ft},__type__:{object:cn,array:JDe}},locale:{string:ft},locales:{__any__:{any:PU},__type__:{object:cn}},max:{date:fu,number:Ht,string:ft,moment:pu},maxHeight:{number:Ht,string:ft},maxMinorChars:{number:Ht},min:{date:fu,number:Ht,string:ft,moment:pu},minHeight:{number:Ht,string:ft},moveable:{boolean:Mt},multiselect:{boolean:Mt},orientation:{string:ft},showCurrentTime:{boolean:Mt},showMajorLabels:{boolean:Mt},showMinorLabels:{boolean:Mt},showWeekScale:{boolean:Mt},snap:{function:"function",null:"null"},start:{date:fu,number:Ht,string:ft,moment:pu},timeAxis:{scale:{string:ft,undefined:"undefined"},step:{number:Ht,undefined:"undefined"},__type__:{object:cn}},width:{string:ft,number:Ht},zoomable:{boolean:Mt},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Ht},zoomMin:{number:Ht},zIndex:{number:Ht},__type__:{object:cn}},t3e={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function ta(n,e,t,r){var i,s,o,a,l,c,u;if(!(Et(t)||Rc(t))&&t instanceof Object){var h=r;r=t,t=h}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Xr,width:null,height:null,maxHeight:null,minHeight:null},this.options=U.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:he(i=this.on).call(i,this),off:he(s=this.off).call(s,this),emit:he(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale(){return d.timeAxis.step.scale},getStep(){return d.timeAxis.step.step},toScreen:he(a=d._toScreen).call(a,d),toGlobalScreen:he(l=d._toGlobalScreen).call(l,d),toTime:he(c=d._toTime).call(c,d),toGlobalTime:he(u=d._toGlobalTime).call(u,d)}},this.range=new rD(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new VI(this.body),this.components.push(this.timeAxis),this.currentTime=new vDe(this.body),this.components.push(this.currentTime),this.linegraph=new Vt(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(f){d.emit("click",d.getEventProperties(f))}),this.on("doubletap",function(f){d.emit("doubleClick",d.getEventProperties(f))}),this.dom.root.oncontextmenu=function(f){d.emit("contextmenu",d.getEventProperties(f))},this.initialFitDone=!1,this.on("changed",function(){if(d.itemsData!=null){if(!d.initialFitDone&&!d.options.rollingMode)if(d.initialFitDone=!0,d.options.start!=null||d.options.end!=null){if(d.options.start==null||d.options.end==null)var f=d.getItemRange();var m=d.options.start!=null?d.options.start:f.min,g=d.options.end!=null?d.options.end:f.max;d.setWindow(m,g,{animation:!1})}else d.fit({animation:!1});!d.initialDrawDone&&(d.initialRangeChangeDone||!d.options.start&&!d.options.end||d.options.rollingMode)&&(d.initialDrawDone=!0,d.dom.root.style.visibility="visible",d.dom.loadingScreen.parentNode.removeChild(d.dom.loadingScreen),d.options.onInitialDrawComplete&&ti(()=>d.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}ta.prototype=new cD;ta.prototype.setOptions=function(n){pn.validate(n,e3e)===!0&&console.log("%cErrors have been found in the supplied options object.",XI),cD.prototype.setOptions.call(this,n)};ta.prototype.setItems=function(n){var e=this.itemsData==null,t;if(n?Rc(n)?t=Qy(n):t=Qy(new ZR(n)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,i=this.options.end!=null?this.options.end:null;this.setWindow(r,i,{animation:!1})}else this.fit({animation:!1})};ta.prototype.setGroups=function(n){var e;n?Rc(n)?e=n:e=new ZR(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};ta.prototype.getLegend=function(n,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,t):"cannot find group:'"+n+"'"};ta.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};ta.prototype.getDataRange=function(){var n=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var i=this.linegraph.groups[t].itemsData[r],s=U.convert(i.x,"Date").valueOf();n=n==null||n>s?s:n,e=e==null||e<s?s:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};ta.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,t=n.center?n.center.y:n.clientY,r=e-U.getAbsoluteLeft(this.dom.centerContainer),i=t-U.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(r),o=PJ.customTimeFromTarget(n),a=U.getTarget(n),l=null;U.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&U.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":U.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||U.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":U.hasParent(a,this.linegraph.legendLeft.dom.frame)||U.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":U.hasParent(a,this.currentTime.bar)?l="current-time":U.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(i)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(i)),{event:n,customTime:o?o.options.id:null,what:l,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:r,y:i,time:s,value:c}};ta.prototype._createConfigurator=function(){return new KDe(this,this.dom.container,t3e)};const n3e=oIe();Xr.locale(n3e);const r3e=I.createContext(void 0),kf="onboard_mnemonic",Cf="onboard_wallet_address",i3e=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(null);I.useEffect(()=>{const l=localStorage.getItem(Cf),c=localStorage.getItem(kf),u=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");l&&c?(t(l),i(c)):u&&h&&(t(u),i(h),localStorage.setItem(Cf,u),localStorage.setItem(kf,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),I.useEffect(()=>{const l=c=>{c.key===Cf?t(c.newValue):c.key===kf&&i(c.newValue)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const s=I.useCallback((l,c)=>{t(l),i(c),localStorage.setItem(Cf,l),localStorage.setItem(kf,c)},[]),o=I.useCallback(()=>{t(null),i(null),localStorage.removeItem(Cf),localStorage.removeItem(kf)},[]),a=I.useMemo(()=>({generatedAddress:e,mnemonic:r,setGeneratedData:s,clearGeneratedData:o}),[e,r,s,o]);return E.jsx(r3e.Provider,{value:a,children:n})},_n={baseURL:"https://router.morpheum.io",wsURL:"wss://router.morpheum.io/websocket",layoutConfig:nme,compactType:"vertical",allStatic:!0,orderbookEnhancement:{enabled:!0,jitter:eV,fakePending:{maxFakeLevelsPerSide:3,minLifetimeMs:2e3,maxLifetimeMs:8e3,volumeScalePct:.8,minAddDelayMs:1500,maxAddDelayMs:5e3}},orderbookMaxDepth:20,refreshInterval:5e3,tradingViewSymbol:"BINANCE:BTCUSDT",tradingViewInterval:"5",layoutMargin:[5,5]},s3e=30,o3e=12;function a3e(){var jt;const[n,e]=I.useState("--"),[t,r]=I.useState(void 0),[i,s]=I.useState(!1),[o,a]=I.useState(10),[l,c]=I.useState(!1),[u,h]=I.useState(P0e),[d,f]=I.useState(!1),[m,g]=I.useState(0),[v,y]=I.useState(0),[b,w]=I.useState("orders"),S=I.useRef(null),_=I.useRef(null),[k,C]=I.useState("lg"),[T,O]=I.useState(!1),R=I.useRef(!1),D=I.useRef([]),F=I.useMemo(()=>rp(_n.layoutConfig),[]),[N,z]=I.useState(()=>rp(_n.layoutConfig));I.useEffect(()=>{z(F),D.current=F,O(!1),R.current=!1},[F]);const[$,L]=I.useState(()=>localStorage.getItem("authToken")||""),{markets:B,selectedMarketId:j,loadingMarkets:q,getError:W}=md({baseURL:_n.baseURL,sessionToken:$,autoFetchMarkets:!0}),{toggleEnabled:V}=ni(),{mnemonic:X,walletAddress:Z,authToken:H,setMnemonic:K,resetAll:Y}=lde();I.useEffect(()=>{X||K(BM)},[X,K]),I.useEffect(()=>{D.current=N},[N]),I.useEffect(()=>{H&&(L(H),localStorage.setItem("authToken",H))},[H]);const{setAuthToken:ne,setWalletAddress:te,client:re}=ni();I.useEffect(()=>{ne($||void 0)},[$,ne]),I.useEffect(()=>{te(Z||void 0)},[Z,te]);const{collections:Q,spotWalletBalance:ee,refreshBucketBalance:ve}=wO({subscriptionClient:re??void 0,baseURL:_n.baseURL,authToken:$,walletAddress:Z??"",refreshInterval:_n.refreshInterval}),{client:ge,isReady:We,error:Re}=Nb({baseURL:_n.baseURL,mnemonic:X??""}),[Me,je]=I.useState(!1),[it,Be]=I.useState(""),[Ue,Xe]=I.useState(""),[Ye,ut]=I.useState(10),[Ut,me]=I.useState(10),[le,oe]=I.useState(""),[De,Ve]=I.useState("cross"),[ye,xe]=I.useState("cross"),[ae,Ee]=I.useState("transfer"),[Ae,we]=I.useState(!1),Ie=I.useRef(0);I.useEffect(()=>{if(Re){const de=Re.message;console.error("Failed to initialize FiClient:",Re),tt.error("Exchange client initialization failed",{description:de,action:jn(de)})}},[Re]);const st=I.useCallback(de=>({USDC:1,USDT:2})[de==null?void 0:de.toUpperCase()]??1,[]),Kt=I.useCallback((de,Ce)=>{const be=de.toLowerCase(),Te=Ce.toUpperCase(),et=Te&&String(st(Te));return Q.find(Le=>{var wt,or;const Qe=(wt=np(Le))==null?void 0:wt.toLowerCase(),at=((or=Le.status)==null?void 0:or.toLowerCase())==="dormant",rt=Number(Le.totalEquity||0)<=0,xt=Qe===be,zr=et?Le.collateralAssetIndex===et:!0;return(at||rt)&&xt&&zr})||null},[Q,st]),$t=I.useCallback(()=>{je(!0),Be(""),Xe(""),ut(10),me(10),oe(""),Ve("cross"),xe("cross"),Ee("transfer")},[]),fn=I.useCallback(()=>{je(!1),Be(""),Xe(""),ut(10),me(10),oe(""),Ve("cross"),xe("cross"),Ee("transfer")},[]),Un=I.useCallback(async de=>{if(!X){const be="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";tt.error("Mnemonic required",{description:be,action:jn(be)});return}if(!ge||!We){const be="Exchange client is still initializing. Please wait a moment and try again.";tt.error("Exchange client not ready",{description:be,action:jn(be)});return}we(!0);const Ce=tt.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});Ie.current=typeof Ce=="number"?Ce:0;try{const be="USDC";let Te,et="";if(de.type==="transfer"){const{from:Le,to:Qe,amount:at}=de;if(Le==="spot-wallet"&&Qe==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(Le==="spot-wallet"){if(!Qe||Qe==="spot-wallet")throw new Error("Please select a destination bucket");if(Te=await ge.extractToBucket({bucketId:Qe,assetId:be,amount:at}),!Te.success){const xt=Te.errorMessage||Te.error_message||"Failed to transfer to bucket";Ie.current!==0&&(tt.dismiss(Ie.current),Ie.current=0),tt.error("Transfer failed",{description:xt,action:jn(xt)});return}const rt=Te.txhash||"";et=`Successfully transferred ${un(at)} from Spot Wallet to ${Qe}${rt?`
TxHash: ${rt}`:""}`}else if(Qe==="spot-wallet"){if(Te=await ge.withdrawFromBucket({bucketId:Le,assetId:be,amount:at}),!Te.success){const xt=Te.errorMessage||Te.error_message||"Failed to withdraw from bucket";Ie.current!==0&&(tt.dismiss(Ie.current),Ie.current=0),tt.error("Withdraw failed",{description:xt,action:jn(xt)});return}const rt=Te.txhash||Te.txHash||"";et=`Successfully transferred ${un(at)} from ${Le} to Spot Wallet${rt?`
TxHash: ${rt}`:""}`}else{if(!Qe)throw new Error("Please select a destination bucket");if(Te=await ge.bucketTransfer({fromBucketId:Le,toBucketId:Qe,assetId:be,amount:at}),!Te.success){const xt=Te.errorMessage||Te.error_message||Te.message||"Failed to transfer between buckets";Ie.current!==0&&(tt.dismiss(Ie.current),Ie.current=0),tt.error("Transfer failed",{description:xt,action:jn(xt)});return}const rt=Te.txHash??Te.txhash??"";et=`Successfully transferred ${un(at)} from ${Le} to ${Qe}${rt?`
TxHash: ${rt}`:""}`}}else{const{from:Le,collateralAsset:Qe,marginType:at,amount:rt}=de,xt=Kt(at,Qe);let zr;if(xt)zr=xt.bucketId,et=`Using existing ${at} ${Qe} bucket: ${zr}`;else{const wt=await ge.createBucket({collateralAssetIndex:st(Qe),marginType:at,initialMargin:"0"});if(!wt.success)throw new Error(wt.message||"Failed to create bucket");zr=wt.bucketId??"",et=`Successfully created ${at} margin bucket (${Qe})`}if(rt>0&&!xt&&await new Promise(wt=>setTimeout(wt,1500)),rt>0&&Le==="spot-wallet"){const wt=await ge.extractToBucket({bucketId:zr,assetId:Qe,amount:rt});if(!wt.success){const Os=wt.errorMessage||wt.error_message||"Unknown error";throw new Error(`${xt?"Bucket found":"Bucket created"} but failed to transfer funds: ${Os}`)}const or=wt.txHash??wt.txhash??"";et=`${xt?"Using existing":"Successfully created"} ${at} margin bucket (${Qe}) and transferred ${un(rt)}${or?`
TxHash: ${or}`:""}`}else if(rt>0&&Le!=="spot-wallet"){const wt=await ge.bucketTransfer({fromBucketId:Le,toBucketId:zr,assetId:Qe,amount:rt});if(!wt.success){const Os=wt.errorMessage||wt.error_message||wt.message||"Unknown error";throw new Error(`${xt?"Bucket found":"Bucket created"} but failed to transfer funds: ${Os}`)}const or=wt.txHash??wt.txhash??"";et=`${xt?"Using existing":"Successfully created"} ${at} margin bucket (${Qe}) and transferred ${un(rt)}${or?`
TxHash: ${or}`:""}`}}Ie.current!==0&&(tt.dismiss(Ie.current),Ie.current=0),tt.success("Transfer completed",{description:et}),je(!1),Be(""),Xe(""),ut(10),me(10),oe(""),Ve("cross"),xe("cross"),await new Promise(Le=>setTimeout(Le,1e3)),ve()}catch(be){Ie.current!==0&&(tt.dismiss(Ie.current),Ie.current=0);const Te=be instanceof Error?be.message:"Transfer failed";tt.error("Transfer failed",{description:Te,action:jn(Te)}),console.error("Transfer error:",be)}finally{we(!1)}},[X,ge,We,ve,Kt,st]),ht=I.useMemo(()=>{const de=Q.filter(Ce=>(Ce==null?void 0:Ce.bucketId)&&Ce.bucketId.trim()!=="").map(Ce=>({value:Ce.bucketId,label:`${Ce.bucketId} (${un(Ce.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${un(ee)})`},...de]},[Q,ee]),pt=I.useMemo(()=>Q.filter(de=>(de==null?void 0:de.bucketId)&&de.bucketId.trim()!=="").map(de=>({bucketId:de.bucketId,totalEquity:de.totalEquity})),[Q]),Pe=I.useRef(!1);I.useEffect(()=>{$&&$.trim()!==""&&!Pe.current&&localStorage.getItem("authToken")!==$&&localStorage.setItem("authToken",$),Pe.current=!1},[$]),I.useEffect(()=>{const de=be=>{be.key==="authToken"&&be.newValue&&(Pe.current=!0,L(be.newValue))};window.addEventListener("storage",de);const Ce=setInterval(()=>{const be=localStorage.getItem("authToken");L(Te=>be&&be!==Te?(Pe.current=!0,be):Te)},5e3);return()=>{window.removeEventListener("storage",de),clearInterval(Ce)}},[]);const ce=I.useCallback(()=>{O(!0)},[]);I.useEffect(()=>{T&&!q&&B.length>0&&j&&!R.current&&(R.current=!0,setTimeout(()=>{V()},100))},[T,q,B.length,j,V]);const dt=I.useCallback((de,Ce)=>{},[]);I.useEffect(()=>(document.body.classList.remove("full-width-screen"),()=>document.body.classList.remove("full-width-screen")),[]);const ot=j||"",Ne=I.useMemo(()=>{if(N.length===0)return{};const de={};for(let Ce=0;Ce<=8;Ce++){const be=N.find(Te=>Te.i===Ce.toString());if(be){const Te=be,et=Te.h*s3e+(Te.h-1)*_n.layoutMargin[1],Le=Te.w/o3e*100;de[Ce]={width:`${Le}%`,height:`${et}px`}}}return de},[N]);I.useCallback(async()=>{try{const Ce=`[
${N.slice().sort((be,Te)=>{const et=be,Le=Te,Qe=parseInt(et.i,10),at=parseInt(Le.i,10);return Qe-at}).map(be=>{const Te=be;return`  [${Te.x}, ${Te.y}, ${Te.w}, ${Te.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(Ce),alert("Layout matrix copied to clipboard!")}catch(de){console.error("Failed to copy layout matrix:",de),alert("Failed to copy layout matrix to clipboard")}},[N]),I.useMemo(()=>N.map(function(de){const Ce=de;return E.jsxs("div",{className:"layoutItem",children:[E.jsx("b",{children:Ce.i}),": [",Ce.x,", ",Ce.y,", ",Ce.w,", ",Ce.h,"]"]},Ce.i)}),[N]);const $e=I.useCallback(de=>{_.current&&_.current.setPrice(de)},[]),Oe=I.useMemo(()=>{var de,Ce;return[E.jsx(Rde,{baseURL:_n.baseURL,selectedMarketId:ot,height:(de=Ne[0])==null?void 0:de.height},`ticker-${ot}`),E.jsx(k0e,{symbol:_n.tradingViewSymbol,interval:_n.tradingViewInterval,isCollapsed:!1},"tv"),E.jsx(jde,{baseURL:_n.baseURL,marketId:ot,maxDepth:_n.orderbookMaxDepth,height:(Ce=Ne[2])==null?void 0:Ce.height,onPriceClick:$e,enhancementConfig:_n.orderbookEnhancement},`clobx-${ot}`),E.jsx(Nde,{baseURL:_n.baseURL,marketId:ot},`price-${ot}`),E.jsx(Dde,{ref:_,baseURL:_n.baseURL,mnemonic:X??BM,marketId:ot,selectedBucketBalance:t,selectedBucketId:n,authToken:$,walletAddress:Z??"",onLeverageClick:()=>{_.current&&a(_.current.leverage),s(!0)},onNumberCalculatorClick:()=>{_.current&&(g(_.current.getSizeInput()),y(_.current.getAvailableTradeAmount()),f(!0))}},`trade-${ot}`),E.jsx(Pde,{baseURL:_n.baseURL,authToken:$,walletAddress:Z,mnemonic:X,height:"400px",activeTab:b,onTabChange:w,onBucketSelect:(be,Te)=>{e(be),r(Te)},selectedBucketId:n,onRequestOpenTransferModal:$t})]},[ot,Ne,n,t,$e,X,$,Z,b]);if(q)return E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx("div",{children:"Loading markets..."})});const At=W("markets");if(At)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:E.jsxs("div",{children:["Error loading markets: ",At]})});if(B.length===0||!j)return E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx("div",{children:"No markets available."})});const Ze=_n.baseURL.includes("router.morpheum.io")?"Morpheum Mainnet":new URL(_n.baseURL).hostname;return E.jsxs("div",{className:"App-dex-content",children:[E.jsx(M0e,{brandName:"Morpheum",walletAddress:Z??"",networkChainName:Ze,onSettingsClick:()=>c(de=>!de),onConnectClick:()=>{},onBucketTransfer:()=>{w("buckets"),$t()},onDisconnect:()=>Y()}),E.jsx(A0e,{isOpen:l,onClose:()=>c(!1),state:u,onStateChange:h}),!1,E.jsx(VV,{ref:S,margin:_n.layoutMargin,onLayoutChange:dt,onBreakpointChange:C,slotContent:Oe,compactType:_n.compactType,allStatic:_n.allStatic,onCompactTypeChange:()=>{},onToggleStatic:()=>{},onNewLayout:()=>{},initialLayout:F,onMount:ce}),E.jsx(cme,{isOpen:i,currentLeverage:((jt=_.current)==null?void 0:jt.leverage)??10,tempLeverage:o,maxRatio:_.current?_.current.calculateMaxRatio(o):o.toFixed(2),onLeverageChange:a,onConfirm:async()=>{if(!n||n==="--"||n.trim()===""){tt.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(_.current){s(!1);try{await _.current.changeLeverage(o,{bucketId:n})}catch{_.current&&a(_.current.leverage)}}else s(!1)},onCancel:()=>{_.current&&a(_.current.leverage),s(!1)}}),E.jsx(iV,{isOpen:d,value:m,min:0,max:v,onConfirm:de=>{_.current&&_.current.setSizeInput(de),f(!1)},onCancel:()=>f(!1)}),E.jsx(ume,{isOpen:Me,fromValue:it,toValue:Ue,options:ht,bucketsData:pt,transferAmount:Ye,createBucketAmount:Ut,createBucketAsset:le,createMarginType:De,transferMarginType:ye,onFromChange:Be,onToChange:Xe,onTransferAmountChange:ut,onCreateBucketAmountChange:me,onCreateBucketAssetChange:oe,onCreateMarginTypeChange:Ve,onTransferMarginTypeChange:xe,onConfirm:Un,onCancel:fn,spotWalletBalance:ee,activeTab:ae,onActiveTabChange:Ee,isTransferring:Ae,onOpen:ve,collections:Q.map(de=>({bucketId:de.bucketId,marginType:de.marginType}))})]})}function l3e(){return E.jsx(Ehe,{defaultWsURL:_n.wsURL,children:E.jsx(a3e,{})})}function c3e(){return E.jsxs(i3e,{children:[E.jsx("div",{className:"App ADemo",children:E.jsx("main",{className:"App-main",children:E.jsx(l3e,{})})}),E.jsx(_de,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const OU=_Y({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),RU=_Y({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),u3e=Ioe({chains:[OU,RU],connectors:[Sb()],transports:{[OU.id]:kA(),[RU.id]:kA()}}),h3e=new rse,d3e=c3e,f3e=kT.createRoot(document.getElementById("root"));f3e.render(E.jsx(fe.StrictMode,{children:E.jsx(Doe,{config:u3e,children:E.jsx(sse,{client:h3e,children:E.jsx(d3e,{})})})}));
//# sourceMappingURL=index-bsXld1c7.js.map
